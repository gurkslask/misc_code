<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <title>Bokeh Plot</title>
        
        <style>
            /* BEGIN /usr/local/lib/python3.4/dist-packages/bokeh/server/static/css/bokeh.css */
                /*! jQuery UI - v1.10.0 - 2013-01-17
                * http://jqueryui.com
                * Includes: jquery.ui.core.css, jquery.ui.accordion.css, jquery.ui.autocomplete.css, jquery.ui.button.css, jquery.ui.datepicker.css, jquery.ui.dialog.css, jquery.ui.menu.css, jquery.ui.progressbar.css, jquery.ui.resizable.css, jquery.ui.selectable.css, jquery.ui.slider.css, jquery.ui.spinner.css, jquery.ui.tabs.css, jquery.ui.tooltip.css, jquery.ui.theme.css
                * Copyright 2013 jQuery Foundation and other contributors; Licensed MIT */
                
                /* Layout helpers
                ----------------------------------*/
                .ui-helper-hidden {
                	display: none;
                }
                .ui-helper-hidden-accessible {
                	border: 0;
                	clip: rect(0 0 0 0);
                	height: 1px;
                	margin: -1px;
                	overflow: hidden;
                	padding: 0;
                	position: absolute;
                	width: 1px;
                }
                .ui-helper-reset {
                	margin: 0;
                	padding: 0;
                	border: 0;
                	outline: 0;
                	line-height: 1.3;
                	text-decoration: none;
                	font-size: 100%;
                	list-style: none;
                }
                .ui-helper-clearfix:before,
                .ui-helper-clearfix:after {
                	content: "";
                	display: table;
                }
                .ui-helper-clearfix:after {
                	clear: both;
                }
                .ui-helper-clearfix {
                	min-height: 0; /* support: IE7 */
                }
                .ui-helper-zfix {
                	width: 100%;
                	height: 100%;
                	top: 0;
                	left: 0;
                	position: absolute;
                	opacity: 0;
                	filter:Alpha(Opacity=0);
                }
                
                .ui-front {
                	z-index: 100;
                }
                
                
                /* Interaction Cues
                ----------------------------------*/
                .ui-state-disabled {
                	cursor: default !important;
                }
                
                
                /* Icons
                ----------------------------------*/
                
                /* states and images */
                .ui-icon {
                	display: block;
                	text-indent: -99999px;
                	overflow: hidden;
                	background-repeat: no-repeat;
                }
                
                
                /* Misc visuals
                ----------------------------------*/
                
                /* Overlays */
                .ui-widget-overlay {
                	position: fixed;
                	top: 0;
                	left: 0;
                	width: 100%;
                	height: 100%;
                }
                
                .ui-accordion .ui-accordion-header {
                	display: block;
                	cursor: pointer;
                	position: relative;
                	margin-top: 2px;
                	padding: .5em .5em .5em .7em;
                	min-height: 0; /* support: IE7 */
                }
                .ui-accordion .ui-accordion-icons {
                	padding-left: 2.2em;
                }
                .ui-accordion .ui-accordion-noicons {
                	padding-left: .7em;
                }
                .ui-accordion .ui-accordion-icons .ui-accordion-icons {
                	padding-left: 2.2em;
                }
                .ui-accordion .ui-accordion-header .ui-accordion-header-icon {
                	position: absolute;
                	left: .5em;
                	top: 50%;
                	margin-top: -8px;
                }
                .ui-accordion .ui-accordion-content {
                	padding: 1em 2.2em;
                	border-top: 0;
                	overflow: auto;
                }
                
                .ui-autocomplete {
                	position: absolute;
                	top: 0;
                	left: 0;
                	cursor: default;
                }
                
                .ui-button {
                	display: inline-block;
                	position: relative;
                	padding: 0;
                	line-height: normal;
                	margin-right: .1em;
                	cursor: pointer;
                	vertical-align: middle;
                	text-align: center;
                	overflow: visible; /* removes extra width in IE */
                }
                .ui-button,
                .ui-button:link,
                .ui-button:visited,
                .ui-button:hover,
                .ui-button:active {
                	text-decoration: none;
                }
                /* to make room for the icon, a width needs to be set here */
                .ui-button-icon-only {
                	width: 2.2em;
                }
                /* button elements seem to need a little more width */
                button.ui-button-icon-only {
                	width: 2.4em;
                }
                .ui-button-icons-only {
                	width: 3.4em;
                }
                button.ui-button-icons-only {
                	width: 3.7em;
                }
                
                /* button text element */
                .ui-button .ui-button-text {
                	display: block;
                	line-height: normal;
                }
                .ui-button-text-only .ui-button-text {
                	padding: .4em 1em;
                }
                .ui-button-icon-only .ui-button-text,
                .ui-button-icons-only .ui-button-text {
                	padding: .4em;
                	text-indent: -9999999px;
                }
                .ui-button-text-icon-primary .ui-button-text,
                .ui-button-text-icons .ui-button-text {
                	padding: .4em 1em .4em 2.1em;
                }
                .ui-button-text-icon-secondary .ui-button-text,
                .ui-button-text-icons .ui-button-text {
                	padding: .4em 2.1em .4em 1em;
                }
                .ui-button-text-icons .ui-button-text {
                	padding-left: 2.1em;
                	padding-right: 2.1em;
                }
                /* no icon support for input elements, provide padding by default */
                input.ui-button {
                	padding: .4em 1em;
                }
                
                /* button icon element(s) */
                .ui-button-icon-only .ui-icon,
                .ui-button-text-icon-primary .ui-icon,
                .ui-button-text-icon-secondary .ui-icon,
                .ui-button-text-icons .ui-icon,
                .ui-button-icons-only .ui-icon {
                	position: absolute;
                	top: 50%;
                	margin-top: -8px;
                }
                .ui-button-icon-only .ui-icon {
                	left: 50%;
                	margin-left: -8px;
                }
                .ui-button-text-icon-primary .ui-button-icon-primary,
                .ui-button-text-icons .ui-button-icon-primary,
                .ui-button-icons-only .ui-button-icon-primary {
                	left: .5em;
                }
                .ui-button-text-icon-secondary .ui-button-icon-secondary,
                .ui-button-text-icons .ui-button-icon-secondary,
                .ui-button-icons-only .ui-button-icon-secondary {
                	right: .5em;
                }
                
                /* button sets */
                .ui-buttonset {
                	margin-right: 7px;
                }
                .ui-buttonset .ui-button {
                	margin-left: 0;
                	margin-right: -.3em;
                }
                
                /* workarounds */
                /* reset extra padding in Firefox, see h5bp.com/l */
                input.ui-button::-moz-focus-inner,
                button.ui-button::-moz-focus-inner {
                	border: 0;
                	padding: 0;
                }
                
                .ui-datepicker {
                	width: 17em;
                	padding: .2em .2em 0;
                	display: none;
                }
                .ui-datepicker .ui-datepicker-header {
                	position: relative;
                	padding: .2em 0;
                }
                .ui-datepicker .ui-datepicker-prev,
                .ui-datepicker .ui-datepicker-next {
                	position: absolute;
                	top: 2px;
                	width: 1.8em;
                	height: 1.8em;
                }
                .ui-datepicker .ui-datepicker-prev-hover,
                .ui-datepicker .ui-datepicker-next-hover {
                	top: 1px;
                }
                .ui-datepicker .ui-datepicker-prev {
                	left: 2px;
                }
                .ui-datepicker .ui-datepicker-next {
                	right: 2px;
                }
                .ui-datepicker .ui-datepicker-prev-hover {
                	left: 1px;
                }
                .ui-datepicker .ui-datepicker-next-hover {
                	right: 1px;
                }
                .ui-datepicker .ui-datepicker-prev span,
                .ui-datepicker .ui-datepicker-next span {
                	display: block;
                	position: absolute;
                	left: 50%;
                	margin-left: -8px;
                	top: 50%;
                	margin-top: -8px;
                }
                .ui-datepicker .ui-datepicker-title {
                	margin: 0 2.3em;
                	line-height: 1.8em;
                	text-align: center;
                }
                .ui-datepicker .ui-datepicker-title select {
                	font-size: 1em;
                	margin: 1px 0;
                }
                .ui-datepicker select.ui-datepicker-month-year {
                	width: 100%;
                }
                .ui-datepicker select.ui-datepicker-month,
                .ui-datepicker select.ui-datepicker-year {
                	width: 49%;
                }
                .ui-datepicker table {
                	width: 100%;
                	font-size: .9em;
                	border-collapse: collapse;
                	margin: 0 0 .4em;
                }
                .ui-datepicker th {
                	padding: .7em .3em;
                	text-align: center;
                	font-weight: bold;
                	border: 0;
                }
                .ui-datepicker td {
                	border: 0;
                	padding: 1px;
                }
                .ui-datepicker td span,
                .ui-datepicker td a {
                	display: block;
                	padding: .2em;
                	text-align: right;
                	text-decoration: none;
                }
                .ui-datepicker .ui-datepicker-buttonpane {
                	background-image: none;
                	margin: .7em 0 0 0;
                	padding: 0 .2em;
                	border-left: 0;
                	border-right: 0;
                	border-bottom: 0;
                }
                .ui-datepicker .ui-datepicker-buttonpane button {
                	float: right;
                	margin: .5em .2em .4em;
                	cursor: pointer;
                	padding: .2em .6em .3em .6em;
                	width: auto;
                	overflow: visible;
                }
                .ui-datepicker .ui-datepicker-buttonpane button.ui-datepicker-current {
                	float: left;
                }
                
                /* with multiple calendars */
                .ui-datepicker.ui-datepicker-multi {
                	width: auto;
                }
                .ui-datepicker-multi .ui-datepicker-group {
                	float: left;
                }
                .ui-datepicker-multi .ui-datepicker-group table {
                	width: 95%;
                	margin: 0 auto .4em;
                }
                .ui-datepicker-multi-2 .ui-datepicker-group {
                	width: 50%;
                }
                .ui-datepicker-multi-3 .ui-datepicker-group {
                	width: 33.3%;
                }
                .ui-datepicker-multi-4 .ui-datepicker-group {
                	width: 25%;
                }
                .ui-datepicker-multi .ui-datepicker-group-last .ui-datepicker-header,
                .ui-datepicker-multi .ui-datepicker-group-middle .ui-datepicker-header {
                	border-left-width: 0;
                }
                .ui-datepicker-multi .ui-datepicker-buttonpane {
                	clear: left;
                }
                .ui-datepicker-row-break {
                	clear: both;
                	width: 100%;
                	font-size: 0;
                }
                
                /* RTL support */
                .ui-datepicker-rtl {
                	direction: rtl;
                }
                .ui-datepicker-rtl .ui-datepicker-prev {
                	right: 2px;
                	left: auto;
                }
                .ui-datepicker-rtl .ui-datepicker-next {
                	left: 2px;
                	right: auto;
                }
                .ui-datepicker-rtl .ui-datepicker-prev:hover {
                	right: 1px;
                	left: auto;
                }
                .ui-datepicker-rtl .ui-datepicker-next:hover {
                	left: 1px;
                	right: auto;
                }
                .ui-datepicker-rtl .ui-datepicker-buttonpane {
                	clear: right;
                }
                .ui-datepicker-rtl .ui-datepicker-buttonpane button {
                	float: left;
                }
                .ui-datepicker-rtl .ui-datepicker-buttonpane button.ui-datepicker-current,
                .ui-datepicker-rtl .ui-datepicker-group {
                	float: right;
                }
                .ui-datepicker-rtl .ui-datepicker-group-last .ui-datepicker-header,
                .ui-datepicker-rtl .ui-datepicker-group-middle .ui-datepicker-header {
                	border-right-width: 0;
                	border-left-width: 1px;
                }
                
                .ui-dialog {
                	position: absolute;
                	top: 0;
                	left: 0;
                	padding: .2em;
                	outline: 0;
                }
                .ui-dialog .ui-dialog-titlebar {
                	padding: .4em 1em;
                	position: relative;
                }
                .ui-dialog .ui-dialog-title {
                	float: left;
                	margin: .1em 0;
                	white-space: nowrap;
                	width: 90%;
                	overflow: hidden;
                	text-overflow: ellipsis;
                }
                .ui-dialog .ui-dialog-titlebar-close {
                	position: absolute;
                	right: .3em;
                	top: 50%;
                	width: 21px;
                	margin: -10px 0 0 0;
                	padding: 1px;
                	height: 20px;
                }
                .ui-dialog .ui-dialog-content {
                	position: relative;
                	border: 0;
                	padding: .5em 1em;
                	background: none;
                	overflow: auto;
                }
                .ui-dialog .ui-dialog-buttonpane {
                	text-align: left;
                	border-width: 1px 0 0 0;
                	background-image: none;
                	margin-top: .5em;
                	padding: .3em 1em .5em .4em;
                }
                .ui-dialog .ui-dialog-buttonpane .ui-dialog-buttonset {
                	float: right;
                }
                .ui-dialog .ui-dialog-buttonpane button {
                	margin: .5em .4em .5em 0;
                	cursor: pointer;
                }
                .ui-dialog .ui-resizable-se {
                	width: 12px;
                	height: 12px;
                	right: -5px;
                	bottom: -5px;
                	background-position: 16px 16px;
                }
                .ui-draggable .ui-dialog-titlebar {
                	cursor: move;
                }
                
                .ui-menu {
                	list-style: none;
                	padding: 2px;
                	margin: 0;
                	display: block;
                	outline: none;
                }
                .ui-menu .ui-menu {
                	margin-top: -3px;
                	position: absolute;
                }
                .ui-menu .ui-menu-item {
                	margin: 0;
                	padding: 0;
                	width: 100%;
                }
                .ui-menu .ui-menu-divider {
                	margin: 5px -2px 5px -2px;
                	height: 0;
                	font-size: 0;
                	line-height: 0;
                	border-width: 1px 0 0 0;
                }
                .ui-menu .ui-menu-item a {
                	text-decoration: none;
                	display: block;
                	padding: 2px .4em;
                	line-height: 1.5;
                	min-height: 0; /* support: IE7 */
                	font-weight: normal;
                }
                .ui-menu .ui-menu-item a.ui-state-focus,
                .ui-menu .ui-menu-item a.ui-state-active {
                	font-weight: normal;
                	margin: -1px;
                }
                
                .ui-menu .ui-state-disabled {
                	font-weight: normal;
                	margin: .4em 0 .2em;
                	line-height: 1.5;
                }
                .ui-menu .ui-state-disabled a {
                	cursor: default;
                }
                
                /* icon support */
                .ui-menu-icons {
                	position: relative;
                }
                .ui-menu-icons .ui-menu-item a {
                	position: relative;
                	padding-left: 2em;
                }
                
                /* left-aligned */
                .ui-menu .ui-icon {
                	position: absolute;
                	top: .2em;
                	left: .2em;
                }
                
                /* right-aligned */
                .ui-menu .ui-menu-icon {
                	position: static;
                	float: right;
                }
                
                .ui-progressbar {
                	height: 2em;
                	text-align: left;
                	overflow: hidden;
                }
                .ui-progressbar .ui-progressbar-value {
                	margin: -1px;
                	height: 100%;
                }
                .ui-progressbar .ui-progressbar-overlay {
                	background: url("images/animated-overlay.gif");
                	height: 100%;
                	filter: alpha(opacity=25);
                	opacity: 0.25;
                }
                .ui-progressbar-indeterminate .ui-progressbar-value {
                	background-image: none;
                }
                
                .ui-resizable {
                	position: relative;
                }
                .ui-resizable-handle {
                	position: absolute;
                	font-size: 0.1px;
                	display: block;
                }
                .ui-resizable-disabled .ui-resizable-handle,
                .ui-resizable-autohide .ui-resizable-handle {
                	display: none;
                }
                .ui-resizable-n {
                	cursor: n-resize;
                	height: 7px;
                	width: 100%;
                	top: -5px;
                	left: 0;
                }
                .ui-resizable-s {
                	cursor: s-resize;
                	height: 7px;
                	width: 100%;
                	bottom: -5px;
                	left: 0;
                }
                .ui-resizable-e {
                	cursor: e-resize;
                	width: 7px;
                	right: -5px;
                	top: 0;
                	height: 100%;
                }
                .ui-resizable-w {
                	cursor: w-resize;
                	width: 7px;
                	left: -5px;
                	top: 0;
                	height: 100%;
                }
                .ui-resizable-se {
                	cursor: se-resize;
                	width: 12px;
                	height: 12px;
                	right: 1px;
                	bottom: 1px;
                }
                .ui-resizable-sw {
                	cursor: sw-resize;
                	width: 9px;
                	height: 9px;
                	left: -5px;
                	bottom: -5px;
                }
                .ui-resizable-nw {
                	cursor: nw-resize;
                	width: 9px;
                	height: 9px;
                	left: -5px;
                	top: -5px;
                }
                .ui-resizable-ne {
                	cursor: ne-resize;
                	width: 9px;
                	height: 9px;
                	right: -5px;
                	top: -5px;
                }
                
                .ui-selectable-helper {
                	position: absolute;
                	z-index: 100;
                	border: 1px dotted black;
                }
                
                .ui-slider {
                	position: relative;
                	text-align: left;
                }
                .ui-slider .ui-slider-handle {
                	position: absolute;
                	z-index: 2;
                	width: 1.2em;
                	height: 1.2em;
                	cursor: default;
                }
                .ui-slider .ui-slider-range {
                	position: absolute;
                	z-index: 1;
                	font-size: .7em;
                	display: block;
                	border: 0;
                	background-position: 0 0;
                }
                
                /* For IE8 - See #6727 */
                .ui-slider.ui-state-disabled .ui-slider-handle,
                .ui-slider.ui-state-disabled .ui-slider-range {
                	filter: inherit;
                }
                
                .ui-slider-horizontal {
                	height: .8em;
                }
                .ui-slider-horizontal .ui-slider-handle {
                	top: -.3em;
                	margin-left: -.6em;
                }
                .ui-slider-horizontal .ui-slider-range {
                	top: 0;
                	height: 100%;
                }
                .ui-slider-horizontal .ui-slider-range-min {
                	left: 0;
                }
                .ui-slider-horizontal .ui-slider-range-max {
                	right: 0;
                }
                
                .ui-slider-vertical {
                	width: .8em;
                	height: 100px;
                }
                .ui-slider-vertical .ui-slider-handle {
                	left: -.3em;
                	margin-left: 0;
                	margin-bottom: -.6em;
                }
                .ui-slider-vertical .ui-slider-range {
                	left: 0;
                	width: 100%;
                }
                .ui-slider-vertical .ui-slider-range-min {
                	bottom: 0;
                }
                .ui-slider-vertical .ui-slider-range-max {
                	top: 0;
                }
                
                .ui-spinner {
                	position: relative;
                	display: inline-block;
                	overflow: hidden;
                	padding: 0;
                	vertical-align: middle;
                }
                .ui-spinner-input {
                	border: none;
                	background: none;
                	color: inherit;
                	padding: 0;
                	margin: .2em 0;
                	vertical-align: middle;
                	margin-left: .4em;
                	margin-right: 22px;
                }
                .ui-spinner-button {
                	width: 16px;
                	height: 50%;
                	font-size: .5em;
                	padding: 0;
                	margin: 0;
                	text-align: center;
                	position: absolute;
                	cursor: default;
                	display: block;
                	overflow: hidden;
                	right: 0;
                }
                /* more specificity required here to overide default borders */
                .ui-spinner a.ui-spinner-button {
                	border-top: none;
                	border-bottom: none;
                	border-right: none;
                }
                /* vertical centre icon */
                .ui-spinner .ui-icon {
                	position: absolute;
                	margin-top: -8px;
                	top: 50%;
                	left: 0;
                }
                .ui-spinner-up {
                	top: 0;
                }
                .ui-spinner-down {
                	bottom: 0;
                }
                
                /* TR overrides */
                .ui-spinner .ui-icon-triangle-1-s {
                	/* need to fix icons sprite */
                	background-position: -65px -16px;
                }
                
                .ui-tabs {
                	position: relative;/* position: relative prevents IE scroll bug (element with position: relative inside container with overflow: auto appear as "fixed") */
                	padding: .2em;
                }
                .ui-tabs .ui-tabs-nav {
                	margin: 0;
                	padding: .2em .2em 0;
                }
                .ui-tabs .ui-tabs-nav li {
                	list-style: none;
                	float: left;
                	position: relative;
                	top: 0;
                	margin: 1px .2em 0 0;
                	border-bottom: 0;
                	padding: 0;
                	white-space: nowrap;
                }
                .ui-tabs .ui-tabs-nav li a {
                	float: left;
                	padding: .5em 1em;
                	text-decoration: none;
                }
                .ui-tabs .ui-tabs-nav li.ui-tabs-active {
                	margin-bottom: -1px;
                	padding-bottom: 1px;
                }
                .ui-tabs .ui-tabs-nav li.ui-tabs-active a,
                .ui-tabs .ui-tabs-nav li.ui-state-disabled a,
                .ui-tabs .ui-tabs-nav li.ui-tabs-loading a {
                	cursor: text;
                }
                .ui-tabs .ui-tabs-nav li a, /* first selector in group seems obsolete, but required to overcome bug in Opera applying cursor: text overall if defined elsewhere... */
                .ui-tabs-collapsible .ui-tabs-nav li.ui-tabs-active a {
                	cursor: pointer;
                }
                .ui-tabs .ui-tabs-panel {
                	display: block;
                	border-width: 0;
                	padding: 1em 1.4em;
                	background: none;
                }
                
                .ui-tooltip {
                	padding: 8px;
                	position: absolute;
                	z-index: 9999;
                	max-width: 300px;
                	-webkit-box-shadow: 0 0 5px #aaa;
                	box-shadow: 0 0 5px #aaa;
                }
                body .ui-tooltip {
                	border-width: 2px;
                }
                
                /* Component containers
                ----------------------------------*/
                .ui-widget {
                	font-family: Verdana,Arial,sans-serif/*{ffDefault}*/;
                	font-size: 1.1em/*{fsDefault}*/;
                }
                .ui-widget .ui-widget {
                	font-size: 1em;
                }
                .ui-widget input,
                .ui-widget select,
                .ui-widget textarea,
                .ui-widget button {
                	font-family: Verdana,Arial,sans-serif/*{ffDefault}*/;
                	font-size: 1em;
                }
                .ui-widget-content {
                	border: 1px solid #aaaaaa/*{borderColorContent}*/;
                	background: #ffffff/*{bgColorContent}*/ url(images/ui-bg_flat_75_ffffff_40x100.png)/*{bgImgUrlContent}*/ 50%/*{bgContentXPos}*/ 50%/*{bgContentYPos}*/ repeat-x/*{bgContentRepeat}*/;
                	color: #222222/*{fcContent}*/;
                }
                .ui-widget-content a {
                	color: #222222/*{fcContent}*/;
                }
                .ui-widget-header {
                	border: 1px solid #aaaaaa/*{borderColorHeader}*/;
                	background: #cccccc/*{bgColorHeader}*/ url(images/ui-bg_highlight-soft_75_cccccc_1x100.png)/*{bgImgUrlHeader}*/ 50%/*{bgHeaderXPos}*/ 50%/*{bgHeaderYPos}*/ repeat-x/*{bgHeaderRepeat}*/;
                	color: #222222/*{fcHeader}*/;
                	font-weight: bold;
                }
                .ui-widget-header a {
                	color: #222222/*{fcHeader}*/;
                }
                
                /* Interaction states
                ----------------------------------*/
                .ui-state-default,
                .ui-widget-content .ui-state-default,
                .ui-widget-header .ui-state-default {
                	border: 1px solid #d3d3d3/*{borderColorDefault}*/;
                	background: #e6e6e6/*{bgColorDefault}*/ url(images/ui-bg_glass_75_e6e6e6_1x400.png)/*{bgImgUrlDefault}*/ 50%/*{bgDefaultXPos}*/ 50%/*{bgDefaultYPos}*/ repeat-x/*{bgDefaultRepeat}*/;
                	font-weight: normal/*{fwDefault}*/;
                	color: #555555/*{fcDefault}*/;
                }
                .ui-state-default a,
                .ui-state-default a:link,
                .ui-state-default a:visited {
                	color: #555555/*{fcDefault}*/;
                	text-decoration: none;
                }
                .ui-state-hover,
                .ui-widget-content .ui-state-hover,
                .ui-widget-header .ui-state-hover,
                .ui-state-focus,
                .ui-widget-content .ui-state-focus,
                .ui-widget-header .ui-state-focus {
                	border: 1px solid #999999/*{borderColorHover}*/;
                	background: #dadada/*{bgColorHover}*/ url(images/ui-bg_glass_75_dadada_1x400.png)/*{bgImgUrlHover}*/ 50%/*{bgHoverXPos}*/ 50%/*{bgHoverYPos}*/ repeat-x/*{bgHoverRepeat}*/;
                	font-weight: normal/*{fwDefault}*/;
                	color: #212121/*{fcHover}*/;
                }
                .ui-state-hover a,
                .ui-state-hover a:hover,
                .ui-state-hover a:link,
                .ui-state-hover a:visited {
                	color: #212121/*{fcHover}*/;
                	text-decoration: none;
                }
                .ui-state-active,
                .ui-widget-content .ui-state-active,
                .ui-widget-header .ui-state-active {
                	border: 1px solid #aaaaaa/*{borderColorActive}*/;
                	background: #ffffff/*{bgColorActive}*/ url(images/ui-bg_glass_65_ffffff_1x400.png)/*{bgImgUrlActive}*/ 50%/*{bgActiveXPos}*/ 50%/*{bgActiveYPos}*/ repeat-x/*{bgActiveRepeat}*/;
                	font-weight: normal/*{fwDefault}*/;
                	color: #212121/*{fcActive}*/;
                }
                .ui-state-active a,
                .ui-state-active a:link,
                .ui-state-active a:visited {
                	color: #212121/*{fcActive}*/;
                	text-decoration: none;
                }
                
                /* Interaction Cues
                ----------------------------------*/
                .ui-state-highlight,
                .ui-widget-content .ui-state-highlight,
                .ui-widget-header .ui-state-highlight {
                	border: 1px solid #fcefa1/*{borderColorHighlight}*/;
                	background: #fbf9ee/*{bgColorHighlight}*/ url(images/ui-bg_glass_55_fbf9ee_1x400.png)/*{bgImgUrlHighlight}*/ 50%/*{bgHighlightXPos}*/ 50%/*{bgHighlightYPos}*/ repeat-x/*{bgHighlightRepeat}*/;
                	color: #363636/*{fcHighlight}*/;
                }
                .ui-state-highlight a,
                .ui-widget-content .ui-state-highlight a,
                .ui-widget-header .ui-state-highlight a {
                	color: #363636/*{fcHighlight}*/;
                }
                .ui-state-error,
                .ui-widget-content .ui-state-error,
                .ui-widget-header .ui-state-error {
                	border: 1px solid #cd0a0a/*{borderColorError}*/;
                	background: #fef1ec/*{bgColorError}*/ url(images/ui-bg_glass_95_fef1ec_1x400.png)/*{bgImgUrlError}*/ 50%/*{bgErrorXPos}*/ 50%/*{bgErrorYPos}*/ repeat-x/*{bgErrorRepeat}*/;
                	color: #cd0a0a/*{fcError}*/;
                }
                .ui-state-error a,
                .ui-widget-content .ui-state-error a,
                .ui-widget-header .ui-state-error a {
                	color: #cd0a0a/*{fcError}*/;
                }
                .ui-state-error-text,
                .ui-widget-content .ui-state-error-text,
                .ui-widget-header .ui-state-error-text {
                	color: #cd0a0a/*{fcError}*/;
                }
                .ui-priority-primary,
                .ui-widget-content .ui-priority-primary,
                .ui-widget-header .ui-priority-primary {
                	font-weight: bold;
                }
                .ui-priority-secondary,
                .ui-widget-content .ui-priority-secondary,
                .ui-widget-header .ui-priority-secondary {
                	opacity: .7;
                	filter:Alpha(Opacity=70);
                	font-weight: normal;
                }
                .ui-state-disabled,
                .ui-widget-content .ui-state-disabled,
                .ui-widget-header .ui-state-disabled {
                	opacity: .35;
                	filter:Alpha(Opacity=35);
                	background-image: none;
                }
                .ui-state-disabled .ui-icon {
                	filter:Alpha(Opacity=35); /* For IE8 - See #6059 */
                }
                
                /* Icons
                ----------------------------------*/
                
                /* states and images */
                .ui-icon {
                	width: 16px;
                	height: 16px;
                	background-position: 16px 16px;
                }
                .ui-icon,
                .ui-widget-content .ui-icon {
                	background-image: url(images/ui-icons_222222_256x240.png)/*{iconsContent}*/;
                }
                .ui-widget-header .ui-icon {
                	background-image: url(images/ui-icons_222222_256x240.png)/*{iconsHeader}*/;
                }
                .ui-state-default .ui-icon {
                	background-image: url(images/ui-icons_888888_256x240.png)/*{iconsDefault}*/;
                }
                .ui-state-hover .ui-icon,
                .ui-state-focus .ui-icon {
                	background-image: url(images/ui-icons_454545_256x240.png)/*{iconsHover}*/;
                }
                .ui-state-active .ui-icon {
                	background-image: url(images/ui-icons_454545_256x240.png)/*{iconsActive}*/;
                }
                .ui-state-highlight .ui-icon {
                	background-image: url(images/ui-icons_2e83ff_256x240.png)/*{iconsHighlight}*/;
                }
                .ui-state-error .ui-icon,
                .ui-state-error-text .ui-icon {
                	background-image: url(images/ui-icons_cd0a0a_256x240.png)/*{iconsError}*/;
                }
                
                /* positioning */
                .ui-icon-carat-1-n { background-position: 0 0; }
                .ui-icon-carat-1-ne { background-position: -16px 0; }
                .ui-icon-carat-1-e { background-position: -32px 0; }
                .ui-icon-carat-1-se { background-position: -48px 0; }
                .ui-icon-carat-1-s { background-position: -64px 0; }
                .ui-icon-carat-1-sw { background-position: -80px 0; }
                .ui-icon-carat-1-w { background-position: -96px 0; }
                .ui-icon-carat-1-nw { background-position: -112px 0; }
                .ui-icon-carat-2-n-s { background-position: -128px 0; }
                .ui-icon-carat-2-e-w { background-position: -144px 0; }
                .ui-icon-triangle-1-n { background-position: 0 -16px; }
                .ui-icon-triangle-1-ne { background-position: -16px -16px; }
                .ui-icon-triangle-1-e { background-position: -32px -16px; }
                .ui-icon-triangle-1-se { background-position: -48px -16px; }
                .ui-icon-triangle-1-s { background-position: -64px -16px; }
                .ui-icon-triangle-1-sw { background-position: -80px -16px; }
                .ui-icon-triangle-1-w { background-position: -96px -16px; }
                .ui-icon-triangle-1-nw { background-position: -112px -16px; }
                .ui-icon-triangle-2-n-s { background-position: -128px -16px; }
                .ui-icon-triangle-2-e-w { background-position: -144px -16px; }
                .ui-icon-arrow-1-n { background-position: 0 -32px; }
                .ui-icon-arrow-1-ne { background-position: -16px -32px; }
                .ui-icon-arrow-1-e { background-position: -32px -32px; }
                .ui-icon-arrow-1-se { background-position: -48px -32px; }
                .ui-icon-arrow-1-s { background-position: -64px -32px; }
                .ui-icon-arrow-1-sw { background-position: -80px -32px; }
                .ui-icon-arrow-1-w { background-position: -96px -32px; }
                .ui-icon-arrow-1-nw { background-position: -112px -32px; }
                .ui-icon-arrow-2-n-s { background-position: -128px -32px; }
                .ui-icon-arrow-2-ne-sw { background-position: -144px -32px; }
                .ui-icon-arrow-2-e-w { background-position: -160px -32px; }
                .ui-icon-arrow-2-se-nw { background-position: -176px -32px; }
                .ui-icon-arrowstop-1-n { background-position: -192px -32px; }
                .ui-icon-arrowstop-1-e { background-position: -208px -32px; }
                .ui-icon-arrowstop-1-s { background-position: -224px -32px; }
                .ui-icon-arrowstop-1-w { background-position: -240px -32px; }
                .ui-icon-arrowthick-1-n { background-position: 0 -48px; }
                .ui-icon-arrowthick-1-ne { background-position: -16px -48px; }
                .ui-icon-arrowthick-1-e { background-position: -32px -48px; }
                .ui-icon-arrowthick-1-se { background-position: -48px -48px; }
                .ui-icon-arrowthick-1-s { background-position: -64px -48px; }
                .ui-icon-arrowthick-1-sw { background-position: -80px -48px; }
                .ui-icon-arrowthick-1-w { background-position: -96px -48px; }
                .ui-icon-arrowthick-1-nw { background-position: -112px -48px; }
                .ui-icon-arrowthick-2-n-s { background-position: -128px -48px; }
                .ui-icon-arrowthick-2-ne-sw { background-position: -144px -48px; }
                .ui-icon-arrowthick-2-e-w { background-position: -160px -48px; }
                .ui-icon-arrowthick-2-se-nw { background-position: -176px -48px; }
                .ui-icon-arrowthickstop-1-n { background-position: -192px -48px; }
                .ui-icon-arrowthickstop-1-e { background-position: -208px -48px; }
                .ui-icon-arrowthickstop-1-s { background-position: -224px -48px; }
                .ui-icon-arrowthickstop-1-w { background-position: -240px -48px; }
                .ui-icon-arrowreturnthick-1-w { background-position: 0 -64px; }
                .ui-icon-arrowreturnthick-1-n { background-position: -16px -64px; }
                .ui-icon-arrowreturnthick-1-e { background-position: -32px -64px; }
                .ui-icon-arrowreturnthick-1-s { background-position: -48px -64px; }
                .ui-icon-arrowreturn-1-w { background-position: -64px -64px; }
                .ui-icon-arrowreturn-1-n { background-position: -80px -64px; }
                .ui-icon-arrowreturn-1-e { background-position: -96px -64px; }
                .ui-icon-arrowreturn-1-s { background-position: -112px -64px; }
                .ui-icon-arrowrefresh-1-w { background-position: -128px -64px; }
                .ui-icon-arrowrefresh-1-n { background-position: -144px -64px; }
                .ui-icon-arrowrefresh-1-e { background-position: -160px -64px; }
                .ui-icon-arrowrefresh-1-s { background-position: -176px -64px; }
                .ui-icon-arrow-4 { background-position: 0 -80px; }
                .ui-icon-arrow-4-diag { background-position: -16px -80px; }
                .ui-icon-extlink { background-position: -32px -80px; }
                .ui-icon-newwin { background-position: -48px -80px; }
                .ui-icon-refresh { background-position: -64px -80px; }
                .ui-icon-shuffle { background-position: -80px -80px; }
                .ui-icon-transfer-e-w { background-position: -96px -80px; }
                .ui-icon-transferthick-e-w { background-position: -112px -80px; }
                .ui-icon-folder-collapsed { background-position: 0 -96px; }
                .ui-icon-folder-open { background-position: -16px -96px; }
                .ui-icon-document { background-position: -32px -96px; }
                .ui-icon-document-b { background-position: -48px -96px; }
                .ui-icon-note { background-position: -64px -96px; }
                .ui-icon-mail-closed { background-position: -80px -96px; }
                .ui-icon-mail-open { background-position: -96px -96px; }
                .ui-icon-suitcase { background-position: -112px -96px; }
                .ui-icon-comment { background-position: -128px -96px; }
                .ui-icon-person { background-position: -144px -96px; }
                .ui-icon-print { background-position: -160px -96px; }
                .ui-icon-trash { background-position: -176px -96px; }
                .ui-icon-locked { background-position: -192px -96px; }
                .ui-icon-unlocked { background-position: -208px -96px; }
                .ui-icon-bookmark { background-position: -224px -96px; }
                .ui-icon-tag { background-position: -240px -96px; }
                .ui-icon-home { background-position: 0 -112px; }
                .ui-icon-flag { background-position: -16px -112px; }
                .ui-icon-calendar { background-position: -32px -112px; }
                .ui-icon-cart { background-position: -48px -112px; }
                .ui-icon-pencil { background-position: -64px -112px; }
                .ui-icon-clock { background-position: -80px -112px; }
                .ui-icon-disk { background-position: -96px -112px; }
                .ui-icon-calculator { background-position: -112px -112px; }
                .ui-icon-zoomin { background-position: -128px -112px; }
                .ui-icon-zoomout { background-position: -144px -112px; }
                .ui-icon-search { background-position: -160px -112px; }
                .ui-icon-wrench { background-position: -176px -112px; }
                .ui-icon-gear { background-position: -192px -112px; }
                .ui-icon-heart { background-position: -208px -112px; }
                .ui-icon-star { background-position: -224px -112px; }
                .ui-icon-link { background-position: -240px -112px; }
                .ui-icon-cancel { background-position: 0 -128px; }
                .ui-icon-plus { background-position: -16px -128px; }
                .ui-icon-plusthick { background-position: -32px -128px; }
                .ui-icon-minus { background-position: -48px -128px; }
                .ui-icon-minusthick { background-position: -64px -128px; }
                .ui-icon-close { background-position: -80px -128px; }
                .ui-icon-closethick { background-position: -96px -128px; }
                .ui-icon-key { background-position: -112px -128px; }
                .ui-icon-lightbulb { background-position: -128px -128px; }
                .ui-icon-scissors { background-position: -144px -128px; }
                .ui-icon-clipboard { background-position: -160px -128px; }
                .ui-icon-copy { background-position: -176px -128px; }
                .ui-icon-contact { background-position: -192px -128px; }
                .ui-icon-image { background-position: -208px -128px; }
                .ui-icon-video { background-position: -224px -128px; }
                .ui-icon-script { background-position: -240px -128px; }
                .ui-icon-alert { background-position: 0 -144px; }
                .ui-icon-info { background-position: -16px -144px; }
                .ui-icon-notice { background-position: -32px -144px; }
                .ui-icon-help { background-position: -48px -144px; }
                .ui-icon-check { background-position: -64px -144px; }
                .ui-icon-bullet { background-position: -80px -144px; }
                .ui-icon-radio-on { background-position: -96px -144px; }
                .ui-icon-radio-off { background-position: -112px -144px; }
                .ui-icon-pin-w { background-position: -128px -144px; }
                .ui-icon-pin-s { background-position: -144px -144px; }
                .ui-icon-play { background-position: 0 -160px; }
                .ui-icon-pause { background-position: -16px -160px; }
                .ui-icon-seek-next { background-position: -32px -160px; }
                .ui-icon-seek-prev { background-position: -48px -160px; }
                .ui-icon-seek-end { background-position: -64px -160px; }
                .ui-icon-seek-start { background-position: -80px -160px; }
                /* ui-icon-seek-first is deprecated, use ui-icon-seek-start instead */
                .ui-icon-seek-first { background-position: -80px -160px; }
                .ui-icon-stop { background-position: -96px -160px; }
                .ui-icon-eject { background-position: -112px -160px; }
                .ui-icon-volume-off { background-position: -128px -160px; }
                .ui-icon-volume-on { background-position: -144px -160px; }
                .ui-icon-power { background-position: 0 -176px; }
                .ui-icon-signal-diag { background-position: -16px -176px; }
                .ui-icon-signal { background-position: -32px -176px; }
                .ui-icon-battery-0 { background-position: -48px -176px; }
                .ui-icon-battery-1 { background-position: -64px -176px; }
                .ui-icon-battery-2 { background-position: -80px -176px; }
                .ui-icon-battery-3 { background-position: -96px -176px; }
                .ui-icon-circle-plus { background-position: 0 -192px; }
                .ui-icon-circle-minus { background-position: -16px -192px; }
                .ui-icon-circle-close { background-position: -32px -192px; }
                .ui-icon-circle-triangle-e { background-position: -48px -192px; }
                .ui-icon-circle-triangle-s { background-position: -64px -192px; }
                .ui-icon-circle-triangle-w { background-position: -80px -192px; }
                .ui-icon-circle-triangle-n { background-position: -96px -192px; }
                .ui-icon-circle-arrow-e { background-position: -112px -192px; }
                .ui-icon-circle-arrow-s { background-position: -128px -192px; }
                .ui-icon-circle-arrow-w { background-position: -144px -192px; }
                .ui-icon-circle-arrow-n { background-position: -160px -192px; }
                .ui-icon-circle-zoomin { background-position: -176px -192px; }
                .ui-icon-circle-zoomout { background-position: -192px -192px; }
                .ui-icon-circle-check { background-position: -208px -192px; }
                .ui-icon-circlesmall-plus { background-position: 0 -208px; }
                .ui-icon-circlesmall-minus { background-position: -16px -208px; }
                .ui-icon-circlesmall-close { background-position: -32px -208px; }
                .ui-icon-squaresmall-plus { background-position: -48px -208px; }
                .ui-icon-squaresmall-minus { background-position: -64px -208px; }
                .ui-icon-squaresmall-close { background-position: -80px -208px; }
                .ui-icon-grip-dotted-vertical { background-position: 0 -224px; }
                .ui-icon-grip-dotted-horizontal { background-position: -16px -224px; }
                .ui-icon-grip-solid-vertical { background-position: -32px -224px; }
                .ui-icon-grip-solid-horizontal { background-position: -48px -224px; }
                .ui-icon-gripsmall-diagonal-se { background-position: -64px -224px; }
                .ui-icon-grip-diagonal-se { background-position: -80px -224px; }
                
                
                /* Misc visuals
                ----------------------------------*/
                
                /* Corner radius */
                .ui-corner-all,
                .ui-corner-top,
                .ui-corner-left,
                .ui-corner-tl {
                	border-top-left-radius: 4px/*{cornerRadius}*/;
                }
                .ui-corner-all,
                .ui-corner-top,
                .ui-corner-right,
                .ui-corner-tr {
                	border-top-right-radius: 4px/*{cornerRadius}*/;
                }
                .ui-corner-all,
                .ui-corner-bottom,
                .ui-corner-left,
                .ui-corner-bl {
                	border-bottom-left-radius: 4px/*{cornerRadius}*/;
                }
                .ui-corner-all,
                .ui-corner-bottom,
                .ui-corner-right,
                .ui-corner-br {
                	border-bottom-right-radius: 4px/*{cornerRadius}*/;
                }
                
                /* Overlays */
                .ui-widget-overlay {
                	background: #aaaaaa/*{bgColorOverlay}*/ url(images/ui-bg_flat_0_aaaaaa_40x100.png)/*{bgImgUrlOverlay}*/ 50%/*{bgOverlayXPos}*/ 50%/*{bgOverlayYPos}*/ repeat-x/*{bgOverlayRepeat}*/;
                	opacity: .3/*{opacityOverlay}*/;
                	filter: Alpha(Opacity=30)/*{opacityFilterOverlay}*/;
                }
                .ui-widget-shadow {
                	margin: -8px/*{offsetTopShadow}*/ 0 0 -8px/*{offsetLeftShadow}*/;
                	padding: 8px/*{thicknessShadow}*/;
                	background: #aaaaaa/*{bgColorShadow}*/ url(images/ui-bg_flat_0_aaaaaa_40x100.png)/*{bgImgUrlShadow}*/ 50%/*{bgShadowXPos}*/ 50%/*{bgShadowYPos}*/ repeat-x/*{bgShadowRepeat}*/;
                	opacity: .3/*{opacityShadow}*/;
                	filter: Alpha(Opacity=30)/*{opacityFilterShadow}*/;
                	border-radius: 8px/*{cornerRadiusShadow}*/;
                }
                .jstree-node,.jstree-children,.jstree-container-ul{display:block;margin:0;padding:0;list-style-type:none;list-style-image:none}.jstree-node{white-space:nowrap}.jstree-anchor{display:inline-block;color:#000;white-space:nowrap;padding:0 4px 0 1px;margin:0;vertical-align:top}.jstree-anchor:focus{outline:0}.jstree-anchor,.jstree-anchor:link,.jstree-anchor:visited,.jstree-anchor:hover,.jstree-anchor:active{text-decoration:none;color:inherit}.jstree-icon{display:inline-block;text-decoration:none;margin:0;padding:0;vertical-align:top;text-align:center}.jstree-icon:empty{display:inline-block;text-decoration:none;margin:0;padding:0;vertical-align:top;text-align:center}.jstree-ocl{cursor:pointer}.jstree .jstree-open>.jstree-children{display:block}.jstree .jstree-closed>.jstree-children,.jstree .jstree-leaf>.jstree-children{display:none}.jstree-anchor>.jstree-themeicon{margin-right:2px}.jstree-no-icons .jstree-themeicon,.jstree-anchor>.jstree-themeicon-hidden{display:none}.jstree-rtl .jstree-anchor{padding:0 1px 0 4px}.jstree-rtl .jstree-anchor>.jstree-themeicon{margin-left:2px;margin-right:0}.jstree-rtl .jstree-node{margin-left:0}.jstree-rtl .jstree-container-ul>.jstree-node{margin-right:0}.jstree-wholerow-ul{position:relative;display:inline-block;min-width:100%}.jstree-wholerow-ul .jstree-anchor,.jstree-wholerow-ul .jstree-icon{position:relative}.jstree-wholerow-ul .jstree-wholerow{width:100%;cursor:pointer;position:absolute;left:0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.vakata-context{display:none}.vakata-context,.vakata-context ul{margin:0;padding:2px;position:absolute;background:#f5f5f5;border:1px solid #979797;-moz-box-shadow:5px 5px 4px -4px #666;-webkit-box-shadow:2px 2px 2px #999;box-shadow:2px 2px 2px #999}.vakata-context ul{list-style:none;left:100%;margin-top:-2.7em;margin-left:-4px}.vakata-context .vakata-context-right ul{left:auto;right:100%;margin-left:auto;margin-right:-4px}.vakata-context li{list-style:none;display:inline}.vakata-context li>a{display:block;padding:0 2em;text-decoration:none;width:auto;color:#000;white-space:nowrap;line-height:2.4em;-moz-text-shadow:1px 1px 0 #fff;-webkit-text-shadow:1px 1px 0 #fff;text-shadow:1px 1px 0 #fff;-moz-border-radius:1px;-webkit-border-radius:1px;border-radius:1px}.vakata-context li>a:hover{position:relative;background-color:#e8eff7;-moz-box-shadow:0 0 2px #0a6aa1;-webkit-box-shadow:0 0 2px #0a6aa1;box-shadow:0 0 2px #0a6aa1}.vakata-context li>a.vakata-context-parent{background-image:url(data:image/gif;base64,R0lGODlhCwAHAIAAACgoKP///yH5BAEAAAEALAAAAAALAAcAAAIORI4JlrqN1oMSnmmZDQUAOw==);background-position:right center;background-repeat:no-repeat}.vakata-context li>a:focus{outline:0}.vakata-context .vakata-context-hover>a{position:relative;background-color:#e8eff7;-moz-box-shadow:0 0 2px #0a6aa1;-webkit-box-shadow:0 0 2px #0a6aa1;box-shadow:0 0 2px #0a6aa1}.vakata-context .vakata-context-separator a,.vakata-context .vakata-context-separator a:hover{background:#fff;border:0;border-top:1px solid #e2e3e3;height:1px;min-height:1px;max-height:1px;padding:0;margin:0 0 0 2.4em;border-left:1px solid #e0e0e0;-moz-text-shadow:0 0 0 transparent;-webkit-text-shadow:0 0 0 transparent;text-shadow:0 0 0 transparent;-moz-box-shadow:0 0 0 transparent;-webkit-box-shadow:0 0 0 transparent;box-shadow:0 0 0 transparent;-moz-border-radius:0;-webkit-border-radius:0;border-radius:0}.vakata-context .vakata-contextmenu-disabled a,.vakata-context .vakata-contextmenu-disabled a:hover{color:silver;background-color:transparent;border:0;box-shadow:0 0 0}.vakata-context li>a>i{text-decoration:none;display:inline-block;width:2.4em;height:2.4em;background:0 0;margin:0 0 0 -2em;vertical-align:top;text-align:center;line-height:2.4em}.vakata-context li>a>i:empty{width:2.4em;line-height:2.4em}.vakata-context li>a .vakata-contextmenu-sep{display:inline-block;width:1px;height:2.4em;background:#fff;margin:0 .5em 0 0;border-left:1px solid #e2e3e3}.vakata-context .vakata-contextmenu-shortcut{font-size:.8em;color:silver;opacity:.5;display:none}.vakata-context-rtl ul{left:auto;right:100%;margin-left:auto;margin-right:-4px}.vakata-context-rtl li>a.vakata-context-parent{background-image:url(data:image/gif;base64,R0lGODlhCwAHAIAAACgoKP///yH5BAEAAAEALAAAAAALAAcAAAINjI+AC7rWHIsPtmoxLAA7);background-position:left center;background-repeat:no-repeat}.vakata-context-rtl .vakata-context-separator>a{margin:0 2.4em 0 0;border-left:0;border-right:1px solid #e2e3e3}.vakata-context-rtl .vakata-context-left ul{right:auto;left:100%;margin-left:-4px;margin-right:auto}.vakata-context-rtl li>a>i{margin:0 -2em 0 0}.vakata-context-rtl li>a .vakata-contextmenu-sep{margin:0 0 0 .5em;border-left-color:#fff;background:#e2e3e3}#jstree-marker{position:absolute;top:0;left:0;margin:0;padding:0;border-right:0;border-top:5px solid transparent;border-bottom:5px solid transparent;border-left:5px solid;width:0;height:0;font-size:0;line-height:0}#jstree-dnd{line-height:16px;margin:0;padding:4px}#jstree-dnd .jstree-icon,#jstree-dnd .jstree-copy{display:inline-block;text-decoration:none;margin:0 2px 0 0;padding:0;width:16px;height:16px}#jstree-dnd .jstree-ok{background:green}#jstree-dnd .jstree-er{background:red}#jstree-dnd .jstree-copy{margin:0 2px}.jstree-default .jstree-node,.jstree-default .jstree-icon{background-repeat:no-repeat;background-color:transparent}.jstree-default .jstree-anchor,.jstree-default .jstree-wholerow{transition:background-color .15s,box-shadow .15s}.jstree-default .jstree-hovered{background:#e7f4f9;border-radius:2px;box-shadow:inset 0 0 1px #ccc}.jstree-default .jstree-clicked{background:#beebff;border-radius:2px;box-shadow:inset 0 0 1px #999}.jstree-default .jstree-no-icons .jstree-anchor>.jstree-themeicon{display:none}.jstree-default .jstree-disabled{background:0 0;color:#666}.jstree-default .jstree-disabled.jstree-hovered{background:0 0;box-shadow:none}.jstree-default .jstree-disabled.jstree-clicked{background:#efefef}.jstree-default .jstree-disabled>.jstree-icon{opacity:.8;filter:url("data:image/svg+xml;utf8,<svg xmlns=\'http://www.w3.org/2000/svg\'><filter id=\'jstree-grayscale\'><feColorMatrix type=\'matrix\' values=\'0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0\'/></filter></svg>#jstree-grayscale");filter:gray;-webkit-filter:grayscale(100%)}.jstree-default .jstree-search{font-style:italic;color:#8b0000;font-weight:700}.jstree-default .jstree-no-checkboxes .jstree-checkbox{display:none!important}.jstree-default.jstree-checkbox-no-clicked .jstree-clicked{background:0 0;box-shadow:none}.jstree-default.jstree-checkbox-no-clicked .jstree-clicked.jstree-hovered{background:#e7f4f9}.jstree-default.jstree-checkbox-no-clicked>.jstree-wholerow-ul .jstree-wholerow-clicked{background:0 0}.jstree-default.jstree-checkbox-no-clicked>.jstree-wholerow-ul .jstree-wholerow-clicked.jstree-wholerow-hovered{background:#e7f4f9}#jstree-dnd.jstree-default .jstree-ok,#jstree-dnd.jstree-default .jstree-er{background-image:url(32px.png);background-repeat:no-repeat;background-color:transparent}#jstree-dnd.jstree-default i{background:0 0;width:16px;height:16px}#jstree-dnd.jstree-default .jstree-ok{background-position:-9px -71px}#jstree-dnd.jstree-default .jstree-er{background-position:-39px -71px}.jstree-default>.jstree-striped{background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAAkCAMAAAB/qqA+AAAABlBMVEUAAAAAAAClZ7nPAAAAAnRSTlMNAMM9s3UAAAAXSURBVHjajcEBAQAAAIKg/H/aCQZ70AUBjAATb6YPDgAAAABJRU5ErkJggg==) left top repeat}.jstree-default>.jstree-wholerow-ul .jstree-hovered,.jstree-default>.jstree-wholerow-ul .jstree-clicked{background:0 0;box-shadow:none;border-radius:0}.jstree-default .jstree-wholerow{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}.jstree-default .jstree-wholerow-hovered{background:#e7f4f9}.jstree-default .jstree-wholerow-clicked{background:#beebff;background:-moz-linear-gradient(top,#beebff 0,#a8e4ff 100%);background:-webkit-gradient(linear,left top,left bottom,color-stop(0,#beebff),color-stop(100%,#a8e4ff));background:-webkit-linear-gradient(top,#beebff 0,#a8e4ff 100%);background:-o-linear-gradient(top,#beebff 0,#a8e4ff 100%);background:-ms-linear-gradient(top,#beebff 0,#a8e4ff 100%);background:linear-gradient(to bottom,#beebff 0,#a8e4ff 100%)}.jstree-default .jstree-node{min-height:24px;line-height:24px;margin-left:24px;min-width:24px}.jstree-default .jstree-anchor{line-height:24px;height:24px}.jstree-default .jstree-icon{width:24px;height:24px;line-height:24px}.jstree-default .jstree-icon:empty{width:24px;height:24px;line-height:24px}.jstree-default.jstree-rtl .jstree-node{margin-right:24px}.jstree-default .jstree-wholerow{height:24px}.jstree-default .jstree-node,.jstree-default .jstree-icon{background-image:url(32px.png)}.jstree-default .jstree-node{background-position:-292px -4px;background-repeat:repeat-y}.jstree-default .jstree-last{background:0 0}.jstree-default .jstree-open>.jstree-ocl{background-position:-132px -4px}.jstree-default .jstree-closed>.jstree-ocl{background-position:-100px -4px}.jstree-default .jstree-leaf>.jstree-ocl{background-position:-68px -4px}.jstree-default .jstree-anchor>.jstree-themeicon{background-position:-260px -4px}.jstree-default>.jstree-no-dots .jstree-node,.jstree-default>.jstree-no-dots .jstree-leaf>.jstree-ocl{background:0 0}.jstree-default>.jstree-no-dots .jstree-open>.jstree-ocl{background-position:-36px -4px}.jstree-default>.jstree-no-dots .jstree-closed>.jstree-ocl{background-position:-4px -4px}.jstree-default .jstree-disabled{background:0 0}.jstree-default .jstree-disabled.jstree-hovered{background:0 0}.jstree-default .jstree-disabled.jstree-clicked{background:#efefef}.jstree-default .jstree-checkbox{background-position:-164px -4px}.jstree-default .jstree-checkbox:hover{background-position:-164px -36px}.jstree-default .jstree-clicked>.jstree-checkbox{background-position:-228px -4px}.jstree-default .jstree-clicked>.jstree-checkbox:hover{background-position:-228px -36px}.jstree-default .jstree-anchor>.jstree-undetermined{background-position:-196px -4px}.jstree-default .jstree-anchor>.jstree-undetermined:hover{background-position:-196px -36px}.jstree-default>.jstree-striped{background-size:auto 48px}.jstree-default.jstree-rtl .jstree-node{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAACAQMAAAB49I5GAAAABlBMVEUAAAAdHRvEkCwcAAAAAXRSTlMAQObYZgAAAAxJREFUCNdjAAMOBgAAGAAJMwQHdQAAAABJRU5ErkJggg==);background-position:100% 1px;background-repeat:repeat-y}.jstree-default.jstree-rtl .jstree-last{background:0 0}.jstree-default.jstree-rtl .jstree-open>.jstree-ocl{background-position:-132px -36px}.jstree-default.jstree-rtl .jstree-closed>.jstree-ocl{background-position:-100px -36px}.jstree-default.jstree-rtl .jstree-leaf>.jstree-ocl{background-position:-68px -36px}.jstree-default.jstree-rtl>.jstree-no-dots .jstree-node,.jstree-default.jstree-rtl>.jstree-no-dots .jstree-leaf>.jstree-ocl{background:0 0}.jstree-default.jstree-rtl>.jstree-no-dots .jstree-open>.jstree-ocl{background-position:-36px -36px}.jstree-default.jstree-rtl>.jstree-no-dots .jstree-closed>.jstree-ocl{background-position:-4px -36px}.jstree-default .jstree-themeicon-custom{background-color:transparent;background-image:none}.jstree-default>.jstree-container-ul .jstree-loading>.jstree-ocl{background:url(throbber.gif) center center no-repeat}.jstree-default.jstree-rtl .jstree-node{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAACAQMAAAB49I5GAAAABlBMVEUAAAAdHRvEkCwcAAAAAXRSTlMAQObYZgAAAAxJREFUCNdjAAMOBgAAGAAJMwQHdQAAAABJRU5ErkJggg==)}.jstree-default.jstree-rtl .jstree-last{background:0 0}.jstree-default-small .jstree-node{min-height:18px;line-height:18px;margin-left:18px;min-width:18px}.jstree-default-small .jstree-anchor{line-height:18px;height:18px}.jstree-default-small .jstree-icon{width:18px;height:18px;line-height:18px}.jstree-default-small .jstree-icon:empty{width:18px;height:18px;line-height:18px}.jstree-default-small.jstree-rtl .jstree-node{margin-right:18px}.jstree-default-small .jstree-wholerow{height:18px}.jstree-default-small .jstree-node,.jstree-default-small .jstree-icon{background-image:url(32px.png)}.jstree-default-small .jstree-node{background-position:-295px -7px;background-repeat:repeat-y}.jstree-default-small .jstree-last{background:0 0}.jstree-default-small .jstree-open>.jstree-ocl{background-position:-135px -7px}.jstree-default-small .jstree-closed>.jstree-ocl{background-position:-103px -7px}.jstree-default-small .jstree-leaf>.jstree-ocl{background-position:-71px -7px}.jstree-default-small .jstree-anchor>.jstree-themeicon{background-position:-263px -7px}.jstree-default-small>.jstree-no-dots .jstree-node,.jstree-default-small>.jstree-no-dots .jstree-leaf>.jstree-ocl{background:0 0}.jstree-default-small>.jstree-no-dots .jstree-open>.jstree-ocl{background-position:-39px -7px}.jstree-default-small>.jstree-no-dots .jstree-closed>.jstree-ocl{background-position:-7px -7px}.jstree-default-small .jstree-disabled{background:0 0}.jstree-default-small .jstree-disabled.jstree-hovered{background:0 0}.jstree-default-small .jstree-disabled.jstree-clicked{background:#efefef}.jstree-default-small .jstree-checkbox{background-position:-167px -7px}.jstree-default-small .jstree-checkbox:hover{background-position:-167px -39px}.jstree-default-small .jstree-clicked>.jstree-checkbox{background-position:-231px -7px}.jstree-default-small .jstree-clicked>.jstree-checkbox:hover{background-position:-231px -39px}.jstree-default-small .jstree-anchor>.jstree-undetermined{background-position:-199px -7px}.jstree-default-small .jstree-anchor>.jstree-undetermined:hover{background-position:-199px -39px}.jstree-default-small>.jstree-striped{background-size:auto 36px}.jstree-default-small.jstree-rtl .jstree-node{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAACAQMAAAB49I5GAAAABlBMVEUAAAAdHRvEkCwcAAAAAXRSTlMAQObYZgAAAAxJREFUCNdjAAMOBgAAGAAJMwQHdQAAAABJRU5ErkJggg==);background-position:100% 1px;background-repeat:repeat-y}.jstree-default-small.jstree-rtl .jstree-last{background:0 0}.jstree-default-small.jstree-rtl .jstree-open>.jstree-ocl{background-position:-135px -39px}.jstree-default-small.jstree-rtl .jstree-closed>.jstree-ocl{background-position:-103px -39px}.jstree-default-small.jstree-rtl .jstree-leaf>.jstree-ocl{background-position:-71px -39px}.jstree-default-small.jstree-rtl>.jstree-no-dots .jstree-node,.jstree-default-small.jstree-rtl>.jstree-no-dots .jstree-leaf>.jstree-ocl{background:0 0}.jstree-default-small.jstree-rtl>.jstree-no-dots .jstree-open>.jstree-ocl{background-position:-39px -39px}.jstree-default-small.jstree-rtl>.jstree-no-dots .jstree-closed>.jstree-ocl{background-position:-7px -39px}.jstree-default-small .jstree-themeicon-custom{background-color:transparent;background-image:none}.jstree-default-small>.jstree-container-ul .jstree-loading>.jstree-ocl{background:url(throbber.gif) center center no-repeat}.jstree-default-small.jstree-rtl .jstree-node{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAACAQMAAABv1h6PAAAABlBMVEUAAAAdHRvEkCwcAAAAAXRSTlMAQObYZgAAAAxJREFUCNdjAAMHBgAAiABBI4gz9AAAAABJRU5ErkJggg==)}.jstree-default-small.jstree-rtl .jstree-last{background:0 0}.jstree-default-large .jstree-node{min-height:32px;line-height:32px;margin-left:32px;min-width:32px}.jstree-default-large .jstree-anchor{line-height:32px;height:32px}.jstree-default-large .jstree-icon{width:32px;height:32px;line-height:32px}.jstree-default-large .jstree-icon:empty{width:32px;height:32px;line-height:32px}.jstree-default-large.jstree-rtl .jstree-node{margin-right:32px}.jstree-default-large .jstree-wholerow{height:32px}.jstree-default-large .jstree-node,.jstree-default-large .jstree-icon{background-image:url(32px.png)}.jstree-default-large .jstree-node{background-position:-288px 0;background-repeat:repeat-y}.jstree-default-large .jstree-last{background:0 0}.jstree-default-large .jstree-open>.jstree-ocl{background-position:-128px 0}.jstree-default-large .jstree-closed>.jstree-ocl{background-position:-96px 0}.jstree-default-large .jstree-leaf>.jstree-ocl{background-position:-64px 0}.jstree-default-large .jstree-anchor>.jstree-themeicon{background-position:-256px 0}.jstree-default-large>.jstree-no-dots .jstree-node,.jstree-default-large>.jstree-no-dots .jstree-leaf>.jstree-ocl{background:0 0}.jstree-default-large>.jstree-no-dots .jstree-open>.jstree-ocl{background-position:-32px 0}.jstree-default-large>.jstree-no-dots .jstree-closed>.jstree-ocl{background-position:0 0}.jstree-default-large .jstree-disabled{background:0 0}.jstree-default-large .jstree-disabled.jstree-hovered{background:0 0}.jstree-default-large .jstree-disabled.jstree-clicked{background:#efefef}.jstree-default-large .jstree-checkbox{background-position:-160px 0}.jstree-default-large .jstree-checkbox:hover{background-position:-160px -32px}.jstree-default-large .jstree-clicked>.jstree-checkbox{background-position:-224px 0}.jstree-default-large .jstree-clicked>.jstree-checkbox:hover{background-position:-224px -32px}.jstree-default-large .jstree-anchor>.jstree-undetermined{background-position:-192px 0}.jstree-default-large .jstree-anchor>.jstree-undetermined:hover{background-position:-192px -32px}.jstree-default-large>.jstree-striped{background-size:auto 64px}.jstree-default-large.jstree-rtl .jstree-node{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAACAQMAAAB49I5GAAAABlBMVEUAAAAdHRvEkCwcAAAAAXRSTlMAQObYZgAAAAxJREFUCNdjAAMOBgAAGAAJMwQHdQAAAABJRU5ErkJggg==);background-position:100% 1px;background-repeat:repeat-y}.jstree-default-large.jstree-rtl .jstree-last{background:0 0}.jstree-default-large.jstree-rtl .jstree-open>.jstree-ocl{background-position:-128px -32px}.jstree-default-large.jstree-rtl .jstree-closed>.jstree-ocl{background-position:-96px -32px}.jstree-default-large.jstree-rtl .jstree-leaf>.jstree-ocl{background-position:-64px -32px}.jstree-default-large.jstree-rtl>.jstree-no-dots .jstree-node,.jstree-default-large.jstree-rtl>.jstree-no-dots .jstree-leaf>.jstree-ocl{background:0 0}.jstree-default-large.jstree-rtl>.jstree-no-dots .jstree-open>.jstree-ocl{background-position:-32px -32px}.jstree-default-large.jstree-rtl>.jstree-no-dots .jstree-closed>.jstree-ocl{background-position:0 -32px}.jstree-default-large .jstree-themeicon-custom{background-color:transparent;background-image:none}.jstree-default-large>.jstree-container-ul .jstree-loading>.jstree-ocl{background:url(throbber.gif) center center no-repeat}.jstree-default-large.jstree-rtl .jstree-node{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAACAQMAAAAD0EyKAAAABlBMVEUAAAAdHRvEkCwcAAAAAXRSTlMAQObYZgAAAAxJREFUCNdjgIIGBgABCgCBvVLXcAAAAABJRU5ErkJggg==)}.jstree-default-large.jstree-rtl .jstree-last{background:0 0}@media (max-width:768px){.jstree-default-responsive .jstree-icon{background-image:url(40px.png)}.jstree-default-responsive .jstree-node,.jstree-default-responsive .jstree-leaf>.jstree-ocl{background:0 0}.jstree-default-responsive .jstree-node{min-height:40px;line-height:40px;margin-left:40px;min-width:40px;white-space:nowrap}.jstree-default-responsive .jstree-anchor{line-height:40px;height:40px}.jstree-default-responsive .jstree-icon,.jstree-default-responsive .jstree-icon:empty{width:40px;height:40px;line-height:40px}.jstree-default-responsive>.jstree-container-ul>.jstree-node{margin-left:0}.jstree-default-responsive.jstree-rtl .jstree-node{margin-left:0;margin-right:40px}.jstree-default-responsive.jstree-rtl .jstree-container-ul>.jstree-node{margin-right:0}.jstree-default-responsive .jstree-ocl,.jstree-default-responsive .jstree-themeicon,.jstree-default-responsive .jstree-checkbox{background-size:120px 200px}.jstree-default-responsive .jstree-leaf>.jstree-ocl{background:0 0}.jstree-default-responsive .jstree-open>.jstree-ocl{background-position:0 0!important}.jstree-default-responsive .jstree-closed>.jstree-ocl{background-position:0 -40px!important}.jstree-default-responsive.jstree-rtl .jstree-closed>.jstree-ocl{background-position:-40px 0!important}.jstree-default-responsive .jstree-anchor>.jstree-themeicon{background-position:-40px -40px}.jstree-default-responsive .jstree-checkbox,.jstree-default-responsive .jstree-checkbox:hover{background-position:-40px -80px}.jstree-default-responsive .jstree-clicked>.jstree-checkbox,.jstree-default-responsive .jstree-clicked>.jstree-checkbox:hover{background-position:0 -80px}.jstree-default-responsive .jstree-anchor>.jstree-undetermined,.jstree-default-responsive .jstree-anchor>.jstree-undetermined:hover{background-position:0 -120px}.jstree-default-responsive .jstree-anchor{font-weight:700;font-size:1.1em;text-shadow:1px 1px #fff}.jstree-default-responsive>.jstree-striped{background:0 0}.jstree-default-responsive .jstree-wholerow{border-top:1px solid rgba(255,255,255,.7);border-bottom:1px solid rgba(64,64,64,.2);background:#ebebeb;height:40px}.jstree-default-responsive .jstree-wholerow-hovered{background:#e7f4f9}.jstree-default-responsive .jstree-wholerow-clicked{background:#beebff}.jstree-default-responsive .jstree-children .jstree-last>.jstree-wholerow{box-shadow:inset 0 -6px 3px -5px #666}.jstree-default-responsive .jstree-children .jstree-open>.jstree-wholerow{box-shadow:inset 0 6px 3px -5px #666;border-top:0}.jstree-default-responsive .jstree-children .jstree-open+.jstree-open{box-shadow:none}.jstree-default-responsive .jstree-node,.jstree-default-responsive .jstree-icon,.jstree-default-responsive .jstree-node>.jstree-ocl,.jstree-default-responsive .jstree-themeicon,.jstree-default-responsive .jstree-checkbox{background-image:url(40px.png);background-size:120px 200px}.jstree-default-responsive .jstree-node{background-position:-80px 0;background-repeat:repeat-y}.jstree-default-responsive .jstree-last{background:0 0}.jstree-default-responsive .jstree-leaf>.jstree-ocl{background-position:-40px -120px}.jstree-default-responsive .jstree-last>.jstree-ocl{background-position:-40px -160px}.jstree-default-responsive .jstree-themeicon-custom{background-color:transparent;background-image:none}}.jstree-default>.jstree-container-ul>.jstree-node{margin-left:0;margin-right:0}/**
                 * Handsontable 0.10.5
                 * Handsontable is a simple jQuery plugin for editable tables with basic copy-paste compatibility with Excel and Google Docs
                 *
                 * Copyright 2012, Marcin Warpechowski
                 * Licensed under the MIT license.
                 * http://handsontable.com/
                 *
                 * Date: Mon Mar 31 2014 14:19:47 GMT+0200 (CEST)
                 */
                
                .handsontable {
                  position: relative;
                }
                
                .handsontable.htAutoColumnSize {
                  visibility: hidden;
                  left: 0;
                  position: absolute;
                  top: 0;
                }
                
                .handsontable table,
                .handsontable tbody,
                .handsontable thead,
                .handsontable td,
                .handsontable th,
                .handsontable div {
                  box-sizing: content-box;
                  -webkit-box-sizing: content-box;
                  -moz-box-sizing: content-box;
                }
                
                .handsontable table.htCore {
                  border-collapse: separate;
                  /*it must be separate, otherwise there are offset miscalculations in WebKit: http://stackoverflow.com/questions/2655987/border-collapse-differences-in-ff-and-webkit*/
                  position: relative;
                  /*this actually only changes appearance of user selection - does not make text unselectable
                  -webkit-user-select: none;
                  -khtml-user-select: none;
                  -moz-user-select: none;
                  -o-user-select: none;
                  -ms-user-select: none;
                  /*user-select: none; /*no browser supports unprefixed version*/
                  border-spacing: 0;
                  margin: 0;
                  border-width: 0;
                  table-layout: fixed;
                  width: 0;
                  outline-width: 0;
                  /* reset bootstrap table style. for more info see: https://github.com/warpech/jquery-handsontable/issues/224 */
                  max-width: none;
                  max-height: none;
                }
                
                .handsontable col {
                  width: 50px;
                }
                
                .handsontable col.rowHeader {
                  width: 50px;
                }
                
                .handsontable th,
                .handsontable td {
                  border-right: 1px solid #CCC;
                  border-bottom: 1px solid #CCC;
                  height: 22px;
                  empty-cells: show;
                  line-height: 21px;
                  padding: 0 4px 0 4px;
                  /* top, bottom padding different than 0 is handled poorly by FF with HTML5 doctype */
                  background-color: #FFF;
                  vertical-align: top;
                  overflow: hidden;
                  outline-width: 0;
                  white-space: pre-line;
                  /* preserve new line character in cell */
                }
                
                .handsontable td.htInvalid {
                  -webkit-transition: background 0.75s ease;
                  transition: background 0.75s ease;
                  background-color: #ff4c42;
                }
                
                .handsontable th:last-child {
                  /*Foundation framework fix*/
                  border-right: 1px solid #CCC;
                  border-bottom: 1px solid #CCC;
                }
                
                .handsontable tr:first-child th.htNoFrame,
                .handsontable th:first-child.htNoFrame,
                .handsontable th.htNoFrame {
                  border-left-width: 0;
                  background-color: white;
                  border-color: #FFF;
                }
                
                .handsontable th:first-child,
                .handsontable td:first-child,
                .handsontable .htNoFrame + th,
                .handsontable .htNoFrame + td {
                  border-left: 1px solid #CCC;
                }
                
                .handsontable tr:first-child th,
                .handsontable tr:first-child td {
                  border-top: 1px solid #CCC;
                }
                
                .handsontable thead tr:last-child th {
                  border-bottom-width: 0;
                }
                
                .handsontable thead tr.lastChild th {
                  border-bottom-width: 0;
                }
                
                .handsontable th {
                  background-color: #EEE;
                  color: #222;
                  text-align: center;
                  font-weight: normal;
                  white-space: nowrap;
                }
                
                .handsontable thead th {
                  padding: 0;
                }
                
                .handsontable th.active {
                  background-color: #CCC;
                }
                
                .handsontable thead th .relative {
                  position: relative;
                  padding: 2px 4px;
                }
                
                /* plugins */
                
                .handsontable .manualColumnMover {
                  position: absolute;
                  left: 0;
                  top: 0;
                  background-color: transparent;
                  width: 5px;
                  height: 25px;
                  z-index: 999;
                  cursor: move;
                }
                
                .handsontable th .manualColumnMover:hover,
                .handsontable th .manualColumnMover.active {
                  background-color: #88F;
                }
                
                .handsontable .manualColumnResizer {
                  position: absolute;
                  top: 0;
                  cursor: col-resize;
                }
                
                .handsontable .manualColumnResizerHandle {
                  background-color: transparent;
                  width: 5px;
                  height: 25px;
                }
                
                .handsontable .manualColumnResizer:hover .manualColumnResizerHandle,
                .handsontable .manualColumnResizer.active .manualColumnResizerHandle {
                  background-color: #AAB;
                }
                
                .handsontable .manualColumnResizerLine {
                  position: absolute;
                  right: 0;
                  top: 0;
                  background-color: #AAB;
                  display: none;
                  width: 0;
                  border-right: 1px dashed #777;
                }
                
                .handsontable .manualColumnResizer.active .manualColumnResizerLine {
                  display: block;
                }
                
                .handsontable .columnSorting:hover {
                  text-decoration: underline;
                  cursor: pointer;
                }
                
                /* border line */
                
                .handsontable .wtBorder {
                  position: absolute;
                  font-size: 0;
                }
                
                .handsontable td.area {
                  background-color: #EEF4FF;
                }
                
                /* fill handle */
                
                .handsontable .wtBorder.corner {
                  font-size: 0;
                  cursor: crosshair;
                }
                
                .handsontable .htBorder.htFillBorder {
                  background: red;
                  width: 1px;
                  height: 1px;
                }
                
                .handsontableInput {
                  border: 2px solid #5292F7;
                  outline-width: 0;
                  margin: 0;
                  padding: 1px 4px 0 2px;
                  font-family: Arial, Helvetica, sans-serif;
                  /*repeat from .handsontable (inherit doesn't work with IE<8) */
                  line-height: 1.3em;
                  /*repeat from .handsontable (inherit doesn't work with IE<8) */
                  font-size: inherit;
                  -webkit-box-shadow: 1px 2px 5px rgba(0, 0, 0, 0.4);
                  box-shadow: 1px 2px 5px rgba(0, 0, 0, 0.4);
                  resize: none;
                  /*below are needed to overwrite stuff added by jQuery UI Bootstrap theme*/
                  display: inline-block;
                  color: #000;
                  border-radius: 0;
                  background-color: #FFF;
                  /*overwrite styles potentionally made by a framework*/
                }
                
                .handsontableInputHolder {
                  position: absolute;
                  top: 0;
                  left: 0;
                  z-index: 100;
                }
                
                .htSelectEditor {
                  -webkit-appearance: menulist-button !important;
                  position: absolute;
                }
                
                /*
                TextRenderer readOnly cell
                */
                
                .handsontable .htDimmed {
                  color: #777;
                }
                
                /*
                TextRenderer placeholder value
                */
                
                .handsontable .htPlaceholder {
                  color: #999;
                }
                
                /*
                AutocompleteRenderer down arrow
                */
                
                .handsontable .htAutocompleteArrow {
                  float: right;
                  font-size: 10px;
                  color: #EEE;
                  cursor: default;
                  width: 16px;
                  text-align: center;
                }
                
                .handsontable td .htAutocompleteArrow:hover {
                  color: #777;
                }
                
                /*
                CheckboxRenderer
                */
                
                .handsontable .htCheckboxRendererInput.noValue {
                  opacity: 0.5;
                }
                
                /*
                NumericRenderer
                */
                
                .handsontable .htNumeric {
                  text-align: right;
                }
                
                /*context menu rules*/
                
                ul.context-menu-list {
                  color: black;
                }
                
                ul.context-menu-list li {
                  margin-bottom: 0;
                  /*Foundation framework fix*/
                }
                
                /**
                 * dragdealer
                 */
                
                .handsontable .dragdealer {
                  position: relative;
                  width: 9px;
                  height: 9px;
                  background: #F8F8F8;
                  border: 1px solid #DDD;
                }
                
                .handsontable .dragdealer .handle {
                  position: absolute;
                  width: 9px;
                  height: 9px;
                  background: #C5C5C5;
                }
                
                .handsontable .dragdealer .disabled {
                  background: #898989;
                }
                
                /**
                 * Handsontable in Handsontable
                 */
                
                .handsontable .handsontable .wtHider {
                  padding: 0 0 5px 0;
                }
                
                .handsontable .handsontable table {
                  -webkit-box-shadow: 1px 2px 5px rgba(0, 0, 0, 0.4);
                  box-shadow: 1px 2px 5px rgba(0, 0, 0, 0.4);
                }
                
                /**
                 * Handsontable listbox theme
                 */
                
                .handsontable.listbox {
                  margin: 0;
                }
                
                .handsontable.listbox table {
                  border: 1px solid #ccc;
                  border-collapse: separate;
                  background: white;
                }
                
                .handsontable.listbox th,
                .handsontable.listbox tr:first-child th,
                .handsontable.listbox tr:last-child th,
                .handsontable.listbox tr:first-child td,
                .handsontable.listbox td {
                  border-width: 0;
                }
                
                .handsontable.listbox th,
                .handsontable.listbox td {
                  white-space: nowrap;
                  text-overflow: ellipsis;
                }
                
                .handsontable.listbox td.htDimmed {
                  cursor: default;
                  color: inherit;
                  font-style: inherit;
                }
                
                .handsontable.listbox .wtBorder {
                  visibility: hidden;
                }
                
                .handsontable.listbox tr td.current,
                .handsontable.listbox tr:hover td {
                  background: #eee;
                }
                
                .htContextMenu {
                  display: none;
                  position: absolute;
                }
                
                .htContextMenu table.htCore {
                  outline: 1px solid #bbb;
                }
                
                .htContextMenu .wtBorder {
                  visibility: hidden;
                }
                
                .htContextMenu table tbody tr td {
                  background: white;
                  border-width: 0;
                  padding: 4px 6px 0px 6px;
                  cursor: pointer;
                  overflow: hidden;
                  white-space: nowrap;
                  text-overflow: ellipsis;
                }
                
                .htContextMenu table tbody tr td:first-child {
                  border: 0;
                }
                
                .htContextMenu table tbody tr td.htDimmed{
                  font-style: normal;
                  color: #323232;
                }
                
                .htContextMenu table tbody tr td.current{
                  background: rgb(233, 233, 233);
                }
                
                .htContextMenu table tbody tr td.htSeparator {
                  border-top: 1px solid #bbb;
                  height: 0;
                  padding: 0;
                }
                
                .htContextMenu table tbody tr td.htDisabled {
                  color: #999;
                }
                
                .htContextMenu table tbody tr td.htDisabled:hover {
                  background: white;
                  color: #999;
                  cursor: default;
                }
                
                .handsontable td.htSearchResult {
                  background: #fcedd9;
                  color: #583707;
                }
                
                /*WalkontableDebugOverlay*/
                
                .wtDebugHidden {
                  display: none;
                }
                
                .wtDebugVisible {
                  display: block;
                  -webkit-animation-duration: 0.5s;
                  -webkit-animation-name: wtFadeInFromNone;
                  animation-duration: 0.5s;
                  animation-name: wtFadeInFromNone;
                }
                
                @keyframes wtFadeInFromNone {
                  0% {
                    display: none;
                    opacity: 0;
                  }
                
                  1% {
                    display: block;
                    opacity: 0;
                  }
                
                  100% {
                    display: block;
                    opacity: 1;
                  }
                }
                
                @-webkit-keyframes wtFadeInFromNone {
                  0% {
                    display: none;
                    opacity: 0;
                  }
                
                  1% {
                    display: block;
                    opacity: 0;
                  }
                
                  100% {
                    display: block;
                    opacity: 1;
                  }
                }/**
                 * default development theme for jQRangeSlider
                 * Using fam fam icon set from Mark James, http://www.famfamfam.com/lab/icons/silk/ (Creative Commons Attribution 2.5 License)
                 */
                
                .ui-rangeSlider{
                	height:22px;
                }
                
                .ui-rangeSlider .ui-rangeSlider-innerBar{
                	height:16px;
                	margin:3px 6px;
                	background:#DDD;
                }
                
                .ui-rangeSlider .ui-rangeSlider-handle{
                	width:6px;
                	height:22px;
                	background:#AAA;
                	background:rgba(100,100,100, 0.3);
                	cursor:col-resize;
                }
                
                .ui-rangeSlider .ui-rangeSlider-bar{
                	margin: 1px 0;
                	background:#CCC;
                	background:rgba(100,100,150, 0.2);
                	height:20px;
                	cursor:move;
                	cursor:grab;
                	cursor: -moz-grab;
                }
                
                .ui-rangeSlider .ui-rangeSlider-bar.ui-draggable-dragging{
                	cursor:	-moz-grabbing;
                	cursor:grabbing;
                }
                
                .ui-rangeSlider-arrow{
                	height:16px;
                	margin:2px 0;
                	width:16px;
                	background-repeat:no-repeat;
                }
                
                .ui-rangeSlider-arrow.ui-rangeSlider-leftArrow{
                	background-image: url('icons-classic/resultset_previous.png');
                	background-position:center left;
                }
                
                .ui-rangeSlider-arrow.ui-rangeSlider-rightArrow{
                	background-image: url('icons-classic/resultset_next.png');
                	background-position:center right;
                }
                
                .ui-rangeSlider-arrow-inner{
                	display: none;
                }
                
                .ui-rangeSlider-container{
                	height:22px;
                }
                
                .ui-rangeSlider-withArrows .ui-rangeSlider-container{
                	margin:0 11px;
                }
                
                .ui-rangeSlider-noArrow .ui-rangeSlider-container{
                	margin:0;
                }
                
                .ui-rangeSlider-label{
                	margin:0 2px 2px;
                	background-image:url('icons-classic/label.png');
                	background-position:bottom center;
                	background-repeat:no-repeat;
                  white-space: nowrap;
                  bottom:20px;
                  padding:3px 6px 7px;
                  cursor:col-resize;
                }
                
                .ui-rangeSlider-label-inner{
                	display:none;
                }
                
                /*
                 * Edit slider
                 */
                
                input.ui-editRangeSlider-inputValue{
                	width:3em;
                	vertical-align: middle;
                	text-align:center;
                }
                .jstree-default .jstree-node,
                .jstree-default .jstree-icon {
                  background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAUAAAABgCAMAAABblVsaAAADAFBMVEUAAABaoVUEYBipAAA5OTkEBAQAAACFZUcJAAAECgLirGt+fn6lpaalpaW5GBhbolUGYhmqAACop6n5+fnBAgKmAQEAWxrfn2UCXhkIDQZ1d3wWhwSlAAAPcRu+EhL3qamnBQWlpaVYuC6xEBD//f+yCQl2d3wvkCQVhQbJLS3BISEqhyxVrz10x00fjwarBQUAWRMrmgyoAgLng4OtCAjvk5MPfAelBwf18/VhuUHLDAz1k5NmukkHYRaKz2t0wVmb23pesUqP1W+P0nDsZ2fUSUm1FxfnWVnqY2O0BASNAADq2p2+GxuwVzj8+PIdHRukpKThq2n////s7O0mJib+/P3enWP67uFVV1uop6kkmwD459b99tVcY3D29fb9+O3x8vHf3+Dp6Oj78ungyI337caYmZihjFU1rwACNrDx8vHT09Tw0rfz3Lv03cbp157Js3u3oWfOwJLdzKdGbUOAgonw8O82rgb35dSluaX67uDq6+ua5mfO48Ph4uJ0dnstowAyqwD78uhdxCovpgB910i38YzP9q9arkL8+/vSAADoAADr7O3S58Y5sAbn5+f249DjAADtAQGpy6JAtwU1lxuC2E2z74hPvxbV1NX99+uvr+NKvQ/36tmy6JHFwJ0ilgR41ELl5eXy9PLd3t7U1dbKAQHC1Meg3oCR1nBozDFerUYnngBgxywjihLV09X/mJjZBQX24MrxAAD+Zmb9+Oz7i4sqiR1uwku4zL2c427W+Lrs7+x7x1r58+Sv3JmOy213vlpxu1d/f7iwxbXW1tn/tLTdAAD9d3f4Jibx1rrwPT3rEBBRxBRlxDeH0mGI02KJ1WCo34qs8HhvzjjJz7iwza337d62FBRiuUP2MTHezKn/q6uDloeguqRRozrM1b6Lz2yi2IeGvm4/ohyrmVWV416c1Xui6W+/0bU7jjS98ZUxjSm5vJaXsZ8slBFSvh7/3t7/ycn/fHzdzqmww7bL2cO3nFnodXV1mHacnFB4kX+kvKuq7HuwuY6orohs99ZiAAAA7XRSTlMA/S4cWkEmAQkW/YD+/1v+NSL+/v5cR/k5F/3prEVM9qH9+27//fzZ2ayEYN3t2LQZ6avdnPrZg/ro8/rVIunV66/o0PLQV/v50hJqkwX9/////////v////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////m1ZoxUAAAH80lEQVR42u2ceVjTZhzHCwXaeiAoc865TSbqDq8d7r7v4w9bwmjLUZ6uUFlKW8BRIqgoOEZBiYgKniBT0LlNcYrXnAdem+50uts5dzvdfd/vm7RMHn5JWUInxvcDNDzPm7xpPnyTvG/4gUrVtYwLcvvppru/PwJJIIEkkCSQJJAkkKDEBGq4z4BoJL/5CRy5ubnZDyowgXZ9716xsb166WN76/V2qB0Ti9YRa/dhB/2l+UhJyVFgAvVWDwftoWlWD7TTFo/nOYTHY6HBdq+PpmOH9bBAozGNT2B2jvISqC+kKQrJs1gsXgsoaPK2yTNnzpyMgAVSGNpSvWLLkl9BgSkpxglcACVHUN+JdRJkJEzfiQQK9K+JbZjBsjOwQhpMWF/qs5rSxxFfPr5thhnY96aPDrNIYPXKJSteX3kBsItcJG4Cpy8jQ2IC9ebA/hLkpEhG/7EN7JQpbCEXIlBg4fZJn9eUlpbW1GwvBPbz/taDW49QVPWHm1975dVVoaDAjJTcNKxPWGCgA6QCZTDBJCuBMvqPbbBarVMaHkYKaQ8ocMe8TychNs/bUdi3Q3PUxUvfmLfxSPXGJ0tKXv7gfRUsMAOnMENGAr2UPcDxmWQlUEb/WOAyZBCFkIYSaC7c+Rhm6ZPfrAIEDvi4dtGcl8reXpSZmTm3Cfw5ZiNx2XwAM8ZLPUAvmyd+fAET2P4D6l+4ne8fbkcCl+9GBqewLOWBBdaWPF1SUjunchV0Cv8+F6mbUzlt2rS5TTQsMMPJCXQixgclgQkcwUugaP961upw7F6GFLIUnMCy/PzKysr8/Pwy8Cay6+vp06dPnTp1QxO4PfLnznJmY39ut3t8sK6BMociMvrXsw6HY/5qFEIrCwqk+iQlJT2FvpLKKEgg/dUzuHXDJnB7rSonA4lzZ6e43enp6VITaFYFV6CM/jmB2CG6l8ACQ5J8hMACHV89U1+/4Ud4e50ux4nEuXPEBXbBOFCWQJVcgauXr57vsMID5YkhIX3QR0jILnCgbXE4/jhxfBPyxwLtuvAcd3ZubnpOSnq69AR265kIZeFBkzFQEMtPNfBAEZzqWVm2YVMTi7ECpzAWiAgg8AzGrjdj+uIXgYcFZh+SHiZoI8ZzKDaB/xe8RuLhND1tIhBIAgkkgQQCSSD5EQWpnSSQQBJIIAkkCSSQBBJIAjug4SAJBElsB9BuMBh6cKBvBNrbSBTeT5E5LzUvz6S8BCa6bG0wgACDbX3B84jiBcVpNgPU7q8PPHqs2iD8BuypeQ6TKVWBCSwwImy4gtSbBgks5usDcYFgMSjQyHeA6wN/g/aQymEyIYFoKf2div3yNqELEijev3ACGWMyk1zAOVwPCSzw1wdu2VYACfzio5MMMihcH5gaj/FSeQtN8UIR7EQCzaIHmCA7SRL71yQyyQzjMwgKfNNXH1hasx0S+MnWg1vrjMY64frA1PhHMPFiAjuRP9HylYSA1W3jgtS/5txZzFokMLmgwGgrBgT2WOyrD/xz3k5AIF8fWFfH1wf+rJIoMGAC7ZRX/ABN8jIouX8s0OWahRUajQICl/L1gbVlxo4C29UH/mRQBSmBeaw30AF2OELxksD27VD/p7YLFyBqzl3retHpWjsLGwQEanos3vnN04jaykxIoOqTf+sDj6YZTlsC5VYISu4fJdCV5TNYACbwzVX5HJmwQMNhX33g3ENGW9AS2H1LBJFAZ1ZWltPpcjFMMXgT6eMvb4MF2v7i6wMPMYyQQJ6iIN6FuwCJ/aO7cBYHNmgDhzFtAkNggVl/4/rAOrw9PJDmB4KpRQsT0EtwxoFdkkGJA2km6913f+AcukCBtolccSCuD4SucYY0p/PkieN1aCzEwNdAlRWD/C1sNdkpBc5E0hasX4BAkzFwJsIY/dgYSCA69ZkvDmF/jEtkKmdqbS1qbTWZVUoj8ZSnAYkSHhZ09mHCLnwSm1Lt5HkgoTtCEkggCSSQBBIIJIEEkkACgSSQQBJIIJAEnjU8wC+0JIHSGHJVJF5EXnWhwApahMj2up4cYYq3HHXn5aC/X94biwxGXvTtRbBBrS4iQidiMIz7rauF7anwBIbetmUJYHBI+YH9LWMjI2/cs+c72KA2gqLCI7TiAr2UI76nMoN3we03c/m7A66fu7q8quLAupaWljVr3ttzGXiKhlMTxQzyCaQdtLenEhM4YOTBW8eg/N2C6+dGdKif06gHlVdUPLt/377vW9ZcqhYQ+KiYQV6gl3Y4HOEKvPDh+rmbxoSOxPVzw4H6Q436yvKK2c++sG7dvkvVGiGB2KDQdZAXGOelKTpMeQkccAWunxtxPa6fGxUFrqK+v4ozeLda4C6LBSKDEaICcQi9SrwT97/CXz83KhRe45wb9nIG74qUKPAhv8E4BSYQGTyfr5+7JErAX0x5MzY4+537IlWSTmFOYFwcelHmWLD/+bh+7hKh/A1tbCxvbt5bUTH7nXvvkXQT8cY95PWizzNY4LgABuvrrxHIn+rat2IayxtHjy6vqjqwX8owRhPWz/+nLvFKnY30PzE8VOjw1YPfiom5Mjp6UGNV89VqSQPp6yz+/2Cn0ASqNAOihNvUg4cOQuLUg2IGw8OYgFM5zxMY/J+0lT8fhgxGnxOtaVtIeJgQ1q8fSl+/M/oUlvvHpKcs/jvhRQMHDhs2sAgRriL8d7Q6ne48BFpoz8oEEggkgQSSQAKBJLAb8Q85csYKBm7vjAAAAABJRU5ErkJggg==");
                }
                .jstree-default .jstree-last {
                  background: none;
                }
                .ui-rangeSlider-arrow.ui-rangeSlider-leftArrow {
                  background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAAAsTAAALEwEAmpwYAAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERRUUEG8igiAOOjoCMFVEsDIoK2AfkIaKOg6OIisr74Xuja9a89+bN/rXXPues852zzwfACAyWSDNRNYAMqUIeEeCDx8TG4eQuQIEKJHAAEAizZCFz/SMBAPh+PDwrIsAHvgABeNMLCADATZvAMByH/w/qQplcAYCEAcB0kThLCIAUAEB6jkKmAEBGAYCdmCZTAKAEAGDLY2LjAFAtAGAnf+bTAICd+Jl7AQBblCEVAaCRACATZYhEAGg7AKzPVopFAFgwABRmS8Q5ANgtADBJV2ZIALC3AMDOEAuyAAgMADBRiIUpAAR7AGDIIyN4AISZABRG8lc88SuuEOcqAAB4mbI8uSQ5RYFbCC1xB1dXLh4ozkkXKxQ2YQJhmkAuwnmZGTKBNA/g88wAAKCRFRHgg/P9eM4Ors7ONo62Dl8t6r8G/yJiYuP+5c+rcEAAAOF0ftH+LC+zGoA7BoBt/qIl7gRoXgugdfeLZrIPQLUAoOnaV/Nw+H48PEWhkLnZ2eXk5NhKxEJbYcpXff5nwl/AV/1s+X48/Pf14L7iJIEyXYFHBPjgwsz0TKUcz5IJhGLc5o9H/LcL//wd0yLESWK5WCoU41EScY5EmozzMqUiiUKSKcUl0v9k4t8s+wM+3zUAsGo+AXuRLahdYwP2SycQWHTA4vcAAPK7b8HUKAgDgGiD4c93/+8//UegJQCAZkmScQAAXkQkLlTKsz/HCAAARKCBKrBBG/TBGCzABhzBBdzBC/xgNoRCJMTCQhBCCmSAHHJgKayCQiiGzbAdKmAv1EAdNMBRaIaTcA4uwlW4Dj1wD/phCJ7BKLyBCQRByAgTYSHaiAFiilgjjggXmYX4IcFIBBKLJCDJiBRRIkuRNUgxUopUIFVIHfI9cgI5h1xGupE7yAAygvyGvEcxlIGyUT3UDLVDuag3GoRGogvQZHQxmo8WoJvQcrQaPYw2oefQq2gP2o8+Q8cwwOgYBzPEbDAuxsNCsTgsCZNjy7EirAyrxhqwVqwDu4n1Y8+xdwQSgUXACTYEd0IgYR5BSFhMWE7YSKggHCQ0EdoJNwkDhFHCJyKTqEu0JroR+cQYYjIxh1hILCPWEo8TLxB7iEPENyQSiUMyJ7mQAkmxpFTSEtJG0m5SI+ksqZs0SBojk8naZGuyBzmULCAryIXkneTD5DPkG+Qh8lsKnWJAcaT4U+IoUspqShnlEOU05QZlmDJBVaOaUt2ooVQRNY9aQq2htlKvUYeoEzR1mjnNgxZJS6WtopXTGmgXaPdpr+h0uhHdlR5Ol9BX0svpR+iX6AP0dwwNhhWDx4hnKBmbGAcYZxl3GK+YTKYZ04sZx1QwNzHrmOeZD5lvVVgqtip8FZHKCpVKlSaVGyovVKmqpqreqgtV81XLVI+pXlN9rkZVM1PjqQnUlqtVqp1Q61MbU2epO6iHqmeob1Q/pH5Z/YkGWcNMw09DpFGgsV/jvMYgC2MZs3gsIWsNq4Z1gTXEJrHN2Xx2KruY/R27iz2qqaE5QzNKM1ezUvOUZj8H45hx+Jx0TgnnKKeX836K3hTvKeIpG6Y0TLkxZVxrqpaXllirSKtRq0frvTau7aedpr1Fu1n7gQ5Bx0onXCdHZ4/OBZ3nU9lT3acKpxZNPTr1ri6qa6UbobtEd79up+6Ynr5egJ5Mb6feeb3n+hx9L/1U/W36p/VHDFgGswwkBtsMzhg8xTVxbzwdL8fb8VFDXcNAQ6VhlWGX4YSRudE8o9VGjUYPjGnGXOMk423GbcajJgYmISZLTepN7ppSTbmmKaY7TDtMx83MzaLN1pk1mz0x1zLnm+eb15vft2BaeFostqi2uGVJsuRaplnutrxuhVo5WaVYVVpds0atna0l1rutu6cRp7lOk06rntZnw7Dxtsm2qbcZsOXYBtuutm22fWFnYhdnt8Wuw+6TvZN9un2N/T0HDYfZDqsdWh1+c7RyFDpWOt6azpzuP33F9JbpL2dYzxDP2DPjthPLKcRpnVOb00dnF2e5c4PziIuJS4LLLpc+Lpsbxt3IveRKdPVxXeF60vWdm7Obwu2o26/uNu5p7ofcn8w0nymeWTNz0MPIQ+BR5dE/C5+VMGvfrH5PQ0+BZ7XnIy9jL5FXrdewt6V3qvdh7xc+9j5yn+M+4zw33jLeWV/MN8C3yLfLT8Nvnl+F30N/I/9k/3r/0QCngCUBZwOJgUGBWwL7+Hp8Ib+OPzrbZfay2e1BjKC5QRVBj4KtguXBrSFoyOyQrSH355jOkc5pDoVQfujW0Adh5mGLw34MJ4WHhVeGP45wiFga0TGXNXfR3ENz30T6RJZE3ptnMU85ry1KNSo+qi5qPNo3ujS6P8YuZlnM1VidWElsSxw5LiquNm5svt/87fOH4p3iC+N7F5gvyF1weaHOwvSFpxapLhIsOpZATIhOOJTwQRAqqBaMJfITdyWOCnnCHcJnIi/RNtGI2ENcKh5O8kgqTXqS7JG8NXkkxTOlLOW5hCepkLxMDUzdmzqeFpp2IG0yPTq9MYOSkZBxQqohTZO2Z+pn5mZ2y6xlhbL+xW6Lty8elQfJa7OQrAVZLQq2QqboVFoo1yoHsmdlV2a/zYnKOZarnivN7cyzytuQN5zvn//tEsIS4ZK2pYZLVy0dWOa9rGo5sjxxedsK4xUFK4ZWBqw8uIq2Km3VT6vtV5eufr0mek1rgV7ByoLBtQFr6wtVCuWFfevc1+1dT1gvWd+1YfqGnRs+FYmKrhTbF5cVf9go3HjlG4dvyr+Z3JS0qavEuWTPZtJm6ebeLZ5bDpaql+aXDm4N2dq0Dd9WtO319kXbL5fNKNu7g7ZDuaO/PLi8ZafJzs07P1SkVPRU+lQ27tLdtWHX+G7R7ht7vPY07NXbW7z3/T7JvttVAVVN1WbVZftJ+7P3P66Jqun4lvttXa1ObXHtxwPSA/0HIw6217nU1R3SPVRSj9Yr60cOxx++/p3vdy0NNg1VjZzG4iNwRHnk6fcJ3/ceDTradox7rOEH0x92HWcdL2pCmvKaRptTmvtbYlu6T8w+0dbq3nr8R9sfD5w0PFl5SvNUyWna6YLTk2fyz4ydlZ19fi753GDborZ752PO32oPb++6EHTh0kX/i+c7vDvOXPK4dPKy2+UTV7hXmq86X23qdOo8/pPTT8e7nLuarrlca7nuer21e2b36RueN87d9L158Rb/1tWeOT3dvfN6b/fF9/XfFt1+cif9zsu72Xcn7q28T7xf9EDtQdlD3YfVP1v+3Njv3H9qwHeg89HcR/cGhYPP/pH1jw9DBY+Zj8uGDYbrnjg+OTniP3L96fynQ89kzyaeF/6i/suuFxYvfvjV69fO0ZjRoZfyl5O/bXyl/erA6xmv28bCxh6+yXgzMV70VvvtwXfcdx3vo98PT+R8IH8o/2j5sfVT0Kf7kxmTk/8EA5jz/GMzLdsAAAAgY0hSTQAAeiUAAICDAAD5/wAAgOkAAHUwAADqYAAAOpgAABdvkl/FRgAAAPpJREFUeNrE0zFqhVAUBFCL7ElEEBQsXmErWtnZWImF2Gih6FNEfKCoBGMMUQhEULKjrCF1JjsI+j8kxbSnuDOXA8DdE+5PgLIsM0rp100ApTRL0/Q7DENcBpIkqfq+x3Ec8DzvGhBF0VPTNNj3Hdu2wbbt80AQBK+MMez7jnmesa4rTNM8B/i+/1mWJbZtwziOYIxhmiZomnYOcBznI45jLMuCtm2R5zm6rgMh5BxgGMaDruvvrutiGAZkWYa6rqGq6rUjEkLebNtGVVUoigKyLF+vUVGUF8uykCQJJEnCTUMSRfHZMAyIooibp8zz/KMgCPi/Z/otPwMAtKTYr7dLeeEAAAAASUVORK5CYII=");
                }
                .ui-rangeSlider-arrow.ui-rangeSlider-rightArrow {
                  background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAAAsTAAALEwEAmpwYAAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERRUUEG8igiAOOjoCMFVEsDIoK2AfkIaKOg6OIisr74Xuja9a89+bN/rXXPues852zzwfACAyWSDNRNYAMqUIeEeCDx8TG4eQuQIEKJHAAEAizZCFz/SMBAPh+PDwrIsAHvgABeNMLCADATZvAMByH/w/qQplcAYCEAcB0kThLCIAUAEB6jkKmAEBGAYCdmCZTAKAEAGDLY2LjAFAtAGAnf+bTAICd+Jl7AQBblCEVAaCRACATZYhEAGg7AKzPVopFAFgwABRmS8Q5ANgtADBJV2ZIALC3AMDOEAuyAAgMADBRiIUpAAR7AGDIIyN4AISZABRG8lc88SuuEOcqAAB4mbI8uSQ5RYFbCC1xB1dXLh4ozkkXKxQ2YQJhmkAuwnmZGTKBNA/g88wAAKCRFRHgg/P9eM4Ors7ONo62Dl8t6r8G/yJiYuP+5c+rcEAAAOF0ftH+LC+zGoA7BoBt/qIl7gRoXgugdfeLZrIPQLUAoOnaV/Nw+H48PEWhkLnZ2eXk5NhKxEJbYcpXff5nwl/AV/1s+X48/Pf14L7iJIEyXYFHBPjgwsz0TKUcz5IJhGLc5o9H/LcL//wd0yLESWK5WCoU41EScY5EmozzMqUiiUKSKcUl0v9k4t8s+wM+3zUAsGo+AXuRLahdYwP2SycQWHTA4vcAAPK7b8HUKAgDgGiD4c93/+8//UegJQCAZkmScQAAXkQkLlTKsz/HCAAARKCBKrBBG/TBGCzABhzBBdzBC/xgNoRCJMTCQhBCCmSAHHJgKayCQiiGzbAdKmAv1EAdNMBRaIaTcA4uwlW4Dj1wD/phCJ7BKLyBCQRByAgTYSHaiAFiilgjjggXmYX4IcFIBBKLJCDJiBRRIkuRNUgxUopUIFVIHfI9cgI5h1xGupE7yAAygvyGvEcxlIGyUT3UDLVDuag3GoRGogvQZHQxmo8WoJvQcrQaPYw2oefQq2gP2o8+Q8cwwOgYBzPEbDAuxsNCsTgsCZNjy7EirAyrxhqwVqwDu4n1Y8+xdwQSgUXACTYEd0IgYR5BSFhMWE7YSKggHCQ0EdoJNwkDhFHCJyKTqEu0JroR+cQYYjIxh1hILCPWEo8TLxB7iEPENyQSiUMyJ7mQAkmxpFTSEtJG0m5SI+ksqZs0SBojk8naZGuyBzmULCAryIXkneTD5DPkG+Qh8lsKnWJAcaT4U+IoUspqShnlEOU05QZlmDJBVaOaUt2ooVQRNY9aQq2htlKvUYeoEzR1mjnNgxZJS6WtopXTGmgXaPdpr+h0uhHdlR5Ol9BX0svpR+iX6AP0dwwNhhWDx4hnKBmbGAcYZxl3GK+YTKYZ04sZx1QwNzHrmOeZD5lvVVgqtip8FZHKCpVKlSaVGyovVKmqpqreqgtV81XLVI+pXlN9rkZVM1PjqQnUlqtVqp1Q61MbU2epO6iHqmeob1Q/pH5Z/YkGWcNMw09DpFGgsV/jvMYgC2MZs3gsIWsNq4Z1gTXEJrHN2Xx2KruY/R27iz2qqaE5QzNKM1ezUvOUZj8H45hx+Jx0TgnnKKeX836K3hTvKeIpG6Y0TLkxZVxrqpaXllirSKtRq0frvTau7aedpr1Fu1n7gQ5Bx0onXCdHZ4/OBZ3nU9lT3acKpxZNPTr1ri6qa6UbobtEd79up+6Ynr5egJ5Mb6feeb3n+hx9L/1U/W36p/VHDFgGswwkBtsMzhg8xTVxbzwdL8fb8VFDXcNAQ6VhlWGX4YSRudE8o9VGjUYPjGnGXOMk423GbcajJgYmISZLTepN7ppSTbmmKaY7TDtMx83MzaLN1pk1mz0x1zLnm+eb15vft2BaeFostqi2uGVJsuRaplnutrxuhVo5WaVYVVpds0atna0l1rutu6cRp7lOk06rntZnw7Dxtsm2qbcZsOXYBtuutm22fWFnYhdnt8Wuw+6TvZN9un2N/T0HDYfZDqsdWh1+c7RyFDpWOt6azpzuP33F9JbpL2dYzxDP2DPjthPLKcRpnVOb00dnF2e5c4PziIuJS4LLLpc+Lpsbxt3IveRKdPVxXeF60vWdm7Obwu2o26/uNu5p7ofcn8w0nymeWTNz0MPIQ+BR5dE/C5+VMGvfrH5PQ0+BZ7XnIy9jL5FXrdewt6V3qvdh7xc+9j5yn+M+4zw33jLeWV/MN8C3yLfLT8Nvnl+F30N/I/9k/3r/0QCngCUBZwOJgUGBWwL7+Hp8Ib+OPzrbZfay2e1BjKC5QRVBj4KtguXBrSFoyOyQrSH355jOkc5pDoVQfujW0Adh5mGLw34MJ4WHhVeGP45wiFga0TGXNXfR3ENz30T6RJZE3ptnMU85ry1KNSo+qi5qPNo3ujS6P8YuZlnM1VidWElsSxw5LiquNm5svt/87fOH4p3iC+N7F5gvyF1weaHOwvSFpxapLhIsOpZATIhOOJTwQRAqqBaMJfITdyWOCnnCHcJnIi/RNtGI2ENcKh5O8kgqTXqS7JG8NXkkxTOlLOW5hCepkLxMDUzdmzqeFpp2IG0yPTq9MYOSkZBxQqohTZO2Z+pn5mZ2y6xlhbL+xW6Lty8elQfJa7OQrAVZLQq2QqboVFoo1yoHsmdlV2a/zYnKOZarnivN7cyzytuQN5zvn//tEsIS4ZK2pYZLVy0dWOa9rGo5sjxxedsK4xUFK4ZWBqw8uIq2Km3VT6vtV5eufr0mek1rgV7ByoLBtQFr6wtVCuWFfevc1+1dT1gvWd+1YfqGnRs+FYmKrhTbF5cVf9go3HjlG4dvyr+Z3JS0qavEuWTPZtJm6ebeLZ5bDpaql+aXDm4N2dq0Dd9WtO319kXbL5fNKNu7g7ZDuaO/PLi8ZafJzs07P1SkVPRU+lQ27tLdtWHX+G7R7ht7vPY07NXbW7z3/T7JvttVAVVN1WbVZftJ+7P3P66Jqun4lvttXa1ObXHtxwPSA/0HIw6217nU1R3SPVRSj9Yr60cOxx++/p3vdy0NNg1VjZzG4iNwRHnk6fcJ3/ceDTradox7rOEH0x92HWcdL2pCmvKaRptTmvtbYlu6T8w+0dbq3nr8R9sfD5w0PFl5SvNUyWna6YLTk2fyz4ydlZ19fi753GDborZ752PO32oPb++6EHTh0kX/i+c7vDvOXPK4dPKy2+UTV7hXmq86X23qdOo8/pPTT8e7nLuarrlca7nuer21e2b36RueN87d9L158Rb/1tWeOT3dvfN6b/fF9/XfFt1+cif9zsu72Xcn7q28T7xf9EDtQdlD3YfVP1v+3Njv3H9qwHeg89HcR/cGhYPP/pH1jw9DBY+Zj8uGDYbrnjg+OTniP3L96fynQ89kzyaeF/6i/suuFxYvfvjV69fO0ZjRoZfyl5O/bXyl/erA6xmv28bCxh6+yXgzMV70VvvtwXfcdx3vo98PT+R8IH8o/2j5sfVT0Kf7kxmTk/8EA5jz/GMzLdsAAAAgY0hSTQAAeiUAAICDAAD5/wAAgOkAAHUwAADqYAAAOpgAABdvkl/FRgAAAPlJREFUeNrE0ztqhlAUBOC/yLoUfKBga2WpKBYKgp21+ncRuYrPK0FtxBRCQCwsXEvWkDqTLagJpJj2K+aceQB4/CaPPwcopV9t2z5vA13XoWmab0LI8xZQliWO48AwDAjD8PUykCQJ9n3Htm3Isgye53WXgDiOsa4r5nnGsiyIogiapo2ngSAIsCwL2rYFpRTjOML3fSiK8nkKcF0X0zSBEII8z0EpheM4kGX54xSg6zr6vkeapqiqCrZtQxTFd5ZlX04BqqqirmsURQHLsiAIwnSpREVRQAiBaZrgOK6/fEZJkmAYBliWfbv1SDzPg2GY5v/GdDU/AwDyYNzeUSg0WgAAAABJRU5ErkJggg==");
                }
                .ui-rangeSlider-label {
                  background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAARcAAAAwCAYAAAA7DT7uAAAACXBIWXMAAAsTAAALEwEAmpwYAAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERRUUEG8igiAOOjoCMFVEsDIoK2AfkIaKOg6OIisr74Xuja9a89+bN/rXXPues852zzwfACAyWSDNRNYAMqUIeEeCDx8TG4eQuQIEKJHAAEAizZCFz/SMBAPh+PDwrIsAHvgABeNMLCADATZvAMByH/w/qQplcAYCEAcB0kThLCIAUAEB6jkKmAEBGAYCdmCZTAKAEAGDLY2LjAFAtAGAnf+bTAICd+Jl7AQBblCEVAaCRACATZYhEAGg7AKzPVopFAFgwABRmS8Q5ANgtADBJV2ZIALC3AMDOEAuyAAgMADBRiIUpAAR7AGDIIyN4AISZABRG8lc88SuuEOcqAAB4mbI8uSQ5RYFbCC1xB1dXLh4ozkkXKxQ2YQJhmkAuwnmZGTKBNA/g88wAAKCRFRHgg/P9eM4Ors7ONo62Dl8t6r8G/yJiYuP+5c+rcEAAAOF0ftH+LC+zGoA7BoBt/qIl7gRoXgugdfeLZrIPQLUAoOnaV/Nw+H48PEWhkLnZ2eXk5NhKxEJbYcpXff5nwl/AV/1s+X48/Pf14L7iJIEyXYFHBPjgwsz0TKUcz5IJhGLc5o9H/LcL//wd0yLESWK5WCoU41EScY5EmozzMqUiiUKSKcUl0v9k4t8s+wM+3zUAsGo+AXuRLahdYwP2SycQWHTA4vcAAPK7b8HUKAgDgGiD4c93/+8//UegJQCAZkmScQAAXkQkLlTKsz/HCAAARKCBKrBBG/TBGCzABhzBBdzBC/xgNoRCJMTCQhBCCmSAHHJgKayCQiiGzbAdKmAv1EAdNMBRaIaTcA4uwlW4Dj1wD/phCJ7BKLyBCQRByAgTYSHaiAFiilgjjggXmYX4IcFIBBKLJCDJiBRRIkuRNUgxUopUIFVIHfI9cgI5h1xGupE7yAAygvyGvEcxlIGyUT3UDLVDuag3GoRGogvQZHQxmo8WoJvQcrQaPYw2oefQq2gP2o8+Q8cwwOgYBzPEbDAuxsNCsTgsCZNjy7EirAyrxhqwVqwDu4n1Y8+xdwQSgUXACTYEd0IgYR5BSFhMWE7YSKggHCQ0EdoJNwkDhFHCJyKTqEu0JroR+cQYYjIxh1hILCPWEo8TLxB7iEPENyQSiUMyJ7mQAkmxpFTSEtJG0m5SI+ksqZs0SBojk8naZGuyBzmULCAryIXkneTD5DPkG+Qh8lsKnWJAcaT4U+IoUspqShnlEOU05QZlmDJBVaOaUt2ooVQRNY9aQq2htlKvUYeoEzR1mjnNgxZJS6WtopXTGmgXaPdpr+h0uhHdlR5Ol9BX0svpR+iX6AP0dwwNhhWDx4hnKBmbGAcYZxl3GK+YTKYZ04sZx1QwNzHrmOeZD5lvVVgqtip8FZHKCpVKlSaVGyovVKmqpqreqgtV81XLVI+pXlN9rkZVM1PjqQnUlqtVqp1Q61MbU2epO6iHqmeob1Q/pH5Z/YkGWcNMw09DpFGgsV/jvMYgC2MZs3gsIWsNq4Z1gTXEJrHN2Xx2KruY/R27iz2qqaE5QzNKM1ezUvOUZj8H45hx+Jx0TgnnKKeX836K3hTvKeIpG6Y0TLkxZVxrqpaXllirSKtRq0frvTau7aedpr1Fu1n7gQ5Bx0onXCdHZ4/OBZ3nU9lT3acKpxZNPTr1ri6qa6UbobtEd79up+6Ynr5egJ5Mb6feeb3n+hx9L/1U/W36p/VHDFgGswwkBtsMzhg8xTVxbzwdL8fb8VFDXcNAQ6VhlWGX4YSRudE8o9VGjUYPjGnGXOMk423GbcajJgYmISZLTepN7ppSTbmmKaY7TDtMx83MzaLN1pk1mz0x1zLnm+eb15vft2BaeFostqi2uGVJsuRaplnutrxuhVo5WaVYVVpds0atna0l1rutu6cRp7lOk06rntZnw7Dxtsm2qbcZsOXYBtuutm22fWFnYhdnt8Wuw+6TvZN9un2N/T0HDYfZDqsdWh1+c7RyFDpWOt6azpzuP33F9JbpL2dYzxDP2DPjthPLKcRpnVOb00dnF2e5c4PziIuJS4LLLpc+Lpsbxt3IveRKdPVxXeF60vWdm7Obwu2o26/uNu5p7ofcn8w0nymeWTNz0MPIQ+BR5dE/C5+VMGvfrH5PQ0+BZ7XnIy9jL5FXrdewt6V3qvdh7xc+9j5yn+M+4zw33jLeWV/MN8C3yLfLT8Nvnl+F30N/I/9k/3r/0QCngCUBZwOJgUGBWwL7+Hp8Ib+OPzrbZfay2e1BjKC5QRVBj4KtguXBrSFoyOyQrSH355jOkc5pDoVQfujW0Adh5mGLw34MJ4WHhVeGP45wiFga0TGXNXfR3ENz30T6RJZE3ptnMU85ry1KNSo+qi5qPNo3ujS6P8YuZlnM1VidWElsSxw5LiquNm5svt/87fOH4p3iC+N7F5gvyF1weaHOwvSFpxapLhIsOpZATIhOOJTwQRAqqBaMJfITdyWOCnnCHcJnIi/RNtGI2ENcKh5O8kgqTXqS7JG8NXkkxTOlLOW5hCepkLxMDUzdmzqeFpp2IG0yPTq9MYOSkZBxQqohTZO2Z+pn5mZ2y6xlhbL+xW6Lty8elQfJa7OQrAVZLQq2QqboVFoo1yoHsmdlV2a/zYnKOZarnivN7cyzytuQN5zvn//tEsIS4ZK2pYZLVy0dWOa9rGo5sjxxedsK4xUFK4ZWBqw8uIq2Km3VT6vtV5eufr0mek1rgV7ByoLBtQFr6wtVCuWFfevc1+1dT1gvWd+1YfqGnRs+FYmKrhTbF5cVf9go3HjlG4dvyr+Z3JS0qavEuWTPZtJm6ebeLZ5bDpaql+aXDm4N2dq0Dd9WtO319kXbL5fNKNu7g7ZDuaO/PLi8ZafJzs07P1SkVPRU+lQ27tLdtWHX+G7R7ht7vPY07NXbW7z3/T7JvttVAVVN1WbVZftJ+7P3P66Jqun4lvttXa1ObXHtxwPSA/0HIw6217nU1R3SPVRSj9Yr60cOxx++/p3vdy0NNg1VjZzG4iNwRHnk6fcJ3/ceDTradox7rOEH0x92HWcdL2pCmvKaRptTmvtbYlu6T8w+0dbq3nr8R9sfD5w0PFl5SvNUyWna6YLTk2fyz4ydlZ19fi753GDborZ752PO32oPb++6EHTh0kX/i+c7vDvOXPK4dPKy2+UTV7hXmq86X23qdOo8/pPTT8e7nLuarrlca7nuer21e2b36RueN87d9L158Rb/1tWeOT3dvfN6b/fF9/XfFt1+cif9zsu72Xcn7q28T7xf9EDtQdlD3YfVP1v+3Njv3H9qwHeg89HcR/cGhYPP/pH1jw9DBY+Zj8uGDYbrnjg+OTniP3L96fynQ89kzyaeF/6i/suuFxYvfvjV69fO0ZjRoZfyl5O/bXyl/erA6xmv28bCxh6+yXgzMV70VvvtwXfcdx3vo98PT+R8IH8o/2j5sfVT0Kf7kxmTk/8EA5jz/GMzLdsAAAAgY0hSTQAAeiUAAICDAAD5/wAAgOkAAHUwAADqYAAAOpgAABdvkl/FRgAAGapJREFUeNrsXUuuJNdxjTB6M1qCliGJ1B4FCvYyPPaIhgUQBASINkSZI0MjxvGg7ufE72ZW9SMly5WTfl2VlXk/8T0RN0J/+OEHyPt6X+/rfX3w9U/vJXhf7+t9vYXL+3pf7+stXN7X+3pfb+Hyvt7X+3pfb+Hyvt7X+3oLl/f1vt7X/+Prk0AE0kSjVYS/mv/lj1XH3xifq4hCBHwX/VDH7wD/8PAq+nR+h3ocxWvSFLQa3+FSFQHPoHjyuKceMa3PHOu6/fFJOd85zuLRh1+VP+axK63eXrvx6dgTtx86/kZDCrye1aRv0NLd7x97Vq91vRXVBl+tRk8zxwVIz2sIQAoaDcPc+ysFl+37xY0t31+NfXIRinV5jH7/e6Sv9TVubZ/+5S//DaaUNRBiK0lMvIcibuCHwWn4T0ksOgilompdQiYJN3TEOhZcJ/Pwdwg8qfTeiluCMJzvTVNO7NtvmSMS+PcqEQtOu+g5vSKkLSvyvdX4NInzYv5O2GkSp/W+xP1A+cb5bBUEZRClmniNIdV6ohTOji15fRRSy4rNGUy+3RqudZ/7pzoeDUc/jtKUSDMpTbcqXthERS9Ri+bRrbFJM/BEdLKe18jZtJf6/fffo6AuybJCk4Tkze4Y3PNxEA+VQdDYM5UFwtYQwkao4syUSbqfZHe5IK/IioPIqhlfWi3HP9He+rw0O+TCNI2386SK/ejYzT2ns7K2paJj8+pH8u8zd3jroFobz5kVZVemGAuaSF9RVKK1Q9QruGpdCn0crc2Kb8QJQlaESmOdEu2xxqhFl+cLVlRhhKUCnXP68/d/xpnBr5XmiV7lpiVc8ONxQM++qxdb93/piOvMzovjtHDobq/vEz7EDYfpvIfdfY2JdpJNtZV3dDLvz/rgPklyLTqp/8qLz79nSwRPuoKXowqWROViywv0LC/Q/zO/+wQzAXSZSdUg2web/wLEggBE14qrf9C6e7900i/SW+sZuY+iO6PVVHF+JI8zjAHpnUGwoHgnivsE4dfq3g/Vi4eGudAjEG6HVD76+Lt5Beizreis3P211+PFUH4U3MOBub5+Pdu5zQFouaSlFoLW1MvrcGaNZr3dOueXLxs+WqUotFLDPziNxU+A1nN/DnefNpw7fT+yRFSvB4u9thh/623hMpkAxEogN2C808iUUyX3xkQ0ugz6ID0Mk9eNim1JwA3W0/E2XbUSACwrlAh9riGwHDG/XSeq3QTjga6wbxU0E1T+Y+/gwO7oJz0EMIkbwE9Fec5jvcdvFpw4/PiH+b/nOP18dhcFWwqBLXPyzUFA5b7JHDYhZIk8cBEQiL83B857eYwxCnmniNZKjCdZAQ6Md2slUYkbtvXgGRVR/zDDLPphIYjlVmyWAAlVrFV70InuxZ7jt+2/T6rySkJpDcZzYY/7dK7DXlOd/GlMpXO6KHBFbBoZe7VoZNCXio3FsaRkFx8PKQ5eZ6XnBsBEv/vuPzFBVBdNWf+hAUeZGMw1HHBoGX7qlhEDQNWgF4crsQh44Q2F/8ULTejcBGY9MyxXU5z8pGcuTAgMMHsBgdpESVhBBAHZT4+40AbNdREIFl4gJUDscC7aq/X7uBMekzuaycoAHgtyJ/T8WkbsRR1OxbaOOustR/AiieZIIVtrTt86ga2bpktEgty0RWsIigAZ/3GwjUPRB+NtwHrjMkRj0LFG8HuDrFgdzsb8gsiDcY08NqMn3IqQ4G3RkEs/gOhpMHBkUZeSGvdJwKH+9Kc/4ZZ5ePoKAae6Zdp7sBOvvLdzZ8ZiaGGC3xsfCH5+9urN+ttr4hhBvWGlzw/l+nM8+eDGab5rM1cmfGkeam2f6/m5ypaZe1SgCZC0bVzici9eWLMVDZsKc8mX+8/p6fHg0ukVzff0quTIl/sSYI6I2n0CbNsXZCtPzcM6UyHZVwPFwACxFQGYmgDJnVsfTWlnLPFlWTh73ipqHqAjetlRnokdgc1y70/CadCApqhu92RYcwjh6m3GxxgiXDRI9TGvaVZL8PunlthW/9CQ6uctsKDLEc3LMudICk0iw52AQtTIfI+41ZIVYx8BZx3E0OCyUNUeVrV4jcumIsbmPayrbbku9Y0dRWJsatGE4LHPQIrdgtynqU2Xth8ut003ILpUhu3ykLvIlpqxQ6kigK0Q83R5tqXgGdCWW2gLbpl/qLMgppVLcx0PsU3wK4qjoNSDsc7q0EIKKSCG48m1Q7TuIbasM/L9g2eLtZ6yXSqIQEz0j3/8I6J01RZ06wCjC+kabtOalq+TcqQBv9jPvTOe1nrqwbz23UH7qkaWu2f9OA+i+OwY8bmp/FSSjBtun957RrdOp8jUNck8vV/lcwuVES2XS6t14B5o6EicinJZXiVQndzNBNofgNfDItUWRQfqHtb2OSO6gDAKvqbvPpklVTM0HlxuhkPIlybHjorohuyV75ufWEj8HBTC+MuOeqpPA1jWFFktTgrDRQQ4Z2GCzfxOxoOENJVIxhGWD8t+raqzbnbmsQoM29oCxGImZ5Or89DmQ7tD91rMXIRl6VCyXxwrYR1b427StzgOGRqdgdKJL2gAgudnxqjJxAbUAY6O/cCsqNtKkO3Tz8Vf2OWkBwYYgmckZL2wfW2CYGmoA5g3/6mz2uZHZqCEPuKmqd3nkGiNAXHsPpNBbfHQ4yGWghMMomM9l6OvWsSsoYQcEWi3sMEMRo312GDyskoN5A1M3lf62Zz3w3uAy/XZXoKIjucTRPLtt99CigkfoyqqNQjAv08hPG21RVINblMrK6UZm0bksZiLC+1pY4yBgDfWBvDjS3MgxBPiI24lLkNriZBercH3u6HRnAtYhv+rR/URFz9+9JkP8ExYAiPxfdGkcGODR25bnA0+CztiAT4k1q+911gBfzmsD9M3qnnwMyWkA4fETJVMW23qb8NHnJOkd7BA0hpa8ONpLVKCWoFRffPNNzjhY3U04WzY3TFxtY5KeqtjaUc5ny25GG9nsjtNc5UUF6M15byLzOB2DJspBNdj77/LubOdod2uQ5GKfkxrbwMPOVFOezjwmIxYnyrL9FPRTU51V2ddnOjlLl10CaBdFvWJIEKw02MazbpnHvVnplRwwRP5nmqN8zEHDcc0etr4BJgYfOC4cw9cqLLIRzdO8KdQsnM9RsjXsF0dc2DhzKkZT4NlTzMATcbgpbqof0p04vyTFS4Ucil46XSHdbfXpw9zl0KtNnMhxDboHUzqTTDkkkVB5FIAZh4BEx/lx6zQt7mwt1DOyRKG6pPdhFxeqI4F3xkmMzy68jYc0qDk6tHCYPhYiApC8jsDalAxprHhBCUQfApwde6MUJo/AkhsGo1Pda6gOwqgSnlDlvDrnAm8KQZNXInDxs7VoUTLFI5XbI+F9sonL/qzf9twZBd8umSet4Hi4G84oqIFCguXIhKVrbq10D/8xx+Ks0XwYlTEuyPR9K9cjmhSVRRUhS/TfdEVKWRxyjeoXCu/KQuPEe2zc93YTq5V4d4UWbRJvpch0DBHlIjiBdZeJJ/owTZF4L7q35gpCj2juOzWIeYrBBPdh/6KMyCarPetqWIYMuTha05Yq1UtMZE71BVdzuCasMkX3b2V/xFcZ5HCfQ7Yitv7wFPgJEwtXKOY0FTwjpOYWrsrUsgFt5Ma3HhvmHwy2M4AnGHC9RtjJI8yc2mxQIlJgcDTaVb4wSw5bIRvJP+T9CDzK/jAJHwmIzHvCpchgIMrTDtjlOYSqh5rYHscGy1ziWErJGh8qjYY1RYS8hzPnfIr4KNGEEqI0xzhQxHvt0GAFgDkRStk0VCI0iUtQvIhQRJIaoPYOVMY5pMRyTbKpzgxTJVA0E5Y7HvcfCMeNHPjbeyhRbMDBcY1o6gmRuvnD/zJGsd6Nz+DhO8O0c4Qt9+Xpd+xgx3xIKOz6di8M6ysaREC9wlv25UFdE8OfJzSUvTCgdiIRJeP8SAehyBgWAY96L9//TXkBubi3Zoa4/X+YcC6g5bSI7YTkse0PrpzCt4hhP9U7uAadTjTGzIImcM8vphdoNc4SIe/Jc9WgwC/F67UE0ZbKScOoldnj5rkMh98v5tGcP4870wMAe9ckHIPHBNoi41C76U8ME2q+gMlPpTt3ykXaQwaI2FNqsJVxgCOdJBTDvQI03tLXfXEc8VayAhFowEbyxg/xIXUIMWRofBXAs5DCvrcBnOnU4og1jU2loSVDQFjcj55zR50nF86rS4bQ8mFstg6yWCg0bhEsgeVhS3En7ph4w7l8f423rczB8rzf16RI8yZrXKkvA+h3+kNBYALgWgiTTmNokTDsGotkLg5WuvXqAKGKzUZabLKmjEgKMlK3ea0CeelBkA1jhNJFfQAs4WZiOTT23yvM8To2QYPQMd7K7D8keciRRw+MEQUObgi5FgfRSkknhhaZRqkFcIeU228BdkXAJpEaSKVDeCL/oS/DTmqwYCWBuKwq0hCjAq54lR5PViYpMiIanALgyPT1H/pK9z56IE/mBis8kL1xAognO9gFViuWWl0ghcFhGAp0rLfidrWaA+uV7CYZ17r4ccI8RUeQsUnLm9JqioEoZSC5rVy+THhGe68pHeOWuHeAetSRJlQgPHr3YQSD+GS0ziqGoxg5LjAU6FXloYHXhHimVYYV/HgGNeygPq0ZiUg2vnaC1wLc7TapCyJXCQxryeufUQiZNyv5DrEja6EqO4ImTsESOYRVlwumxaQnOqDSKS6Iy2uYFPBQHwPCmVTx13HCF1CGKer76iYSj5mUIVh0QQ+l9sDLPWkFR1Smr4EeuIyBH5vs2WgURHTsGyslS905R0TKeIAPuWG9t8tqY61QUozA1UcqMq/JtgwmUXqDrY6y28pU2RHj6LEa92NLReYz4fKx76S5F+hvTATmD8TkQRJGfTwK5WMPMoLYm3awp8jjoniLKy2tVU1JeDFcKkwEZo8wt/gEgCQeDYVIWNxAnDwNEPh3ogOBKE4Qs8oCNupchQCpXA4r1LzKrvKCYjwdQqcWEayrDj+V2lSHzodD2uSb/KRQm+Zbucxl8hk8s8CyyuJdLJeQnWAR4rvVjaUVZ5Mdqvq55b1LdPiIOx1Ve4jxlHUKByOnAMjjYEAOmEuXelStcUbjCN+sh+t1uIF4ULq8go7dGZeQ0V/QRqtDvHm6zE7h6IEyOZeucjO9AuQ4ynBIuYqDFtTJxGR7elM6Ynmh6P8rOFnzsqDyKwhjhChWXP3QqqHQhEsUjoYl3IzgiBoq5jTUQpBQyPZbt22lnWVU0lAPQ5BaioNQICHi2TYjqBV5eDUKLg5LW/y2RoTv4I9W7ddd8TR5bUU2YnrQGuHP/H5BamtqdIbsD61DQ4FguNbRL+z4Z8efZ/1Z3x+1ScDAvLFEvHaA8to6ta2sHhSgM6MBLQCDv8v4NY4+Si02qHSeZ345PQczU6RC4tbSiws01BUjmOtCASphslwFFO5+JDkGGBO3obEnCF2cIwStummdo4qalz3qdltnRtK/neJsdVWbIqQB2G63YYwgaIgVlU3MwU0qrq9JlLXXY1wrfVMWVkButM+auHgv5spjRn0ax/exKoQjATJh+26qAmZVxh+kTnLJR75VjpantITG1TQPAO6BYzM2fUs6T5wFsVFuCi2XCB5ga6aHA49VEwuAqjz+P12r2AMq586IniVjaI0RdJMqa+KuU3ncGPKVZELl5AFk11PWwpsQorDriCUZqEVbcHzK80cMRcr3IYgiJ+tzNMekceB3roK9dg+lZz64BT0fYzTc1mKLhaHQmkiZN/HvdAQo7fGzPT4kN8f3aHoUPJqnFq9tQtt9sPV/Zl4zr1pHPx9K7BZCT+5ddZD7GpDqb4I7mXQtBX4T8NnkM8CeBt9QZMnLipnCOsFxYVAvV+R+qK9RNmA6k6DqUrro7e2Up+cQsixe9M3AXKJlL2CtC6JpNdiPPeTxVuBW3f573bF7cMeNJCHkiXzyezHQMT2nGw4IvqFf3BnQker5oXrlVL/He7RZrB0B+cO8zmO6/bRuJrw8ErN9kIKq3hEsOeU8/DlGAf/mE1tG1p1ZfbPvX1aS6+0ZGLqvnW4QdNnhi1de5I+pN6z1nUrBL00SuKUx3AMAiil/1/SzMXiayNBLwHTq94Wcugp0fvVTwmoo3n7hAYtG3R9lNR75jd605R5sifM1TF3iJzP8+KsiU99Q/DsGtnHCKwnr4WDfO7zX5nCHcV1qwrbzR9fHOEfmMuTD/kcS+CV/Ta5Byr/HNepfWLrMz9bSOGK6c+J23eggOuOax9lNXZme9DQ1kS75K7AebFf7JXv/ILghTxDrzdfcLtE3xM/eElo3//BTqL7HC57euLv63XNeMa2nihy+KR6/DzzxrcmuYET/MSE74Xfz0GYrzLJDfzlZxnb8494Wbj8Y8mKJ81V/G1X6apvIX6uZfksK/+nWZu3DvuYFSoNwyeJ6zMsl59ZJf892Q7PtJ37vylCP29jLn9ydbZX/xEJ5++OFn5qgOEgXH6eTasq0t8Zzv3uAD+FVsOHBLSeL2n5IqM9sZW9U/OSeXXjhrYX7hNj7CJ3zzmJH8eIr/Q0unQqP4S+2s/KDgmfx0sXlgs+VGlUx+/tmYniJxJqLcE+q7HRVJab70A4QxLf/blW0WHMrpBWL7Dt5mPrfM9XmQo/oX77WzlJeFpIrdIGx6qB0tZjuVrAHmFLjdqfEyQFv2olXJ6WXLgvUKzwwdv3fSbQ3RVs/BCiPxC+b6V6pbGvraIPJepqw3AzqHS5H2jrenyWFfcBkeljhsOLNPKK8rKbmFSVyVD2nLqxb9eFuk9l0Ps1jCql+rnrW8TFl58y4Ysq4fz3R2RynI7rnFIknjVvT7VZOsLvik89G72/LTCr83kfbrm9tlFHgj9E69O/el0k7K5QuNPb4SXFeve+QzRdRJ6q0NfdcIoF3qErub2W5xMx/PtPZqZeEFy3JWil4GqeXrS6eIKau0W/amvQMeKqF9OVC7jYOU8kOwlQU4t0pE2VZtMlaQIS7F3z8+I9qa6zdEf55Zg9UHUP7s6ApVzVUM2iy1RJ7UhIUxu1q40NuK7G7mrS3CD6qBCZtu6W3Cyr+IUxWjf2KoufuK4sMtXkcnY8Ua75QdjHNvaPfdVU4d+Kde1kwieYBRzAenjNaZPJDKEaBbV5KA4Up82tqsLtSW7qw3EiXJi4ltyzgJQG9KNuWWKuD5HhpvWjm1HmET2hei1x/rG2sVBZAlsPlFDpXlLBJVSuCDGcyOlEgy+6xT+lGkqJy3bqhaq4asGhTOgo0gQqO6GuFxeXj5gFw6yoOTO6O4qvaKh0ZMUaM7Ys6UjEqdTeg6X1bN/CgotpxnQXjrckODUXao/MWwqvURcF1+7UqtTHVQMHvVmJ7tF8ijOEeEK5C72n0nSqIp/MsE6tLsYLzZxDo8pVzXzXYdknYkPtqdUXZ9bQiNXa/L8kLmjRZLGcUHlA3e0p1bxgGpu7W5P6uivrJC0RwSqhsVpZYvdiWputofA2AgPNMif2IDxqUZsq6rG3u6qymS82tWqaiKvoxocGNZQ3iNLbYv8igTw8YX8CkntNUS+n5E9w7525bLMVKPtqi/FGYa1dtV5XFwMu5sTlImydZR3jTXVOQbW9fD0gB527introOP4DlduloCSWiifuqswCtcqgi9V6jtmgeJVu+yH+B3Z83ZC0X+L0IZVXNG0rZxnPy1zjea3YMaksaU9kJrUlSVjlzFhziVQWIG6bcVKgO4kRAvtXkIp5knEGIu0Ks8RwSo12BotJlb/31ksu6xJOgtNbQHGBLvH9ShO86jqb9mxnZYCLx73czEub22rs4hy8RwKs4BObu9iTRR9WdXHBum4XsJcFNk3wtoSLVg21N9aU+8hBAtMHmahyWpyrq5HDpHamCQE3peZLZzTAWmVX//mN7/659///l9WSYfR3uNXj8+DsJtzYUvlIWBcq1FmeJBymKUo2QZy/XkslaJkxkk1cZQMfi6fSF3S9l5bMCuNLDvbDeKcdRyLifne00K0umkHIWg3lCRcfRLa21HCcyqwJYxiwTBdvZcmzzhH0YgWZougMR/jwvNjL21ZiurbDFF/Lh/JnbRlq4kdAbpURIjn6YrgmNMecJtGSm7B3rYmC2ps9WAQcUyzqnaCa40itH7YnfY2s88hWV2Z2tUunS8yImoavyH38mUT2fDQ6qsCslDdkN1YfbscZE1g1B5xzcCmBWDiGlfRWJ0VabT2zGEGsirE/y42cDN4QQmvtZ0uezz33379xRe//P1XX/3rDLV/8cWXvxSR/wIQiowXJSHA/ZmQm+uJcHHfvVdcCBfEuLR9650mrmHXEnS852rsI4/KjE39OUMoeyp7DKn1RWhgl1tP7Pev7c31XbAqq8XQMNdOZvLYi/AYplH9H/HFi1zxXOoRtaxfiKWT64P+uDdU7HXt9ny7LVPJ7Rq6JH1o3LQJwcyCi2+6viFKfWN2UHcLHrYAVxvWptsvCxd1ElmWyF10NBeL006o2QU5UiTghpu1ijUhES3r/1VUmpvCuU6T+/CbuvQBrMZbEhqYLcMXvi/R6pEk3KOHvo8An5lvQC9MQx6ZUaO1cIXOk0b+HxH57osvv/zFV7/73ddf/va3vxCRv4rIX+1Hc/3YU9sTkGWg1J4jxS7haSk2GJNNK8L9rIpQaJRb6tZs06Q5/jSJTYBl7YUXasuIhddlnraYjLBogXtyiecKuje4SyJUvTGGo5FLQK9ibyKx1hJbaQq/jkvpSujUEHqSaRL2vh4O0+z/DgDf5xFKOa+IogAAAABJRU5ErkJggg==");
                }
                .tableelem {
                  padding: 2px 10px;
                  border: 2px white;
                  background-color: #E0E0E0;
                }
                .tableheader {
                  background-color: #C0C0C0;
                }
                .bokehtable table tr td {
                  padding: 2px;
                }
                .bokehtable form table tr td {
                  padding: 2px;
                }
                .bokehtable form table tr td input {
                  padding: 0px;
                }
                .plotarea:after,
                .bokeh_canvas_wrapper_outer:after,
                .bokeh_canvas_wrapper:after {
                  content: " ";
                  height: 0;
                  display: block;
                  clear: both;
                }
                .bokeh_canvas_wrapper .resize_bokeh_plot {
                  position: absolute;
                  right: 40px;
                  bottom: 40px;
                  width: 40px;
                  height: 40px;
                  padding: 10px 0 0 10px;
                  overflow: hidden;
                  background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAZCAYAAADE6YVjAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEgAACxIB0t1+/AAAABx0RVh0U29mdHdhcmUAQWRvYmUgRmlyZXdvcmtzIENTNui8sowAAAEnSURBVEiJzZXBioQwDIb/XQuF6U3wCRSEvv8zeFOoB2++QD14aqHSOntYtthxdHesDptTk4Z+hKR/PqqquuNi+7wa8DYIWTplWSJN0yDBGAMhBJxzhyFBJY8AACCErGKv2u4L1lp0XRdVBfBLTwghuN1uUYBNiDHGn4uiQJZl50GmaYJSCm3bou/700BBT4QQAL57IaUEAOR57kEAMAxDHMRaG1wuQc45aK1fBqwgz+wHpJSCUuoayBJ01P6/djHG/jR1hzWDMQbOuZedvak7XAljzAMe/xGlFEmSeP9wJVv/SGsNzjmcc2iaJg6yBbLWghASqHf0dEkpAwl6thpOGWGl1O46iIZQSsE5Dxp9OsQ5h3meV/FxHP05erdaa1HX9W7OW2TlC31ceRWbb5+AAAAAAElFTkSuQmCC);
                  background-position: bottom right;
                  background-repeat: no-repeat;
                  cursor: se-resize;
                }
                .bokeh_canvas_wrapper:hover .resize_bokeh_plot {
                  display: block;
                }
                .bk-sidebar {
                  float: left;
                  padding: 0;
                  position: relative;
                }
                .bk-sidebar .bk-logo {
                  margin: 0 auto;
                  float: none;
                  clear: both;
                }
                .bk-logo {
                  display: block;
                  float: left;
                  background-repeat: no-repeat;
                }
                .bk-logo-notebook {
                  margin-right: 10px;
                }
                .bk-logo-small {
                  width: 20px;
                  height: 20px;
                  background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAKwwAACsMBNCkkqwAAABx0RVh0U29mdHdhcmUAQWRvYmUgRmlyZXdvcmtzIENTNui8sowAAAPDSURBVDiNjZRbbFRVFIa/tc+ZOQM9pRe5VKoUQbBcDBchIkFKCJZEGy2EENSY+KBp4UEND5p4xUAiEp80MWo0gmLFiFI0RhMChoQoGiJyE01UelHahplymWnPnJlz9vKhTKOBgvtpJ3utb/97rX8vuN6yR4W25ndpa+6mrXnJ9cLlmqfPzKthes2bjE6tQhXgLPAkD7Xv/l/AL45RDbQYYbqfIP/wN3c0/F0+cQZ+AqwFFEwccnb2ZqKbO5hck8Z1D7H6gYESwy1t9v3C6KBIO3A3QDFmMCZ5noQDqiAKJjhM75wspm4LN1YOJRaLP7FrdxPr1vQAmBIwjFkgMgRTIAHf90Zlx4eutEDwBl2Ne0jNXUzteBjlcbkM8xGeukLhoS6q5k8A34PIgi+cxCubgpBHBh8jvfEvarJfMsotw1qwerloCnBLiTOscErWqevMDKkTgayaLrzUQQwNrNv3EWPtKcaklhLbe7HRBjTchkZfo5pB4ux/mlLY7t/jqLR9ksqfTE8qLppWQSqMZHXzXN1ztU7O+KBnQxjkG/MD+VEFG84sxnEYnAuXF15b3CWF7f4c4CuBWjeSw1uqc+231ummcWU0rKjnx6sB63d33a6qR1EcjSEKY1TtATdlmgywA6hVIHZ10fMZv+6UZVUuoOdqMIBf10w60V87rgkRjAOe7+L5yeXGmD0GOIgMVdMKRAldv/nomMrmeXSPBNy64PUbnl28nsHKsletMdjYoqogstKQZ6MGtl3zMVhFBYqe/biww79zJKDnemMHZ9a3Nz364sBAlX9AHQegH3SFSbbm4uKxsDXu0hNxd9xn04X95It7xS0uHwlYCHO1iTLfm2DKX1q4+R2Jk4lLakzLb2sn7x/+eufXTNsqjm3VmB+I5DiGP8WznZJwe9Cgp+LD7t5M1fpZftB337ZZS9OO8p7jOPT2ddB5U+XLn3/3wib4l7HFteVAhSS0kYQ2AmAEWwhCm+xb25/aCAzsDDV3JHDkkB8pqKW6agKc/r2jxBk2NqIdl10/5GwR4kI2X0wHr/Bp6114ub2ilIfxOU3F0TwVwVpLwk1SM3X2hRJmWKGqvi8i9yOyRKOYODuI7R17xD3duAwvWIYANiQntt5RqSjNKVU9ZoRvrwBW7TqTvvjI1BUasTS6eGm8Zqomun80PIcXVCAWERcbDxCKLcQmudPROAV0gr719JEnLg4/dKROAvSPaVmJsW8DdSKGQjGz70LuQMtt9J8ZKefaExvIVD4+V+AzVH8eXb3wwdSZlsK14v8BfriiZcJWbEcAAAAASUVORK5CYII=);
                }
                .bk-logo-medium {
                  width: 35px;
                  height: 35px;
                  background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACMAAAAjCAYAAAAe2bNZAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAK6wAACusBgosNWgAAABx0RVh0U29mdHdhcmUAQWRvYmUgRmlyZXdvcmtzIENTNui8sowAAAf9SURBVFiFvZh7cFTVHcc/59y7793sJiFAwkvAYDRqFWwdraLVlj61diRYsDjqCFbFKrYo0CltlSq1tLaC2GprGIriGwqjFu10OlrGv8RiK/IICYECSWBDkt3s695zTv9IAtlHeOn0O7Mzu797z+/3Ob/z+p0VfBq9doNFljuABwAXw2PcvGHt6bgwxhz7Ls4YZNVXxxANLENwE2D1W9PAGmAhszZ0/X9gll5yCbHoOirLzmaQs0F6F8QMZq1v/8xgNm7DYwwjgXJLYL4witQ16+sv/U9HdDmV4WrKw6B06cZC/RMrM4MZ7xz61DAbtzEXmAvUAX4pMOVecg9/MFFu3j3Gz7gQBLygS2RGumBkL0cubiFRsR3LzVBV1UMk3IrW73PT9C2lYOwhQB4ClhX1AuKpjLcV27oEjyUpNUJCg1CvcejykWTCXyQgzic2HIIBjg3pS6+uRLKAhumZvD4U+tq0jTrgkVKQQtLekfTtxIPAkhTNF6G7kZm7aPp6M9myKVQEoaYaIhEQYvD781DML/RfBGNZXAl4irJiwBa07e/y7cQnBaJghIX6ENl2GR/fGCBoz6cm5qeyEqQA5ZYA5x5eeiV0Qph4gjFAUSwAr6QllQgcxS/Jm25Cr2Tmpsk03XI9NfI31FTZBEOgVOk51adqDBNPCNPSRlkiDXbBEwOU2WxH+I7itQZ62g56OjM33suq1YsZHVtGZSUI2QdyYgkgOthQNIF7BIGDnRAJgJSgj69cUx1gB8PkOGwL4E1gPrM27gIg7NlGKLQApc7BmEnAxP5g/rw4YqBrCDB5xHkw5rdR/1qTrN/hKNo6YUwVDNpFsnjYS8RbidBPcPXFP6R6yfExuOXmN4A3jv1+8ZUwgY9D2OWjUZE6lO88jDwHI8ZixGiMKSeYTBamCoDk6kDAb6y1OcH1a6KpD/fZesoFw5FlIXAVCIiH4PxrV+p2npVDToTBmtjY8t1swh2V61E9KqWiyuPEjM8dbfxuvfa49Zayf9R136Wr8mBSf/T7bNteA8zwaGEUbFpckWwq95n59dUIywKl2fbOIS5e8bWSu0tJ1a5redAYfqkdjesodFajcgaVNWhXo1C9SrkN3Usmv3UMJrc6/DDwkwEntkEJLe67tSLhvyzK8rHDQWleve5CGk4VZEB1r+5bg2E2si+Y0QatDK6jUVkX5eg2YYlp++ZM+rfMNYamAj8Y7MAVWFqaR1f/t2xzU4IHjybBtthzuiAASqv7jTF7jOqDMAakFHgDNsFyP+FhwZHBmH9F7cutIYkQCylYYv1AZSqsn1/+bX51OMMjPSl2nAnM7hnjOx2v53YgNWAzHM9Q/9l0lQWPSCBSyokAtOBC1Rj+w/1Xs+STDp4/E5g7Rs2zm2+oeVd7PUuHKDf6A4r5EsPT5K3gfCnBXNUYnvGzb+KcCczYYWOnLpy4eOXuG2oec0PBN8XQQAnpvS35AvAykr56rWhPBiV4MvtceGLxk5Mr6A1O8IfK7rl7xJ0r9kyumuP4fa0lMqTBLJIAJqEf1J3qE92lMBndlyfRD2YBghHC4hlny7ASqCeWo5zaoDdIWfnIefNGTb9fC73QDfhyBUCNOxrGPSUBfPem9us253YTV+3mcBbdkUYfzmHiLqZbYdIGHHON2ZlemXouaJUOO6TqtdHEQuXYY8Yt+EbDgmlS6RdzkaDTv2P9A3gICiq93sWhb5mc5wVhuU3Y7m5hOc3So7qFT3SLgOXHb/cyOfMn7xROegoC/PTcn3v8gbKPgDopJFk3R/uBPWQiwQ+2/GJevRMObLUzqe/saJjQUQTTftEVMW9tWxPgAocwcj9abNcZe7s+6t2R2xXZG7zyYLp8Q1PiRBBHym5bYuXi8Qt+/LvGu9f/5YDAxABsaRNPH6Xr4D4Sk87a897SOy9v/fKwjoF2eQel95yDESGEF6gEMwKhLwKus3wOVjTtes7qzgLdXTMnNCNoEpbcrtNuq6N7Xh/+eqcbj94xQkp7mdKpW5XbtbR8Z26kgMCAf2UU5YEovRUVRHbu2b3vK1UdDFkDCyMRQxbpdv8nhKAGIa7QaQedzT07fFPny53R738JoVYBdVrnsNx9XZ9v33UeGO+AA2MMUkgqQ5UcdDLZSFeVgONnXeHqSAC5Ew1BXwko0D1Zct3dT1duOjS3MzZnEUJtBuoQAq3SGOLR4ekjn9NC5nVOaYXf9lETrUkmOJy3pOz8OKIb2A1cWhJCCEzOxU2mUPror+2/L3yyM3pkM7jTjr1nBOgkGeyQ7erxpdJsMAS9wb2F9rzMxNY1K2PMU0WtZV82VU8Wp6vbKJVo9Lx/+4cydORdxCCQ/kDGTZCWsRpLu7VD7bfKqL8V2orKTp/PtzaXy42jr6TwAuisi+7JolUG4wY+8vyrISCMtRrLKWpvjAOqx/QGhp0rjRo5xD3x98CWQuOQN8qumRMmI7jKZPUEpzNVZsj4Zbaq1to5tZZsKIydLWojhIXrJnES79EaOzv3du2NytKuxzJKAA6wF8xqEE8s2jo/1wd/khslQGxd81Zg62Bbp31XBH+iETt7Y3ELA0iU6iGDlQ5mexe0VEx4a3x8V1AaYwFJgTiwaOsDmeK2J8nMUOqsnB1A+dcA04ucCYt0urkjmflk9iT2v30q/gZn5rQPvor4n9Ou634PeBzoznes/iot/7WnClKoM/+zCIjH5kwT8ChQjTHPIPTjFV3PpU/Hx+DM/A9U3IXI4SPCYAAAAABJRU5ErkJggg==);
                }
                .bk-logo-large {
                  width: 75px;
                  height: 75px;
                  background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEsAAABLCAYAAAA4TnrqAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEgAACxIB0t1+/AAAABx0RVh0U29mdHdhcmUAQWRvYmUgRmlyZXdvcmtzIENTNui8sowAABNHSURBVHiczZx5nFxVlce/576q6uqq6q7e0t0habIRgQScfEBAJ4MLo4gogY9CAkkIApElCqOCI8IAKriMg6MwoqiBgERMIJEECCoIKKIYWcImS9KEJCxJOr2kt1rfu2f+eN2d7qS7tu4Efp9Pf7rqvvvOOfV759577r3nPuG9hF/PmQXmZEQ/CkwEtqLyV8Q+yPz7nn03TFLVgc/ybhiwD+469WiQLwOfAmqHqbEb1bWo/JCFa148kKa9t8hafuqVGLkWCBVQuxvVy1mw9hf726x+vDfIOqMxzCdm3U4sPK/oe1V/wIK1X98PVg2j6t0m63uzx2O95YyLn0BlFKwtRcrPmb/morE2bW8MJsvsb2X74PsfmoToAwScEwgFAM17ywi4kLtO+78xtCwvDixZPzjuGMQ8CRxFwIFgALRksgC+xF2n/WyMrMuLMWmG9zxLRQjGIYxjGFc5tJLsOX8+/Ij1LbX/g2gDVqE8BI3VYEdFVj9uYf6ai8dC0N4Y3AwDpQpZs4GZYjgVmCNwEBAFIsPV3ZXFa4wmo2QDEMr6hcGSVe8L8S7il0sitM66l2Ci1S/UXqz2kEgYKmKdTJray+lzukejpmiLVz9NNBjgOoRLASdffQGs0tOTDbyO0WkDF8rGiCwnk6FnQged0xcRTC4aKPcdopfaWkNNdRtepouVq5pRfQbVFZw1d2Oxqorqs377DNXBIL9H+AoFENVvc9CwvTVV9iLSN+oZ6euvijV3L5hsM11Nt9F+pIs6DAi0FkSgujpK/bhygsGJwAxgDiLfwpiXWLnqTn5z96Si1BVacd0GAo7DauDfilEAINDd3FnxGkb9Dj3ggFMQ1yPDZO6h9cjraX//SYidgFhftrVQXg4NDVAV90nbdxAJAgsx5klWrPpowSoLregKF4vwsULrD4Zj2NKbLOtA1H/4AQeMKXUk9Ah2XcimT19BYuJ1ONnJgE+SMVBTA/XjIFzml+XWMR7ht6y458hCFBdE1r0bKBfhskLqDocywyuo+LpUIRQAp6SBeBOBnuP5+9V3E3bvx7hNA94UiUBjA8QrfW8qPNCtRmQZd63MO90qiCwHPgYU1b4HI2R4hUxwC4r/9EuJr1RvoXzzUTx30RYan38O0RkD3lTb503BYCHeNByOxphT8lUqrBkaPl2s9sEYF2ETGccftgUIOsV07i2ozmfB2ot5+gaoeesh0ElDvKmy0q85qgBXFuarURBZIkwZhRWp2nq2EvKCoOAU41n6R6x+hAVrf8MNP6qi+uUHsfYIHGcsvGkohKNZsbw8V5W8ZH34mwQzLvVSeqy/E2gj4AZR/P4qv7As8A3a3E+ycO2r/PDGCpQ/YPV4YrE93qQ6epL2oAYNTc9VIW9kOLOJirdaiU+q952iBNteF8Hlu24YFEJBvymOLOdFVJewYO0TACy5KkA2u5RQ6FiqqiAW9WuVtlKRC2WINOSqkNezGuLYzl681i4/liwWqmz1NXm9gBJ0GHlKqrcAsweIOuPcIJNqfkUsNpfGBqiIjbU3DUYAqMlXISdCIeJA3a5OqIxAtAy8Ih6qgL8M7Ho7CQVdAk5wnx+r+g7IpSxYu3qg7MabY4isJBY9mVjMLxt7b9obORXk9SwRykWIWgs7OsDT4pYqFPw5mKcOASME9oncH/Y78TWrh5QKh1MVL6eiYiOqqf3kTUUhr2dpX3dsDHQloLUTGqvALewhewov+Z8sOI7imP5lmTToNSTlBs6/b19pl37xKeAElq+qxrF1iEwGZoAciXA40AjUAZUFWTIGyEvWG0HKJmcJO/h9VstuiIUhEs7fKlR5Wyy7AD9iLws6fReeBZawYO36vBYuPL0D6AA2AQ8PlC//dTmB0DRgKiJTQN8HchjooSCNFDjRLwZ5yTq/I3Tc47EMGfG1uxa2d8DUhpHmqHsgwitzjiLha3KEsqBB9Zdk7OWce3/XqCxfuCCJ77UvDZQtXSZURCpQUw8cBnIEwmHAwYP+giMLzd3Wc5KVWhaZH0o5N0UwyTWxlDUQdQx0JWFXFzRUg+flUN3fXwGEAq9izGc4a826XDpHhcXnKtDV99cMPDDk+jNX19E2oZHuimNxAx9AZCb+wmUVSB0BN5NL/IhkpZZFFojIHR7qHJkKJjyrq1dVpY+PWaYYgZZOqCz3V4e9kZ/HawOfvvbEDmC/EHXQT1+emOnNzPLSWqtWRVURI2qMGHHMeFQCoiYrv5OsqHFVbJ2KdYCXbTDb7oYyh9hAts64gY92wX0j6RmWrNSyyJlGzJ2AKJAVjcxKBz+yrce7fkPEvb5MaHA92L4bJtePGGMqyhtjQ0duROJl4Ug8fKebtlVu2sXLeHiuxctarKeIKCoW6V/pGDSciw0QSgZADYj9cu33n9vYdsWsW4bTs0/okFoWWdBP1ODyrGHSnN7yU7Ien3LhZcdAZy+0dvmR/TDoPlBkNS+Y1uyEnEvClSFi4yLEJ1RQNaGCqgkx4uOjRGvKCUWCmIAgBtQq1lPUKqqKiqLGQ0UF5KfV39swZzg9QwhJLYvMM2LuIkf8FczKFytmdq+8so1/oEw1BqaPh7LQPqPj5myGmZ87htRYEFIIDl259XaEc6Av3hEZcHtVnxwvY3EzLm7a4mU9vIz/fwiEXuvZE3f/11F/G3ZHOn179GhB/gLknHkDGsw4x5w+uXPnB9I86lmmxyMwpWHorpYqT5w6i+NH+fuLwrTlr9cEQoH1wCEj1RERMH0bKZ5irWJdi5tyyaY9vIyHdS3W1R29HcmTkv993PP99xqA5K3hqKgsIz9RAJINeatXvVjX3g3HO8ITnYl9m6MIL5T6o0vF6wuntVu155Njmq6qqOc3QwQcxxAMByivClPZGKW6qZKqCRXED4o1jp9R99tD79l2UP+9BsAxznkIBa1D92FStib1s++ewk5VTjPCUzt3QzLjR/q+VRS91TQW2DRvyuOKfqegyoOap1qfRLWKE3QIRYOUxUJTQX/aX92kbi2vQuS8oq0SFqWXRRddeSptBj6RdvndO+0MPFPlwHtWP1Kkvqmqfyn1/sEECnLqoXdvXQhgjGOOB95filARuTF1W2z6FXPo3LaLOZ29rGjtBseQQXmrVGNHi21zD/Osp58Hdo+FPBG57JCVWyoMyL9SeoJIlRGWJW6NOUu/gHv1HSxo6+bB7iTJujitY2FoqWieP2Wzqn51jMTNckTOMKo0jUqMMNsxXAvAvdi3Wjm9tZPzurpIjoWVo8HGeZOXKXrnGImbJ+llsZtFWDIqMUpW0U+Undv75zEybMww7e7N1QGcZ2BUmy4Au4zAk6O2SAiKyM2p2yoO2NpSLnx1+lUnXdB0aRPA63OndljPfp48q6AFYJxR1T8B20YpCGCmiD2gmXgjoSZas7giXPH4/PrzDgfYdNaUx1X1+tFJ1S2m7LzetzTHTLsYiMiizO2x+WMhq1R8+7DrTNAJ1MXL45MrwhX3LWq8cBpAWtPXKTxRqlyFJ/rzD24CesfEWuVHqdvKp46JrBIQCEerrdpJZaEyqiPVh4QCwYcumHjJkVvPPNRV9EL8ta5i4aGy3ACUndu7yaq9CsEPIkaTPCnUG+Ms7bmtesyXdQs0oB5ostZSFa0iWhadaoXHvtB0yfGb5k5+2ap+pViJCus8Yx4ZiK/C5yZu1KS9R3usvx/cT1z/n1AMiR8LSuaA5KnvDRXbRN/6uyDUxGpwjKkVZM1F4y/60KZ5k29TkbuLEJlVa7/VfPpEd0gwmlqX+LzX4v7R25HFbs9iW1x0t4cmFXXVH0+MFESeiHw7fXvsgK469On9YP9nq5ZwIEx1eTWK1miw7KEl9ReeuvGMg+epSHMh8hS9fOO8yc/CXpF7/H4S6tqFePYFTSnaY7HtHnaAvCy21UW7PDRpwWMPaYM90Icjyi8SS8MHNJwQlSH5CopSFamiPFSOVRvzwuFV/xmcd+LbH2yai0g2j7ibXjtj0k39X/aZ5kSvd3ci+jkMu4YQ4OF7WKeLbfWwLS7eO1mfyA4P7bJoSsFlMHmHOcHATXvr2K8Qjhj8VVUREWqiNRg/ny7Q2djw4JKDP9vYW199lY6Qk6Dw89fmTvqPwWXDzgnLr3GbrbWfVHQXjgWjezzHkT13eYqmFN3tYXe52B1ZvB1ZvO1ZbKuH9lhI23NSS6N5c5/GAtf8y3fiDHOqzKqlPFhOdaQaqxZEnJ7xB635zJnfkGyk/A9qhtKg6E82zp20z1GXEXd3ot90N/ReFb5I02W/wrFtUpZ9XkLuDsAiqhjdLtCDNSG1EkQlgJIm472JxdFeD/XJDWrUvD56KvIj7JS/D6gf7pqqEo/ESWQSJLNJCARCgXTmO8f+4Pa7/vG1c94MpDNNxvUAfr5x7uRLhpORc9+w9+EjHg5N6ehEqEKZoWg9Vl5Q2KiJsiczOyu2jn96/bu2FNMSO3OWZ3sC4xMPPA0gKk0IZcPVVRQjhppYDdt3b0dR3HAoMO6lTXNnLF+3c9PnPo4XcH7W/NmJI86Tc5IVnLIrjHEEqESoFJiG0eMEoDJFeWWK3YdMfRNhm8JWVDcBL4C+qso7mUymu/Hed3Jsw5aO9qoLL7Re7w3JTMs3gacBVPRQyTFE9zfHqkgV7T3tiBGy5eHwwX96elKoJ3H/vfd/MeeCQu7teykguhKagCaB2Xsy+sSCdoTD4X/uPmtKM8g/VfUtYKOqt6Vm5baSF+VaK89vMMb8WOBMqxlct71i0OWcmXvge1g8EieRTpByUxgx2GCApseeeizfvWN4gGYIjIjUAh8G+TD07apAj0igveOsqTtR3Qg8L8Ir1upWYGfNyi0tuYS2Vy4+ESO3AFMQg+t1ASoA35v1Y+MnheSGquKIQ02shh2dO1AUQUhVV7bTk/ve/UXWSIgBMYGDETkGWABgjICwbffcKW96vdk7ate99cvBN7VULg4GhOsR+RoDni5Ym0Dpa+WiFcBhhRhh1RItixIvj9OeaMcRBwrg4kCTNTyMoGnvYLc3Hde099TgS23xxYeLyE+AE/aUCqoWz0tC3xaJhzvBIZAzzXEwrPpzx0QmQdpNI8g7ec3Mc33/Hgvu6+O8rjSZtsTr6fbEcfWPtjzXf7ktvvhiEfk7Q4jym7S1CaxNIQSMX2ZmFaNaVXGMQ22sFhFB0bz9aD7PSgBjP5r1ba1rxsXrzOBl3Dc81z1p4vrOZoC2qsUHifK/iIxw2NzB2hTWpkCc8SgIganFLoZaa4mEIsTL49rS1ZJ30yZnheoVW7sZo+2kAYiAgtedJtuWxGay3cDZBz3R4RNVef6JgvxpZKIAFGsT+ORI2JfLzFLMsWqpjlRnmmoO7shXt4CcUn1VkJIMGYI+b7IpF68ng2ZcUDoQTmt4bNdf34wsCkWCoWtF5Mr8wiyu1wsYHPUyAKo6odQ+w4jpriyL5T3lWsh+4SMl2jDYGt+butK47UmfKJGUBjKfqX+s9fG2qsVHRUNljxZGlN/feF4XIDh42VPmrI+P5siMopvTmeSOvD8jryTLOqC0s8VC30jnkm1L4HWn+z3Mw0kvaPhj59/a4ouX9GXvzC5UqGra79xFcHDTkzvfrkMZV5KNgCrPXv3SFfmWa/KTVb3yjW2qOmwmXE70901dKbJtCTTr9R/RyGhFy8k8vHtde+UF94jIzYxwEH14sQbP60HV9b+j1Q3d22YiMuycsDCZ+qtC6hW0be9lvWsV/WthmgEj2Ey/N2X6ksoEjEUj7fND913dFohf8AJGTy9I5hDxBtfrHSDLwxkX8tIfKPlIgfKHbzz71YL2Tgsiq271tqRm9GRFH80tTcAqbmfK75v2eBM4bkKtXBt85OIZWrlzPcL7CtE9FIJisV7vwHeLMSpOMelSg9FmxSs4H6LghJCa1Vu6rJc9GfQaVPdN+hDBJl0/HOjJDJQB4GRTdDTeF1w/bzah9LcRLXHnR7CaxbMp+s8EKMb05boXizbgs1c9e/nLhWsvAe1nTKoXx5wuIv8OTEWp83rStV5v1oJGh5wnFIvZNSVhNh/biZMd7+c/lwa/v0rR1f0U4GFU6Q3FNj4wc/5E1wQjRgsLSlV5CLVXXPncZRvy1x3Dtxy1njW13HSn49nWRFzKjMWYGCJRQGwo3eC0Ns1wmj/0rb7U6VHpEnHIZHbR0/s8IgEC6tISG88j00/rdU3AGLXD/R5L/0EC1ccVXX3lhst+X6jOMXm9Sj/qfrM5CSSBEeKUTtoqZjeL4y0v5Ahrbgie103/M/bEIZxJfNfDrnUFDQxHluJa67599fNf3zk63ft7ojwIbfHF80XkDkbxgESC9PQ+TyazE5GAp/Clafpq8WFNEXhX3p9V27n0LlV7dukSBNUsnpcASKnaM/Y3UXvjgL4/q7bz1hVW9WxKWMnoD0atzWxX7EnT2HjvfjAxJw74m9nqOpcuV9VFQLq4OxVV3exp4tOHsPldyTA88K+xw2+SKB/HP+ZWEKz1VgSdcbOn80be4X5/4V199eau+OJaB5YgcjbD78x4oH9W1VtqO2+950DbB++Ft0nuhfbKL0yyhk8JepIohwApFZ5BdVUy2f34xMzdRTbZscNgsv4fCI1BY5O1DJEAAAAASUVORK5CYII=);
                }
                .bk-button-bar > .bk-toolbar-button {
                  width: 48px;
                  height: 40px;
                  margin: 8px 0 !important;
                  position: relative;
                  display: block;
                  overflow: visible;
                  clear: both;
                  border-radius: 3px !important;
                  -moz-border-radius: 3px !important;
                  -webkit-border-radius: 3px !important;
                  background-color: #C6C6C6;
                }
                .bk-button-bar > .bk-toolbar-button:hover {
                  background-color: #A8A8A8;
                  cursor: pointer;
                }
                .bk-button-bar > .bk-toolbar-button.active {
                  background-color: #A8A8A8;
                }
                .bk-toolbar-button > .bk-btn-icon {
                  width: 28px;
                  height: 28px;
                  margin: 0 !important;
                  border: none !important;
                  background: transparent !important;
                  display: block;
                  position: relative;
                  z-index: 10;
                }
                .bk-toolbar-button > span.tip {
                  position: absolute;
                  top: 0;
                  left: 100%;
                  transition: all 0.6s ease;
                  -webkit-transition: all 0.6s ease;
                  -moz-transition: all 0.6s ease;
                  -o-transition: all 0.6s ease;
                  height: inherit;
                  z-index: -1;
                  line-height: 36px;
                  font-family: Helvetica, sans-serif;
                  font-size: 0;
                  white-space: nowrap;
                }
                .bk-toolbar-button:hover > span.tip {
                  left: 60px;
                  z-index: 20;
                  font-size: 125%;
                }
                .slides .bokeh_canvas_wrapper_outer {
                  overflow: visible;
                }
                .slides canvas {
                  left: 0;
                  top: 0;
                }
                .slides .bk-sidebar {
                  float: right;
                }
                .slides .bk-toolbar-button > span.tip {
                  color: #fff;
                }
                .bk-bs-container {
                  margin-right: auto;
                  margin-left: auto;
                  padding-left: 15px;
                  padding-right: 15px;
                }
                @media (min-width: 768px) {
                  .bk-bs-container {
                    width: 750px;
                  }
                }
                @media (min-width: 992px) {
                  .bk-bs-container {
                    width: 970px;
                  }
                }
                @media (min-width: 1200px) {
                  .bk-bs-container {
                    width: 1170px;
                  }
                }
                .bk-bs-container-fluid {
                  margin-right: auto;
                  margin-left: auto;
                  padding-left: 15px;
                  padding-right: 15px;
                }
                .bk-bs-row {
                  margin-left: -15px;
                  margin-right: -15px;
                }
                .bk-bs-col-xs-1, .bk-bs-col-sm-1, .bk-bs-col-md-1, .bk-bs-col-lg-1, .bk-bs-col-xs-2, .bk-bs-col-sm-2, .bk-bs-col-md-2, .bk-bs-col-lg-2, .bk-bs-col-xs-3, .bk-bs-col-sm-3, .bk-bs-col-md-3, .bk-bs-col-lg-3, .bk-bs-col-xs-4, .bk-bs-col-sm-4, .bk-bs-col-md-4, .bk-bs-col-lg-4, .bk-bs-col-xs-5, .bk-bs-col-sm-5, .bk-bs-col-md-5, .bk-bs-col-lg-5, .bk-bs-col-xs-6, .bk-bs-col-sm-6, .bk-bs-col-md-6, .bk-bs-col-lg-6, .bk-bs-col-xs-7, .bk-bs-col-sm-7, .bk-bs-col-md-7, .bk-bs-col-lg-7, .bk-bs-col-xs-8, .bk-bs-col-sm-8, .bk-bs-col-md-8, .bk-bs-col-lg-8, .bk-bs-col-xs-9, .bk-bs-col-sm-9, .bk-bs-col-md-9, .bk-bs-col-lg-9, .bk-bs-col-xs-10, .bk-bs-col-sm-10, .bk-bs-col-md-10, .bk-bs-col-lg-10, .bk-bs-col-xs-11, .bk-bs-col-sm-11, .bk-bs-col-md-11, .bk-bs-col-lg-11, .bk-bs-col-xs-12, .bk-bs-col-sm-12, .bk-bs-col-md-12, .bk-bs-col-lg-12 {
                  position: relative;
                  min-height: 1px;
                  padding-left: 15px;
                  padding-right: 15px;
                }
                .bk-bs-col-xs-1, .bk-bs-col-xs-2, .bk-bs-col-xs-3, .bk-bs-col-xs-4, .bk-bs-col-xs-5, .bk-bs-col-xs-6, .bk-bs-col-xs-7, .bk-bs-col-xs-8, .bk-bs-col-xs-9, .bk-bs-col-xs-10, .bk-bs-col-xs-11, .bk-bs-col-xs-12 {
                  float: left;
                }
                .bk-bs-col-xs-12 {
                  width: 100%;
                }
                .bk-bs-col-xs-11 {
                  width: 91.66666667%;
                }
                .bk-bs-col-xs-10 {
                  width: 83.33333333%;
                }
                .bk-bs-col-xs-9 {
                  width: 75%;
                }
                .bk-bs-col-xs-8 {
                  width: 66.66666667%;
                }
                .bk-bs-col-xs-7 {
                  width: 58.33333333%;
                }
                .bk-bs-col-xs-6 {
                  width: 50%;
                }
                .bk-bs-col-xs-5 {
                  width: 41.66666667%;
                }
                .bk-bs-col-xs-4 {
                  width: 33.33333333%;
                }
                .bk-bs-col-xs-3 {
                  width: 25%;
                }
                .bk-bs-col-xs-2 {
                  width: 16.66666667%;
                }
                .bk-bs-col-xs-1 {
                  width: 8.33333333%;
                }
                .bk-bs-col-xs-pull-12 {
                  right: 100%;
                }
                .bk-bs-col-xs-pull-11 {
                  right: 91.66666667%;
                }
                .bk-bs-col-xs-pull-10 {
                  right: 83.33333333%;
                }
                .bk-bs-col-xs-pull-9 {
                  right: 75%;
                }
                .bk-bs-col-xs-pull-8 {
                  right: 66.66666667%;
                }
                .bk-bs-col-xs-pull-7 {
                  right: 58.33333333%;
                }
                .bk-bs-col-xs-pull-6 {
                  right: 50%;
                }
                .bk-bs-col-xs-pull-5 {
                  right: 41.66666667%;
                }
                .bk-bs-col-xs-pull-4 {
                  right: 33.33333333%;
                }
                .bk-bs-col-xs-pull-3 {
                  right: 25%;
                }
                .bk-bs-col-xs-pull-2 {
                  right: 16.66666667%;
                }
                .bk-bs-col-xs-pull-1 {
                  right: 8.33333333%;
                }
                .bk-bs-col-xs-pull-0 {
                  right: 0%;
                }
                .bk-bs-col-xs-push-12 {
                  left: 100%;
                }
                .bk-bs-col-xs-push-11 {
                  left: 91.66666667%;
                }
                .bk-bs-col-xs-push-10 {
                  left: 83.33333333%;
                }
                .bk-bs-col-xs-push-9 {
                  left: 75%;
                }
                .bk-bs-col-xs-push-8 {
                  left: 66.66666667%;
                }
                .bk-bs-col-xs-push-7 {
                  left: 58.33333333%;
                }
                .bk-bs-col-xs-push-6 {
                  left: 50%;
                }
                .bk-bs-col-xs-push-5 {
                  left: 41.66666667%;
                }
                .bk-bs-col-xs-push-4 {
                  left: 33.33333333%;
                }
                .bk-bs-col-xs-push-3 {
                  left: 25%;
                }
                .bk-bs-col-xs-push-2 {
                  left: 16.66666667%;
                }
                .bk-bs-col-xs-push-1 {
                  left: 8.33333333%;
                }
                .bk-bs-col-xs-push-0 {
                  left: 0%;
                }
                .bk-bs-col-xs-offset-12 {
                  margin-left: 100%;
                }
                .bk-bs-col-xs-offset-11 {
                  margin-left: 91.66666667%;
                }
                .bk-bs-col-xs-offset-10 {
                  margin-left: 83.33333333%;
                }
                .bk-bs-col-xs-offset-9 {
                  margin-left: 75%;
                }
                .bk-bs-col-xs-offset-8 {
                  margin-left: 66.66666667%;
                }
                .bk-bs-col-xs-offset-7 {
                  margin-left: 58.33333333%;
                }
                .bk-bs-col-xs-offset-6 {
                  margin-left: 50%;
                }
                .bk-bs-col-xs-offset-5 {
                  margin-left: 41.66666667%;
                }
                .bk-bs-col-xs-offset-4 {
                  margin-left: 33.33333333%;
                }
                .bk-bs-col-xs-offset-3 {
                  margin-left: 25%;
                }
                .bk-bs-col-xs-offset-2 {
                  margin-left: 16.66666667%;
                }
                .bk-bs-col-xs-offset-1 {
                  margin-left: 8.33333333%;
                }
                .bk-bs-col-xs-offset-0 {
                  margin-left: 0%;
                }
                @media (min-width: 768px) {
                  .bk-bs-col-sm-1, .bk-bs-col-sm-2, .bk-bs-col-sm-3, .bk-bs-col-sm-4, .bk-bs-col-sm-5, .bk-bs-col-sm-6, .bk-bs-col-sm-7, .bk-bs-col-sm-8, .bk-bs-col-sm-9, .bk-bs-col-sm-10, .bk-bs-col-sm-11, .bk-bs-col-sm-12 {
                    float: left;
                  }
                  .bk-bs-col-sm-12 {
                    width: 100%;
                  }
                  .bk-bs-col-sm-11 {
                    width: 91.66666667%;
                  }
                  .bk-bs-col-sm-10 {
                    width: 83.33333333%;
                  }
                  .bk-bs-col-sm-9 {
                    width: 75%;
                  }
                  .bk-bs-col-sm-8 {
                    width: 66.66666667%;
                  }
                  .bk-bs-col-sm-7 {
                    width: 58.33333333%;
                  }
                  .bk-bs-col-sm-6 {
                    width: 50%;
                  }
                  .bk-bs-col-sm-5 {
                    width: 41.66666667%;
                  }
                  .bk-bs-col-sm-4 {
                    width: 33.33333333%;
                  }
                  .bk-bs-col-sm-3 {
                    width: 25%;
                  }
                  .bk-bs-col-sm-2 {
                    width: 16.66666667%;
                  }
                  .bk-bs-col-sm-1 {
                    width: 8.33333333%;
                  }
                  .bk-bs-col-sm-pull-12 {
                    right: 100%;
                  }
                  .bk-bs-col-sm-pull-11 {
                    right: 91.66666667%;
                  }
                  .bk-bs-col-sm-pull-10 {
                    right: 83.33333333%;
                  }
                  .bk-bs-col-sm-pull-9 {
                    right: 75%;
                  }
                  .bk-bs-col-sm-pull-8 {
                    right: 66.66666667%;
                  }
                  .bk-bs-col-sm-pull-7 {
                    right: 58.33333333%;
                  }
                  .bk-bs-col-sm-pull-6 {
                    right: 50%;
                  }
                  .bk-bs-col-sm-pull-5 {
                    right: 41.66666667%;
                  }
                  .bk-bs-col-sm-pull-4 {
                    right: 33.33333333%;
                  }
                  .bk-bs-col-sm-pull-3 {
                    right: 25%;
                  }
                  .bk-bs-col-sm-pull-2 {
                    right: 16.66666667%;
                  }
                  .bk-bs-col-sm-pull-1 {
                    right: 8.33333333%;
                  }
                  .bk-bs-col-sm-pull-0 {
                    right: 0%;
                  }
                  .bk-bs-col-sm-push-12 {
                    left: 100%;
                  }
                  .bk-bs-col-sm-push-11 {
                    left: 91.66666667%;
                  }
                  .bk-bs-col-sm-push-10 {
                    left: 83.33333333%;
                  }
                  .bk-bs-col-sm-push-9 {
                    left: 75%;
                  }
                  .bk-bs-col-sm-push-8 {
                    left: 66.66666667%;
                  }
                  .bk-bs-col-sm-push-7 {
                    left: 58.33333333%;
                  }
                  .bk-bs-col-sm-push-6 {
                    left: 50%;
                  }
                  .bk-bs-col-sm-push-5 {
                    left: 41.66666667%;
                  }
                  .bk-bs-col-sm-push-4 {
                    left: 33.33333333%;
                  }
                  .bk-bs-col-sm-push-3 {
                    left: 25%;
                  }
                  .bk-bs-col-sm-push-2 {
                    left: 16.66666667%;
                  }
                  .bk-bs-col-sm-push-1 {
                    left: 8.33333333%;
                  }
                  .bk-bs-col-sm-push-0 {
                    left: 0%;
                  }
                  .bk-bs-col-sm-offset-12 {
                    margin-left: 100%;
                  }
                  .bk-bs-col-sm-offset-11 {
                    margin-left: 91.66666667%;
                  }
                  .bk-bs-col-sm-offset-10 {
                    margin-left: 83.33333333%;
                  }
                  .bk-bs-col-sm-offset-9 {
                    margin-left: 75%;
                  }
                  .bk-bs-col-sm-offset-8 {
                    margin-left: 66.66666667%;
                  }
                  .bk-bs-col-sm-offset-7 {
                    margin-left: 58.33333333%;
                  }
                  .bk-bs-col-sm-offset-6 {
                    margin-left: 50%;
                  }
                  .bk-bs-col-sm-offset-5 {
                    margin-left: 41.66666667%;
                  }
                  .bk-bs-col-sm-offset-4 {
                    margin-left: 33.33333333%;
                  }
                  .bk-bs-col-sm-offset-3 {
                    margin-left: 25%;
                  }
                  .bk-bs-col-sm-offset-2 {
                    margin-left: 16.66666667%;
                  }
                  .bk-bs-col-sm-offset-1 {
                    margin-left: 8.33333333%;
                  }
                  .bk-bs-col-sm-offset-0 {
                    margin-left: 0%;
                  }
                }
                @media (min-width: 992px) {
                  .bk-bs-col-md-1, .bk-bs-col-md-2, .bk-bs-col-md-3, .bk-bs-col-md-4, .bk-bs-col-md-5, .bk-bs-col-md-6, .bk-bs-col-md-7, .bk-bs-col-md-8, .bk-bs-col-md-9, .bk-bs-col-md-10, .bk-bs-col-md-11, .bk-bs-col-md-12 {
                    float: left;
                  }
                  .bk-bs-col-md-12 {
                    width: 100%;
                  }
                  .bk-bs-col-md-11 {
                    width: 91.66666667%;
                  }
                  .bk-bs-col-md-10 {
                    width: 83.33333333%;
                  }
                  .bk-bs-col-md-9 {
                    width: 75%;
                  }
                  .bk-bs-col-md-8 {
                    width: 66.66666667%;
                  }
                  .bk-bs-col-md-7 {
                    width: 58.33333333%;
                  }
                  .bk-bs-col-md-6 {
                    width: 50%;
                  }
                  .bk-bs-col-md-5 {
                    width: 41.66666667%;
                  }
                  .bk-bs-col-md-4 {
                    width: 33.33333333%;
                  }
                  .bk-bs-col-md-3 {
                    width: 25%;
                  }
                  .bk-bs-col-md-2 {
                    width: 16.66666667%;
                  }
                  .bk-bs-col-md-1 {
                    width: 8.33333333%;
                  }
                  .bk-bs-col-md-pull-12 {
                    right: 100%;
                  }
                  .bk-bs-col-md-pull-11 {
                    right: 91.66666667%;
                  }
                  .bk-bs-col-md-pull-10 {
                    right: 83.33333333%;
                  }
                  .bk-bs-col-md-pull-9 {
                    right: 75%;
                  }
                  .bk-bs-col-md-pull-8 {
                    right: 66.66666667%;
                  }
                  .bk-bs-col-md-pull-7 {
                    right: 58.33333333%;
                  }
                  .bk-bs-col-md-pull-6 {
                    right: 50%;
                  }
                  .bk-bs-col-md-pull-5 {
                    right: 41.66666667%;
                  }
                  .bk-bs-col-md-pull-4 {
                    right: 33.33333333%;
                  }
                  .bk-bs-col-md-pull-3 {
                    right: 25%;
                  }
                  .bk-bs-col-md-pull-2 {
                    right: 16.66666667%;
                  }
                  .bk-bs-col-md-pull-1 {
                    right: 8.33333333%;
                  }
                  .bk-bs-col-md-pull-0 {
                    right: 0%;
                  }
                  .bk-bs-col-md-push-12 {
                    left: 100%;
                  }
                  .bk-bs-col-md-push-11 {
                    left: 91.66666667%;
                  }
                  .bk-bs-col-md-push-10 {
                    left: 83.33333333%;
                  }
                  .bk-bs-col-md-push-9 {
                    left: 75%;
                  }
                  .bk-bs-col-md-push-8 {
                    left: 66.66666667%;
                  }
                  .bk-bs-col-md-push-7 {
                    left: 58.33333333%;
                  }
                  .bk-bs-col-md-push-6 {
                    left: 50%;
                  }
                  .bk-bs-col-md-push-5 {
                    left: 41.66666667%;
                  }
                  .bk-bs-col-md-push-4 {
                    left: 33.33333333%;
                  }
                  .bk-bs-col-md-push-3 {
                    left: 25%;
                  }
                  .bk-bs-col-md-push-2 {
                    left: 16.66666667%;
                  }
                  .bk-bs-col-md-push-1 {
                    left: 8.33333333%;
                  }
                  .bk-bs-col-md-push-0 {
                    left: 0%;
                  }
                  .bk-bs-col-md-offset-12 {
                    margin-left: 100%;
                  }
                  .bk-bs-col-md-offset-11 {
                    margin-left: 91.66666667%;
                  }
                  .bk-bs-col-md-offset-10 {
                    margin-left: 83.33333333%;
                  }
                  .bk-bs-col-md-offset-9 {
                    margin-left: 75%;
                  }
                  .bk-bs-col-md-offset-8 {
                    margin-left: 66.66666667%;
                  }
                  .bk-bs-col-md-offset-7 {
                    margin-left: 58.33333333%;
                  }
                  .bk-bs-col-md-offset-6 {
                    margin-left: 50%;
                  }
                  .bk-bs-col-md-offset-5 {
                    margin-left: 41.66666667%;
                  }
                  .bk-bs-col-md-offset-4 {
                    margin-left: 33.33333333%;
                  }
                  .bk-bs-col-md-offset-3 {
                    margin-left: 25%;
                  }
                  .bk-bs-col-md-offset-2 {
                    margin-left: 16.66666667%;
                  }
                  .bk-bs-col-md-offset-1 {
                    margin-left: 8.33333333%;
                  }
                  .bk-bs-col-md-offset-0 {
                    margin-left: 0%;
                  }
                }
                @media (min-width: 1200px) {
                  .bk-bs-col-lg-1, .bk-bs-col-lg-2, .bk-bs-col-lg-3, .bk-bs-col-lg-4, .bk-bs-col-lg-5, .bk-bs-col-lg-6, .bk-bs-col-lg-7, .bk-bs-col-lg-8, .bk-bs-col-lg-9, .bk-bs-col-lg-10, .bk-bs-col-lg-11, .bk-bs-col-lg-12 {
                    float: left;
                  }
                  .bk-bs-col-lg-12 {
                    width: 100%;
                  }
                  .bk-bs-col-lg-11 {
                    width: 91.66666667%;
                  }
                  .bk-bs-col-lg-10 {
                    width: 83.33333333%;
                  }
                  .bk-bs-col-lg-9 {
                    width: 75%;
                  }
                  .bk-bs-col-lg-8 {
                    width: 66.66666667%;
                  }
                  .bk-bs-col-lg-7 {
                    width: 58.33333333%;
                  }
                  .bk-bs-col-lg-6 {
                    width: 50%;
                  }
                  .bk-bs-col-lg-5 {
                    width: 41.66666667%;
                  }
                  .bk-bs-col-lg-4 {
                    width: 33.33333333%;
                  }
                  .bk-bs-col-lg-3 {
                    width: 25%;
                  }
                  .bk-bs-col-lg-2 {
                    width: 16.66666667%;
                  }
                  .bk-bs-col-lg-1 {
                    width: 8.33333333%;
                  }
                  .bk-bs-col-lg-pull-12 {
                    right: 100%;
                  }
                  .bk-bs-col-lg-pull-11 {
                    right: 91.66666667%;
                  }
                  .bk-bs-col-lg-pull-10 {
                    right: 83.33333333%;
                  }
                  .bk-bs-col-lg-pull-9 {
                    right: 75%;
                  }
                  .bk-bs-col-lg-pull-8 {
                    right: 66.66666667%;
                  }
                  .bk-bs-col-lg-pull-7 {
                    right: 58.33333333%;
                  }
                  .bk-bs-col-lg-pull-6 {
                    right: 50%;
                  }
                  .bk-bs-col-lg-pull-5 {
                    right: 41.66666667%;
                  }
                  .bk-bs-col-lg-pull-4 {
                    right: 33.33333333%;
                  }
                  .bk-bs-col-lg-pull-3 {
                    right: 25%;
                  }
                  .bk-bs-col-lg-pull-2 {
                    right: 16.66666667%;
                  }
                  .bk-bs-col-lg-pull-1 {
                    right: 8.33333333%;
                  }
                  .bk-bs-col-lg-pull-0 {
                    right: 0%;
                  }
                  .bk-bs-col-lg-push-12 {
                    left: 100%;
                  }
                  .bk-bs-col-lg-push-11 {
                    left: 91.66666667%;
                  }
                  .bk-bs-col-lg-push-10 {
                    left: 83.33333333%;
                  }
                  .bk-bs-col-lg-push-9 {
                    left: 75%;
                  }
                  .bk-bs-col-lg-push-8 {
                    left: 66.66666667%;
                  }
                  .bk-bs-col-lg-push-7 {
                    left: 58.33333333%;
                  }
                  .bk-bs-col-lg-push-6 {
                    left: 50%;
                  }
                  .bk-bs-col-lg-push-5 {
                    left: 41.66666667%;
                  }
                  .bk-bs-col-lg-push-4 {
                    left: 33.33333333%;
                  }
                  .bk-bs-col-lg-push-3 {
                    left: 25%;
                  }
                  .bk-bs-col-lg-push-2 {
                    left: 16.66666667%;
                  }
                  .bk-bs-col-lg-push-1 {
                    left: 8.33333333%;
                  }
                  .bk-bs-col-lg-push-0 {
                    left: 0%;
                  }
                  .bk-bs-col-lg-offset-12 {
                    margin-left: 100%;
                  }
                  .bk-bs-col-lg-offset-11 {
                    margin-left: 91.66666667%;
                  }
                  .bk-bs-col-lg-offset-10 {
                    margin-left: 83.33333333%;
                  }
                  .bk-bs-col-lg-offset-9 {
                    margin-left: 75%;
                  }
                  .bk-bs-col-lg-offset-8 {
                    margin-left: 66.66666667%;
                  }
                  .bk-bs-col-lg-offset-7 {
                    margin-left: 58.33333333%;
                  }
                  .bk-bs-col-lg-offset-6 {
                    margin-left: 50%;
                  }
                  .bk-bs-col-lg-offset-5 {
                    margin-left: 41.66666667%;
                  }
                  .bk-bs-col-lg-offset-4 {
                    margin-left: 33.33333333%;
                  }
                  .bk-bs-col-lg-offset-3 {
                    margin-left: 25%;
                  }
                  .bk-bs-col-lg-offset-2 {
                    margin-left: 16.66666667%;
                  }
                  .bk-bs-col-lg-offset-1 {
                    margin-left: 8.33333333%;
                  }
                  .bk-bs-col-lg-offset-0 {
                    margin-left: 0%;
                  }
                }
                table {
                  max-width: 100%;
                  background-color: transparent;
                }
                th {
                  text-align: left;
                }
                .bk-bs-table {
                  width: 100%;
                  margin-bottom: 20px;
                }
                .bk-bs-table > thead > tr > th,
                .bk-bs-table > tbody > tr > th,
                .bk-bs-table > tfoot > tr > th,
                .bk-bs-table > thead > tr > td,
                .bk-bs-table > tbody > tr > td,
                .bk-bs-table > tfoot > tr > td {
                  padding: 8px;
                  line-height: 1.42857143;
                  vertical-align: top;
                  border-top: 1px solid #dddddd;
                }
                .bk-bs-table > thead > tr > th {
                  vertical-align: bottom;
                  border-bottom: 2px solid #dddddd;
                }
                .bk-bs-table > caption + thead > tr:first-child > th,
                .bk-bs-table > colgroup + thead > tr:first-child > th,
                .bk-bs-table > thead:first-child > tr:first-child > th,
                .bk-bs-table > caption + thead > tr:first-child > td,
                .bk-bs-table > colgroup + thead > tr:first-child > td,
                .bk-bs-table > thead:first-child > tr:first-child > td {
                  border-top: 0;
                }
                .bk-bs-table > tbody + tbody {
                  border-top: 2px solid #dddddd;
                }
                .bk-bs-table .bk-bs-table {
                  background-color: #ffffff;
                }
                .bk-bs-table-condensed > thead > tr > th,
                .bk-bs-table-condensed > tbody > tr > th,
                .bk-bs-table-condensed > tfoot > tr > th,
                .bk-bs-table-condensed > thead > tr > td,
                .bk-bs-table-condensed > tbody > tr > td,
                .bk-bs-table-condensed > tfoot > tr > td {
                  padding: 5px;
                }
                .bk-bs-table-bordered {
                  border: 1px solid #dddddd;
                }
                .bk-bs-table-bordered > thead > tr > th,
                .bk-bs-table-bordered > tbody > tr > th,
                .bk-bs-table-bordered > tfoot > tr > th,
                .bk-bs-table-bordered > thead > tr > td,
                .bk-bs-table-bordered > tbody > tr > td,
                .bk-bs-table-bordered > tfoot > tr > td {
                  border: 1px solid #dddddd;
                }
                .bk-bs-table-bordered > thead > tr > th,
                .bk-bs-table-bordered > thead > tr > td {
                  border-bottom-width: 2px;
                }
                .bk-bs-table-striped > tbody > tr:nth-child(odd) > td,
                .bk-bs-table-striped > tbody > tr:nth-child(odd) > th {
                  background-color: #f9f9f9;
                }
                .bk-bs-table-hover > tbody > tr:hover > td,
                .bk-bs-table-hover > tbody > tr:hover > th {
                  background-color: #f5f5f5;
                }
                table col[class*="col-"] {
                  position: static;
                  float: none;
                  display: table-column;
                }
                table td[class*="col-"],
                table th[class*="col-"] {
                  position: static;
                  float: none;
                  display: table-cell;
                }
                .bk-bs-table > thead > tr > td.active,
                .bk-bs-table > tbody > tr > td.active,
                .bk-bs-table > tfoot > tr > td.active,
                .bk-bs-table > thead > tr > th.active,
                .bk-bs-table > tbody > tr > th.active,
                .bk-bs-table > tfoot > tr > th.active,
                .bk-bs-table > thead > tr.active > td,
                .bk-bs-table > tbody > tr.active > td,
                .bk-bs-table > tfoot > tr.active > td,
                .bk-bs-table > thead > tr.active > th,
                .bk-bs-table > tbody > tr.active > th,
                .bk-bs-table > tfoot > tr.active > th {
                  background-color: #f5f5f5;
                }
                .bk-bs-table-hover > tbody > tr > td.active:hover,
                .bk-bs-table-hover > tbody > tr > th.active:hover,
                .bk-bs-table-hover > tbody > tr.active:hover > td,
                .bk-bs-table-hover > tbody > tr.active:hover > th {
                  background-color: #e8e8e8;
                }
                .bk-bs-table > thead > tr > td.success,
                .bk-bs-table > tbody > tr > td.success,
                .bk-bs-table > tfoot > tr > td.success,
                .bk-bs-table > thead > tr > th.success,
                .bk-bs-table > tbody > tr > th.success,
                .bk-bs-table > tfoot > tr > th.success,
                .bk-bs-table > thead > tr.success > td,
                .bk-bs-table > tbody > tr.success > td,
                .bk-bs-table > tfoot > tr.success > td,
                .bk-bs-table > thead > tr.success > th,
                .bk-bs-table > tbody > tr.success > th,
                .bk-bs-table > tfoot > tr.success > th {
                  background-color: #dff0d8;
                }
                .bk-bs-table-hover > tbody > tr > td.success:hover,
                .bk-bs-table-hover > tbody > tr > th.success:hover,
                .bk-bs-table-hover > tbody > tr.success:hover > td,
                .bk-bs-table-hover > tbody > tr.success:hover > th {
                  background-color: #d0e9c6;
                }
                .bk-bs-table > thead > tr > td.info,
                .bk-bs-table > tbody > tr > td.info,
                .bk-bs-table > tfoot > tr > td.info,
                .bk-bs-table > thead > tr > th.info,
                .bk-bs-table > tbody > tr > th.info,
                .bk-bs-table > tfoot > tr > th.info,
                .bk-bs-table > thead > tr.info > td,
                .bk-bs-table > tbody > tr.info > td,
                .bk-bs-table > tfoot > tr.info > td,
                .bk-bs-table > thead > tr.info > th,
                .bk-bs-table > tbody > tr.info > th,
                .bk-bs-table > tfoot > tr.info > th {
                  background-color: #d9edf7;
                }
                .bk-bs-table-hover > tbody > tr > td.info:hover,
                .bk-bs-table-hover > tbody > tr > th.info:hover,
                .bk-bs-table-hover > tbody > tr.info:hover > td,
                .bk-bs-table-hover > tbody > tr.info:hover > th {
                  background-color: #c4e3f3;
                }
                .bk-bs-table > thead > tr > td.warning,
                .bk-bs-table > tbody > tr > td.warning,
                .bk-bs-table > tfoot > tr > td.warning,
                .bk-bs-table > thead > tr > th.warning,
                .bk-bs-table > tbody > tr > th.warning,
                .bk-bs-table > tfoot > tr > th.warning,
                .bk-bs-table > thead > tr.warning > td,
                .bk-bs-table > tbody > tr.warning > td,
                .bk-bs-table > tfoot > tr.warning > td,
                .bk-bs-table > thead > tr.warning > th,
                .bk-bs-table > tbody > tr.warning > th,
                .bk-bs-table > tfoot > tr.warning > th {
                  background-color: #fcf8e3;
                }
                .bk-bs-table-hover > tbody > tr > td.warning:hover,
                .bk-bs-table-hover > tbody > tr > th.warning:hover,
                .bk-bs-table-hover > tbody > tr.warning:hover > td,
                .bk-bs-table-hover > tbody > tr.warning:hover > th {
                  background-color: #faf2cc;
                }
                .bk-bs-table > thead > tr > td.danger,
                .bk-bs-table > tbody > tr > td.danger,
                .bk-bs-table > tfoot > tr > td.danger,
                .bk-bs-table > thead > tr > th.danger,
                .bk-bs-table > tbody > tr > th.danger,
                .bk-bs-table > tfoot > tr > th.danger,
                .bk-bs-table > thead > tr.danger > td,
                .bk-bs-table > tbody > tr.danger > td,
                .bk-bs-table > tfoot > tr.danger > td,
                .bk-bs-table > thead > tr.danger > th,
                .bk-bs-table > tbody > tr.danger > th,
                .bk-bs-table > tfoot > tr.danger > th {
                  background-color: #f2dede;
                }
                .bk-bs-table-hover > tbody > tr > td.danger:hover,
                .bk-bs-table-hover > tbody > tr > th.danger:hover,
                .bk-bs-table-hover > tbody > tr.danger:hover > td,
                .bk-bs-table-hover > tbody > tr.danger:hover > th {
                  background-color: #ebcccc;
                }
                @media (max-width: 767px) {
                  .bk-bs-table-responsive {
                    width: 100%;
                    margin-bottom: 15px;
                    overflow-y: hidden;
                    overflow-x: scroll;
                    -ms-overflow-style: -ms-autohiding-scrollbar;
                    border: 1px solid #dddddd;
                    -webkit-overflow-scrolling: touch;
                  }
                  .bk-bs-table-responsive > .bk-bs-table {
                    margin-bottom: 0;
                  }
                  .bk-bs-table-responsive > .bk-bs-table > thead > tr > th,
                  .bk-bs-table-responsive > .bk-bs-table > tbody > tr > th,
                  .bk-bs-table-responsive > .bk-bs-table > tfoot > tr > th,
                  .bk-bs-table-responsive > .bk-bs-table > thead > tr > td,
                  .bk-bs-table-responsive > .bk-bs-table > tbody > tr > td,
                  .bk-bs-table-responsive > .bk-bs-table > tfoot > tr > td {
                    white-space: nowrap;
                  }
                  .bk-bs-table-responsive > .bk-bs-table-bordered {
                    border: 0;
                  }
                  .bk-bs-table-responsive > .bk-bs-table-bordered > thead > tr > th:first-child,
                  .bk-bs-table-responsive > .bk-bs-table-bordered > tbody > tr > th:first-child,
                  .bk-bs-table-responsive > .bk-bs-table-bordered > tfoot > tr > th:first-child,
                  .bk-bs-table-responsive > .bk-bs-table-bordered > thead > tr > td:first-child,
                  .bk-bs-table-responsive > .bk-bs-table-bordered > tbody > tr > td:first-child,
                  .bk-bs-table-responsive > .bk-bs-table-bordered > tfoot > tr > td:first-child {
                    border-left: 0;
                  }
                  .bk-bs-table-responsive > .bk-bs-table-bordered > thead > tr > th:last-child,
                  .bk-bs-table-responsive > .bk-bs-table-bordered > tbody > tr > th:last-child,
                  .bk-bs-table-responsive > .bk-bs-table-bordered > tfoot > tr > th:last-child,
                  .bk-bs-table-responsive > .bk-bs-table-bordered > thead > tr > td:last-child,
                  .bk-bs-table-responsive > .bk-bs-table-bordered > tbody > tr > td:last-child,
                  .bk-bs-table-responsive > .bk-bs-table-bordered > tfoot > tr > td:last-child {
                    border-right: 0;
                  }
                  .bk-bs-table-responsive > .bk-bs-table-bordered > tbody > tr:last-child > th,
                  .bk-bs-table-responsive > .bk-bs-table-bordered > tfoot > tr:last-child > th,
                  .bk-bs-table-responsive > .bk-bs-table-bordered > tbody > tr:last-child > td,
                  .bk-bs-table-responsive > .bk-bs-table-bordered > tfoot > tr:last-child > td {
                    border-bottom: 0;
                  }
                }
                fieldset {
                  padding: 0;
                  margin: 0;
                  border: 0;
                  min-width: 0;
                }
                legend {
                  display: block;
                  width: 100%;
                  padding: 0;
                  margin-bottom: 20px;
                  font-size: 21px;
                  line-height: inherit;
                  color: #333333;
                  border: 0;
                  border-bottom: 1px solid #e5e5e5;
                }
                label {
                  display: inline-block;
                  margin-bottom: 5px;
                  font-weight: bold;
                }
                input[type="search"] {
                  -webkit-box-sizing: border-box;
                  -moz-box-sizing: border-box;
                  box-sizing: border-box;
                }
                input[type="radio"],
                input[type="checkbox"] {
                  margin: 4px 0 0;
                  margin-top: 1px \9;
                  /* IE8-9 */
                  line-height: normal;
                }
                input[type="file"] {
                  display: block;
                }
                input[type="range"] {
                  display: block;
                  width: 100%;
                }
                select[multiple],
                select[size] {
                  height: auto;
                }
                input[type="file"]:focus,
                input[type="radio"]:focus,
                input[type="checkbox"]:focus {
                  outline: thin dotted;
                  outline: 5px auto -webkit-focus-ring-color;
                  outline-offset: -2px;
                }
                output {
                  display: block;
                  padding-top: 7px;
                  font-size: 14px;
                  line-height: 1.42857143;
                  color: #555555;
                }
                .bk-bs-form-control {
                  display: block;
                  width: 100%;
                  height: 34px;
                  padding: 6px 12px;
                  font-size: 14px;
                  line-height: 1.42857143;
                  color: #555555;
                  background-color: #ffffff;
                  background-image: none;
                  border: 1px solid #cccccc;
                  border-radius: 4px;
                  -webkit-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075);
                  box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075);
                  -webkit-transition: border-color ease-in-out .15s, box-shadow ease-in-out .15s;
                  transition: border-color ease-in-out .15s, box-shadow ease-in-out .15s;
                }
                .bk-bs-form-control:focus {
                  border-color: #66afe9;
                  outline: 0;
                  -webkit-box-shadow: inset 0 1px 1px rgba(0,0,0,.075), 0 0 8px rgba(102, 175, 233, 0.6);
                  box-shadow: inset 0 1px 1px rgba(0,0,0,.075), 0 0 8px rgba(102, 175, 233, 0.6);
                }
                .bk-bs-form-control::-moz-placeholder {
                  color: #999999;
                  opacity: 1;
                }
                .bk-bs-form-control:-ms-input-placeholder {
                  color: #999999;
                }
                .bk-bs-form-control::-webkit-input-placeholder {
                  color: #999999;
                }
                .bk-bs-form-control[disabled],
                .bk-bs-form-control[readonly],
                fieldset[disabled] .bk-bs-form-control {
                  cursor: not-allowed;
                  background-color: #eeeeee;
                  opacity: 1;
                }
                textarea.bk-bs-form-control {
                  height: auto;
                }
                input[type="search"] {
                  -webkit-appearance: none;
                }
                input[type="date"] {
                  line-height: 34px;
                }
                .bk-bs-form-group {
                  margin-bottom: 15px;
                }
                .bk-bs-radio,
                .bk-bs-checkbox {
                  display: block;
                  min-height: 20px;
                  margin-top: 10px;
                  margin-bottom: 10px;
                  padding-left: 20px;
                }
                .bk-bs-radio label,
                .bk-bs-checkbox label {
                  display: inline;
                  font-weight: normal;
                  cursor: pointer;
                }
                .bk-bs-radio input[type="radio"],
                .bk-bs-radio-inline input[type="radio"],
                .bk-bs-checkbox input[type="checkbox"],
                .bk-bs-checkbox-inline input[type="checkbox"] {
                  float: left;
                  margin-left: -20px;
                }
                .bk-bs-radio + .bk-bs-radio,
                .bk-bs-checkbox + .bk-bs-checkbox {
                  margin-top: -5px;
                }
                .bk-bs-radio-inline,
                .bk-bs-checkbox-inline {
                  display: inline-block;
                  padding-left: 20px;
                  margin-bottom: 0;
                  vertical-align: middle;
                  font-weight: normal;
                  cursor: pointer;
                }
                .bk-bs-radio-inline + .bk-bs-radio-inline,
                .bk-bs-checkbox-inline + .bk-bs-checkbox-inline {
                  margin-top: 0;
                  margin-left: 10px;
                }
                input[type="radio"][disabled],
                input[type="checkbox"][disabled],
                .bk-bs-radio[disabled],
                .bk-bs-radio-inline[disabled],
                .bk-bs-checkbox[disabled],
                .bk-bs-checkbox-inline[disabled],
                fieldset[disabled] input[type="radio"],
                fieldset[disabled] input[type="checkbox"],
                fieldset[disabled] .bk-bs-radio,
                fieldset[disabled] .bk-bs-radio-inline,
                fieldset[disabled] .bk-bs-checkbox,
                fieldset[disabled] .bk-bs-checkbox-inline {
                  cursor: not-allowed;
                }
                .bk-bs-input-sm {
                  height: 30px;
                  padding: 5px 10px;
                  font-size: 12px;
                  line-height: 1.5;
                  border-radius: 3px;
                }
                select.bk-bs-input-sm {
                  height: 30px;
                  line-height: 30px;
                }
                textarea.bk-bs-input-sm,
                select[multiple].bk-bs-input-sm {
                  height: auto;
                }
                .bk-bs-input-lg {
                  height: 46px;
                  padding: 10px 16px;
                  font-size: 18px;
                  line-height: 1.33;
                  border-radius: 6px;
                }
                select.bk-bs-input-lg {
                  height: 46px;
                  line-height: 46px;
                }
                textarea.bk-bs-input-lg,
                select[multiple].bk-bs-input-lg {
                  height: auto;
                }
                .bk-bs-has-feedback {
                  position: relative;
                }
                .bk-bs-has-feedback .bk-bs-form-control {
                  padding-right: 42.5px;
                }
                .bk-bs-has-feedback .bk-bs-form-control-feedback {
                  position: absolute;
                  top: 25px;
                  right: 0;
                  display: block;
                  width: 34px;
                  height: 34px;
                  line-height: 34px;
                  text-align: center;
                }
                .bk-bs-has-success .bk-bs-help-block,
                .bk-bs-has-success .bk-bs-control-label,
                .bk-bs-has-success .bk-bs-radio,
                .bk-bs-has-success .bk-bs-checkbox,
                .bk-bs-has-success .bk-bs-radio-inline,
                .bk-bs-has-success .bk-bs-checkbox-inline {
                  color: #3c763d;
                }
                .bk-bs-has-success .bk-bs-form-control {
                  border-color: #3c763d;
                  -webkit-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075);
                  box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075);
                }
                .bk-bs-has-success .bk-bs-form-control:focus {
                  border-color: #2b542c;
                  -webkit-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075), 0 0 6px #67b168;
                  box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075), 0 0 6px #67b168;
                }
                .bk-bs-has-success .bk-bs-input-group-addon {
                  color: #3c763d;
                  border-color: #3c763d;
                  background-color: #dff0d8;
                }
                .bk-bs-has-success .bk-bs-form-control-feedback {
                  color: #3c763d;
                }
                .bk-bs-has-warning .bk-bs-help-block,
                .bk-bs-has-warning .bk-bs-control-label,
                .bk-bs-has-warning .bk-bs-radio,
                .bk-bs-has-warning .bk-bs-checkbox,
                .bk-bs-has-warning .bk-bs-radio-inline,
                .bk-bs-has-warning .bk-bs-checkbox-inline {
                  color: #8a6d3b;
                }
                .bk-bs-has-warning .bk-bs-form-control {
                  border-color: #8a6d3b;
                  -webkit-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075);
                  box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075);
                }
                .bk-bs-has-warning .bk-bs-form-control:focus {
                  border-color: #66512c;
                  -webkit-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075), 0 0 6px #c0a16b;
                  box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075), 0 0 6px #c0a16b;
                }
                .bk-bs-has-warning .bk-bs-input-group-addon {
                  color: #8a6d3b;
                  border-color: #8a6d3b;
                  background-color: #fcf8e3;
                }
                .bk-bs-has-warning .bk-bs-form-control-feedback {
                  color: #8a6d3b;
                }
                .bk-bs-has-error .bk-bs-help-block,
                .bk-bs-has-error .bk-bs-control-label,
                .bk-bs-has-error .bk-bs-radio,
                .bk-bs-has-error .bk-bs-checkbox,
                .bk-bs-has-error .bk-bs-radio-inline,
                .bk-bs-has-error .bk-bs-checkbox-inline {
                  color: #a94442;
                }
                .bk-bs-has-error .bk-bs-form-control {
                  border-color: #a94442;
                  -webkit-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075);
                  box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075);
                }
                .bk-bs-has-error .bk-bs-form-control:focus {
                  border-color: #843534;
                  -webkit-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075), 0 0 6px #ce8483;
                  box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075), 0 0 6px #ce8483;
                }
                .bk-bs-has-error .bk-bs-input-group-addon {
                  color: #a94442;
                  border-color: #a94442;
                  background-color: #f2dede;
                }
                .bk-bs-has-error .bk-bs-form-control-feedback {
                  color: #a94442;
                }
                .bk-bs-form-control-static {
                  margin-bottom: 0;
                }
                .bk-bs-help-block {
                  display: block;
                  margin-top: 5px;
                  margin-bottom: 10px;
                  color: #737373;
                }
                @media (min-width: 768px) {
                  .bk-bs-form-inline .bk-bs-form-group {
                    display: inline-block;
                    margin-bottom: 0;
                    vertical-align: middle;
                  }
                  .bk-bs-form-inline .bk-bs-form-control {
                    display: inline-block;
                    width: auto;
                    vertical-align: middle;
                  }
                  .bk-bs-form-inline .bk-bs-input-group > .bk-bs-form-control {
                    width: 100%;
                  }
                  .bk-bs-form-inline .bk-bs-control-label {
                    margin-bottom: 0;
                    vertical-align: middle;
                  }
                  .bk-bs-form-inline .bk-bs-radio,
                  .bk-bs-form-inline .bk-bs-checkbox {
                    display: inline-block;
                    margin-top: 0;
                    margin-bottom: 0;
                    padding-left: 0;
                    vertical-align: middle;
                  }
                  .bk-bs-form-inline .bk-bs-radio input[type="radio"],
                  .bk-bs-form-inline .bk-bs-checkbox input[type="checkbox"] {
                    float: none;
                    margin-left: 0;
                  }
                  .bk-bs-form-inline .bk-bs-has-feedback .bk-bs-form-control-feedback {
                    top: 0;
                  }
                }
                .bk-bs-form-horizontal .bk-bs-control-label,
                .bk-bs-form-horizontal .bk-bs-radio,
                .bk-bs-form-horizontal .bk-bs-checkbox,
                .bk-bs-form-horizontal .bk-bs-radio-inline,
                .bk-bs-form-horizontal .bk-bs-checkbox-inline {
                  margin-top: 0;
                  margin-bottom: 0;
                  padding-top: 7px;
                }
                .bk-bs-form-horizontal .bk-bs-radio,
                .bk-bs-form-horizontal .bk-bs-checkbox {
                  min-height: 27px;
                }
                .bk-bs-form-horizontal .bk-bs-form-group {
                  margin-left: -15px;
                  margin-right: -15px;
                }
                .bk-bs-form-horizontal .bk-bs-form-control-static {
                  padding-top: 7px;
                }
                @media (min-width: 768px) {
                  .bk-bs-form-horizontal .bk-bs-control-label {
                    text-align: right;
                  }
                }
                .bk-bs-form-horizontal .bk-bs-has-feedback .bk-bs-form-control-feedback {
                  top: 0;
                  right: 15px;
                }
                .bk-bs-btn {
                  display: inline-block;
                  margin-bottom: 0;
                  font-weight: normal;
                  text-align: center;
                  vertical-align: middle;
                  cursor: pointer;
                  background-image: none;
                  border: 1px solid transparent;
                  white-space: nowrap;
                  padding: 6px 12px;
                  font-size: 14px;
                  line-height: 1.42857143;
                  border-radius: 4px;
                  -webkit-user-select: none;
                  -moz-user-select: none;
                  -ms-user-select: none;
                  user-select: none;
                }
                .bk-bs-btn:focus,
                .bk-bs-btn:active:focus,
                .bk-bs-btn.bk-bs-active:focus {
                  outline: thin dotted;
                  outline: 5px auto -webkit-focus-ring-color;
                  outline-offset: -2px;
                }
                .bk-bs-btn:hover,
                .bk-bs-btn:focus {
                  color: #333333;
                  text-decoration: none;
                }
                .bk-bs-btn:active,
                .bk-bs-btn.bk-bs-active {
                  outline: 0;
                  background-image: none;
                  -webkit-box-shadow: inset 0 3px 5px rgba(0, 0, 0, 0.125);
                  box-shadow: inset 0 3px 5px rgba(0, 0, 0, 0.125);
                }
                .bk-bs-btn.bk-bs-disabled,
                .bk-bs-btn[disabled],
                fieldset[disabled] .bk-bs-btn {
                  cursor: not-allowed;
                  pointer-events: none;
                  opacity: 0.65;
                  filter: alpha(opacity=65);
                  -webkit-box-shadow: none;
                  box-shadow: none;
                }
                .bk-bs-btn-default {
                  color: #333333;
                  background-color: #ffffff;
                  border-color: #cccccc;
                }
                .bk-bs-btn-default:hover,
                .bk-bs-btn-default:focus,
                .bk-bs-btn-default:active,
                .bk-bs-btn-default.bk-bs-active,
                .bk-bs-open .bk-bs-dropdown-toggle.bk-bs-btn-default {
                  color: #333333;
                  background-color: #ebebeb;
                  border-color: #adadad;
                }
                .bk-bs-btn-default:active,
                .bk-bs-btn-default.bk-bs-active,
                .bk-bs-open .bk-bs-dropdown-toggle.bk-bs-btn-default {
                  background-image: none;
                }
                .bk-bs-btn-default.bk-bs-disabled,
                .bk-bs-btn-default[disabled],
                fieldset[disabled] .bk-bs-btn-default,
                .bk-bs-btn-default.bk-bs-disabled:hover,
                .bk-bs-btn-default[disabled]:hover,
                fieldset[disabled] .bk-bs-btn-default:hover,
                .bk-bs-btn-default.bk-bs-disabled:focus,
                .bk-bs-btn-default[disabled]:focus,
                fieldset[disabled] .bk-bs-btn-default:focus,
                .bk-bs-btn-default.bk-bs-disabled:active,
                .bk-bs-btn-default[disabled]:active,
                fieldset[disabled] .bk-bs-btn-default:active,
                .bk-bs-btn-default.bk-bs-disabled.bk-bs-active,
                .bk-bs-btn-default[disabled].bk-bs-active,
                fieldset[disabled] .bk-bs-btn-default.bk-bs-active {
                  background-color: #ffffff;
                  border-color: #cccccc;
                }
                .bk-bs-btn-default .bk-bs-badge {
                  color: #ffffff;
                  background-color: #333333;
                }
                .bk-bs-btn-primary {
                  color: #ffffff;
                  background-color: #428bca;
                  border-color: #357ebd;
                }
                .bk-bs-btn-primary:hover,
                .bk-bs-btn-primary:focus,
                .bk-bs-btn-primary:active,
                .bk-bs-btn-primary.bk-bs-active,
                .bk-bs-open .bk-bs-dropdown-toggle.bk-bs-btn-primary {
                  color: #ffffff;
                  background-color: #3276b1;
                  border-color: #285e8e;
                }
                .bk-bs-btn-primary:active,
                .bk-bs-btn-primary.bk-bs-active,
                .bk-bs-open .bk-bs-dropdown-toggle.bk-bs-btn-primary {
                  background-image: none;
                }
                .bk-bs-btn-primary.bk-bs-disabled,
                .bk-bs-btn-primary[disabled],
                fieldset[disabled] .bk-bs-btn-primary,
                .bk-bs-btn-primary.bk-bs-disabled:hover,
                .bk-bs-btn-primary[disabled]:hover,
                fieldset[disabled] .bk-bs-btn-primary:hover,
                .bk-bs-btn-primary.bk-bs-disabled:focus,
                .bk-bs-btn-primary[disabled]:focus,
                fieldset[disabled] .bk-bs-btn-primary:focus,
                .bk-bs-btn-primary.bk-bs-disabled:active,
                .bk-bs-btn-primary[disabled]:active,
                fieldset[disabled] .bk-bs-btn-primary:active,
                .bk-bs-btn-primary.bk-bs-disabled.bk-bs-active,
                .bk-bs-btn-primary[disabled].bk-bs-active,
                fieldset[disabled] .bk-bs-btn-primary.bk-bs-active {
                  background-color: #428bca;
                  border-color: #357ebd;
                }
                .bk-bs-btn-primary .bk-bs-badge {
                  color: #428bca;
                  background-color: #ffffff;
                }
                .bk-bs-btn-success {
                  color: #ffffff;
                  background-color: #5cb85c;
                  border-color: #4cae4c;
                }
                .bk-bs-btn-success:hover,
                .bk-bs-btn-success:focus,
                .bk-bs-btn-success:active,
                .bk-bs-btn-success.bk-bs-active,
                .bk-bs-open .bk-bs-dropdown-toggle.bk-bs-btn-success {
                  color: #ffffff;
                  background-color: #47a447;
                  border-color: #398439;
                }
                .bk-bs-btn-success:active,
                .bk-bs-btn-success.bk-bs-active,
                .bk-bs-open .bk-bs-dropdown-toggle.bk-bs-btn-success {
                  background-image: none;
                }
                .bk-bs-btn-success.bk-bs-disabled,
                .bk-bs-btn-success[disabled],
                fieldset[disabled] .bk-bs-btn-success,
                .bk-bs-btn-success.bk-bs-disabled:hover,
                .bk-bs-btn-success[disabled]:hover,
                fieldset[disabled] .bk-bs-btn-success:hover,
                .bk-bs-btn-success.bk-bs-disabled:focus,
                .bk-bs-btn-success[disabled]:focus,
                fieldset[disabled] .bk-bs-btn-success:focus,
                .bk-bs-btn-success.bk-bs-disabled:active,
                .bk-bs-btn-success[disabled]:active,
                fieldset[disabled] .bk-bs-btn-success:active,
                .bk-bs-btn-success.bk-bs-disabled.bk-bs-active,
                .bk-bs-btn-success[disabled].bk-bs-active,
                fieldset[disabled] .bk-bs-btn-success.bk-bs-active {
                  background-color: #5cb85c;
                  border-color: #4cae4c;
                }
                .bk-bs-btn-success .bk-bs-badge {
                  color: #5cb85c;
                  background-color: #ffffff;
                }
                .bk-bs-btn-info {
                  color: #ffffff;
                  background-color: #5bc0de;
                  border-color: #46b8da;
                }
                .bk-bs-btn-info:hover,
                .bk-bs-btn-info:focus,
                .bk-bs-btn-info:active,
                .bk-bs-btn-info.bk-bs-active,
                .bk-bs-open .bk-bs-dropdown-toggle.bk-bs-btn-info {
                  color: #ffffff;
                  background-color: #39b3d7;
                  border-color: #269abc;
                }
                .bk-bs-btn-info:active,
                .bk-bs-btn-info.bk-bs-active,
                .bk-bs-open .bk-bs-dropdown-toggle.bk-bs-btn-info {
                  background-image: none;
                }
                .bk-bs-btn-info.bk-bs-disabled,
                .bk-bs-btn-info[disabled],
                fieldset[disabled] .bk-bs-btn-info,
                .bk-bs-btn-info.bk-bs-disabled:hover,
                .bk-bs-btn-info[disabled]:hover,
                fieldset[disabled] .bk-bs-btn-info:hover,
                .bk-bs-btn-info.bk-bs-disabled:focus,
                .bk-bs-btn-info[disabled]:focus,
                fieldset[disabled] .bk-bs-btn-info:focus,
                .bk-bs-btn-info.bk-bs-disabled:active,
                .bk-bs-btn-info[disabled]:active,
                fieldset[disabled] .bk-bs-btn-info:active,
                .bk-bs-btn-info.bk-bs-disabled.bk-bs-active,
                .bk-bs-btn-info[disabled].bk-bs-active,
                fieldset[disabled] .bk-bs-btn-info.bk-bs-active {
                  background-color: #5bc0de;
                  border-color: #46b8da;
                }
                .bk-bs-btn-info .bk-bs-badge {
                  color: #5bc0de;
                  background-color: #ffffff;
                }
                .bk-bs-btn-warning {
                  color: #ffffff;
                  background-color: #f0ad4e;
                  border-color: #eea236;
                }
                .bk-bs-btn-warning:hover,
                .bk-bs-btn-warning:focus,
                .bk-bs-btn-warning:active,
                .bk-bs-btn-warning.bk-bs-active,
                .bk-bs-open .bk-bs-dropdown-toggle.bk-bs-btn-warning {
                  color: #ffffff;
                  background-color: #ed9c28;
                  border-color: #d58512;
                }
                .bk-bs-btn-warning:active,
                .bk-bs-btn-warning.bk-bs-active,
                .bk-bs-open .bk-bs-dropdown-toggle.bk-bs-btn-warning {
                  background-image: none;
                }
                .bk-bs-btn-warning.bk-bs-disabled,
                .bk-bs-btn-warning[disabled],
                fieldset[disabled] .bk-bs-btn-warning,
                .bk-bs-btn-warning.bk-bs-disabled:hover,
                .bk-bs-btn-warning[disabled]:hover,
                fieldset[disabled] .bk-bs-btn-warning:hover,
                .bk-bs-btn-warning.bk-bs-disabled:focus,
                .bk-bs-btn-warning[disabled]:focus,
                fieldset[disabled] .bk-bs-btn-warning:focus,
                .bk-bs-btn-warning.bk-bs-disabled:active,
                .bk-bs-btn-warning[disabled]:active,
                fieldset[disabled] .bk-bs-btn-warning:active,
                .bk-bs-btn-warning.bk-bs-disabled.bk-bs-active,
                .bk-bs-btn-warning[disabled].bk-bs-active,
                fieldset[disabled] .bk-bs-btn-warning.bk-bs-active {
                  background-color: #f0ad4e;
                  border-color: #eea236;
                }
                .bk-bs-btn-warning .bk-bs-badge {
                  color: #f0ad4e;
                  background-color: #ffffff;
                }
                .bk-bs-btn-danger {
                  color: #ffffff;
                  background-color: #d9534f;
                  border-color: #d43f3a;
                }
                .bk-bs-btn-danger:hover,
                .bk-bs-btn-danger:focus,
                .bk-bs-btn-danger:active,
                .bk-bs-btn-danger.bk-bs-active,
                .bk-bs-open .bk-bs-dropdown-toggle.bk-bs-btn-danger {
                  color: #ffffff;
                  background-color: #d2322d;
                  border-color: #ac2925;
                }
                .bk-bs-btn-danger:active,
                .bk-bs-btn-danger.bk-bs-active,
                .bk-bs-open .bk-bs-dropdown-toggle.bk-bs-btn-danger {
                  background-image: none;
                }
                .bk-bs-btn-danger.bk-bs-disabled,
                .bk-bs-btn-danger[disabled],
                fieldset[disabled] .bk-bs-btn-danger,
                .bk-bs-btn-danger.bk-bs-disabled:hover,
                .bk-bs-btn-danger[disabled]:hover,
                fieldset[disabled] .bk-bs-btn-danger:hover,
                .bk-bs-btn-danger.bk-bs-disabled:focus,
                .bk-bs-btn-danger[disabled]:focus,
                fieldset[disabled] .bk-bs-btn-danger:focus,
                .bk-bs-btn-danger.bk-bs-disabled:active,
                .bk-bs-btn-danger[disabled]:active,
                fieldset[disabled] .bk-bs-btn-danger:active,
                .bk-bs-btn-danger.bk-bs-disabled.bk-bs-active,
                .bk-bs-btn-danger[disabled].bk-bs-active,
                fieldset[disabled] .bk-bs-btn-danger.bk-bs-active {
                  background-color: #d9534f;
                  border-color: #d43f3a;
                }
                .bk-bs-btn-danger .bk-bs-badge {
                  color: #d9534f;
                  background-color: #ffffff;
                }
                .bk-bs-btn-link {
                  color: #428bca;
                  font-weight: normal;
                  cursor: pointer;
                  border-radius: 0;
                }
                .bk-bs-btn-link,
                .bk-bs-btn-link:active,
                .bk-bs-btn-link[disabled],
                fieldset[disabled] .bk-bs-btn-link {
                  background-color: transparent;
                  -webkit-box-shadow: none;
                  box-shadow: none;
                }
                .bk-bs-btn-link,
                .bk-bs-btn-link:hover,
                .bk-bs-btn-link:focus,
                .bk-bs-btn-link:active {
                  border-color: transparent;
                }
                .bk-bs-btn-link:hover,
                .bk-bs-btn-link:focus {
                  color: #2a6496;
                  text-decoration: underline;
                  background-color: transparent;
                }
                .bk-bs-btn-link[disabled]:hover,
                fieldset[disabled] .bk-bs-btn-link:hover,
                .bk-bs-btn-link[disabled]:focus,
                fieldset[disabled] .bk-bs-btn-link:focus {
                  color: #999999;
                  text-decoration: none;
                }
                .bk-bs-btn-lg,
                .bk-bs-btn-group-lg > .bk-bs-btn {
                  padding: 10px 16px;
                  font-size: 18px;
                  line-height: 1.33;
                  border-radius: 6px;
                }
                .bk-bs-btn-sm,
                .bk-bs-btn-group-sm > .bk-bs-btn {
                  padding: 5px 10px;
                  font-size: 12px;
                  line-height: 1.5;
                  border-radius: 3px;
                }
                .bk-bs-btn-xs,
                .bk-bs-btn-group-xs > .bk-bs-btn {
                  padding: 1px 5px;
                  font-size: 12px;
                  line-height: 1.5;
                  border-radius: 3px;
                }
                .bk-bs-btn-block {
                  display: block;
                  width: 100%;
                  padding-left: 0;
                  padding-right: 0;
                }
                .bk-bs-btn-block + .bk-bs-btn-block {
                  margin-top: 5px;
                }
                input[type="submit"].bk-bs-btn-block,
                input[type="reset"].bk-bs-btn-block,
                input[type="button"].bk-bs-btn-block {
                  width: 100%;
                }
                .bk-bs-caret {
                  display: inline-block;
                  width: 0;
                  height: 0;
                  margin-left: 2px;
                  vertical-align: middle;
                  border-top: 4px solid;
                  border-right: 4px solid transparent;
                  border-left: 4px solid transparent;
                }
                .bk-bs-dropdown {
                  position: relative;
                }
                .bk-bs-dropdown-toggle:focus {
                  outline: 0;
                }
                .bk-bs-dropdown-menu {
                  position: absolute;
                  top: 100%;
                  left: 0;
                  z-index: 1000;
                  display: none;
                  float: left;
                  min-width: 160px;
                  padding: 5px 0;
                  margin: 2px 0 0;
                  list-style: none;
                  font-size: 14px;
                  background-color: #ffffff;
                  border: 1px solid #cccccc;
                  border: 1px solid rgba(0, 0, 0, 0.15);
                  border-radius: 4px;
                  -webkit-box-shadow: 0 6px 12px rgba(0, 0, 0, 0.175);
                  box-shadow: 0 6px 12px rgba(0, 0, 0, 0.175);
                  background-clip: padding-box;
                }
                .bk-bs-dropdown-menu.bk-bs-pull-right {
                  right: 0;
                  left: auto;
                }
                .bk-bs-dropdown-menu .bk-bs-divider {
                  height: 1px;
                  margin: 9px 0;
                  overflow: hidden;
                  background-color: #e5e5e5;
                }
                .bk-bs-dropdown-menu > li > a {
                  display: block;
                  padding: 3px 20px;
                  clear: both;
                  font-weight: normal;
                  line-height: 1.42857143;
                  color: #333333;
                  white-space: nowrap;
                }
                .bk-bs-dropdown-menu > li > a:hover,
                .bk-bs-dropdown-menu > li > a:focus {
                  text-decoration: none;
                  color: #262626;
                  background-color: #f5f5f5;
                }
                .bk-bs-dropdown-menu > .bk-bs-active > a,
                .bk-bs-dropdown-menu > .bk-bs-active > a:hover,
                .bk-bs-dropdown-menu > .bk-bs-active > a:focus {
                  color: #ffffff;
                  text-decoration: none;
                  outline: 0;
                  background-color: #428bca;
                }
                .bk-bs-dropdown-menu > .bk-bs-disabled > a,
                .bk-bs-dropdown-menu > .bk-bs-disabled > a:hover,
                .bk-bs-dropdown-menu > .bk-bs-disabled > a:focus {
                  color: #999999;
                }
                .bk-bs-dropdown-menu > .bk-bs-disabled > a:hover,
                .bk-bs-dropdown-menu > .bk-bs-disabled > a:focus {
                  text-decoration: none;
                  background-color: transparent;
                  background-image: none;
                  filter: progid:DXImageTransform.bk-bs-Microsoft.bk-bs-gradient(enabled = false);
                  cursor: not-allowed;
                }
                .bk-bs-open > .bk-bs-dropdown-menu {
                  display: block;
                }
                .bk-bs-open > a {
                  outline: 0;
                }
                .bk-bs-dropdown-menu-right {
                  left: auto;
                  right: 0;
                }
                .bk-bs-dropdown-menu-left {
                  left: 0;
                  right: auto;
                }
                .bk-bs-dropdown-header {
                  display: block;
                  padding: 3px 20px;
                  font-size: 12px;
                  line-height: 1.42857143;
                  color: #999999;
                }
                .bk-bs-dropdown-backdrop {
                  position: fixed;
                  left: 0;
                  right: 0;
                  bottom: 0;
                  top: 0;
                  z-index: 990;
                }
                .bk-bs-pull-right > .bk-bs-dropdown-menu {
                  right: 0;
                  left: auto;
                }
                .bk-bs-dropup .bk-bs-caret,
                .bk-bs-navbar-fixed-bottom .bk-bs-dropdown .bk-bs-caret {
                  border-top: 0;
                  border-bottom: 4px solid;
                  content: "";
                }
                .bk-bs-dropup .bk-bs-dropdown-menu,
                .bk-bs-navbar-fixed-bottom .bk-bs-dropdown .bk-bs-dropdown-menu {
                  top: auto;
                  bottom: 100%;
                  margin-bottom: 1px;
                }
                @media (min-width: 768px) {
                  .bk-bs-navbar-right .bk-bs-dropdown-menu {
                    left: auto;
                    right: 0;
                  }
                  .bk-bs-navbar-right .bk-bs-dropdown-menu-left {
                    left: 0;
                    right: auto;
                  }
                }
                .bk-bs-btn-group,
                .bk-bs-btn-group-vertical {
                  position: relative;
                  display: inline-block;
                  vertical-align: middle;
                }
                .bk-bs-btn-group > .bk-bs-btn,
                .bk-bs-btn-group-vertical > .bk-bs-btn {
                  position: relative;
                  float: left;
                }
                .bk-bs-btn-group > .bk-bs-btn:hover,
                .bk-bs-btn-group-vertical > .bk-bs-btn:hover,
                .bk-bs-btn-group > .bk-bs-btn:focus,
                .bk-bs-btn-group-vertical > .bk-bs-btn:focus,
                .bk-bs-btn-group > .bk-bs-btn:active,
                .bk-bs-btn-group-vertical > .bk-bs-btn:active,
                .bk-bs-btn-group > .bk-bs-btn.bk-bs-active,
                .bk-bs-btn-group-vertical > .bk-bs-btn.bk-bs-active {
                  z-index: 2;
                }
                .bk-bs-btn-group > .bk-bs-btn:focus,
                .bk-bs-btn-group-vertical > .bk-bs-btn:focus {
                  outline: none;
                }
                .bk-bs-btn-group .bk-bs-btn + .bk-bs-btn,
                .bk-bs-btn-group .bk-bs-btn + .bk-bs-btn-group,
                .bk-bs-btn-group .bk-bs-btn-group + .bk-bs-btn,
                .bk-bs-btn-group .bk-bs-btn-group + .bk-bs-btn-group {
                  margin-left: -1px;
                }
                .bk-bs-btn-toolbar {
                  margin-left: -5px;
                }
                .bk-bs-btn-toolbar .bk-bs-btn-group,
                .bk-bs-btn-toolbar .bk-bs-input-group {
                  float: left;
                }
                .bk-bs-btn-toolbar > .bk-bs-btn,
                .bk-bs-btn-toolbar > .bk-bs-btn-group,
                .bk-bs-btn-toolbar > .bk-bs-input-group {
                  margin-left: 5px;
                }
                .bk-bs-btn-group > .bk-bs-btn:not(:first-child):not(:last-child):not(.bk-bs-dropdown-toggle) {
                  border-radius: 0;
                }
                .bk-bs-btn-group > .bk-bs-btn:first-child {
                  margin-left: 0;
                }
                .bk-bs-btn-group > .bk-bs-btn:first-child:not(:last-child):not(.bk-bs-dropdown-toggle) {
                  border-bottom-right-radius: 0;
                  border-top-right-radius: 0;
                }
                .bk-bs-btn-group > .bk-bs-btn:last-child:not(:first-child),
                .bk-bs-btn-group > .bk-bs-dropdown-toggle:not(:first-child) {
                  border-bottom-left-radius: 0;
                  border-top-left-radius: 0;
                }
                .bk-bs-btn-group > .bk-bs-btn-group {
                  float: left;
                }
                .bk-bs-btn-group > .bk-bs-btn-group:not(:first-child):not(:last-child) > .bk-bs-btn {
                  border-radius: 0;
                }
                .bk-bs-btn-group > .bk-bs-btn-group:first-child > .bk-bs-btn:last-child,
                .bk-bs-btn-group > .bk-bs-btn-group:first-child > .bk-bs-dropdown-toggle {
                  border-bottom-right-radius: 0;
                  border-top-right-radius: 0;
                }
                .bk-bs-btn-group > .bk-bs-btn-group:last-child > .bk-bs-btn:first-child {
                  border-bottom-left-radius: 0;
                  border-top-left-radius: 0;
                }
                .bk-bs-btn-group .bk-bs-dropdown-toggle:active,
                .bk-bs-btn-group.bk-bs-open .bk-bs-dropdown-toggle {
                  outline: 0;
                }
                .bk-bs-btn-group > .bk-bs-btn + .bk-bs-dropdown-toggle {
                  padding-left: 8px;
                  padding-right: 8px;
                }
                .bk-bs-btn-group > .bk-bs-btn-lg + .bk-bs-dropdown-toggle {
                  padding-left: 12px;
                  padding-right: 12px;
                }
                .bk-bs-btn-group.bk-bs-open .bk-bs-dropdown-toggle {
                  -webkit-box-shadow: inset 0 3px 5px rgba(0, 0, 0, 0.125);
                  box-shadow: inset 0 3px 5px rgba(0, 0, 0, 0.125);
                }
                .bk-bs-btn-group.bk-bs-open .bk-bs-dropdown-toggle.bk-bs-btn-link {
                  -webkit-box-shadow: none;
                  box-shadow: none;
                }
                .bk-bs-btn .bk-bs-caret {
                  margin-left: 0;
                }
                .bk-bs-btn-lg .bk-bs-caret {
                  border-width: 5px 5px 0;
                  border-bottom-width: 0;
                }
                .bk-bs-dropup .bk-bs-btn-lg .bk-bs-caret {
                  border-width: 0 5px 5px;
                }
                .bk-bs-btn-group-vertical > .bk-bs-btn,
                .bk-bs-btn-group-vertical > .bk-bs-btn-group,
                .bk-bs-btn-group-vertical > .bk-bs-btn-group > .bk-bs-btn {
                  display: block;
                  float: none;
                  width: 100%;
                  max-width: 100%;
                }
                .bk-bs-btn-group-vertical > .bk-bs-btn-group > .bk-bs-btn {
                  float: none;
                }
                .bk-bs-btn-group-vertical > .bk-bs-btn + .bk-bs-btn,
                .bk-bs-btn-group-vertical > .bk-bs-btn + .bk-bs-btn-group,
                .bk-bs-btn-group-vertical > .bk-bs-btn-group + .bk-bs-btn,
                .bk-bs-btn-group-vertical > .bk-bs-btn-group + .bk-bs-btn-group {
                  margin-top: -1px;
                  margin-left: 0;
                }
                .bk-bs-btn-group-vertical > .bk-bs-btn:not(:first-child):not(:last-child) {
                  border-radius: 0;
                }
                .bk-bs-btn-group-vertical > .bk-bs-btn:first-child:not(:last-child) {
                  border-top-right-radius: 4px;
                  border-bottom-right-radius: 0;
                  border-bottom-left-radius: 0;
                }
                .bk-bs-btn-group-vertical > .bk-bs-btn:last-child:not(:first-child) {
                  border-bottom-left-radius: 4px;
                  border-top-right-radius: 0;
                  border-top-left-radius: 0;
                }
                .bk-bs-btn-group-vertical > .bk-bs-btn-group:not(:first-child):not(:last-child) > .bk-bs-btn {
                  border-radius: 0;
                }
                .bk-bs-btn-group-vertical > .bk-bs-btn-group:first-child:not(:last-child) > .bk-bs-btn:last-child,
                .bk-bs-btn-group-vertical > .bk-bs-btn-group:first-child:not(:last-child) > .bk-bs-dropdown-toggle {
                  border-bottom-right-radius: 0;
                  border-bottom-left-radius: 0;
                }
                .bk-bs-btn-group-vertical > .bk-bs-btn-group:last-child:not(:first-child) > .bk-bs-btn:first-child {
                  border-top-right-radius: 0;
                  border-top-left-radius: 0;
                }
                .bk-bs-btn-group-justified {
                  display: table;
                  width: 100%;
                  table-layout: fixed;
                  border-collapse: separate;
                }
                .bk-bs-btn-group-justified > .bk-bs-btn,
                .bk-bs-btn-group-justified > .bk-bs-btn-group {
                  float: none;
                  display: table-cell;
                  width: 1%;
                }
                .bk-bs-btn-group-justified > .bk-bs-btn-group .bk-bs-btn {
                  width: 100%;
                }
                [data-toggle="buttons"] > .bk-bs-btn > input[type="radio"],
                [data-toggle="buttons"] > .bk-bs-btn > input[type="checkbox"] {
                  display: none;
                }
                .bk-bs-input-group {
                  position: relative;
                  display: table;
                  border-collapse: separate;
                }
                .bk-bs-input-group[class*="col-"] {
                  float: none;
                  padding-left: 0;
                  padding-right: 0;
                }
                .bk-bs-input-group .bk-bs-form-control {
                  position: relative;
                  z-index: 2;
                  float: left;
                  width: 100%;
                  margin-bottom: 0;
                }
                .bk-bs-input-group-lg > .bk-bs-form-control,
                .bk-bs-input-group-lg > .bk-bs-input-group-addon,
                .bk-bs-input-group-lg > .bk-bs-input-group-btn > .bk-bs-btn {
                  height: 46px;
                  padding: 10px 16px;
                  font-size: 18px;
                  line-height: 1.33;
                  border-radius: 6px;
                }
                select.bk-bs-input-group-lg > .bk-bs-form-control,
                select.bk-bs-input-group-lg > .bk-bs-input-group-addon,
                select.bk-bs-input-group-lg > .bk-bs-input-group-btn > .bk-bs-btn {
                  height: 46px;
                  line-height: 46px;
                }
                textarea.bk-bs-input-group-lg > .bk-bs-form-control,
                textarea.bk-bs-input-group-lg > .bk-bs-input-group-addon,
                textarea.bk-bs-input-group-lg > .bk-bs-input-group-btn > .bk-bs-btn,
                select[multiple].bk-bs-input-group-lg > .bk-bs-form-control,
                select[multiple].bk-bs-input-group-lg > .bk-bs-input-group-addon,
                select[multiple].bk-bs-input-group-lg > .bk-bs-input-group-btn > .bk-bs-btn {
                  height: auto;
                }
                .bk-bs-input-group-sm > .bk-bs-form-control,
                .bk-bs-input-group-sm > .bk-bs-input-group-addon,
                .bk-bs-input-group-sm > .bk-bs-input-group-btn > .bk-bs-btn {
                  height: 30px;
                  padding: 5px 10px;
                  font-size: 12px;
                  line-height: 1.5;
                  border-radius: 3px;
                }
                select.bk-bs-input-group-sm > .bk-bs-form-control,
                select.bk-bs-input-group-sm > .bk-bs-input-group-addon,
                select.bk-bs-input-group-sm > .bk-bs-input-group-btn > .bk-bs-btn {
                  height: 30px;
                  line-height: 30px;
                }
                textarea.bk-bs-input-group-sm > .bk-bs-form-control,
                textarea.bk-bs-input-group-sm > .bk-bs-input-group-addon,
                textarea.bk-bs-input-group-sm > .bk-bs-input-group-btn > .bk-bs-btn,
                select[multiple].bk-bs-input-group-sm > .bk-bs-form-control,
                select[multiple].bk-bs-input-group-sm > .bk-bs-input-group-addon,
                select[multiple].bk-bs-input-group-sm > .bk-bs-input-group-btn > .bk-bs-btn {
                  height: auto;
                }
                .bk-bs-input-group-addon,
                .bk-bs-input-group-btn,
                .bk-bs-input-group .bk-bs-form-control {
                  display: table-cell;
                }
                .bk-bs-input-group-addon:not(:first-child):not(:last-child),
                .bk-bs-input-group-btn:not(:first-child):not(:last-child),
                .bk-bs-input-group .bk-bs-form-control:not(:first-child):not(:last-child) {
                  border-radius: 0;
                }
                .bk-bs-input-group-addon,
                .bk-bs-input-group-btn {
                  width: 1%;
                  white-space: nowrap;
                  vertical-align: middle;
                }
                .bk-bs-input-group-addon {
                  padding: 6px 12px;
                  font-size: 14px;
                  font-weight: normal;
                  line-height: 1;
                  color: #555555;
                  text-align: center;
                  background-color: #eeeeee;
                  border: 1px solid #cccccc;
                  border-radius: 4px;
                }
                .bk-bs-input-group-addon.bk-bs-input-sm {
                  padding: 5px 10px;
                  font-size: 12px;
                  border-radius: 3px;
                }
                .bk-bs-input-group-addon.bk-bs-input-lg {
                  padding: 10px 16px;
                  font-size: 18px;
                  border-radius: 6px;
                }
                .bk-bs-input-group-addon input[type="radio"],
                .bk-bs-input-group-addon input[type="checkbox"] {
                  margin-top: 0;
                }
                .bk-bs-input-group .bk-bs-form-control:first-child,
                .bk-bs-input-group-addon:first-child,
                .bk-bs-input-group-btn:first-child > .bk-bs-btn,
                .bk-bs-input-group-btn:first-child > .bk-bs-btn-group > .bk-bs-btn,
                .bk-bs-input-group-btn:first-child > .bk-bs-dropdown-toggle,
                .bk-bs-input-group-btn:last-child > .bk-bs-btn:not(:last-child):not(.bk-bs-dropdown-toggle),
                .bk-bs-input-group-btn:last-child > .bk-bs-btn-group:not(:last-child) > .bk-bs-btn {
                  border-bottom-right-radius: 0;
                  border-top-right-radius: 0;
                }
                .bk-bs-input-group-addon:first-child {
                  border-right: 0;
                }
                .bk-bs-input-group .bk-bs-form-control:last-child,
                .bk-bs-input-group-addon:last-child,
                .bk-bs-input-group-btn:last-child > .bk-bs-btn,
                .bk-bs-input-group-btn:last-child > .bk-bs-btn-group > .bk-bs-btn,
                .bk-bs-input-group-btn:last-child > .bk-bs-dropdown-toggle,
                .bk-bs-input-group-btn:first-child > .bk-bs-btn:not(:first-child),
                .bk-bs-input-group-btn:first-child > .bk-bs-btn-group:not(:first-child) > .bk-bs-btn {
                  border-bottom-left-radius: 0;
                  border-top-left-radius: 0;
                }
                .bk-bs-input-group-addon:last-child {
                  border-left: 0;
                }
                .bk-bs-input-group-btn {
                  position: relative;
                  font-size: 0;
                  white-space: nowrap;
                }
                .bk-bs-input-group-btn > .bk-bs-btn {
                  position: relative;
                }
                .bk-bs-input-group-btn > .bk-bs-btn + .bk-bs-btn {
                  margin-left: -1px;
                }
                .bk-bs-input-group-btn > .bk-bs-btn:hover,
                .bk-bs-input-group-btn > .bk-bs-btn:focus,
                .bk-bs-input-group-btn > .bk-bs-btn:active {
                  z-index: 2;
                }
                .bk-bs-input-group-btn:first-child > .bk-bs-btn,
                .bk-bs-input-group-btn:first-child > .bk-bs-btn-group {
                  margin-right: -1px;
                }
                .bk-bs-input-group-btn:last-child > .bk-bs-btn,
                .bk-bs-input-group-btn:last-child > .bk-bs-btn-group {
                  margin-left: -1px;
                }
                .bk-bs-nav {
                  margin-bottom: 0;
                  padding-left: 0;
                  list-style: none;
                }
                .bk-bs-nav > li {
                  position: relative;
                  display: block;
                }
                .bk-bs-nav > li > a {
                  position: relative;
                  display: block;
                  padding: 10px 15px;
                }
                .bk-bs-nav > li > a:hover,
                .bk-bs-nav > li > a:focus {
                  text-decoration: none;
                  background-color: #eeeeee;
                }
                .bk-bs-nav > li.bk-bs-disabled > a {
                  color: #999999;
                }
                .bk-bs-nav > li.bk-bs-disabled > a:hover,
                .bk-bs-nav > li.bk-bs-disabled > a:focus {
                  color: #999999;
                  text-decoration: none;
                  background-color: transparent;
                  cursor: not-allowed;
                }
                .bk-bs-nav .bk-bs-open > a,
                .bk-bs-nav .bk-bs-open > a:hover,
                .bk-bs-nav .bk-bs-open > a:focus {
                  background-color: #eeeeee;
                  border-color: #428bca;
                }
                .bk-bs-nav .bk-bs-nav-divider {
                  height: 1px;
                  margin: 9px 0;
                  overflow: hidden;
                  background-color: #e5e5e5;
                }
                .bk-bs-nav > li > a > img {
                  max-width: none;
                }
                .bk-bs-nav-tabs {
                  border-bottom: 1px solid #dddddd;
                }
                .bk-bs-nav-tabs > li {
                  float: left;
                  margin-bottom: -1px;
                }
                .bk-bs-nav-tabs > li > a {
                  margin-right: 2px;
                  line-height: 1.42857143;
                  border: 1px solid transparent;
                  border-radius: 4px 4px 0 0;
                }
                .bk-bs-nav-tabs > li > a:hover {
                  border-color: #eeeeee #eeeeee #dddddd;
                }
                .bk-bs-nav-tabs > li.bk-bs-active > a,
                .bk-bs-nav-tabs > li.bk-bs-active > a:hover,
                .bk-bs-nav-tabs > li.bk-bs-active > a:focus {
                  color: #555555;
                  background-color: #ffffff;
                  border: 1px solid #dddddd;
                  border-bottom-color: transparent;
                  cursor: default;
                }
                .bk-bs-nav-tabs.bk-bs-nav-justified {
                  width: 100%;
                  border-bottom: 0;
                }
                .bk-bs-nav-tabs.bk-bs-nav-justified > li {
                  float: none;
                }
                .bk-bs-nav-tabs.bk-bs-nav-justified > li > a {
                  text-align: center;
                  margin-bottom: 5px;
                }
                .bk-bs-nav-tabs.bk-bs-nav-justified > .bk-bs-dropdown .bk-bs-dropdown-menu {
                  top: auto;
                  left: auto;
                }
                @media (min-width: 768px) {
                  .bk-bs-nav-tabs.bk-bs-nav-justified > li {
                    display: table-cell;
                    width: 1%;
                  }
                  .bk-bs-nav-tabs.bk-bs-nav-justified > li > a {
                    margin-bottom: 0;
                  }
                }
                .bk-bs-nav-tabs.bk-bs-nav-justified > li > a {
                  margin-right: 0;
                  border-radius: 4px;
                }
                .bk-bs-nav-tabs.bk-bs-nav-justified > .bk-bs-active > a,
                .bk-bs-nav-tabs.bk-bs-nav-justified > .bk-bs-active > a:hover,
                .bk-bs-nav-tabs.bk-bs-nav-justified > .bk-bs-active > a:focus {
                  border: 1px solid #dddddd;
                }
                @media (min-width: 768px) {
                  .bk-bs-nav-tabs.bk-bs-nav-justified > li > a {
                    border-bottom: 1px solid #dddddd;
                    border-radius: 4px 4px 0 0;
                  }
                  .bk-bs-nav-tabs.bk-bs-nav-justified > .bk-bs-active > a,
                  .bk-bs-nav-tabs.bk-bs-nav-justified > .bk-bs-active > a:hover,
                  .bk-bs-nav-tabs.bk-bs-nav-justified > .bk-bs-active > a:focus {
                    border-bottom-color: #ffffff;
                  }
                }
                .bk-bs-nav-pills > li {
                  float: left;
                }
                .bk-bs-nav-pills > li > a {
                  border-radius: 4px;
                }
                .bk-bs-nav-pills > li + li {
                  margin-left: 2px;
                }
                .bk-bs-nav-pills > li.bk-bs-active > a,
                .bk-bs-nav-pills > li.bk-bs-active > a:hover,
                .bk-bs-nav-pills > li.bk-bs-active > a:focus {
                  color: #ffffff;
                  background-color: #428bca;
                }
                .bk-bs-nav-stacked > li {
                  float: none;
                }
                .bk-bs-nav-stacked > li + li {
                  margin-top: 2px;
                  margin-left: 0;
                }
                .bk-bs-nav-justified {
                  width: 100%;
                }
                .bk-bs-nav-justified > li {
                  float: none;
                }
                .bk-bs-nav-justified > li > a {
                  text-align: center;
                  margin-bottom: 5px;
                }
                .bk-bs-nav-justified > .bk-bs-dropdown .bk-bs-dropdown-menu {
                  top: auto;
                  left: auto;
                }
                @media (min-width: 768px) {
                  .bk-bs-nav-justified > li {
                    display: table-cell;
                    width: 1%;
                  }
                  .bk-bs-nav-justified > li > a {
                    margin-bottom: 0;
                  }
                }
                .bk-bs-nav-tabs-justified {
                  border-bottom: 0;
                }
                .bk-bs-nav-tabs-justified > li > a {
                  margin-right: 0;
                  border-radius: 4px;
                }
                .bk-bs-nav-tabs-justified > .bk-bs-active > a,
                .bk-bs-nav-tabs-justified > .bk-bs-active > a:hover,
                .bk-bs-nav-tabs-justified > .bk-bs-active > a:focus {
                  border: 1px solid #dddddd;
                }
                @media (min-width: 768px) {
                  .bk-bs-nav-tabs-justified > li > a {
                    border-bottom: 1px solid #dddddd;
                    border-radius: 4px 4px 0 0;
                  }
                  .bk-bs-nav-tabs-justified > .bk-bs-active > a,
                  .bk-bs-nav-tabs-justified > .bk-bs-active > a:hover,
                  .bk-bs-nav-tabs-justified > .bk-bs-active > a:focus {
                    border-bottom-color: #ffffff;
                  }
                }
                .bk-bs-tab-content > .bk-bs-tab-pane {
                  display: none;
                }
                .bk-bs-tab-content > .bk-bs-active {
                  display: block;
                }
                .bk-bs-nav-tabs .bk-bs-dropdown-menu {
                  margin-top: -1px;
                  border-top-right-radius: 0;
                  border-top-left-radius: 0;
                }
                .bk-bs-label {
                  display: inline;
                  padding: .2em .6em .3em;
                  font-size: 75%;
                  font-weight: bold;
                  line-height: 1;
                  color: #ffffff;
                  text-align: center;
                  white-space: nowrap;
                  vertical-align: baseline;
                  border-radius: .25em;
                }
                .bk-bs-label[href]:hover,
                .bk-bs-label[href]:focus {
                  color: #ffffff;
                  text-decoration: none;
                  cursor: pointer;
                }
                .bk-bs-label:empty {
                  display: none;
                }
                .bk-bs-btn .bk-bs-label {
                  position: relative;
                  top: -1px;
                }
                .bk-bs-label-default {
                  background-color: #999999;
                }
                .bk-bs-label-default[href]:hover,
                .bk-bs-label-default[href]:focus {
                  background-color: #808080;
                }
                .bk-bs-label-primary {
                  background-color: #428bca;
                }
                .bk-bs-label-primary[href]:hover,
                .bk-bs-label-primary[href]:focus {
                  background-color: #3071a9;
                }
                .bk-bs-label-success {
                  background-color: #5cb85c;
                }
                .bk-bs-label-success[href]:hover,
                .bk-bs-label-success[href]:focus {
                  background-color: #449d44;
                }
                .bk-bs-label-info {
                  background-color: #5bc0de;
                }
                .bk-bs-label-info[href]:hover,
                .bk-bs-label-info[href]:focus {
                  background-color: #31b0d5;
                }
                .bk-bs-label-warning {
                  background-color: #f0ad4e;
                }
                .bk-bs-label-warning[href]:hover,
                .bk-bs-label-warning[href]:focus {
                  background-color: #ec971f;
                }
                .bk-bs-label-danger {
                  background-color: #d9534f;
                }
                .bk-bs-label-danger[href]:hover,
                .bk-bs-label-danger[href]:focus {
                  background-color: #c9302c;
                }
                .bk-bs-panel {
                  margin-bottom: 20px;
                  background-color: #ffffff;
                  border: 1px solid transparent;
                  border-radius: 4px;
                  -webkit-box-shadow: 0 1px 1px rgba(0, 0, 0, 0.05);
                  box-shadow: 0 1px 1px rgba(0, 0, 0, 0.05);
                }
                .bk-bs-panel-body {
                  padding: 15px;
                }
                .bk-bs-panel-heading {
                  padding: 10px 15px;
                  border-bottom: 1px solid transparent;
                  border-top-right-radius: 3px;
                  border-top-left-radius: 3px;
                }
                .bk-bs-panel-heading > .bk-bs-dropdown .bk-bs-dropdown-toggle {
                  color: inherit;
                }
                .bk-bs-panel-title {
                  margin-top: 0;
                  margin-bottom: 0;
                  font-size: 16px;
                  color: inherit;
                }
                .bk-bs-panel-title > a {
                  color: inherit;
                }
                .bk-bs-panel-footer {
                  padding: 10px 15px;
                  background-color: #f5f5f5;
                  border-top: 1px solid #dddddd;
                  border-bottom-right-radius: 3px;
                  border-bottom-left-radius: 3px;
                }
                .bk-bs-panel > .bk-bs-list-group {
                  margin-bottom: 0;
                }
                .bk-bs-panel > .bk-bs-list-group .bk-bs-list-group-item {
                  border-width: 1px 0;
                  border-radius: 0;
                }
                .bk-bs-panel > .bk-bs-list-group:first-child .bk-bs-list-group-item:first-child {
                  border-top: 0;
                  border-top-right-radius: 3px;
                  border-top-left-radius: 3px;
                }
                .bk-bs-panel > .bk-bs-list-group:last-child .bk-bs-list-group-item:last-child {
                  border-bottom: 0;
                  border-bottom-right-radius: 3px;
                  border-bottom-left-radius: 3px;
                }
                .bk-bs-panel-heading + .bk-bs-list-group .bk-bs-list-group-item:first-child {
                  border-top-width: 0;
                }
                .bk-bs-panel > .bk-bs-table,
                .bk-bs-panel > .bk-bs-table-responsive > .bk-bs-table {
                  margin-bottom: 0;
                }
                .bk-bs-panel > .bk-bs-table:first-child,
                .bk-bs-panel > .bk-bs-table-responsive:first-child > .bk-bs-table:first-child {
                  border-top-right-radius: 3px;
                  border-top-left-radius: 3px;
                }
                .bk-bs-panel > .bk-bs-table:first-child > thead:first-child > tr:first-child td:first-child,
                .bk-bs-panel > .bk-bs-table-responsive:first-child > .bk-bs-table:first-child > thead:first-child > tr:first-child td:first-child,
                .bk-bs-panel > .bk-bs-table:first-child > tbody:first-child > tr:first-child td:first-child,
                .bk-bs-panel > .bk-bs-table-responsive:first-child > .bk-bs-table:first-child > tbody:first-child > tr:first-child td:first-child,
                .bk-bs-panel > .bk-bs-table:first-child > thead:first-child > tr:first-child th:first-child,
                .bk-bs-panel > .bk-bs-table-responsive:first-child > .bk-bs-table:first-child > thead:first-child > tr:first-child th:first-child,
                .bk-bs-panel > .bk-bs-table:first-child > tbody:first-child > tr:first-child th:first-child,
                .bk-bs-panel > .bk-bs-table-responsive:first-child > .bk-bs-table:first-child > tbody:first-child > tr:first-child th:first-child {
                  border-top-left-radius: 3px;
                }
                .bk-bs-panel > .bk-bs-table:first-child > thead:first-child > tr:first-child td:last-child,
                .bk-bs-panel > .bk-bs-table-responsive:first-child > .bk-bs-table:first-child > thead:first-child > tr:first-child td:last-child,
                .bk-bs-panel > .bk-bs-table:first-child > tbody:first-child > tr:first-child td:last-child,
                .bk-bs-panel > .bk-bs-table-responsive:first-child > .bk-bs-table:first-child > tbody:first-child > tr:first-child td:last-child,
                .bk-bs-panel > .bk-bs-table:first-child > thead:first-child > tr:first-child th:last-child,
                .bk-bs-panel > .bk-bs-table-responsive:first-child > .bk-bs-table:first-child > thead:first-child > tr:first-child th:last-child,
                .bk-bs-panel > .bk-bs-table:first-child > tbody:first-child > tr:first-child th:last-child,
                .bk-bs-panel > .bk-bs-table-responsive:first-child > .bk-bs-table:first-child > tbody:first-child > tr:first-child th:last-child {
                  border-top-right-radius: 3px;
                }
                .bk-bs-panel > .bk-bs-table:last-child,
                .bk-bs-panel > .bk-bs-table-responsive:last-child > .bk-bs-table:last-child {
                  border-bottom-right-radius: 3px;
                  border-bottom-left-radius: 3px;
                }
                .bk-bs-panel > .bk-bs-table:last-child > tbody:last-child > tr:last-child td:first-child,
                .bk-bs-panel > .bk-bs-table-responsive:last-child > .bk-bs-table:last-child > tbody:last-child > tr:last-child td:first-child,
                .bk-bs-panel > .bk-bs-table:last-child > tfoot:last-child > tr:last-child td:first-child,
                .bk-bs-panel > .bk-bs-table-responsive:last-child > .bk-bs-table:last-child > tfoot:last-child > tr:last-child td:first-child,
                .bk-bs-panel > .bk-bs-table:last-child > tbody:last-child > tr:last-child th:first-child,
                .bk-bs-panel > .bk-bs-table-responsive:last-child > .bk-bs-table:last-child > tbody:last-child > tr:last-child th:first-child,
                .bk-bs-panel > .bk-bs-table:last-child > tfoot:last-child > tr:last-child th:first-child,
                .bk-bs-panel > .bk-bs-table-responsive:last-child > .bk-bs-table:last-child > tfoot:last-child > tr:last-child th:first-child {
                  border-bottom-left-radius: 3px;
                }
                .bk-bs-panel > .bk-bs-table:last-child > tbody:last-child > tr:last-child td:last-child,
                .bk-bs-panel > .bk-bs-table-responsive:last-child > .bk-bs-table:last-child > tbody:last-child > tr:last-child td:last-child,
                .bk-bs-panel > .bk-bs-table:last-child > tfoot:last-child > tr:last-child td:last-child,
                .bk-bs-panel > .bk-bs-table-responsive:last-child > .bk-bs-table:last-child > tfoot:last-child > tr:last-child td:last-child,
                .bk-bs-panel > .bk-bs-table:last-child > tbody:last-child > tr:last-child th:last-child,
                .bk-bs-panel > .bk-bs-table-responsive:last-child > .bk-bs-table:last-child > tbody:last-child > tr:last-child th:last-child,
                .bk-bs-panel > .bk-bs-table:last-child > tfoot:last-child > tr:last-child th:last-child,
                .bk-bs-panel > .bk-bs-table-responsive:last-child > .bk-bs-table:last-child > tfoot:last-child > tr:last-child th:last-child {
                  border-bottom-right-radius: 3px;
                }
                .bk-bs-panel > .bk-bs-panel-body + .bk-bs-table,
                .bk-bs-panel > .bk-bs-panel-body + .bk-bs-table-responsive {
                  border-top: 1px solid #dddddd;
                }
                .bk-bs-panel > .bk-bs-table > tbody:first-child > tr:first-child th,
                .bk-bs-panel > .bk-bs-table > tbody:first-child > tr:first-child td {
                  border-top: 0;
                }
                .bk-bs-panel > .bk-bs-table-bordered,
                .bk-bs-panel > .bk-bs-table-responsive > .bk-bs-table-bordered {
                  border: 0;
                }
                .bk-bs-panel > .bk-bs-table-bordered > thead > tr > th:first-child,
                .bk-bs-panel > .bk-bs-table-responsive > .bk-bs-table-bordered > thead > tr > th:first-child,
                .bk-bs-panel > .bk-bs-table-bordered > tbody > tr > th:first-child,
                .bk-bs-panel > .bk-bs-table-responsive > .bk-bs-table-bordered > tbody > tr > th:first-child,
                .bk-bs-panel > .bk-bs-table-bordered > tfoot > tr > th:first-child,
                .bk-bs-panel > .bk-bs-table-responsive > .bk-bs-table-bordered > tfoot > tr > th:first-child,
                .bk-bs-panel > .bk-bs-table-bordered > thead > tr > td:first-child,
                .bk-bs-panel > .bk-bs-table-responsive > .bk-bs-table-bordered > thead > tr > td:first-child,
                .bk-bs-panel > .bk-bs-table-bordered > tbody > tr > td:first-child,
                .bk-bs-panel > .bk-bs-table-responsive > .bk-bs-table-bordered > tbody > tr > td:first-child,
                .bk-bs-panel > .bk-bs-table-bordered > tfoot > tr > td:first-child,
                .bk-bs-panel > .bk-bs-table-responsive > .bk-bs-table-bordered > tfoot > tr > td:first-child {
                  border-left: 0;
                }
                .bk-bs-panel > .bk-bs-table-bordered > thead > tr > th:last-child,
                .bk-bs-panel > .bk-bs-table-responsive > .bk-bs-table-bordered > thead > tr > th:last-child,
                .bk-bs-panel > .bk-bs-table-bordered > tbody > tr > th:last-child,
                .bk-bs-panel > .bk-bs-table-responsive > .bk-bs-table-bordered > tbody > tr > th:last-child,
                .bk-bs-panel > .bk-bs-table-bordered > tfoot > tr > th:last-child,
                .bk-bs-panel > .bk-bs-table-responsive > .bk-bs-table-bordered > tfoot > tr > th:last-child,
                .bk-bs-panel > .bk-bs-table-bordered > thead > tr > td:last-child,
                .bk-bs-panel > .bk-bs-table-responsive > .bk-bs-table-bordered > thead > tr > td:last-child,
                .bk-bs-panel > .bk-bs-table-bordered > tbody > tr > td:last-child,
                .bk-bs-panel > .bk-bs-table-responsive > .bk-bs-table-bordered > tbody > tr > td:last-child,
                .bk-bs-panel > .bk-bs-table-bordered > tfoot > tr > td:last-child,
                .bk-bs-panel > .bk-bs-table-responsive > .bk-bs-table-bordered > tfoot > tr > td:last-child {
                  border-right: 0;
                }
                .bk-bs-panel > .bk-bs-table-bordered > thead > tr:first-child > td,
                .bk-bs-panel > .bk-bs-table-responsive > .bk-bs-table-bordered > thead > tr:first-child > td,
                .bk-bs-panel > .bk-bs-table-bordered > tbody > tr:first-child > td,
                .bk-bs-panel > .bk-bs-table-responsive > .bk-bs-table-bordered > tbody > tr:first-child > td,
                .bk-bs-panel > .bk-bs-table-bordered > thead > tr:first-child > th,
                .bk-bs-panel > .bk-bs-table-responsive > .bk-bs-table-bordered > thead > tr:first-child > th,
                .bk-bs-panel > .bk-bs-table-bordered > tbody > tr:first-child > th,
                .bk-bs-panel > .bk-bs-table-responsive > .bk-bs-table-bordered > tbody > tr:first-child > th {
                  border-bottom: 0;
                }
                .bk-bs-panel > .bk-bs-table-bordered > tbody > tr:last-child > td,
                .bk-bs-panel > .bk-bs-table-responsive > .bk-bs-table-bordered > tbody > tr:last-child > td,
                .bk-bs-panel > .bk-bs-table-bordered > tfoot > tr:last-child > td,
                .bk-bs-panel > .bk-bs-table-responsive > .bk-bs-table-bordered > tfoot > tr:last-child > td,
                .bk-bs-panel > .bk-bs-table-bordered > tbody > tr:last-child > th,
                .bk-bs-panel > .bk-bs-table-responsive > .bk-bs-table-bordered > tbody > tr:last-child > th,
                .bk-bs-panel > .bk-bs-table-bordered > tfoot > tr:last-child > th,
                .bk-bs-panel > .bk-bs-table-responsive > .bk-bs-table-bordered > tfoot > tr:last-child > th {
                  border-bottom: 0;
                }
                .bk-bs-panel > .bk-bs-table-responsive {
                  border: 0;
                  margin-bottom: 0;
                }
                .bk-bs-panel-group {
                  margin-bottom: 20px;
                }
                .bk-bs-panel-group .bk-bs-panel {
                  margin-bottom: 0;
                  border-radius: 4px;
                  overflow: hidden;
                }
                .bk-bs-panel-group .bk-bs-panel + .bk-bs-panel {
                  margin-top: 5px;
                }
                .bk-bs-panel-group .bk-bs-panel-heading {
                  border-bottom: 0;
                }
                .bk-bs-panel-group .bk-bs-panel-heading + .bk-bs-panel-collapse .bk-bs-panel-body {
                  border-top: 1px solid #dddddd;
                }
                .bk-bs-panel-group .bk-bs-panel-footer {
                  border-top: 0;
                }
                .bk-bs-panel-group .bk-bs-panel-footer + .bk-bs-panel-collapse .bk-bs-panel-body {
                  border-bottom: 1px solid #dddddd;
                }
                .bk-bs-panel-default {
                  border-color: #dddddd;
                }
                .bk-bs-panel-default > .bk-bs-panel-heading {
                  color: #333333;
                  background-color: #f5f5f5;
                  border-color: #dddddd;
                }
                .bk-bs-panel-default > .bk-bs-panel-heading + .bk-bs-panel-collapse .bk-bs-panel-body {
                  border-top-color: #dddddd;
                }
                .bk-bs-panel-default > .bk-bs-panel-footer + .bk-bs-panel-collapse .bk-bs-panel-body {
                  border-bottom-color: #dddddd;
                }
                .bk-bs-panel-primary {
                  border-color: #428bca;
                }
                .bk-bs-panel-primary > .bk-bs-panel-heading {
                  color: #ffffff;
                  background-color: #428bca;
                  border-color: #428bca;
                }
                .bk-bs-panel-primary > .bk-bs-panel-heading + .bk-bs-panel-collapse .bk-bs-panel-body {
                  border-top-color: #428bca;
                }
                .bk-bs-panel-primary > .bk-bs-panel-footer + .bk-bs-panel-collapse .bk-bs-panel-body {
                  border-bottom-color: #428bca;
                }
                .bk-bs-panel-success {
                  border-color: #d6e9c6;
                }
                .bk-bs-panel-success > .bk-bs-panel-heading {
                  color: #3c763d;
                  background-color: #dff0d8;
                  border-color: #d6e9c6;
                }
                .bk-bs-panel-success > .bk-bs-panel-heading + .bk-bs-panel-collapse .bk-bs-panel-body {
                  border-top-color: #d6e9c6;
                }
                .bk-bs-panel-success > .bk-bs-panel-footer + .bk-bs-panel-collapse .bk-bs-panel-body {
                  border-bottom-color: #d6e9c6;
                }
                .bk-bs-panel-info {
                  border-color: #bce8f1;
                }
                .bk-bs-panel-info > .bk-bs-panel-heading {
                  color: #31708f;
                  background-color: #d9edf7;
                  border-color: #bce8f1;
                }
                .bk-bs-panel-info > .bk-bs-panel-heading + .bk-bs-panel-collapse .bk-bs-panel-body {
                  border-top-color: #bce8f1;
                }
                .bk-bs-panel-info > .bk-bs-panel-footer + .bk-bs-panel-collapse .bk-bs-panel-body {
                  border-bottom-color: #bce8f1;
                }
                .bk-bs-panel-warning {
                  border-color: #faebcc;
                }
                .bk-bs-panel-warning > .bk-bs-panel-heading {
                  color: #8a6d3b;
                  background-color: #fcf8e3;
                  border-color: #faebcc;
                }
                .bk-bs-panel-warning > .bk-bs-panel-heading + .bk-bs-panel-collapse .bk-bs-panel-body {
                  border-top-color: #faebcc;
                }
                .bk-bs-panel-warning > .bk-bs-panel-footer + .bk-bs-panel-collapse .bk-bs-panel-body {
                  border-bottom-color: #faebcc;
                }
                .bk-bs-panel-danger {
                  border-color: #ebccd1;
                }
                .bk-bs-panel-danger > .bk-bs-panel-heading {
                  color: #a94442;
                  background-color: #f2dede;
                  border-color: #ebccd1;
                }
                .bk-bs-panel-danger > .bk-bs-panel-heading + .bk-bs-panel-collapse .bk-bs-panel-body {
                  border-top-color: #ebccd1;
                }
                .bk-bs-panel-danger > .bk-bs-panel-footer + .bk-bs-panel-collapse .bk-bs-panel-body {
                  border-bottom-color: #ebccd1;
                }
                .bk-bs-close {
                  float: right;
                  font-size: 21px;
                  font-weight: bold;
                  line-height: 1;
                  color: #000000;
                  text-shadow: 0 1px 0 #ffffff;
                  opacity: 0.2;
                  filter: alpha(opacity=20);
                }
                .bk-bs-close:hover,
                .bk-bs-close:focus {
                  color: #000000;
                  text-decoration: none;
                  cursor: pointer;
                  opacity: 0.5;
                  filter: alpha(opacity=50);
                }
                button.bk-bs-close {
                  padding: 0;
                  cursor: pointer;
                  background: transparent;
                  border: 0;
                  -webkit-appearance: none;
                }
                .bk-bs-modal-open {
                  overflow: hidden;
                }
                .bk-bs-modal {
                  display: none;
                  overflow: auto;
                  overflow-y: scroll;
                  position: fixed;
                  top: 0;
                  right: 0;
                  bottom: 0;
                  left: 0;
                  z-index: 1050;
                  -webkit-overflow-scrolling: touch;
                  outline: 0;
                }
                .bk-bs-modal.bk-bs-fade .bk-bs-modal-dialog {
                  -webkit-transform: translate(0, -25%);
                  -ms-transform: translate(0, -25%);
                  transform: translate(0, -25%);
                  -webkit-transition: -webkit-transform 0.3s ease-out;
                  -moz-transition: -moz-transform 0.3s ease-out;
                  -o-transition: -o-transform 0.3s ease-out;
                  transition: transform 0.3s ease-out;
                }
                .bk-bs-modal.bk-bs-in .bk-bs-modal-dialog {
                  -webkit-transform: translate(0, 0);
                  -ms-transform: translate(0, 0);
                  transform: translate(0, 0);
                }
                .bk-bs-modal-dialog {
                  position: relative;
                  width: auto;
                  margin: 10px;
                }
                .bk-bs-modal-content {
                  position: relative;
                  background-color: #ffffff;
                  border: 1px solid #999999;
                  border: 1px solid rgba(0, 0, 0, 0.2);
                  border-radius: 6px;
                  -webkit-box-shadow: 0 3px 9px rgba(0, 0, 0, 0.5);
                  box-shadow: 0 3px 9px rgba(0, 0, 0, 0.5);
                  background-clip: padding-box;
                  outline: none;
                }
                .bk-bs-modal-backdrop {
                  position: fixed;
                  top: 0;
                  right: 0;
                  bottom: 0;
                  left: 0;
                  z-index: 1040;
                  background-color: #000000;
                }
                .bk-bs-modal-backdrop.bk-bs-fade {
                  opacity: 0;
                  filter: alpha(opacity=0);
                }
                .bk-bs-modal-backdrop.bk-bs-in {
                  opacity: 0.5;
                  filter: alpha(opacity=50);
                }
                .bk-bs-modal-header {
                  padding: 15px;
                  border-bottom: 1px solid #e5e5e5;
                  min-height: 16.42857143px;
                }
                .bk-bs-modal-header .bk-bs-close {
                  margin-top: -2px;
                }
                .bk-bs-modal-title {
                  margin: 0;
                  line-height: 1.42857143;
                }
                .bk-bs-modal-body {
                  position: relative;
                  padding: 20px;
                }
                .bk-bs-modal-footer {
                  margin-top: 15px;
                  padding: 19px 20px 20px;
                  text-align: right;
                  border-top: 1px solid #e5e5e5;
                }
                .bk-bs-modal-footer .bk-bs-btn + .bk-bs-btn {
                  margin-left: 5px;
                  margin-bottom: 0;
                }
                .bk-bs-modal-footer .bk-bs-btn-group .bk-bs-btn + .bk-bs-btn {
                  margin-left: -1px;
                }
                .bk-bs-modal-footer .bk-bs-btn-block + .bk-bs-btn-block {
                  margin-left: 0;
                }
                @media (min-width: 768px) {
                  .bk-bs-modal-dialog {
                    width: 600px;
                    margin: 30px auto;
                  }
                  .bk-bs-modal-content {
                    -webkit-box-shadow: 0 5px 15px rgba(0, 0, 0, 0.5);
                    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.5);
                  }
                  .bk-bs-modal-sm {
                    width: 300px;
                  }
                }
                @media (min-width: 992px) {
                  .bk-bs-modal-lg {
                    width: 900px;
                  }
                }
                .bk-bs-clearfix:before,
                .bk-bs-clearfix:after,
                .bk-bs-container:before,
                .bk-bs-container:after,
                .bk-bs-container-fluid:before,
                .bk-bs-container-fluid:after,
                .bk-bs-row:before,
                .bk-bs-row:after,
                .bk-bs-form-horizontal .bk-bs-form-group:before,
                .bk-bs-form-horizontal .bk-bs-form-group:after,
                .bk-bs-btn-toolbar:before,
                .bk-bs-btn-toolbar:after,
                .bk-bs-btn-group-vertical > .bk-bs-btn-group:before,
                .bk-bs-btn-group-vertical > .bk-bs-btn-group:after,
                .bk-bs-nav:before,
                .bk-bs-nav:after,
                .bk-bs-panel-body:before,
                .bk-bs-panel-body:after,
                .bk-bs-modal-footer:before,
                .bk-bs-modal-footer:after,
                .bk-crossfilter-row:before,
                .bk-crossfilter-row:after {
                  content: " ";
                  display: table;
                }
                .bk-bs-clearfix:after,
                .bk-bs-container:after,
                .bk-bs-container-fluid:after,
                .bk-bs-row:after,
                .bk-bs-form-horizontal .bk-bs-form-group:after,
                .bk-bs-btn-toolbar:after,
                .bk-bs-btn-group-vertical > .bk-bs-btn-group:after,
                .bk-bs-nav:after,
                .bk-bs-panel-body:after,
                .bk-bs-modal-footer:after,
                .bk-crossfilter-row:after {
                  clear: both;
                }
                .bk-bs-center-block {
                  display: block;
                  margin-left: auto;
                  margin-right: auto;
                }
                .bk-bs-pull-right {
                  float: right !important;
                }
                .bk-bs-pull-left {
                  float: left !important;
                }
                .bk-bs-hide {
                  display: none !important;
                }
                .bk-bs-show {
                  display: block !important;
                }
                .bk-bs-invisible {
                  visibility: hidden;
                }
                .bk-bs-text-hide {
                  font: 0/0 a;
                  color: transparent;
                  text-shadow: none;
                  background-color: transparent;
                  border: 0;
                }
                .bk-bs-hidden {
                  display: none !important;
                  visibility: hidden !important;
                }
                .bk-bs-affix {
                  position: fixed;
                }
                .bk-pivot {
                  font-family: arial;
                  font-size: 8pt;
                }
                .bk-wait {
                  font-weight: bold;
                  font-size: 18px;
                }
                .bk-pivot-toolbox {
                  min-width: 200px;
                  width: 250px;
                }
                .bk-pivot-toolbox ul {
                  padding: 0;
                }
                .bk-pivot-toolbox li {
                  padding: 5px;
                  list-style-type: none;
                }
                .bk-pivot-toolbox li:before,
                .bk-pivot-toolbox li:after {
                  content: " ";
                  display: table;
                }
                .bk-pivot-toolbox li:after {
                  clear: both;
                }
                .bk-pivot-toolbox li:before,
                .bk-pivot-toolbox li:after {
                  content: " ";
                  display: table;
                }
                .bk-pivot-toolbox li:after {
                  clear: both;
                }
                .bk-pivot-toolbox .bk-pivot-box {
                  border: 1px solid #cccccc;
                  border-radius: 5px;
                  margin-top: 5px;
                  background-color: white;
                }
                .bk-pivot-toolbox .bk-pivot-box > li:first-child {
                  background-color: #e6e6e6;
                }
                .bk-pivot-toolbox .bk-pivot-box .bk-pivot-box-header {
                  cursor: move;
                }
                .bk-pivot-toolbox .bk-pivot-box .bk-pivot-box-header .bk-field {
                  font-weight: bold;
                }
                .bk-pivot-toolbox .bk-pivot-box .bk-pivot-box-header .bk-dtype {
                  color: #999999;
                }
                .bk-pivot-toolbox .bk-pivot-box .bk-pivot-box-header .bk-bs-close {
                  font-size: 16px;
                }
                table.pvtTable {
                  text-align: left;
                  border-collapse: collapse;
                }
                table.pvtTable tr th {
                  background-color: #e6e6e6;
                  border: 1px solid #cccccc;
                  font-size: 8pt;
                  padding: 5px;
                }
                table.pvtTable .pvtColLabel {
                  text-align: center;
                }
                table.pvtTable .pvtTotalLabel {
                  text-align: right;
                }
                table.pvtTable tr td {
                  padding: 5px;
                  border: 1px solid #cccccc;
                  vertical-align: top;
                  text-align: right;
                }
                .pvtTotal,
                .pvtGrandTotal {
                  font-weight: bold;
                }
                .bk-hbox {
                  display: -webkit-box;
                  -webkit-box-orient: horizontal;
                  -webkit-box-align: stretch;
                  display: -moz-box;
                  -moz-box-orient: horizontal;
                  -moz-box-align: stretch;
                  display: box;
                  box-orient: horizontal;
                  box-align: stretch;
                  -webkit-box-flex: 0;
                  -moz-box-flex: 0;
                  box-flex: 0;
                }
                .bk-vbox {
                  display: -webkit-box;
                  -webkit-box-orient: vertical;
                  -webkit-box-align: stretch;
                  display: -moz-box;
                  -moz-box-orient: vertical;
                  -moz-box-align: stretch;
                  display: box;
                  box-orient: vertical;
                  box-align: stretch;
                  /* width must be 100% to force FF to behave like webkit */
                  width: 100%;
                  -webkit-box-flex: 0;
                  -moz-box-flex: 0;
                  box-flex: 0;
                }
                .bk-widget-form {
                  padding: 30px 30px 30px 30px;
                  overflow: hidden;
                }
                .bk-widget-form-group {
                  margin-bottom: 15px;
                }
                .bk-widget-form-input {
                  display: block;
                  width: 100%;
                  height: 34px;
                  padding: 6px 12px;
                  font-size: 14px;
                  line-height: 1.42857143;
                  color: #555555;
                  background-color: #ffffff;
                  background-image: none;
                  border: 1px solid #cccccc;
                  border-radius: 4px;
                  -webkit-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075);
                  box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075);
                  -webkit-transition: border-color ease-in-out .15s, box-shadow ease-in-out .15s;
                  transition: border-color ease-in-out .15s, box-shadow ease-in-out .15s;
                }
                .bk-widget-form-input:focus {
                  border-color: #66afe9;
                  outline: 0;
                  -webkit-box-shadow: inset 0 1px 1px rgba(0,0,0,.075), 0 0 8px rgba(102, 175, 233, 0.6);
                  box-shadow: inset 0 1px 1px rgba(0,0,0,.075), 0 0 8px rgba(102, 175, 233, 0.6);
                }
                .bk-widget-form-input::-moz-placeholder {
                  color: #999999;
                  opacity: 1;
                }
                .bk-widget-form-input:-ms-input-placeholder {
                  color: #999999;
                }
                .bk-widget-form-input::-webkit-input-placeholder {
                  color: #999999;
                }
                .bk-widget-form-input[disabled],
                .bk-widget-form-input[readonly],
                fieldset[disabled] .bk-widget-form-input {
                  cursor: not-allowed;
                  background-color: #eeeeee;
                  opacity: 1;
                }
                textarea.bk-widget-form-input {
                  height: auto;
                }
                .bk-slider-horizontal {
                  width: 100%;
                  height: 50px;
                  min-width: 200px;
                }
                .bk-slider-vertical {
                  height: 100%;
                  width: 50px;
                  min-height: 200px;
                }
                .bk-crossfilter-row {
                  margin-left: -15px;
                  margin-right: -15px;
                  height: 100%;
                  width: 100%;
                  margin: 0px;
                }
                .bk-crossfilter-panel-heading {
                  padding-top: 5px;
                  padding-bottom: 5px;
                }
                .aligntable {
                  vertical-align: top;
                }
                .bk-crossfilter-container {
                  height: 100%;
                  width: 100%;
                  whitespace: nowrap;
                  display: inline-block;
                  overflow: auto;
                }
                .bk-crossfilter-configuration {
                  overflow: auto;
                  float: left;
                  padding-right: 0px !important;
                  padding-left: 15px !important;
                  margin-left: 0px !important;
                  margin-right: 0px !important;
                }
                .bk-column-list {
                  overflow-y: auto;
                  height: 100%;
                  padding-right: 0px;
                  padding-left: 0px;
                }
                .bk-table {
                  width: 100%;
                  margin-bottom: 20px;
                  border-top: none;
                  margin-bottom: 0px;
                  text-algin: left;
                }
                .bk-table > thead > tr > th,
                .bk-table > tbody > tr > th,
                .bk-table > tfoot > tr > th,
                .bk-table > thead > tr > td,
                .bk-table > tbody > tr > td,
                .bk-table > tfoot > tr > td {
                  padding: 8px;
                  line-height: 1.42857143;
                  vertical-align: top;
                  border-top: 1px solid #dddddd;
                }
                .bk-table > thead > tr > th {
                  vertical-align: bottom;
                  border-bottom: 2px solid #dddddd;
                }
                .bk-table > caption + thead > tr:first-child > th,
                .bk-table > colgroup + thead > tr:first-child > th,
                .bk-table > thead:first-child > tr:first-child > th,
                .bk-table > caption + thead > tr:first-child > td,
                .bk-table > colgroup + thead > tr:first-child > td,
                .bk-table > thead:first-child > tr:first-child > td {
                  border-top: 0;
                }
                .bk-table > tbody + tbody {
                  border-top: 2px solid #dddddd;
                }
                .bk-table .bk-bs-table {
                  background-color: #ffffff;
                }
                .bk-table > thead > tr > th,
                .bk-table > tbody > tr > th,
                .bk-table > tfoot > tr > th,
                .bk-table > thead > tr > td,
                .bk-table > tbody > tr > td,
                .bk-table > tfoot > tr > td {
                  padding: 5px;
                }
                .bk-filters-facets {
                  height: 100%;
                  padding-left: 0px;
                  padding-right: 0px;
                }
                .bk-filters {
                  height: 45%;
                  overflow: hidden;
                  position: relative;
                }
                .bk-filters-selections {
                  position: absolute;
                  top: 30px;
                  left: 0px;
                  right: 0px;
                  bottom: 0px;
                  overflow-y: auto;
                  padding-top: 0px;
                  padding-bottom: 0px;
                  padding: 5px !important;
                }
                .bk-facet {
                  height: 14%;
                  position: relative;
                }
                .bk-facets-selections {
                  position: absolute;
                  top: 30px;
                  left: 0px;
                  right: 0px;
                  bottom: 0px;
                }
                .bk-plot-selection {
                  padding-right: 0px;
                  padding-left: 0px;
                }
                .bk-plot {
                  float: left;
                  display: inline-block;
                }
                .bk-facet-label {
                  display: inline;
                  padding: .2em .6em .3em;
                  font-size: 75%;
                  font-weight: bold;
                  line-height: 1;
                  color: #ffffff;
                  text-align: center;
                  white-space: nowrap;
                  vertical-align: baseline;
                  border-radius: .25em;
                  background-color: #5bc0de;
                  margin-left: 5px;
                  display: inline-block;
                  cursor: pointer;
                }
                .bk-facet-label[href]:hover,
                .bk-facet-label[href]:focus {
                  color: #ffffff;
                  text-decoration: none;
                  cursor: pointer;
                }
                .bk-facet-label:empty {
                  display: none;
                }
                .bk-bs-btn .bk-facet-label {
                  position: relative;
                  top: -1px;
                }
                .bk-facet-label[href]:hover,
                .bk-facet-label[href]:focus {
                  background-color: #31b0d5;
                }
                .bk-filters-selections .bk-sidebar {
                  -webkit-transform: scale(0.5, 0.5) !important;
                  transform: scale(0.5, 0.5) !important;
                }
                .bk-crossfilter .bk-widget-form {
                  padding: 5px;
                }
                svg {
                  font: 12px sans-serif;
                  margin: 0;
                }
                .ui-dialog-titlebar {
                  height: 16px;
                }
                .bk-button-bar {
                  margin-top: 0px;
                  margin-bottom: 0px;
                  padding-top: 0px;
                  padding-bottom: 2px;
                  position: relative;
                  display: inline-block;
                  vertical-align: middle;
                }
                .bk-button-bar > .bk-bs-btn {
                  position: relative;
                  float: left;
                }
                .bk-button-bar > .bk-bs-btn:hover,
                .bk-button-bar > .bk-bs-btn:focus,
                .bk-button-bar > .bk-bs-btn:active,
                .bk-button-bar > .bk-bs-btn.bk-bs-active {
                  z-index: 2;
                }
                .bk-button-bar > .bk-bs-btn:focus {
                  outline: none;
                }
                .bk-button-bar .bk-bs-btn + .bk-bs-btn,
                .bk-button-bar .bk-bs-btn + .bk-bs-btn-group,
                .bk-button-bar .bk-bs-btn-group + .bk-bs-btn,
                .bk-button-bar .bk-bs-btn-group + .bk-bs-btn-group {
                  margin-left: -1px;
                }
                .bk-toolbar-button {
                  display: inline-block;
                  margin-bottom: 0;
                  font-weight: normal;
                  text-align: center;
                  vertical-align: middle;
                  cursor: pointer;
                  background-image: none;
                  border: 1px solid transparent;
                  white-space: nowrap;
                  padding: 6px 12px;
                  font-size: 14px;
                  line-height: 1.42857143;
                  border-radius: 4px;
                  -webkit-user-select: none;
                  -moz-user-select: none;
                  -ms-user-select: none;
                  user-select: none;
                  padding: 5px 10px;
                  font-size: 12px;
                  line-height: 1.5;
                  border-radius: 3px;
                  color: #333333;
                  background-color: #ffffff;
                  border-color: #cccccc;
                }
                .bk-toolbar-button:focus,
                .bk-toolbar-button:active:focus,
                .bk-toolbar-button.bk-bs-active:focus {
                  outline: thin dotted;
                  outline: 5px auto -webkit-focus-ring-color;
                  outline-offset: -2px;
                }
                .bk-toolbar-button:hover,
                .bk-toolbar-button:focus {
                  color: #333333;
                  text-decoration: none;
                }
                .bk-toolbar-button:active,
                .bk-toolbar-button.bk-bs-active {
                  outline: 0;
                  background-image: none;
                  -webkit-box-shadow: inset 0 3px 5px rgba(0, 0, 0, 0.125);
                  box-shadow: inset 0 3px 5px rgba(0, 0, 0, 0.125);
                }
                .bk-toolbar-button.bk-bs-disabled,
                .bk-toolbar-button[disabled],
                fieldset[disabled] .bk-toolbar-button {
                  cursor: not-allowed;
                  pointer-events: none;
                  opacity: 0.65;
                  filter: alpha(opacity=65);
                  -webkit-box-shadow: none;
                  box-shadow: none;
                }
                .bk-toolbar-button:hover,
                .bk-toolbar-button:focus,
                .bk-toolbar-button:active,
                .bk-toolbar-button.bk-bs-active,
                .bk-bs-open .bk-bs-dropdown-toggle.bk-toolbar-button {
                  color: #333333;
                  background-color: #ebebeb;
                  border-color: #adadad;
                }
                .bk-toolbar-button:active,
                .bk-toolbar-button.bk-bs-active,
                .bk-bs-open .bk-bs-dropdown-toggle.bk-toolbar-button {
                  background-image: none;
                }
                .bk-toolbar-button.bk-bs-disabled,
                .bk-toolbar-button[disabled],
                fieldset[disabled] .bk-toolbar-button,
                .bk-toolbar-button.bk-bs-disabled:hover,
                .bk-toolbar-button[disabled]:hover,
                fieldset[disabled] .bk-toolbar-button:hover,
                .bk-toolbar-button.bk-bs-disabled:focus,
                .bk-toolbar-button[disabled]:focus,
                fieldset[disabled] .bk-toolbar-button:focus,
                .bk-toolbar-button.bk-bs-disabled:active,
                .bk-toolbar-button[disabled]:active,
                fieldset[disabled] .bk-toolbar-button:active,
                .bk-toolbar-button.bk-bs-disabled.bk-bs-active,
                .bk-toolbar-button[disabled].bk-bs-active,
                fieldset[disabled] .bk-toolbar-button.bk-bs-active {
                  background-color: #ffffff;
                  border-color: #cccccc;
                }
                .bk-toolbar-button .bk-bs-badge {
                  color: #ffffff;
                  background-color: #333333;
                }
                .grid_plot .button_bar {
                  display: none;
                }
                .grid_plot .bk-logo {
                  display: none;
                }
                .bokeh_canvas_wrapper {
                  position: relative;
                  font-size: 12pt;
                }
                .bokeh_canvas {
                  position: absolute;
                  font-size: 12pt;
                }
                .bokeh_canvas_wrapper .bokeh_gmap {
                  position: absolute !important;
                  z-index: -5;
                }
                .plotview {
                  clear: both;
                }
                .bokeh_canvas_wrapper {
                  position: relative;
                  font-size: 12pt;
                  float: left;
                }
                .bokeh_canvas {
                  position: absolute;
                  font-size: 12pt;
                }
                .bokeh_tooltip.left::before {
                  position: absolute;
                  top: 40%;
                  width: 0px;
                  height: 0px;
                  left: -9px;
                  border-style: solid;
                  border-width: 7px 10px 7px 0;
                  border-color: transparent #1e4B6c transparent transparent;
                  content: " ";
                  display: block;
                }
                .bokeh_tooltip.right::after {
                  position: absolute;
                  top: 40%;
                  width: 0px;
                  height: 0px;
                  right: -9px;
                  border-style: solid;
                  border-width: 7px 0 7px 10px;
                  border-color: transparent transparent transparent #1e4B6c;
                  content: " ";
                  display: block;
                }
                .bokeh_tooltip {
                  position: absolute;
                  padding: 5px;
                  background-color: #1e4B6c;
                  border-radius: 10px;
                  pointer-events: none;
                }
                .bokeh_tooltip_row_label {
                  color: #9ab9b1;
                  font-family: Helvetica, sans-serif;
                  text-align: right;
                }
                .bokeh_tooltip_row_value {
                  color: #e2ddbd;
                  font-family: Helvetica, sans-serif;
                }
                .bokeh_tooltip_color_block {
                  width: 12px;
                  height: 12px;
                  margin-left: 5px;
                  margin-right: 5px;
                  outline: #dddddd solid 1px;
                  display: inline-block;
                }
                .bokeh_gmap {
                  position: absolute;
                  border: 0;
                  z-index: -5;
                }
                .shading {
                  position: absolute;
                  display: block;
                  border: 1px dashed green;
                  z-index: 100;
                }
                .gridplot_container {
                  position: relative;
                }
                .gridplot_container .gp_plotwrapper {
                  position: absolute;
                }
                .table_wrap table {
                  display: block;
                  margin: 5px;
                  height: 300px;
                  overflow-y: scroll;
                }
                .plot_wrap .button_bar {
                  height: 30px;
                }
                .plot_wrap .button_bar * {
                  display: none;
                }
                .plot_wrap:hover .button_bar * {
                  display: inherit;
                }
                .maximize {
                  display: none;
                  float: right;
                }
                .plotclose {
                  float: right;
                }
                .plotsidebar {
                  float: left;
                  width: 350px;
                  overflow-x: auto;
                }
                .maxplot {
                  float: left;
                }
                .bokehtable {
                  overflow: auto;
                }
                .pandassize,
                .pandasoffset {
                  width: 30px !important;
                  height: 20px !important;
                  padding: 1px !important;
                }
                .hide {
                  display: none;
                }
                .pandasicons {
                  position: relative;
                  top: 5px;
                }
                .bokehdocheading {
                  background-color: #ccc;
                }
                .bokehdocheading:hover > .bokehdelete {
                  display: none;
                  float: right;
                }
                .bokehdelete {
                  float: right;
                }
                .pandasgroup {
                  width: auto;
                  height: 20px !important;
                  padding: 1px !important;
                }
                .pandasagg {
                  width: auto;
                  height: 20px !important;
                  padding: 1px !important;
                }
                .tablecontrolstate {
                  width: auto;
                  height: 20px !important;
                  padding: 1px !important;
                }
                .paginatedisplay {
                  overflow: hidden;
                }
                .pagination {
                  margin: 0 !important;
                }
                .tablecontrolform {
                  margin: 0;
                }
                .computedtxtbox,
                .computedname,
                .search {
                  height: 20px !important;
                  padding: 1px !important;
                }
                .plottitle {
                  padding-left: 50px;
                  padding-bottom: 10px;
                }
                .dataslider {
                  margin: 10px 5px;
                  width: 20px;
                }
                .maxlabel,
                .minlabel {
                  margin-top: 10px;
                  margin-bottom: 10px;
                }
                .jsp {
                  overflow: hidden;
                }
                
                /* END /usr/local/lib/python3.4/dist-packages/bokeh/server/static/css/bokeh.css */
        </style>
        <script type="text/javascript">
            /* BEGIN /usr/local/lib/python3.4/dist-packages/bokeh/server/static/js/bokeh.js */
                (function (root, factory) {
                  root.Bokeh = factory();
                }(this, function () {
                  //almond, and your modules will be inlined here
                
                /**
                 * @license almond 0.2.9 Copyright (c) 2011-2014, The Dojo Foundation All Rights Reserved.
                 * Available via the MIT or new BSD license.
                 * see: http://github.com/jrburke/almond for details
                 */
                //Going sloppy to avoid 'use strict' string cost, but strict practices should
                //be followed.
                /*jslint sloppy: true */
                /*global setTimeout: false */
                
                var requirejs, require, define;
                (function (undef) {
                    var main, req, makeMap, handlers,
                        defined = {},
                        waiting = {},
                        config = {},
                        defining = {},
                        hasOwn = Object.prototype.hasOwnProperty,
                        aps = [].slice,
                        jsSuffixRegExp = /\.js$/;
                
                    function hasProp(obj, prop) {
                        return hasOwn.call(obj, prop);
                    }
                
                    /**
                     * Given a relative module name, like ./something, normalize it to
                     * a real name that can be mapped to a path.
                     * @param {String} name the relative name
                     * @param {String} baseName a real name that the name arg is relative
                     * to.
                     * @returns {String} normalized name
                     */
                    function normalize(name, baseName) {
                        var nameParts, nameSegment, mapValue, foundMap, lastIndex,
                            foundI, foundStarMap, starI, i, j, part,
                            baseParts = baseName && baseName.split("/"),
                            map = config.map,
                            starMap = (map && map['*']) || {};
                
                        //Adjust any relative paths.
                        if (name && name.charAt(0) === ".") {
                            //If have a base name, try to normalize against it,
                            //otherwise, assume it is a top-level require that will
                            //be relative to baseUrl in the end.
                            if (baseName) {
                                //Convert baseName to array, and lop off the last part,
                                //so that . matches that "directory" and not name of the baseName's
                                //module. For instance, baseName of "one/two/three", maps to
                                //"one/two/three.js", but we want the directory, "one/two" for
                                //this normalization.
                                baseParts = baseParts.slice(0, baseParts.length - 1);
                                name = name.split('/');
                                lastIndex = name.length - 1;
                
                                // Node .js allowance:
                                if (config.nodeIdCompat && jsSuffixRegExp.test(name[lastIndex])) {
                                    name[lastIndex] = name[lastIndex].replace(jsSuffixRegExp, '');
                                }
                
                                name = baseParts.concat(name);
                
                                //start trimDots
                                for (i = 0; i < name.length; i += 1) {
                                    part = name[i];
                                    if (part === ".") {
                                        name.splice(i, 1);
                                        i -= 1;
                                    } else if (part === "..") {
                                        if (i === 1 && (name[2] === '..' || name[0] === '..')) {
                                            //End of the line. Keep at least one non-dot
                                            //path segment at the front so it can be mapped
                                            //correctly to disk. Otherwise, there is likely
                                            //no path mapping for a path starting with '..'.
                                            //This can still fail, but catches the most reasonable
                                            //uses of ..
                                            break;
                                        } else if (i > 0) {
                                            name.splice(i - 1, 2);
                                            i -= 2;
                                        }
                                    }
                                }
                                //end trimDots
                
                                name = name.join("/");
                            } else if (name.indexOf('./') === 0) {
                                // No baseName, so this is ID is resolved relative
                                // to baseUrl, pull off the leading dot.
                                name = name.substring(2);
                            }
                        }
                
                        //Apply map config if available.
                        if ((baseParts || starMap) && map) {
                            nameParts = name.split('/');
                
                            for (i = nameParts.length; i > 0; i -= 1) {
                                nameSegment = nameParts.slice(0, i).join("/");
                
                                if (baseParts) {
                                    //Find the longest baseName segment match in the config.
                                    //So, do joins on the biggest to smallest lengths of baseParts.
                                    for (j = baseParts.length; j > 0; j -= 1) {
                                        mapValue = map[baseParts.slice(0, j).join('/')];
                
                                        //baseName segment has  config, find if it has one for
                                        //this name.
                                        if (mapValue) {
                                            mapValue = mapValue[nameSegment];
                                            if (mapValue) {
                                                //Match, update name to the new value.
                                                foundMap = mapValue;
                                                foundI = i;
                                                break;
                                            }
                                        }
                                    }
                                }
                
                                if (foundMap) {
                                    break;
                                }
                
                                //Check for a star map match, but just hold on to it,
                                //if there is a shorter segment match later in a matching
                                //config, then favor over this star map.
                                if (!foundStarMap && starMap && starMap[nameSegment]) {
                                    foundStarMap = starMap[nameSegment];
                                    starI = i;
                                }
                            }
                
                            if (!foundMap && foundStarMap) {
                                foundMap = foundStarMap;
                                foundI = starI;
                            }
                
                            if (foundMap) {
                                nameParts.splice(0, foundI, foundMap);
                                name = nameParts.join('/');
                            }
                        }
                
                        return name;
                    }
                
                    function makeRequire(relName, forceSync) {
                        return function () {
                            //A version of a require function that passes a moduleName
                            //value for items that may need to
                            //look up paths relative to the moduleName
                            return req.apply(undef, aps.call(arguments, 0).concat([relName, forceSync]));
                        };
                    }
                
                    function makeNormalize(relName) {
                        return function (name) {
                            return normalize(name, relName);
                        };
                    }
                
                    function makeLoad(depName) {
                        return function (value) {
                            defined[depName] = value;
                        };
                    }
                
                    function callDep(name) {
                        if (hasProp(waiting, name)) {
                            var args = waiting[name];
                            delete waiting[name];
                            defining[name] = true;
                            main.apply(undef, args);
                        }
                
                        if (!hasProp(defined, name) && !hasProp(defining, name)) {
                            throw new Error('No ' + name);
                        }
                        return defined[name];
                    }
                
                    //Turns a plugin!resource to [plugin, resource]
                    //with the plugin being undefined if the name
                    //did not have a plugin prefix.
                    function splitPrefix(name) {
                        var prefix,
                            index = name ? name.indexOf('!') : -1;
                        if (index > -1) {
                            prefix = name.substring(0, index);
                            name = name.substring(index + 1, name.length);
                        }
                        return [prefix, name];
                    }
                
                    /**
                     * Makes a name map, normalizing the name, and using a plugin
                     * for normalization if necessary. Grabs a ref to plugin
                     * too, as an optimization.
                     */
                    makeMap = function (name, relName) {
                        var plugin,
                            parts = splitPrefix(name),
                            prefix = parts[0];
                
                        name = parts[1];
                
                        if (prefix) {
                            prefix = normalize(prefix, relName);
                            plugin = callDep(prefix);
                        }
                
                        //Normalize according
                        if (prefix) {
                            if (plugin && plugin.normalize) {
                                name = plugin.normalize(name, makeNormalize(relName));
                            } else {
                                name = normalize(name, relName);
                            }
                        } else {
                            name = normalize(name, relName);
                            parts = splitPrefix(name);
                            prefix = parts[0];
                            name = parts[1];
                            if (prefix) {
                                plugin = callDep(prefix);
                            }
                        }
                
                        //Using ridiculous property names for space reasons
                        return {
                            f: prefix ? prefix + '!' + name : name, //fullName
                            n: name,
                            pr: prefix,
                            p: plugin
                        };
                    };
                
                    function makeConfig(name) {
                        return function () {
                            return (config && config.config && config.config[name]) || {};
                        };
                    }
                
                    handlers = {
                        require: function (name) {
                            return makeRequire(name);
                        },
                        exports: function (name) {
                            var e = defined[name];
                            if (typeof e !== 'undefined') {
                                return e;
                            } else {
                                return (defined[name] = {});
                            }
                        },
                        module: function (name) {
                            return {
                                id: name,
                                uri: '',
                                exports: defined[name],
                                config: makeConfig(name)
                            };
                        }
                    };
                
                    main = function (name, deps, callback, relName) {
                        var cjsModule, depName, ret, map, i,
                            args = [],
                            callbackType = typeof callback,
                            usingExports;
                
                        //Use name if no relName
                        relName = relName || name;
                
                        //Call the callback to define the module, if necessary.
                        if (callbackType === 'undefined' || callbackType === 'function') {
                            //Pull out the defined dependencies and pass the ordered
                            //values to the callback.
                            //Default to [require, exports, module] if no deps
                            deps = !deps.length && callback.length ? ['require', 'exports', 'module'] : deps;
                            for (i = 0; i < deps.length; i += 1) {
                                map = makeMap(deps[i], relName);
                                depName = map.f;
                
                                //Fast path CommonJS standard dependencies.
                                if (depName === "require") {
                                    args[i] = handlers.require(name);
                                } else if (depName === "exports") {
                                    //CommonJS module spec 1.1
                                    args[i] = handlers.exports(name);
                                    usingExports = true;
                                } else if (depName === "module") {
                                    //CommonJS module spec 1.1
                                    cjsModule = args[i] = handlers.module(name);
                                } else if (hasProp(defined, depName) ||
                                           hasProp(waiting, depName) ||
                                           hasProp(defining, depName)) {
                                    args[i] = callDep(depName);
                                } else if (map.p) {
                                    map.p.load(map.n, makeRequire(relName, true), makeLoad(depName), {});
                                    args[i] = defined[depName];
                                } else {
                                    throw new Error(name + ' missing ' + depName);
                                }
                            }
                
                            ret = callback ? callback.apply(defined[name], args) : undefined;
                
                            if (name) {
                                //If setting exports via "module" is in play,
                                //favor that over return value and exports. After that,
                                //favor a non-undefined return value over exports use.
                                if (cjsModule && cjsModule.exports !== undef &&
                                        cjsModule.exports !== defined[name]) {
                                    defined[name] = cjsModule.exports;
                                } else if (ret !== undef || !usingExports) {
                                    //Use the return value from the function.
                                    defined[name] = ret;
                                }
                            }
                        } else if (name) {
                            //May just be an object definition for the module. Only
                            //worry about defining if have a module name.
                            defined[name] = callback;
                        }
                    };
                
                    requirejs = require = req = function (deps, callback, relName, forceSync, alt) {
                        if (typeof deps === "string") {
                            if (handlers[deps]) {
                                //callback in this case is really relName
                                return handlers[deps](callback);
                            }
                            //Just return the module wanted. In this scenario, the
                            //deps arg is the module name, and second arg (if passed)
                            //is just the relName.
                            //Normalize module name, if it contains . or ..
                            return callDep(makeMap(deps, callback).f);
                        } else if (!deps.splice) {
                            //deps is a config object, not an array.
                            config = deps;
                            if (config.deps) {
                                req(config.deps, config.callback);
                            }
                            if (!callback) {
                                return;
                            }
                
                            if (callback.splice) {
                                //callback is an array, which means it is a dependency list.
                                //Adjust args if there are dependencies
                                deps = callback;
                                callback = relName;
                                relName = null;
                            } else {
                                deps = undef;
                            }
                        }
                
                        //Support require(['a'])
                        callback = callback || function () {};
                
                        //If relName is a function, it is an errback handler,
                        //so remove it.
                        if (typeof relName === 'function') {
                            relName = forceSync;
                            forceSync = alt;
                        }
                
                        //Simulate async callback;
                        if (forceSync) {
                            main(undef, deps, callback, relName);
                        } else {
                            //Using a non-zero value because of concern for what old browsers
                            //do, and latest browsers "upgrade" to 4 if lower value is used:
                            //http://www.whatwg.org/specs/web-apps/current-work/multipage/timers.html#dom-windowtimers-settimeout:
                            //If want a value immediately, use require('id') instead -- something
                            //that works in almond on the global level, but not guaranteed and
                            //unlikely to work in other AMD implementations.
                            setTimeout(function () {
                                main(undef, deps, callback, relName);
                            }, 4);
                        }
                
                        return req;
                    };
                
                    /**
                     * Just drops the config on the floor, but returns req in case
                     * the config return value is used.
                     */
                    req.config = function (cfg) {
                        return req(cfg);
                    };
                
                    /**
                     * Expose module registry for debugging and tooling
                     */
                    requirejs._defined = defined;
                
                    define = function (name, deps, callback) {
                
                        //This module may not have dependencies
                        if (!deps.splice) {
                            //deps is not an array, so probably means
                            //an object literal or factory function for
                            //the value. Adjust args.
                            callback = deps;
                            deps = [];
                        }
                
                        if (!hasProp(defined, name) && !hasProp(waiting, name)) {
                            waiting[name] = [name, deps, callback];
                        }
                    };
                
                    define.amd = {
                        jQuery: true
                    };
                }());
                
                define("vendor/almond/almond", function(){});
                
                //     Underscore.js 1.5.2
                //     http://underscorejs.org
                //     (c) 2009-2013 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
                //     Underscore may be freely distributed under the MIT license.
                
                (function() {
                
                  // Baseline setup
                  // --------------
                
                  // Establish the root object, `window` in the browser, or `exports` on the server.
                  var root = this;
                
                  // Save the previous value of the `_` variable.
                  var previousUnderscore = root._;
                
                  // Establish the object that gets returned to break out of a loop iteration.
                  var breaker = {};
                
                  // Save bytes in the minified (but not gzipped) version:
                  var ArrayProto = Array.prototype, ObjProto = Object.prototype, FuncProto = Function.prototype;
                
                  // Create quick reference variables for speed access to core prototypes.
                  var
                    push             = ArrayProto.push,
                    slice            = ArrayProto.slice,
                    concat           = ArrayProto.concat,
                    toString         = ObjProto.toString,
                    hasOwnProperty   = ObjProto.hasOwnProperty;
                
                  // All **ECMAScript 5** native function implementations that we hope to use
                  // are declared here.
                  var
                    nativeForEach      = ArrayProto.forEach,
                    nativeMap          = ArrayProto.map,
                    nativeReduce       = ArrayProto.reduce,
                    nativeReduceRight  = ArrayProto.reduceRight,
                    nativeFilter       = ArrayProto.filter,
                    nativeEvery        = ArrayProto.every,
                    nativeSome         = ArrayProto.some,
                    nativeIndexOf      = ArrayProto.indexOf,
                    nativeLastIndexOf  = ArrayProto.lastIndexOf,
                    nativeIsArray      = Array.isArray,
                    nativeKeys         = Object.keys,
                    nativeBind         = FuncProto.bind;
                
                  // Create a safe reference to the Underscore object for use below.
                  var _ = function(obj) {
                    if (obj instanceof _) return obj;
                    if (!(this instanceof _)) return new _(obj);
                    this._wrapped = obj;
                  };
                
                  // Export the Underscore object for **Node.js**, with
                  // backwards-compatibility for the old `require()` API. If we're in
                  // the browser, add `_` as a global object via a string identifier,
                  // for Closure Compiler "advanced" mode.
                  if (typeof exports !== 'undefined') {
                    if (typeof module !== 'undefined' && module.exports) {
                      exports = module.exports = _;
                    }
                    exports._ = _;
                  } else {
                    root._ = _;
                  }
                
                  // Current version.
                  _.VERSION = '1.5.2';
                
                  // Collection Functions
                  // --------------------
                
                  // The cornerstone, an `each` implementation, aka `forEach`.
                  // Handles objects with the built-in `forEach`, arrays, and raw objects.
                  // Delegates to **ECMAScript 5**'s native `forEach` if available.
                  var each = _.each = _.forEach = function(obj, iterator, context) {
                    if (obj == null) return;
                    if (nativeForEach && obj.forEach === nativeForEach) {
                      obj.forEach(iterator, context);
                    } else if (obj.length === +obj.length) {
                      for (var i = 0, length = obj.length; i < length; i++) {
                        if (iterator.call(context, obj[i], i, obj) === breaker) return;
                      }
                    } else {
                      var keys = _.keys(obj);
                      for (var i = 0, length = keys.length; i < length; i++) {
                        if (iterator.call(context, obj[keys[i]], keys[i], obj) === breaker) return;
                      }
                    }
                  };
                
                  // Return the results of applying the iterator to each element.
                  // Delegates to **ECMAScript 5**'s native `map` if available.
                  _.map = _.collect = function(obj, iterator, context) {
                    var results = [];
                    if (obj == null) return results;
                    if (nativeMap && obj.map === nativeMap) return obj.map(iterator, context);
                    each(obj, function(value, index, list) {
                      results.push(iterator.call(context, value, index, list));
                    });
                    return results;
                  };
                
                  var reduceError = 'Reduce of empty array with no initial value';
                
                  // **Reduce** builds up a single result from a list of values, aka `inject`,
                  // or `foldl`. Delegates to **ECMAScript 5**'s native `reduce` if available.
                  _.reduce = _.foldl = _.inject = function(obj, iterator, memo, context) {
                    var initial = arguments.length > 2;
                    if (obj == null) obj = [];
                    if (nativeReduce && obj.reduce === nativeReduce) {
                      if (context) iterator = _.bind(iterator, context);
                      return initial ? obj.reduce(iterator, memo) : obj.reduce(iterator);
                    }
                    each(obj, function(value, index, list) {
                      if (!initial) {
                        memo = value;
                        initial = true;
                      } else {
                        memo = iterator.call(context, memo, value, index, list);
                      }
                    });
                    if (!initial) throw new TypeError(reduceError);
                    return memo;
                  };
                
                  // The right-associative version of reduce, also known as `foldr`.
                  // Delegates to **ECMAScript 5**'s native `reduceRight` if available.
                  _.reduceRight = _.foldr = function(obj, iterator, memo, context) {
                    var initial = arguments.length > 2;
                    if (obj == null) obj = [];
                    if (nativeReduceRight && obj.reduceRight === nativeReduceRight) {
                      if (context) iterator = _.bind(iterator, context);
                      return initial ? obj.reduceRight(iterator, memo) : obj.reduceRight(iterator);
                    }
                    var length = obj.length;
                    if (length !== +length) {
                      var keys = _.keys(obj);
                      length = keys.length;
                    }
                    each(obj, function(value, index, list) {
                      index = keys ? keys[--length] : --length;
                      if (!initial) {
                        memo = obj[index];
                        initial = true;
                      } else {
                        memo = iterator.call(context, memo, obj[index], index, list);
                      }
                    });
                    if (!initial) throw new TypeError(reduceError);
                    return memo;
                  };
                
                  // Return the first value which passes a truth test. Aliased as `detect`.
                  _.find = _.detect = function(obj, iterator, context) {
                    var result;
                    any(obj, function(value, index, list) {
                      if (iterator.call(context, value, index, list)) {
                        result = value;
                        return true;
                      }
                    });
                    return result;
                  };
                
                  // Return all the elements that pass a truth test.
                  // Delegates to **ECMAScript 5**'s native `filter` if available.
                  // Aliased as `select`.
                  _.filter = _.select = function(obj, iterator, context) {
                    var results = [];
                    if (obj == null) return results;
                    if (nativeFilter && obj.filter === nativeFilter) return obj.filter(iterator, context);
                    each(obj, function(value, index, list) {
                      if (iterator.call(context, value, index, list)) results.push(value);
                    });
                    return results;
                  };
                
                  // Return all the elements for which a truth test fails.
                  _.reject = function(obj, iterator, context) {
                    return _.filter(obj, function(value, index, list) {
                      return !iterator.call(context, value, index, list);
                    }, context);
                  };
                
                  // Determine whether all of the elements match a truth test.
                  // Delegates to **ECMAScript 5**'s native `every` if available.
                  // Aliased as `all`.
                  _.every = _.all = function(obj, iterator, context) {
                    iterator || (iterator = _.identity);
                    var result = true;
                    if (obj == null) return result;
                    if (nativeEvery && obj.every === nativeEvery) return obj.every(iterator, context);
                    each(obj, function(value, index, list) {
                      if (!(result = result && iterator.call(context, value, index, list))) return breaker;
                    });
                    return !!result;
                  };
                
                  // Determine if at least one element in the object matches a truth test.
                  // Delegates to **ECMAScript 5**'s native `some` if available.
                  // Aliased as `any`.
                  var any = _.some = _.any = function(obj, iterator, context) {
                    iterator || (iterator = _.identity);
                    var result = false;
                    if (obj == null) return result;
                    if (nativeSome && obj.some === nativeSome) return obj.some(iterator, context);
                    each(obj, function(value, index, list) {
                      if (result || (result = iterator.call(context, value, index, list))) return breaker;
                    });
                    return !!result;
                  };
                
                  // Determine if the array or object contains a given value (using `===`).
                  // Aliased as `include`.
                  _.contains = _.include = function(obj, target) {
                    if (obj == null) return false;
                    if (nativeIndexOf && obj.indexOf === nativeIndexOf) return obj.indexOf(target) != -1;
                    return any(obj, function(value) {
                      return value === target;
                    });
                  };
                
                  // Invoke a method (with arguments) on every item in a collection.
                  _.invoke = function(obj, method) {
                    var args = slice.call(arguments, 2);
                    var isFunc = _.isFunction(method);
                    return _.map(obj, function(value) {
                      return (isFunc ? method : value[method]).apply(value, args);
                    });
                  };
                
                  // Convenience version of a common use case of `map`: fetching a property.
                  _.pluck = function(obj, key) {
                    return _.map(obj, function(value){ return value[key]; });
                  };
                
                  // Convenience version of a common use case of `filter`: selecting only objects
                  // containing specific `key:value` pairs.
                  _.where = function(obj, attrs, first) {
                    if (_.isEmpty(attrs)) return first ? void 0 : [];
                    return _[first ? 'find' : 'filter'](obj, function(value) {
                      for (var key in attrs) {
                        if (attrs[key] !== value[key]) return false;
                      }
                      return true;
                    });
                  };
                
                  // Convenience version of a common use case of `find`: getting the first object
                  // containing specific `key:value` pairs.
                  _.findWhere = function(obj, attrs) {
                    return _.where(obj, attrs, true);
                  };
                
                  // Return the maximum element or (element-based computation).
                  // Can't optimize arrays of integers longer than 65,535 elements.
                  // See [WebKit Bug 80797](https://bugs.webkit.org/show_bug.cgi?id=80797)
                  _.max = function(obj, iterator, context) {
                    if (!iterator && _.isArray(obj) && obj[0] === +obj[0] && obj.length < 65535) {
                      return Math.max.apply(Math, obj);
                    }
                    if (!iterator && _.isEmpty(obj)) return -Infinity;
                    var result = {computed : -Infinity, value: -Infinity};
                    each(obj, function(value, index, list) {
                      var computed = iterator ? iterator.call(context, value, index, list) : value;
                      computed > result.computed && (result = {value : value, computed : computed});
                    });
                    return result.value;
                  };
                
                  // Return the minimum element (or element-based computation).
                  _.min = function(obj, iterator, context) {
                    if (!iterator && _.isArray(obj) && obj[0] === +obj[0] && obj.length < 65535) {
                      return Math.min.apply(Math, obj);
                    }
                    if (!iterator && _.isEmpty(obj)) return Infinity;
                    var result = {computed : Infinity, value: Infinity};
                    each(obj, function(value, index, list) {
                      var computed = iterator ? iterator.call(context, value, index, list) : value;
                      computed < result.computed && (result = {value : value, computed : computed});
                    });
                    return result.value;
                  };
                
                  // Shuffle an array, using the modern version of the 
                  // [Fisher-Yates shuffle](http://en.wikipedia.org/wiki/Fisher–Yates_shuffle).
                  _.shuffle = function(obj) {
                    var rand;
                    var index = 0;
                    var shuffled = [];
                    each(obj, function(value) {
                      rand = _.random(index++);
                      shuffled[index - 1] = shuffled[rand];
                      shuffled[rand] = value;
                    });
                    return shuffled;
                  };
                
                  // Sample **n** random values from an array.
                  // If **n** is not specified, returns a single random element from the array.
                  // The internal `guard` argument allows it to work with `map`.
                  _.sample = function(obj, n, guard) {
                    if (arguments.length < 2 || guard) {
                      return obj[_.random(obj.length - 1)];
                    }
                    return _.shuffle(obj).slice(0, Math.max(0, n));
                  };
                
                  // An internal function to generate lookup iterators.
                  var lookupIterator = function(value) {
                    return _.isFunction(value) ? value : function(obj){ return obj[value]; };
                  };
                
                  // Sort the object's values by a criterion produced by an iterator.
                  _.sortBy = function(obj, value, context) {
                    var iterator = lookupIterator(value);
                    return _.pluck(_.map(obj, function(value, index, list) {
                      return {
                        value: value,
                        index: index,
                        criteria: iterator.call(context, value, index, list)
                      };
                    }).sort(function(left, right) {
                      var a = left.criteria;
                      var b = right.criteria;
                      if (a !== b) {
                        if (a > b || a === void 0) return 1;
                        if (a < b || b === void 0) return -1;
                      }
                      return left.index - right.index;
                    }), 'value');
                  };
                
                  // An internal function used for aggregate "group by" operations.
                  var group = function(behavior) {
                    return function(obj, value, context) {
                      var result = {};
                      var iterator = value == null ? _.identity : lookupIterator(value);
                      each(obj, function(value, index) {
                        var key = iterator.call(context, value, index, obj);
                        behavior(result, key, value);
                      });
                      return result;
                    };
                  };
                
                  // Groups the object's values by a criterion. Pass either a string attribute
                  // to group by, or a function that returns the criterion.
                  _.groupBy = group(function(result, key, value) {
                    (_.has(result, key) ? result[key] : (result[key] = [])).push(value);
                  });
                
                  // Indexes the object's values by a criterion, similar to `groupBy`, but for
                  // when you know that your index values will be unique.
                  _.indexBy = group(function(result, key, value) {
                    result[key] = value;
                  });
                
                  // Counts instances of an object that group by a certain criterion. Pass
                  // either a string attribute to count by, or a function that returns the
                  // criterion.
                  _.countBy = group(function(result, key) {
                    _.has(result, key) ? result[key]++ : result[key] = 1;
                  });
                
                  // Use a comparator function to figure out the smallest index at which
                  // an object should be inserted so as to maintain order. Uses binary search.
                  _.sortedIndex = function(array, obj, iterator, context) {
                    iterator = iterator == null ? _.identity : lookupIterator(iterator);
                    var value = iterator.call(context, obj);
                    var low = 0, high = array.length;
                    while (low < high) {
                      var mid = (low + high) >>> 1;
                      iterator.call(context, array[mid]) < value ? low = mid + 1 : high = mid;
                    }
                    return low;
                  };
                
                  // Safely create a real, live array from anything iterable.
                  _.toArray = function(obj) {
                    if (!obj) return [];
                    if (_.isArray(obj)) return slice.call(obj);
                    if (obj.length === +obj.length) return _.map(obj, _.identity);
                    return _.values(obj);
                  };
                
                  // Return the number of elements in an object.
                  _.size = function(obj) {
                    if (obj == null) return 0;
                    return (obj.length === +obj.length) ? obj.length : _.keys(obj).length;
                  };
                
                  // Array Functions
                  // ---------------
                
                  // Get the first element of an array. Passing **n** will return the first N
                  // values in the array. Aliased as `head` and `take`. The **guard** check
                  // allows it to work with `_.map`.
                  _.first = _.head = _.take = function(array, n, guard) {
                    if (array == null) return void 0;
                    return (n == null) || guard ? array[0] : slice.call(array, 0, n);
                  };
                
                  // Returns everything but the last entry of the array. Especially useful on
                  // the arguments object. Passing **n** will return all the values in
                  // the array, excluding the last N. The **guard** check allows it to work with
                  // `_.map`.
                  _.initial = function(array, n, guard) {
                    return slice.call(array, 0, array.length - ((n == null) || guard ? 1 : n));
                  };
                
                  // Get the last element of an array. Passing **n** will return the last N
                  // values in the array. The **guard** check allows it to work with `_.map`.
                  _.last = function(array, n, guard) {
                    if (array == null) return void 0;
                    if ((n == null) || guard) {
                      return array[array.length - 1];
                    } else {
                      return slice.call(array, Math.max(array.length - n, 0));
                    }
                  };
                
                  // Returns everything but the first entry of the array. Aliased as `tail` and `drop`.
                  // Especially useful on the arguments object. Passing an **n** will return
                  // the rest N values in the array. The **guard**
                  // check allows it to work with `_.map`.
                  _.rest = _.tail = _.drop = function(array, n, guard) {
                    return slice.call(array, (n == null) || guard ? 1 : n);
                  };
                
                  // Trim out all falsy values from an array.
                  _.compact = function(array) {
                    return _.filter(array, _.identity);
                  };
                
                  // Internal implementation of a recursive `flatten` function.
                  var flatten = function(input, shallow, output) {
                    if (shallow && _.every(input, _.isArray)) {
                      return concat.apply(output, input);
                    }
                    each(input, function(value) {
                      if (_.isArray(value) || _.isArguments(value)) {
                        shallow ? push.apply(output, value) : flatten(value, shallow, output);
                      } else {
                        output.push(value);
                      }
                    });
                    return output;
                  };
                
                  // Flatten out an array, either recursively (by default), or just one level.
                  _.flatten = function(array, shallow) {
                    return flatten(array, shallow, []);
                  };
                
                  // Return a version of the array that does not contain the specified value(s).
                  _.without = function(array) {
                    return _.difference(array, slice.call(arguments, 1));
                  };
                
                  // Produce a duplicate-free version of the array. If the array has already
                  // been sorted, you have the option of using a faster algorithm.
                  // Aliased as `unique`.
                  _.uniq = _.unique = function(array, isSorted, iterator, context) {
                    if (_.isFunction(isSorted)) {
                      context = iterator;
                      iterator = isSorted;
                      isSorted = false;
                    }
                    var initial = iterator ? _.map(array, iterator, context) : array;
                    var results = [];
                    var seen = [];
                    each(initial, function(value, index) {
                      if (isSorted ? (!index || seen[seen.length - 1] !== value) : !_.contains(seen, value)) {
                        seen.push(value);
                        results.push(array[index]);
                      }
                    });
                    return results;
                  };
                
                  // Produce an array that contains the union: each distinct element from all of
                  // the passed-in arrays.
                  _.union = function() {
                    return _.uniq(_.flatten(arguments, true));
                  };
                
                  // Produce an array that contains every item shared between all the
                  // passed-in arrays.
                  _.intersection = function(array) {
                    var rest = slice.call(arguments, 1);
                    return _.filter(_.uniq(array), function(item) {
                      return _.every(rest, function(other) {
                        return _.indexOf(other, item) >= 0;
                      });
                    });
                  };
                
                  // Take the difference between one array and a number of other arrays.
                  // Only the elements present in just the first array will remain.
                  _.difference = function(array) {
                    var rest = concat.apply(ArrayProto, slice.call(arguments, 1));
                    return _.filter(array, function(value){ return !_.contains(rest, value); });
                  };
                
                  // Zip together multiple lists into a single array -- elements that share
                  // an index go together.
                  _.zip = function() {
                    var length = _.max(_.pluck(arguments, "length").concat(0));
                    var results = new Array(length);
                    for (var i = 0; i < length; i++) {
                      results[i] = _.pluck(arguments, '' + i);
                    }
                    return results;
                  };
                
                  // Converts lists into objects. Pass either a single array of `[key, value]`
                  // pairs, or two parallel arrays of the same length -- one of keys, and one of
                  // the corresponding values.
                  _.object = function(list, values) {
                    if (list == null) return {};
                    var result = {};
                    for (var i = 0, length = list.length; i < length; i++) {
                      if (values) {
                        result[list[i]] = values[i];
                      } else {
                        result[list[i][0]] = list[i][1];
                      }
                    }
                    return result;
                  };
                
                  // If the browser doesn't supply us with indexOf (I'm looking at you, **MSIE**),
                  // we need this function. Return the position of the first occurrence of an
                  // item in an array, or -1 if the item is not included in the array.
                  // Delegates to **ECMAScript 5**'s native `indexOf` if available.
                  // If the array is large and already in sort order, pass `true`
                  // for **isSorted** to use binary search.
                  _.indexOf = function(array, item, isSorted) {
                    if (array == null) return -1;
                    var i = 0, length = array.length;
                    if (isSorted) {
                      if (typeof isSorted == 'number') {
                        i = (isSorted < 0 ? Math.max(0, length + isSorted) : isSorted);
                      } else {
                        i = _.sortedIndex(array, item);
                        return array[i] === item ? i : -1;
                      }
                    }
                    if (nativeIndexOf && array.indexOf === nativeIndexOf) return array.indexOf(item, isSorted);
                    for (; i < length; i++) if (array[i] === item) return i;
                    return -1;
                  };
                
                  // Delegates to **ECMAScript 5**'s native `lastIndexOf` if available.
                  _.lastIndexOf = function(array, item, from) {
                    if (array == null) return -1;
                    var hasIndex = from != null;
                    if (nativeLastIndexOf && array.lastIndexOf === nativeLastIndexOf) {
                      return hasIndex ? array.lastIndexOf(item, from) : array.lastIndexOf(item);
                    }
                    var i = (hasIndex ? from : array.length);
                    while (i--) if (array[i] === item) return i;
                    return -1;
                  };
                
                  // Generate an integer Array containing an arithmetic progression. A port of
                  // the native Python `range()` function. See
                  // [the Python documentation](http://docs.python.org/library/functions.html#range).
                  _.range = function(start, stop, step) {
                    if (arguments.length <= 1) {
                      stop = start || 0;
                      start = 0;
                    }
                    step = arguments[2] || 1;
                
                    var length = Math.max(Math.ceil((stop - start) / step), 0);
                    var idx = 0;
                    var range = new Array(length);
                
                    while(idx < length) {
                      range[idx++] = start;
                      start += step;
                    }
                
                    return range;
                  };
                
                  // Function (ahem) Functions
                  // ------------------
                
                  // Reusable constructor function for prototype setting.
                  var ctor = function(){};
                
                  // Create a function bound to a given object (assigning `this`, and arguments,
                  // optionally). Delegates to **ECMAScript 5**'s native `Function.bind` if
                  // available.
                  _.bind = function(func, context) {
                    var args, bound;
                    if (nativeBind && func.bind === nativeBind) return nativeBind.apply(func, slice.call(arguments, 1));
                    if (!_.isFunction(func)) throw new TypeError;
                    args = slice.call(arguments, 2);
                    return bound = function() {
                      if (!(this instanceof bound)) return func.apply(context, args.concat(slice.call(arguments)));
                      ctor.prototype = func.prototype;
                      var self = new ctor;
                      ctor.prototype = null;
                      var result = func.apply(self, args.concat(slice.call(arguments)));
                      if (Object(result) === result) return result;
                      return self;
                    };
                  };
                
                  // Partially apply a function by creating a version that has had some of its
                  // arguments pre-filled, without changing its dynamic `this` context.
                  _.partial = function(func) {
                    var args = slice.call(arguments, 1);
                    return function() {
                      return func.apply(this, args.concat(slice.call(arguments)));
                    };
                  };
                
                  // Bind all of an object's methods to that object. Useful for ensuring that
                  // all callbacks defined on an object belong to it.
                  _.bindAll = function(obj) {
                    var funcs = slice.call(arguments, 1);
                    if (funcs.length === 0) throw new Error("bindAll must be passed function names");
                    each(funcs, function(f) { obj[f] = _.bind(obj[f], obj); });
                    return obj;
                  };
                
                  // Memoize an expensive function by storing its results.
                  _.memoize = function(func, hasher) {
                    var memo = {};
                    hasher || (hasher = _.identity);
                    return function() {
                      var key = hasher.apply(this, arguments);
                      return _.has(memo, key) ? memo[key] : (memo[key] = func.apply(this, arguments));
                    };
                  };
                
                  // Delays a function for the given number of milliseconds, and then calls
                  // it with the arguments supplied.
                  _.delay = function(func, wait) {
                    var args = slice.call(arguments, 2);
                    return setTimeout(function(){ return func.apply(null, args); }, wait);
                  };
                
                  // Defers a function, scheduling it to run after the current call stack has
                  // cleared.
                  _.defer = function(func) {
                    return _.delay.apply(_, [func, 1].concat(slice.call(arguments, 1)));
                  };
                
                  // Returns a function, that, when invoked, will only be triggered at most once
                  // during a given window of time. Normally, the throttled function will run
                  // as much as it can, without ever going more than once per `wait` duration;
                  // but if you'd like to disable the execution on the leading edge, pass
                  // `{leading: false}`. To disable execution on the trailing edge, ditto.
                  _.throttle = function(func, wait, options) {
                    var context, args, result;
                    var timeout = null;
                    var previous = 0;
                    options || (options = {});
                    var later = function() {
                      previous = options.leading === false ? 0 : new Date;
                      timeout = null;
                      result = func.apply(context, args);
                    };
                    return function() {
                      var now = new Date;
                      if (!previous && options.leading === false) previous = now;
                      var remaining = wait - (now - previous);
                      context = this;
                      args = arguments;
                      if (remaining <= 0) {
                        clearTimeout(timeout);
                        timeout = null;
                        previous = now;
                        result = func.apply(context, args);
                      } else if (!timeout && options.trailing !== false) {
                        timeout = setTimeout(later, remaining);
                      }
                      return result;
                    };
                  };
                
                  // Returns a function, that, as long as it continues to be invoked, will not
                  // be triggered. The function will be called after it stops being called for
                  // N milliseconds. If `immediate` is passed, trigger the function on the
                  // leading edge, instead of the trailing.
                  _.debounce = function(func, wait, immediate) {
                    var timeout, args, context, timestamp, result;
                    return function() {
                      context = this;
                      args = arguments;
                      timestamp = new Date();
                      var later = function() {
                        var last = (new Date()) - timestamp;
                        if (last < wait) {
                          timeout = setTimeout(later, wait - last);
                        } else {
                          timeout = null;
                          if (!immediate) result = func.apply(context, args);
                        }
                      };
                      var callNow = immediate && !timeout;
                      if (!timeout) {
                        timeout = setTimeout(later, wait);
                      }
                      if (callNow) result = func.apply(context, args);
                      return result;
                    };
                  };
                
                  // Returns a function that will be executed at most one time, no matter how
                  // often you call it. Useful for lazy initialization.
                  _.once = function(func) {
                    var ran = false, memo;
                    return function() {
                      if (ran) return memo;
                      ran = true;
                      memo = func.apply(this, arguments);
                      func = null;
                      return memo;
                    };
                  };
                
                  // Returns the first function passed as an argument to the second,
                  // allowing you to adjust arguments, run code before and after, and
                  // conditionally execute the original function.
                  _.wrap = function(func, wrapper) {
                    return function() {
                      var args = [func];
                      push.apply(args, arguments);
                      return wrapper.apply(this, args);
                    };
                  };
                
                  // Returns a function that is the composition of a list of functions, each
                  // consuming the return value of the function that follows.
                  _.compose = function() {
                    var funcs = arguments;
                    return function() {
                      var args = arguments;
                      for (var i = funcs.length - 1; i >= 0; i--) {
                        args = [funcs[i].apply(this, args)];
                      }
                      return args[0];
                    };
                  };
                
                  // Returns a function that will only be executed after being called N times.
                  _.after = function(times, func) {
                    return function() {
                      if (--times < 1) {
                        return func.apply(this, arguments);
                      }
                    };
                  };
                
                  // Object Functions
                  // ----------------
                
                  // Retrieve the names of an object's properties.
                  // Delegates to **ECMAScript 5**'s native `Object.keys`
                  _.keys = nativeKeys || function(obj) {
                    if (obj !== Object(obj)) throw new TypeError('Invalid object');
                    var keys = [];
                    for (var key in obj) if (_.has(obj, key)) keys.push(key);
                    return keys;
                  };
                
                  // Retrieve the values of an object's properties.
                  _.values = function(obj) {
                    var keys = _.keys(obj);
                    var length = keys.length;
                    var values = new Array(length);
                    for (var i = 0; i < length; i++) {
                      values[i] = obj[keys[i]];
                    }
                    return values;
                  };
                
                  // Convert an object into a list of `[key, value]` pairs.
                  _.pairs = function(obj) {
                    var keys = _.keys(obj);
                    var length = keys.length;
                    var pairs = new Array(length);
                    for (var i = 0; i < length; i++) {
                      pairs[i] = [keys[i], obj[keys[i]]];
                    }
                    return pairs;
                  };
                
                  // Invert the keys and values of an object. The values must be serializable.
                  _.invert = function(obj) {
                    var result = {};
                    var keys = _.keys(obj);
                    for (var i = 0, length = keys.length; i < length; i++) {
                      result[obj[keys[i]]] = keys[i];
                    }
                    return result;
                  };
                
                  // Return a sorted list of the function names available on the object.
                  // Aliased as `methods`
                  _.functions = _.methods = function(obj) {
                    var names = [];
                    for (var key in obj) {
                      if (_.isFunction(obj[key])) names.push(key);
                    }
                    return names.sort();
                  };
                
                  // Extend a given object with all the properties in passed-in object(s).
                  _.extend = function(obj) {
                    each(slice.call(arguments, 1), function(source) {
                      if (source) {
                        for (var prop in source) {
                          obj[prop] = source[prop];
                        }
                      }
                    });
                    return obj;
                  };
                
                  // Return a copy of the object only containing the whitelisted properties.
                  _.pick = function(obj) {
                    var copy = {};
                    var keys = concat.apply(ArrayProto, slice.call(arguments, 1));
                    each(keys, function(key) {
                      if (key in obj) copy[key] = obj[key];
                    });
                    return copy;
                  };
                
                   // Return a copy of the object without the blacklisted properties.
                  _.omit = function(obj) {
                    var copy = {};
                    var keys = concat.apply(ArrayProto, slice.call(arguments, 1));
                    for (var key in obj) {
                      if (!_.contains(keys, key)) copy[key] = obj[key];
                    }
                    return copy;
                  };
                
                  // Fill in a given object with default properties.
                  _.defaults = function(obj) {
                    each(slice.call(arguments, 1), function(source) {
                      if (source) {
                        for (var prop in source) {
                          if (obj[prop] === void 0) obj[prop] = source[prop];
                        }
                      }
                    });
                    return obj;
                  };
                
                  // Create a (shallow-cloned) duplicate of an object.
                  _.clone = function(obj) {
                    if (!_.isObject(obj)) return obj;
                    return _.isArray(obj) ? obj.slice() : _.extend({}, obj);
                  };
                
                  // Invokes interceptor with the obj, and then returns obj.
                  // The primary purpose of this method is to "tap into" a method chain, in
                  // order to perform operations on intermediate results within the chain.
                  _.tap = function(obj, interceptor) {
                    interceptor(obj);
                    return obj;
                  };
                
                  // Internal recursive comparison function for `isEqual`.
                  var eq = function(a, b, aStack, bStack) {
                    // Identical objects are equal. `0 === -0`, but they aren't identical.
                    // See the [Harmony `egal` proposal](http://wiki.ecmascript.org/doku.php?id=harmony:egal).
                    if (a === b) return a !== 0 || 1 / a == 1 / b;
                    // A strict comparison is necessary because `null == undefined`.
                    if (a == null || b == null) return a === b;
                    // Unwrap any wrapped objects.
                    if (a instanceof _) a = a._wrapped;
                    if (b instanceof _) b = b._wrapped;
                    // Compare `[[Class]]` names.
                    var className = toString.call(a);
                    if (className != toString.call(b)) return false;
                    switch (className) {
                      // Strings, numbers, dates, and booleans are compared by value.
                      case '[object String]':
                        // Primitives and their corresponding object wrappers are equivalent; thus, `"5"` is
                        // equivalent to `new String("5")`.
                        return a == String(b);
                      case '[object Number]':
                        // `NaN`s are equivalent, but non-reflexive. An `egal` comparison is performed for
                        // other numeric values.
                        return a != +a ? b != +b : (a == 0 ? 1 / a == 1 / b : a == +b);
                      case '[object Date]':
                      case '[object Boolean]':
                        // Coerce dates and booleans to numeric primitive values. Dates are compared by their
                        // millisecond representations. Note that invalid dates with millisecond representations
                        // of `NaN` are not equivalent.
                        return +a == +b;
                      // RegExps are compared by their source patterns and flags.
                      case '[object RegExp]':
                        return a.source == b.source &&
                               a.global == b.global &&
                               a.multiline == b.multiline &&
                               a.ignoreCase == b.ignoreCase;
                    }
                    if (typeof a != 'object' || typeof b != 'object') return false;
                    // Assume equality for cyclic structures. The algorithm for detecting cyclic
                    // structures is adapted from ES 5.1 section 15.12.3, abstract operation `JO`.
                    var length = aStack.length;
                    while (length--) {
                      // Linear search. Performance is inversely proportional to the number of
                      // unique nested structures.
                      if (aStack[length] == a) return bStack[length] == b;
                    }
                    // Objects with different constructors are not equivalent, but `Object`s
                    // from different frames are.
                    var aCtor = a.constructor, bCtor = b.constructor;
                    if (aCtor !== bCtor && !(_.isFunction(aCtor) && (aCtor instanceof aCtor) &&
                                             _.isFunction(bCtor) && (bCtor instanceof bCtor))) {
                      return false;
                    }
                    // Add the first object to the stack of traversed objects.
                    aStack.push(a);
                    bStack.push(b);
                    var size = 0, result = true;
                    // Recursively compare objects and arrays.
                    if (className == '[object Array]') {
                      // Compare array lengths to determine if a deep comparison is necessary.
                      size = a.length;
                      result = size == b.length;
                      if (result) {
                        // Deep compare the contents, ignoring non-numeric properties.
                        while (size--) {
                          if (!(result = eq(a[size], b[size], aStack, bStack))) break;
                        }
                      }
                    } else {
                      // Deep compare objects.
                      for (var key in a) {
                        if (_.has(a, key)) {
                          // Count the expected number of properties.
                          size++;
                          // Deep compare each member.
                          if (!(result = _.has(b, key) && eq(a[key], b[key], aStack, bStack))) break;
                        }
                      }
                      // Ensure that both objects contain the same number of properties.
                      if (result) {
                        for (key in b) {
                          if (_.has(b, key) && !(size--)) break;
                        }
                        result = !size;
                      }
                    }
                    // Remove the first object from the stack of traversed objects.
                    aStack.pop();
                    bStack.pop();
                    return result;
                  };
                
                  // Perform a deep comparison to check if two objects are equal.
                  _.isEqual = function(a, b) {
                    return eq(a, b, [], []);
                  };
                
                  // Is a given array, string, or object empty?
                  // An "empty" object has no enumerable own-properties.
                  _.isEmpty = function(obj) {
                    if (obj == null) return true;
                    if (_.isArray(obj) || _.isString(obj)) return obj.length === 0;
                    for (var key in obj) if (_.has(obj, key)) return false;
                    return true;
                  };
                
                  // Is a given value a DOM element?
                  _.isElement = function(obj) {
                    return !!(obj && obj.nodeType === 1);
                  };
                
                  // Is a given value an array?
                  // Delegates to ECMA5's native Array.isArray
                  _.isArray = nativeIsArray || function(obj) {
                    return toString.call(obj) == '[object Array]';
                  };
                
                  // Is a given variable an object?
                  _.isObject = function(obj) {
                    return obj === Object(obj);
                  };
                
                  // Add some isType methods: isArguments, isFunction, isString, isNumber, isDate, isRegExp.
                  each(['Arguments', 'Function', 'String', 'Number', 'Date', 'RegExp'], function(name) {
                    _['is' + name] = function(obj) {
                      return toString.call(obj) == '[object ' + name + ']';
                    };
                  });
                
                  // Define a fallback version of the method in browsers (ahem, IE), where
                  // there isn't any inspectable "Arguments" type.
                  if (!_.isArguments(arguments)) {
                    _.isArguments = function(obj) {
                      return !!(obj && _.has(obj, 'callee'));
                    };
                  }
                
                  // Optimize `isFunction` if appropriate.
                  if (typeof (/./) !== 'function') {
                    _.isFunction = function(obj) {
                      return typeof obj === 'function';
                    };
                  }
                
                  // Is a given object a finite number?
                  _.isFinite = function(obj) {
                    return isFinite(obj) && !isNaN(parseFloat(obj));
                  };
                
                  // Is the given value `NaN`? (NaN is the only number which does not equal itself).
                  _.isNaN = function(obj) {
                    return _.isNumber(obj) && obj != +obj;
                  };
                
                  // Is a given value a boolean?
                  _.isBoolean = function(obj) {
                    return obj === true || obj === false || toString.call(obj) == '[object Boolean]';
                  };
                
                  // Is a given value equal to null?
                  _.isNull = function(obj) {
                    return obj === null;
                  };
                
                  // Is a given variable undefined?
                  _.isUndefined = function(obj) {
                    return obj === void 0;
                  };
                
                  // Shortcut function for checking if an object has a given property directly
                  // on itself (in other words, not on a prototype).
                  _.has = function(obj, key) {
                    return hasOwnProperty.call(obj, key);
                  };
                
                  // Utility Functions
                  // -----------------
                
                  // Run Underscore.js in *noConflict* mode, returning the `_` variable to its
                  // previous owner. Returns a reference to the Underscore object.
                  _.noConflict = function() {
                    root._ = previousUnderscore;
                    return this;
                  };
                
                  // Keep the identity function around for default iterators.
                  _.identity = function(value) {
                    return value;
                  };
                
                  // Run a function **n** times.
                  _.times = function(n, iterator, context) {
                    var accum = Array(Math.max(0, n));
                    for (var i = 0; i < n; i++) accum[i] = iterator.call(context, i);
                    return accum;
                  };
                
                  // Return a random integer between min and max (inclusive).
                  _.random = function(min, max) {
                    if (max == null) {
                      max = min;
                      min = 0;
                    }
                    return min + Math.floor(Math.random() * (max - min + 1));
                  };
                
                  // List of HTML entities for escaping.
                  var entityMap = {
                    escape: {
                      '&': '&amp;',
                      '<': '&lt;',
                      '>': '&gt;',
                      '"': '&quot;',
                      "'": '&#x27;'
                    }
                  };
                  entityMap.unescape = _.invert(entityMap.escape);
                
                  // Regexes containing the keys and values listed immediately above.
                  var entityRegexes = {
                    escape:   new RegExp('[' + _.keys(entityMap.escape).join('') + ']', 'g'),
                    unescape: new RegExp('(' + _.keys(entityMap.unescape).join('|') + ')', 'g')
                  };
                
                  // Functions for escaping and unescaping strings to/from HTML interpolation.
                  _.each(['escape', 'unescape'], function(method) {
                    _[method] = function(string) {
                      if (string == null) return '';
                      return ('' + string).replace(entityRegexes[method], function(match) {
                        return entityMap[method][match];
                      });
                    };
                  });
                
                  // If the value of the named `property` is a function then invoke it with the
                  // `object` as context; otherwise, return it.
                  _.result = function(object, property) {
                    if (object == null) return void 0;
                    var value = object[property];
                    return _.isFunction(value) ? value.call(object) : value;
                  };
                
                  // Add your own custom functions to the Underscore object.
                  _.mixin = function(obj) {
                    each(_.functions(obj), function(name) {
                      var func = _[name] = obj[name];
                      _.prototype[name] = function() {
                        var args = [this._wrapped];
                        push.apply(args, arguments);
                        return result.call(this, func.apply(_, args));
                      };
                    });
                  };
                
                  // Generate a unique integer id (unique within the entire client session).
                  // Useful for temporary DOM ids.
                  var idCounter = 0;
                  _.uniqueId = function(prefix) {
                    var id = ++idCounter + '';
                    return prefix ? prefix + id : id;
                  };
                
                  // By default, Underscore uses ERB-style template delimiters, change the
                  // following template settings to use alternative delimiters.
                  _.templateSettings = {
                    evaluate    : /<%([\s\S]+?)%>/g,
                    interpolate : /<%=([\s\S]+?)%>/g,
                    escape      : /<%-([\s\S]+?)%>/g
                  };
                
                  // When customizing `templateSettings`, if you don't want to define an
                  // interpolation, evaluation or escaping regex, we need one that is
                  // guaranteed not to match.
                  var noMatch = /(.)^/;
                
                  // Certain characters need to be escaped so that they can be put into a
                  // string literal.
                  var escapes = {
                    "'":      "'",
                    '\\':     '\\',
                    '\r':     'r',
                    '\n':     'n',
                    '\t':     't',
                    '\u2028': 'u2028',
                    '\u2029': 'u2029'
                  };
                
                  var escaper = /\\|'|\r|\n|\t|\u2028|\u2029/g;
                
                  // JavaScript micro-templating, similar to John Resig's implementation.
                  // Underscore templating handles arbitrary delimiters, preserves whitespace,
                  // and correctly escapes quotes within interpolated code.
                  _.template = function(text, data, settings) {
                    var render;
                    settings = _.defaults({}, settings, _.templateSettings);
                
                    // Combine delimiters into one regular expression via alternation.
                    var matcher = new RegExp([
                      (settings.escape || noMatch).source,
                      (settings.interpolate || noMatch).source,
                      (settings.evaluate || noMatch).source
                    ].join('|') + '|$', 'g');
                
                    // Compile the template source, escaping string literals appropriately.
                    var index = 0;
                    var source = "__p+='";
                    text.replace(matcher, function(match, escape, interpolate, evaluate, offset) {
                      source += text.slice(index, offset)
                        .replace(escaper, function(match) { return '\\' + escapes[match]; });
                
                      if (escape) {
                        source += "'+\n((__t=(" + escape + "))==null?'':_.escape(__t))+\n'";
                      }
                      if (interpolate) {
                        source += "'+\n((__t=(" + interpolate + "))==null?'':__t)+\n'";
                      }
                      if (evaluate) {
                        source += "';\n" + evaluate + "\n__p+='";
                      }
                      index = offset + match.length;
                      return match;
                    });
                    source += "';\n";
                
                    // If a variable is not specified, place data values in local scope.
                    if (!settings.variable) source = 'with(obj||{}){\n' + source + '}\n';
                
                    source = "var __t,__p='',__j=Array.prototype.join," +
                      "print=function(){__p+=__j.call(arguments,'');};\n" +
                      source + "return __p;\n";
                
                    try {
                      render = new Function(settings.variable || 'obj', '_', source);
                    } catch (e) {
                      e.source = source;
                      throw e;
                    }
                
                    if (data) return render(data, _);
                    var template = function(data) {
                      return render.call(this, data, _);
                    };
                
                    // Provide the compiled function source as a convenience for precompilation.
                    template.source = 'function(' + (settings.variable || 'obj') + '){\n' + source + '}';
                
                    return template;
                  };
                
                  // Add a "chain" function, which will delegate to the wrapper.
                  _.chain = function(obj) {
                    return _(obj).chain();
                  };
                
                  // OOP
                  // ---------------
                  // If Underscore is called as a function, it returns a wrapped object that
                  // can be used OO-style. This wrapper holds altered versions of all the
                  // underscore functions. Wrapped objects may be chained.
                
                  // Helper function to continue chaining intermediate results.
                  var result = function(obj) {
                    return this._chain ? _(obj).chain() : obj;
                  };
                
                  // Add all of the Underscore functions to the wrapper object.
                  _.mixin(_);
                
                  // Add all mutator Array functions to the wrapper.
                  each(['pop', 'push', 'reverse', 'shift', 'sort', 'splice', 'unshift'], function(name) {
                    var method = ArrayProto[name];
                    _.prototype[name] = function() {
                      var obj = this._wrapped;
                      method.apply(obj, arguments);
                      if ((name == 'shift' || name == 'splice') && obj.length === 0) delete obj[0];
                      return result.call(this, obj);
                    };
                  });
                
                  // Add all accessor Array functions to the wrapper.
                  each(['concat', 'join', 'slice'], function(name) {
                    var method = ArrayProto[name];
                    _.prototype[name] = function() {
                      return result.call(this, method.apply(this._wrapped, arguments));
                    };
                  });
                
                  _.extend(_.prototype, {
                
                    // Start chaining a wrapped Underscore object.
                    chain: function() {
                      this._chain = true;
                      return this;
                    },
                
                    // Extracts the result from a wrapped and chained object.
                    value: function() {
                      return this._wrapped;
                    }
                
                  });
                
                  // AMD define happens at the end for compatibility with AMD loaders
                  // that don't enforce next-turn semantics on modules.
                  if (typeof define === 'function' && define.amd) {
                    define('underscore', [],function() {
                      return _;
                    });
                  }
                
                }).call(this);
                
                /*!
                 * jQuery JavaScript Library v2.0.3
                 * http://jquery.com/
                 *
                 * Includes Sizzle.js
                 * http://sizzlejs.com/
                 *
                 * Copyright 2005, 2013 jQuery Foundation, Inc. and other contributors
                 * Released under the MIT license
                 * http://jquery.org/license
                 *
                 * Date: 2013-07-03T13:30Z
                 */
                (function( window, undefined ) {
                
                // Can't do this because several apps including ASP.NET trace
                // the stack via arguments.caller.callee and Firefox dies if
                // you try to trace through "use strict" call chains. (#13335)
                // Support: Firefox 18+
                //
                var
                	// A central reference to the root jQuery(document)
                	rootjQuery,
                
                	// The deferred used on DOM ready
                	readyList,
                
                	// Support: IE9
                	// For `typeof xmlNode.method` instead of `xmlNode.method !== undefined`
                	core_strundefined = typeof undefined,
                
                	// Use the correct document accordingly with window argument (sandbox)
                	location = window.location,
                	document = window.document,
                	docElem = document.documentElement,
                
                	// Map over jQuery in case of overwrite
                	_jQuery = window.jQuery,
                
                	// Map over the $ in case of overwrite
                	_$ = window.$,
                
                	// [[Class]] -> type pairs
                	class2type = {},
                
                	// List of deleted data cache ids, so we can reuse them
                	core_deletedIds = [],
                
                	core_version = "2.0.3",
                
                	// Save a reference to some core methods
                	core_concat = core_deletedIds.concat,
                	core_push = core_deletedIds.push,
                	core_slice = core_deletedIds.slice,
                	core_indexOf = core_deletedIds.indexOf,
                	core_toString = class2type.toString,
                	core_hasOwn = class2type.hasOwnProperty,
                	core_trim = core_version.trim,
                
                	// Define a local copy of jQuery
                	jQuery = function( selector, context ) {
                		// The jQuery object is actually just the init constructor 'enhanced'
                		return new jQuery.fn.init( selector, context, rootjQuery );
                	},
                
                	// Used for matching numbers
                	core_pnum = /[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,
                
                	// Used for splitting on whitespace
                	core_rnotwhite = /\S+/g,
                
                	// A simple way to check for HTML strings
                	// Prioritize #id over <tag> to avoid XSS via location.hash (#9521)
                	// Strict HTML recognition (#11290: must start with <)
                	rquickExpr = /^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,
                
                	// Match a standalone tag
                	rsingleTag = /^<(\w+)\s*\/?>(?:<\/\1>|)$/,
                
                	// Matches dashed string for camelizing
                	rmsPrefix = /^-ms-/,
                	rdashAlpha = /-([\da-z])/gi,
                
                	// Used by jQuery.camelCase as callback to replace()
                	fcamelCase = function( all, letter ) {
                		return letter.toUpperCase();
                	},
                
                	// The ready event handler and self cleanup method
                	completed = function() {
                		document.removeEventListener( "DOMContentLoaded", completed, false );
                		window.removeEventListener( "load", completed, false );
                		jQuery.ready();
                	};
                
                jQuery.fn = jQuery.prototype = {
                	// The current version of jQuery being used
                	jquery: core_version,
                
                	constructor: jQuery,
                	init: function( selector, context, rootjQuery ) {
                		var match, elem;
                
                		// HANDLE: $(""), $(null), $(undefined), $(false)
                		if ( !selector ) {
                			return this;
                		}
                
                		// Handle HTML strings
                		if ( typeof selector === "string" ) {
                			if ( selector.charAt(0) === "<" && selector.charAt( selector.length - 1 ) === ">" && selector.length >= 3 ) {
                				// Assume that strings that start and end with <> are HTML and skip the regex check
                				match = [ null, selector, null ];
                
                			} else {
                				match = rquickExpr.exec( selector );
                			}
                
                			// Match html or make sure no context is specified for #id
                			if ( match && (match[1] || !context) ) {
                
                				// HANDLE: $(html) -> $(array)
                				if ( match[1] ) {
                					context = context instanceof jQuery ? context[0] : context;
                
                					// scripts is true for back-compat
                					jQuery.merge( this, jQuery.parseHTML(
                						match[1],
                						context && context.nodeType ? context.ownerDocument || context : document,
                						true
                					) );
                
                					// HANDLE: $(html, props)
                					if ( rsingleTag.test( match[1] ) && jQuery.isPlainObject( context ) ) {
                						for ( match in context ) {
                							// Properties of context are called as methods if possible
                							if ( jQuery.isFunction( this[ match ] ) ) {
                								this[ match ]( context[ match ] );
                
                							// ...and otherwise set as attributes
                							} else {
                								this.attr( match, context[ match ] );
                							}
                						}
                					}
                
                					return this;
                
                				// HANDLE: $(#id)
                				} else {
                					elem = document.getElementById( match[2] );
                
                					// Check parentNode to catch when Blackberry 4.6 returns
                					// nodes that are no longer in the document #6963
                					if ( elem && elem.parentNode ) {
                						// Inject the element directly into the jQuery object
                						this.length = 1;
                						this[0] = elem;
                					}
                
                					this.context = document;
                					this.selector = selector;
                					return this;
                				}
                
                			// HANDLE: $(expr, $(...))
                			} else if ( !context || context.jquery ) {
                				return ( context || rootjQuery ).find( selector );
                
                			// HANDLE: $(expr, context)
                			// (which is just equivalent to: $(context).find(expr)
                			} else {
                				return this.constructor( context ).find( selector );
                			}
                
                		// HANDLE: $(DOMElement)
                		} else if ( selector.nodeType ) {
                			this.context = this[0] = selector;
                			this.length = 1;
                			return this;
                
                		// HANDLE: $(function)
                		// Shortcut for document ready
                		} else if ( jQuery.isFunction( selector ) ) {
                			return rootjQuery.ready( selector );
                		}
                
                		if ( selector.selector !== undefined ) {
                			this.selector = selector.selector;
                			this.context = selector.context;
                		}
                
                		return jQuery.makeArray( selector, this );
                	},
                
                	// Start with an empty selector
                	selector: "",
                
                	// The default length of a jQuery object is 0
                	length: 0,
                
                	toArray: function() {
                		return core_slice.call( this );
                	},
                
                	// Get the Nth element in the matched element set OR
                	// Get the whole matched element set as a clean array
                	get: function( num ) {
                		return num == null ?
                
                			// Return a 'clean' array
                			this.toArray() :
                
                			// Return just the object
                			( num < 0 ? this[ this.length + num ] : this[ num ] );
                	},
                
                	// Take an array of elements and push it onto the stack
                	// (returning the new matched element set)
                	pushStack: function( elems ) {
                
                		// Build a new jQuery matched element set
                		var ret = jQuery.merge( this.constructor(), elems );
                
                		// Add the old object onto the stack (as a reference)
                		ret.prevObject = this;
                		ret.context = this.context;
                
                		// Return the newly-formed element set
                		return ret;
                	},
                
                	// Execute a callback for every element in the matched set.
                	// (You can seed the arguments with an array of args, but this is
                	// only used internally.)
                	each: function( callback, args ) {
                		return jQuery.each( this, callback, args );
                	},
                
                	ready: function( fn ) {
                		// Add the callback
                		jQuery.ready.promise().done( fn );
                
                		return this;
                	},
                
                	slice: function() {
                		return this.pushStack( core_slice.apply( this, arguments ) );
                	},
                
                	first: function() {
                		return this.eq( 0 );
                	},
                
                	last: function() {
                		return this.eq( -1 );
                	},
                
                	eq: function( i ) {
                		var len = this.length,
                			j = +i + ( i < 0 ? len : 0 );
                		return this.pushStack( j >= 0 && j < len ? [ this[j] ] : [] );
                	},
                
                	map: function( callback ) {
                		return this.pushStack( jQuery.map(this, function( elem, i ) {
                			return callback.call( elem, i, elem );
                		}));
                	},
                
                	end: function() {
                		return this.prevObject || this.constructor(null);
                	},
                
                	// For internal use only.
                	// Behaves like an Array's method, not like a jQuery method.
                	push: core_push,
                	sort: [].sort,
                	splice: [].splice
                };
                
                // Give the init function the jQuery prototype for later instantiation
                jQuery.fn.init.prototype = jQuery.fn;
                
                jQuery.extend = jQuery.fn.extend = function() {
                	var options, name, src, copy, copyIsArray, clone,
                		target = arguments[0] || {},
                		i = 1,
                		length = arguments.length,
                		deep = false;
                
                	// Handle a deep copy situation
                	if ( typeof target === "boolean" ) {
                		deep = target;
                		target = arguments[1] || {};
                		// skip the boolean and the target
                		i = 2;
                	}
                
                	// Handle case when target is a string or something (possible in deep copy)
                	if ( typeof target !== "object" && !jQuery.isFunction(target) ) {
                		target = {};
                	}
                
                	// extend jQuery itself if only one argument is passed
                	if ( length === i ) {
                		target = this;
                		--i;
                	}
                
                	for ( ; i < length; i++ ) {
                		// Only deal with non-null/undefined values
                		if ( (options = arguments[ i ]) != null ) {
                			// Extend the base object
                			for ( name in options ) {
                				src = target[ name ];
                				copy = options[ name ];
                
                				// Prevent never-ending loop
                				if ( target === copy ) {
                					continue;
                				}
                
                				// Recurse if we're merging plain objects or arrays
                				if ( deep && copy && ( jQuery.isPlainObject(copy) || (copyIsArray = jQuery.isArray(copy)) ) ) {
                					if ( copyIsArray ) {
                						copyIsArray = false;
                						clone = src && jQuery.isArray(src) ? src : [];
                
                					} else {
                						clone = src && jQuery.isPlainObject(src) ? src : {};
                					}
                
                					// Never move original objects, clone them
                					target[ name ] = jQuery.extend( deep, clone, copy );
                
                				// Don't bring in undefined values
                				} else if ( copy !== undefined ) {
                					target[ name ] = copy;
                				}
                			}
                		}
                	}
                
                	// Return the modified object
                	return target;
                };
                
                jQuery.extend({
                	// Unique for each copy of jQuery on the page
                	expando: "jQuery" + ( core_version + Math.random() ).replace( /\D/g, "" ),
                
                	noConflict: function( deep ) {
                		if ( window.$ === jQuery ) {
                			window.$ = _$;
                		}
                
                		if ( deep && window.jQuery === jQuery ) {
                			window.jQuery = _jQuery;
                		}
                
                		return jQuery;
                	},
                
                	// Is the DOM ready to be used? Set to true once it occurs.
                	isReady: false,
                
                	// A counter to track how many items to wait for before
                	// the ready event fires. See #6781
                	readyWait: 1,
                
                	// Hold (or release) the ready event
                	holdReady: function( hold ) {
                		if ( hold ) {
                			jQuery.readyWait++;
                		} else {
                			jQuery.ready( true );
                		}
                	},
                
                	// Handle when the DOM is ready
                	ready: function( wait ) {
                
                		// Abort if there are pending holds or we're already ready
                		if ( wait === true ? --jQuery.readyWait : jQuery.isReady ) {
                			return;
                		}
                
                		// Remember that the DOM is ready
                		jQuery.isReady = true;
                
                		// If a normal DOM Ready event fired, decrement, and wait if need be
                		if ( wait !== true && --jQuery.readyWait > 0 ) {
                			return;
                		}
                
                		// If there are functions bound, to execute
                		readyList.resolveWith( document, [ jQuery ] );
                
                		// Trigger any bound ready events
                		if ( jQuery.fn.trigger ) {
                			jQuery( document ).trigger("ready").off("ready");
                		}
                	},
                
                	// See test/unit/core.js for details concerning isFunction.
                	// Since version 1.3, DOM methods and functions like alert
                	// aren't supported. They return false on IE (#2968).
                	isFunction: function( obj ) {
                		return jQuery.type(obj) === "function";
                	},
                
                	isArray: Array.isArray,
                
                	isWindow: function( obj ) {
                		return obj != null && obj === obj.window;
                	},
                
                	isNumeric: function( obj ) {
                		return !isNaN( parseFloat(obj) ) && isFinite( obj );
                	},
                
                	type: function( obj ) {
                		if ( obj == null ) {
                			return String( obj );
                		}
                		// Support: Safari <= 5.1 (functionish RegExp)
                		return typeof obj === "object" || typeof obj === "function" ?
                			class2type[ core_toString.call(obj) ] || "object" :
                			typeof obj;
                	},
                
                	isPlainObject: function( obj ) {
                		// Not plain objects:
                		// - Any object or value whose internal [[Class]] property is not "[object Object]"
                		// - DOM nodes
                		// - window
                		if ( jQuery.type( obj ) !== "object" || obj.nodeType || jQuery.isWindow( obj ) ) {
                			return false;
                		}
                
                		// Support: Firefox <20
                		// The try/catch suppresses exceptions thrown when attempting to access
                		// the "constructor" property of certain host objects, ie. |window.location|
                		// https://bugzilla.mozilla.org/show_bug.cgi?id=814622
                		try {
                			if ( obj.constructor &&
                					!core_hasOwn.call( obj.constructor.prototype, "isPrototypeOf" ) ) {
                				return false;
                			}
                		} catch ( e ) {
                			return false;
                		}
                
                		// If the function hasn't returned already, we're confident that
                		// |obj| is a plain object, created by {} or constructed with new Object
                		return true;
                	},
                
                	isEmptyObject: function( obj ) {
                		var name;
                		for ( name in obj ) {
                			return false;
                		}
                		return true;
                	},
                
                	error: function( msg ) {
                		throw new Error( msg );
                	},
                
                	// data: string of html
                	// context (optional): If specified, the fragment will be created in this context, defaults to document
                	// keepScripts (optional): If true, will include scripts passed in the html string
                	parseHTML: function( data, context, keepScripts ) {
                		if ( !data || typeof data !== "string" ) {
                			return null;
                		}
                		if ( typeof context === "boolean" ) {
                			keepScripts = context;
                			context = false;
                		}
                		context = context || document;
                
                		var parsed = rsingleTag.exec( data ),
                			scripts = !keepScripts && [];
                
                		// Single tag
                		if ( parsed ) {
                			return [ context.createElement( parsed[1] ) ];
                		}
                
                		parsed = jQuery.buildFragment( [ data ], context, scripts );
                
                		if ( scripts ) {
                			jQuery( scripts ).remove();
                		}
                
                		return jQuery.merge( [], parsed.childNodes );
                	},
                
                	parseJSON: JSON.parse,
                
                	// Cross-browser xml parsing
                	parseXML: function( data ) {
                		var xml, tmp;
                		if ( !data || typeof data !== "string" ) {
                			return null;
                		}
                
                		// Support: IE9
                		try {
                			tmp = new DOMParser();
                			xml = tmp.parseFromString( data , "text/xml" );
                		} catch ( e ) {
                			xml = undefined;
                		}
                
                		if ( !xml || xml.getElementsByTagName( "parsererror" ).length ) {
                			jQuery.error( "Invalid XML: " + data );
                		}
                		return xml;
                	},
                
                	noop: function() {},
                
                	// Evaluates a script in a global context
                	globalEval: function( code ) {
                		var script,
                				indirect = eval;
                
                		code = jQuery.trim( code );
                
                		if ( code ) {
                			// If the code includes a valid, prologue position
                			// strict mode pragma, execute code by injecting a
                			// script tag into the document.
                			if ( code.indexOf("use strict") === 1 ) {
                				script = document.createElement("script");
                				script.text = code;
                				document.head.appendChild( script ).parentNode.removeChild( script );
                			} else {
                			// Otherwise, avoid the DOM node creation, insertion
                			// and removal by using an indirect global eval
                				indirect( code );
                			}
                		}
                	},
                
                	// Convert dashed to camelCase; used by the css and data modules
                	// Microsoft forgot to hump their vendor prefix (#9572)
                	camelCase: function( string ) {
                		return string.replace( rmsPrefix, "ms-" ).replace( rdashAlpha, fcamelCase );
                	},
                
                	nodeName: function( elem, name ) {
                		return elem.nodeName && elem.nodeName.toLowerCase() === name.toLowerCase();
                	},
                
                	// args is for internal usage only
                	each: function( obj, callback, args ) {
                		var value,
                			i = 0,
                			length = obj.length,
                			isArray = isArraylike( obj );
                
                		if ( args ) {
                			if ( isArray ) {
                				for ( ; i < length; i++ ) {
                					value = callback.apply( obj[ i ], args );
                
                					if ( value === false ) {
                						break;
                					}
                				}
                			} else {
                				for ( i in obj ) {
                					value = callback.apply( obj[ i ], args );
                
                					if ( value === false ) {
                						break;
                					}
                				}
                			}
                
                		// A special, fast, case for the most common use of each
                		} else {
                			if ( isArray ) {
                				for ( ; i < length; i++ ) {
                					value = callback.call( obj[ i ], i, obj[ i ] );
                
                					if ( value === false ) {
                						break;
                					}
                				}
                			} else {
                				for ( i in obj ) {
                					value = callback.call( obj[ i ], i, obj[ i ] );
                
                					if ( value === false ) {
                						break;
                					}
                				}
                			}
                		}
                
                		return obj;
                	},
                
                	trim: function( text ) {
                		return text == null ? "" : core_trim.call( text );
                	},
                
                	// results is for internal usage only
                	makeArray: function( arr, results ) {
                		var ret = results || [];
                
                		if ( arr != null ) {
                			if ( isArraylike( Object(arr) ) ) {
                				jQuery.merge( ret,
                					typeof arr === "string" ?
                					[ arr ] : arr
                				);
                			} else {
                				core_push.call( ret, arr );
                			}
                		}
                
                		return ret;
                	},
                
                	inArray: function( elem, arr, i ) {
                		return arr == null ? -1 : core_indexOf.call( arr, elem, i );
                	},
                
                	merge: function( first, second ) {
                		var l = second.length,
                			i = first.length,
                			j = 0;
                
                		if ( typeof l === "number" ) {
                			for ( ; j < l; j++ ) {
                				first[ i++ ] = second[ j ];
                			}
                		} else {
                			while ( second[j] !== undefined ) {
                				first[ i++ ] = second[ j++ ];
                			}
                		}
                
                		first.length = i;
                
                		return first;
                	},
                
                	grep: function( elems, callback, inv ) {
                		var retVal,
                			ret = [],
                			i = 0,
                			length = elems.length;
                		inv = !!inv;
                
                		// Go through the array, only saving the items
                		// that pass the validator function
                		for ( ; i < length; i++ ) {
                			retVal = !!callback( elems[ i ], i );
                			if ( inv !== retVal ) {
                				ret.push( elems[ i ] );
                			}
                		}
                
                		return ret;
                	},
                
                	// arg is for internal usage only
                	map: function( elems, callback, arg ) {
                		var value,
                			i = 0,
                			length = elems.length,
                			isArray = isArraylike( elems ),
                			ret = [];
                
                		// Go through the array, translating each of the items to their
                		if ( isArray ) {
                			for ( ; i < length; i++ ) {
                				value = callback( elems[ i ], i, arg );
                
                				if ( value != null ) {
                					ret[ ret.length ] = value;
                				}
                			}
                
                		// Go through every key on the object,
                		} else {
                			for ( i in elems ) {
                				value = callback( elems[ i ], i, arg );
                
                				if ( value != null ) {
                					ret[ ret.length ] = value;
                				}
                			}
                		}
                
                		// Flatten any nested arrays
                		return core_concat.apply( [], ret );
                	},
                
                	// A global GUID counter for objects
                	guid: 1,
                
                	// Bind a function to a context, optionally partially applying any
                	// arguments.
                	proxy: function( fn, context ) {
                		var tmp, args, proxy;
                
                		if ( typeof context === "string" ) {
                			tmp = fn[ context ];
                			context = fn;
                			fn = tmp;
                		}
                
                		// Quick check to determine if target is callable, in the spec
                		// this throws a TypeError, but we will just return undefined.
                		if ( !jQuery.isFunction( fn ) ) {
                			return undefined;
                		}
                
                		// Simulated bind
                		args = core_slice.call( arguments, 2 );
                		proxy = function() {
                			return fn.apply( context || this, args.concat( core_slice.call( arguments ) ) );
                		};
                
                		// Set the guid of unique handler to the same of original handler, so it can be removed
                		proxy.guid = fn.guid = fn.guid || jQuery.guid++;
                
                		return proxy;
                	},
                
                	// Multifunctional method to get and set values of a collection
                	// The value/s can optionally be executed if it's a function
                	access: function( elems, fn, key, value, chainable, emptyGet, raw ) {
                		var i = 0,
                			length = elems.length,
                			bulk = key == null;
                
                		// Sets many values
                		if ( jQuery.type( key ) === "object" ) {
                			chainable = true;
                			for ( i in key ) {
                				jQuery.access( elems, fn, i, key[i], true, emptyGet, raw );
                			}
                
                		// Sets one value
                		} else if ( value !== undefined ) {
                			chainable = true;
                
                			if ( !jQuery.isFunction( value ) ) {
                				raw = true;
                			}
                
                			if ( bulk ) {
                				// Bulk operations run against the entire set
                				if ( raw ) {
                					fn.call( elems, value );
                					fn = null;
                
                				// ...except when executing function values
                				} else {
                					bulk = fn;
                					fn = function( elem, key, value ) {
                						return bulk.call( jQuery( elem ), value );
                					};
                				}
                			}
                
                			if ( fn ) {
                				for ( ; i < length; i++ ) {
                					fn( elems[i], key, raw ? value : value.call( elems[i], i, fn( elems[i], key ) ) );
                				}
                			}
                		}
                
                		return chainable ?
                			elems :
                
                			// Gets
                			bulk ?
                				fn.call( elems ) :
                				length ? fn( elems[0], key ) : emptyGet;
                	},
                
                	now: Date.now,
                
                	// A method for quickly swapping in/out CSS properties to get correct calculations.
                	// Note: this method belongs to the css module but it's needed here for the support module.
                	// If support gets modularized, this method should be moved back to the css module.
                	swap: function( elem, options, callback, args ) {
                		var ret, name,
                			old = {};
                
                		// Remember the old values, and insert the new ones
                		for ( name in options ) {
                			old[ name ] = elem.style[ name ];
                			elem.style[ name ] = options[ name ];
                		}
                
                		ret = callback.apply( elem, args || [] );
                
                		// Revert the old values
                		for ( name in options ) {
                			elem.style[ name ] = old[ name ];
                		}
                
                		return ret;
                	}
                });
                
                jQuery.ready.promise = function( obj ) {
                	if ( !readyList ) {
                
                		readyList = jQuery.Deferred();
                
                		// Catch cases where $(document).ready() is called after the browser event has already occurred.
                		// we once tried to use readyState "interactive" here, but it caused issues like the one
                		// discovered by ChrisS here: http://bugs.jquery.com/ticket/12282#comment:15
                		if ( document.readyState === "complete" ) {
                			// Handle it asynchronously to allow scripts the opportunity to delay ready
                			setTimeout( jQuery.ready );
                
                		} else {
                
                			// Use the handy event callback
                			document.addEventListener( "DOMContentLoaded", completed, false );
                
                			// A fallback to window.onload, that will always work
                			window.addEventListener( "load", completed, false );
                		}
                	}
                	return readyList.promise( obj );
                };
                
                // Populate the class2type map
                jQuery.each("Boolean Number String Function Array Date RegExp Object Error".split(" "), function(i, name) {
                	class2type[ "[object " + name + "]" ] = name.toLowerCase();
                });
                
                function isArraylike( obj ) {
                	var length = obj.length,
                		type = jQuery.type( obj );
                
                	if ( jQuery.isWindow( obj ) ) {
                		return false;
                	}
                
                	if ( obj.nodeType === 1 && length ) {
                		return true;
                	}
                
                	return type === "array" || type !== "function" &&
                		( length === 0 ||
                		typeof length === "number" && length > 0 && ( length - 1 ) in obj );
                }
                
                // All jQuery objects should point back to these
                rootjQuery = jQuery(document);
                /*!
                 * Sizzle CSS Selector Engine v1.9.4-pre
                 * http://sizzlejs.com/
                 *
                 * Copyright 2013 jQuery Foundation, Inc. and other contributors
                 * Released under the MIT license
                 * http://jquery.org/license
                 *
                 * Date: 2013-06-03
                 */
                (function( window, undefined ) {
                
                var i,
                	support,
                	cachedruns,
                	Expr,
                	getText,
                	isXML,
                	compile,
                	outermostContext,
                	sortInput,
                
                	// Local document vars
                	setDocument,
                	document,
                	docElem,
                	documentIsHTML,
                	rbuggyQSA,
                	rbuggyMatches,
                	matches,
                	contains,
                
                	// Instance-specific data
                	expando = "sizzle" + -(new Date()),
                	preferredDoc = window.document,
                	dirruns = 0,
                	done = 0,
                	classCache = createCache(),
                	tokenCache = createCache(),
                	compilerCache = createCache(),
                	hasDuplicate = false,
                	sortOrder = function( a, b ) {
                		if ( a === b ) {
                			hasDuplicate = true;
                			return 0;
                		}
                		return 0;
                	},
                
                	// General-purpose constants
                	strundefined = typeof undefined,
                	MAX_NEGATIVE = 1 << 31,
                
                	// Instance methods
                	hasOwn = ({}).hasOwnProperty,
                	arr = [],
                	pop = arr.pop,
                	push_native = arr.push,
                	push = arr.push,
                	slice = arr.slice,
                	// Use a stripped-down indexOf if we can't use a native one
                	indexOf = arr.indexOf || function( elem ) {
                		var i = 0,
                			len = this.length;
                		for ( ; i < len; i++ ) {
                			if ( this[i] === elem ) {
                				return i;
                			}
                		}
                		return -1;
                	},
                
                	booleans = "checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",
                
                	// Regular expressions
                
                	// Whitespace characters http://www.w3.org/TR/css3-selectors/#whitespace
                	whitespace = "[\\x20\\t\\r\\n\\f]",
                	// http://www.w3.org/TR/css3-syntax/#characters
                	characterEncoding = "(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",
                
                	// Loosely modeled on CSS identifier characters
                	// An unquoted value should be a CSS identifier http://www.w3.org/TR/css3-selectors/#attribute-selectors
                	// Proper syntax: http://www.w3.org/TR/CSS21/syndata.html#value-def-identifier
                	identifier = characterEncoding.replace( "w", "w#" ),
                
                	// Acceptable operators http://www.w3.org/TR/selectors/#attribute-selectors
                	attributes = "\\[" + whitespace + "*(" + characterEncoding + ")" + whitespace +
                		"*(?:([*^$|!~]?=)" + whitespace + "*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|(" + identifier + ")|)|)" + whitespace + "*\\]",
                
                	// Prefer arguments quoted,
                	//   then not containing pseudos/brackets,
                	//   then attribute selectors/non-parenthetical expressions,
                	//   then anything else
                	// These preferences are here to reduce the number of selectors
                	//   needing tokenize in the PSEUDO preFilter
                	pseudos = ":(" + characterEncoding + ")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|" + attributes.replace( 3, 8 ) + ")*)|.*)\\)|)",
                
                	// Leading and non-escaped trailing whitespace, capturing some non-whitespace characters preceding the latter
                	rtrim = new RegExp( "^" + whitespace + "+|((?:^|[^\\\\])(?:\\\\.)*)" + whitespace + "+$", "g" ),
                
                	rcomma = new RegExp( "^" + whitespace + "*," + whitespace + "*" ),
                	rcombinators = new RegExp( "^" + whitespace + "*([>+~]|" + whitespace + ")" + whitespace + "*" ),
                
                	rsibling = new RegExp( whitespace + "*[+~]" ),
                	rattributeQuotes = new RegExp( "=" + whitespace + "*([^\\]'\"]*)" + whitespace + "*\\]", "g" ),
                
                	rpseudo = new RegExp( pseudos ),
                	ridentifier = new RegExp( "^" + identifier + "$" ),
                
                	matchExpr = {
                		"ID": new RegExp( "^#(" + characterEncoding + ")" ),
                		"CLASS": new RegExp( "^\\.(" + characterEncoding + ")" ),
                		"TAG": new RegExp( "^(" + characterEncoding.replace( "w", "w*" ) + ")" ),
                		"ATTR": new RegExp( "^" + attributes ),
                		"PSEUDO": new RegExp( "^" + pseudos ),
                		"CHILD": new RegExp( "^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\(" + whitespace +
                			"*(even|odd|(([+-]|)(\\d*)n|)" + whitespace + "*(?:([+-]|)" + whitespace +
                			"*(\\d+)|))" + whitespace + "*\\)|)", "i" ),
                		"bool": new RegExp( "^(?:" + booleans + ")$", "i" ),
                		// For use in libraries implementing .is()
                		// We use this for POS matching in `select`
                		"needsContext": new RegExp( "^" + whitespace + "*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\(" +
                			whitespace + "*((?:-\\d)?\\d*)" + whitespace + "*\\)|)(?=[^-]|$)", "i" )
                	},
                
                	rnative = /^[^{]+\{\s*\[native \w/,
                
                	// Easily-parseable/retrievable ID or TAG or CLASS selectors
                	rquickExpr = /^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,
                
                	rinputs = /^(?:input|select|textarea|button)$/i,
                	rheader = /^h\d$/i,
                
                	rescape = /'|\\/g,
                
                	// CSS escapes http://www.w3.org/TR/CSS21/syndata.html#escaped-characters
                	runescape = new RegExp( "\\\\([\\da-f]{1,6}" + whitespace + "?|(" + whitespace + ")|.)", "ig" ),
                	funescape = function( _, escaped, escapedWhitespace ) {
                		var high = "0x" + escaped - 0x10000;
                		// NaN means non-codepoint
                		// Support: Firefox
                		// Workaround erroneous numeric interpretation of +"0x"
                		return high !== high || escapedWhitespace ?
                			escaped :
                			// BMP codepoint
                			high < 0 ?
                				String.fromCharCode( high + 0x10000 ) :
                				// Supplemental Plane codepoint (surrogate pair)
                				String.fromCharCode( high >> 10 | 0xD800, high & 0x3FF | 0xDC00 );
                	};
                
                // Optimize for push.apply( _, NodeList )
                try {
                	push.apply(
                		(arr = slice.call( preferredDoc.childNodes )),
                		preferredDoc.childNodes
                	);
                	// Support: Android<4.0
                	// Detect silently failing push.apply
                	arr[ preferredDoc.childNodes.length ].nodeType;
                } catch ( e ) {
                	push = { apply: arr.length ?
                
                		// Leverage slice if possible
                		function( target, els ) {
                			push_native.apply( target, slice.call(els) );
                		} :
                
                		// Support: IE<9
                		// Otherwise append directly
                		function( target, els ) {
                			var j = target.length,
                				i = 0;
                			// Can't trust NodeList.length
                			while ( (target[j++] = els[i++]) ) {}
                			target.length = j - 1;
                		}
                	};
                }
                
                function Sizzle( selector, context, results, seed ) {
                	var match, elem, m, nodeType,
                		// QSA vars
                		i, groups, old, nid, newContext, newSelector;
                
                	if ( ( context ? context.ownerDocument || context : preferredDoc ) !== document ) {
                		setDocument( context );
                	}
                
                	context = context || document;
                	results = results || [];
                
                	if ( !selector || typeof selector !== "string" ) {
                		return results;
                	}
                
                	if ( (nodeType = context.nodeType) !== 1 && nodeType !== 9 ) {
                		return [];
                	}
                
                	if ( documentIsHTML && !seed ) {
                
                		// Shortcuts
                		if ( (match = rquickExpr.exec( selector )) ) {
                			// Speed-up: Sizzle("#ID")
                			if ( (m = match[1]) ) {
                				if ( nodeType === 9 ) {
                					elem = context.getElementById( m );
                					// Check parentNode to catch when Blackberry 4.6 returns
                					// nodes that are no longer in the document #6963
                					if ( elem && elem.parentNode ) {
                						// Handle the case where IE, Opera, and Webkit return items
                						// by name instead of ID
                						if ( elem.id === m ) {
                							results.push( elem );
                							return results;
                						}
                					} else {
                						return results;
                					}
                				} else {
                					// Context is not a document
                					if ( context.ownerDocument && (elem = context.ownerDocument.getElementById( m )) &&
                						contains( context, elem ) && elem.id === m ) {
                						results.push( elem );
                						return results;
                					}
                				}
                
                			// Speed-up: Sizzle("TAG")
                			} else if ( match[2] ) {
                				push.apply( results, context.getElementsByTagName( selector ) );
                				return results;
                
                			// Speed-up: Sizzle(".CLASS")
                			} else if ( (m = match[3]) && support.getElementsByClassName && context.getElementsByClassName ) {
                				push.apply( results, context.getElementsByClassName( m ) );
                				return results;
                			}
                		}
                
                		// QSA path
                		if ( support.qsa && (!rbuggyQSA || !rbuggyQSA.test( selector )) ) {
                			nid = old = expando;
                			newContext = context;
                			newSelector = nodeType === 9 && selector;
                
                			// qSA works strangely on Element-rooted queries
                			// We can work around this by specifying an extra ID on the root
                			// and working up from there (Thanks to Andrew Dupont for the technique)
                			// IE 8 doesn't work on object elements
                			if ( nodeType === 1 && context.nodeName.toLowerCase() !== "object" ) {
                				groups = tokenize( selector );
                
                				if ( (old = context.getAttribute("id")) ) {
                					nid = old.replace( rescape, "\\$&" );
                				} else {
                					context.setAttribute( "id", nid );
                				}
                				nid = "[id='" + nid + "'] ";
                
                				i = groups.length;
                				while ( i-- ) {
                					groups[i] = nid + toSelector( groups[i] );
                				}
                				newContext = rsibling.test( selector ) && context.parentNode || context;
                				newSelector = groups.join(",");
                			}
                
                			if ( newSelector ) {
                				try {
                					push.apply( results,
                						newContext.querySelectorAll( newSelector )
                					);
                					return results;
                				} catch(qsaError) {
                				} finally {
                					if ( !old ) {
                						context.removeAttribute("id");
                					}
                				}
                			}
                		}
                	}
                
                	// All others
                	return select( selector.replace( rtrim, "$1" ), context, results, seed );
                }
                
                /**
                 * Create key-value caches of limited size
                 * @returns {Function(string, Object)} Returns the Object data after storing it on itself with
                 *	property name the (space-suffixed) string and (if the cache is larger than Expr.cacheLength)
                 *	deleting the oldest entry
                 */
                function createCache() {
                	var keys = [];
                
                	function cache( key, value ) {
                		// Use (key + " ") to avoid collision with native prototype properties (see Issue #157)
                		if ( keys.push( key += " " ) > Expr.cacheLength ) {
                			// Only keep the most recent entries
                			delete cache[ keys.shift() ];
                		}
                		return (cache[ key ] = value);
                	}
                	return cache;
                }
                
                /**
                 * Mark a function for special use by Sizzle
                 * @param {Function} fn The function to mark
                 */
                function markFunction( fn ) {
                	fn[ expando ] = true;
                	return fn;
                }
                
                /**
                 * Support testing using an element
                 * @param {Function} fn Passed the created div and expects a boolean result
                 */
                function assert( fn ) {
                	var div = document.createElement("div");
                
                	try {
                		return !!fn( div );
                	} catch (e) {
                		return false;
                	} finally {
                		// Remove from its parent by default
                		if ( div.parentNode ) {
                			div.parentNode.removeChild( div );
                		}
                		// release memory in IE
                		div = null;
                	}
                }
                
                /**
                 * Adds the same handler for all of the specified attrs
                 * @param {String} attrs Pipe-separated list of attributes
                 * @param {Function} handler The method that will be applied
                 */
                function addHandle( attrs, handler ) {
                	var arr = attrs.split("|"),
                		i = attrs.length;
                
                	while ( i-- ) {
                		Expr.attrHandle[ arr[i] ] = handler;
                	}
                }
                
                /**
                 * Checks document order of two siblings
                 * @param {Element} a
                 * @param {Element} b
                 * @returns {Number} Returns less than 0 if a precedes b, greater than 0 if a follows b
                 */
                function siblingCheck( a, b ) {
                	var cur = b && a,
                		diff = cur && a.nodeType === 1 && b.nodeType === 1 &&
                			( ~b.sourceIndex || MAX_NEGATIVE ) -
                			( ~a.sourceIndex || MAX_NEGATIVE );
                
                	// Use IE sourceIndex if available on both nodes
                	if ( diff ) {
                		return diff;
                	}
                
                	// Check if b follows a
                	if ( cur ) {
                		while ( (cur = cur.nextSibling) ) {
                			if ( cur === b ) {
                				return -1;
                			}
                		}
                	}
                
                	return a ? 1 : -1;
                }
                
                /**
                 * Returns a function to use in pseudos for input types
                 * @param {String} type
                 */
                function createInputPseudo( type ) {
                	return function( elem ) {
                		var name = elem.nodeName.toLowerCase();
                		return name === "input" && elem.type === type;
                	};
                }
                
                /**
                 * Returns a function to use in pseudos for buttons
                 * @param {String} type
                 */
                function createButtonPseudo( type ) {
                	return function( elem ) {
                		var name = elem.nodeName.toLowerCase();
                		return (name === "input" || name === "button") && elem.type === type;
                	};
                }
                
                /**
                 * Returns a function to use in pseudos for positionals
                 * @param {Function} fn
                 */
                function createPositionalPseudo( fn ) {
                	return markFunction(function( argument ) {
                		argument = +argument;
                		return markFunction(function( seed, matches ) {
                			var j,
                				matchIndexes = fn( [], seed.length, argument ),
                				i = matchIndexes.length;
                
                			// Match elements found at the specified indexes
                			while ( i-- ) {
                				if ( seed[ (j = matchIndexes[i]) ] ) {
                					seed[j] = !(matches[j] = seed[j]);
                				}
                			}
                		});
                	});
                }
                
                /**
                 * Detect xml
                 * @param {Element|Object} elem An element or a document
                 */
                isXML = Sizzle.isXML = function( elem ) {
                	// documentElement is verified for cases where it doesn't yet exist
                	// (such as loading iframes in IE - #4833)
                	var documentElement = elem && (elem.ownerDocument || elem).documentElement;
                	return documentElement ? documentElement.nodeName !== "HTML" : false;
                };
                
                // Expose support vars for convenience
                support = Sizzle.support = {};
                
                /**
                 * Sets document-related variables once based on the current document
                 * @param {Element|Object} [doc] An element or document object to use to set the document
                 * @returns {Object} Returns the current document
                 */
                setDocument = Sizzle.setDocument = function( node ) {
                	var doc = node ? node.ownerDocument || node : preferredDoc,
                		parent = doc.defaultView;
                
                	// If no document and documentElement is available, return
                	if ( doc === document || doc.nodeType !== 9 || !doc.documentElement ) {
                		return document;
                	}
                
                	// Set our document
                	document = doc;
                	docElem = doc.documentElement;
                
                	// Support tests
                	documentIsHTML = !isXML( doc );
                
                	// Support: IE>8
                	// If iframe document is assigned to "document" variable and if iframe has been reloaded,
                	// IE will throw "permission denied" error when accessing "document" variable, see jQuery #13936
                	// IE6-8 do not support the defaultView property so parent will be undefined
                	if ( parent && parent.attachEvent && parent !== parent.top ) {
                		parent.attachEvent( "onbeforeunload", function() {
                			setDocument();
                		});
                	}
                
                	/* Attributes
                	---------------------------------------------------------------------- */
                
                	// Support: IE<8
                	// Verify that getAttribute really returns attributes and not properties (excepting IE8 booleans)
                	support.attributes = assert(function( div ) {
                		div.className = "i";
                		return !div.getAttribute("className");
                	});
                
                	/* getElement(s)By*
                	---------------------------------------------------------------------- */
                
                	// Check if getElementsByTagName("*") returns only elements
                	support.getElementsByTagName = assert(function( div ) {
                		div.appendChild( doc.createComment("") );
                		return !div.getElementsByTagName("*").length;
                	});
                
                	// Check if getElementsByClassName can be trusted
                	support.getElementsByClassName = assert(function( div ) {
                		div.innerHTML = "<div class='a'></div><div class='a i'></div>";
                
                		// Support: Safari<4
                		// Catch class over-caching
                		div.firstChild.className = "i";
                		// Support: Opera<10
                		// Catch gEBCN failure to find non-leading classes
                		return div.getElementsByClassName("i").length === 2;
                	});
                
                	// Support: IE<10
                	// Check if getElementById returns elements by name
                	// The broken getElementById methods don't pick up programatically-set names,
                	// so use a roundabout getElementsByName test
                	support.getById = assert(function( div ) {
                		docElem.appendChild( div ).id = expando;
                		return !doc.getElementsByName || !doc.getElementsByName( expando ).length;
                	});
                
                	// ID find and filter
                	if ( support.getById ) {
                		Expr.find["ID"] = function( id, context ) {
                			if ( typeof context.getElementById !== strundefined && documentIsHTML ) {
                				var m = context.getElementById( id );
                				// Check parentNode to catch when Blackberry 4.6 returns
                				// nodes that are no longer in the document #6963
                				return m && m.parentNode ? [m] : [];
                			}
                		};
                		Expr.filter["ID"] = function( id ) {
                			var attrId = id.replace( runescape, funescape );
                			return function( elem ) {
                				return elem.getAttribute("id") === attrId;
                			};
                		};
                	} else {
                		// Support: IE6/7
                		// getElementById is not reliable as a find shortcut
                		delete Expr.find["ID"];
                
                		Expr.filter["ID"] =  function( id ) {
                			var attrId = id.replace( runescape, funescape );
                			return function( elem ) {
                				var node = typeof elem.getAttributeNode !== strundefined && elem.getAttributeNode("id");
                				return node && node.value === attrId;
                			};
                		};
                	}
                
                	// Tag
                	Expr.find["TAG"] = support.getElementsByTagName ?
                		function( tag, context ) {
                			if ( typeof context.getElementsByTagName !== strundefined ) {
                				return context.getElementsByTagName( tag );
                			}
                		} :
                		function( tag, context ) {
                			var elem,
                				tmp = [],
                				i = 0,
                				results = context.getElementsByTagName( tag );
                
                			// Filter out possible comments
                			if ( tag === "*" ) {
                				while ( (elem = results[i++]) ) {
                					if ( elem.nodeType === 1 ) {
                						tmp.push( elem );
                					}
                				}
                
                				return tmp;
                			}
                			return results;
                		};
                
                	// Class
                	Expr.find["CLASS"] = support.getElementsByClassName && function( className, context ) {
                		if ( typeof context.getElementsByClassName !== strundefined && documentIsHTML ) {
                			return context.getElementsByClassName( className );
                		}
                	};
                
                	/* QSA/matchesSelector
                	---------------------------------------------------------------------- */
                
                	// QSA and matchesSelector support
                
                	// matchesSelector(:active) reports false when true (IE9/Opera 11.5)
                	rbuggyMatches = [];
                
                	// qSa(:focus) reports false when true (Chrome 21)
                	// We allow this because of a bug in IE8/9 that throws an error
                	// whenever `document.activeElement` is accessed on an iframe
                	// So, we allow :focus to pass through QSA all the time to avoid the IE error
                	// See http://bugs.jquery.com/ticket/13378
                	rbuggyQSA = [];
                
                	if ( (support.qsa = rnative.test( doc.querySelectorAll )) ) {
                		// Build QSA regex
                		// Regex strategy adopted from Diego Perini
                		assert(function( div ) {
                			// Select is set to empty string on purpose
                			// This is to test IE's treatment of not explicitly
                			// setting a boolean content attribute,
                			// since its presence should be enough
                			// http://bugs.jquery.com/ticket/12359
                			div.innerHTML = "<select><option selected=''></option></select>";
                
                			// Support: IE8
                			// Boolean attributes and "value" are not treated correctly
                			if ( !div.querySelectorAll("[selected]").length ) {
                				rbuggyQSA.push( "\\[" + whitespace + "*(?:value|" + booleans + ")" );
                			}
                
                			// Webkit/Opera - :checked should return selected option elements
                			// http://www.w3.org/TR/2011/REC-css3-selectors-20110929/#checked
                			// IE8 throws error here and will not see later tests
                			if ( !div.querySelectorAll(":checked").length ) {
                				rbuggyQSA.push(":checked");
                			}
                		});
                
                		assert(function( div ) {
                
                			// Support: Opera 10-12/IE8
                			// ^= $= *= and empty values
                			// Should not select anything
                			// Support: Windows 8 Native Apps
                			// The type attribute is restricted during .innerHTML assignment
                			var input = doc.createElement("input");
                			input.setAttribute( "type", "hidden" );
                			div.appendChild( input ).setAttribute( "t", "" );
                
                			if ( div.querySelectorAll("[t^='']").length ) {
                				rbuggyQSA.push( "[*^$]=" + whitespace + "*(?:''|\"\")" );
                			}
                
                			// FF 3.5 - :enabled/:disabled and hidden elements (hidden elements are still enabled)
                			// IE8 throws error here and will not see later tests
                			if ( !div.querySelectorAll(":enabled").length ) {
                				rbuggyQSA.push( ":enabled", ":disabled" );
                			}
                
                			// Opera 10-11 does not throw on post-comma invalid pseudos
                			div.querySelectorAll("*,:x");
                			rbuggyQSA.push(",.*:");
                		});
                	}
                
                	if ( (support.matchesSelector = rnative.test( (matches = docElem.webkitMatchesSelector ||
                		docElem.mozMatchesSelector ||
                		docElem.oMatchesSelector ||
                		docElem.msMatchesSelector) )) ) {
                
                		assert(function( div ) {
                			// Check to see if it's possible to do matchesSelector
                			// on a disconnected node (IE 9)
                			support.disconnectedMatch = matches.call( div, "div" );
                
                			// This should fail with an exception
                			// Gecko does not error, returns false instead
                			matches.call( div, "[s!='']:x" );
                			rbuggyMatches.push( "!=", pseudos );
                		});
                	}
                
                	rbuggyQSA = rbuggyQSA.length && new RegExp( rbuggyQSA.join("|") );
                	rbuggyMatches = rbuggyMatches.length && new RegExp( rbuggyMatches.join("|") );
                
                	/* Contains
                	---------------------------------------------------------------------- */
                
                	// Element contains another
                	// Purposefully does not implement inclusive descendent
                	// As in, an element does not contain itself
                	contains = rnative.test( docElem.contains ) || docElem.compareDocumentPosition ?
                		function( a, b ) {
                			var adown = a.nodeType === 9 ? a.documentElement : a,
                				bup = b && b.parentNode;
                			return a === bup || !!( bup && bup.nodeType === 1 && (
                				adown.contains ?
                					adown.contains( bup ) :
                					a.compareDocumentPosition && a.compareDocumentPosition( bup ) & 16
                			));
                		} :
                		function( a, b ) {
                			if ( b ) {
                				while ( (b = b.parentNode) ) {
                					if ( b === a ) {
                						return true;
                					}
                				}
                			}
                			return false;
                		};
                
                	/* Sorting
                	---------------------------------------------------------------------- */
                
                	// Document order sorting
                	sortOrder = docElem.compareDocumentPosition ?
                	function( a, b ) {
                
                		// Flag for duplicate removal
                		if ( a === b ) {
                			hasDuplicate = true;
                			return 0;
                		}
                
                		var compare = b.compareDocumentPosition && a.compareDocumentPosition && a.compareDocumentPosition( b );
                
                		if ( compare ) {
                			// Disconnected nodes
                			if ( compare & 1 ||
                				(!support.sortDetached && b.compareDocumentPosition( a ) === compare) ) {
                
                				// Choose the first element that is related to our preferred document
                				if ( a === doc || contains(preferredDoc, a) ) {
                					return -1;
                				}
                				if ( b === doc || contains(preferredDoc, b) ) {
                					return 1;
                				}
                
                				// Maintain original order
                				return sortInput ?
                					( indexOf.call( sortInput, a ) - indexOf.call( sortInput, b ) ) :
                					0;
                			}
                
                			return compare & 4 ? -1 : 1;
                		}
                
                		// Not directly comparable, sort on existence of method
                		return a.compareDocumentPosition ? -1 : 1;
                	} :
                	function( a, b ) {
                		var cur,
                			i = 0,
                			aup = a.parentNode,
                			bup = b.parentNode,
                			ap = [ a ],
                			bp = [ b ];
                
                		// Exit early if the nodes are identical
                		if ( a === b ) {
                			hasDuplicate = true;
                			return 0;
                
                		// Parentless nodes are either documents or disconnected
                		} else if ( !aup || !bup ) {
                			return a === doc ? -1 :
                				b === doc ? 1 :
                				aup ? -1 :
                				bup ? 1 :
                				sortInput ?
                				( indexOf.call( sortInput, a ) - indexOf.call( sortInput, b ) ) :
                				0;
                
                		// If the nodes are siblings, we can do a quick check
                		} else if ( aup === bup ) {
                			return siblingCheck( a, b );
                		}
                
                		// Otherwise we need full lists of their ancestors for comparison
                		cur = a;
                		while ( (cur = cur.parentNode) ) {
                			ap.unshift( cur );
                		}
                		cur = b;
                		while ( (cur = cur.parentNode) ) {
                			bp.unshift( cur );
                		}
                
                		// Walk down the tree looking for a discrepancy
                		while ( ap[i] === bp[i] ) {
                			i++;
                		}
                
                		return i ?
                			// Do a sibling check if the nodes have a common ancestor
                			siblingCheck( ap[i], bp[i] ) :
                
                			// Otherwise nodes in our document sort first
                			ap[i] === preferredDoc ? -1 :
                			bp[i] === preferredDoc ? 1 :
                			0;
                	};
                
                	return doc;
                };
                
                Sizzle.matches = function( expr, elements ) {
                	return Sizzle( expr, null, null, elements );
                };
                
                Sizzle.matchesSelector = function( elem, expr ) {
                	// Set document vars if needed
                	if ( ( elem.ownerDocument || elem ) !== document ) {
                		setDocument( elem );
                	}
                
                	// Make sure that attribute selectors are quoted
                	expr = expr.replace( rattributeQuotes, "='$1']" );
                
                	if ( support.matchesSelector && documentIsHTML &&
                		( !rbuggyMatches || !rbuggyMatches.test( expr ) ) &&
                		( !rbuggyQSA     || !rbuggyQSA.test( expr ) ) ) {
                
                		try {
                			var ret = matches.call( elem, expr );
                
                			// IE 9's matchesSelector returns false on disconnected nodes
                			if ( ret || support.disconnectedMatch ||
                					// As well, disconnected nodes are said to be in a document
                					// fragment in IE 9
                					elem.document && elem.document.nodeType !== 11 ) {
                				return ret;
                			}
                		} catch(e) {}
                	}
                
                	return Sizzle( expr, document, null, [elem] ).length > 0;
                };
                
                Sizzle.contains = function( context, elem ) {
                	// Set document vars if needed
                	if ( ( context.ownerDocument || context ) !== document ) {
                		setDocument( context );
                	}
                	return contains( context, elem );
                };
                
                Sizzle.attr = function( elem, name ) {
                	// Set document vars if needed
                	if ( ( elem.ownerDocument || elem ) !== document ) {
                		setDocument( elem );
                	}
                
                	var fn = Expr.attrHandle[ name.toLowerCase() ],
                		// Don't get fooled by Object.prototype properties (jQuery #13807)
                		val = fn && hasOwn.call( Expr.attrHandle, name.toLowerCase() ) ?
                			fn( elem, name, !documentIsHTML ) :
                			undefined;
                
                	return val === undefined ?
                		support.attributes || !documentIsHTML ?
                			elem.getAttribute( name ) :
                			(val = elem.getAttributeNode(name)) && val.specified ?
                				val.value :
                				null :
                		val;
                };
                
                Sizzle.error = function( msg ) {
                	throw new Error( "Syntax error, unrecognized expression: " + msg );
                };
                
                /**
                 * Document sorting and removing duplicates
                 * @param {ArrayLike} results
                 */
                Sizzle.uniqueSort = function( results ) {
                	var elem,
                		duplicates = [],
                		j = 0,
                		i = 0;
                
                	// Unless we *know* we can detect duplicates, assume their presence
                	hasDuplicate = !support.detectDuplicates;
                	sortInput = !support.sortStable && results.slice( 0 );
                	results.sort( sortOrder );
                
                	if ( hasDuplicate ) {
                		while ( (elem = results[i++]) ) {
                			if ( elem === results[ i ] ) {
                				j = duplicates.push( i );
                			}
                		}
                		while ( j-- ) {
                			results.splice( duplicates[ j ], 1 );
                		}
                	}
                
                	return results;
                };
                
                /**
                 * Utility function for retrieving the text value of an array of DOM nodes
                 * @param {Array|Element} elem
                 */
                getText = Sizzle.getText = function( elem ) {
                	var node,
                		ret = "",
                		i = 0,
                		nodeType = elem.nodeType;
                
                	if ( !nodeType ) {
                		// If no nodeType, this is expected to be an array
                		for ( ; (node = elem[i]); i++ ) {
                			// Do not traverse comment nodes
                			ret += getText( node );
                		}
                	} else if ( nodeType === 1 || nodeType === 9 || nodeType === 11 ) {
                		// Use textContent for elements
                		// innerText usage removed for consistency of new lines (see #11153)
                		if ( typeof elem.textContent === "string" ) {
                			return elem.textContent;
                		} else {
                			// Traverse its children
                			for ( elem = elem.firstChild; elem; elem = elem.nextSibling ) {
                				ret += getText( elem );
                			}
                		}
                	} else if ( nodeType === 3 || nodeType === 4 ) {
                		return elem.nodeValue;
                	}
                	// Do not include comment or processing instruction nodes
                
                	return ret;
                };
                
                Expr = Sizzle.selectors = {
                
                	// Can be adjusted by the user
                	cacheLength: 50,
                
                	createPseudo: markFunction,
                
                	match: matchExpr,
                
                	attrHandle: {},
                
                	find: {},
                
                	relative: {
                		">": { dir: "parentNode", first: true },
                		" ": { dir: "parentNode" },
                		"+": { dir: "previousSibling", first: true },
                		"~": { dir: "previousSibling" }
                	},
                
                	preFilter: {
                		"ATTR": function( match ) {
                			match[1] = match[1].replace( runescape, funescape );
                
                			// Move the given value to match[3] whether quoted or unquoted
                			match[3] = ( match[4] || match[5] || "" ).replace( runescape, funescape );
                
                			if ( match[2] === "~=" ) {
                				match[3] = " " + match[3] + " ";
                			}
                
                			return match.slice( 0, 4 );
                		},
                
                		"CHILD": function( match ) {
                			/* matches from matchExpr["CHILD"]
                				1 type (only|nth|...)
                				2 what (child|of-type)
                				3 argument (even|odd|\d*|\d*n([+-]\d+)?|...)
                				4 xn-component of xn+y argument ([+-]?\d*n|)
                				5 sign of xn-component
                				6 x of xn-component
                				7 sign of y-component
                				8 y of y-component
                			*/
                			match[1] = match[1].toLowerCase();
                
                			if ( match[1].slice( 0, 3 ) === "nth" ) {
                				// nth-* requires argument
                				if ( !match[3] ) {
                					Sizzle.error( match[0] );
                				}
                
                				// numeric x and y parameters for Expr.filter.CHILD
                				// remember that false/true cast respectively to 0/1
                				match[4] = +( match[4] ? match[5] + (match[6] || 1) : 2 * ( match[3] === "even" || match[3] === "odd" ) );
                				match[5] = +( ( match[7] + match[8] ) || match[3] === "odd" );
                
                			// other types prohibit arguments
                			} else if ( match[3] ) {
                				Sizzle.error( match[0] );
                			}
                
                			return match;
                		},
                
                		"PSEUDO": function( match ) {
                			var excess,
                				unquoted = !match[5] && match[2];
                
                			if ( matchExpr["CHILD"].test( match[0] ) ) {
                				return null;
                			}
                
                			// Accept quoted arguments as-is
                			if ( match[3] && match[4] !== undefined ) {
                				match[2] = match[4];
                
                			// Strip excess characters from unquoted arguments
                			} else if ( unquoted && rpseudo.test( unquoted ) &&
                				// Get excess from tokenize (recursively)
                				(excess = tokenize( unquoted, true )) &&
                				// advance to the next closing parenthesis
                				(excess = unquoted.indexOf( ")", unquoted.length - excess ) - unquoted.length) ) {
                
                				// excess is a negative index
                				match[0] = match[0].slice( 0, excess );
                				match[2] = unquoted.slice( 0, excess );
                			}
                
                			// Return only captures needed by the pseudo filter method (type and argument)
                			return match.slice( 0, 3 );
                		}
                	},
                
                	filter: {
                
                		"TAG": function( nodeNameSelector ) {
                			var nodeName = nodeNameSelector.replace( runescape, funescape ).toLowerCase();
                			return nodeNameSelector === "*" ?
                				function() { return true; } :
                				function( elem ) {
                					return elem.nodeName && elem.nodeName.toLowerCase() === nodeName;
                				};
                		},
                
                		"CLASS": function( className ) {
                			var pattern = classCache[ className + " " ];
                
                			return pattern ||
                				(pattern = new RegExp( "(^|" + whitespace + ")" + className + "(" + whitespace + "|$)" )) &&
                				classCache( className, function( elem ) {
                					return pattern.test( typeof elem.className === "string" && elem.className || typeof elem.getAttribute !== strundefined && elem.getAttribute("class") || "" );
                				});
                		},
                
                		"ATTR": function( name, operator, check ) {
                			return function( elem ) {
                				var result = Sizzle.attr( elem, name );
                
                				if ( result == null ) {
                					return operator === "!=";
                				}
                				if ( !operator ) {
                					return true;
                				}
                
                				result += "";
                
                				return operator === "=" ? result === check :
                					operator === "!=" ? result !== check :
                					operator === "^=" ? check && result.indexOf( check ) === 0 :
                					operator === "*=" ? check && result.indexOf( check ) > -1 :
                					operator === "$=" ? check && result.slice( -check.length ) === check :
                					operator === "~=" ? ( " " + result + " " ).indexOf( check ) > -1 :
                					operator === "|=" ? result === check || result.slice( 0, check.length + 1 ) === check + "-" :
                					false;
                			};
                		},
                
                		"CHILD": function( type, what, argument, first, last ) {
                			var simple = type.slice( 0, 3 ) !== "nth",
                				forward = type.slice( -4 ) !== "last",
                				ofType = what === "of-type";
                
                			return first === 1 && last === 0 ?
                
                				// Shortcut for :nth-*(n)
                				function( elem ) {
                					return !!elem.parentNode;
                				} :
                
                				function( elem, context, xml ) {
                					var cache, outerCache, node, diff, nodeIndex, start,
                						dir = simple !== forward ? "nextSibling" : "previousSibling",
                						parent = elem.parentNode,
                						name = ofType && elem.nodeName.toLowerCase(),
                						useCache = !xml && !ofType;
                
                					if ( parent ) {
                
                						// :(first|last|only)-(child|of-type)
                						if ( simple ) {
                							while ( dir ) {
                								node = elem;
                								while ( (node = node[ dir ]) ) {
                									if ( ofType ? node.nodeName.toLowerCase() === name : node.nodeType === 1 ) {
                										return false;
                									}
                								}
                								// Reverse direction for :only-* (if we haven't yet done so)
                								start = dir = type === "only" && !start && "nextSibling";
                							}
                							return true;
                						}
                
                						start = [ forward ? parent.firstChild : parent.lastChild ];
                
                						// non-xml :nth-child(...) stores cache data on `parent`
                						if ( forward && useCache ) {
                							// Seek `elem` from a previously-cached index
                							outerCache = parent[ expando ] || (parent[ expando ] = {});
                							cache = outerCache[ type ] || [];
                							nodeIndex = cache[0] === dirruns && cache[1];
                							diff = cache[0] === dirruns && cache[2];
                							node = nodeIndex && parent.childNodes[ nodeIndex ];
                
                							while ( (node = ++nodeIndex && node && node[ dir ] ||
                
                								// Fallback to seeking `elem` from the start
                								(diff = nodeIndex = 0) || start.pop()) ) {
                
                								// When found, cache indexes on `parent` and break
                								if ( node.nodeType === 1 && ++diff && node === elem ) {
                									outerCache[ type ] = [ dirruns, nodeIndex, diff ];
                									break;
                								}
                							}
                
                						// Use previously-cached element index if available
                						} else if ( useCache && (cache = (elem[ expando ] || (elem[ expando ] = {}))[ type ]) && cache[0] === dirruns ) {
                							diff = cache[1];
                
                						// xml :nth-child(...) or :nth-last-child(...) or :nth(-last)?-of-type(...)
                						} else {
                							// Use the same loop as above to seek `elem` from the start
                							while ( (node = ++nodeIndex && node && node[ dir ] ||
                								(diff = nodeIndex = 0) || start.pop()) ) {
                
                								if ( ( ofType ? node.nodeName.toLowerCase() === name : node.nodeType === 1 ) && ++diff ) {
                									// Cache the index of each encountered element
                									if ( useCache ) {
                										(node[ expando ] || (node[ expando ] = {}))[ type ] = [ dirruns, diff ];
                									}
                
                									if ( node === elem ) {
                										break;
                									}
                								}
                							}
                						}
                
                						// Incorporate the offset, then check against cycle size
                						diff -= last;
                						return diff === first || ( diff % first === 0 && diff / first >= 0 );
                					}
                				};
                		},
                
                		"PSEUDO": function( pseudo, argument ) {
                			// pseudo-class names are case-insensitive
                			// http://www.w3.org/TR/selectors/#pseudo-classes
                			// Prioritize by case sensitivity in case custom pseudos are added with uppercase letters
                			// Remember that setFilters inherits from pseudos
                			var args,
                				fn = Expr.pseudos[ pseudo ] || Expr.setFilters[ pseudo.toLowerCase() ] ||
                					Sizzle.error( "unsupported pseudo: " + pseudo );
                
                			// The user may use createPseudo to indicate that
                			// arguments are needed to create the filter function
                			// just as Sizzle does
                			if ( fn[ expando ] ) {
                				return fn( argument );
                			}
                
                			// But maintain support for old signatures
                			if ( fn.length > 1 ) {
                				args = [ pseudo, pseudo, "", argument ];
                				return Expr.setFilters.hasOwnProperty( pseudo.toLowerCase() ) ?
                					markFunction(function( seed, matches ) {
                						var idx,
                							matched = fn( seed, argument ),
                							i = matched.length;
                						while ( i-- ) {
                							idx = indexOf.call( seed, matched[i] );
                							seed[ idx ] = !( matches[ idx ] = matched[i] );
                						}
                					}) :
                					function( elem ) {
                						return fn( elem, 0, args );
                					};
                			}
                
                			return fn;
                		}
                	},
                
                	pseudos: {
                		// Potentially complex pseudos
                		"not": markFunction(function( selector ) {
                			// Trim the selector passed to compile
                			// to avoid treating leading and trailing
                			// spaces as combinators
                			var input = [],
                				results = [],
                				matcher = compile( selector.replace( rtrim, "$1" ) );
                
                			return matcher[ expando ] ?
                				markFunction(function( seed, matches, context, xml ) {
                					var elem,
                						unmatched = matcher( seed, null, xml, [] ),
                						i = seed.length;
                
                					// Match elements unmatched by `matcher`
                					while ( i-- ) {
                						if ( (elem = unmatched[i]) ) {
                							seed[i] = !(matches[i] = elem);
                						}
                					}
                				}) :
                				function( elem, context, xml ) {
                					input[0] = elem;
                					matcher( input, null, xml, results );
                					return !results.pop();
                				};
                		}),
                
                		"has": markFunction(function( selector ) {
                			return function( elem ) {
                				return Sizzle( selector, elem ).length > 0;
                			};
                		}),
                
                		"contains": markFunction(function( text ) {
                			return function( elem ) {
                				return ( elem.textContent || elem.innerText || getText( elem ) ).indexOf( text ) > -1;
                			};
                		}),
                
                		// "Whether an element is represented by a :lang() selector
                		// is based solely on the element's language value
                		// being equal to the identifier C,
                		// or beginning with the identifier C immediately followed by "-".
                		// The matching of C against the element's language value is performed case-insensitively.
                		// The identifier C does not have to be a valid language name."
                		// http://www.w3.org/TR/selectors/#lang-pseudo
                		"lang": markFunction( function( lang ) {
                			// lang value must be a valid identifier
                			if ( !ridentifier.test(lang || "") ) {
                				Sizzle.error( "unsupported lang: " + lang );
                			}
                			lang = lang.replace( runescape, funescape ).toLowerCase();
                			return function( elem ) {
                				var elemLang;
                				do {
                					if ( (elemLang = documentIsHTML ?
                						elem.lang :
                						elem.getAttribute("xml:lang") || elem.getAttribute("lang")) ) {
                
                						elemLang = elemLang.toLowerCase();
                						return elemLang === lang || elemLang.indexOf( lang + "-" ) === 0;
                					}
                				} while ( (elem = elem.parentNode) && elem.nodeType === 1 );
                				return false;
                			};
                		}),
                
                		// Miscellaneous
                		"target": function( elem ) {
                			var hash = window.location && window.location.hash;
                			return hash && hash.slice( 1 ) === elem.id;
                		},
                
                		"root": function( elem ) {
                			return elem === docElem;
                		},
                
                		"focus": function( elem ) {
                			return elem === document.activeElement && (!document.hasFocus || document.hasFocus()) && !!(elem.type || elem.href || ~elem.tabIndex);
                		},
                
                		// Boolean properties
                		"enabled": function( elem ) {
                			return elem.disabled === false;
                		},
                
                		"disabled": function( elem ) {
                			return elem.disabled === true;
                		},
                
                		"checked": function( elem ) {
                			// In CSS3, :checked should return both checked and selected elements
                			// http://www.w3.org/TR/2011/REC-css3-selectors-20110929/#checked
                			var nodeName = elem.nodeName.toLowerCase();
                			return (nodeName === "input" && !!elem.checked) || (nodeName === "option" && !!elem.selected);
                		},
                
                		"selected": function( elem ) {
                			// Accessing this property makes selected-by-default
                			// options in Safari work properly
                			if ( elem.parentNode ) {
                				elem.parentNode.selectedIndex;
                			}
                
                			return elem.selected === true;
                		},
                
                		// Contents
                		"empty": function( elem ) {
                			// http://www.w3.org/TR/selectors/#empty-pseudo
                			// :empty is only affected by element nodes and content nodes(including text(3), cdata(4)),
                			//   not comment, processing instructions, or others
                			// Thanks to Diego Perini for the nodeName shortcut
                			//   Greater than "@" means alpha characters (specifically not starting with "#" or "?")
                			for ( elem = elem.firstChild; elem; elem = elem.nextSibling ) {
                				if ( elem.nodeName > "@" || elem.nodeType === 3 || elem.nodeType === 4 ) {
                					return false;
                				}
                			}
                			return true;
                		},
                
                		"parent": function( elem ) {
                			return !Expr.pseudos["empty"]( elem );
                		},
                
                		// Element/input types
                		"header": function( elem ) {
                			return rheader.test( elem.nodeName );
                		},
                
                		"input": function( elem ) {
                			return rinputs.test( elem.nodeName );
                		},
                
                		"button": function( elem ) {
                			var name = elem.nodeName.toLowerCase();
                			return name === "input" && elem.type === "button" || name === "button";
                		},
                
                		"text": function( elem ) {
                			var attr;
                			// IE6 and 7 will map elem.type to 'text' for new HTML5 types (search, etc)
                			// use getAttribute instead to test this case
                			return elem.nodeName.toLowerCase() === "input" &&
                				elem.type === "text" &&
                				( (attr = elem.getAttribute("type")) == null || attr.toLowerCase() === elem.type );
                		},
                
                		// Position-in-collection
                		"first": createPositionalPseudo(function() {
                			return [ 0 ];
                		}),
                
                		"last": createPositionalPseudo(function( matchIndexes, length ) {
                			return [ length - 1 ];
                		}),
                
                		"eq": createPositionalPseudo(function( matchIndexes, length, argument ) {
                			return [ argument < 0 ? argument + length : argument ];
                		}),
                
                		"even": createPositionalPseudo(function( matchIndexes, length ) {
                			var i = 0;
                			for ( ; i < length; i += 2 ) {
                				matchIndexes.push( i );
                			}
                			return matchIndexes;
                		}),
                
                		"odd": createPositionalPseudo(function( matchIndexes, length ) {
                			var i = 1;
                			for ( ; i < length; i += 2 ) {
                				matchIndexes.push( i );
                			}
                			return matchIndexes;
                		}),
                
                		"lt": createPositionalPseudo(function( matchIndexes, length, argument ) {
                			var i = argument < 0 ? argument + length : argument;
                			for ( ; --i >= 0; ) {
                				matchIndexes.push( i );
                			}
                			return matchIndexes;
                		}),
                
                		"gt": createPositionalPseudo(function( matchIndexes, length, argument ) {
                			var i = argument < 0 ? argument + length : argument;
                			for ( ; ++i < length; ) {
                				matchIndexes.push( i );
                			}
                			return matchIndexes;
                		})
                	}
                };
                
                Expr.pseudos["nth"] = Expr.pseudos["eq"];
                
                // Add button/input type pseudos
                for ( i in { radio: true, checkbox: true, file: true, password: true, image: true } ) {
                	Expr.pseudos[ i ] = createInputPseudo( i );
                }
                for ( i in { submit: true, reset: true } ) {
                	Expr.pseudos[ i ] = createButtonPseudo( i );
                }
                
                // Easy API for creating new setFilters
                function setFilters() {}
                setFilters.prototype = Expr.filters = Expr.pseudos;
                Expr.setFilters = new setFilters();
                
                function tokenize( selector, parseOnly ) {
                	var matched, match, tokens, type,
                		soFar, groups, preFilters,
                		cached = tokenCache[ selector + " " ];
                
                	if ( cached ) {
                		return parseOnly ? 0 : cached.slice( 0 );
                	}
                
                	soFar = selector;
                	groups = [];
                	preFilters = Expr.preFilter;
                
                	while ( soFar ) {
                
                		// Comma and first run
                		if ( !matched || (match = rcomma.exec( soFar )) ) {
                			if ( match ) {
                				// Don't consume trailing commas as valid
                				soFar = soFar.slice( match[0].length ) || soFar;
                			}
                			groups.push( tokens = [] );
                		}
                
                		matched = false;
                
                		// Combinators
                		if ( (match = rcombinators.exec( soFar )) ) {
                			matched = match.shift();
                			tokens.push({
                				value: matched,
                				// Cast descendant combinators to space
                				type: match[0].replace( rtrim, " " )
                			});
                			soFar = soFar.slice( matched.length );
                		}
                
                		// Filters
                		for ( type in Expr.filter ) {
                			if ( (match = matchExpr[ type ].exec( soFar )) && (!preFilters[ type ] ||
                				(match = preFilters[ type ]( match ))) ) {
                				matched = match.shift();
                				tokens.push({
                					value: matched,
                					type: type,
                					matches: match
                				});
                				soFar = soFar.slice( matched.length );
                			}
                		}
                
                		if ( !matched ) {
                			break;
                		}
                	}
                
                	// Return the length of the invalid excess
                	// if we're just parsing
                	// Otherwise, throw an error or return tokens
                	return parseOnly ?
                		soFar.length :
                		soFar ?
                			Sizzle.error( selector ) :
                			// Cache the tokens
                			tokenCache( selector, groups ).slice( 0 );
                }
                
                function toSelector( tokens ) {
                	var i = 0,
                		len = tokens.length,
                		selector = "";
                	for ( ; i < len; i++ ) {
                		selector += tokens[i].value;
                	}
                	return selector;
                }
                
                function addCombinator( matcher, combinator, base ) {
                	var dir = combinator.dir,
                		checkNonElements = base && dir === "parentNode",
                		doneName = done++;
                
                	return combinator.first ?
                		// Check against closest ancestor/preceding element
                		function( elem, context, xml ) {
                			while ( (elem = elem[ dir ]) ) {
                				if ( elem.nodeType === 1 || checkNonElements ) {
                					return matcher( elem, context, xml );
                				}
                			}
                		} :
                
                		// Check against all ancestor/preceding elements
                		function( elem, context, xml ) {
                			var data, cache, outerCache,
                				dirkey = dirruns + " " + doneName;
                
                			// We can't set arbitrary data on XML nodes, so they don't benefit from dir caching
                			if ( xml ) {
                				while ( (elem = elem[ dir ]) ) {
                					if ( elem.nodeType === 1 || checkNonElements ) {
                						if ( matcher( elem, context, xml ) ) {
                							return true;
                						}
                					}
                				}
                			} else {
                				while ( (elem = elem[ dir ]) ) {
                					if ( elem.nodeType === 1 || checkNonElements ) {
                						outerCache = elem[ expando ] || (elem[ expando ] = {});
                						if ( (cache = outerCache[ dir ]) && cache[0] === dirkey ) {
                							if ( (data = cache[1]) === true || data === cachedruns ) {
                								return data === true;
                							}
                						} else {
                							cache = outerCache[ dir ] = [ dirkey ];
                							cache[1] = matcher( elem, context, xml ) || cachedruns;
                							if ( cache[1] === true ) {
                								return true;
                							}
                						}
                					}
                				}
                			}
                		};
                }
                
                function elementMatcher( matchers ) {
                	return matchers.length > 1 ?
                		function( elem, context, xml ) {
                			var i = matchers.length;
                			while ( i-- ) {
                				if ( !matchers[i]( elem, context, xml ) ) {
                					return false;
                				}
                			}
                			return true;
                		} :
                		matchers[0];
                }
                
                function condense( unmatched, map, filter, context, xml ) {
                	var elem,
                		newUnmatched = [],
                		i = 0,
                		len = unmatched.length,
                		mapped = map != null;
                
                	for ( ; i < len; i++ ) {
                		if ( (elem = unmatched[i]) ) {
                			if ( !filter || filter( elem, context, xml ) ) {
                				newUnmatched.push( elem );
                				if ( mapped ) {
                					map.push( i );
                				}
                			}
                		}
                	}
                
                	return newUnmatched;
                }
                
                function setMatcher( preFilter, selector, matcher, postFilter, postFinder, postSelector ) {
                	if ( postFilter && !postFilter[ expando ] ) {
                		postFilter = setMatcher( postFilter );
                	}
                	if ( postFinder && !postFinder[ expando ] ) {
                		postFinder = setMatcher( postFinder, postSelector );
                	}
                	return markFunction(function( seed, results, context, xml ) {
                		var temp, i, elem,
                			preMap = [],
                			postMap = [],
                			preexisting = results.length,
                
                			// Get initial elements from seed or context
                			elems = seed || multipleContexts( selector || "*", context.nodeType ? [ context ] : context, [] ),
                
                			// Prefilter to get matcher input, preserving a map for seed-results synchronization
                			matcherIn = preFilter && ( seed || !selector ) ?
                				condense( elems, preMap, preFilter, context, xml ) :
                				elems,
                
                			matcherOut = matcher ?
                				// If we have a postFinder, or filtered seed, or non-seed postFilter or preexisting results,
                				postFinder || ( seed ? preFilter : preexisting || postFilter ) ?
                
                					// ...intermediate processing is necessary
                					[] :
                
                					// ...otherwise use results directly
                					results :
                				matcherIn;
                
                		// Find primary matches
                		if ( matcher ) {
                			matcher( matcherIn, matcherOut, context, xml );
                		}
                
                		// Apply postFilter
                		if ( postFilter ) {
                			temp = condense( matcherOut, postMap );
                			postFilter( temp, [], context, xml );
                
                			// Un-match failing elements by moving them back to matcherIn
                			i = temp.length;
                			while ( i-- ) {
                				if ( (elem = temp[i]) ) {
                					matcherOut[ postMap[i] ] = !(matcherIn[ postMap[i] ] = elem);
                				}
                			}
                		}
                
                		if ( seed ) {
                			if ( postFinder || preFilter ) {
                				if ( postFinder ) {
                					// Get the final matcherOut by condensing this intermediate into postFinder contexts
                					temp = [];
                					i = matcherOut.length;
                					while ( i-- ) {
                						if ( (elem = matcherOut[i]) ) {
                							// Restore matcherIn since elem is not yet a final match
                							temp.push( (matcherIn[i] = elem) );
                						}
                					}
                					postFinder( null, (matcherOut = []), temp, xml );
                				}
                
                				// Move matched elements from seed to results to keep them synchronized
                				i = matcherOut.length;
                				while ( i-- ) {
                					if ( (elem = matcherOut[i]) &&
                						(temp = postFinder ? indexOf.call( seed, elem ) : preMap[i]) > -1 ) {
                
                						seed[temp] = !(results[temp] = elem);
                					}
                				}
                			}
                
                		// Add elements to results, through postFinder if defined
                		} else {
                			matcherOut = condense(
                				matcherOut === results ?
                					matcherOut.splice( preexisting, matcherOut.length ) :
                					matcherOut
                			);
                			if ( postFinder ) {
                				postFinder( null, results, matcherOut, xml );
                			} else {
                				push.apply( results, matcherOut );
                			}
                		}
                	});
                }
                
                function matcherFromTokens( tokens ) {
                	var checkContext, matcher, j,
                		len = tokens.length,
                		leadingRelative = Expr.relative[ tokens[0].type ],
                		implicitRelative = leadingRelative || Expr.relative[" "],
                		i = leadingRelative ? 1 : 0,
                
                		// The foundational matcher ensures that elements are reachable from top-level context(s)
                		matchContext = addCombinator( function( elem ) {
                			return elem === checkContext;
                		}, implicitRelative, true ),
                		matchAnyContext = addCombinator( function( elem ) {
                			return indexOf.call( checkContext, elem ) > -1;
                		}, implicitRelative, true ),
                		matchers = [ function( elem, context, xml ) {
                			return ( !leadingRelative && ( xml || context !== outermostContext ) ) || (
                				(checkContext = context).nodeType ?
                					matchContext( elem, context, xml ) :
                					matchAnyContext( elem, context, xml ) );
                		} ];
                
                	for ( ; i < len; i++ ) {
                		if ( (matcher = Expr.relative[ tokens[i].type ]) ) {
                			matchers = [ addCombinator(elementMatcher( matchers ), matcher) ];
                		} else {
                			matcher = Expr.filter[ tokens[i].type ].apply( null, tokens[i].matches );
                
                			// Return special upon seeing a positional matcher
                			if ( matcher[ expando ] ) {
                				// Find the next relative operator (if any) for proper handling
                				j = ++i;
                				for ( ; j < len; j++ ) {
                					if ( Expr.relative[ tokens[j].type ] ) {
                						break;
                					}
                				}
                				return setMatcher(
                					i > 1 && elementMatcher( matchers ),
                					i > 1 && toSelector(
                						// If the preceding token was a descendant combinator, insert an implicit any-element `*`
                						tokens.slice( 0, i - 1 ).concat({ value: tokens[ i - 2 ].type === " " ? "*" : "" })
                					).replace( rtrim, "$1" ),
                					matcher,
                					i < j && matcherFromTokens( tokens.slice( i, j ) ),
                					j < len && matcherFromTokens( (tokens = tokens.slice( j )) ),
                					j < len && toSelector( tokens )
                				);
                			}
                			matchers.push( matcher );
                		}
                	}
                
                	return elementMatcher( matchers );
                }
                
                function matcherFromGroupMatchers( elementMatchers, setMatchers ) {
                	// A counter to specify which element is currently being matched
                	var matcherCachedRuns = 0,
                		bySet = setMatchers.length > 0,
                		byElement = elementMatchers.length > 0,
                		superMatcher = function( seed, context, xml, results, expandContext ) {
                			var elem, j, matcher,
                				setMatched = [],
                				matchedCount = 0,
                				i = "0",
                				unmatched = seed && [],
                				outermost = expandContext != null,
                				contextBackup = outermostContext,
                				// We must always have either seed elements or context
                				elems = seed || byElement && Expr.find["TAG"]( "*", expandContext && context.parentNode || context ),
                				// Use integer dirruns iff this is the outermost matcher
                				dirrunsUnique = (dirruns += contextBackup == null ? 1 : Math.random() || 0.1);
                
                			if ( outermost ) {
                				outermostContext = context !== document && context;
                				cachedruns = matcherCachedRuns;
                			}
                
                			// Add elements passing elementMatchers directly to results
                			// Keep `i` a string if there are no elements so `matchedCount` will be "00" below
                			for ( ; (elem = elems[i]) != null; i++ ) {
                				if ( byElement && elem ) {
                					j = 0;
                					while ( (matcher = elementMatchers[j++]) ) {
                						if ( matcher( elem, context, xml ) ) {
                							results.push( elem );
                							break;
                						}
                					}
                					if ( outermost ) {
                						dirruns = dirrunsUnique;
                						cachedruns = ++matcherCachedRuns;
                					}
                				}
                
                				// Track unmatched elements for set filters
                				if ( bySet ) {
                					// They will have gone through all possible matchers
                					if ( (elem = !matcher && elem) ) {
                						matchedCount--;
                					}
                
                					// Lengthen the array for every element, matched or not
                					if ( seed ) {
                						unmatched.push( elem );
                					}
                				}
                			}
                
                			// Apply set filters to unmatched elements
                			matchedCount += i;
                			if ( bySet && i !== matchedCount ) {
                				j = 0;
                				while ( (matcher = setMatchers[j++]) ) {
                					matcher( unmatched, setMatched, context, xml );
                				}
                
                				if ( seed ) {
                					// Reintegrate element matches to eliminate the need for sorting
                					if ( matchedCount > 0 ) {
                						while ( i-- ) {
                							if ( !(unmatched[i] || setMatched[i]) ) {
                								setMatched[i] = pop.call( results );
                							}
                						}
                					}
                
                					// Discard index placeholder values to get only actual matches
                					setMatched = condense( setMatched );
                				}
                
                				// Add matches to results
                				push.apply( results, setMatched );
                
                				// Seedless set matches succeeding multiple successful matchers stipulate sorting
                				if ( outermost && !seed && setMatched.length > 0 &&
                					( matchedCount + setMatchers.length ) > 1 ) {
                
                					Sizzle.uniqueSort( results );
                				}
                			}
                
                			// Override manipulation of globals by nested matchers
                			if ( outermost ) {
                				dirruns = dirrunsUnique;
                				outermostContext = contextBackup;
                			}
                
                			return unmatched;
                		};
                
                	return bySet ?
                		markFunction( superMatcher ) :
                		superMatcher;
                }
                
                compile = Sizzle.compile = function( selector, group /* Internal Use Only */ ) {
                	var i,
                		setMatchers = [],
                		elementMatchers = [],
                		cached = compilerCache[ selector + " " ];
                
                	if ( !cached ) {
                		// Generate a function of recursive functions that can be used to check each element
                		if ( !group ) {
                			group = tokenize( selector );
                		}
                		i = group.length;
                		while ( i-- ) {
                			cached = matcherFromTokens( group[i] );
                			if ( cached[ expando ] ) {
                				setMatchers.push( cached );
                			} else {
                				elementMatchers.push( cached );
                			}
                		}
                
                		// Cache the compiled function
                		cached = compilerCache( selector, matcherFromGroupMatchers( elementMatchers, setMatchers ) );
                	}
                	return cached;
                };
                
                function multipleContexts( selector, contexts, results ) {
                	var i = 0,
                		len = contexts.length;
                	for ( ; i < len; i++ ) {
                		Sizzle( selector, contexts[i], results );
                	}
                	return results;
                }
                
                function select( selector, context, results, seed ) {
                	var i, tokens, token, type, find,
                		match = tokenize( selector );
                
                	if ( !seed ) {
                		// Try to minimize operations if there is only one group
                		if ( match.length === 1 ) {
                
                			// Take a shortcut and set the context if the root selector is an ID
                			tokens = match[0] = match[0].slice( 0 );
                			if ( tokens.length > 2 && (token = tokens[0]).type === "ID" &&
                					support.getById && context.nodeType === 9 && documentIsHTML &&
                					Expr.relative[ tokens[1].type ] ) {
                
                				context = ( Expr.find["ID"]( token.matches[0].replace(runescape, funescape), context ) || [] )[0];
                				if ( !context ) {
                					return results;
                				}
                				selector = selector.slice( tokens.shift().value.length );
                			}
                
                			// Fetch a seed set for right-to-left matching
                			i = matchExpr["needsContext"].test( selector ) ? 0 : tokens.length;
                			while ( i-- ) {
                				token = tokens[i];
                
                				// Abort if we hit a combinator
                				if ( Expr.relative[ (type = token.type) ] ) {
                					break;
                				}
                				if ( (find = Expr.find[ type ]) ) {
                					// Search, expanding context for leading sibling combinators
                					if ( (seed = find(
                						token.matches[0].replace( runescape, funescape ),
                						rsibling.test( tokens[0].type ) && context.parentNode || context
                					)) ) {
                
                						// If seed is empty or no tokens remain, we can return early
                						tokens.splice( i, 1 );
                						selector = seed.length && toSelector( tokens );
                						if ( !selector ) {
                							push.apply( results, seed );
                							return results;
                						}
                
                						break;
                					}
                				}
                			}
                		}
                	}
                
                	// Compile and execute a filtering function
                	// Provide `match` to avoid retokenization if we modified the selector above
                	compile( selector, match )(
                		seed,
                		context,
                		!documentIsHTML,
                		results,
                		rsibling.test( selector )
                	);
                	return results;
                }
                
                // One-time assignments
                
                // Sort stability
                support.sortStable = expando.split("").sort( sortOrder ).join("") === expando;
                
                // Support: Chrome<14
                // Always assume duplicates if they aren't passed to the comparison function
                support.detectDuplicates = hasDuplicate;
                
                // Initialize against the default document
                setDocument();
                
                // Support: Webkit<537.32 - Safari 6.0.3/Chrome 25 (fixed in Chrome 27)
                // Detached nodes confoundingly follow *each other*
                support.sortDetached = assert(function( div1 ) {
                	// Should return 1, but returns 4 (following)
                	return div1.compareDocumentPosition( document.createElement("div") ) & 1;
                });
                
                // Support: IE<8
                // Prevent attribute/property "interpolation"
                // http://msdn.microsoft.com/en-us/library/ms536429%28VS.85%29.aspx
                if ( !assert(function( div ) {
                	div.innerHTML = "<a href='#'></a>";
                	return div.firstChild.getAttribute("href") === "#" ;
                }) ) {
                	addHandle( "type|href|height|width", function( elem, name, isXML ) {
                		if ( !isXML ) {
                			return elem.getAttribute( name, name.toLowerCase() === "type" ? 1 : 2 );
                		}
                	});
                }
                
                // Support: IE<9
                // Use defaultValue in place of getAttribute("value")
                if ( !support.attributes || !assert(function( div ) {
                	div.innerHTML = "<input/>";
                	div.firstChild.setAttribute( "value", "" );
                	return div.firstChild.getAttribute( "value" ) === "";
                }) ) {
                	addHandle( "value", function( elem, name, isXML ) {
                		if ( !isXML && elem.nodeName.toLowerCase() === "input" ) {
                			return elem.defaultValue;
                		}
                	});
                }
                
                // Support: IE<9
                // Use getAttributeNode to fetch booleans when getAttribute lies
                if ( !assert(function( div ) {
                	return div.getAttribute("disabled") == null;
                }) ) {
                	addHandle( booleans, function( elem, name, isXML ) {
                		var val;
                		if ( !isXML ) {
                			return (val = elem.getAttributeNode( name )) && val.specified ?
                				val.value :
                				elem[ name ] === true ? name.toLowerCase() : null;
                		}
                	});
                }
                
                jQuery.find = Sizzle;
                jQuery.expr = Sizzle.selectors;
                jQuery.expr[":"] = jQuery.expr.pseudos;
                jQuery.unique = Sizzle.uniqueSort;
                jQuery.text = Sizzle.getText;
                jQuery.isXMLDoc = Sizzle.isXML;
                jQuery.contains = Sizzle.contains;
                
                
                })( window );
                // String to Object options format cache
                var optionsCache = {};
                
                // Convert String-formatted options into Object-formatted ones and store in cache
                function createOptions( options ) {
                	var object = optionsCache[ options ] = {};
                	jQuery.each( options.match( core_rnotwhite ) || [], function( _, flag ) {
                		object[ flag ] = true;
                	});
                	return object;
                }
                
                /*
                 * Create a callback list using the following parameters:
                 *
                 *	options: an optional list of space-separated options that will change how
                 *			the callback list behaves or a more traditional option object
                 *
                 * By default a callback list will act like an event callback list and can be
                 * "fired" multiple times.
                 *
                 * Possible options:
                 *
                 *	once:			will ensure the callback list can only be fired once (like a Deferred)
                 *
                 *	memory:			will keep track of previous values and will call any callback added
                 *					after the list has been fired right away with the latest "memorized"
                 *					values (like a Deferred)
                 *
                 *	unique:			will ensure a callback can only be added once (no duplicate in the list)
                 *
                 *	stopOnFalse:	interrupt callings when a callback returns false
                 *
                 */
                jQuery.Callbacks = function( options ) {
                
                	// Convert options from String-formatted to Object-formatted if needed
                	// (we check in cache first)
                	options = typeof options === "string" ?
                		( optionsCache[ options ] || createOptions( options ) ) :
                		jQuery.extend( {}, options );
                
                	var // Last fire value (for non-forgettable lists)
                		memory,
                		// Flag to know if list was already fired
                		fired,
                		// Flag to know if list is currently firing
                		firing,
                		// First callback to fire (used internally by add and fireWith)
                		firingStart,
                		// End of the loop when firing
                		firingLength,
                		// Index of currently firing callback (modified by remove if needed)
                		firingIndex,
                		// Actual callback list
                		list = [],
                		// Stack of fire calls for repeatable lists
                		stack = !options.once && [],
                		// Fire callbacks
                		fire = function( data ) {
                			memory = options.memory && data;
                			fired = true;
                			firingIndex = firingStart || 0;
                			firingStart = 0;
                			firingLength = list.length;
                			firing = true;
                			for ( ; list && firingIndex < firingLength; firingIndex++ ) {
                				if ( list[ firingIndex ].apply( data[ 0 ], data[ 1 ] ) === false && options.stopOnFalse ) {
                					memory = false; // To prevent further calls using add
                					break;
                				}
                			}
                			firing = false;
                			if ( list ) {
                				if ( stack ) {
                					if ( stack.length ) {
                						fire( stack.shift() );
                					}
                				} else if ( memory ) {
                					list = [];
                				} else {
                					self.disable();
                				}
                			}
                		},
                		// Actual Callbacks object
                		self = {
                			// Add a callback or a collection of callbacks to the list
                			add: function() {
                				if ( list ) {
                					// First, we save the current length
                					var start = list.length;
                					(function add( args ) {
                						jQuery.each( args, function( _, arg ) {
                							var type = jQuery.type( arg );
                							if ( type === "function" ) {
                								if ( !options.unique || !self.has( arg ) ) {
                									list.push( arg );
                								}
                							} else if ( arg && arg.length && type !== "string" ) {
                								// Inspect recursively
                								add( arg );
                							}
                						});
                					})( arguments );
                					// Do we need to add the callbacks to the
                					// current firing batch?
                					if ( firing ) {
                						firingLength = list.length;
                					// With memory, if we're not firing then
                					// we should call right away
                					} else if ( memory ) {
                						firingStart = start;
                						fire( memory );
                					}
                				}
                				return this;
                			},
                			// Remove a callback from the list
                			remove: function() {
                				if ( list ) {
                					jQuery.each( arguments, function( _, arg ) {
                						var index;
                						while( ( index = jQuery.inArray( arg, list, index ) ) > -1 ) {
                							list.splice( index, 1 );
                							// Handle firing indexes
                							if ( firing ) {
                								if ( index <= firingLength ) {
                									firingLength--;
                								}
                								if ( index <= firingIndex ) {
                									firingIndex--;
                								}
                							}
                						}
                					});
                				}
                				return this;
                			},
                			// Check if a given callback is in the list.
                			// If no argument is given, return whether or not list has callbacks attached.
                			has: function( fn ) {
                				return fn ? jQuery.inArray( fn, list ) > -1 : !!( list && list.length );
                			},
                			// Remove all callbacks from the list
                			empty: function() {
                				list = [];
                				firingLength = 0;
                				return this;
                			},
                			// Have the list do nothing anymore
                			disable: function() {
                				list = stack = memory = undefined;
                				return this;
                			},
                			// Is it disabled?
                			disabled: function() {
                				return !list;
                			},
                			// Lock the list in its current state
                			lock: function() {
                				stack = undefined;
                				if ( !memory ) {
                					self.disable();
                				}
                				return this;
                			},
                			// Is it locked?
                			locked: function() {
                				return !stack;
                			},
                			// Call all callbacks with the given context and arguments
                			fireWith: function( context, args ) {
                				if ( list && ( !fired || stack ) ) {
                					args = args || [];
                					args = [ context, args.slice ? args.slice() : args ];
                					if ( firing ) {
                						stack.push( args );
                					} else {
                						fire( args );
                					}
                				}
                				return this;
                			},
                			// Call all the callbacks with the given arguments
                			fire: function() {
                				self.fireWith( this, arguments );
                				return this;
                			},
                			// To know if the callbacks have already been called at least once
                			fired: function() {
                				return !!fired;
                			}
                		};
                
                	return self;
                };
                jQuery.extend({
                
                	Deferred: function( func ) {
                		var tuples = [
                				// action, add listener, listener list, final state
                				[ "resolve", "done", jQuery.Callbacks("once memory"), "resolved" ],
                				[ "reject", "fail", jQuery.Callbacks("once memory"), "rejected" ],
                				[ "notify", "progress", jQuery.Callbacks("memory") ]
                			],
                			state = "pending",
                			promise = {
                				state: function() {
                					return state;
                				},
                				always: function() {
                					deferred.done( arguments ).fail( arguments );
                					return this;
                				},
                				then: function( /* fnDone, fnFail, fnProgress */ ) {
                					var fns = arguments;
                					return jQuery.Deferred(function( newDefer ) {
                						jQuery.each( tuples, function( i, tuple ) {
                							var action = tuple[ 0 ],
                								fn = jQuery.isFunction( fns[ i ] ) && fns[ i ];
                							// deferred[ done | fail | progress ] for forwarding actions to newDefer
                							deferred[ tuple[1] ](function() {
                								var returned = fn && fn.apply( this, arguments );
                								if ( returned && jQuery.isFunction( returned.promise ) ) {
                									returned.promise()
                										.done( newDefer.resolve )
                										.fail( newDefer.reject )
                										.progress( newDefer.notify );
                								} else {
                									newDefer[ action + "With" ]( this === promise ? newDefer.promise() : this, fn ? [ returned ] : arguments );
                								}
                							});
                						});
                						fns = null;
                					}).promise();
                				},
                				// Get a promise for this deferred
                				// If obj is provided, the promise aspect is added to the object
                				promise: function( obj ) {
                					return obj != null ? jQuery.extend( obj, promise ) : promise;
                				}
                			},
                			deferred = {};
                
                		// Keep pipe for back-compat
                		promise.pipe = promise.then;
                
                		// Add list-specific methods
                		jQuery.each( tuples, function( i, tuple ) {
                			var list = tuple[ 2 ],
                				stateString = tuple[ 3 ];
                
                			// promise[ done | fail | progress ] = list.add
                			promise[ tuple[1] ] = list.add;
                
                			// Handle state
                			if ( stateString ) {
                				list.add(function() {
                					// state = [ resolved | rejected ]
                					state = stateString;
                
                				// [ reject_list | resolve_list ].disable; progress_list.lock
                				}, tuples[ i ^ 1 ][ 2 ].disable, tuples[ 2 ][ 2 ].lock );
                			}
                
                			// deferred[ resolve | reject | notify ]
                			deferred[ tuple[0] ] = function() {
                				deferred[ tuple[0] + "With" ]( this === deferred ? promise : this, arguments );
                				return this;
                			};
                			deferred[ tuple[0] + "With" ] = list.fireWith;
                		});
                
                		// Make the deferred a promise
                		promise.promise( deferred );
                
                		// Call given func if any
                		if ( func ) {
                			func.call( deferred, deferred );
                		}
                
                		// All done!
                		return deferred;
                	},
                
                	// Deferred helper
                	when: function( subordinate /* , ..., subordinateN */ ) {
                		var i = 0,
                			resolveValues = core_slice.call( arguments ),
                			length = resolveValues.length,
                
                			// the count of uncompleted subordinates
                			remaining = length !== 1 || ( subordinate && jQuery.isFunction( subordinate.promise ) ) ? length : 0,
                
                			// the master Deferred. If resolveValues consist of only a single Deferred, just use that.
                			deferred = remaining === 1 ? subordinate : jQuery.Deferred(),
                
                			// Update function for both resolve and progress values
                			updateFunc = function( i, contexts, values ) {
                				return function( value ) {
                					contexts[ i ] = this;
                					values[ i ] = arguments.length > 1 ? core_slice.call( arguments ) : value;
                					if( values === progressValues ) {
                						deferred.notifyWith( contexts, values );
                					} else if ( !( --remaining ) ) {
                						deferred.resolveWith( contexts, values );
                					}
                				};
                			},
                
                			progressValues, progressContexts, resolveContexts;
                
                		// add listeners to Deferred subordinates; treat others as resolved
                		if ( length > 1 ) {
                			progressValues = new Array( length );
                			progressContexts = new Array( length );
                			resolveContexts = new Array( length );
                			for ( ; i < length; i++ ) {
                				if ( resolveValues[ i ] && jQuery.isFunction( resolveValues[ i ].promise ) ) {
                					resolveValues[ i ].promise()
                						.done( updateFunc( i, resolveContexts, resolveValues ) )
                						.fail( deferred.reject )
                						.progress( updateFunc( i, progressContexts, progressValues ) );
                				} else {
                					--remaining;
                				}
                			}
                		}
                
                		// if we're not waiting on anything, resolve the master
                		if ( !remaining ) {
                			deferred.resolveWith( resolveContexts, resolveValues );
                		}
                
                		return deferred.promise();
                	}
                });
                jQuery.support = (function( support ) {
                	var input = document.createElement("input"),
                		fragment = document.createDocumentFragment(),
                		div = document.createElement("div"),
                		select = document.createElement("select"),
                		opt = select.appendChild( document.createElement("option") );
                
                	// Finish early in limited environments
                	if ( !input.type ) {
                		return support;
                	}
                
                	input.type = "checkbox";
                
                	// Support: Safari 5.1, iOS 5.1, Android 4.x, Android 2.3
                	// Check the default checkbox/radio value ("" on old WebKit; "on" elsewhere)
                	support.checkOn = input.value !== "";
                
                	// Must access the parent to make an option select properly
                	// Support: IE9, IE10
                	support.optSelected = opt.selected;
                
                	// Will be defined later
                	support.reliableMarginRight = true;
                	support.boxSizingReliable = true;
                	support.pixelPosition = false;
                
                	// Make sure checked status is properly cloned
                	// Support: IE9, IE10
                	input.checked = true;
                	support.noCloneChecked = input.cloneNode( true ).checked;
                
                	// Make sure that the options inside disabled selects aren't marked as disabled
                	// (WebKit marks them as disabled)
                	select.disabled = true;
                	support.optDisabled = !opt.disabled;
                
                	// Check if an input maintains its value after becoming a radio
                	// Support: IE9, IE10
                	input = document.createElement("input");
                	input.value = "t";
                	input.type = "radio";
                	support.radioValue = input.value === "t";
                
                	// #11217 - WebKit loses check when the name is after the checked attribute
                	input.setAttribute( "checked", "t" );
                	input.setAttribute( "name", "t" );
                
                	fragment.appendChild( input );
                
                	// Support: Safari 5.1, Android 4.x, Android 2.3
                	// old WebKit doesn't clone checked state correctly in fragments
                	support.checkClone = fragment.cloneNode( true ).cloneNode( true ).lastChild.checked;
                
                	// Support: Firefox, Chrome, Safari
                	// Beware of CSP restrictions (https://developer.mozilla.org/en/Security/CSP)
                	support.focusinBubbles = "onfocusin" in window;
                
                	div.style.backgroundClip = "content-box";
                	div.cloneNode( true ).style.backgroundClip = "";
                	support.clearCloneStyle = div.style.backgroundClip === "content-box";
                
                	// Run tests that need a body at doc ready
                	jQuery(function() {
                		var container, marginDiv,
                			// Support: Firefox, Android 2.3 (Prefixed box-sizing versions).
                			divReset = "padding:0;margin:0;border:0;display:block;-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box",
                			body = document.getElementsByTagName("body")[ 0 ];
                
                		if ( !body ) {
                			// Return for frameset docs that don't have a body
                			return;
                		}
                
                		container = document.createElement("div");
                		container.style.cssText = "border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px";
                
                		// Check box-sizing and margin behavior.
                		body.appendChild( container ).appendChild( div );
                		div.innerHTML = "";
                		// Support: Firefox, Android 2.3 (Prefixed box-sizing versions).
                		div.style.cssText = "-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%";
                
                		// Workaround failing boxSizing test due to offsetWidth returning wrong value
                		// with some non-1 values of body zoom, ticket #13543
                		jQuery.swap( body, body.style.zoom != null ? { zoom: 1 } : {}, function() {
                			support.boxSizing = div.offsetWidth === 4;
                		});
                
                		// Use window.getComputedStyle because jsdom on node.js will break without it.
                		if ( window.getComputedStyle ) {
                			support.pixelPosition = ( window.getComputedStyle( div, null ) || {} ).top !== "1%";
                			support.boxSizingReliable = ( window.getComputedStyle( div, null ) || { width: "4px" } ).width === "4px";
                
                			// Support: Android 2.3
                			// Check if div with explicit width and no margin-right incorrectly
                			// gets computed margin-right based on width of container. (#3333)
                			// WebKit Bug 13343 - getComputedStyle returns wrong value for margin-right
                			marginDiv = div.appendChild( document.createElement("div") );
                			marginDiv.style.cssText = div.style.cssText = divReset;
                			marginDiv.style.marginRight = marginDiv.style.width = "0";
                			div.style.width = "1px";
                
                			support.reliableMarginRight =
                				!parseFloat( ( window.getComputedStyle( marginDiv, null ) || {} ).marginRight );
                		}
                
                		body.removeChild( container );
                	});
                
                	return support;
                })( {} );
                
                /*
                	Implementation Summary
                
                	1. Enforce API surface and semantic compatibility with 1.9.x branch
                	2. Improve the module's maintainability by reducing the storage
                		paths to a single mechanism.
                	3. Use the same single mechanism to support "private" and "user" data.
                	4. _Never_ expose "private" data to user code (TODO: Drop _data, _removeData)
                	5. Avoid exposing implementation details on user objects (eg. expando properties)
                	6. Provide a clear path for implementation upgrade to WeakMap in 2014
                */
                var data_user, data_priv,
                	rbrace = /(?:\{[\s\S]*\}|\[[\s\S]*\])$/,
                	rmultiDash = /([A-Z])/g;
                
                function Data() {
                	// Support: Android < 4,
                	// Old WebKit does not have Object.preventExtensions/freeze method,
                	// return new empty object instead with no [[set]] accessor
                	Object.defineProperty( this.cache = {}, 0, {
                		get: function() {
                			return {};
                		}
                	});
                
                	this.expando = jQuery.expando + Math.random();
                }
                
                Data.uid = 1;
                
                Data.accepts = function( owner ) {
                	// Accepts only:
                	//  - Node
                	//    - Node.ELEMENT_NODE
                	//    - Node.DOCUMENT_NODE
                	//  - Object
                	//    - Any
                	return owner.nodeType ?
                		owner.nodeType === 1 || owner.nodeType === 9 : true;
                };
                
                Data.prototype = {
                	key: function( owner ) {
                		// We can accept data for non-element nodes in modern browsers,
                		// but we should not, see #8335.
                		// Always return the key for a frozen object.
                		if ( !Data.accepts( owner ) ) {
                			return 0;
                		}
                
                		var descriptor = {},
                			// Check if the owner object already has a cache key
                			unlock = owner[ this.expando ];
                
                		// If not, create one
                		if ( !unlock ) {
                			unlock = Data.uid++;
                
                			// Secure it in a non-enumerable, non-writable property
                			try {
                				descriptor[ this.expando ] = { value: unlock };
                				Object.defineProperties( owner, descriptor );
                
                			// Support: Android < 4
                			// Fallback to a less secure definition
                			} catch ( e ) {
                				descriptor[ this.expando ] = unlock;
                				jQuery.extend( owner, descriptor );
                			}
                		}
                
                		// Ensure the cache object
                		if ( !this.cache[ unlock ] ) {
                			this.cache[ unlock ] = {};
                		}
                
                		return unlock;
                	},
                	set: function( owner, data, value ) {
                		var prop,
                			// There may be an unlock assigned to this node,
                			// if there is no entry for this "owner", create one inline
                			// and set the unlock as though an owner entry had always existed
                			unlock = this.key( owner ),
                			cache = this.cache[ unlock ];
                
                		// Handle: [ owner, key, value ] args
                		if ( typeof data === "string" ) {
                			cache[ data ] = value;
                
                		// Handle: [ owner, { properties } ] args
                		} else {
                			// Fresh assignments by object are shallow copied
                			if ( jQuery.isEmptyObject( cache ) ) {
                				jQuery.extend( this.cache[ unlock ], data );
                			// Otherwise, copy the properties one-by-one to the cache object
                			} else {
                				for ( prop in data ) {
                					cache[ prop ] = data[ prop ];
                				}
                			}
                		}
                		return cache;
                	},
                	get: function( owner, key ) {
                		// Either a valid cache is found, or will be created.
                		// New caches will be created and the unlock returned,
                		// allowing direct access to the newly created
                		// empty data object. A valid owner object must be provided.
                		var cache = this.cache[ this.key( owner ) ];
                
                		return key === undefined ?
                			cache : cache[ key ];
                	},
                	access: function( owner, key, value ) {
                		var stored;
                		// In cases where either:
                		//
                		//   1. No key was specified
                		//   2. A string key was specified, but no value provided
                		//
                		// Take the "read" path and allow the get method to determine
                		// which value to return, respectively either:
                		//
                		//   1. The entire cache object
                		//   2. The data stored at the key
                		//
                		if ( key === undefined ||
                				((key && typeof key === "string") && value === undefined) ) {
                
                			stored = this.get( owner, key );
                
                			return stored !== undefined ?
                				stored : this.get( owner, jQuery.camelCase(key) );
                		}
                
                		// [*]When the key is not a string, or both a key and value
                		// are specified, set or extend (existing objects) with either:
                		//
                		//   1. An object of properties
                		//   2. A key and value
                		//
                		this.set( owner, key, value );
                
                		// Since the "set" path can have two possible entry points
                		// return the expected data based on which path was taken[*]
                		return value !== undefined ? value : key;
                	},
                	remove: function( owner, key ) {
                		var i, name, camel,
                			unlock = this.key( owner ),
                			cache = this.cache[ unlock ];
                
                		if ( key === undefined ) {
                			this.cache[ unlock ] = {};
                
                		} else {
                			// Support array or space separated string of keys
                			if ( jQuery.isArray( key ) ) {
                				// If "name" is an array of keys...
                				// When data is initially created, via ("key", "val") signature,
                				// keys will be converted to camelCase.
                				// Since there is no way to tell _how_ a key was added, remove
                				// both plain key and camelCase key. #12786
                				// This will only penalize the array argument path.
                				name = key.concat( key.map( jQuery.camelCase ) );
                			} else {
                				camel = jQuery.camelCase( key );
                				// Try the string as a key before any manipulation
                				if ( key in cache ) {
                					name = [ key, camel ];
                				} else {
                					// If a key with the spaces exists, use it.
                					// Otherwise, create an array by matching non-whitespace
                					name = camel;
                					name = name in cache ?
                						[ name ] : ( name.match( core_rnotwhite ) || [] );
                				}
                			}
                
                			i = name.length;
                			while ( i-- ) {
                				delete cache[ name[ i ] ];
                			}
                		}
                	},
                	hasData: function( owner ) {
                		return !jQuery.isEmptyObject(
                			this.cache[ owner[ this.expando ] ] || {}
                		);
                	},
                	discard: function( owner ) {
                		if ( owner[ this.expando ] ) {
                			delete this.cache[ owner[ this.expando ] ];
                		}
                	}
                };
                
                // These may be used throughout the jQuery core codebase
                data_user = new Data();
                data_priv = new Data();
                
                
                jQuery.extend({
                	acceptData: Data.accepts,
                
                	hasData: function( elem ) {
                		return data_user.hasData( elem ) || data_priv.hasData( elem );
                	},
                
                	data: function( elem, name, data ) {
                		return data_user.access( elem, name, data );
                	},
                
                	removeData: function( elem, name ) {
                		data_user.remove( elem, name );
                	},
                
                	// TODO: Now that all calls to _data and _removeData have been replaced
                	// with direct calls to data_priv methods, these can be deprecated.
                	_data: function( elem, name, data ) {
                		return data_priv.access( elem, name, data );
                	},
                
                	_removeData: function( elem, name ) {
                		data_priv.remove( elem, name );
                	}
                });
                
                jQuery.fn.extend({
                	data: function( key, value ) {
                		var attrs, name,
                			elem = this[ 0 ],
                			i = 0,
                			data = null;
                
                		// Gets all values
                		if ( key === undefined ) {
                			if ( this.length ) {
                				data = data_user.get( elem );
                
                				if ( elem.nodeType === 1 && !data_priv.get( elem, "hasDataAttrs" ) ) {
                					attrs = elem.attributes;
                					for ( ; i < attrs.length; i++ ) {
                						name = attrs[ i ].name;
                
                						if ( name.indexOf( "data-" ) === 0 ) {
                							name = jQuery.camelCase( name.slice(5) );
                							dataAttr( elem, name, data[ name ] );
                						}
                					}
                					data_priv.set( elem, "hasDataAttrs", true );
                				}
                			}
                
                			return data;
                		}
                
                		// Sets multiple values
                		if ( typeof key === "object" ) {
                			return this.each(function() {
                				data_user.set( this, key );
                			});
                		}
                
                		return jQuery.access( this, function( value ) {
                			var data,
                				camelKey = jQuery.camelCase( key );
                
                			// The calling jQuery object (element matches) is not empty
                			// (and therefore has an element appears at this[ 0 ]) and the
                			// `value` parameter was not undefined. An empty jQuery object
                			// will result in `undefined` for elem = this[ 0 ] which will
                			// throw an exception if an attempt to read a data cache is made.
                			if ( elem && value === undefined ) {
                				// Attempt to get data from the cache
                				// with the key as-is
                				data = data_user.get( elem, key );
                				if ( data !== undefined ) {
                					return data;
                				}
                
                				// Attempt to get data from the cache
                				// with the key camelized
                				data = data_user.get( elem, camelKey );
                				if ( data !== undefined ) {
                					return data;
                				}
                
                				// Attempt to "discover" the data in
                				// HTML5 custom data-* attrs
                				data = dataAttr( elem, camelKey, undefined );
                				if ( data !== undefined ) {
                					return data;
                				}
                
                				// We tried really hard, but the data doesn't exist.
                				return;
                			}
                
                			// Set the data...
                			this.each(function() {
                				// First, attempt to store a copy or reference of any
                				// data that might've been store with a camelCased key.
                				var data = data_user.get( this, camelKey );
                
                				// For HTML5 data-* attribute interop, we have to
                				// store property names with dashes in a camelCase form.
                				// This might not apply to all properties...*
                				data_user.set( this, camelKey, value );
                
                				// *... In the case of properties that might _actually_
                				// have dashes, we need to also store a copy of that
                				// unchanged property.
                				if ( key.indexOf("-") !== -1 && data !== undefined ) {
                					data_user.set( this, key, value );
                				}
                			});
                		}, null, value, arguments.length > 1, null, true );
                	},
                
                	removeData: function( key ) {
                		return this.each(function() {
                			data_user.remove( this, key );
                		});
                	}
                });
                
                function dataAttr( elem, key, data ) {
                	var name;
                
                	// If nothing was found internally, try to fetch any
                	// data from the HTML5 data-* attribute
                	if ( data === undefined && elem.nodeType === 1 ) {
                		name = "data-" + key.replace( rmultiDash, "-$1" ).toLowerCase();
                		data = elem.getAttribute( name );
                
                		if ( typeof data === "string" ) {
                			try {
                				data = data === "true" ? true :
                					data === "false" ? false :
                					data === "null" ? null :
                					// Only convert to a number if it doesn't change the string
                					+data + "" === data ? +data :
                					rbrace.test( data ) ? JSON.parse( data ) :
                					data;
                			} catch( e ) {}
                
                			// Make sure we set the data so it isn't changed later
                			data_user.set( elem, key, data );
                		} else {
                			data = undefined;
                		}
                	}
                	return data;
                }
                jQuery.extend({
                	queue: function( elem, type, data ) {
                		var queue;
                
                		if ( elem ) {
                			type = ( type || "fx" ) + "queue";
                			queue = data_priv.get( elem, type );
                
                			// Speed up dequeue by getting out quickly if this is just a lookup
                			if ( data ) {
                				if ( !queue || jQuery.isArray( data ) ) {
                					queue = data_priv.access( elem, type, jQuery.makeArray(data) );
                				} else {
                					queue.push( data );
                				}
                			}
                			return queue || [];
                		}
                	},
                
                	dequeue: function( elem, type ) {
                		type = type || "fx";
                
                		var queue = jQuery.queue( elem, type ),
                			startLength = queue.length,
                			fn = queue.shift(),
                			hooks = jQuery._queueHooks( elem, type ),
                			next = function() {
                				jQuery.dequeue( elem, type );
                			};
                
                		// If the fx queue is dequeued, always remove the progress sentinel
                		if ( fn === "inprogress" ) {
                			fn = queue.shift();
                			startLength--;
                		}
                
                		if ( fn ) {
                
                			// Add a progress sentinel to prevent the fx queue from being
                			// automatically dequeued
                			if ( type === "fx" ) {
                				queue.unshift( "inprogress" );
                			}
                
                			// clear up the last queue stop function
                			delete hooks.stop;
                			fn.call( elem, next, hooks );
                		}
                
                		if ( !startLength && hooks ) {
                			hooks.empty.fire();
                		}
                	},
                
                	// not intended for public consumption - generates a queueHooks object, or returns the current one
                	_queueHooks: function( elem, type ) {
                		var key = type + "queueHooks";
                		return data_priv.get( elem, key ) || data_priv.access( elem, key, {
                			empty: jQuery.Callbacks("once memory").add(function() {
                				data_priv.remove( elem, [ type + "queue", key ] );
                			})
                		});
                	}
                });
                
                jQuery.fn.extend({
                	queue: function( type, data ) {
                		var setter = 2;
                
                		if ( typeof type !== "string" ) {
                			data = type;
                			type = "fx";
                			setter--;
                		}
                
                		if ( arguments.length < setter ) {
                			return jQuery.queue( this[0], type );
                		}
                
                		return data === undefined ?
                			this :
                			this.each(function() {
                				var queue = jQuery.queue( this, type, data );
                
                				// ensure a hooks for this queue
                				jQuery._queueHooks( this, type );
                
                				if ( type === "fx" && queue[0] !== "inprogress" ) {
                					jQuery.dequeue( this, type );
                				}
                			});
                	},
                	dequeue: function( type ) {
                		return this.each(function() {
                			jQuery.dequeue( this, type );
                		});
                	},
                	// Based off of the plugin by Clint Helfers, with permission.
                	// http://blindsignals.com/index.php/2009/07/jquery-delay/
                	delay: function( time, type ) {
                		time = jQuery.fx ? jQuery.fx.speeds[ time ] || time : time;
                		type = type || "fx";
                
                		return this.queue( type, function( next, hooks ) {
                			var timeout = setTimeout( next, time );
                			hooks.stop = function() {
                				clearTimeout( timeout );
                			};
                		});
                	},
                	clearQueue: function( type ) {
                		return this.queue( type || "fx", [] );
                	},
                	// Get a promise resolved when queues of a certain type
                	// are emptied (fx is the type by default)
                	promise: function( type, obj ) {
                		var tmp,
                			count = 1,
                			defer = jQuery.Deferred(),
                			elements = this,
                			i = this.length,
                			resolve = function() {
                				if ( !( --count ) ) {
                					defer.resolveWith( elements, [ elements ] );
                				}
                			};
                
                		if ( typeof type !== "string" ) {
                			obj = type;
                			type = undefined;
                		}
                		type = type || "fx";
                
                		while( i-- ) {
                			tmp = data_priv.get( elements[ i ], type + "queueHooks" );
                			if ( tmp && tmp.empty ) {
                				count++;
                				tmp.empty.add( resolve );
                			}
                		}
                		resolve();
                		return defer.promise( obj );
                	}
                });
                var nodeHook, boolHook,
                	rclass = /[\t\r\n\f]/g,
                	rreturn = /\r/g,
                	rfocusable = /^(?:input|select|textarea|button)$/i;
                
                jQuery.fn.extend({
                	attr: function( name, value ) {
                		return jQuery.access( this, jQuery.attr, name, value, arguments.length > 1 );
                	},
                
                	removeAttr: function( name ) {
                		return this.each(function() {
                			jQuery.removeAttr( this, name );
                		});
                	},
                
                	prop: function( name, value ) {
                		return jQuery.access( this, jQuery.prop, name, value, arguments.length > 1 );
                	},
                
                	removeProp: function( name ) {
                		return this.each(function() {
                			delete this[ jQuery.propFix[ name ] || name ];
                		});
                	},
                
                	addClass: function( value ) {
                		var classes, elem, cur, clazz, j,
                			i = 0,
                			len = this.length,
                			proceed = typeof value === "string" && value;
                
                		if ( jQuery.isFunction( value ) ) {
                			return this.each(function( j ) {
                				jQuery( this ).addClass( value.call( this, j, this.className ) );
                			});
                		}
                
                		if ( proceed ) {
                			// The disjunction here is for better compressibility (see removeClass)
                			classes = ( value || "" ).match( core_rnotwhite ) || [];
                
                			for ( ; i < len; i++ ) {
                				elem = this[ i ];
                				cur = elem.nodeType === 1 && ( elem.className ?
                					( " " + elem.className + " " ).replace( rclass, " " ) :
                					" "
                				);
                
                				if ( cur ) {
                					j = 0;
                					while ( (clazz = classes[j++]) ) {
                						if ( cur.indexOf( " " + clazz + " " ) < 0 ) {
                							cur += clazz + " ";
                						}
                					}
                					elem.className = jQuery.trim( cur );
                
                				}
                			}
                		}
                
                		return this;
                	},
                
                	removeClass: function( value ) {
                		var classes, elem, cur, clazz, j,
                			i = 0,
                			len = this.length,
                			proceed = arguments.length === 0 || typeof value === "string" && value;
                
                		if ( jQuery.isFunction( value ) ) {
                			return this.each(function( j ) {
                				jQuery( this ).removeClass( value.call( this, j, this.className ) );
                			});
                		}
                		if ( proceed ) {
                			classes = ( value || "" ).match( core_rnotwhite ) || [];
                
                			for ( ; i < len; i++ ) {
                				elem = this[ i ];
                				// This expression is here for better compressibility (see addClass)
                				cur = elem.nodeType === 1 && ( elem.className ?
                					( " " + elem.className + " " ).replace( rclass, " " ) :
                					""
                				);
                
                				if ( cur ) {
                					j = 0;
                					while ( (clazz = classes[j++]) ) {
                						// Remove *all* instances
                						while ( cur.indexOf( " " + clazz + " " ) >= 0 ) {
                							cur = cur.replace( " " + clazz + " ", " " );
                						}
                					}
                					elem.className = value ? jQuery.trim( cur ) : "";
                				}
                			}
                		}
                
                		return this;
                	},
                
                	toggleClass: function( value, stateVal ) {
                		var type = typeof value;
                
                		if ( typeof stateVal === "boolean" && type === "string" ) {
                			return stateVal ? this.addClass( value ) : this.removeClass( value );
                		}
                
                		if ( jQuery.isFunction( value ) ) {
                			return this.each(function( i ) {
                				jQuery( this ).toggleClass( value.call(this, i, this.className, stateVal), stateVal );
                			});
                		}
                
                		return this.each(function() {
                			if ( type === "string" ) {
                				// toggle individual class names
                				var className,
                					i = 0,
                					self = jQuery( this ),
                					classNames = value.match( core_rnotwhite ) || [];
                
                				while ( (className = classNames[ i++ ]) ) {
                					// check each className given, space separated list
                					if ( self.hasClass( className ) ) {
                						self.removeClass( className );
                					} else {
                						self.addClass( className );
                					}
                				}
                
                			// Toggle whole class name
                			} else if ( type === core_strundefined || type === "boolean" ) {
                				if ( this.className ) {
                					// store className if set
                					data_priv.set( this, "__className__", this.className );
                				}
                
                				// If the element has a class name or if we're passed "false",
                				// then remove the whole classname (if there was one, the above saved it).
                				// Otherwise bring back whatever was previously saved (if anything),
                				// falling back to the empty string if nothing was stored.
                				this.className = this.className || value === false ? "" : data_priv.get( this, "__className__" ) || "";
                			}
                		});
                	},
                
                	hasClass: function( selector ) {
                		var className = " " + selector + " ",
                			i = 0,
                			l = this.length;
                		for ( ; i < l; i++ ) {
                			if ( this[i].nodeType === 1 && (" " + this[i].className + " ").replace(rclass, " ").indexOf( className ) >= 0 ) {
                				return true;
                			}
                		}
                
                		return false;
                	},
                
                	val: function( value ) {
                		var hooks, ret, isFunction,
                			elem = this[0];
                
                		if ( !arguments.length ) {
                			if ( elem ) {
                				hooks = jQuery.valHooks[ elem.type ] || jQuery.valHooks[ elem.nodeName.toLowerCase() ];
                
                				if ( hooks && "get" in hooks && (ret = hooks.get( elem, "value" )) !== undefined ) {
                					return ret;
                				}
                
                				ret = elem.value;
                
                				return typeof ret === "string" ?
                					// handle most common string cases
                					ret.replace(rreturn, "") :
                					// handle cases where value is null/undef or number
                					ret == null ? "" : ret;
                			}
                
                			return;
                		}
                
                		isFunction = jQuery.isFunction( value );
                
                		return this.each(function( i ) {
                			var val;
                
                			if ( this.nodeType !== 1 ) {
                				return;
                			}
                
                			if ( isFunction ) {
                				val = value.call( this, i, jQuery( this ).val() );
                			} else {
                				val = value;
                			}
                
                			// Treat null/undefined as ""; convert numbers to string
                			if ( val == null ) {
                				val = "";
                			} else if ( typeof val === "number" ) {
                				val += "";
                			} else if ( jQuery.isArray( val ) ) {
                				val = jQuery.map(val, function ( value ) {
                					return value == null ? "" : value + "";
                				});
                			}
                
                			hooks = jQuery.valHooks[ this.type ] || jQuery.valHooks[ this.nodeName.toLowerCase() ];
                
                			// If set returns undefined, fall back to normal setting
                			if ( !hooks || !("set" in hooks) || hooks.set( this, val, "value" ) === undefined ) {
                				this.value = val;
                			}
                		});
                	}
                });
                
                jQuery.extend({
                	valHooks: {
                		option: {
                			get: function( elem ) {
                				// attributes.value is undefined in Blackberry 4.7 but
                				// uses .value. See #6932
                				var val = elem.attributes.value;
                				return !val || val.specified ? elem.value : elem.text;
                			}
                		},
                		select: {
                			get: function( elem ) {
                				var value, option,
                					options = elem.options,
                					index = elem.selectedIndex,
                					one = elem.type === "select-one" || index < 0,
                					values = one ? null : [],
                					max = one ? index + 1 : options.length,
                					i = index < 0 ?
                						max :
                						one ? index : 0;
                
                				// Loop through all the selected options
                				for ( ; i < max; i++ ) {
                					option = options[ i ];
                
                					// IE6-9 doesn't update selected after form reset (#2551)
                					if ( ( option.selected || i === index ) &&
                							// Don't return options that are disabled or in a disabled optgroup
                							( jQuery.support.optDisabled ? !option.disabled : option.getAttribute("disabled") === null ) &&
                							( !option.parentNode.disabled || !jQuery.nodeName( option.parentNode, "optgroup" ) ) ) {
                
                						// Get the specific value for the option
                						value = jQuery( option ).val();
                
                						// We don't need an array for one selects
                						if ( one ) {
                							return value;
                						}
                
                						// Multi-Selects return an array
                						values.push( value );
                					}
                				}
                
                				return values;
                			},
                
                			set: function( elem, value ) {
                				var optionSet, option,
                					options = elem.options,
                					values = jQuery.makeArray( value ),
                					i = options.length;
                
                				while ( i-- ) {
                					option = options[ i ];
                					if ( (option.selected = jQuery.inArray( jQuery(option).val(), values ) >= 0) ) {
                						optionSet = true;
                					}
                				}
                
                				// force browsers to behave consistently when non-matching value is set
                				if ( !optionSet ) {
                					elem.selectedIndex = -1;
                				}
                				return values;
                			}
                		}
                	},
                
                	attr: function( elem, name, value ) {
                		var hooks, ret,
                			nType = elem.nodeType;
                
                		// don't get/set attributes on text, comment and attribute nodes
                		if ( !elem || nType === 3 || nType === 8 || nType === 2 ) {
                			return;
                		}
                
                		// Fallback to prop when attributes are not supported
                		if ( typeof elem.getAttribute === core_strundefined ) {
                			return jQuery.prop( elem, name, value );
                		}
                
                		// All attributes are lowercase
                		// Grab necessary hook if one is defined
                		if ( nType !== 1 || !jQuery.isXMLDoc( elem ) ) {
                			name = name.toLowerCase();
                			hooks = jQuery.attrHooks[ name ] ||
                				( jQuery.expr.match.bool.test( name ) ? boolHook : nodeHook );
                		}
                
                		if ( value !== undefined ) {
                
                			if ( value === null ) {
                				jQuery.removeAttr( elem, name );
                
                			} else if ( hooks && "set" in hooks && (ret = hooks.set( elem, value, name )) !== undefined ) {
                				return ret;
                
                			} else {
                				elem.setAttribute( name, value + "" );
                				return value;
                			}
                
                		} else if ( hooks && "get" in hooks && (ret = hooks.get( elem, name )) !== null ) {
                			return ret;
                
                		} else {
                			ret = jQuery.find.attr( elem, name );
                
                			// Non-existent attributes return null, we normalize to undefined
                			return ret == null ?
                				undefined :
                				ret;
                		}
                	},
                
                	removeAttr: function( elem, value ) {
                		var name, propName,
                			i = 0,
                			attrNames = value && value.match( core_rnotwhite );
                
                		if ( attrNames && elem.nodeType === 1 ) {
                			while ( (name = attrNames[i++]) ) {
                				propName = jQuery.propFix[ name ] || name;
                
                				// Boolean attributes get special treatment (#10870)
                				if ( jQuery.expr.match.bool.test( name ) ) {
                					// Set corresponding property to false
                					elem[ propName ] = false;
                				}
                
                				elem.removeAttribute( name );
                			}
                		}
                	},
                
                	attrHooks: {
                		type: {
                			set: function( elem, value ) {
                				if ( !jQuery.support.radioValue && value === "radio" && jQuery.nodeName(elem, "input") ) {
                					// Setting the type on a radio button after the value resets the value in IE6-9
                					// Reset value to default in case type is set after value during creation
                					var val = elem.value;
                					elem.setAttribute( "type", value );
                					if ( val ) {
                						elem.value = val;
                					}
                					return value;
                				}
                			}
                		}
                	},
                
                	propFix: {
                		"for": "htmlFor",
                		"class": "className"
                	},
                
                	prop: function( elem, name, value ) {
                		var ret, hooks, notxml,
                			nType = elem.nodeType;
                
                		// don't get/set properties on text, comment and attribute nodes
                		if ( !elem || nType === 3 || nType === 8 || nType === 2 ) {
                			return;
                		}
                
                		notxml = nType !== 1 || !jQuery.isXMLDoc( elem );
                
                		if ( notxml ) {
                			// Fix name and attach hooks
                			name = jQuery.propFix[ name ] || name;
                			hooks = jQuery.propHooks[ name ];
                		}
                
                		if ( value !== undefined ) {
                			return hooks && "set" in hooks && (ret = hooks.set( elem, value, name )) !== undefined ?
                				ret :
                				( elem[ name ] = value );
                
                		} else {
                			return hooks && "get" in hooks && (ret = hooks.get( elem, name )) !== null ?
                				ret :
                				elem[ name ];
                		}
                	},
                
                	propHooks: {
                		tabIndex: {
                			get: function( elem ) {
                				return elem.hasAttribute( "tabindex" ) || rfocusable.test( elem.nodeName ) || elem.href ?
                					elem.tabIndex :
                					-1;
                			}
                		}
                	}
                });
                
                // Hooks for boolean attributes
                boolHook = {
                	set: function( elem, value, name ) {
                		if ( value === false ) {
                			// Remove boolean attributes when set to false
                			jQuery.removeAttr( elem, name );
                		} else {
                			elem.setAttribute( name, name );
                		}
                		return name;
                	}
                };
                jQuery.each( jQuery.expr.match.bool.source.match( /\w+/g ), function( i, name ) {
                	var getter = jQuery.expr.attrHandle[ name ] || jQuery.find.attr;
                
                	jQuery.expr.attrHandle[ name ] = function( elem, name, isXML ) {
                		var fn = jQuery.expr.attrHandle[ name ],
                			ret = isXML ?
                				undefined :
                				/* jshint eqeqeq: false */
                				// Temporarily disable this handler to check existence
                				(jQuery.expr.attrHandle[ name ] = undefined) !=
                					getter( elem, name, isXML ) ?
                
                					name.toLowerCase() :
                					null;
                
                		// Restore handler
                		jQuery.expr.attrHandle[ name ] = fn;
                
                		return ret;
                	};
                });
                
                // Support: IE9+
                // Selectedness for an option in an optgroup can be inaccurate
                if ( !jQuery.support.optSelected ) {
                	jQuery.propHooks.selected = {
                		get: function( elem ) {
                			var parent = elem.parentNode;
                			if ( parent && parent.parentNode ) {
                				parent.parentNode.selectedIndex;
                			}
                			return null;
                		}
                	};
                }
                
                jQuery.each([
                	"tabIndex",
                	"readOnly",
                	"maxLength",
                	"cellSpacing",
                	"cellPadding",
                	"rowSpan",
                	"colSpan",
                	"useMap",
                	"frameBorder",
                	"contentEditable"
                ], function() {
                	jQuery.propFix[ this.toLowerCase() ] = this;
                });
                
                // Radios and checkboxes getter/setter
                jQuery.each([ "radio", "checkbox" ], function() {
                	jQuery.valHooks[ this ] = {
                		set: function( elem, value ) {
                			if ( jQuery.isArray( value ) ) {
                				return ( elem.checked = jQuery.inArray( jQuery(elem).val(), value ) >= 0 );
                			}
                		}
                	};
                	if ( !jQuery.support.checkOn ) {
                		jQuery.valHooks[ this ].get = function( elem ) {
                			// Support: Webkit
                			// "" is returned instead of "on" if a value isn't specified
                			return elem.getAttribute("value") === null ? "on" : elem.value;
                		};
                	}
                });
                var rkeyEvent = /^key/,
                	rmouseEvent = /^(?:mouse|contextmenu)|click/,
                	rfocusMorph = /^(?:focusinfocus|focusoutblur)$/,
                	rtypenamespace = /^([^.]*)(?:\.(.+)|)$/;
                
                function returnTrue() {
                	return true;
                }
                
                function returnFalse() {
                	return false;
                }
                
                function safeActiveElement() {
                	try {
                		return document.activeElement;
                	} catch ( err ) { }
                }
                
                /*
                 * Helper functions for managing events -- not part of the public interface.
                 * Props to Dean Edwards' addEvent library for many of the ideas.
                 */
                jQuery.event = {
                
                	global: {},
                
                	add: function( elem, types, handler, data, selector ) {
                
                		var handleObjIn, eventHandle, tmp,
                			events, t, handleObj,
                			special, handlers, type, namespaces, origType,
                			elemData = data_priv.get( elem );
                
                		// Don't attach events to noData or text/comment nodes (but allow plain objects)
                		if ( !elemData ) {
                			return;
                		}
                
                		// Caller can pass in an object of custom data in lieu of the handler
                		if ( handler.handler ) {
                			handleObjIn = handler;
                			handler = handleObjIn.handler;
                			selector = handleObjIn.selector;
                		}
                
                		// Make sure that the handler has a unique ID, used to find/remove it later
                		if ( !handler.guid ) {
                			handler.guid = jQuery.guid++;
                		}
                
                		// Init the element's event structure and main handler, if this is the first
                		if ( !(events = elemData.events) ) {
                			events = elemData.events = {};
                		}
                		if ( !(eventHandle = elemData.handle) ) {
                			eventHandle = elemData.handle = function( e ) {
                				// Discard the second event of a jQuery.event.trigger() and
                				// when an event is called after a page has unloaded
                				return typeof jQuery !== core_strundefined && (!e || jQuery.event.triggered !== e.type) ?
                					jQuery.event.dispatch.apply( eventHandle.elem, arguments ) :
                					undefined;
                			};
                			// Add elem as a property of the handle fn to prevent a memory leak with IE non-native events
                			eventHandle.elem = elem;
                		}
                
                		// Handle multiple events separated by a space
                		types = ( types || "" ).match( core_rnotwhite ) || [""];
                		t = types.length;
                		while ( t-- ) {
                			tmp = rtypenamespace.exec( types[t] ) || [];
                			type = origType = tmp[1];
                			namespaces = ( tmp[2] || "" ).split( "." ).sort();
                
                			// There *must* be a type, no attaching namespace-only handlers
                			if ( !type ) {
                				continue;
                			}
                
                			// If event changes its type, use the special event handlers for the changed type
                			special = jQuery.event.special[ type ] || {};
                
                			// If selector defined, determine special event api type, otherwise given type
                			type = ( selector ? special.delegateType : special.bindType ) || type;
                
                			// Update special based on newly reset type
                			special = jQuery.event.special[ type ] || {};
                
                			// handleObj is passed to all event handlers
                			handleObj = jQuery.extend({
                				type: type,
                				origType: origType,
                				data: data,
                				handler: handler,
                				guid: handler.guid,
                				selector: selector,
                				needsContext: selector && jQuery.expr.match.needsContext.test( selector ),
                				namespace: namespaces.join(".")
                			}, handleObjIn );
                
                			// Init the event handler queue if we're the first
                			if ( !(handlers = events[ type ]) ) {
                				handlers = events[ type ] = [];
                				handlers.delegateCount = 0;
                
                				// Only use addEventListener if the special events handler returns false
                				if ( !special.setup || special.setup.call( elem, data, namespaces, eventHandle ) === false ) {
                					if ( elem.addEventListener ) {
                						elem.addEventListener( type, eventHandle, false );
                					}
                				}
                			}
                
                			if ( special.add ) {
                				special.add.call( elem, handleObj );
                
                				if ( !handleObj.handler.guid ) {
                					handleObj.handler.guid = handler.guid;
                				}
                			}
                
                			// Add to the element's handler list, delegates in front
                			if ( selector ) {
                				handlers.splice( handlers.delegateCount++, 0, handleObj );
                			} else {
                				handlers.push( handleObj );
                			}
                
                			// Keep track of which events have ever been used, for event optimization
                			jQuery.event.global[ type ] = true;
                		}
                
                		// Nullify elem to prevent memory leaks in IE
                		elem = null;
                	},
                
                	// Detach an event or set of events from an element
                	remove: function( elem, types, handler, selector, mappedTypes ) {
                
                		var j, origCount, tmp,
                			events, t, handleObj,
                			special, handlers, type, namespaces, origType,
                			elemData = data_priv.hasData( elem ) && data_priv.get( elem );
                
                		if ( !elemData || !(events = elemData.events) ) {
                			return;
                		}
                
                		// Once for each type.namespace in types; type may be omitted
                		types = ( types || "" ).match( core_rnotwhite ) || [""];
                		t = types.length;
                		while ( t-- ) {
                			tmp = rtypenamespace.exec( types[t] ) || [];
                			type = origType = tmp[1];
                			namespaces = ( tmp[2] || "" ).split( "." ).sort();
                
                			// Unbind all events (on this namespace, if provided) for the element
                			if ( !type ) {
                				for ( type in events ) {
                					jQuery.event.remove( elem, type + types[ t ], handler, selector, true );
                				}
                				continue;
                			}
                
                			special = jQuery.event.special[ type ] || {};
                			type = ( selector ? special.delegateType : special.bindType ) || type;
                			handlers = events[ type ] || [];
                			tmp = tmp[2] && new RegExp( "(^|\\.)" + namespaces.join("\\.(?:.*\\.|)") + "(\\.|$)" );
                
                			// Remove matching events
                			origCount = j = handlers.length;
                			while ( j-- ) {
                				handleObj = handlers[ j ];
                
                				if ( ( mappedTypes || origType === handleObj.origType ) &&
                					( !handler || handler.guid === handleObj.guid ) &&
                					( !tmp || tmp.test( handleObj.namespace ) ) &&
                					( !selector || selector === handleObj.selector || selector === "**" && handleObj.selector ) ) {
                					handlers.splice( j, 1 );
                
                					if ( handleObj.selector ) {
                						handlers.delegateCount--;
                					}
                					if ( special.remove ) {
                						special.remove.call( elem, handleObj );
                					}
                				}
                			}
                
                			// Remove generic event handler if we removed something and no more handlers exist
                			// (avoids potential for endless recursion during removal of special event handlers)
                			if ( origCount && !handlers.length ) {
                				if ( !special.teardown || special.teardown.call( elem, namespaces, elemData.handle ) === false ) {
                					jQuery.removeEvent( elem, type, elemData.handle );
                				}
                
                				delete events[ type ];
                			}
                		}
                
                		// Remove the expando if it's no longer used
                		if ( jQuery.isEmptyObject( events ) ) {
                			delete elemData.handle;
                			data_priv.remove( elem, "events" );
                		}
                	},
                
                	trigger: function( event, data, elem, onlyHandlers ) {
                
                		var i, cur, tmp, bubbleType, ontype, handle, special,
                			eventPath = [ elem || document ],
                			type = core_hasOwn.call( event, "type" ) ? event.type : event,
                			namespaces = core_hasOwn.call( event, "namespace" ) ? event.namespace.split(".") : [];
                
                		cur = tmp = elem = elem || document;
                
                		// Don't do events on text and comment nodes
                		if ( elem.nodeType === 3 || elem.nodeType === 8 ) {
                			return;
                		}
                
                		// focus/blur morphs to focusin/out; ensure we're not firing them right now
                		if ( rfocusMorph.test( type + jQuery.event.triggered ) ) {
                			return;
                		}
                
                		if ( type.indexOf(".") >= 0 ) {
                			// Namespaced trigger; create a regexp to match event type in handle()
                			namespaces = type.split(".");
                			type = namespaces.shift();
                			namespaces.sort();
                		}
                		ontype = type.indexOf(":") < 0 && "on" + type;
                
                		// Caller can pass in a jQuery.Event object, Object, or just an event type string
                		event = event[ jQuery.expando ] ?
                			event :
                			new jQuery.Event( type, typeof event === "object" && event );
                
                		// Trigger bitmask: & 1 for native handlers; & 2 for jQuery (always true)
                		event.isTrigger = onlyHandlers ? 2 : 3;
                		event.namespace = namespaces.join(".");
                		event.namespace_re = event.namespace ?
                			new RegExp( "(^|\\.)" + namespaces.join("\\.(?:.*\\.|)") + "(\\.|$)" ) :
                			null;
                
                		// Clean up the event in case it is being reused
                		event.result = undefined;
                		if ( !event.target ) {
                			event.target = elem;
                		}
                
                		// Clone any incoming data and prepend the event, creating the handler arg list
                		data = data == null ?
                			[ event ] :
                			jQuery.makeArray( data, [ event ] );
                
                		// Allow special events to draw outside the lines
                		special = jQuery.event.special[ type ] || {};
                		if ( !onlyHandlers && special.trigger && special.trigger.apply( elem, data ) === false ) {
                			return;
                		}
                
                		// Determine event propagation path in advance, per W3C events spec (#9951)
                		// Bubble up to document, then to window; watch for a global ownerDocument var (#9724)
                		if ( !onlyHandlers && !special.noBubble && !jQuery.isWindow( elem ) ) {
                
                			bubbleType = special.delegateType || type;
                			if ( !rfocusMorph.test( bubbleType + type ) ) {
                				cur = cur.parentNode;
                			}
                			for ( ; cur; cur = cur.parentNode ) {
                				eventPath.push( cur );
                				tmp = cur;
                			}
                
                			// Only add window if we got to document (e.g., not plain obj or detached DOM)
                			if ( tmp === (elem.ownerDocument || document) ) {
                				eventPath.push( tmp.defaultView || tmp.parentWindow || window );
                			}
                		}
                
                		// Fire handlers on the event path
                		i = 0;
                		while ( (cur = eventPath[i++]) && !event.isPropagationStopped() ) {
                
                			event.type = i > 1 ?
                				bubbleType :
                				special.bindType || type;
                
                			// jQuery handler
                			handle = ( data_priv.get( cur, "events" ) || {} )[ event.type ] && data_priv.get( cur, "handle" );
                			if ( handle ) {
                				handle.apply( cur, data );
                			}
                
                			// Native handler
                			handle = ontype && cur[ ontype ];
                			if ( handle && jQuery.acceptData( cur ) && handle.apply && handle.apply( cur, data ) === false ) {
                				event.preventDefault();
                			}
                		}
                		event.type = type;
                
                		// If nobody prevented the default action, do it now
                		if ( !onlyHandlers && !event.isDefaultPrevented() ) {
                
                			if ( (!special._default || special._default.apply( eventPath.pop(), data ) === false) &&
                				jQuery.acceptData( elem ) ) {
                
                				// Call a native DOM method on the target with the same name name as the event.
                				// Don't do default actions on window, that's where global variables be (#6170)
                				if ( ontype && jQuery.isFunction( elem[ type ] ) && !jQuery.isWindow( elem ) ) {
                
                					// Don't re-trigger an onFOO event when we call its FOO() method
                					tmp = elem[ ontype ];
                
                					if ( tmp ) {
                						elem[ ontype ] = null;
                					}
                
                					// Prevent re-triggering of the same event, since we already bubbled it above
                					jQuery.event.triggered = type;
                					elem[ type ]();
                					jQuery.event.triggered = undefined;
                
                					if ( tmp ) {
                						elem[ ontype ] = tmp;
                					}
                				}
                			}
                		}
                
                		return event.result;
                	},
                
                	dispatch: function( event ) {
                
                		// Make a writable jQuery.Event from the native event object
                		event = jQuery.event.fix( event );
                
                		var i, j, ret, matched, handleObj,
                			handlerQueue = [],
                			args = core_slice.call( arguments ),
                			handlers = ( data_priv.get( this, "events" ) || {} )[ event.type ] || [],
                			special = jQuery.event.special[ event.type ] || {};
                
                		// Use the fix-ed jQuery.Event rather than the (read-only) native event
                		args[0] = event;
                		event.delegateTarget = this;
                
                		// Call the preDispatch hook for the mapped type, and let it bail if desired
                		if ( special.preDispatch && special.preDispatch.call( this, event ) === false ) {
                			return;
                		}
                
                		// Determine handlers
                		handlerQueue = jQuery.event.handlers.call( this, event, handlers );
                
                		// Run delegates first; they may want to stop propagation beneath us
                		i = 0;
                		while ( (matched = handlerQueue[ i++ ]) && !event.isPropagationStopped() ) {
                			event.currentTarget = matched.elem;
                
                			j = 0;
                			while ( (handleObj = matched.handlers[ j++ ]) && !event.isImmediatePropagationStopped() ) {
                
                				// Triggered event must either 1) have no namespace, or
                				// 2) have namespace(s) a subset or equal to those in the bound event (both can have no namespace).
                				if ( !event.namespace_re || event.namespace_re.test( handleObj.namespace ) ) {
                
                					event.handleObj = handleObj;
                					event.data = handleObj.data;
                
                					ret = ( (jQuery.event.special[ handleObj.origType ] || {}).handle || handleObj.handler )
                							.apply( matched.elem, args );
                
                					if ( ret !== undefined ) {
                						if ( (event.result = ret) === false ) {
                							event.preventDefault();
                							event.stopPropagation();
                						}
                					}
                				}
                			}
                		}
                
                		// Call the postDispatch hook for the mapped type
                		if ( special.postDispatch ) {
                			special.postDispatch.call( this, event );
                		}
                
                		return event.result;
                	},
                
                	handlers: function( event, handlers ) {
                		var i, matches, sel, handleObj,
                			handlerQueue = [],
                			delegateCount = handlers.delegateCount,
                			cur = event.target;
                
                		// Find delegate handlers
                		// Black-hole SVG <use> instance trees (#13180)
                		// Avoid non-left-click bubbling in Firefox (#3861)
                		if ( delegateCount && cur.nodeType && (!event.button || event.type !== "click") ) {
                
                			for ( ; cur !== this; cur = cur.parentNode || this ) {
                
                				// Don't process clicks on disabled elements (#6911, #8165, #11382, #11764)
                				if ( cur.disabled !== true || event.type !== "click" ) {
                					matches = [];
                					for ( i = 0; i < delegateCount; i++ ) {
                						handleObj = handlers[ i ];
                
                						// Don't conflict with Object.prototype properties (#13203)
                						sel = handleObj.selector + " ";
                
                						if ( matches[ sel ] === undefined ) {
                							matches[ sel ] = handleObj.needsContext ?
                								jQuery( sel, this ).index( cur ) >= 0 :
                								jQuery.find( sel, this, null, [ cur ] ).length;
                						}
                						if ( matches[ sel ] ) {
                							matches.push( handleObj );
                						}
                					}
                					if ( matches.length ) {
                						handlerQueue.push({ elem: cur, handlers: matches });
                					}
                				}
                			}
                		}
                
                		// Add the remaining (directly-bound) handlers
                		if ( delegateCount < handlers.length ) {
                			handlerQueue.push({ elem: this, handlers: handlers.slice( delegateCount ) });
                		}
                
                		return handlerQueue;
                	},
                
                	// Includes some event props shared by KeyEvent and MouseEvent
                	props: "altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),
                
                	fixHooks: {},
                
                	keyHooks: {
                		props: "char charCode key keyCode".split(" "),
                		filter: function( event, original ) {
                
                			// Add which for key events
                			if ( event.which == null ) {
                				event.which = original.charCode != null ? original.charCode : original.keyCode;
                			}
                
                			return event;
                		}
                	},
                
                	mouseHooks: {
                		props: "button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),
                		filter: function( event, original ) {
                			var eventDoc, doc, body,
                				button = original.button;
                
                			// Calculate pageX/Y if missing and clientX/Y available
                			if ( event.pageX == null && original.clientX != null ) {
                				eventDoc = event.target.ownerDocument || document;
                				doc = eventDoc.documentElement;
                				body = eventDoc.body;
                
                				event.pageX = original.clientX + ( doc && doc.scrollLeft || body && body.scrollLeft || 0 ) - ( doc && doc.clientLeft || body && body.clientLeft || 0 );
                				event.pageY = original.clientY + ( doc && doc.scrollTop  || body && body.scrollTop  || 0 ) - ( doc && doc.clientTop  || body && body.clientTop  || 0 );
                			}
                
                			// Add which for click: 1 === left; 2 === middle; 3 === right
                			// Note: button is not normalized, so don't use it
                			if ( !event.which && button !== undefined ) {
                				event.which = ( button & 1 ? 1 : ( button & 2 ? 3 : ( button & 4 ? 2 : 0 ) ) );
                			}
                
                			return event;
                		}
                	},
                
                	fix: function( event ) {
                		if ( event[ jQuery.expando ] ) {
                			return event;
                		}
                
                		// Create a writable copy of the event object and normalize some properties
                		var i, prop, copy,
                			type = event.type,
                			originalEvent = event,
                			fixHook = this.fixHooks[ type ];
                
                		if ( !fixHook ) {
                			this.fixHooks[ type ] = fixHook =
                				rmouseEvent.test( type ) ? this.mouseHooks :
                				rkeyEvent.test( type ) ? this.keyHooks :
                				{};
                		}
                		copy = fixHook.props ? this.props.concat( fixHook.props ) : this.props;
                
                		event = new jQuery.Event( originalEvent );
                
                		i = copy.length;
                		while ( i-- ) {
                			prop = copy[ i ];
                			event[ prop ] = originalEvent[ prop ];
                		}
                
                		// Support: Cordova 2.5 (WebKit) (#13255)
                		// All events should have a target; Cordova deviceready doesn't
                		if ( !event.target ) {
                			event.target = document;
                		}
                
                		// Support: Safari 6.0+, Chrome < 28
                		// Target should not be a text node (#504, #13143)
                		if ( event.target.nodeType === 3 ) {
                			event.target = event.target.parentNode;
                		}
                
                		return fixHook.filter? fixHook.filter( event, originalEvent ) : event;
                	},
                
                	special: {
                		load: {
                			// Prevent triggered image.load events from bubbling to window.load
                			noBubble: true
                		},
                		focus: {
                			// Fire native event if possible so blur/focus sequence is correct
                			trigger: function() {
                				if ( this !== safeActiveElement() && this.focus ) {
                					this.focus();
                					return false;
                				}
                			},
                			delegateType: "focusin"
                		},
                		blur: {
                			trigger: function() {
                				if ( this === safeActiveElement() && this.blur ) {
                					this.blur();
                					return false;
                				}
                			},
                			delegateType: "focusout"
                		},
                		click: {
                			// For checkbox, fire native event so checked state will be right
                			trigger: function() {
                				if ( this.type === "checkbox" && this.click && jQuery.nodeName( this, "input" ) ) {
                					this.click();
                					return false;
                				}
                			},
                
                			// For cross-browser consistency, don't fire native .click() on links
                			_default: function( event ) {
                				return jQuery.nodeName( event.target, "a" );
                			}
                		},
                
                		beforeunload: {
                			postDispatch: function( event ) {
                
                				// Support: Firefox 20+
                				// Firefox doesn't alert if the returnValue field is not set.
                				if ( event.result !== undefined ) {
                					event.originalEvent.returnValue = event.result;
                				}
                			}
                		}
                	},
                
                	simulate: function( type, elem, event, bubble ) {
                		// Piggyback on a donor event to simulate a different one.
                		// Fake originalEvent to avoid donor's stopPropagation, but if the
                		// simulated event prevents default then we do the same on the donor.
                		var e = jQuery.extend(
                			new jQuery.Event(),
                			event,
                			{
                				type: type,
                				isSimulated: true,
                				originalEvent: {}
                			}
                		);
                		if ( bubble ) {
                			jQuery.event.trigger( e, null, elem );
                		} else {
                			jQuery.event.dispatch.call( elem, e );
                		}
                		if ( e.isDefaultPrevented() ) {
                			event.preventDefault();
                		}
                	}
                };
                
                jQuery.removeEvent = function( elem, type, handle ) {
                	if ( elem.removeEventListener ) {
                		elem.removeEventListener( type, handle, false );
                	}
                };
                
                jQuery.Event = function( src, props ) {
                	// Allow instantiation without the 'new' keyword
                	if ( !(this instanceof jQuery.Event) ) {
                		return new jQuery.Event( src, props );
                	}
                
                	// Event object
                	if ( src && src.type ) {
                		this.originalEvent = src;
                		this.type = src.type;
                
                		// Events bubbling up the document may have been marked as prevented
                		// by a handler lower down the tree; reflect the correct value.
                		this.isDefaultPrevented = ( src.defaultPrevented ||
                			src.getPreventDefault && src.getPreventDefault() ) ? returnTrue : returnFalse;
                
                	// Event type
                	} else {
                		this.type = src;
                	}
                
                	// Put explicitly provided properties onto the event object
                	if ( props ) {
                		jQuery.extend( this, props );
                	}
                
                	// Create a timestamp if incoming event doesn't have one
                	this.timeStamp = src && src.timeStamp || jQuery.now();
                
                	// Mark it as fixed
                	this[ jQuery.expando ] = true;
                };
                
                // jQuery.Event is based on DOM3 Events as specified by the ECMAScript Language Binding
                // http://www.w3.org/TR/2003/WD-DOM-Level-3-Events-20030331/ecma-script-binding.html
                jQuery.Event.prototype = {
                	isDefaultPrevented: returnFalse,
                	isPropagationStopped: returnFalse,
                	isImmediatePropagationStopped: returnFalse,
                
                	preventDefault: function() {
                		var e = this.originalEvent;
                
                		this.isDefaultPrevented = returnTrue;
                
                		if ( e && e.preventDefault ) {
                			e.preventDefault();
                		}
                	},
                	stopPropagation: function() {
                		var e = this.originalEvent;
                
                		this.isPropagationStopped = returnTrue;
                
                		if ( e && e.stopPropagation ) {
                			e.stopPropagation();
                		}
                	},
                	stopImmediatePropagation: function() {
                		this.isImmediatePropagationStopped = returnTrue;
                		this.stopPropagation();
                	}
                };
                
                // Create mouseenter/leave events using mouseover/out and event-time checks
                // Support: Chrome 15+
                jQuery.each({
                	mouseenter: "mouseover",
                	mouseleave: "mouseout"
                }, function( orig, fix ) {
                	jQuery.event.special[ orig ] = {
                		delegateType: fix,
                		bindType: fix,
                
                		handle: function( event ) {
                			var ret,
                				target = this,
                				related = event.relatedTarget,
                				handleObj = event.handleObj;
                
                			// For mousenter/leave call the handler if related is outside the target.
                			// NB: No relatedTarget if the mouse left/entered the browser window
                			if ( !related || (related !== target && !jQuery.contains( target, related )) ) {
                				event.type = handleObj.origType;
                				ret = handleObj.handler.apply( this, arguments );
                				event.type = fix;
                			}
                			return ret;
                		}
                	};
                });
                
                // Create "bubbling" focus and blur events
                // Support: Firefox, Chrome, Safari
                if ( !jQuery.support.focusinBubbles ) {
                	jQuery.each({ focus: "focusin", blur: "focusout" }, function( orig, fix ) {
                
                		// Attach a single capturing handler while someone wants focusin/focusout
                		var attaches = 0,
                			handler = function( event ) {
                				jQuery.event.simulate( fix, event.target, jQuery.event.fix( event ), true );
                			};
                
                		jQuery.event.special[ fix ] = {
                			setup: function() {
                				if ( attaches++ === 0 ) {
                					document.addEventListener( orig, handler, true );
                				}
                			},
                			teardown: function() {
                				if ( --attaches === 0 ) {
                					document.removeEventListener( orig, handler, true );
                				}
                			}
                		};
                	});
                }
                
                jQuery.fn.extend({
                
                	on: function( types, selector, data, fn, /*INTERNAL*/ one ) {
                		var origFn, type;
                
                		// Types can be a map of types/handlers
                		if ( typeof types === "object" ) {
                			// ( types-Object, selector, data )
                			if ( typeof selector !== "string" ) {
                				// ( types-Object, data )
                				data = data || selector;
                				selector = undefined;
                			}
                			for ( type in types ) {
                				this.on( type, selector, data, types[ type ], one );
                			}
                			return this;
                		}
                
                		if ( data == null && fn == null ) {
                			// ( types, fn )
                			fn = selector;
                			data = selector = undefined;
                		} else if ( fn == null ) {
                			if ( typeof selector === "string" ) {
                				// ( types, selector, fn )
                				fn = data;
                				data = undefined;
                			} else {
                				// ( types, data, fn )
                				fn = data;
                				data = selector;
                				selector = undefined;
                			}
                		}
                		if ( fn === false ) {
                			fn = returnFalse;
                		} else if ( !fn ) {
                			return this;
                		}
                
                		if ( one === 1 ) {
                			origFn = fn;
                			fn = function( event ) {
                				// Can use an empty set, since event contains the info
                				jQuery().off( event );
                				return origFn.apply( this, arguments );
                			};
                			// Use same guid so caller can remove using origFn
                			fn.guid = origFn.guid || ( origFn.guid = jQuery.guid++ );
                		}
                		return this.each( function() {
                			jQuery.event.add( this, types, fn, data, selector );
                		});
                	},
                	one: function( types, selector, data, fn ) {
                		return this.on( types, selector, data, fn, 1 );
                	},
                	off: function( types, selector, fn ) {
                		var handleObj, type;
                		if ( types && types.preventDefault && types.handleObj ) {
                			// ( event )  dispatched jQuery.Event
                			handleObj = types.handleObj;
                			jQuery( types.delegateTarget ).off(
                				handleObj.namespace ? handleObj.origType + "." + handleObj.namespace : handleObj.origType,
                				handleObj.selector,
                				handleObj.handler
                			);
                			return this;
                		}
                		if ( typeof types === "object" ) {
                			// ( types-object [, selector] )
                			for ( type in types ) {
                				this.off( type, selector, types[ type ] );
                			}
                			return this;
                		}
                		if ( selector === false || typeof selector === "function" ) {
                			// ( types [, fn] )
                			fn = selector;
                			selector = undefined;
                		}
                		if ( fn === false ) {
                			fn = returnFalse;
                		}
                		return this.each(function() {
                			jQuery.event.remove( this, types, fn, selector );
                		});
                	},
                
                	trigger: function( type, data ) {
                		return this.each(function() {
                			jQuery.event.trigger( type, data, this );
                		});
                	},
                	triggerHandler: function( type, data ) {
                		var elem = this[0];
                		if ( elem ) {
                			return jQuery.event.trigger( type, data, elem, true );
                		}
                	}
                });
                var isSimple = /^.[^:#\[\.,]*$/,
                	rparentsprev = /^(?:parents|prev(?:Until|All))/,
                	rneedsContext = jQuery.expr.match.needsContext,
                	// methods guaranteed to produce a unique set when starting from a unique set
                	guaranteedUnique = {
                		children: true,
                		contents: true,
                		next: true,
                		prev: true
                	};
                
                jQuery.fn.extend({
                	find: function( selector ) {
                		var i,
                			ret = [],
                			self = this,
                			len = self.length;
                
                		if ( typeof selector !== "string" ) {
                			return this.pushStack( jQuery( selector ).filter(function() {
                				for ( i = 0; i < len; i++ ) {
                					if ( jQuery.contains( self[ i ], this ) ) {
                						return true;
                					}
                				}
                			}) );
                		}
                
                		for ( i = 0; i < len; i++ ) {
                			jQuery.find( selector, self[ i ], ret );
                		}
                
                		// Needed because $( selector, context ) becomes $( context ).find( selector )
                		ret = this.pushStack( len > 1 ? jQuery.unique( ret ) : ret );
                		ret.selector = this.selector ? this.selector + " " + selector : selector;
                		return ret;
                	},
                
                	has: function( target ) {
                		var targets = jQuery( target, this ),
                			l = targets.length;
                
                		return this.filter(function() {
                			var i = 0;
                			for ( ; i < l; i++ ) {
                				if ( jQuery.contains( this, targets[i] ) ) {
                					return true;
                				}
                			}
                		});
                	},
                
                	not: function( selector ) {
                		return this.pushStack( winnow(this, selector || [], true) );
                	},
                
                	filter: function( selector ) {
                		return this.pushStack( winnow(this, selector || [], false) );
                	},
                
                	is: function( selector ) {
                		return !!winnow(
                			this,
                
                			// If this is a positional/relative selector, check membership in the returned set
                			// so $("p:first").is("p:last") won't return true for a doc with two "p".
                			typeof selector === "string" && rneedsContext.test( selector ) ?
                				jQuery( selector ) :
                				selector || [],
                			false
                		).length;
                	},
                
                	closest: function( selectors, context ) {
                		var cur,
                			i = 0,
                			l = this.length,
                			matched = [],
                			pos = ( rneedsContext.test( selectors ) || typeof selectors !== "string" ) ?
                				jQuery( selectors, context || this.context ) :
                				0;
                
                		for ( ; i < l; i++ ) {
                			for ( cur = this[i]; cur && cur !== context; cur = cur.parentNode ) {
                				// Always skip document fragments
                				if ( cur.nodeType < 11 && (pos ?
                					pos.index(cur) > -1 :
                
                					// Don't pass non-elements to Sizzle
                					cur.nodeType === 1 &&
                						jQuery.find.matchesSelector(cur, selectors)) ) {
                
                					cur = matched.push( cur );
                					break;
                				}
                			}
                		}
                
                		return this.pushStack( matched.length > 1 ? jQuery.unique( matched ) : matched );
                	},
                
                	// Determine the position of an element within
                	// the matched set of elements
                	index: function( elem ) {
                
                		// No argument, return index in parent
                		if ( !elem ) {
                			return ( this[ 0 ] && this[ 0 ].parentNode ) ? this.first().prevAll().length : -1;
                		}
                
                		// index in selector
                		if ( typeof elem === "string" ) {
                			return core_indexOf.call( jQuery( elem ), this[ 0 ] );
                		}
                
                		// Locate the position of the desired element
                		return core_indexOf.call( this,
                
                			// If it receives a jQuery object, the first element is used
                			elem.jquery ? elem[ 0 ] : elem
                		);
                	},
                
                	add: function( selector, context ) {
                		var set = typeof selector === "string" ?
                				jQuery( selector, context ) :
                				jQuery.makeArray( selector && selector.nodeType ? [ selector ] : selector ),
                			all = jQuery.merge( this.get(), set );
                
                		return this.pushStack( jQuery.unique(all) );
                	},
                
                	addBack: function( selector ) {
                		return this.add( selector == null ?
                			this.prevObject : this.prevObject.filter(selector)
                		);
                	}
                });
                
                function sibling( cur, dir ) {
                	while ( (cur = cur[dir]) && cur.nodeType !== 1 ) {}
                
                	return cur;
                }
                
                jQuery.each({
                	parent: function( elem ) {
                		var parent = elem.parentNode;
                		return parent && parent.nodeType !== 11 ? parent : null;
                	},
                	parents: function( elem ) {
                		return jQuery.dir( elem, "parentNode" );
                	},
                	parentsUntil: function( elem, i, until ) {
                		return jQuery.dir( elem, "parentNode", until );
                	},
                	next: function( elem ) {
                		return sibling( elem, "nextSibling" );
                	},
                	prev: function( elem ) {
                		return sibling( elem, "previousSibling" );
                	},
                	nextAll: function( elem ) {
                		return jQuery.dir( elem, "nextSibling" );
                	},
                	prevAll: function( elem ) {
                		return jQuery.dir( elem, "previousSibling" );
                	},
                	nextUntil: function( elem, i, until ) {
                		return jQuery.dir( elem, "nextSibling", until );
                	},
                	prevUntil: function( elem, i, until ) {
                		return jQuery.dir( elem, "previousSibling", until );
                	},
                	siblings: function( elem ) {
                		return jQuery.sibling( ( elem.parentNode || {} ).firstChild, elem );
                	},
                	children: function( elem ) {
                		return jQuery.sibling( elem.firstChild );
                	},
                	contents: function( elem ) {
                		return elem.contentDocument || jQuery.merge( [], elem.childNodes );
                	}
                }, function( name, fn ) {
                	jQuery.fn[ name ] = function( until, selector ) {
                		var matched = jQuery.map( this, fn, until );
                
                		if ( name.slice( -5 ) !== "Until" ) {
                			selector = until;
                		}
                
                		if ( selector && typeof selector === "string" ) {
                			matched = jQuery.filter( selector, matched );
                		}
                
                		if ( this.length > 1 ) {
                			// Remove duplicates
                			if ( !guaranteedUnique[ name ] ) {
                				jQuery.unique( matched );
                			}
                
                			// Reverse order for parents* and prev-derivatives
                			if ( rparentsprev.test( name ) ) {
                				matched.reverse();
                			}
                		}
                
                		return this.pushStack( matched );
                	};
                });
                
                jQuery.extend({
                	filter: function( expr, elems, not ) {
                		var elem = elems[ 0 ];
                
                		if ( not ) {
                			expr = ":not(" + expr + ")";
                		}
                
                		return elems.length === 1 && elem.nodeType === 1 ?
                			jQuery.find.matchesSelector( elem, expr ) ? [ elem ] : [] :
                			jQuery.find.matches( expr, jQuery.grep( elems, function( elem ) {
                				return elem.nodeType === 1;
                			}));
                	},
                
                	dir: function( elem, dir, until ) {
                		var matched = [],
                			truncate = until !== undefined;
                
                		while ( (elem = elem[ dir ]) && elem.nodeType !== 9 ) {
                			if ( elem.nodeType === 1 ) {
                				if ( truncate && jQuery( elem ).is( until ) ) {
                					break;
                				}
                				matched.push( elem );
                			}
                		}
                		return matched;
                	},
                
                	sibling: function( n, elem ) {
                		var matched = [];
                
                		for ( ; n; n = n.nextSibling ) {
                			if ( n.nodeType === 1 && n !== elem ) {
                				matched.push( n );
                			}
                		}
                
                		return matched;
                	}
                });
                
                // Implement the identical functionality for filter and not
                function winnow( elements, qualifier, not ) {
                	if ( jQuery.isFunction( qualifier ) ) {
                		return jQuery.grep( elements, function( elem, i ) {
                			/* jshint -W018 */
                			return !!qualifier.call( elem, i, elem ) !== not;
                		});
                
                	}
                
                	if ( qualifier.nodeType ) {
                		return jQuery.grep( elements, function( elem ) {
                			return ( elem === qualifier ) !== not;
                		});
                
                	}
                
                	if ( typeof qualifier === "string" ) {
                		if ( isSimple.test( qualifier ) ) {
                			return jQuery.filter( qualifier, elements, not );
                		}
                
                		qualifier = jQuery.filter( qualifier, elements );
                	}
                
                	return jQuery.grep( elements, function( elem ) {
                		return ( core_indexOf.call( qualifier, elem ) >= 0 ) !== not;
                	});
                }
                var rxhtmlTag = /<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,
                	rtagName = /<([\w:]+)/,
                	rhtml = /<|&#?\w+;/,
                	rnoInnerhtml = /<(?:script|style|link)/i,
                	manipulation_rcheckableType = /^(?:checkbox|radio)$/i,
                	// checked="checked" or checked
                	rchecked = /checked\s*(?:[^=]|=\s*.checked.)/i,
                	rscriptType = /^$|\/(?:java|ecma)script/i,
                	rscriptTypeMasked = /^true\/(.*)/,
                	rcleanScript = /^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,
                
                	// We have to close these tags to support XHTML (#13200)
                	wrapMap = {
                
                		// Support: IE 9
                		option: [ 1, "<select multiple='multiple'>", "</select>" ],
                
                		thead: [ 1, "<table>", "</table>" ],
                		col: [ 2, "<table><colgroup>", "</colgroup></table>" ],
                		tr: [ 2, "<table><tbody>", "</tbody></table>" ],
                		td: [ 3, "<table><tbody><tr>", "</tr></tbody></table>" ],
                
                		_default: [ 0, "", "" ]
                	};
                
                // Support: IE 9
                wrapMap.optgroup = wrapMap.option;
                
                wrapMap.tbody = wrapMap.tfoot = wrapMap.colgroup = wrapMap.caption = wrapMap.thead;
                wrapMap.th = wrapMap.td;
                
                jQuery.fn.extend({
                	text: function( value ) {
                		return jQuery.access( this, function( value ) {
                			return value === undefined ?
                				jQuery.text( this ) :
                				this.empty().append( ( this[ 0 ] && this[ 0 ].ownerDocument || document ).createTextNode( value ) );
                		}, null, value, arguments.length );
                	},
                
                	append: function() {
                		return this.domManip( arguments, function( elem ) {
                			if ( this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9 ) {
                				var target = manipulationTarget( this, elem );
                				target.appendChild( elem );
                			}
                		});
                	},
                
                	prepend: function() {
                		return this.domManip( arguments, function( elem ) {
                			if ( this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9 ) {
                				var target = manipulationTarget( this, elem );
                				target.insertBefore( elem, target.firstChild );
                			}
                		});
                	},
                
                	before: function() {
                		return this.domManip( arguments, function( elem ) {
                			if ( this.parentNode ) {
                				this.parentNode.insertBefore( elem, this );
                			}
                		});
                	},
                
                	after: function() {
                		return this.domManip( arguments, function( elem ) {
                			if ( this.parentNode ) {
                				this.parentNode.insertBefore( elem, this.nextSibling );
                			}
                		});
                	},
                
                	// keepData is for internal use only--do not document
                	remove: function( selector, keepData ) {
                		var elem,
                			elems = selector ? jQuery.filter( selector, this ) : this,
                			i = 0;
                
                		for ( ; (elem = elems[i]) != null; i++ ) {
                			if ( !keepData && elem.nodeType === 1 ) {
                				jQuery.cleanData( getAll( elem ) );
                			}
                
                			if ( elem.parentNode ) {
                				if ( keepData && jQuery.contains( elem.ownerDocument, elem ) ) {
                					setGlobalEval( getAll( elem, "script" ) );
                				}
                				elem.parentNode.removeChild( elem );
                			}
                		}
                
                		return this;
                	},
                
                	empty: function() {
                		var elem,
                			i = 0;
                
                		for ( ; (elem = this[i]) != null; i++ ) {
                			if ( elem.nodeType === 1 ) {
                
                				// Prevent memory leaks
                				jQuery.cleanData( getAll( elem, false ) );
                
                				// Remove any remaining nodes
                				elem.textContent = "";
                			}
                		}
                
                		return this;
                	},
                
                	clone: function( dataAndEvents, deepDataAndEvents ) {
                		dataAndEvents = dataAndEvents == null ? false : dataAndEvents;
                		deepDataAndEvents = deepDataAndEvents == null ? dataAndEvents : deepDataAndEvents;
                
                		return this.map( function () {
                			return jQuery.clone( this, dataAndEvents, deepDataAndEvents );
                		});
                	},
                
                	html: function( value ) {
                		return jQuery.access( this, function( value ) {
                			var elem = this[ 0 ] || {},
                				i = 0,
                				l = this.length;
                
                			if ( value === undefined && elem.nodeType === 1 ) {
                				return elem.innerHTML;
                			}
                
                			// See if we can take a shortcut and just use innerHTML
                			if ( typeof value === "string" && !rnoInnerhtml.test( value ) &&
                				!wrapMap[ ( rtagName.exec( value ) || [ "", "" ] )[ 1 ].toLowerCase() ] ) {
                
                				value = value.replace( rxhtmlTag, "<$1></$2>" );
                
                				try {
                					for ( ; i < l; i++ ) {
                						elem = this[ i ] || {};
                
                						// Remove element nodes and prevent memory leaks
                						if ( elem.nodeType === 1 ) {
                							jQuery.cleanData( getAll( elem, false ) );
                							elem.innerHTML = value;
                						}
                					}
                
                					elem = 0;
                
                				// If using innerHTML throws an exception, use the fallback method
                				} catch( e ) {}
                			}
                
                			if ( elem ) {
                				this.empty().append( value );
                			}
                		}, null, value, arguments.length );
                	},
                
                	replaceWith: function() {
                		var
                			// Snapshot the DOM in case .domManip sweeps something relevant into its fragment
                			args = jQuery.map( this, function( elem ) {
                				return [ elem.nextSibling, elem.parentNode ];
                			}),
                			i = 0;
                
                		// Make the changes, replacing each context element with the new content
                		this.domManip( arguments, function( elem ) {
                			var next = args[ i++ ],
                				parent = args[ i++ ];
                
                			if ( parent ) {
                				// Don't use the snapshot next if it has moved (#13810)
                				if ( next && next.parentNode !== parent ) {
                					next = this.nextSibling;
                				}
                				jQuery( this ).remove();
                				parent.insertBefore( elem, next );
                			}
                		// Allow new content to include elements from the context set
                		}, true );
                
                		// Force removal if there was no new content (e.g., from empty arguments)
                		return i ? this : this.remove();
                	},
                
                	detach: function( selector ) {
                		return this.remove( selector, true );
                	},
                
                	domManip: function( args, callback, allowIntersection ) {
                
                		// Flatten any nested arrays
                		args = core_concat.apply( [], args );
                
                		var fragment, first, scripts, hasScripts, node, doc,
                			i = 0,
                			l = this.length,
                			set = this,
                			iNoClone = l - 1,
                			value = args[ 0 ],
                			isFunction = jQuery.isFunction( value );
                
                		// We can't cloneNode fragments that contain checked, in WebKit
                		if ( isFunction || !( l <= 1 || typeof value !== "string" || jQuery.support.checkClone || !rchecked.test( value ) ) ) {
                			return this.each(function( index ) {
                				var self = set.eq( index );
                				if ( isFunction ) {
                					args[ 0 ] = value.call( this, index, self.html() );
                				}
                				self.domManip( args, callback, allowIntersection );
                			});
                		}
                
                		if ( l ) {
                			fragment = jQuery.buildFragment( args, this[ 0 ].ownerDocument, false, !allowIntersection && this );
                			first = fragment.firstChild;
                
                			if ( fragment.childNodes.length === 1 ) {
                				fragment = first;
                			}
                
                			if ( first ) {
                				scripts = jQuery.map( getAll( fragment, "script" ), disableScript );
                				hasScripts = scripts.length;
                
                				// Use the original fragment for the last item instead of the first because it can end up
                				// being emptied incorrectly in certain situations (#8070).
                				for ( ; i < l; i++ ) {
                					node = fragment;
                
                					if ( i !== iNoClone ) {
                						node = jQuery.clone( node, true, true );
                
                						// Keep references to cloned scripts for later restoration
                						if ( hasScripts ) {
                							// Support: QtWebKit
                							// jQuery.merge because core_push.apply(_, arraylike) throws
                							jQuery.merge( scripts, getAll( node, "script" ) );
                						}
                					}
                
                					callback.call( this[ i ], node, i );
                				}
                
                				if ( hasScripts ) {
                					doc = scripts[ scripts.length - 1 ].ownerDocument;
                
                					// Reenable scripts
                					jQuery.map( scripts, restoreScript );
                
                					// Evaluate executable scripts on first document insertion
                					for ( i = 0; i < hasScripts; i++ ) {
                						node = scripts[ i ];
                						if ( rscriptType.test( node.type || "" ) &&
                							!data_priv.access( node, "globalEval" ) && jQuery.contains( doc, node ) ) {
                
                							if ( node.src ) {
                								// Hope ajax is available...
                								jQuery._evalUrl( node.src );
                							} else {
                								jQuery.globalEval( node.textContent.replace( rcleanScript, "" ) );
                							}
                						}
                					}
                				}
                			}
                		}
                
                		return this;
                	}
                });
                
                jQuery.each({
                	appendTo: "append",
                	prependTo: "prepend",
                	insertBefore: "before",
                	insertAfter: "after",
                	replaceAll: "replaceWith"
                }, function( name, original ) {
                	jQuery.fn[ name ] = function( selector ) {
                		var elems,
                			ret = [],
                			insert = jQuery( selector ),
                			last = insert.length - 1,
                			i = 0;
                
                		for ( ; i <= last; i++ ) {
                			elems = i === last ? this : this.clone( true );
                			jQuery( insert[ i ] )[ original ]( elems );
                
                			// Support: QtWebKit
                			// .get() because core_push.apply(_, arraylike) throws
                			core_push.apply( ret, elems.get() );
                		}
                
                		return this.pushStack( ret );
                	};
                });
                
                jQuery.extend({
                	clone: function( elem, dataAndEvents, deepDataAndEvents ) {
                		var i, l, srcElements, destElements,
                			clone = elem.cloneNode( true ),
                			inPage = jQuery.contains( elem.ownerDocument, elem );
                
                		// Support: IE >= 9
                		// Fix Cloning issues
                		if ( !jQuery.support.noCloneChecked && ( elem.nodeType === 1 || elem.nodeType === 11 ) && !jQuery.isXMLDoc( elem ) ) {
                
                			// We eschew Sizzle here for performance reasons: http://jsperf.com/getall-vs-sizzle/2
                			destElements = getAll( clone );
                			srcElements = getAll( elem );
                
                			for ( i = 0, l = srcElements.length; i < l; i++ ) {
                				fixInput( srcElements[ i ], destElements[ i ] );
                			}
                		}
                
                		// Copy the events from the original to the clone
                		if ( dataAndEvents ) {
                			if ( deepDataAndEvents ) {
                				srcElements = srcElements || getAll( elem );
                				destElements = destElements || getAll( clone );
                
                				for ( i = 0, l = srcElements.length; i < l; i++ ) {
                					cloneCopyEvent( srcElements[ i ], destElements[ i ] );
                				}
                			} else {
                				cloneCopyEvent( elem, clone );
                			}
                		}
                
                		// Preserve script evaluation history
                		destElements = getAll( clone, "script" );
                		if ( destElements.length > 0 ) {
                			setGlobalEval( destElements, !inPage && getAll( elem, "script" ) );
                		}
                
                		// Return the cloned set
                		return clone;
                	},
                
                	buildFragment: function( elems, context, scripts, selection ) {
                		var elem, tmp, tag, wrap, contains, j,
                			i = 0,
                			l = elems.length,
                			fragment = context.createDocumentFragment(),
                			nodes = [];
                
                		for ( ; i < l; i++ ) {
                			elem = elems[ i ];
                
                			if ( elem || elem === 0 ) {
                
                				// Add nodes directly
                				if ( jQuery.type( elem ) === "object" ) {
                					// Support: QtWebKit
                					// jQuery.merge because core_push.apply(_, arraylike) throws
                					jQuery.merge( nodes, elem.nodeType ? [ elem ] : elem );
                
                				// Convert non-html into a text node
                				} else if ( !rhtml.test( elem ) ) {
                					nodes.push( context.createTextNode( elem ) );
                
                				// Convert html into DOM nodes
                				} else {
                					tmp = tmp || fragment.appendChild( context.createElement("div") );
                
                					// Deserialize a standard representation
                					tag = ( rtagName.exec( elem ) || ["", ""] )[ 1 ].toLowerCase();
                					wrap = wrapMap[ tag ] || wrapMap._default;
                					tmp.innerHTML = wrap[ 1 ] + elem.replace( rxhtmlTag, "<$1></$2>" ) + wrap[ 2 ];
                
                					// Descend through wrappers to the right content
                					j = wrap[ 0 ];
                					while ( j-- ) {
                						tmp = tmp.lastChild;
                					}
                
                					// Support: QtWebKit
                					// jQuery.merge because core_push.apply(_, arraylike) throws
                					jQuery.merge( nodes, tmp.childNodes );
                
                					// Remember the top-level container
                					tmp = fragment.firstChild;
                
                					// Fixes #12346
                					// Support: Webkit, IE
                					tmp.textContent = "";
                				}
                			}
                		}
                
                		// Remove wrapper from fragment
                		fragment.textContent = "";
                
                		i = 0;
                		while ( (elem = nodes[ i++ ]) ) {
                
                			// #4087 - If origin and destination elements are the same, and this is
                			// that element, do not do anything
                			if ( selection && jQuery.inArray( elem, selection ) !== -1 ) {
                				continue;
                			}
                
                			contains = jQuery.contains( elem.ownerDocument, elem );
                
                			// Append to fragment
                			tmp = getAll( fragment.appendChild( elem ), "script" );
                
                			// Preserve script evaluation history
                			if ( contains ) {
                				setGlobalEval( tmp );
                			}
                
                			// Capture executables
                			if ( scripts ) {
                				j = 0;
                				while ( (elem = tmp[ j++ ]) ) {
                					if ( rscriptType.test( elem.type || "" ) ) {
                						scripts.push( elem );
                					}
                				}
                			}
                		}
                
                		return fragment;
                	},
                
                	cleanData: function( elems ) {
                		var data, elem, events, type, key, j,
                			special = jQuery.event.special,
                			i = 0;
                
                		for ( ; (elem = elems[ i ]) !== undefined; i++ ) {
                			if ( Data.accepts( elem ) ) {
                				key = elem[ data_priv.expando ];
                
                				if ( key && (data = data_priv.cache[ key ]) ) {
                					events = Object.keys( data.events || {} );
                					if ( events.length ) {
                						for ( j = 0; (type = events[j]) !== undefined; j++ ) {
                							if ( special[ type ] ) {
                								jQuery.event.remove( elem, type );
                
                							// This is a shortcut to avoid jQuery.event.remove's overhead
                							} else {
                								jQuery.removeEvent( elem, type, data.handle );
                							}
                						}
                					}
                					if ( data_priv.cache[ key ] ) {
                						// Discard any remaining `private` data
                						delete data_priv.cache[ key ];
                					}
                				}
                			}
                			// Discard any remaining `user` data
                			delete data_user.cache[ elem[ data_user.expando ] ];
                		}
                	},
                
                	_evalUrl: function( url ) {
                		return jQuery.ajax({
                			url: url,
                			type: "GET",
                			dataType: "script",
                			async: false,
                			global: false,
                			"throws": true
                		});
                	}
                });
                
                // Support: 1.x compatibility
                // Manipulating tables requires a tbody
                function manipulationTarget( elem, content ) {
                	return jQuery.nodeName( elem, "table" ) &&
                		jQuery.nodeName( content.nodeType === 1 ? content : content.firstChild, "tr" ) ?
                
                		elem.getElementsByTagName("tbody")[0] ||
                			elem.appendChild( elem.ownerDocument.createElement("tbody") ) :
                		elem;
                }
                
                // Replace/restore the type attribute of script elements for safe DOM manipulation
                function disableScript( elem ) {
                	elem.type = (elem.getAttribute("type") !== null) + "/" + elem.type;
                	return elem;
                }
                function restoreScript( elem ) {
                	var match = rscriptTypeMasked.exec( elem.type );
                
                	if ( match ) {
                		elem.type = match[ 1 ];
                	} else {
                		elem.removeAttribute("type");
                	}
                
                	return elem;
                }
                
                // Mark scripts as having already been evaluated
                function setGlobalEval( elems, refElements ) {
                	var l = elems.length,
                		i = 0;
                
                	for ( ; i < l; i++ ) {
                		data_priv.set(
                			elems[ i ], "globalEval", !refElements || data_priv.get( refElements[ i ], "globalEval" )
                		);
                	}
                }
                
                function cloneCopyEvent( src, dest ) {
                	var i, l, type, pdataOld, pdataCur, udataOld, udataCur, events;
                
                	if ( dest.nodeType !== 1 ) {
                		return;
                	}
                
                	// 1. Copy private data: events, handlers, etc.
                	if ( data_priv.hasData( src ) ) {
                		pdataOld = data_priv.access( src );
                		pdataCur = data_priv.set( dest, pdataOld );
                		events = pdataOld.events;
                
                		if ( events ) {
                			delete pdataCur.handle;
                			pdataCur.events = {};
                
                			for ( type in events ) {
                				for ( i = 0, l = events[ type ].length; i < l; i++ ) {
                					jQuery.event.add( dest, type, events[ type ][ i ] );
                				}
                			}
                		}
                	}
                
                	// 2. Copy user data
                	if ( data_user.hasData( src ) ) {
                		udataOld = data_user.access( src );
                		udataCur = jQuery.extend( {}, udataOld );
                
                		data_user.set( dest, udataCur );
                	}
                }
                
                
                function getAll( context, tag ) {
                	var ret = context.getElementsByTagName ? context.getElementsByTagName( tag || "*" ) :
                			context.querySelectorAll ? context.querySelectorAll( tag || "*" ) :
                			[];
                
                	return tag === undefined || tag && jQuery.nodeName( context, tag ) ?
                		jQuery.merge( [ context ], ret ) :
                		ret;
                }
                
                // Support: IE >= 9
                function fixInput( src, dest ) {
                	var nodeName = dest.nodeName.toLowerCase();
                
                	// Fails to persist the checked state of a cloned checkbox or radio button.
                	if ( nodeName === "input" && manipulation_rcheckableType.test( src.type ) ) {
                		dest.checked = src.checked;
                
                	// Fails to return the selected option to the default selected state when cloning options
                	} else if ( nodeName === "input" || nodeName === "textarea" ) {
                		dest.defaultValue = src.defaultValue;
                	}
                }
                jQuery.fn.extend({
                	wrapAll: function( html ) {
                		var wrap;
                
                		if ( jQuery.isFunction( html ) ) {
                			return this.each(function( i ) {
                				jQuery( this ).wrapAll( html.call(this, i) );
                			});
                		}
                
                		if ( this[ 0 ] ) {
                
                			// The elements to wrap the target around
                			wrap = jQuery( html, this[ 0 ].ownerDocument ).eq( 0 ).clone( true );
                
                			if ( this[ 0 ].parentNode ) {
                				wrap.insertBefore( this[ 0 ] );
                			}
                
                			wrap.map(function() {
                				var elem = this;
                
                				while ( elem.firstElementChild ) {
                					elem = elem.firstElementChild;
                				}
                
                				return elem;
                			}).append( this );
                		}
                
                		return this;
                	},
                
                	wrapInner: function( html ) {
                		if ( jQuery.isFunction( html ) ) {
                			return this.each(function( i ) {
                				jQuery( this ).wrapInner( html.call(this, i) );
                			});
                		}
                
                		return this.each(function() {
                			var self = jQuery( this ),
                				contents = self.contents();
                
                			if ( contents.length ) {
                				contents.wrapAll( html );
                
                			} else {
                				self.append( html );
                			}
                		});
                	},
                
                	wrap: function( html ) {
                		var isFunction = jQuery.isFunction( html );
                
                		return this.each(function( i ) {
                			jQuery( this ).wrapAll( isFunction ? html.call(this, i) : html );
                		});
                	},
                
                	unwrap: function() {
                		return this.parent().each(function() {
                			if ( !jQuery.nodeName( this, "body" ) ) {
                				jQuery( this ).replaceWith( this.childNodes );
                			}
                		}).end();
                	}
                });
                var curCSS, iframe,
                	// swappable if display is none or starts with table except "table", "table-cell", or "table-caption"
                	// see here for display values: https://developer.mozilla.org/en-US/docs/CSS/display
                	rdisplayswap = /^(none|table(?!-c[ea]).+)/,
                	rmargin = /^margin/,
                	rnumsplit = new RegExp( "^(" + core_pnum + ")(.*)$", "i" ),
                	rnumnonpx = new RegExp( "^(" + core_pnum + ")(?!px)[a-z%]+$", "i" ),
                	rrelNum = new RegExp( "^([+-])=(" + core_pnum + ")", "i" ),
                	elemdisplay = { BODY: "block" },
                
                	cssShow = { position: "absolute", visibility: "hidden", display: "block" },
                	cssNormalTransform = {
                		letterSpacing: 0,
                		fontWeight: 400
                	},
                
                	cssExpand = [ "Top", "Right", "Bottom", "Left" ],
                	cssPrefixes = [ "Webkit", "O", "Moz", "ms" ];
                
                // return a css property mapped to a potentially vendor prefixed property
                function vendorPropName( style, name ) {
                
                	// shortcut for names that are not vendor prefixed
                	if ( name in style ) {
                		return name;
                	}
                
                	// check for vendor prefixed names
                	var capName = name.charAt(0).toUpperCase() + name.slice(1),
                		origName = name,
                		i = cssPrefixes.length;
                
                	while ( i-- ) {
                		name = cssPrefixes[ i ] + capName;
                		if ( name in style ) {
                			return name;
                		}
                	}
                
                	return origName;
                }
                
                function isHidden( elem, el ) {
                	// isHidden might be called from jQuery#filter function;
                	// in that case, element will be second argument
                	elem = el || elem;
                	return jQuery.css( elem, "display" ) === "none" || !jQuery.contains( elem.ownerDocument, elem );
                }
                
                // NOTE: we've included the "window" in window.getComputedStyle
                // because jsdom on node.js will break without it.
                function getStyles( elem ) {
                	return window.getComputedStyle( elem, null );
                }
                
                function showHide( elements, show ) {
                	var display, elem, hidden,
                		values = [],
                		index = 0,
                		length = elements.length;
                
                	for ( ; index < length; index++ ) {
                		elem = elements[ index ];
                		if ( !elem.style ) {
                			continue;
                		}
                
                		values[ index ] = data_priv.get( elem, "olddisplay" );
                		display = elem.style.display;
                		if ( show ) {
                			// Reset the inline display of this element to learn if it is
                			// being hidden by cascaded rules or not
                			if ( !values[ index ] && display === "none" ) {
                				elem.style.display = "";
                			}
                
                			// Set elements which have been overridden with display: none
                			// in a stylesheet to whatever the default browser style is
                			// for such an element
                			if ( elem.style.display === "" && isHidden( elem ) ) {
                				values[ index ] = data_priv.access( elem, "olddisplay", css_defaultDisplay(elem.nodeName) );
                			}
                		} else {
                
                			if ( !values[ index ] ) {
                				hidden = isHidden( elem );
                
                				if ( display && display !== "none" || !hidden ) {
                					data_priv.set( elem, "olddisplay", hidden ? display : jQuery.css(elem, "display") );
                				}
                			}
                		}
                	}
                
                	// Set the display of most of the elements in a second loop
                	// to avoid the constant reflow
                	for ( index = 0; index < length; index++ ) {
                		elem = elements[ index ];
                		if ( !elem.style ) {
                			continue;
                		}
                		if ( !show || elem.style.display === "none" || elem.style.display === "" ) {
                			elem.style.display = show ? values[ index ] || "" : "none";
                		}
                	}
                
                	return elements;
                }
                
                jQuery.fn.extend({
                	css: function( name, value ) {
                		return jQuery.access( this, function( elem, name, value ) {
                			var styles, len,
                				map = {},
                				i = 0;
                
                			if ( jQuery.isArray( name ) ) {
                				styles = getStyles( elem );
                				len = name.length;
                
                				for ( ; i < len; i++ ) {
                					map[ name[ i ] ] = jQuery.css( elem, name[ i ], false, styles );
                				}
                
                				return map;
                			}
                
                			return value !== undefined ?
                				jQuery.style( elem, name, value ) :
                				jQuery.css( elem, name );
                		}, name, value, arguments.length > 1 );
                	},
                	show: function() {
                		return showHide( this, true );
                	},
                	hide: function() {
                		return showHide( this );
                	},
                	toggle: function( state ) {
                		if ( typeof state === "boolean" ) {
                			return state ? this.show() : this.hide();
                		}
                
                		return this.each(function() {
                			if ( isHidden( this ) ) {
                				jQuery( this ).show();
                			} else {
                				jQuery( this ).hide();
                			}
                		});
                	}
                });
                
                jQuery.extend({
                	// Add in style property hooks for overriding the default
                	// behavior of getting and setting a style property
                	cssHooks: {
                		opacity: {
                			get: function( elem, computed ) {
                				if ( computed ) {
                					// We should always get a number back from opacity
                					var ret = curCSS( elem, "opacity" );
                					return ret === "" ? "1" : ret;
                				}
                			}
                		}
                	},
                
                	// Don't automatically add "px" to these possibly-unitless properties
                	cssNumber: {
                		"columnCount": true,
                		"fillOpacity": true,
                		"fontWeight": true,
                		"lineHeight": true,
                		"opacity": true,
                		"order": true,
                		"orphans": true,
                		"widows": true,
                		"zIndex": true,
                		"zoom": true
                	},
                
                	// Add in properties whose names you wish to fix before
                	// setting or getting the value
                	cssProps: {
                		// normalize float css property
                		"float": "cssFloat"
                	},
                
                	// Get and set the style property on a DOM Node
                	style: function( elem, name, value, extra ) {
                		// Don't set styles on text and comment nodes
                		if ( !elem || elem.nodeType === 3 || elem.nodeType === 8 || !elem.style ) {
                			return;
                		}
                
                		// Make sure that we're working with the right name
                		var ret, type, hooks,
                			origName = jQuery.camelCase( name ),
                			style = elem.style;
                
                		name = jQuery.cssProps[ origName ] || ( jQuery.cssProps[ origName ] = vendorPropName( style, origName ) );
                
                		// gets hook for the prefixed version
                		// followed by the unprefixed version
                		hooks = jQuery.cssHooks[ name ] || jQuery.cssHooks[ origName ];
                
                		// Check if we're setting a value
                		if ( value !== undefined ) {
                			type = typeof value;
                
                			// convert relative number strings (+= or -=) to relative numbers. #7345
                			if ( type === "string" && (ret = rrelNum.exec( value )) ) {
                				value = ( ret[1] + 1 ) * ret[2] + parseFloat( jQuery.css( elem, name ) );
                				// Fixes bug #9237
                				type = "number";
                			}
                
                			// Make sure that NaN and null values aren't set. See: #7116
                			if ( value == null || type === "number" && isNaN( value ) ) {
                				return;
                			}
                
                			// If a number was passed in, add 'px' to the (except for certain CSS properties)
                			if ( type === "number" && !jQuery.cssNumber[ origName ] ) {
                				value += "px";
                			}
                
                			// Fixes #8908, it can be done more correctly by specifying setters in cssHooks,
                			// but it would mean to define eight (for every problematic property) identical functions
                			if ( !jQuery.support.clearCloneStyle && value === "" && name.indexOf("background") === 0 ) {
                				style[ name ] = "inherit";
                			}
                
                			// If a hook was provided, use that value, otherwise just set the specified value
                			if ( !hooks || !("set" in hooks) || (value = hooks.set( elem, value, extra )) !== undefined ) {
                				style[ name ] = value;
                			}
                
                		} else {
                			// If a hook was provided get the non-computed value from there
                			if ( hooks && "get" in hooks && (ret = hooks.get( elem, false, extra )) !== undefined ) {
                				return ret;
                			}
                
                			// Otherwise just get the value from the style object
                			return style[ name ];
                		}
                	},
                
                	css: function( elem, name, extra, styles ) {
                		var val, num, hooks,
                			origName = jQuery.camelCase( name );
                
                		// Make sure that we're working with the right name
                		name = jQuery.cssProps[ origName ] || ( jQuery.cssProps[ origName ] = vendorPropName( elem.style, origName ) );
                
                		// gets hook for the prefixed version
                		// followed by the unprefixed version
                		hooks = jQuery.cssHooks[ name ] || jQuery.cssHooks[ origName ];
                
                		// If a hook was provided get the computed value from there
                		if ( hooks && "get" in hooks ) {
                			val = hooks.get( elem, true, extra );
                		}
                
                		// Otherwise, if a way to get the computed value exists, use that
                		if ( val === undefined ) {
                			val = curCSS( elem, name, styles );
                		}
                
                		//convert "normal" to computed value
                		if ( val === "normal" && name in cssNormalTransform ) {
                			val = cssNormalTransform[ name ];
                		}
                
                		// Return, converting to number if forced or a qualifier was provided and val looks numeric
                		if ( extra === "" || extra ) {
                			num = parseFloat( val );
                			return extra === true || jQuery.isNumeric( num ) ? num || 0 : val;
                		}
                		return val;
                	}
                });
                
                curCSS = function( elem, name, _computed ) {
                	var width, minWidth, maxWidth,
                		computed = _computed || getStyles( elem ),
                
                		// Support: IE9
                		// getPropertyValue is only needed for .css('filter') in IE9, see #12537
                		ret = computed ? computed.getPropertyValue( name ) || computed[ name ] : undefined,
                		style = elem.style;
                
                	if ( computed ) {
                
                		if ( ret === "" && !jQuery.contains( elem.ownerDocument, elem ) ) {
                			ret = jQuery.style( elem, name );
                		}
                
                		// Support: Safari 5.1
                		// A tribute to the "awesome hack by Dean Edwards"
                		// Safari 5.1.7 (at least) returns percentage for a larger set of values, but width seems to be reliably pixels
                		// this is against the CSSOM draft spec: http://dev.w3.org/csswg/cssom/#resolved-values
                		if ( rnumnonpx.test( ret ) && rmargin.test( name ) ) {
                
                			// Remember the original values
                			width = style.width;
                			minWidth = style.minWidth;
                			maxWidth = style.maxWidth;
                
                			// Put in the new values to get a computed value out
                			style.minWidth = style.maxWidth = style.width = ret;
                			ret = computed.width;
                
                			// Revert the changed values
                			style.width = width;
                			style.minWidth = minWidth;
                			style.maxWidth = maxWidth;
                		}
                	}
                
                	return ret;
                };
                
                
                function setPositiveNumber( elem, value, subtract ) {
                	var matches = rnumsplit.exec( value );
                	return matches ?
                		// Guard against undefined "subtract", e.g., when used as in cssHooks
                		Math.max( 0, matches[ 1 ] - ( subtract || 0 ) ) + ( matches[ 2 ] || "px" ) :
                		value;
                }
                
                function augmentWidthOrHeight( elem, name, extra, isBorderBox, styles ) {
                	var i = extra === ( isBorderBox ? "border" : "content" ) ?
                		// If we already have the right measurement, avoid augmentation
                		4 :
                		// Otherwise initialize for horizontal or vertical properties
                		name === "width" ? 1 : 0,
                
                		val = 0;
                
                	for ( ; i < 4; i += 2 ) {
                		// both box models exclude margin, so add it if we want it
                		if ( extra === "margin" ) {
                			val += jQuery.css( elem, extra + cssExpand[ i ], true, styles );
                		}
                
                		if ( isBorderBox ) {
                			// border-box includes padding, so remove it if we want content
                			if ( extra === "content" ) {
                				val -= jQuery.css( elem, "padding" + cssExpand[ i ], true, styles );
                			}
                
                			// at this point, extra isn't border nor margin, so remove border
                			if ( extra !== "margin" ) {
                				val -= jQuery.css( elem, "border" + cssExpand[ i ] + "Width", true, styles );
                			}
                		} else {
                			// at this point, extra isn't content, so add padding
                			val += jQuery.css( elem, "padding" + cssExpand[ i ], true, styles );
                
                			// at this point, extra isn't content nor padding, so add border
                			if ( extra !== "padding" ) {
                				val += jQuery.css( elem, "border" + cssExpand[ i ] + "Width", true, styles );
                			}
                		}
                	}
                
                	return val;
                }
                
                function getWidthOrHeight( elem, name, extra ) {
                
                	// Start with offset property, which is equivalent to the border-box value
                	var valueIsBorderBox = true,
                		val = name === "width" ? elem.offsetWidth : elem.offsetHeight,
                		styles = getStyles( elem ),
                		isBorderBox = jQuery.support.boxSizing && jQuery.css( elem, "boxSizing", false, styles ) === "border-box";
                
                	// some non-html elements return undefined for offsetWidth, so check for null/undefined
                	// svg - https://bugzilla.mozilla.org/show_bug.cgi?id=649285
                	// MathML - https://bugzilla.mozilla.org/show_bug.cgi?id=491668
                	if ( val <= 0 || val == null ) {
                		// Fall back to computed then uncomputed css if necessary
                		val = curCSS( elem, name, styles );
                		if ( val < 0 || val == null ) {
                			val = elem.style[ name ];
                		}
                
                		// Computed unit is not pixels. Stop here and return.
                		if ( rnumnonpx.test(val) ) {
                			return val;
                		}
                
                		// we need the check for style in case a browser which returns unreliable values
                		// for getComputedStyle silently falls back to the reliable elem.style
                		valueIsBorderBox = isBorderBox && ( jQuery.support.boxSizingReliable || val === elem.style[ name ] );
                
                		// Normalize "", auto, and prepare for extra
                		val = parseFloat( val ) || 0;
                	}
                
                	// use the active box-sizing model to add/subtract irrelevant styles
                	return ( val +
                		augmentWidthOrHeight(
                			elem,
                			name,
                			extra || ( isBorderBox ? "border" : "content" ),
                			valueIsBorderBox,
                			styles
                		)
                	) + "px";
                }
                
                // Try to determine the default display value of an element
                function css_defaultDisplay( nodeName ) {
                	var doc = document,
                		display = elemdisplay[ nodeName ];
                
                	if ( !display ) {
                		display = actualDisplay( nodeName, doc );
                
                		// If the simple way fails, read from inside an iframe
                		if ( display === "none" || !display ) {
                			// Use the already-created iframe if possible
                			iframe = ( iframe ||
                				jQuery("<iframe frameborder='0' width='0' height='0'/>")
                				.css( "cssText", "display:block !important" )
                			).appendTo( doc.documentElement );
                
                			// Always write a new HTML skeleton so Webkit and Firefox don't choke on reuse
                			doc = ( iframe[0].contentWindow || iframe[0].contentDocument ).document;
                			doc.write("<!doctype html><html><body>");
                			doc.close();
                
                			display = actualDisplay( nodeName, doc );
                			iframe.detach();
                		}
                
                		// Store the correct default display
                		elemdisplay[ nodeName ] = display;
                	}
                
                	return display;
                }
                
                // Called ONLY from within css_defaultDisplay
                function actualDisplay( name, doc ) {
                	var elem = jQuery( doc.createElement( name ) ).appendTo( doc.body ),
                		display = jQuery.css( elem[0], "display" );
                	elem.remove();
                	return display;
                }
                
                jQuery.each([ "height", "width" ], function( i, name ) {
                	jQuery.cssHooks[ name ] = {
                		get: function( elem, computed, extra ) {
                			if ( computed ) {
                				// certain elements can have dimension info if we invisibly show them
                				// however, it must have a current display style that would benefit from this
                				return elem.offsetWidth === 0 && rdisplayswap.test( jQuery.css( elem, "display" ) ) ?
                					jQuery.swap( elem, cssShow, function() {
                						return getWidthOrHeight( elem, name, extra );
                					}) :
                					getWidthOrHeight( elem, name, extra );
                			}
                		},
                
                		set: function( elem, value, extra ) {
                			var styles = extra && getStyles( elem );
                			return setPositiveNumber( elem, value, extra ?
                				augmentWidthOrHeight(
                					elem,
                					name,
                					extra,
                					jQuery.support.boxSizing && jQuery.css( elem, "boxSizing", false, styles ) === "border-box",
                					styles
                				) : 0
                			);
                		}
                	};
                });
                
                // These hooks cannot be added until DOM ready because the support test
                // for it is not run until after DOM ready
                jQuery(function() {
                	// Support: Android 2.3
                	if ( !jQuery.support.reliableMarginRight ) {
                		jQuery.cssHooks.marginRight = {
                			get: function( elem, computed ) {
                				if ( computed ) {
                					// Support: Android 2.3
                					// WebKit Bug 13343 - getComputedStyle returns wrong value for margin-right
                					// Work around by temporarily setting element display to inline-block
                					return jQuery.swap( elem, { "display": "inline-block" },
                						curCSS, [ elem, "marginRight" ] );
                				}
                			}
                		};
                	}
                
                	// Webkit bug: https://bugs.webkit.org/show_bug.cgi?id=29084
                	// getComputedStyle returns percent when specified for top/left/bottom/right
                	// rather than make the css module depend on the offset module, we just check for it here
                	if ( !jQuery.support.pixelPosition && jQuery.fn.position ) {
                		jQuery.each( [ "top", "left" ], function( i, prop ) {
                			jQuery.cssHooks[ prop ] = {
                				get: function( elem, computed ) {
                					if ( computed ) {
                						computed = curCSS( elem, prop );
                						// if curCSS returns percentage, fallback to offset
                						return rnumnonpx.test( computed ) ?
                							jQuery( elem ).position()[ prop ] + "px" :
                							computed;
                					}
                				}
                			};
                		});
                	}
                
                });
                
                if ( jQuery.expr && jQuery.expr.filters ) {
                	jQuery.expr.filters.hidden = function( elem ) {
                		// Support: Opera <= 12.12
                		// Opera reports offsetWidths and offsetHeights less than zero on some elements
                		return elem.offsetWidth <= 0 && elem.offsetHeight <= 0;
                	};
                
                	jQuery.expr.filters.visible = function( elem ) {
                		return !jQuery.expr.filters.hidden( elem );
                	};
                }
                
                // These hooks are used by animate to expand properties
                jQuery.each({
                	margin: "",
                	padding: "",
                	border: "Width"
                }, function( prefix, suffix ) {
                	jQuery.cssHooks[ prefix + suffix ] = {
                		expand: function( value ) {
                			var i = 0,
                				expanded = {},
                
                				// assumes a single number if not a string
                				parts = typeof value === "string" ? value.split(" ") : [ value ];
                
                			for ( ; i < 4; i++ ) {
                				expanded[ prefix + cssExpand[ i ] + suffix ] =
                					parts[ i ] || parts[ i - 2 ] || parts[ 0 ];
                			}
                
                			return expanded;
                		}
                	};
                
                	if ( !rmargin.test( prefix ) ) {
                		jQuery.cssHooks[ prefix + suffix ].set = setPositiveNumber;
                	}
                });
                var r20 = /%20/g,
                	rbracket = /\[\]$/,
                	rCRLF = /\r?\n/g,
                	rsubmitterTypes = /^(?:submit|button|image|reset|file)$/i,
                	rsubmittable = /^(?:input|select|textarea|keygen)/i;
                
                jQuery.fn.extend({
                	serialize: function() {
                		return jQuery.param( this.serializeArray() );
                	},
                	serializeArray: function() {
                		return this.map(function(){
                			// Can add propHook for "elements" to filter or add form elements
                			var elements = jQuery.prop( this, "elements" );
                			return elements ? jQuery.makeArray( elements ) : this;
                		})
                		.filter(function(){
                			var type = this.type;
                			// Use .is(":disabled") so that fieldset[disabled] works
                			return this.name && !jQuery( this ).is( ":disabled" ) &&
                				rsubmittable.test( this.nodeName ) && !rsubmitterTypes.test( type ) &&
                				( this.checked || !manipulation_rcheckableType.test( type ) );
                		})
                		.map(function( i, elem ){
                			var val = jQuery( this ).val();
                
                			return val == null ?
                				null :
                				jQuery.isArray( val ) ?
                					jQuery.map( val, function( val ){
                						return { name: elem.name, value: val.replace( rCRLF, "\r\n" ) };
                					}) :
                					{ name: elem.name, value: val.replace( rCRLF, "\r\n" ) };
                		}).get();
                	}
                });
                
                //Serialize an array of form elements or a set of
                //key/values into a query string
                jQuery.param = function( a, traditional ) {
                	var prefix,
                		s = [],
                		add = function( key, value ) {
                			// If value is a function, invoke it and return its value
                			value = jQuery.isFunction( value ) ? value() : ( value == null ? "" : value );
                			s[ s.length ] = encodeURIComponent( key ) + "=" + encodeURIComponent( value );
                		};
                
                	// Set traditional to true for jQuery <= 1.3.2 behavior.
                	if ( traditional === undefined ) {
                		traditional = jQuery.ajaxSettings && jQuery.ajaxSettings.traditional;
                	}
                
                	// If an array was passed in, assume that it is an array of form elements.
                	if ( jQuery.isArray( a ) || ( a.jquery && !jQuery.isPlainObject( a ) ) ) {
                		// Serialize the form elements
                		jQuery.each( a, function() {
                			add( this.name, this.value );
                		});
                
                	} else {
                		// If traditional, encode the "old" way (the way 1.3.2 or older
                		// did it), otherwise encode params recursively.
                		for ( prefix in a ) {
                			buildParams( prefix, a[ prefix ], traditional, add );
                		}
                	}
                
                	// Return the resulting serialization
                	return s.join( "&" ).replace( r20, "+" );
                };
                
                function buildParams( prefix, obj, traditional, add ) {
                	var name;
                
                	if ( jQuery.isArray( obj ) ) {
                		// Serialize array item.
                		jQuery.each( obj, function( i, v ) {
                			if ( traditional || rbracket.test( prefix ) ) {
                				// Treat each array item as a scalar.
                				add( prefix, v );
                
                			} else {
                				// Item is non-scalar (array or object), encode its numeric index.
                				buildParams( prefix + "[" + ( typeof v === "object" ? i : "" ) + "]", v, traditional, add );
                			}
                		});
                
                	} else if ( !traditional && jQuery.type( obj ) === "object" ) {
                		// Serialize object item.
                		for ( name in obj ) {
                			buildParams( prefix + "[" + name + "]", obj[ name ], traditional, add );
                		}
                
                	} else {
                		// Serialize scalar item.
                		add( prefix, obj );
                	}
                }
                jQuery.each( ("blur focus focusin focusout load resize scroll unload click dblclick " +
                	"mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave " +
                	"change select submit keydown keypress keyup error contextmenu").split(" "), function( i, name ) {
                
                	// Handle event binding
                	jQuery.fn[ name ] = function( data, fn ) {
                		return arguments.length > 0 ?
                			this.on( name, null, data, fn ) :
                			this.trigger( name );
                	};
                });
                
                jQuery.fn.extend({
                	hover: function( fnOver, fnOut ) {
                		return this.mouseenter( fnOver ).mouseleave( fnOut || fnOver );
                	},
                
                	bind: function( types, data, fn ) {
                		return this.on( types, null, data, fn );
                	},
                	unbind: function( types, fn ) {
                		return this.off( types, null, fn );
                	},
                
                	delegate: function( selector, types, data, fn ) {
                		return this.on( types, selector, data, fn );
                	},
                	undelegate: function( selector, types, fn ) {
                		// ( namespace ) or ( selector, types [, fn] )
                		return arguments.length === 1 ? this.off( selector, "**" ) : this.off( types, selector || "**", fn );
                	}
                });
                var
                	// Document location
                	ajaxLocParts,
                	ajaxLocation,
                
                	ajax_nonce = jQuery.now(),
                
                	ajax_rquery = /\?/,
                	rhash = /#.*$/,
                	rts = /([?&])_=[^&]*/,
                	rheaders = /^(.*?):[ \t]*([^\r\n]*)$/mg,
                	// #7653, #8125, #8152: local protocol detection
                	rlocalProtocol = /^(?:about|app|app-storage|.+-extension|file|res|widget):$/,
                	rnoContent = /^(?:GET|HEAD)$/,
                	rprotocol = /^\/\//,
                	rurl = /^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,
                
                	// Keep a copy of the old load method
                	_load = jQuery.fn.load,
                
                	/* Prefilters
                	 * 1) They are useful to introduce custom dataTypes (see ajax/jsonp.js for an example)
                	 * 2) These are called:
                	 *    - BEFORE asking for a transport
                	 *    - AFTER param serialization (s.data is a string if s.processData is true)
                	 * 3) key is the dataType
                	 * 4) the catchall symbol "*" can be used
                	 * 5) execution will start with transport dataType and THEN continue down to "*" if needed
                	 */
                	prefilters = {},
                
                	/* Transports bindings
                	 * 1) key is the dataType
                	 * 2) the catchall symbol "*" can be used
                	 * 3) selection will start with transport dataType and THEN go to "*" if needed
                	 */
                	transports = {},
                
                	// Avoid comment-prolog char sequence (#10098); must appease lint and evade compression
                	allTypes = "*/".concat("*");
                
                // #8138, IE may throw an exception when accessing
                // a field from window.location if document.domain has been set
                try {
                	ajaxLocation = location.href;
                } catch( e ) {
                	// Use the href attribute of an A element
                	// since IE will modify it given document.location
                	ajaxLocation = document.createElement( "a" );
                	ajaxLocation.href = "";
                	ajaxLocation = ajaxLocation.href;
                }
                
                // Segment location into parts
                ajaxLocParts = rurl.exec( ajaxLocation.toLowerCase() ) || [];
                
                // Base "constructor" for jQuery.ajaxPrefilter and jQuery.ajaxTransport
                function addToPrefiltersOrTransports( structure ) {
                
                	// dataTypeExpression is optional and defaults to "*"
                	return function( dataTypeExpression, func ) {
                
                		if ( typeof dataTypeExpression !== "string" ) {
                			func = dataTypeExpression;
                			dataTypeExpression = "*";
                		}
                
                		var dataType,
                			i = 0,
                			dataTypes = dataTypeExpression.toLowerCase().match( core_rnotwhite ) || [];
                
                		if ( jQuery.isFunction( func ) ) {
                			// For each dataType in the dataTypeExpression
                			while ( (dataType = dataTypes[i++]) ) {
                				// Prepend if requested
                				if ( dataType[0] === "+" ) {
                					dataType = dataType.slice( 1 ) || "*";
                					(structure[ dataType ] = structure[ dataType ] || []).unshift( func );
                
                				// Otherwise append
                				} else {
                					(structure[ dataType ] = structure[ dataType ] || []).push( func );
                				}
                			}
                		}
                	};
                }
                
                // Base inspection function for prefilters and transports
                function inspectPrefiltersOrTransports( structure, options, originalOptions, jqXHR ) {
                
                	var inspected = {},
                		seekingTransport = ( structure === transports );
                
                	function inspect( dataType ) {
                		var selected;
                		inspected[ dataType ] = true;
                		jQuery.each( structure[ dataType ] || [], function( _, prefilterOrFactory ) {
                			var dataTypeOrTransport = prefilterOrFactory( options, originalOptions, jqXHR );
                			if( typeof dataTypeOrTransport === "string" && !seekingTransport && !inspected[ dataTypeOrTransport ] ) {
                				options.dataTypes.unshift( dataTypeOrTransport );
                				inspect( dataTypeOrTransport );
                				return false;
                			} else if ( seekingTransport ) {
                				return !( selected = dataTypeOrTransport );
                			}
                		});
                		return selected;
                	}
                
                	return inspect( options.dataTypes[ 0 ] ) || !inspected[ "*" ] && inspect( "*" );
                }
                
                // A special extend for ajax options
                // that takes "flat" options (not to be deep extended)
                // Fixes #9887
                function ajaxExtend( target, src ) {
                	var key, deep,
                		flatOptions = jQuery.ajaxSettings.flatOptions || {};
                
                	for ( key in src ) {
                		if ( src[ key ] !== undefined ) {
                			( flatOptions[ key ] ? target : ( deep || (deep = {}) ) )[ key ] = src[ key ];
                		}
                	}
                	if ( deep ) {
                		jQuery.extend( true, target, deep );
                	}
                
                	return target;
                }
                
                jQuery.fn.load = function( url, params, callback ) {
                	if ( typeof url !== "string" && _load ) {
                		return _load.apply( this, arguments );
                	}
                
                	var selector, type, response,
                		self = this,
                		off = url.indexOf(" ");
                
                	if ( off >= 0 ) {
                		selector = url.slice( off );
                		url = url.slice( 0, off );
                	}
                
                	// If it's a function
                	if ( jQuery.isFunction( params ) ) {
                
                		// We assume that it's the callback
                		callback = params;
                		params = undefined;
                
                	// Otherwise, build a param string
                	} else if ( params && typeof params === "object" ) {
                		type = "POST";
                	}
                
                	// If we have elements to modify, make the request
                	if ( self.length > 0 ) {
                		jQuery.ajax({
                			url: url,
                
                			// if "type" variable is undefined, then "GET" method will be used
                			type: type,
                			dataType: "html",
                			data: params
                		}).done(function( responseText ) {
                
                			// Save response for use in complete callback
                			response = arguments;
                
                			self.html( selector ?
                
                				// If a selector was specified, locate the right elements in a dummy div
                				// Exclude scripts to avoid IE 'Permission Denied' errors
                				jQuery("<div>").append( jQuery.parseHTML( responseText ) ).find( selector ) :
                
                				// Otherwise use the full result
                				responseText );
                
                		}).complete( callback && function( jqXHR, status ) {
                			self.each( callback, response || [ jqXHR.responseText, status, jqXHR ] );
                		});
                	}
                
                	return this;
                };
                
                // Attach a bunch of functions for handling common AJAX events
                jQuery.each( [ "ajaxStart", "ajaxStop", "ajaxComplete", "ajaxError", "ajaxSuccess", "ajaxSend" ], function( i, type ){
                	jQuery.fn[ type ] = function( fn ){
                		return this.on( type, fn );
                	};
                });
                
                jQuery.extend({
                
                	// Counter for holding the number of active queries
                	active: 0,
                
                	// Last-Modified header cache for next request
                	lastModified: {},
                	etag: {},
                
                	ajaxSettings: {
                		url: ajaxLocation,
                		type: "GET",
                		isLocal: rlocalProtocol.test( ajaxLocParts[ 1 ] ),
                		global: true,
                		processData: true,
                		async: true,
                		contentType: "application/x-www-form-urlencoded; charset=UTF-8",
                		/*
                		timeout: 0,
                		data: null,
                		dataType: null,
                		username: null,
                		password: null,
                		cache: null,
                		throws: false,
                		traditional: false,
                		headers: {},
                		*/
                
                		accepts: {
                			"*": allTypes,
                			text: "text/plain",
                			html: "text/html",
                			xml: "application/xml, text/xml",
                			json: "application/json, text/javascript"
                		},
                
                		contents: {
                			xml: /xml/,
                			html: /html/,
                			json: /json/
                		},
                
                		responseFields: {
                			xml: "responseXML",
                			text: "responseText",
                			json: "responseJSON"
                		},
                
                		// Data converters
                		// Keys separate source (or catchall "*") and destination types with a single space
                		converters: {
                
                			// Convert anything to text
                			"* text": String,
                
                			// Text to html (true = no transformation)
                			"text html": true,
                
                			// Evaluate text as a json expression
                			"text json": jQuery.parseJSON,
                
                			// Parse text as xml
                			"text xml": jQuery.parseXML
                		},
                
                		// For options that shouldn't be deep extended:
                		// you can add your own custom options here if
                		// and when you create one that shouldn't be
                		// deep extended (see ajaxExtend)
                		flatOptions: {
                			url: true,
                			context: true
                		}
                	},
                
                	// Creates a full fledged settings object into target
                	// with both ajaxSettings and settings fields.
                	// If target is omitted, writes into ajaxSettings.
                	ajaxSetup: function( target, settings ) {
                		return settings ?
                
                			// Building a settings object
                			ajaxExtend( ajaxExtend( target, jQuery.ajaxSettings ), settings ) :
                
                			// Extending ajaxSettings
                			ajaxExtend( jQuery.ajaxSettings, target );
                	},
                
                	ajaxPrefilter: addToPrefiltersOrTransports( prefilters ),
                	ajaxTransport: addToPrefiltersOrTransports( transports ),
                
                	// Main method
                	ajax: function( url, options ) {
                
                		// If url is an object, simulate pre-1.5 signature
                		if ( typeof url === "object" ) {
                			options = url;
                			url = undefined;
                		}
                
                		// Force options to be an object
                		options = options || {};
                
                		var transport,
                			// URL without anti-cache param
                			cacheURL,
                			// Response headers
                			responseHeadersString,
                			responseHeaders,
                			// timeout handle
                			timeoutTimer,
                			// Cross-domain detection vars
                			parts,
                			// To know if global events are to be dispatched
                			fireGlobals,
                			// Loop variable
                			i,
                			// Create the final options object
                			s = jQuery.ajaxSetup( {}, options ),
                			// Callbacks context
                			callbackContext = s.context || s,
                			// Context for global events is callbackContext if it is a DOM node or jQuery collection
                			globalEventContext = s.context && ( callbackContext.nodeType || callbackContext.jquery ) ?
                				jQuery( callbackContext ) :
                				jQuery.event,
                			// Deferreds
                			deferred = jQuery.Deferred(),
                			completeDeferred = jQuery.Callbacks("once memory"),
                			// Status-dependent callbacks
                			statusCode = s.statusCode || {},
                			// Headers (they are sent all at once)
                			requestHeaders = {},
                			requestHeadersNames = {},
                			// The jqXHR state
                			state = 0,
                			// Default abort message
                			strAbort = "canceled",
                			// Fake xhr
                			jqXHR = {
                				readyState: 0,
                
                				// Builds headers hashtable if needed
                				getResponseHeader: function( key ) {
                					var match;
                					if ( state === 2 ) {
                						if ( !responseHeaders ) {
                							responseHeaders = {};
                							while ( (match = rheaders.exec( responseHeadersString )) ) {
                								responseHeaders[ match[1].toLowerCase() ] = match[ 2 ];
                							}
                						}
                						match = responseHeaders[ key.toLowerCase() ];
                					}
                					return match == null ? null : match;
                				},
                
                				// Raw string
                				getAllResponseHeaders: function() {
                					return state === 2 ? responseHeadersString : null;
                				},
                
                				// Caches the header
                				setRequestHeader: function( name, value ) {
                					var lname = name.toLowerCase();
                					if ( !state ) {
                						name = requestHeadersNames[ lname ] = requestHeadersNames[ lname ] || name;
                						requestHeaders[ name ] = value;
                					}
                					return this;
                				},
                
                				// Overrides response content-type header
                				overrideMimeType: function( type ) {
                					if ( !state ) {
                						s.mimeType = type;
                					}
                					return this;
                				},
                
                				// Status-dependent callbacks
                				statusCode: function( map ) {
                					var code;
                					if ( map ) {
                						if ( state < 2 ) {
                							for ( code in map ) {
                								// Lazy-add the new callback in a way that preserves old ones
                								statusCode[ code ] = [ statusCode[ code ], map[ code ] ];
                							}
                						} else {
                							// Execute the appropriate callbacks
                							jqXHR.always( map[ jqXHR.status ] );
                						}
                					}
                					return this;
                				},
                
                				// Cancel the request
                				abort: function( statusText ) {
                					var finalText = statusText || strAbort;
                					if ( transport ) {
                						transport.abort( finalText );
                					}
                					done( 0, finalText );
                					return this;
                				}
                			};
                
                		// Attach deferreds
                		deferred.promise( jqXHR ).complete = completeDeferred.add;
                		jqXHR.success = jqXHR.done;
                		jqXHR.error = jqXHR.fail;
                
                		// Remove hash character (#7531: and string promotion)
                		// Add protocol if not provided (prefilters might expect it)
                		// Handle falsy url in the settings object (#10093: consistency with old signature)
                		// We also use the url parameter if available
                		s.url = ( ( url || s.url || ajaxLocation ) + "" ).replace( rhash, "" )
                			.replace( rprotocol, ajaxLocParts[ 1 ] + "//" );
                
                		// Alias method option to type as per ticket #12004
                		s.type = options.method || options.type || s.method || s.type;
                
                		// Extract dataTypes list
                		s.dataTypes = jQuery.trim( s.dataType || "*" ).toLowerCase().match( core_rnotwhite ) || [""];
                
                		// A cross-domain request is in order when we have a protocol:host:port mismatch
                		if ( s.crossDomain == null ) {
                			parts = rurl.exec( s.url.toLowerCase() );
                			s.crossDomain = !!( parts &&
                				( parts[ 1 ] !== ajaxLocParts[ 1 ] || parts[ 2 ] !== ajaxLocParts[ 2 ] ||
                					( parts[ 3 ] || ( parts[ 1 ] === "http:" ? "80" : "443" ) ) !==
                						( ajaxLocParts[ 3 ] || ( ajaxLocParts[ 1 ] === "http:" ? "80" : "443" ) ) )
                			);
                		}
                
                		// Convert data if not already a string
                		if ( s.data && s.processData && typeof s.data !== "string" ) {
                			s.data = jQuery.param( s.data, s.traditional );
                		}
                
                		// Apply prefilters
                		inspectPrefiltersOrTransports( prefilters, s, options, jqXHR );
                
                		// If request was aborted inside a prefilter, stop there
                		if ( state === 2 ) {
                			return jqXHR;
                		}
                
                		// We can fire global events as of now if asked to
                		fireGlobals = s.global;
                
                		// Watch for a new set of requests
                		if ( fireGlobals && jQuery.active++ === 0 ) {
                			jQuery.event.trigger("ajaxStart");
                		}
                
                		// Uppercase the type
                		s.type = s.type.toUpperCase();
                
                		// Determine if request has content
                		s.hasContent = !rnoContent.test( s.type );
                
                		// Save the URL in case we're toying with the If-Modified-Since
                		// and/or If-None-Match header later on
                		cacheURL = s.url;
                
                		// More options handling for requests with no content
                		if ( !s.hasContent ) {
                
                			// If data is available, append data to url
                			if ( s.data ) {
                				cacheURL = ( s.url += ( ajax_rquery.test( cacheURL ) ? "&" : "?" ) + s.data );
                				// #9682: remove data so that it's not used in an eventual retry
                				delete s.data;
                			}
                
                			// Add anti-cache in url if needed
                			if ( s.cache === false ) {
                				s.url = rts.test( cacheURL ) ?
                
                					// If there is already a '_' parameter, set its value
                					cacheURL.replace( rts, "$1_=" + ajax_nonce++ ) :
                
                					// Otherwise add one to the end
                					cacheURL + ( ajax_rquery.test( cacheURL ) ? "&" : "?" ) + "_=" + ajax_nonce++;
                			}
                		}
                
                		// Set the If-Modified-Since and/or If-None-Match header, if in ifModified mode.
                		if ( s.ifModified ) {
                			if ( jQuery.lastModified[ cacheURL ] ) {
                				jqXHR.setRequestHeader( "If-Modified-Since", jQuery.lastModified[ cacheURL ] );
                			}
                			if ( jQuery.etag[ cacheURL ] ) {
                				jqXHR.setRequestHeader( "If-None-Match", jQuery.etag[ cacheURL ] );
                			}
                		}
                
                		// Set the correct header, if data is being sent
                		if ( s.data && s.hasContent && s.contentType !== false || options.contentType ) {
                			jqXHR.setRequestHeader( "Content-Type", s.contentType );
                		}
                
                		// Set the Accepts header for the server, depending on the dataType
                		jqXHR.setRequestHeader(
                			"Accept",
                			s.dataTypes[ 0 ] && s.accepts[ s.dataTypes[0] ] ?
                				s.accepts[ s.dataTypes[0] ] + ( s.dataTypes[ 0 ] !== "*" ? ", " + allTypes + "; q=0.01" : "" ) :
                				s.accepts[ "*" ]
                		);
                
                		// Check for headers option
                		for ( i in s.headers ) {
                			jqXHR.setRequestHeader( i, s.headers[ i ] );
                		}
                
                		// Allow custom headers/mimetypes and early abort
                		if ( s.beforeSend && ( s.beforeSend.call( callbackContext, jqXHR, s ) === false || state === 2 ) ) {
                			// Abort if not done already and return
                			return jqXHR.abort();
                		}
                
                		// aborting is no longer a cancellation
                		strAbort = "abort";
                
                		// Install callbacks on deferreds
                		for ( i in { success: 1, error: 1, complete: 1 } ) {
                			jqXHR[ i ]( s[ i ] );
                		}
                
                		// Get transport
                		transport = inspectPrefiltersOrTransports( transports, s, options, jqXHR );
                
                		// If no transport, we auto-abort
                		if ( !transport ) {
                			done( -1, "No Transport" );
                		} else {
                			jqXHR.readyState = 1;
                
                			// Send global event
                			if ( fireGlobals ) {
                				globalEventContext.trigger( "ajaxSend", [ jqXHR, s ] );
                			}
                			// Timeout
                			if ( s.async && s.timeout > 0 ) {
                				timeoutTimer = setTimeout(function() {
                					jqXHR.abort("timeout");
                				}, s.timeout );
                			}
                
                			try {
                				state = 1;
                				transport.send( requestHeaders, done );
                			} catch ( e ) {
                				// Propagate exception as error if not done
                				if ( state < 2 ) {
                					done( -1, e );
                				// Simply rethrow otherwise
                				} else {
                					throw e;
                				}
                			}
                		}
                
                		// Callback for when everything is done
                		function done( status, nativeStatusText, responses, headers ) {
                			var isSuccess, success, error, response, modified,
                				statusText = nativeStatusText;
                
                			// Called once
                			if ( state === 2 ) {
                				return;
                			}
                
                			// State is "done" now
                			state = 2;
                
                			// Clear timeout if it exists
                			if ( timeoutTimer ) {
                				clearTimeout( timeoutTimer );
                			}
                
                			// Dereference transport for early garbage collection
                			// (no matter how long the jqXHR object will be used)
                			transport = undefined;
                
                			// Cache response headers
                			responseHeadersString = headers || "";
                
                			// Set readyState
                			jqXHR.readyState = status > 0 ? 4 : 0;
                
                			// Determine if successful
                			isSuccess = status >= 200 && status < 300 || status === 304;
                
                			// Get response data
                			if ( responses ) {
                				response = ajaxHandleResponses( s, jqXHR, responses );
                			}
                
                			// Convert no matter what (that way responseXXX fields are always set)
                			response = ajaxConvert( s, response, jqXHR, isSuccess );
                
                			// If successful, handle type chaining
                			if ( isSuccess ) {
                
                				// Set the If-Modified-Since and/or If-None-Match header, if in ifModified mode.
                				if ( s.ifModified ) {
                					modified = jqXHR.getResponseHeader("Last-Modified");
                					if ( modified ) {
                						jQuery.lastModified[ cacheURL ] = modified;
                					}
                					modified = jqXHR.getResponseHeader("etag");
                					if ( modified ) {
                						jQuery.etag[ cacheURL ] = modified;
                					}
                				}
                
                				// if no content
                				if ( status === 204 || s.type === "HEAD" ) {
                					statusText = "nocontent";
                
                				// if not modified
                				} else if ( status === 304 ) {
                					statusText = "notmodified";
                
                				// If we have data, let's convert it
                				} else {
                					statusText = response.state;
                					success = response.data;
                					error = response.error;
                					isSuccess = !error;
                				}
                			} else {
                				// We extract error from statusText
                				// then normalize statusText and status for non-aborts
                				error = statusText;
                				if ( status || !statusText ) {
                					statusText = "error";
                					if ( status < 0 ) {
                						status = 0;
                					}
                				}
                			}
                
                			// Set data for the fake xhr object
                			jqXHR.status = status;
                			jqXHR.statusText = ( nativeStatusText || statusText ) + "";
                
                			// Success/Error
                			if ( isSuccess ) {
                				deferred.resolveWith( callbackContext, [ success, statusText, jqXHR ] );
                			} else {
                				deferred.rejectWith( callbackContext, [ jqXHR, statusText, error ] );
                			}
                
                			// Status-dependent callbacks
                			jqXHR.statusCode( statusCode );
                			statusCode = undefined;
                
                			if ( fireGlobals ) {
                				globalEventContext.trigger( isSuccess ? "ajaxSuccess" : "ajaxError",
                					[ jqXHR, s, isSuccess ? success : error ] );
                			}
                
                			// Complete
                			completeDeferred.fireWith( callbackContext, [ jqXHR, statusText ] );
                
                			if ( fireGlobals ) {
                				globalEventContext.trigger( "ajaxComplete", [ jqXHR, s ] );
                				// Handle the global AJAX counter
                				if ( !( --jQuery.active ) ) {
                					jQuery.event.trigger("ajaxStop");
                				}
                			}
                		}
                
                		return jqXHR;
                	},
                
                	getJSON: function( url, data, callback ) {
                		return jQuery.get( url, data, callback, "json" );
                	},
                
                	getScript: function( url, callback ) {
                		return jQuery.get( url, undefined, callback, "script" );
                	}
                });
                
                jQuery.each( [ "get", "post" ], function( i, method ) {
                	jQuery[ method ] = function( url, data, callback, type ) {
                		// shift arguments if data argument was omitted
                		if ( jQuery.isFunction( data ) ) {
                			type = type || callback;
                			callback = data;
                			data = undefined;
                		}
                
                		return jQuery.ajax({
                			url: url,
                			type: method,
                			dataType: type,
                			data: data,
                			success: callback
                		});
                	};
                });
                
                /* Handles responses to an ajax request:
                 * - finds the right dataType (mediates between content-type and expected dataType)
                 * - returns the corresponding response
                 */
                function ajaxHandleResponses( s, jqXHR, responses ) {
                
                	var ct, type, finalDataType, firstDataType,
                		contents = s.contents,
                		dataTypes = s.dataTypes;
                
                	// Remove auto dataType and get content-type in the process
                	while( dataTypes[ 0 ] === "*" ) {
                		dataTypes.shift();
                		if ( ct === undefined ) {
                			ct = s.mimeType || jqXHR.getResponseHeader("Content-Type");
                		}
                	}
                
                	// Check if we're dealing with a known content-type
                	if ( ct ) {
                		for ( type in contents ) {
                			if ( contents[ type ] && contents[ type ].test( ct ) ) {
                				dataTypes.unshift( type );
                				break;
                			}
                		}
                	}
                
                	// Check to see if we have a response for the expected dataType
                	if ( dataTypes[ 0 ] in responses ) {
                		finalDataType = dataTypes[ 0 ];
                	} else {
                		// Try convertible dataTypes
                		for ( type in responses ) {
                			if ( !dataTypes[ 0 ] || s.converters[ type + " " + dataTypes[0] ] ) {
                				finalDataType = type;
                				break;
                			}
                			if ( !firstDataType ) {
                				firstDataType = type;
                			}
                		}
                		// Or just use first one
                		finalDataType = finalDataType || firstDataType;
                	}
                
                	// If we found a dataType
                	// We add the dataType to the list if needed
                	// and return the corresponding response
                	if ( finalDataType ) {
                		if ( finalDataType !== dataTypes[ 0 ] ) {
                			dataTypes.unshift( finalDataType );
                		}
                		return responses[ finalDataType ];
                	}
                }
                
                /* Chain conversions given the request and the original response
                 * Also sets the responseXXX fields on the jqXHR instance
                 */
                function ajaxConvert( s, response, jqXHR, isSuccess ) {
                	var conv2, current, conv, tmp, prev,
                		converters = {},
                		// Work with a copy of dataTypes in case we need to modify it for conversion
                		dataTypes = s.dataTypes.slice();
                
                	// Create converters map with lowercased keys
                	if ( dataTypes[ 1 ] ) {
                		for ( conv in s.converters ) {
                			converters[ conv.toLowerCase() ] = s.converters[ conv ];
                		}
                	}
                
                	current = dataTypes.shift();
                
                	// Convert to each sequential dataType
                	while ( current ) {
                
                		if ( s.responseFields[ current ] ) {
                			jqXHR[ s.responseFields[ current ] ] = response;
                		}
                
                		// Apply the dataFilter if provided
                		if ( !prev && isSuccess && s.dataFilter ) {
                			response = s.dataFilter( response, s.dataType );
                		}
                
                		prev = current;
                		current = dataTypes.shift();
                
                		if ( current ) {
                
                		// There's only work to do if current dataType is non-auto
                			if ( current === "*" ) {
                
                				current = prev;
                
                			// Convert response if prev dataType is non-auto and differs from current
                			} else if ( prev !== "*" && prev !== current ) {
                
                				// Seek a direct converter
                				conv = converters[ prev + " " + current ] || converters[ "* " + current ];
                
                				// If none found, seek a pair
                				if ( !conv ) {
                					for ( conv2 in converters ) {
                
                						// If conv2 outputs current
                						tmp = conv2.split( " " );
                						if ( tmp[ 1 ] === current ) {
                
                							// If prev can be converted to accepted input
                							conv = converters[ prev + " " + tmp[ 0 ] ] ||
                								converters[ "* " + tmp[ 0 ] ];
                							if ( conv ) {
                								// Condense equivalence converters
                								if ( conv === true ) {
                									conv = converters[ conv2 ];
                
                								// Otherwise, insert the intermediate dataType
                								} else if ( converters[ conv2 ] !== true ) {
                									current = tmp[ 0 ];
                									dataTypes.unshift( tmp[ 1 ] );
                								}
                								break;
                							}
                						}
                					}
                				}
                
                				// Apply converter (if not an equivalence)
                				if ( conv !== true ) {
                
                					// Unless errors are allowed to bubble, catch and return them
                					if ( conv && s[ "throws" ] ) {
                						response = conv( response );
                					} else {
                						try {
                							response = conv( response );
                						} catch ( e ) {
                							return { state: "parsererror", error: conv ? e : "No conversion from " + prev + " to " + current };
                						}
                					}
                				}
                			}
                		}
                	}
                
                	return { state: "success", data: response };
                }
                // Install script dataType
                jQuery.ajaxSetup({
                	accepts: {
                		script: "text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"
                	},
                	contents: {
                		script: /(?:java|ecma)script/
                	},
                	converters: {
                		"text script": function( text ) {
                			jQuery.globalEval( text );
                			return text;
                		}
                	}
                });
                
                // Handle cache's special case and crossDomain
                jQuery.ajaxPrefilter( "script", function( s ) {
                	if ( s.cache === undefined ) {
                		s.cache = false;
                	}
                	if ( s.crossDomain ) {
                		s.type = "GET";
                	}
                });
                
                // Bind script tag hack transport
                jQuery.ajaxTransport( "script", function( s ) {
                	// This transport only deals with cross domain requests
                	if ( s.crossDomain ) {
                		var script, callback;
                		return {
                			send: function( _, complete ) {
                				script = jQuery("<script>").prop({
                					async: true,
                					charset: s.scriptCharset,
                					src: s.url
                				}).on(
                					"load error",
                					callback = function( evt ) {
                						script.remove();
                						callback = null;
                						if ( evt ) {
                							complete( evt.type === "error" ? 404 : 200, evt.type );
                						}
                					}
                				);
                				document.head.appendChild( script[ 0 ] );
                			},
                			abort: function() {
                				if ( callback ) {
                					callback();
                				}
                			}
                		};
                	}
                });
                var oldCallbacks = [],
                	rjsonp = /(=)\?(?=&|$)|\?\?/;
                
                // Default jsonp settings
                jQuery.ajaxSetup({
                	jsonp: "callback",
                	jsonpCallback: function() {
                		var callback = oldCallbacks.pop() || ( jQuery.expando + "_" + ( ajax_nonce++ ) );
                		this[ callback ] = true;
                		return callback;
                	}
                });
                
                // Detect, normalize options and install callbacks for jsonp requests
                jQuery.ajaxPrefilter( "json jsonp", function( s, originalSettings, jqXHR ) {
                
                	var callbackName, overwritten, responseContainer,
                		jsonProp = s.jsonp !== false && ( rjsonp.test( s.url ) ?
                			"url" :
                			typeof s.data === "string" && !( s.contentType || "" ).indexOf("application/x-www-form-urlencoded") && rjsonp.test( s.data ) && "data"
                		);
                
                	// Handle iff the expected data type is "jsonp" or we have a parameter to set
                	if ( jsonProp || s.dataTypes[ 0 ] === "jsonp" ) {
                
                		// Get callback name, remembering preexisting value associated with it
                		callbackName = s.jsonpCallback = jQuery.isFunction( s.jsonpCallback ) ?
                			s.jsonpCallback() :
                			s.jsonpCallback;
                
                		// Insert callback into url or form data
                		if ( jsonProp ) {
                			s[ jsonProp ] = s[ jsonProp ].replace( rjsonp, "$1" + callbackName );
                		} else if ( s.jsonp !== false ) {
                			s.url += ( ajax_rquery.test( s.url ) ? "&" : "?" ) + s.jsonp + "=" + callbackName;
                		}
                
                		// Use data converter to retrieve json after script execution
                		s.converters["script json"] = function() {
                			if ( !responseContainer ) {
                				jQuery.error( callbackName + " was not called" );
                			}
                			return responseContainer[ 0 ];
                		};
                
                		// force json dataType
                		s.dataTypes[ 0 ] = "json";
                
                		// Install callback
                		overwritten = window[ callbackName ];
                		window[ callbackName ] = function() {
                			responseContainer = arguments;
                		};
                
                		// Clean-up function (fires after converters)
                		jqXHR.always(function() {
                			// Restore preexisting value
                			window[ callbackName ] = overwritten;
                
                			// Save back as free
                			if ( s[ callbackName ] ) {
                				// make sure that re-using the options doesn't screw things around
                				s.jsonpCallback = originalSettings.jsonpCallback;
                
                				// save the callback name for future use
                				oldCallbacks.push( callbackName );
                			}
                
                			// Call if it was a function and we have a response
                			if ( responseContainer && jQuery.isFunction( overwritten ) ) {
                				overwritten( responseContainer[ 0 ] );
                			}
                
                			responseContainer = overwritten = undefined;
                		});
                
                		// Delegate to script
                		return "script";
                	}
                });
                jQuery.ajaxSettings.xhr = function() {
                	try {
                		return new XMLHttpRequest();
                	} catch( e ) {}
                };
                
                var xhrSupported = jQuery.ajaxSettings.xhr(),
                	xhrSuccessStatus = {
                		// file protocol always yields status code 0, assume 200
                		0: 200,
                		// Support: IE9
                		// #1450: sometimes IE returns 1223 when it should be 204
                		1223: 204
                	},
                	// Support: IE9
                	// We need to keep track of outbound xhr and abort them manually
                	// because IE is not smart enough to do it all by itself
                	xhrId = 0,
                	xhrCallbacks = {};
                
                if ( window.ActiveXObject ) {
                	jQuery( window ).on( "unload", function() {
                		for( var key in xhrCallbacks ) {
                			xhrCallbacks[ key ]();
                		}
                		xhrCallbacks = undefined;
                	});
                }
                
                jQuery.support.cors = !!xhrSupported && ( "withCredentials" in xhrSupported );
                jQuery.support.ajax = xhrSupported = !!xhrSupported;
                
                jQuery.ajaxTransport(function( options ) {
                	var callback;
                	// Cross domain only allowed if supported through XMLHttpRequest
                	if ( jQuery.support.cors || xhrSupported && !options.crossDomain ) {
                		return {
                			send: function( headers, complete ) {
                				var i, id,
                					xhr = options.xhr();
                				xhr.open( options.type, options.url, options.async, options.username, options.password );
                				// Apply custom fields if provided
                				if ( options.xhrFields ) {
                					for ( i in options.xhrFields ) {
                						xhr[ i ] = options.xhrFields[ i ];
                					}
                				}
                				// Override mime type if needed
                				if ( options.mimeType && xhr.overrideMimeType ) {
                					xhr.overrideMimeType( options.mimeType );
                				}
                				// X-Requested-With header
                				// For cross-domain requests, seeing as conditions for a preflight are
                				// akin to a jigsaw puzzle, we simply never set it to be sure.
                				// (it can always be set on a per-request basis or even using ajaxSetup)
                				// For same-domain requests, won't change header if already provided.
                				if ( !options.crossDomain && !headers["X-Requested-With"] ) {
                					headers["X-Requested-With"] = "XMLHttpRequest";
                				}
                				// Set headers
                				for ( i in headers ) {
                					xhr.setRequestHeader( i, headers[ i ] );
                				}
                				// Callback
                				callback = function( type ) {
                					return function() {
                						if ( callback ) {
                							delete xhrCallbacks[ id ];
                							callback = xhr.onload = xhr.onerror = null;
                							if ( type === "abort" ) {
                								xhr.abort();
                							} else if ( type === "error" ) {
                								complete(
                									// file protocol always yields status 0, assume 404
                									xhr.status || 404,
                									xhr.statusText
                								);
                							} else {
                								complete(
                									xhrSuccessStatus[ xhr.status ] || xhr.status,
                									xhr.statusText,
                									// Support: IE9
                									// #11426: When requesting binary data, IE9 will throw an exception
                									// on any attempt to access responseText
                									typeof xhr.responseText === "string" ? {
                										text: xhr.responseText
                									} : undefined,
                									xhr.getAllResponseHeaders()
                								);
                							}
                						}
                					};
                				};
                				// Listen to events
                				xhr.onload = callback();
                				xhr.onerror = callback("error");
                				// Create the abort callback
                				callback = xhrCallbacks[( id = xhrId++ )] = callback("abort");
                				// Do send the request
                				// This may raise an exception which is actually
                				// handled in jQuery.ajax (so no try/catch here)
                				xhr.send( options.hasContent && options.data || null );
                			},
                			abort: function() {
                				if ( callback ) {
                					callback();
                				}
                			}
                		};
                	}
                });
                var fxNow, timerId,
                	rfxtypes = /^(?:toggle|show|hide)$/,
                	rfxnum = new RegExp( "^(?:([+-])=|)(" + core_pnum + ")([a-z%]*)$", "i" ),
                	rrun = /queueHooks$/,
                	animationPrefilters = [ defaultPrefilter ],
                	tweeners = {
                		"*": [function( prop, value ) {
                			var tween = this.createTween( prop, value ),
                				target = tween.cur(),
                				parts = rfxnum.exec( value ),
                				unit = parts && parts[ 3 ] || ( jQuery.cssNumber[ prop ] ? "" : "px" ),
                
                				// Starting value computation is required for potential unit mismatches
                				start = ( jQuery.cssNumber[ prop ] || unit !== "px" && +target ) &&
                					rfxnum.exec( jQuery.css( tween.elem, prop ) ),
                				scale = 1,
                				maxIterations = 20;
                
                			if ( start && start[ 3 ] !== unit ) {
                				// Trust units reported by jQuery.css
                				unit = unit || start[ 3 ];
                
                				// Make sure we update the tween properties later on
                				parts = parts || [];
                
                				// Iteratively approximate from a nonzero starting point
                				start = +target || 1;
                
                				do {
                					// If previous iteration zeroed out, double until we get *something*
                					// Use a string for doubling factor so we don't accidentally see scale as unchanged below
                					scale = scale || ".5";
                
                					// Adjust and apply
                					start = start / scale;
                					jQuery.style( tween.elem, prop, start + unit );
                
                				// Update scale, tolerating zero or NaN from tween.cur()
                				// And breaking the loop if scale is unchanged or perfect, or if we've just had enough
                				} while ( scale !== (scale = tween.cur() / target) && scale !== 1 && --maxIterations );
                			}
                
                			// Update tween properties
                			if ( parts ) {
                				start = tween.start = +start || +target || 0;
                				tween.unit = unit;
                				// If a +=/-= token was provided, we're doing a relative animation
                				tween.end = parts[ 1 ] ?
                					start + ( parts[ 1 ] + 1 ) * parts[ 2 ] :
                					+parts[ 2 ];
                			}
                
                			return tween;
                		}]
                	};
                
                // Animations created synchronously will run synchronously
                function createFxNow() {
                	setTimeout(function() {
                		fxNow = undefined;
                	});
                	return ( fxNow = jQuery.now() );
                }
                
                function createTween( value, prop, animation ) {
                	var tween,
                		collection = ( tweeners[ prop ] || [] ).concat( tweeners[ "*" ] ),
                		index = 0,
                		length = collection.length;
                	for ( ; index < length; index++ ) {
                		if ( (tween = collection[ index ].call( animation, prop, value )) ) {
                
                			// we're done with this property
                			return tween;
                		}
                	}
                }
                
                function Animation( elem, properties, options ) {
                	var result,
                		stopped,
                		index = 0,
                		length = animationPrefilters.length,
                		deferred = jQuery.Deferred().always( function() {
                			// don't match elem in the :animated selector
                			delete tick.elem;
                		}),
                		tick = function() {
                			if ( stopped ) {
                				return false;
                			}
                			var currentTime = fxNow || createFxNow(),
                				remaining = Math.max( 0, animation.startTime + animation.duration - currentTime ),
                				// archaic crash bug won't allow us to use 1 - ( 0.5 || 0 ) (#12497)
                				temp = remaining / animation.duration || 0,
                				percent = 1 - temp,
                				index = 0,
                				length = animation.tweens.length;
                
                			for ( ; index < length ; index++ ) {
                				animation.tweens[ index ].run( percent );
                			}
                
                			deferred.notifyWith( elem, [ animation, percent, remaining ]);
                
                			if ( percent < 1 && length ) {
                				return remaining;
                			} else {
                				deferred.resolveWith( elem, [ animation ] );
                				return false;
                			}
                		},
                		animation = deferred.promise({
                			elem: elem,
                			props: jQuery.extend( {}, properties ),
                			opts: jQuery.extend( true, { specialEasing: {} }, options ),
                			originalProperties: properties,
                			originalOptions: options,
                			startTime: fxNow || createFxNow(),
                			duration: options.duration,
                			tweens: [],
                			createTween: function( prop, end ) {
                				var tween = jQuery.Tween( elem, animation.opts, prop, end,
                						animation.opts.specialEasing[ prop ] || animation.opts.easing );
                				animation.tweens.push( tween );
                				return tween;
                			},
                			stop: function( gotoEnd ) {
                				var index = 0,
                					// if we are going to the end, we want to run all the tweens
                					// otherwise we skip this part
                					length = gotoEnd ? animation.tweens.length : 0;
                				if ( stopped ) {
                					return this;
                				}
                				stopped = true;
                				for ( ; index < length ; index++ ) {
                					animation.tweens[ index ].run( 1 );
                				}
                
                				// resolve when we played the last frame
                				// otherwise, reject
                				if ( gotoEnd ) {
                					deferred.resolveWith( elem, [ animation, gotoEnd ] );
                				} else {
                					deferred.rejectWith( elem, [ animation, gotoEnd ] );
                				}
                				return this;
                			}
                		}),
                		props = animation.props;
                
                	propFilter( props, animation.opts.specialEasing );
                
                	for ( ; index < length ; index++ ) {
                		result = animationPrefilters[ index ].call( animation, elem, props, animation.opts );
                		if ( result ) {
                			return result;
                		}
                	}
                
                	jQuery.map( props, createTween, animation );
                
                	if ( jQuery.isFunction( animation.opts.start ) ) {
                		animation.opts.start.call( elem, animation );
                	}
                
                	jQuery.fx.timer(
                		jQuery.extend( tick, {
                			elem: elem,
                			anim: animation,
                			queue: animation.opts.queue
                		})
                	);
                
                	// attach callbacks from options
                	return animation.progress( animation.opts.progress )
                		.done( animation.opts.done, animation.opts.complete )
                		.fail( animation.opts.fail )
                		.always( animation.opts.always );
                }
                
                function propFilter( props, specialEasing ) {
                	var index, name, easing, value, hooks;
                
                	// camelCase, specialEasing and expand cssHook pass
                	for ( index in props ) {
                		name = jQuery.camelCase( index );
                		easing = specialEasing[ name ];
                		value = props[ index ];
                		if ( jQuery.isArray( value ) ) {
                			easing = value[ 1 ];
                			value = props[ index ] = value[ 0 ];
                		}
                
                		if ( index !== name ) {
                			props[ name ] = value;
                			delete props[ index ];
                		}
                
                		hooks = jQuery.cssHooks[ name ];
                		if ( hooks && "expand" in hooks ) {
                			value = hooks.expand( value );
                			delete props[ name ];
                
                			// not quite $.extend, this wont overwrite keys already present.
                			// also - reusing 'index' from above because we have the correct "name"
                			for ( index in value ) {
                				if ( !( index in props ) ) {
                					props[ index ] = value[ index ];
                					specialEasing[ index ] = easing;
                				}
                			}
                		} else {
                			specialEasing[ name ] = easing;
                		}
                	}
                }
                
                jQuery.Animation = jQuery.extend( Animation, {
                
                	tweener: function( props, callback ) {
                		if ( jQuery.isFunction( props ) ) {
                			callback = props;
                			props = [ "*" ];
                		} else {
                			props = props.split(" ");
                		}
                
                		var prop,
                			index = 0,
                			length = props.length;
                
                		for ( ; index < length ; index++ ) {
                			prop = props[ index ];
                			tweeners[ prop ] = tweeners[ prop ] || [];
                			tweeners[ prop ].unshift( callback );
                		}
                	},
                
                	prefilter: function( callback, prepend ) {
                		if ( prepend ) {
                			animationPrefilters.unshift( callback );
                		} else {
                			animationPrefilters.push( callback );
                		}
                	}
                });
                
                function defaultPrefilter( elem, props, opts ) {
                	/* jshint validthis: true */
                	var prop, value, toggle, tween, hooks, oldfire,
                		anim = this,
                		orig = {},
                		style = elem.style,
                		hidden = elem.nodeType && isHidden( elem ),
                		dataShow = data_priv.get( elem, "fxshow" );
                
                	// handle queue: false promises
                	if ( !opts.queue ) {
                		hooks = jQuery._queueHooks( elem, "fx" );
                		if ( hooks.unqueued == null ) {
                			hooks.unqueued = 0;
                			oldfire = hooks.empty.fire;
                			hooks.empty.fire = function() {
                				if ( !hooks.unqueued ) {
                					oldfire();
                				}
                			};
                		}
                		hooks.unqueued++;
                
                		anim.always(function() {
                			// doing this makes sure that the complete handler will be called
                			// before this completes
                			anim.always(function() {
                				hooks.unqueued--;
                				if ( !jQuery.queue( elem, "fx" ).length ) {
                					hooks.empty.fire();
                				}
                			});
                		});
                	}
                
                	// height/width overflow pass
                	if ( elem.nodeType === 1 && ( "height" in props || "width" in props ) ) {
                		// Make sure that nothing sneaks out
                		// Record all 3 overflow attributes because IE9-10 do not
                		// change the overflow attribute when overflowX and
                		// overflowY are set to the same value
                		opts.overflow = [ style.overflow, style.overflowX, style.overflowY ];
                
                		// Set display property to inline-block for height/width
                		// animations on inline elements that are having width/height animated
                		if ( jQuery.css( elem, "display" ) === "inline" &&
                				jQuery.css( elem, "float" ) === "none" ) {
                
                			style.display = "inline-block";
                		}
                	}
                
                	if ( opts.overflow ) {
                		style.overflow = "hidden";
                		anim.always(function() {
                			style.overflow = opts.overflow[ 0 ];
                			style.overflowX = opts.overflow[ 1 ];
                			style.overflowY = opts.overflow[ 2 ];
                		});
                	}
                
                
                	// show/hide pass
                	for ( prop in props ) {
                		value = props[ prop ];
                		if ( rfxtypes.exec( value ) ) {
                			delete props[ prop ];
                			toggle = toggle || value === "toggle";
                			if ( value === ( hidden ? "hide" : "show" ) ) {
                
                				// If there is dataShow left over from a stopped hide or show and we are going to proceed with show, we should pretend to be hidden
                				if ( value === "show" && dataShow && dataShow[ prop ] !== undefined ) {
                					hidden = true;
                				} else {
                					continue;
                				}
                			}
                			orig[ prop ] = dataShow && dataShow[ prop ] || jQuery.style( elem, prop );
                		}
                	}
                
                	if ( !jQuery.isEmptyObject( orig ) ) {
                		if ( dataShow ) {
                			if ( "hidden" in dataShow ) {
                				hidden = dataShow.hidden;
                			}
                		} else {
                			dataShow = data_priv.access( elem, "fxshow", {} );
                		}
                
                		// store state if its toggle - enables .stop().toggle() to "reverse"
                		if ( toggle ) {
                			dataShow.hidden = !hidden;
                		}
                		if ( hidden ) {
                			jQuery( elem ).show();
                		} else {
                			anim.done(function() {
                				jQuery( elem ).hide();
                			});
                		}
                		anim.done(function() {
                			var prop;
                
                			data_priv.remove( elem, "fxshow" );
                			for ( prop in orig ) {
                				jQuery.style( elem, prop, orig[ prop ] );
                			}
                		});
                		for ( prop in orig ) {
                			tween = createTween( hidden ? dataShow[ prop ] : 0, prop, anim );
                
                			if ( !( prop in dataShow ) ) {
                				dataShow[ prop ] = tween.start;
                				if ( hidden ) {
                					tween.end = tween.start;
                					tween.start = prop === "width" || prop === "height" ? 1 : 0;
                				}
                			}
                		}
                	}
                }
                
                function Tween( elem, options, prop, end, easing ) {
                	return new Tween.prototype.init( elem, options, prop, end, easing );
                }
                jQuery.Tween = Tween;
                
                Tween.prototype = {
                	constructor: Tween,
                	init: function( elem, options, prop, end, easing, unit ) {
                		this.elem = elem;
                		this.prop = prop;
                		this.easing = easing || "swing";
                		this.options = options;
                		this.start = this.now = this.cur();
                		this.end = end;
                		this.unit = unit || ( jQuery.cssNumber[ prop ] ? "" : "px" );
                	},
                	cur: function() {
                		var hooks = Tween.propHooks[ this.prop ];
                
                		return hooks && hooks.get ?
                			hooks.get( this ) :
                			Tween.propHooks._default.get( this );
                	},
                	run: function( percent ) {
                		var eased,
                			hooks = Tween.propHooks[ this.prop ];
                
                		if ( this.options.duration ) {
                			this.pos = eased = jQuery.easing[ this.easing ](
                				percent, this.options.duration * percent, 0, 1, this.options.duration
                			);
                		} else {
                			this.pos = eased = percent;
                		}
                		this.now = ( this.end - this.start ) * eased + this.start;
                
                		if ( this.options.step ) {
                			this.options.step.call( this.elem, this.now, this );
                		}
                
                		if ( hooks && hooks.set ) {
                			hooks.set( this );
                		} else {
                			Tween.propHooks._default.set( this );
                		}
                		return this;
                	}
                };
                
                Tween.prototype.init.prototype = Tween.prototype;
                
                Tween.propHooks = {
                	_default: {
                		get: function( tween ) {
                			var result;
                
                			if ( tween.elem[ tween.prop ] != null &&
                				(!tween.elem.style || tween.elem.style[ tween.prop ] == null) ) {
                				return tween.elem[ tween.prop ];
                			}
                
                			// passing an empty string as a 3rd parameter to .css will automatically
                			// attempt a parseFloat and fallback to a string if the parse fails
                			// so, simple values such as "10px" are parsed to Float.
                			// complex values such as "rotate(1rad)" are returned as is.
                			result = jQuery.css( tween.elem, tween.prop, "" );
                			// Empty strings, null, undefined and "auto" are converted to 0.
                			return !result || result === "auto" ? 0 : result;
                		},
                		set: function( tween ) {
                			// use step hook for back compat - use cssHook if its there - use .style if its
                			// available and use plain properties where available
                			if ( jQuery.fx.step[ tween.prop ] ) {
                				jQuery.fx.step[ tween.prop ]( tween );
                			} else if ( tween.elem.style && ( tween.elem.style[ jQuery.cssProps[ tween.prop ] ] != null || jQuery.cssHooks[ tween.prop ] ) ) {
                				jQuery.style( tween.elem, tween.prop, tween.now + tween.unit );
                			} else {
                				tween.elem[ tween.prop ] = tween.now;
                			}
                		}
                	}
                };
                
                // Support: IE9
                // Panic based approach to setting things on disconnected nodes
                
                Tween.propHooks.scrollTop = Tween.propHooks.scrollLeft = {
                	set: function( tween ) {
                		if ( tween.elem.nodeType && tween.elem.parentNode ) {
                			tween.elem[ tween.prop ] = tween.now;
                		}
                	}
                };
                
                jQuery.each([ "toggle", "show", "hide" ], function( i, name ) {
                	var cssFn = jQuery.fn[ name ];
                	jQuery.fn[ name ] = function( speed, easing, callback ) {
                		return speed == null || typeof speed === "boolean" ?
                			cssFn.apply( this, arguments ) :
                			this.animate( genFx( name, true ), speed, easing, callback );
                	};
                });
                
                jQuery.fn.extend({
                	fadeTo: function( speed, to, easing, callback ) {
                
                		// show any hidden elements after setting opacity to 0
                		return this.filter( isHidden ).css( "opacity", 0 ).show()
                
                			// animate to the value specified
                			.end().animate({ opacity: to }, speed, easing, callback );
                	},
                	animate: function( prop, speed, easing, callback ) {
                		var empty = jQuery.isEmptyObject( prop ),
                			optall = jQuery.speed( speed, easing, callback ),
                			doAnimation = function() {
                				// Operate on a copy of prop so per-property easing won't be lost
                				var anim = Animation( this, jQuery.extend( {}, prop ), optall );
                
                				// Empty animations, or finishing resolves immediately
                				if ( empty || data_priv.get( this, "finish" ) ) {
                					anim.stop( true );
                				}
                			};
                			doAnimation.finish = doAnimation;
                
                		return empty || optall.queue === false ?
                			this.each( doAnimation ) :
                			this.queue( optall.queue, doAnimation );
                	},
                	stop: function( type, clearQueue, gotoEnd ) {
                		var stopQueue = function( hooks ) {
                			var stop = hooks.stop;
                			delete hooks.stop;
                			stop( gotoEnd );
                		};
                
                		if ( typeof type !== "string" ) {
                			gotoEnd = clearQueue;
                			clearQueue = type;
                			type = undefined;
                		}
                		if ( clearQueue && type !== false ) {
                			this.queue( type || "fx", [] );
                		}
                
                		return this.each(function() {
                			var dequeue = true,
                				index = type != null && type + "queueHooks",
                				timers = jQuery.timers,
                				data = data_priv.get( this );
                
                			if ( index ) {
                				if ( data[ index ] && data[ index ].stop ) {
                					stopQueue( data[ index ] );
                				}
                			} else {
                				for ( index in data ) {
                					if ( data[ index ] && data[ index ].stop && rrun.test( index ) ) {
                						stopQueue( data[ index ] );
                					}
                				}
                			}
                
                			for ( index = timers.length; index--; ) {
                				if ( timers[ index ].elem === this && (type == null || timers[ index ].queue === type) ) {
                					timers[ index ].anim.stop( gotoEnd );
                					dequeue = false;
                					timers.splice( index, 1 );
                				}
                			}
                
                			// start the next in the queue if the last step wasn't forced
                			// timers currently will call their complete callbacks, which will dequeue
                			// but only if they were gotoEnd
                			if ( dequeue || !gotoEnd ) {
                				jQuery.dequeue( this, type );
                			}
                		});
                	},
                	finish: function( type ) {
                		if ( type !== false ) {
                			type = type || "fx";
                		}
                		return this.each(function() {
                			var index,
                				data = data_priv.get( this ),
                				queue = data[ type + "queue" ],
                				hooks = data[ type + "queueHooks" ],
                				timers = jQuery.timers,
                				length = queue ? queue.length : 0;
                
                			// enable finishing flag on private data
                			data.finish = true;
                
                			// empty the queue first
                			jQuery.queue( this, type, [] );
                
                			if ( hooks && hooks.stop ) {
                				hooks.stop.call( this, true );
                			}
                
                			// look for any active animations, and finish them
                			for ( index = timers.length; index--; ) {
                				if ( timers[ index ].elem === this && timers[ index ].queue === type ) {
                					timers[ index ].anim.stop( true );
                					timers.splice( index, 1 );
                				}
                			}
                
                			// look for any animations in the old queue and finish them
                			for ( index = 0; index < length; index++ ) {
                				if ( queue[ index ] && queue[ index ].finish ) {
                					queue[ index ].finish.call( this );
                				}
                			}
                
                			// turn off finishing flag
                			delete data.finish;
                		});
                	}
                });
                
                // Generate parameters to create a standard animation
                function genFx( type, includeWidth ) {
                	var which,
                		attrs = { height: type },
                		i = 0;
                
                	// if we include width, step value is 1 to do all cssExpand values,
                	// if we don't include width, step value is 2 to skip over Left and Right
                	includeWidth = includeWidth? 1 : 0;
                	for( ; i < 4 ; i += 2 - includeWidth ) {
                		which = cssExpand[ i ];
                		attrs[ "margin" + which ] = attrs[ "padding" + which ] = type;
                	}
                
                	if ( includeWidth ) {
                		attrs.opacity = attrs.width = type;
                	}
                
                	return attrs;
                }
                
                // Generate shortcuts for custom animations
                jQuery.each({
                	slideDown: genFx("show"),
                	slideUp: genFx("hide"),
                	slideToggle: genFx("toggle"),
                	fadeIn: { opacity: "show" },
                	fadeOut: { opacity: "hide" },
                	fadeToggle: { opacity: "toggle" }
                }, function( name, props ) {
                	jQuery.fn[ name ] = function( speed, easing, callback ) {
                		return this.animate( props, speed, easing, callback );
                	};
                });
                
                jQuery.speed = function( speed, easing, fn ) {
                	var opt = speed && typeof speed === "object" ? jQuery.extend( {}, speed ) : {
                		complete: fn || !fn && easing ||
                			jQuery.isFunction( speed ) && speed,
                		duration: speed,
                		easing: fn && easing || easing && !jQuery.isFunction( easing ) && easing
                	};
                
                	opt.duration = jQuery.fx.off ? 0 : typeof opt.duration === "number" ? opt.duration :
                		opt.duration in jQuery.fx.speeds ? jQuery.fx.speeds[ opt.duration ] : jQuery.fx.speeds._default;
                
                	// normalize opt.queue - true/undefined/null -> "fx"
                	if ( opt.queue == null || opt.queue === true ) {
                		opt.queue = "fx";
                	}
                
                	// Queueing
                	opt.old = opt.complete;
                
                	opt.complete = function() {
                		if ( jQuery.isFunction( opt.old ) ) {
                			opt.old.call( this );
                		}
                
                		if ( opt.queue ) {
                			jQuery.dequeue( this, opt.queue );
                		}
                	};
                
                	return opt;
                };
                
                jQuery.easing = {
                	linear: function( p ) {
                		return p;
                	},
                	swing: function( p ) {
                		return 0.5 - Math.cos( p*Math.PI ) / 2;
                	}
                };
                
                jQuery.timers = [];
                jQuery.fx = Tween.prototype.init;
                jQuery.fx.tick = function() {
                	var timer,
                		timers = jQuery.timers,
                		i = 0;
                
                	fxNow = jQuery.now();
                
                	for ( ; i < timers.length; i++ ) {
                		timer = timers[ i ];
                		// Checks the timer has not already been removed
                		if ( !timer() && timers[ i ] === timer ) {
                			timers.splice( i--, 1 );
                		}
                	}
                
                	if ( !timers.length ) {
                		jQuery.fx.stop();
                	}
                	fxNow = undefined;
                };
                
                jQuery.fx.timer = function( timer ) {
                	if ( timer() && jQuery.timers.push( timer ) ) {
                		jQuery.fx.start();
                	}
                };
                
                jQuery.fx.interval = 13;
                
                jQuery.fx.start = function() {
                	if ( !timerId ) {
                		timerId = setInterval( jQuery.fx.tick, jQuery.fx.interval );
                	}
                };
                
                jQuery.fx.stop = function() {
                	clearInterval( timerId );
                	timerId = null;
                };
                
                jQuery.fx.speeds = {
                	slow: 600,
                	fast: 200,
                	// Default speed
                	_default: 400
                };
                
                // Back Compat <1.8 extension point
                jQuery.fx.step = {};
                
                if ( jQuery.expr && jQuery.expr.filters ) {
                	jQuery.expr.filters.animated = function( elem ) {
                		return jQuery.grep(jQuery.timers, function( fn ) {
                			return elem === fn.elem;
                		}).length;
                	};
                }
                jQuery.fn.offset = function( options ) {
                	if ( arguments.length ) {
                		return options === undefined ?
                			this :
                			this.each(function( i ) {
                				jQuery.offset.setOffset( this, options, i );
                			});
                	}
                
                	var docElem, win,
                		elem = this[ 0 ],
                		box = { top: 0, left: 0 },
                		doc = elem && elem.ownerDocument;
                
                	if ( !doc ) {
                		return;
                	}
                
                	docElem = doc.documentElement;
                
                	// Make sure it's not a disconnected DOM node
                	if ( !jQuery.contains( docElem, elem ) ) {
                		return box;
                	}
                
                	// If we don't have gBCR, just use 0,0 rather than error
                	// BlackBerry 5, iOS 3 (original iPhone)
                	if ( typeof elem.getBoundingClientRect !== core_strundefined ) {
                		box = elem.getBoundingClientRect();
                	}
                	win = getWindow( doc );
                	return {
                		top: box.top + win.pageYOffset - docElem.clientTop,
                		left: box.left + win.pageXOffset - docElem.clientLeft
                	};
                };
                
                jQuery.offset = {
                
                	setOffset: function( elem, options, i ) {
                		var curPosition, curLeft, curCSSTop, curTop, curOffset, curCSSLeft, calculatePosition,
                			position = jQuery.css( elem, "position" ),
                			curElem = jQuery( elem ),
                			props = {};
                
                		// Set position first, in-case top/left are set even on static elem
                		if ( position === "static" ) {
                			elem.style.position = "relative";
                		}
                
                		curOffset = curElem.offset();
                		curCSSTop = jQuery.css( elem, "top" );
                		curCSSLeft = jQuery.css( elem, "left" );
                		calculatePosition = ( position === "absolute" || position === "fixed" ) && ( curCSSTop + curCSSLeft ).indexOf("auto") > -1;
                
                		// Need to be able to calculate position if either top or left is auto and position is either absolute or fixed
                		if ( calculatePosition ) {
                			curPosition = curElem.position();
                			curTop = curPosition.top;
                			curLeft = curPosition.left;
                
                		} else {
                			curTop = parseFloat( curCSSTop ) || 0;
                			curLeft = parseFloat( curCSSLeft ) || 0;
                		}
                
                		if ( jQuery.isFunction( options ) ) {
                			options = options.call( elem, i, curOffset );
                		}
                
                		if ( options.top != null ) {
                			props.top = ( options.top - curOffset.top ) + curTop;
                		}
                		if ( options.left != null ) {
                			props.left = ( options.left - curOffset.left ) + curLeft;
                		}
                
                		if ( "using" in options ) {
                			options.using.call( elem, props );
                
                		} else {
                			curElem.css( props );
                		}
                	}
                };
                
                
                jQuery.fn.extend({
                
                	position: function() {
                		if ( !this[ 0 ] ) {
                			return;
                		}
                
                		var offsetParent, offset,
                			elem = this[ 0 ],
                			parentOffset = { top: 0, left: 0 };
                
                		// Fixed elements are offset from window (parentOffset = {top:0, left: 0}, because it is it's only offset parent
                		if ( jQuery.css( elem, "position" ) === "fixed" ) {
                			// We assume that getBoundingClientRect is available when computed position is fixed
                			offset = elem.getBoundingClientRect();
                
                		} else {
                			// Get *real* offsetParent
                			offsetParent = this.offsetParent();
                
                			// Get correct offsets
                			offset = this.offset();
                			if ( !jQuery.nodeName( offsetParent[ 0 ], "html" ) ) {
                				parentOffset = offsetParent.offset();
                			}
                
                			// Add offsetParent borders
                			parentOffset.top += jQuery.css( offsetParent[ 0 ], "borderTopWidth", true );
                			parentOffset.left += jQuery.css( offsetParent[ 0 ], "borderLeftWidth", true );
                		}
                
                		// Subtract parent offsets and element margins
                		return {
                			top: offset.top - parentOffset.top - jQuery.css( elem, "marginTop", true ),
                			left: offset.left - parentOffset.left - jQuery.css( elem, "marginLeft", true )
                		};
                	},
                
                	offsetParent: function() {
                		return this.map(function() {
                			var offsetParent = this.offsetParent || docElem;
                
                			while ( offsetParent && ( !jQuery.nodeName( offsetParent, "html" ) && jQuery.css( offsetParent, "position") === "static" ) ) {
                				offsetParent = offsetParent.offsetParent;
                			}
                
                			return offsetParent || docElem;
                		});
                	}
                });
                
                
                // Create scrollLeft and scrollTop methods
                jQuery.each( {scrollLeft: "pageXOffset", scrollTop: "pageYOffset"}, function( method, prop ) {
                	var top = "pageYOffset" === prop;
                
                	jQuery.fn[ method ] = function( val ) {
                		return jQuery.access( this, function( elem, method, val ) {
                			var win = getWindow( elem );
                
                			if ( val === undefined ) {
                				return win ? win[ prop ] : elem[ method ];
                			}
                
                			if ( win ) {
                				win.scrollTo(
                					!top ? val : window.pageXOffset,
                					top ? val : window.pageYOffset
                				);
                
                			} else {
                				elem[ method ] = val;
                			}
                		}, method, val, arguments.length, null );
                	};
                });
                
                function getWindow( elem ) {
                	return jQuery.isWindow( elem ) ? elem : elem.nodeType === 9 && elem.defaultView;
                }
                // Create innerHeight, innerWidth, height, width, outerHeight and outerWidth methods
                jQuery.each( { Height: "height", Width: "width" }, function( name, type ) {
                	jQuery.each( { padding: "inner" + name, content: type, "": "outer" + name }, function( defaultExtra, funcName ) {
                		// margin is only for outerHeight, outerWidth
                		jQuery.fn[ funcName ] = function( margin, value ) {
                			var chainable = arguments.length && ( defaultExtra || typeof margin !== "boolean" ),
                				extra = defaultExtra || ( margin === true || value === true ? "margin" : "border" );
                
                			return jQuery.access( this, function( elem, type, value ) {
                				var doc;
                
                				if ( jQuery.isWindow( elem ) ) {
                					// As of 5/8/2012 this will yield incorrect results for Mobile Safari, but there
                					// isn't a whole lot we can do. See pull request at this URL for discussion:
                					// https://github.com/jquery/jquery/pull/764
                					return elem.document.documentElement[ "client" + name ];
                				}
                
                				// Get document width or height
                				if ( elem.nodeType === 9 ) {
                					doc = elem.documentElement;
                
                					// Either scroll[Width/Height] or offset[Width/Height] or client[Width/Height],
                					// whichever is greatest
                					return Math.max(
                						elem.body[ "scroll" + name ], doc[ "scroll" + name ],
                						elem.body[ "offset" + name ], doc[ "offset" + name ],
                						doc[ "client" + name ]
                					);
                				}
                
                				return value === undefined ?
                					// Get width or height on the element, requesting but not forcing parseFloat
                					jQuery.css( elem, type, extra ) :
                
                					// Set width or height on the element
                					jQuery.style( elem, type, value, extra );
                			}, type, chainable ? margin : undefined, chainable, null );
                		};
                	});
                });
                // Limit scope pollution from any deprecated API
                // (function() {
                
                // The number of elements contained in the matched element set
                jQuery.fn.size = function() {
                	return this.length;
                };
                
                jQuery.fn.andSelf = jQuery.fn.addBack;
                
                // })();
                if ( typeof module === "object" && module && typeof module.exports === "object" ) {
                	// Expose jQuery as module.exports in loaders that implement the Node
                	// module pattern (including browserify). Do not create the global, since
                	// the user will be storing it themselves locally, and globals are frowned
                	// upon in the Node module world.
                	module.exports = jQuery;
                } else {
                	// Register as a named AMD module, since jQuery can be concatenated with other
                	// files that may use define, but not via a proper concatenation script that
                	// understands anonymous AMD modules. A named AMD is safest and most robust
                	// way to register. Lowercase jquery is used because AMD module names are
                	// derived from file names, and jQuery is normally delivered in a lowercase
                	// file name. Do this after creating the global so that if an AMD module wants
                	// to call noConflict to hide this version of jQuery, it will work.
                	if ( typeof define === "function" && define.amd ) {
                		define( "jquery", [], function () { return jQuery; } );
                	}
                }
                
                // If there is a window object, that at least has a document property,
                // define jQuery and $ identifiers
                if ( typeof window === "object" && typeof window.document === "object" ) {
                	window.jQuery = window.$ = jQuery;
                }
                
                })( window );
                
                //     Backbone.js 1.1.0
                
                //     (c) 2010-2011 Jeremy Ashkenas, DocumentCloud Inc.
                //     (c) 2011-2013 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
                //     Backbone may be freely distributed under the MIT license.
                //     For all details and documentation:
                //     http://backbonejs.org
                
                (function(root, factory) {
                  // Set up Backbone appropriately for the environment.
                  if (typeof exports !== 'undefined') {
                    // Node/CommonJS, no need for jQuery in that case.
                    factory(root, exports, require('underscore'));
                  } else if (typeof define === 'function' && define.amd) {
                    // AMD
                    define('backbone',['underscore', 'jquery', 'exports'], function(_, $, exports) {
                      // Export global even in AMD case in case this script is loaded with
                      // others that may still expect a global Backbone.
                      root.Backbone = factory(root, exports, _, $);
                    });
                  } else {
                    // Browser globals
                    root.Backbone = factory(root, {}, root._, (root.jQuery || root.Zepto || root.ender || root.$));
                  }
                }(this, function(root, Backbone, _, $) {
                
                  // Initial Setup
                  // -------------
                
                  // Save the previous value of the `Backbone` variable, so that it can be
                  // restored later on, if `noConflict` is used.
                  var previousBackbone = root.Backbone;
                
                  // Create local references to array methods we'll want to use later.
                  var array = [];
                  var push = array.push;
                  var slice = array.slice;
                  var splice = array.splice;
                
                  // Current version of the library. Keep in sync with `package.json`.
                  Backbone.VERSION = '1.1.0';
                
                  // For Backbone's purposes, jQuery, Zepto, or Ender owns the `$` variable.
                  Backbone.$ = $;
                
                  // Runs Backbone.js in *noConflict* mode, returning the `Backbone` variable
                  // to its previous owner. Returns a reference to this Backbone object.
                  Backbone.noConflict = function() {
                    root.Backbone = previousBackbone;
                    return this;
                  };
                
                  // Turn on `emulateHTTP` to support legacy HTTP servers. Setting this option
                  // will fake `"PATCH"`, `"PUT"` and `"DELETE"` requests via the `_method` parameter and
                  // set a `X-Http-Method-Override` header.
                  Backbone.emulateHTTP = false;
                
                  // Turn on `emulateJSON` to support legacy servers that can't deal with direct
                  // `application/json` requests ... will encode the body as
                  // `application/x-www-form-urlencoded` instead and will send the model in a
                  // form param named `model`.
                  Backbone.emulateJSON = false;
                
                  // Backbone.Events
                  // ---------------
                
                  // A module that can be mixed in to *any object* in order to provide it with
                  // custom events. You may bind with `on` or remove with `off` callback
                  // functions to an event; `trigger`-ing an event fires all callbacks in
                  // succession.
                  //
                  //     var object = {};
                  //     _.extend(object, Backbone.Events);
                  //     object.on('expand', function(){ alert('expanded'); });
                  //     object.trigger('expand');
                  //
                  var Events = Backbone.Events = {
                
                    // Bind an event to a `callback` function. Passing `"all"` will bind
                    // the callback to all events fired.
                    on: function(name, callback, context) {
                      if (!eventsApi(this, 'on', name, [callback, context]) || !callback) return this;
                      this._events || (this._events = {});
                      var events = this._events[name] || (this._events[name] = []);
                      events.push({callback: callback, context: context, ctx: context || this});
                      return this;
                    },
                
                    // Bind an event to only be triggered a single time. After the first time
                    // the callback is invoked, it will be removed.
                    once: function(name, callback, context) {
                      if (!eventsApi(this, 'once', name, [callback, context]) || !callback) return this;
                      var self = this;
                      var once = _.once(function() {
                        self.off(name, once);
                        callback.apply(this, arguments);
                      });
                      once._callback = callback;
                      return this.on(name, once, context);
                    },
                
                    // Remove one or many callbacks. If `context` is null, removes all
                    // callbacks with that function. If `callback` is null, removes all
                    // callbacks for the event. If `name` is null, removes all bound
                    // callbacks for all events.
                    off: function(name, callback, context) {
                      var retain, ev, events, names, i, l, j, k;
                      if (!this._events || !eventsApi(this, 'off', name, [callback, context])) return this;
                      if (!name && !callback && !context) {
                        this._events = {};
                        return this;
                      }
                      names = name ? [name] : _.keys(this._events);
                      for (i = 0, l = names.length; i < l; i++) {
                        name = names[i];
                        if (events = this._events[name]) {
                          this._events[name] = retain = [];
                          if (callback || context) {
                            for (j = 0, k = events.length; j < k; j++) {
                              ev = events[j];
                              if ((callback && callback !== ev.callback && callback !== ev.callback._callback) ||
                                  (context && context !== ev.context)) {
                                retain.push(ev);
                              }
                            }
                          }
                          if (!retain.length) delete this._events[name];
                        }
                      }
                
                      return this;
                    },
                
                    // Trigger one or many events, firing all bound callbacks. Callbacks are
                    // passed the same arguments as `trigger` is, apart from the event name
                    // (unless you're listening on `"all"`, which will cause your callback to
                    // receive the true name of the event as the first argument).
                    trigger: function(name) {
                      if (!this._events) return this;
                      var args = slice.call(arguments, 1);
                      if (!eventsApi(this, 'trigger', name, args)) return this;
                      var events = this._events[name];
                      var allEvents = this._events.all;
                      if (events) triggerEvents(events, args);
                      if (allEvents) triggerEvents(allEvents, arguments);
                      return this;
                    },
                
                    // Tell this object to stop listening to either specific events ... or
                    // to every object it's currently listening to.
                    stopListening: function(obj, name, callback) {
                      var listeningTo = this._listeningTo;
                      if (!listeningTo) return this;
                      var remove = !name && !callback;
                      if (!callback && typeof name === 'object') callback = this;
                      if (obj) (listeningTo = {})[obj._listenId] = obj;
                      for (var id in listeningTo) {
                        obj = listeningTo[id];
                        obj.off(name, callback, this);
                        if (remove || _.isEmpty(obj._events)) delete this._listeningTo[id];
                      }
                      return this;
                    }
                
                  };
                
                  // Regular expression used to split event strings.
                  var eventSplitter = /\s+/;
                
                  // Implement fancy features of the Events API such as multiple event
                  // names `"change blur"` and jQuery-style event maps `{change: action}`
                  // in terms of the existing API.
                  var eventsApi = function(obj, action, name, rest) {
                    if (!name) return true;
                
                    // Handle event maps.
                    if (typeof name === 'object') {
                      for (var key in name) {
                        obj[action].apply(obj, [key, name[key]].concat(rest));
                      }
                      return false;
                    }
                
                    // Handle space separated event names.
                    if (eventSplitter.test(name)) {
                      var names = name.split(eventSplitter);
                      for (var i = 0, l = names.length; i < l; i++) {
                        obj[action].apply(obj, [names[i]].concat(rest));
                      }
                      return false;
                    }
                
                    return true;
                  };
                
                  // A difficult-to-believe, but optimized internal dispatch function for
                  // triggering events. Tries to keep the usual cases speedy (most internal
                  // Backbone events have 3 arguments).
                  var triggerEvents = function(events, args) {
                    var ev, i = -1, l = events.length, a1 = args[0], a2 = args[1], a3 = args[2];
                    switch (args.length) {
                      case 0: while (++i < l) (ev = events[i]).callback.call(ev.ctx); return;
                      case 1: while (++i < l) (ev = events[i]).callback.call(ev.ctx, a1); return;
                      case 2: while (++i < l) (ev = events[i]).callback.call(ev.ctx, a1, a2); return;
                      case 3: while (++i < l) (ev = events[i]).callback.call(ev.ctx, a1, a2, a3); return;
                      default: while (++i < l) (ev = events[i]).callback.apply(ev.ctx, args);
                    }
                  };
                
                  var listenMethods = {listenTo: 'on', listenToOnce: 'once'};
                
                  // Inversion-of-control versions of `on` and `once`. Tell *this* object to
                  // listen to an event in another object ... keeping track of what it's
                  // listening to.
                  _.each(listenMethods, function(implementation, method) {
                    Events[method] = function(obj, name, callback) {
                      var listeningTo = this._listeningTo || (this._listeningTo = {});
                      var id = obj._listenId || (obj._listenId = _.uniqueId('l'));
                      listeningTo[id] = obj;
                      if (!callback && typeof name === 'object') callback = this;
                      obj[implementation](name, callback, this);
                      return this;
                    };
                  });
                
                  // Aliases for backwards compatibility.
                  Events.bind   = Events.on;
                  Events.unbind = Events.off;
                
                  // Allow the `Backbone` object to serve as a global event bus, for folks who
                  // want global "pubsub" in a convenient place.
                  _.extend(Backbone, Events);
                
                  // Backbone.Model
                  // --------------
                
                  // Backbone **Models** are the basic data object in the framework --
                  // frequently representing a row in a table in a database on your server.
                  // A discrete chunk of data and a bunch of useful, related methods for
                  // performing computations and transformations on that data.
                
                  // Create a new model with the specified attributes. A client id (`cid`)
                  // is automatically generated and assigned for you.
                  var Model = Backbone.Model = function(attributes, options) {
                    var attrs = attributes || {};
                    options || (options = {});
                    this.cid = _.uniqueId('c');
                    this.attributes = {};
                    if (options.collection) this.collection = options.collection;
                    if (options.parse) attrs = this.parse(attrs, options) || {};
                    attrs = _.defaults({}, attrs, _.result(this, 'defaults'));
                    this.set(attrs, options);
                    this.changed = {};
                    this.initialize.apply(this, arguments);
                  };
                
                  // Attach all inheritable methods to the Model prototype.
                  _.extend(Model.prototype, Events, {
                
                    // A hash of attributes whose current and previous value differ.
                    changed: null,
                
                    // The value returned during the last failed validation.
                    validationError: null,
                
                    // The default name for the JSON `id` attribute is `"id"`. MongoDB and
                    // CouchDB users may want to set this to `"_id"`.
                    idAttribute: 'id',
                
                    // Initialize is an empty function by default. Override it with your own
                    // initialization logic.
                    initialize: function(){},
                
                    // Return a copy of the model's `attributes` object.
                    toJSON: function(options) {
                      return _.clone(this.attributes);
                    },
                
                    // Proxy `Backbone.sync` by default -- but override this if you need
                    // custom syncing semantics for *this* particular model.
                    sync: function() {
                      return Backbone.sync.apply(this, arguments);
                    },
                
                    // Get the value of an attribute.
                    get: function(attr) {
                      return this.attributes[attr];
                    },
                
                    // Get the HTML-escaped value of an attribute.
                    escape: function(attr) {
                      return _.escape(this.get(attr));
                    },
                
                    // Returns `true` if the attribute contains a value that is not null
                    // or undefined.
                    has: function(attr) {
                      return this.get(attr) != null;
                    },
                
                    // Set a hash of model attributes on the object, firing `"change"`. This is
                    // the core primitive operation of a model, updating the data and notifying
                    // anyone who needs to know about the change in state. The heart of the beast.
                    set: function(key, val, options) {
                      var attr, attrs, unset, changes, silent, changing, prev, current;
                      if (key == null) return this;
                
                      // Handle both `"key", value` and `{key: value}` -style arguments.
                      if (typeof key === 'object') {
                        attrs = key;
                        options = val;
                      } else {
                        (attrs = {})[key] = val;
                      }
                
                      options || (options = {});
                
                      // Run validation.
                      if (!this._validate(attrs, options)) return false;
                
                      // Extract attributes and options.
                      unset           = options.unset;
                      silent          = options.silent;
                      changes         = [];
                      changing        = this._changing;
                      this._changing  = true;
                
                      if (!changing) {
                        this._previousAttributes = _.clone(this.attributes);
                        this.changed = {};
                      }
                      current = this.attributes, prev = this._previousAttributes;
                
                      // Check for changes of `id`.
                      if (this.idAttribute in attrs) this.id = attrs[this.idAttribute];
                
                      // For each `set` attribute, update or delete the current value.
                      for (attr in attrs) {
                        val = attrs[attr];
                        if (!_.isEqual(current[attr], val)) changes.push(attr);
                        if (!_.isEqual(prev[attr], val)) {
                          this.changed[attr] = val;
                        } else {
                          delete this.changed[attr];
                        }
                        unset ? delete current[attr] : current[attr] = val;
                      }
                
                      // Trigger all relevant attribute changes.
                      if (!silent) {
                        if (changes.length) this._pending = true;
                        for (var i = 0, l = changes.length; i < l; i++) {
                          this.trigger('change:' + changes[i], this, current[changes[i]], options);
                        }
                      }
                
                      // You might be wondering why there's a `while` loop here. Changes can
                      // be recursively nested within `"change"` events.
                      if (changing) return this;
                      if (!silent) {
                        while (this._pending) {
                          this._pending = false;
                          this.trigger('change', this, options);
                        }
                      }
                      this._pending = false;
                      this._changing = false;
                      return this;
                    },
                
                    // Remove an attribute from the model, firing `"change"`. `unset` is a noop
                    // if the attribute doesn't exist.
                    unset: function(attr, options) {
                      return this.set(attr, void 0, _.extend({}, options, {unset: true}));
                    },
                
                    // Clear all attributes on the model, firing `"change"`.
                    clear: function(options) {
                      var attrs = {};
                      for (var key in this.attributes) attrs[key] = void 0;
                      return this.set(attrs, _.extend({}, options, {unset: true}));
                    },
                
                    // Determine if the model has changed since the last `"change"` event.
                    // If you specify an attribute name, determine if that attribute has changed.
                    hasChanged: function(attr) {
                      if (attr == null) return !_.isEmpty(this.changed);
                      return _.has(this.changed, attr);
                    },
                
                    // Return an object containing all the attributes that have changed, or
                    // false if there are no changed attributes. Useful for determining what
                    // parts of a view need to be updated and/or what attributes need to be
                    // persisted to the server. Unset attributes will be set to undefined.
                    // You can also pass an attributes object to diff against the model,
                    // determining if there *would be* a change.
                    changedAttributes: function(diff) {
                      if (!diff) return this.hasChanged() ? _.clone(this.changed) : false;
                      var val, changed = false;
                      var old = this._changing ? this._previousAttributes : this.attributes;
                      for (var attr in diff) {
                        if (_.isEqual(old[attr], (val = diff[attr]))) continue;
                        (changed || (changed = {}))[attr] = val;
                      }
                      return changed;
                    },
                
                    // Get the previous value of an attribute, recorded at the time the last
                    // `"change"` event was fired.
                    previous: function(attr) {
                      if (attr == null || !this._previousAttributes) return null;
                      return this._previousAttributes[attr];
                    },
                
                    // Get all of the attributes of the model at the time of the previous
                    // `"change"` event.
                    previousAttributes: function() {
                      return _.clone(this._previousAttributes);
                    },
                
                    // Fetch the model from the server. If the server's representation of the
                    // model differs from its current attributes, they will be overridden,
                    // triggering a `"change"` event.
                    fetch: function(options) {
                      options = options ? _.clone(options) : {};
                      if (options.parse === void 0) options.parse = true;
                      var model = this;
                      var success = options.success;
                      options.success = function(resp) {
                        if (!model.set(model.parse(resp, options), options)) return false;
                        if (success) success(model, resp, options);
                        model.trigger('sync', model, resp, options);
                      };
                      wrapError(this, options);
                      return this.sync('read', this, options);
                    },
                
                    // Set a hash of model attributes, and sync the model to the server.
                    // If the server returns an attributes hash that differs, the model's
                    // state will be `set` again.
                    save: function(key, val, options) {
                      var attrs, method, xhr, attributes = this.attributes;
                
                      // Handle both `"key", value` and `{key: value}` -style arguments.
                      if (key == null || typeof key === 'object') {
                        attrs = key;
                        options = val;
                      } else {
                        (attrs = {})[key] = val;
                      }
                
                      options = _.extend({validate: true}, options);
                
                      // If we're not waiting and attributes exist, save acts as
                      // `set(attr).save(null, opts)` with validation. Otherwise, check if
                      // the model will be valid when the attributes, if any, are set.
                      if (attrs && !options.wait) {
                        if (!this.set(attrs, options)) return false;
                      } else {
                        if (!this._validate(attrs, options)) return false;
                      }
                
                      // Set temporary attributes if `{wait: true}`.
                      if (attrs && options.wait) {
                        this.attributes = _.extend({}, attributes, attrs);
                      }
                
                      // After a successful server-side save, the client is (optionally)
                      // updated with the server-side state.
                      if (options.parse === void 0) options.parse = true;
                      var model = this;
                      var success = options.success;
                      options.success = function(resp) {
                        // Ensure attributes are restored during synchronous saves.
                        model.attributes = attributes;
                        var serverAttrs = model.parse(resp, options);
                        if (options.wait) serverAttrs = _.extend(attrs || {}, serverAttrs);
                        if (_.isObject(serverAttrs) && !model.set(serverAttrs, options)) {
                          return false;
                        }
                        if (success) success(model, resp, options);
                        model.trigger('sync', model, resp, options);
                      };
                      wrapError(this, options);
                
                      method = this.isNew() ? 'create' : (options.patch ? 'patch' : 'update');
                      if (method === 'patch') options.attrs = attrs;
                      xhr = this.sync(method, this, options);
                
                      // Restore attributes.
                      if (attrs && options.wait) this.attributes = attributes;
                
                      return xhr;
                    },
                
                    // Destroy this model on the server if it was already persisted.
                    // Optimistically removes the model from its collection, if it has one.
                    // If `wait: true` is passed, waits for the server to respond before removal.
                    destroy: function(options) {
                      options = options ? _.clone(options) : {};
                      var model = this;
                      var success = options.success;
                
                      var destroy = function() {
                        model.trigger('destroy', model, model.collection, options);
                      };
                
                      options.success = function(resp) {
                        if (options.wait || model.isNew()) destroy();
                        if (success) success(model, resp, options);
                        if (!model.isNew()) model.trigger('sync', model, resp, options);
                      };
                
                      if (this.isNew()) {
                        options.success();
                        return false;
                      }
                      wrapError(this, options);
                
                      var xhr = this.sync('delete', this, options);
                      if (!options.wait) destroy();
                      return xhr;
                    },
                
                    // Default URL for the model's representation on the server -- if you're
                    // using Backbone's restful methods, override this to change the endpoint
                    // that will be called.
                    url: function() {
                      var base = _.result(this, 'urlRoot') || _.result(this.collection, 'url') || urlError();
                      if (this.isNew()) return base;
                      return base + (base.charAt(base.length - 1) === '/' ? '' : '/') + encodeURIComponent(this.id);
                    },
                
                    // **parse** converts a response into the hash of attributes to be `set` on
                    // the model. The default implementation is just to pass the response along.
                    parse: function(resp, options) {
                      return resp;
                    },
                
                    // Create a new model with identical attributes to this one.
                    clone: function() {
                      return new this.constructor(this.attributes);
                    },
                
                    // A model is new if it has never been saved to the server, and lacks an id.
                    isNew: function() {
                      return this.id == null;
                    },
                
                    // Check if the model is currently in a valid state.
                    isValid: function(options) {
                      return this._validate({}, _.extend(options || {}, { validate: true }));
                    },
                
                    // Run validation against the next complete set of model attributes,
                    // returning `true` if all is well. Otherwise, fire an `"invalid"` event.
                    _validate: function(attrs, options) {
                      if (!options.validate || !this.validate) return true;
                      attrs = _.extend({}, this.attributes, attrs);
                      var error = this.validationError = this.validate(attrs, options) || null;
                      if (!error) return true;
                      this.trigger('invalid', this, error, _.extend(options, {validationError: error}));
                      return false;
                    }
                
                  });
                
                  // Underscore methods that we want to implement on the Model.
                  var modelMethods = ['keys', 'values', 'pairs', 'invert', 'pick', 'omit'];
                
                  // Mix in each Underscore method as a proxy to `Model#attributes`.
                  _.each(modelMethods, function(method) {
                    Model.prototype[method] = function() {
                      var args = slice.call(arguments);
                      args.unshift(this.attributes);
                      return _[method].apply(_, args);
                    };
                  });
                
                  // Backbone.Collection
                  // -------------------
                
                  // If models tend to represent a single row of data, a Backbone Collection is
                  // more analagous to a table full of data ... or a small slice or page of that
                  // table, or a collection of rows that belong together for a particular reason
                  // -- all of the messages in this particular folder, all of the documents
                  // belonging to this particular author, and so on. Collections maintain
                  // indexes of their models, both in order, and for lookup by `id`.
                
                  // Create a new **Collection**, perhaps to contain a specific type of `model`.
                  // If a `comparator` is specified, the Collection will maintain
                  // its models in sort order, as they're added and removed.
                  var Collection = Backbone.Collection = function(models, options) {
                    options || (options = {});
                    if (options.model) this.model = options.model;
                    if (options.comparator !== void 0) this.comparator = options.comparator;
                    this._reset();
                    this.initialize.apply(this, arguments);
                    if (models) this.reset(models, _.extend({silent: true}, options));
                  };
                
                  // Default options for `Collection#set`.
                  var setOptions = {add: true, remove: true, merge: true};
                  var addOptions = {add: true, remove: false};
                
                  // Define the Collection's inheritable methods.
                  _.extend(Collection.prototype, Events, {
                
                    // The default model for a collection is just a **Backbone.Model**.
                    // This should be overridden in most cases.
                    model: Model,
                
                    // Initialize is an empty function by default. Override it with your own
                    // initialization logic.
                    initialize: function(){},
                
                    // The JSON representation of a Collection is an array of the
                    // models' attributes.
                    toJSON: function(options) {
                      return this.map(function(model){ return model.toJSON(options); });
                    },
                
                    // Proxy `Backbone.sync` by default.
                    sync: function() {
                      return Backbone.sync.apply(this, arguments);
                    },
                
                    // Add a model, or list of models to the set.
                    add: function(models, options) {
                      return this.set(models, _.extend({merge: false}, options, addOptions));
                    },
                
                    // Remove a model, or a list of models from the set.
                    remove: function(models, options) {
                      var singular = !_.isArray(models);
                      models = singular ? [models] : _.clone(models);
                      options || (options = {});
                      var i, l, index, model;
                      for (i = 0, l = models.length; i < l; i++) {
                        model = models[i] = this.get(models[i]);
                        if (!model) continue;
                        delete this._byId[model.id];
                        delete this._byId[model.cid];
                        index = this.indexOf(model);
                        this.models.splice(index, 1);
                        this.length--;
                        if (!options.silent) {
                          options.index = index;
                          model.trigger('remove', model, this, options);
                        }
                        this._removeReference(model);
                      }
                      return singular ? models[0] : models;
                    },
                
                    // Update a collection by `set`-ing a new list of models, adding new ones,
                    // removing models that are no longer present, and merging models that
                    // already exist in the collection, as necessary. Similar to **Model#set**,
                    // the core operation for updating the data contained by the collection.
                    set: function(models, options) {
                      options = _.defaults({}, options, setOptions);
                      if (options.parse) models = this.parse(models, options);
                      var singular = !_.isArray(models);
                      models = singular ? (models ? [models] : []) : _.clone(models);
                      var i, l, id, model, attrs, existing, sort;
                      var at = options.at;
                      var targetModel = this.model;
                      var sortable = this.comparator && (at == null) && options.sort !== false;
                      var sortAttr = _.isString(this.comparator) ? this.comparator : null;
                      var toAdd = [], toRemove = [], modelMap = {};
                      var add = options.add, merge = options.merge, remove = options.remove;
                      var order = !sortable && add && remove ? [] : false;
                
                      // Turn bare objects into model references, and prevent invalid models
                      // from being added.
                      for (i = 0, l = models.length; i < l; i++) {
                        attrs = models[i];
                        if (attrs instanceof Model) {
                          id = model = attrs;
                        } else {
                          id = attrs[targetModel.prototype.idAttribute];
                        }
                
                        // If a duplicate is found, prevent it from being added and
                        // optionally merge it into the existing model.
                        if (existing = this.get(id)) {
                          if (remove) modelMap[existing.cid] = true;
                          if (merge) {
                            attrs = attrs === model ? model.attributes : attrs;
                            if (options.parse) attrs = existing.parse(attrs, options);
                            existing.set(attrs, options);
                            if (sortable && !sort && existing.hasChanged(sortAttr)) sort = true;
                          }
                          models[i] = existing;
                
                        // If this is a new, valid model, push it to the `toAdd` list.
                        } else if (add) {
                          model = models[i] = this._prepareModel(attrs, options);
                          if (!model) continue;
                          toAdd.push(model);
                
                          // Listen to added models' events, and index models for lookup by
                          // `id` and by `cid`.
                          model.on('all', this._onModelEvent, this);
                          this._byId[model.cid] = model;
                          if (model.id != null) this._byId[model.id] = model;
                        }
                        if (order) order.push(existing || model);
                      }
                
                      // Remove nonexistent models if appropriate.
                      if (remove) {
                        for (i = 0, l = this.length; i < l; ++i) {
                          if (!modelMap[(model = this.models[i]).cid]) toRemove.push(model);
                        }
                        if (toRemove.length) this.remove(toRemove, options);
                      }
                
                      // See if sorting is needed, update `length` and splice in new models.
                      if (toAdd.length || (order && order.length)) {
                        if (sortable) sort = true;
                        this.length += toAdd.length;
                        if (at != null) {
                          for (i = 0, l = toAdd.length; i < l; i++) {
                            this.models.splice(at + i, 0, toAdd[i]);
                          }
                        } else {
                          if (order) this.models.length = 0;
                          var orderedModels = order || toAdd;
                          for (i = 0, l = orderedModels.length; i < l; i++) {
                            this.models.push(orderedModels[i]);
                          }
                        }
                      }
                
                      // Silently sort the collection if appropriate.
                      if (sort) this.sort({silent: true});
                
                      // Unless silenced, it's time to fire all appropriate add/sort events.
                      if (!options.silent) {
                        for (i = 0, l = toAdd.length; i < l; i++) {
                          (model = toAdd[i]).trigger('add', model, this, options);
                        }
                        if (sort || (order && order.length)) this.trigger('sort', this, options);
                      }
                      
                      // Return the added (or merged) model (or models).
                      return singular ? models[0] : models;
                    },
                
                    // When you have more items than you want to add or remove individually,
                    // you can reset the entire set with a new list of models, without firing
                    // any granular `add` or `remove` events. Fires `reset` when finished.
                    // Useful for bulk operations and optimizations.
                    reset: function(models, options) {
                      options || (options = {});
                      for (var i = 0, l = this.models.length; i < l; i++) {
                        this._removeReference(this.models[i]);
                      }
                      options.previousModels = this.models;
                      this._reset();
                      models = this.add(models, _.extend({silent: true}, options));
                      if (!options.silent) this.trigger('reset', this, options);
                      return models;
                    },
                
                    // Add a model to the end of the collection.
                    push: function(model, options) {
                      return this.add(model, _.extend({at: this.length}, options));
                    },
                
                    // Remove a model from the end of the collection.
                    pop: function(options) {
                      var model = this.at(this.length - 1);
                      this.remove(model, options);
                      return model;
                    },
                
                    // Add a model to the beginning of the collection.
                    unshift: function(model, options) {
                      return this.add(model, _.extend({at: 0}, options));
                    },
                
                    // Remove a model from the beginning of the collection.
                    shift: function(options) {
                      var model = this.at(0);
                      this.remove(model, options);
                      return model;
                    },
                
                    // Slice out a sub-array of models from the collection.
                    slice: function() {
                      return slice.apply(this.models, arguments);
                    },
                
                    // Get a model from the set by id.
                    get: function(obj) {
                      if (obj == null) return void 0;
                      return this._byId[obj.id] || this._byId[obj.cid] || this._byId[obj];
                    },
                
                    // Get the model at the given index.
                    at: function(index) {
                      return this.models[index];
                    },
                
                    // Return models with matching attributes. Useful for simple cases of
                    // `filter`.
                    where: function(attrs, first) {
                      if (_.isEmpty(attrs)) return first ? void 0 : [];
                      return this[first ? 'find' : 'filter'](function(model) {
                        for (var key in attrs) {
                          if (attrs[key] !== model.get(key)) return false;
                        }
                        return true;
                      });
                    },
                
                    // Return the first model with matching attributes. Useful for simple cases
                    // of `find`.
                    findWhere: function(attrs) {
                      return this.where(attrs, true);
                    },
                
                    // Force the collection to re-sort itself. You don't need to call this under
                    // normal circumstances, as the set will maintain sort order as each item
                    // is added.
                    sort: function(options) {
                      if (!this.comparator) throw new Error('Cannot sort a set without a comparator');
                      options || (options = {});
                
                      // Run sort based on type of `comparator`.
                      if (_.isString(this.comparator) || this.comparator.length === 1) {
                        this.models = this.sortBy(this.comparator, this);
                      } else {
                        this.models.sort(_.bind(this.comparator, this));
                      }
                
                      if (!options.silent) this.trigger('sort', this, options);
                      return this;
                    },
                
                    // Pluck an attribute from each model in the collection.
                    pluck: function(attr) {
                      return _.invoke(this.models, 'get', attr);
                    },
                
                    // Fetch the default set of models for this collection, resetting the
                    // collection when they arrive. If `reset: true` is passed, the response
                    // data will be passed through the `reset` method instead of `set`.
                    fetch: function(options) {
                      options = options ? _.clone(options) : {};
                      if (options.parse === void 0) options.parse = true;
                      var success = options.success;
                      var collection = this;
                      options.success = function(resp) {
                        var method = options.reset ? 'reset' : 'set';
                        collection[method](resp, options);
                        if (success) success(collection, resp, options);
                        collection.trigger('sync', collection, resp, options);
                      };
                      wrapError(this, options);
                      return this.sync('read', this, options);
                    },
                
                    // Create a new instance of a model in this collection. Add the model to the
                    // collection immediately, unless `wait: true` is passed, in which case we
                    // wait for the server to agree.
                    create: function(model, options) {
                      options = options ? _.clone(options) : {};
                      if (!(model = this._prepareModel(model, options))) return false;
                      if (!options.wait) this.add(model, options);
                      var collection = this;
                      var success = options.success;
                      options.success = function(model, resp, options) {
                        if (options.wait) collection.add(model, options);
                        if (success) success(model, resp, options);
                      };
                      model.save(null, options);
                      return model;
                    },
                
                    // **parse** converts a response into a list of models to be added to the
                    // collection. The default implementation is just to pass it through.
                    parse: function(resp, options) {
                      return resp;
                    },
                
                    // Create a new collection with an identical list of models as this one.
                    clone: function() {
                      return new this.constructor(this.models);
                    },
                
                    // Private method to reset all internal state. Called when the collection
                    // is first initialized or reset.
                    _reset: function() {
                      this.length = 0;
                      this.models = [];
                      this._byId  = {};
                    },
                
                    // Prepare a hash of attributes (or other model) to be added to this
                    // collection.
                    _prepareModel: function(attrs, options) {
                      if (attrs instanceof Model) {
                        if (!attrs.collection) attrs.collection = this;
                        return attrs;
                      }
                      options = options ? _.clone(options) : {};
                      options.collection = this;
                      var model = new this.model(attrs, options);
                      if (!model.validationError) return model;
                      this.trigger('invalid', this, model.validationError, options);
                      return false;
                    },
                
                    // Internal method to sever a model's ties to a collection.
                    _removeReference: function(model) {
                      if (this === model.collection) delete model.collection;
                      model.off('all', this._onModelEvent, this);
                    },
                
                    // Internal method called every time a model in the set fires an event.
                    // Sets need to update their indexes when models change ids. All other
                    // events simply proxy through. "add" and "remove" events that originate
                    // in other collections are ignored.
                    _onModelEvent: function(event, model, collection, options) {
                      if ((event === 'add' || event === 'remove') && collection !== this) return;
                      if (event === 'destroy') this.remove(model, options);
                      if (model && event === 'change:' + model.idAttribute) {
                        delete this._byId[model.previous(model.idAttribute)];
                        if (model.id != null) this._byId[model.id] = model;
                      }
                      this.trigger.apply(this, arguments);
                    }
                
                  });
                
                  // Underscore methods that we want to implement on the Collection.
                  // 90% of the core usefulness of Backbone Collections is actually implemented
                  // right here:
                  var methods = ['forEach', 'each', 'map', 'collect', 'reduce', 'foldl',
                    'inject', 'reduceRight', 'foldr', 'find', 'detect', 'filter', 'select',
                    'reject', 'every', 'all', 'some', 'any', 'include', 'contains', 'invoke',
                    'max', 'min', 'toArray', 'size', 'first', 'head', 'take', 'initial', 'rest',
                    'tail', 'drop', 'last', 'without', 'difference', 'indexOf', 'shuffle',
                    'lastIndexOf', 'isEmpty', 'chain'];
                
                  // Mix in each Underscore method as a proxy to `Collection#models`.
                  _.each(methods, function(method) {
                    Collection.prototype[method] = function() {
                      var args = slice.call(arguments);
                      args.unshift(this.models);
                      return _[method].apply(_, args);
                    };
                  });
                
                  // Underscore methods that take a property name as an argument.
                  var attributeMethods = ['groupBy', 'countBy', 'sortBy'];
                
                  // Use attributes instead of properties.
                  _.each(attributeMethods, function(method) {
                    Collection.prototype[method] = function(value, context) {
                      var iterator = _.isFunction(value) ? value : function(model) {
                        return model.get(value);
                      };
                      return _[method](this.models, iterator, context);
                    };
                  });
                
                  // Backbone.View
                  // -------------
                
                  // Backbone Views are almost more convention than they are actual code. A View
                  // is simply a JavaScript object that represents a logical chunk of UI in the
                  // DOM. This might be a single item, an entire list, a sidebar or panel, or
                  // even the surrounding frame which wraps your whole app. Defining a chunk of
                  // UI as a **View** allows you to define your DOM events declaratively, without
                  // having to worry about render order ... and makes it easy for the view to
                  // react to specific changes in the state of your models.
                
                  // Creating a Backbone.View creates its initial element outside of the DOM,
                  // if an existing element is not provided...
                  var View = Backbone.View = function(options) {
                    this.cid = _.uniqueId('view');
                    options || (options = {});
                    _.extend(this, _.pick(options, viewOptions));
                    this._ensureElement();
                    this.initialize.apply(this, arguments);
                    this.delegateEvents();
                  };
                
                  // Cached regex to split keys for `delegate`.
                  var delegateEventSplitter = /^(\S+)\s*(.*)$/;
                
                  // List of view options to be merged as properties.
                  var viewOptions = ['model', 'collection', 'el', 'id', 'attributes', 'className', 'tagName', 'events'];
                
                  // Set up all inheritable **Backbone.View** properties and methods.
                  _.extend(View.prototype, Events, {
                
                    // The default `tagName` of a View's element is `"div"`.
                    tagName: 'div',
                
                    // jQuery delegate for element lookup, scoped to DOM elements within the
                    // current view. This should be preferred to global lookups where possible.
                    $: function(selector) {
                      return this.$el.find(selector);
                    },
                
                    // Initialize is an empty function by default. Override it with your own
                    // initialization logic.
                    initialize: function(){},
                
                    // **render** is the core function that your view should override, in order
                    // to populate its element (`this.el`), with the appropriate HTML. The
                    // convention is for **render** to always return `this`.
                    render: function() {
                      return this;
                    },
                
                    // Remove this view by taking the element out of the DOM, and removing any
                    // applicable Backbone.Events listeners.
                    remove: function() {
                      this.$el.remove();
                      this.stopListening();
                      return this;
                    },
                
                    // Change the view's element (`this.el` property), including event
                    // re-delegation.
                    setElement: function(element, delegate) {
                      if (this.$el) this.undelegateEvents();
                      this.$el = element instanceof Backbone.$ ? element : Backbone.$(element);
                      this.el = this.$el[0];
                      if (delegate !== false) this.delegateEvents();
                      return this;
                    },
                
                    // Set callbacks, where `this.events` is a hash of
                    //
                    // *{"event selector": "callback"}*
                    //
                    //     {
                    //       'mousedown .title':  'edit',
                    //       'click .button':     'save',
                    //       'click .open':       function(e) { ... }
                    //     }
                    //
                    // pairs. Callbacks will be bound to the view, with `this` set properly.
                    // Uses event delegation for efficiency.
                    // Omitting the selector binds the event to `this.el`.
                    // This only works for delegate-able events: not `focus`, `blur`, and
                    // not `change`, `submit`, and `reset` in Internet Explorer.
                    delegateEvents: function(events) {
                      if (!(events || (events = _.result(this, 'events')))) return this;
                      this.undelegateEvents();
                      for (var key in events) {
                        var method = events[key];
                        if (!_.isFunction(method)) method = this[events[key]];
                        if (!method) continue;
                
                        var match = key.match(delegateEventSplitter);
                        var eventName = match[1], selector = match[2];
                        method = _.bind(method, this);
                        eventName += '.delegateEvents' + this.cid;
                        if (selector === '') {
                          this.$el.on(eventName, method);
                        } else {
                          this.$el.on(eventName, selector, method);
                        }
                      }
                      return this;
                    },
                
                    // Clears all callbacks previously bound to the view with `delegateEvents`.
                    // You usually don't need to use this, but may wish to if you have multiple
                    // Backbone views attached to the same DOM element.
                    undelegateEvents: function() {
                      this.$el.off('.delegateEvents' + this.cid);
                      return this;
                    },
                
                    // Ensure that the View has a DOM element to render into.
                    // If `this.el` is a string, pass it through `$()`, take the first
                    // matching element, and re-assign it to `el`. Otherwise, create
                    // an element from the `id`, `className` and `tagName` properties.
                    _ensureElement: function() {
                      if (!this.el) {
                        var attrs = _.extend({}, _.result(this, 'attributes'));
                        if (this.id) attrs.id = _.result(this, 'id');
                        if (this.className) attrs['class'] = _.result(this, 'className');
                        var $el = Backbone.$('<' + _.result(this, 'tagName') + '>').attr(attrs);
                        this.setElement($el, false);
                      } else {
                        this.setElement(_.result(this, 'el'), false);
                      }
                    }
                
                  });
                
                  // Backbone.sync
                  // -------------
                
                  // Override this function to change the manner in which Backbone persists
                  // models to the server. You will be passed the type of request, and the
                  // model in question. By default, makes a RESTful Ajax request
                  // to the model's `url()`. Some possible customizations could be:
                  //
                  // * Use `setTimeout` to batch rapid-fire updates into a single request.
                  // * Send up the models as XML instead of JSON.
                  // * Persist models via WebSockets instead of Ajax.
                  //
                  // Turn on `Backbone.emulateHTTP` in order to send `PUT` and `DELETE` requests
                  // as `POST`, with a `_method` parameter containing the true HTTP method,
                  // as well as all requests with the body as `application/x-www-form-urlencoded`
                  // instead of `application/json` with the model in a param named `model`.
                  // Useful when interfacing with server-side languages like **PHP** that make
                  // it difficult to read the body of `PUT` requests.
                  Backbone.sync = function(method, model, options) {
                    var type = methodMap[method];
                
                    // Default options, unless specified.
                    _.defaults(options || (options = {}), {
                      emulateHTTP: Backbone.emulateHTTP,
                      emulateJSON: Backbone.emulateJSON
                    });
                
                    // Default JSON-request options.
                    var params = {type: type, dataType: 'json'};
                
                    // Ensure that we have a URL.
                    if (!options.url) {
                      params.url = _.result(model, 'url') || urlError();
                    }
                
                    // Ensure that we have the appropriate request data.
                    if (options.data == null && model && (method === 'create' || method === 'update' || method === 'patch')) {
                      params.contentType = 'application/json';
                      params.data = JSON.stringify(options.attrs || model.toJSON(options));
                    }
                
                    // For older servers, emulate JSON by encoding the request into an HTML-form.
                    if (options.emulateJSON) {
                      params.contentType = 'application/x-www-form-urlencoded';
                      params.data = params.data ? {model: params.data} : {};
                    }
                
                    // For older servers, emulate HTTP by mimicking the HTTP method with `_method`
                    // And an `X-HTTP-Method-Override` header.
                    if (options.emulateHTTP && (type === 'PUT' || type === 'DELETE' || type === 'PATCH')) {
                      params.type = 'POST';
                      if (options.emulateJSON) params.data._method = type;
                      var beforeSend = options.beforeSend;
                      options.beforeSend = function(xhr) {
                        xhr.setRequestHeader('X-HTTP-Method-Override', type);
                        if (beforeSend) return beforeSend.apply(this, arguments);
                      };
                    }
                
                    // Don't process data on a non-GET request.
                    if (params.type !== 'GET' && !options.emulateJSON) {
                      params.processData = false;
                    }
                
                    // If we're sending a `PATCH` request, and we're in an old Internet Explorer
                    // that still has ActiveX enabled by default, override jQuery to use that
                    // for XHR instead. Remove this line when jQuery supports `PATCH` on IE8.
                    if (params.type === 'PATCH' && noXhrPatch) {
                      params.xhr = function() {
                        return new ActiveXObject("Microsoft.XMLHTTP");
                      };
                    }
                
                    // Make the request, allowing the user to override any Ajax options.
                    var xhr = options.xhr = Backbone.ajax(_.extend(params, options));
                    model.trigger('request', model, xhr, options);
                    return xhr;
                  };
                
                  var noXhrPatch = typeof window !== 'undefined' && !!window.ActiveXObject && !(window.XMLHttpRequest && (new XMLHttpRequest).dispatchEvent);
                
                  // Map from CRUD to HTTP for our default `Backbone.sync` implementation.
                  var methodMap = {
                    'create': 'POST',
                    'update': 'PUT',
                    'patch':  'PATCH',
                    'delete': 'DELETE',
                    'read':   'GET'
                  };
                
                  // Set the default implementation of `Backbone.ajax` to proxy through to `$`.
                  // Override this if you'd like to use a different library.
                  Backbone.ajax = function() {
                    return Backbone.$.ajax.apply(Backbone.$, arguments);
                  };
                
                  // Backbone.Router
                  // ---------------
                
                  // Routers map faux-URLs to actions, and fire events when routes are
                  // matched. Creating a new one sets its `routes` hash, if not set statically.
                  var Router = Backbone.Router = function(options) {
                    options || (options = {});
                    if (options.routes) this.routes = options.routes;
                    this._bindRoutes();
                    this.initialize.apply(this, arguments);
                  };
                
                  // Cached regular expressions for matching named param parts and splatted
                  // parts of route strings.
                  var optionalParam = /\((.*?)\)/g;
                  var namedParam    = /(\(\?)?:\w+/g;
                  var splatParam    = /\*\w+/g;
                  var escapeRegExp  = /[\-{}\[\]+?.,\\\^$|#\s]/g;
                
                  // Set up all inheritable **Backbone.Router** properties and methods.
                  _.extend(Router.prototype, Events, {
                
                    // Initialize is an empty function by default. Override it with your own
                    // initialization logic.
                    initialize: function(){},
                
                    // Manually bind a single named route to a callback. For example:
                    //
                    //     this.route('search/:query/p:num', 'search', function(query, num) {
                    //       ...
                    //     });
                    //
                    route: function(route, name, callback) {
                      if (!_.isRegExp(route)) route = this._routeToRegExp(route);
                      if (_.isFunction(name)) {
                        callback = name;
                        name = '';
                      }
                      if (!callback) callback = this[name];
                      var router = this;
                      Backbone.history.route(route, function(fragment) {
                        var args = router._extractParameters(route, fragment);
                        callback && callback.apply(router, args);
                        router.trigger.apply(router, ['route:' + name].concat(args));
                        router.trigger('route', name, args);
                        Backbone.history.trigger('route', router, name, args);
                      });
                      return this;
                    },
                
                    // Simple proxy to `Backbone.history` to save a fragment into the history.
                    navigate: function(fragment, options) {
                      Backbone.history.navigate(fragment, options);
                      return this;
                    },
                
                    // Bind all defined routes to `Backbone.history`. We have to reverse the
                    // order of the routes here to support behavior where the most general
                    // routes can be defined at the bottom of the route map.
                    _bindRoutes: function() {
                      if (!this.routes) return;
                      this.routes = _.result(this, 'routes');
                      var route, routes = _.keys(this.routes);
                      while ((route = routes.pop()) != null) {
                        this.route(route, this.routes[route]);
                      }
                    },
                
                    // Convert a route string into a regular expression, suitable for matching
                    // against the current location hash.
                    _routeToRegExp: function(route) {
                      route = route.replace(escapeRegExp, '\\$&')
                                   .replace(optionalParam, '(?:$1)?')
                                   .replace(namedParam, function(match, optional) {
                                     return optional ? match : '([^\/]+)';
                                   })
                                   .replace(splatParam, '(.*?)');
                      return new RegExp('^' + route + '$');
                    },
                
                    // Given a route, and a URL fragment that it matches, return the array of
                    // extracted decoded parameters. Empty or unmatched parameters will be
                    // treated as `null` to normalize cross-browser behavior.
                    _extractParameters: function(route, fragment) {
                      var params = route.exec(fragment).slice(1);
                      return _.map(params, function(param) {
                        return param ? decodeURIComponent(param) : null;
                      });
                    }
                
                  });
                
                  // Backbone.History
                  // ----------------
                
                  // Handles cross-browser history management, based on either
                  // [pushState](http://diveintohtml5.info/history.html) and real URLs, or
                  // [onhashchange](https://developer.mozilla.org/en-US/docs/DOM/window.onhashchange)
                  // and URL fragments. If the browser supports neither (old IE, natch),
                  // falls back to polling.
                  var History = Backbone.History = function() {
                    this.handlers = [];
                    _.bindAll(this, 'checkUrl');
                
                    // Ensure that `History` can be used outside of the browser.
                    if (typeof window !== 'undefined') {
                      this.location = window.location;
                      this.history = window.history;
                    }
                  };
                
                  // Cached regex for stripping a leading hash/slash and trailing space.
                  var routeStripper = /^[#\/]|\s+$/g;
                
                  // Cached regex for stripping leading and trailing slashes.
                  var rootStripper = /^\/+|\/+$/g;
                
                  // Cached regex for detecting MSIE.
                  var isExplorer = /msie [\w.]+/;
                
                  // Cached regex for removing a trailing slash.
                  var trailingSlash = /\/$/;
                
                  // Cached regex for stripping urls of hash and query.
                  var pathStripper = /[?#].*$/;
                
                  // Has the history handling already been started?
                  History.started = false;
                
                  // Set up all inheritable **Backbone.History** properties and methods.
                  _.extend(History.prototype, Events, {
                
                    // The default interval to poll for hash changes, if necessary, is
                    // twenty times a second.
                    interval: 50,
                
                    // Gets the true hash value. Cannot use location.hash directly due to bug
                    // in Firefox where location.hash will always be decoded.
                    getHash: function(window) {
                      var match = (window || this).location.href.match(/#(.*)$/);
                      return match ? match[1] : '';
                    },
                
                    // Get the cross-browser normalized URL fragment, either from the URL,
                    // the hash, or the override.
                    getFragment: function(fragment, forcePushState) {
                      if (fragment == null) {
                        if (this._hasPushState || !this._wantsHashChange || forcePushState) {
                          fragment = this.location.pathname;
                          var root = this.root.replace(trailingSlash, '');
                          if (!fragment.indexOf(root)) fragment = fragment.slice(root.length);
                        } else {
                          fragment = this.getHash();
                        }
                      }
                      return fragment.replace(routeStripper, '');
                    },
                
                    // Start the hash change handling, returning `true` if the current URL matches
                    // an existing route, and `false` otherwise.
                    start: function(options) {
                      if (History.started) throw new Error("Backbone.history has already been started");
                      History.started = true;
                
                      // Figure out the initial configuration. Do we need an iframe?
                      // Is pushState desired ... is it available?
                      this.options          = _.extend({root: '/'}, this.options, options);
                      this.root             = this.options.root;
                      this._wantsHashChange = this.options.hashChange !== false;
                      this._wantsPushState  = !!this.options.pushState;
                      this._hasPushState    = !!(this.options.pushState && this.history && this.history.pushState);
                      var fragment          = this.getFragment();
                      var docMode           = document.documentMode;
                      var oldIE             = (isExplorer.exec(navigator.userAgent.toLowerCase()) && (!docMode || docMode <= 7));
                
                      // Normalize root to always include a leading and trailing slash.
                      this.root = ('/' + this.root + '/').replace(rootStripper, '/');
                
                      if (oldIE && this._wantsHashChange) {
                        this.iframe = Backbone.$('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo('body')[0].contentWindow;
                        this.navigate(fragment);
                      }
                
                      // Depending on whether we're using pushState or hashes, and whether
                      // 'onhashchange' is supported, determine how we check the URL state.
                      if (this._hasPushState) {
                        Backbone.$(window).on('popstate', this.checkUrl);
                      } else if (this._wantsHashChange && ('onhashchange' in window) && !oldIE) {
                        Backbone.$(window).on('hashchange', this.checkUrl);
                      } else if (this._wantsHashChange) {
                        this._checkUrlInterval = setInterval(this.checkUrl, this.interval);
                      }
                
                      // Determine if we need to change the base url, for a pushState link
                      // opened by a non-pushState browser.
                      this.fragment = fragment;
                      var loc = this.location;
                      var atRoot = loc.pathname.replace(/[^\/]$/, '$&/') === this.root;
                
                      // Transition from hashChange to pushState or vice versa if both are
                      // requested.
                      if (this._wantsHashChange && this._wantsPushState) {
                
                        // If we've started off with a route from a `pushState`-enabled
                        // browser, but we're currently in a browser that doesn't support it...
                        if (!this._hasPushState && !atRoot) {
                          this.fragment = this.getFragment(null, true);
                          this.location.replace(this.root + this.location.search + '#' + this.fragment);
                          // Return immediately as browser will do redirect to new url
                          return true;
                
                        // Or if we've started out with a hash-based route, but we're currently
                        // in a browser where it could be `pushState`-based instead...
                        } else if (this._hasPushState && atRoot && loc.hash) {
                          this.fragment = this.getHash().replace(routeStripper, '');
                          this.history.replaceState({}, document.title, this.root + this.fragment + loc.search);
                        }
                
                      }
                
                      if (!this.options.silent) return this.loadUrl();
                    },
                
                    // Disable Backbone.history, perhaps temporarily. Not useful in a real app,
                    // but possibly useful for unit testing Routers.
                    stop: function() {
                      Backbone.$(window).off('popstate', this.checkUrl).off('hashchange', this.checkUrl);
                      clearInterval(this._checkUrlInterval);
                      History.started = false;
                    },
                
                    // Add a route to be tested when the fragment changes. Routes added later
                    // may override previous routes.
                    route: function(route, callback) {
                      this.handlers.unshift({route: route, callback: callback});
                    },
                
                    // Checks the current URL to see if it has changed, and if it has,
                    // calls `loadUrl`, normalizing across the hidden iframe.
                    checkUrl: function(e) {
                      var current = this.getFragment();
                      if (current === this.fragment && this.iframe) {
                        current = this.getFragment(this.getHash(this.iframe));
                      }
                      if (current === this.fragment) return false;
                      if (this.iframe) this.navigate(current);
                      this.loadUrl();
                    },
                
                    // Attempt to load the current URL fragment. If a route succeeds with a
                    // match, returns `true`. If no defined routes matches the fragment,
                    // returns `false`.
                    loadUrl: function(fragment) {
                      fragment = this.fragment = this.getFragment(fragment);
                      return _.any(this.handlers, function(handler) {
                        if (handler.route.test(fragment)) {
                          handler.callback(fragment);
                          return true;
                        }
                      });
                    },
                
                    // Save a fragment into the hash history, or replace the URL state if the
                    // 'replace' option is passed. You are responsible for properly URL-encoding
                    // the fragment in advance.
                    //
                    // The options object can contain `trigger: true` if you wish to have the
                    // route callback be fired (not usually desirable), or `replace: true`, if
                    // you wish to modify the current URL without adding an entry to the history.
                    navigate: function(fragment, options) {
                      if (!History.started) return false;
                      if (!options || options === true) options = {trigger: !!options};
                
                      var url = this.root + (fragment = this.getFragment(fragment || ''));
                
                      // Strip the fragment of the query and hash for matching.
                      fragment = fragment.replace(pathStripper, '');
                
                      if (this.fragment === fragment) return;
                      this.fragment = fragment;
                
                      // Don't include a trailing slash on the root.
                      if (fragment === '' && url !== '/') url = url.slice(0, -1);
                
                      // If pushState is available, we use it to set the fragment as a real URL.
                      if (this._hasPushState) {
                        this.history[options.replace ? 'replaceState' : 'pushState']({}, document.title, url);
                
                      // If hash changes haven't been explicitly disabled, update the hash
                      // fragment to store history.
                      } else if (this._wantsHashChange) {
                        this._updateHash(this.location, fragment, options.replace);
                        if (this.iframe && (fragment !== this.getFragment(this.getHash(this.iframe)))) {
                          // Opening and closing the iframe tricks IE7 and earlier to push a
                          // history entry on hash-tag change.  When replace is true, we don't
                          // want this.
                          if(!options.replace) this.iframe.document.open().close();
                          this._updateHash(this.iframe.location, fragment, options.replace);
                        }
                
                      // If you've told us that you explicitly don't want fallback hashchange-
                      // based history, then `navigate` becomes a page refresh.
                      } else {
                        return this.location.assign(url);
                      }
                      if (options.trigger) return this.loadUrl(fragment);
                    },
                
                    // Update the hash location, either replacing the current entry, or adding
                    // a new one to the browser history.
                    _updateHash: function(location, fragment, replace) {
                      if (replace) {
                        var href = location.href.replace(/(javascript:|#).*$/, '');
                        location.replace(href + '#' + fragment);
                      } else {
                        // Some browsers require that `hash` contains a leading #.
                        location.hash = '#' + fragment;
                      }
                    }
                
                  });
                
                  // Create the default Backbone.history.
                  Backbone.history = new History;
                
                  // Helpers
                  // -------
                
                  // Helper function to correctly set up the prototype chain, for subclasses.
                  // Similar to `goog.inherits`, but uses a hash of prototype properties and
                  // class properties to be extended.
                  var extend = function(protoProps, staticProps) {
                    var parent = this;
                    var child;
                
                    // The constructor function for the new subclass is either defined by you
                    // (the "constructor" property in your `extend` definition), or defaulted
                    // by us to simply call the parent's constructor.
                    if (protoProps && _.has(protoProps, 'constructor')) {
                      child = protoProps.constructor;
                    } else {
                      child = function(){ return parent.apply(this, arguments); };
                    }
                
                    // Add static properties to the constructor function, if supplied.
                    _.extend(child, parent, staticProps);
                
                    // Set the prototype chain to inherit from `parent`, without calling
                    // `parent`'s constructor function.
                    var Surrogate = function(){ this.constructor = child; };
                    Surrogate.prototype = parent.prototype;
                    child.prototype = new Surrogate;
                
                    // Add prototype properties (instance properties) to the subclass,
                    // if supplied.
                    if (protoProps) _.extend(child.prototype, protoProps);
                
                    // Set a convenience property in case the parent's prototype is needed
                    // later.
                    child.__super__ = parent.prototype;
                
                    return child;
                  };
                
                  // Set up inheritance for the model, collection, router, view and history.
                  Model.extend = Collection.extend = Router.extend = View.extend = History.extend = extend;
                
                  // Throw an error when a URL is needed, and none is supplied.
                  var urlError = function() {
                    throw new Error('A "url" property or function must be specified');
                  };
                
                  // Wrap an optional error callback with a fallback error event.
                  var wrapError = function(model, options) {
                    var error = options.error;
                    options.error = function(resp) {
                      if (error) error(model, resp, options);
                      model.trigger('error', model, resp, options);
                    };
                  };
                
                  return Backbone;
                }));
                
                (function() {
                  define('common/custom',["underscore"], function(_) {
                    var monkey_patch;
                    monkey_patch = function() {
                      return _.uniqueId = function(prefix) {
                        var hexDigits, i, s, uuid, _i;
                        s = [];
                        hexDigits = "0123456789ABCDEF";
                        for (i = _i = 0; _i <= 31; i = ++_i) {
                          s[i] = hexDigits.substr(Math.floor(Math.random() * 0x10), 1);
                        }
                        s[12] = "4";
                        s[16] = hexDigits.substr((s[16] & 0x3) | 0x8, 1);
                        uuid = s.join("");
                        if (prefix) {
                          return prefix + "-" + uuid;
                        } else {
                          return uuid;
                        }
                      };
                    };
                    _.isNullOrUndefined = function(x) {
                      return _.isNull(x) || _.isUndefined(x);
                    };
                    _.setdefault = function(obj, key, value) {
                      if (_.has(obj, key)) {
                        return obj[key];
                      } else {
                        obj[key] = value;
                        return value;
                      }
                    };
                    return {
                      "monkey_patch": monkey_patch
                    };
                  });
                
                }).call(this);
                
                /*
                //@ sourceMappingURL=custom.js.map
                */;
                (function() {
                  define('common/build_views',["underscore"], function(_) {
                    var build_views;
                    return build_views = function(view_storage, view_models, options, view_types) {
                      var created_views, i_model, key, model, newmodels, to_remove, view_specific_option, _i, _j, _len, _len1;
                      if (view_types == null) {
                        view_types = [];
                      }
                      created_views = [];
                      newmodels = _.filter(view_models, function(x) {
                        return !_.has(view_storage, x.id);
                      });
                      for (i_model = _i = 0, _len = newmodels.length; _i < _len; i_model = ++_i) {
                        model = newmodels[i_model];
                        view_specific_option = _.extend({}, options, {
                          'model': model
                        });
                        if (i_model < view_types.length) {
                          view_storage[model.id] = new view_types[i_model](view_specific_option);
                        } else {
                          view_storage[model.id] = new model.default_view(view_specific_option);
                        }
                        created_views.push(view_storage[model.id]);
                      }
                      to_remove = _.difference(_.keys(view_storage), _.pluck(view_models, 'id'));
                      for (_j = 0, _len1 = to_remove.length; _j < _len1; _j++) {
                        key = to_remove[_j];
                        view_storage[key].remove();
                        delete view_storage[key];
                      }
                      return created_views;
                    };
                  });
                
                }).call(this);
                
                /*
                //@ sourceMappingURL=build_views.js.map
                */;
                (function() {
                  define('common/safebind',["underscore"], function(_) {
                    var safebind;
                    return safebind = function(binder, target, event, callback) {
                      var error,
                        _this = this;
                      if (!_.has(binder, 'eventers')) {
                        binder['eventers'] = {};
                      }
                      try {
                        binder['eventers'][target.id] = target;
                      } catch (_error) {
                        error = _error;
                      }
                      if (target != null) {
                        target.on(event, callback, binder);
                        target.on('destroy remove', function() {
                          return delete binder['eventers'][target];
                        }, binder);
                      } else {
                        debugger;
                        console.log("error with binder", binder, event);
                      }
                      return null;
                    };
                  });
                
                }).call(this);
                
                /*
                //@ sourceMappingURL=safebind.js.map
                */;
                (function() {
                  define('common/load_models',["require", "./base"], function(require, base) {
                    var load_models;
                    return load_models = function(modelspecs) {
                      var Collections, attrs, coll, coll_attrs, model, newspecs, oldspecs, _i, _j, _k, _l, _len, _len1, _len2, _len3, _len4, _m;
                      newspecs = [];
                      oldspecs = [];
                      Collections = require("./base").Collections;
                      for (_i = 0, _len = modelspecs.length; _i < _len; _i++) {
                        model = modelspecs[_i];
                        coll = Collections(model['type']);
                        attrs = model['attributes'];
                        if (coll && coll.get(attrs['id'])) {
                          oldspecs.push([coll, attrs]);
                        } else {
                          newspecs.push([coll, attrs]);
                        }
                      }
                      for (_j = 0, _len1 = newspecs.length; _j < _len1; _j++) {
                        coll_attrs = newspecs[_j];
                        coll = coll_attrs[0], attrs = coll_attrs[1];
                        if (coll) {
                          coll.add(attrs, {
                            'silent': true
                          });
                        }
                      }
                      for (_k = 0, _len2 = newspecs.length; _k < _len2; _k++) {
                        coll_attrs = newspecs[_k];
                        coll = coll_attrs[0], attrs = coll_attrs[1];
                        if (coll) {
                          coll.get(attrs['id']).dinitialize(attrs);
                        }
                      }
                      for (_l = 0, _len3 = newspecs.length; _l < _len3; _l++) {
                        coll_attrs = newspecs[_l];
                        coll = coll_attrs[0], attrs = coll_attrs[1];
                        if (coll) {
                          model = coll.get(attrs.id);
                          model.trigger('add', model, coll, {});
                        }
                      }
                      for (_m = 0, _len4 = oldspecs.length; _m < _len4; _m++) {
                        coll_attrs = oldspecs[_m];
                        coll = coll_attrs[0], attrs = coll_attrs[1];
                        if (coll) {
                          coll.get(attrs['id']).set(attrs);
                        }
                      }
                      return null;
                    };
                  });
                
                }).call(this);
                
                /*
                //@ sourceMappingURL=load_models.js.map
                */;
                (function() {
                  define('common/bulk_save',["underscore", "jquery", "require", "./base", "./load_models"], function(_, $, require, base, load_models) {
                    var bulk_save;
                    return bulk_save = function(models) {
                      var Config, doc, jsondata, m, url, xhr;
                      Config = require("./base").Config;
                      doc = models[0].get('doc');
                      if (doc == null) {
                        throw new Error("Unset 'doc' in " + models[0]);
                      }
                      jsondata = (function() {
                        var _i, _len, _results;
                        _results = [];
                        for (_i = 0, _len = models.length; _i < _len; _i++) {
                          m = models[_i];
                          _results.push({
                            type: m.type,
                            attributes: _.clone(m.attributes)
                          });
                        }
                        return _results;
                      })();
                      jsondata = JSON.stringify(jsondata);
                      url = Config.prefix + "bokeh/bb/" + doc + "/bulkupsert";
                      xhr = $.ajax({
                        type: 'POST',
                        url: url,
                        contentType: "application/json",
                        data: jsondata,
                        header: {
                          client: "javascript"
                        }
                      });
                      xhr.done(function(data) {
                        return load_models(data.modelspecs);
                      });
                      return xhr;
                    };
                  });
                
                }).call(this);
                
                /*
                //@ sourceMappingURL=bulk_save.js.map
                */;
                (function() {
                  var __hasProp = {}.hasOwnProperty,
                    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };
                
                  define('common/continuum_view',["underscore", "backbone"], function(_, Backbone) {
                    var CloseWrapper, ContinuumView, _ref, _ref1;
                    ContinuumView = (function(_super) {
                      __extends(ContinuumView, _super);
                
                      function ContinuumView() {
                        _ref = ContinuumView.__super__.constructor.apply(this, arguments);
                        return _ref;
                      }
                
                      ContinuumView.prototype.initialize = function(options) {
                        if (!_.has(options, 'id')) {
                          return this.id = _.uniqueId('ContinuumView');
                        }
                      };
                
                      ContinuumView.prototype.bind_bokeh_events = function() {
                        return 'pass';
                      };
                
                      ContinuumView.prototype.delegateEvents = function(events) {
                        return ContinuumView.__super__.delegateEvents.call(this, events);
                      };
                
                      ContinuumView.prototype.remove = function() {
                        var target, val, _ref1;
                        if (_.has(this, 'eventers')) {
                          _ref1 = this.eventers;
                          for (target in _ref1) {
                            if (!__hasProp.call(_ref1, target)) continue;
                            val = _ref1[target];
                            val.off(null, null, this);
                          }
                        }
                        this.trigger('remove', this);
                        return ContinuumView.__super__.remove.call(this);
                      };
                
                      ContinuumView.prototype.mget = function() {
                        return this.model.get.apply(this.model, arguments);
                      };
                
                      ContinuumView.prototype.mset = function() {
                        return this.model.set.apply(this.model, arguments);
                      };
                
                      ContinuumView.prototype.mget_obj = function(fld) {
                        return this.model.get_obj(fld);
                      };
                
                      ContinuumView.prototype.render_end = function() {
                        return "pass";
                      };
                
                      return ContinuumView;
                
                    })(Backbone.View);
                    CloseWrapper = (function(_super) {
                      __extends(CloseWrapper, _super);
                
                      function CloseWrapper() {
                        _ref1 = CloseWrapper.__super__.constructor.apply(this, arguments);
                        return _ref1;
                      }
                
                      CloseWrapper.prototype.attributes = {
                        "class": "bk-closewrapper"
                      };
                
                      CloseWrapper.prototype.delegateEvents = function(events) {
                        return CloseWrapper.__super__.delegateEvents.call(this, events);
                      };
                
                      CloseWrapper.prototype.events = {
                        "click .bk-close": "close"
                      };
                
                      CloseWrapper.prototype.close = function(options) {
                        this.view.remove();
                        return this.remove();
                      };
                
                      CloseWrapper.prototype.initialize = function(options) {
                        CloseWrapper.__super__.initialize.call(this, options);
                        this.view = options.view;
                        return this.render();
                      };
                
                      CloseWrapper.prototype.render = function() {
                        this.view.$el.detach();
                        this.$el.empty();
                        this.$el.html("<a href='#' class='bk-close'>[x]</a>");
                        return this.$el.append(this.view.$el);
                      };
                
                      return CloseWrapper;
                
                    })(ContinuumView);
                    return {
                      "View": ContinuumView,
                      "CloseWrapper": CloseWrapper
                    };
                  });
                
                }).call(this);
                
                /*
                //@ sourceMappingURL=continuum_view.js.map
                */;
                (function() {
                  var __bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; },
                    __hasProp = {}.hasOwnProperty,
                    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };
                
                  define('common/has_properties',["underscore", "backbone", "require", "./base", "./safebind"], function(_, Backbone, require, base, safebind) {
                    var HasProperties, _ref;
                    return HasProperties = (function(_super) {
                      __extends(HasProperties, _super);
                
                      function HasProperties() {
                        this.rpc = __bind(this.rpc, this);
                        this.get_obj = __bind(this.get_obj, this);
                        this.resolve_ref = __bind(this.resolve_ref, this);
                        this.convert_to_ref = __bind(this.convert_to_ref, this);
                        _ref = HasProperties.__super__.constructor.apply(this, arguments);
                        return _ref;
                      }
                
                      HasProperties.prototype.toString = function() {
                        return "" + this.type + "(" + this.id + ")";
                      };
                
                      HasProperties.prototype.destroy = function(options) {
                        var target, val, _ref1, _results;
                        HasProperties.__super__.destroy.call(this, options);
                        if (_.has(this, 'eventers')) {
                          _ref1 = this.eventers;
                          _results = [];
                          for (target in _ref1) {
                            if (!__hasProp.call(_ref1, target)) continue;
                            val = _ref1[target];
                            _results.push(val.off(null, null, this));
                          }
                          return _results;
                        }
                      };
                
                      HasProperties.prototype.isNew = function() {
                        return false;
                      };
                
                      HasProperties.prototype.initialize = function(attrs, options) {
                        var _this = this;
                        if (!attrs) {
                          attrs = {};
                        }
                        if (!options) {
                          options = {};
                        }
                        HasProperties.__super__.initialize.call(this, attrs, options);
                        this._base = false;
                        this.properties = {};
                        this.property_cache = {};
                        if (!_.has(attrs, this.idAttribute)) {
                          this.id = _.uniqueId(this.type);
                          this.attributes[this.idAttribute] = this.id;
                        }
                        return _.defer(function() {
                          if (!_this.inited) {
                            return _this.dinitialize(attrs, options);
                          }
                        });
                      };
                
                      HasProperties.prototype.dinitialize = function(attrs, options) {
                        return this.inited = true;
                      };
                
                      HasProperties.prototype.set_obj = function(key, value, options) {
                        var attrs, val;
                        if (_.isObject(key) || key === null) {
                          attrs = key;
                          options = value;
                        } else {
                          attrs = {};
                          attrs[key] = value;
                        }
                        for (key in attrs) {
                          if (!__hasProp.call(attrs, key)) continue;
                          val = attrs[key];
                          attrs[key] = this.convert_to_ref(val);
                        }
                        return this.set(attrs, options);
                      };
                
                      HasProperties.prototype.set = function(key, value, options) {
                        var attrs, toremove, val, _i, _len;
                        if (_.isObject(key) || key === null) {
                          attrs = key;
                          options = value;
                        } else {
                          attrs = {};
                          attrs[key] = value;
                        }
                        toremove = [];
                        for (key in attrs) {
                          if (!__hasProp.call(attrs, key)) continue;
                          val = attrs[key];
                          if (_.has(this, 'properties') && _.has(this.properties, key) && this.properties[key]['setter']) {
                            this.properties[key]['setter'].call(this, val);
                            toremove.push(key);
                          }
                        }
                        if (!_.isEmpty(toremove)) {
                          attrs = _.clone(attrs);
                          for (_i = 0, _len = toremove.length; _i < _len; _i++) {
                            key = toremove[_i];
                            delete attrs[key];
                          }
                        }
                        if (!_.isEmpty(attrs)) {
                          return HasProperties.__super__.set.call(this, attrs, options);
                        }
                      };
                
                      HasProperties.prototype.convert_to_ref = function(value) {
                        if (_.isArray(value)) {
                          return _.map(value, this.convert_to_ref);
                        } else {
                          if (value instanceof HasProperties) {
                            return value.ref();
                          }
                        }
                      };
                
                      HasProperties.prototype.add_dependencies = function(prop_name, object, fields) {
                        var fld, prop_spec, _i, _len, _results;
                        if (!_.isArray(fields)) {
                          fields = [fields];
                        }
                        prop_spec = this.properties[prop_name];
                        prop_spec.dependencies = prop_spec.dependencies.concat({
                          obj: object,
                          fields: fields
                        });
                        _results = [];
                        for (_i = 0, _len = fields.length; _i < _len; _i++) {
                          fld = fields[_i];
                          _results.push(safebind(this, object, "change:" + fld, prop_spec['callbacks']['changedep']));
                        }
                        return _results;
                      };
                
                      HasProperties.prototype.register_setter = function(prop_name, setter) {
                        var prop_spec;
                        prop_spec = this.properties[prop_name];
                        return prop_spec.setter = setter;
                      };
                
                      HasProperties.prototype.register_property = function(prop_name, getter, use_cache) {
                        var changedep, prop_spec, propchange,
                          _this = this;
                        if (_.isUndefined(use_cache)) {
                          use_cache = true;
                        }
                        if (_.has(this.properties, prop_name)) {
                          this.remove_property(prop_name);
                        }
                        changedep = function() {
                          return _this.trigger('changedep:' + prop_name);
                        };
                        propchange = function() {
                          var firechange, new_val, old_val;
                          firechange = true;
                          if (prop_spec['use_cache']) {
                            old_val = _this.get_cache(prop_name);
                            _this.clear_cache(prop_name);
                            new_val = _this.get(prop_name);
                            firechange = new_val !== old_val;
                          }
                          if (firechange) {
                            _this.trigger('change:' + prop_name, _this, _this.get(prop_name));
                            return _this.trigger('change', _this);
                          }
                        };
                        prop_spec = {
                          'getter': getter,
                          'dependencies': [],
                          'use_cache': use_cache,
                          'setter': null,
                          'callbacks': {
                            changedep: changedep,
                            propchange: propchange
                          }
                        };
                        this.properties[prop_name] = prop_spec;
                        safebind(this, this, "changedep:" + prop_name, prop_spec['callbacks']['propchange']);
                        return prop_spec;
                      };
                
                      HasProperties.prototype.remove_property = function(prop_name) {
                        var dep, dependencies, fld, obj, prop_spec, _i, _j, _len, _len1, _ref1;
                        prop_spec = this.properties[prop_name];
                        dependencies = prop_spec.dependencies;
                        for (_i = 0, _len = dependencies.length; _i < _len; _i++) {
                          dep = dependencies[_i];
                          obj = dep.obj;
                          _ref1 = dep['fields'];
                          for (_j = 0, _len1 = _ref1.length; _j < _len1; _j++) {
                            fld = _ref1[_j];
                            obj.off('change:' + fld, prop_spec['callbacks']['changedep'], this);
                          }
                        }
                        this.off("changedep:" + dep);
                        delete this.properties[prop_name];
                        if (prop_spec.use_cache) {
                          return this.clear_cache(prop_name);
                        }
                      };
                
                      HasProperties.prototype.has_cache = function(prop_name) {
                        return _.has(this.property_cache, prop_name);
                      };
                
                      HasProperties.prototype.add_cache = function(prop_name, val) {
                        return this.property_cache[prop_name] = val;
                      };
                
                      HasProperties.prototype.clear_cache = function(prop_name, val) {
                        return delete this.property_cache[prop_name];
                      };
                
                      HasProperties.prototype.get_cache = function(prop_name) {
                        return this.property_cache[prop_name];
                      };
                
                      HasProperties.prototype.get = function(prop_name) {
                        var computed, getter, prop_spec;
                        if (_.has(this.properties, prop_name)) {
                          prop_spec = this.properties[prop_name];
                          if (prop_spec.use_cache && this.has_cache(prop_name)) {
                            return this.property_cache[prop_name];
                          } else {
                            getter = prop_spec.getter;
                            computed = getter.apply(this);
                            if (this.properties[prop_name].use_cache) {
                              this.add_cache(prop_name, computed);
                            }
                            return computed;
                          }
                        } else {
                          return HasProperties.__super__.get.call(this, prop_name);
                        }
                      };
                
                      HasProperties.prototype.ref = function() {
                        return {
                          'type': this.type,
                          'id': this.id
                        };
                      };
                
                      HasProperties.prototype.resolve_ref = function(ref) {
                        if (!ref) {
                          console.log('ERROR, null reference');
                        }
                        if (_.isArray(ref)) {
                          return _.map(ref, this.resolve_ref);
                        }
                        if (ref['type'] === this.type && ref['id'] === this.id) {
                          return this;
                        } else {
                          return this.get_base().Collections(ref['type']).get(ref['id']);
                        }
                      };
                
                      HasProperties.prototype.get_obj = function(ref_name) {
                        var ref;
                        ref = this.get(ref_name);
                        if (ref) {
                          return this.resolve_ref(ref);
                        }
                      };
                
                      HasProperties.prototype.get_base = function() {
                        if (!this._base) {
                          this._base = require('./base');
                        }
                        return this._base;
                      };
                
                      HasProperties.prototype.url = function() {
                        var doc, url;
                        doc = this.get('doc');
                        if (doc == null) {
                          console.log("WARN: Unset 'doc' in " + this);
                        }
                        url = this.get_base().Config.prefix + "bokeh/bb/" + doc + "/" + this.type + "/";
                        if (this.isNew()) {
                          return url;
                        }
                        return url + this.get('id') + "/";
                      };
                
                      HasProperties.prototype.sync = function(method, model, options) {
                        return options.success(model.attributes, null, {});
                      };
                
                      HasProperties.prototype.defaults = function() {
                        return {};
                      };
                
                      HasProperties.prototype.rpc = function(funcname, args, kwargs) {
                        var data, doc, id, prefix, resp, type, url;
                        prefix = this.get_base().Config.prefix;
                        doc = this.get('doc');
                        if (doc == null) {
                          throw new Error("Unset 'doc' in " + this);
                        }
                        id = this.get('id');
                        type = this.type;
                        url = "" + prefix + "bokeh/bb/rpc/" + doc + "/" + type + "/" + id + "/" + funcname + "/";
                        data = {
                          args: args,
                          kwargs: kwargs
                        };
                        resp = $.ajax({
                          type: 'POST',
                          url: url,
                          data: JSON.stringify(data),
                          contentType: 'application/json',
                          xhrFields: {
                            withCredentials: true
                          }
                        });
                        return resp;
                      };
                
                      return HasProperties;
                
                    })(Backbone.Model);
                  });
                
                }).call(this);
                
                /*
                //@ sourceMappingURL=has_properties.js.map
                */;
                (function() {
                  var __hasProp = {}.hasOwnProperty,
                    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };
                
                  define('common/has_parent',["underscore", "./has_properties"], function(_, HasProperties) {
                    var HasParent, _ref;
                    HasParent = (function(_super) {
                      __extends(HasParent, _super);
                
                      function HasParent() {
                        _ref = HasParent.__super__.constructor.apply(this, arguments);
                        return _ref;
                      }
                
                      HasParent.prototype.get_fallback = function(attr) {
                        if (this.get_obj('parent') && _.indexOf(this.get_obj('parent').parent_properties, attr) >= 0 && !_.isUndefined(this.get_obj('parent').get(attr))) {
                          return this.get_obj('parent').get(attr);
                        } else {
                          if (_.isFunction(this.display_defaults)) {
                            return this.display_defaults()[attr];
                          }
                          return this.display_defaults[attr];
                        }
                      };
                
                      HasParent.prototype.get = function(attr) {
                        var normalval;
                        normalval = HasParent.__super__.get.call(this, attr);
                        if (!_.isUndefined(normalval)) {
                          return normalval;
                        } else if (!(attr === 'parent')) {
                          return this.get_fallback(attr);
                        }
                      };
                
                      HasParent.prototype.display_defaults = {};
                
                      return HasParent;
                
                    })(HasProperties);
                    return HasParent;
                  });
                
                }).call(this);
                
                /*
                //@ sourceMappingURL=has_parent.js.map
                */;
                (function() {
                  var __hasProp = {}.hasOwnProperty,
                    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };
                
                  define('range/range1d',["underscore", "backbone", "common/has_properties"], function(_, Backbone, HasProperties) {
                    var Range1d, Range1ds, _ref, _ref1;
                    Range1d = (function(_super) {
                      __extends(Range1d, _super);
                
                      function Range1d() {
                        _ref = Range1d.__super__.constructor.apply(this, arguments);
                        return _ref;
                      }
                
                      Range1d.prototype.type = 'Range1d';
                
                      Range1d.prototype.initialize = function(attrs, options) {
                        Range1d.__super__.initialize.call(this, attrs, options);
                        this.register_property('min', function() {
                          return Math.min(this.get('start'), this.get('end'));
                        }, true);
                        this.add_dependencies('min', this, ['start', 'end']);
                        this.register_property('max', function() {
                          return Math.max(this.get('start'), this.get('end'));
                        }, true);
                        return this.add_dependencies('max', this, ['start', 'end']);
                      };
                
                      Range1d.prototype.defaults = function() {
                        return {
                          start: 0,
                          end: 1
                        };
                      };
                
                      return Range1d;
                
                    })(HasProperties);
                    Range1ds = (function(_super) {
                      __extends(Range1ds, _super);
                
                      function Range1ds() {
                        _ref1 = Range1ds.__super__.constructor.apply(this, arguments);
                        return _ref1;
                      }
                
                      Range1ds.prototype.model = Range1d;
                
                      return Range1ds;
                
                    })(Backbone.Collection);
                    return {
                      "Model": Range1d,
                      "Collection": new Range1ds()
                    };
                  });
                
                }).call(this);
                
                /*
                //@ sourceMappingURL=range1d.js.map
                */;
                (function() {
                  var __hasProp = {}.hasOwnProperty,
                    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };
                
                  define('common/view_state',["./has_properties", "range/range1d"], function(HasProperties, Range1d) {
                    var ViewState, _ref;
                    return ViewState = (function(_super) {
                      __extends(ViewState, _super);
                
                      function ViewState() {
                        _ref = ViewState.__super__.constructor.apply(this, arguments);
                        return _ref;
                      }
                
                      ViewState.prototype.initialize = function(attrs, options) {
                        var _inner_range_horizontal, _inner_range_vertical;
                        ViewState.__super__.initialize.call(this, attrs, options);
                        this.register_property('border_top', function() {
                          return Math.max(this.get('min_border_top'), this.get('requested_border_top'));
                        }, false);
                        this.add_dependencies('border_top', this, ['min_border_top', 'requested_border_top']);
                        this.register_property('border_bottom', function() {
                          return Math.max(this.get('min_border_bottom'), this.get('requested_border_bottom'));
                        }, false);
                        this.add_dependencies('border_bottom', this, ['min_border_bottom', 'requested_border_bottom']);
                        this.register_property('border_left', function() {
                          return Math.max(this.get('min_border_left'), this.get('requested_border_left'));
                        }, false);
                        this.add_dependencies('border_left', this, ['min_border_left', 'requested_border_left']);
                        this.register_property('border_right', function() {
                          return Math.max(this.get('min_border_right'), this.get('requested_border_right'));
                        }, false);
                        this.add_dependencies('border_right', this, ['min_border_right', 'requested_border_right']);
                        this.register_property('canvas_aspect', function() {
                          return this.get('canvas_height') / this.get('canvas_width');
                        }, true);
                        this.add_dependencies('canvas_aspect', this, ['canvas_height', 'canvas_width']);
                        this.register_property('outer_aspect', function() {
                          return this.get('outer_height') / this.get('outer_width');
                        }, true);
                        this.add_dependencies('outer_aspect', this, ['outer_height', 'outer_width']);
                        this.register_property('inner_width', function() {
                          return this.get('outer_width') - this.get('border_left') - this.get('border_right');
                        }, true);
                        this.add_dependencies('inner_width', this, ['outer_width', 'border_left', 'border_right']);
                        this.register_property('inner_height', function() {
                          return this.get('outer_height') - this.get('border_top') - this.get('border_bottom');
                        }, true);
                        this.add_dependencies('inner_height', this, ['outer_height', 'border_top', 'border_bottom']);
                        this.register_property('inner_aspect', function() {
                          return this.get('inner_height') / this.get('inner_width');
                        }, true);
                        this.add_dependencies('inner_aspect', this, ['inner_height', 'inner_width']);
                        _inner_range_horizontal = new Range1d.Model({
                          start: this.get('border_left'),
                          end: this.get('border_left') + this.get('inner_width')
                        });
                        this.register_property('inner_range_horizontal', function() {
                          _inner_range_horizontal.set('start', this.get('border_left'));
                          _inner_range_horizontal.set('end', this.get('border_left') + this.get('inner_width'));
                          return _inner_range_horizontal;
                        }, true);
                        this.add_dependencies('inner_range_horizontal', this, ['border_left', 'inner_width']);
                        _inner_range_vertical = new Range1d.Model({
                          start: this.get('border_bottom'),
                          end: this.get('border_bottom') + this.get('inner_height')
                        });
                        this.register_property('inner_range_vertical', function() {
                          _inner_range_vertical.set('start', this.get('border_bottom'));
                          _inner_range_vertical.set('end', this.get('border_bottom') + this.get('inner_height'));
                          return _inner_range_vertical;
                        }, true);
                        return this.add_dependencies('inner_range_vertical', this, ['border_bottom', 'inner_height']);
                      };
                
                      ViewState.prototype.vx_to_sx = function(x) {
                        return x;
                      };
                
                      ViewState.prototype.vy_to_sy = function(y) {
                        return this.get('canvas_height') - y;
                      };
                
                      ViewState.prototype.v_vx_to_sx = function(xx) {
                        var idx, x, _i, _len;
                        for (idx = _i = 0, _len = xx.length; _i < _len; idx = ++_i) {
                          x = xx[idx];
                          xx[idx] = x;
                        }
                        return xx;
                      };
                
                      ViewState.prototype.v_vy_to_sy = function(yy) {
                        var canvas_height, idx, y, _i, _len;
                        canvas_height = this.get('canvas_height');
                        for (idx = _i = 0, _len = yy.length; _i < _len; idx = ++_i) {
                          y = yy[idx];
                          yy[idx] = canvas_height - y;
                        }
                        return yy;
                      };
                
                      ViewState.prototype.sx_to_vx = function(x) {
                        return x;
                      };
                
                      ViewState.prototype.sy_to_vy = function(y) {
                        return this.get('canvas_height') - y;
                      };
                
                      ViewState.prototype.v_sx_to_vx = function(xx) {
                        var idx, x, _i, _len;
                        for (idx = _i = 0, _len = xx.length; _i < _len; idx = ++_i) {
                          x = xx[idx];
                          xx[idx] = x;
                        }
                        return xx;
                      };
                
                      ViewState.prototype.v_sy_to_vy = function(yy) {
                        var canvas_height, idx, y, _i, _len;
                        canvas_height = this.get('canvas_height');
                        for (idx = _i = 0, _len = yy.length; _i < _len; idx = ++_i) {
                          y = yy[idx];
                          yy[idx] = canvas_height - y;
                        }
                        return yy;
                      };
                
                      return ViewState;
                
                    })(HasProperties);
                  });
                
                }).call(this);
                
                /*
                //@ sourceMappingURL=view_state.js.map
                */;
                (function() {
                  var __hasProp = {}.hasOwnProperty,
                    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };
                
                  define('mapper/1d/linear_mapper',["backbone", "common/has_properties"], function(Backbone, HasProperties) {
                    var LinearMapper, LinearMappers, _ref, _ref1;
                    LinearMapper = (function(_super) {
                      __extends(LinearMapper, _super);
                
                      function LinearMapper() {
                        _ref = LinearMapper.__super__.constructor.apply(this, arguments);
                        return _ref;
                      }
                
                      LinearMapper.prototype.initialize = function(attrs, options) {
                        LinearMapper.__super__.initialize.call(this, attrs, options);
                        this.register_property('mapper_state', this._mapper_state, true);
                        this.add_dependencies('mapper_state', this, ['source_range', 'target_range']);
                        this.add_dependencies('mapper_state', this.get('source_range'), ['start', 'end']);
                        return this.add_dependencies('mapper_state', this.get('target_range'), ['start', 'end']);
                      };
                
                      LinearMapper.prototype.map_to_target = function(x) {
                        var offset, scale, _ref1;
                        _ref1 = this.get('mapper_state'), scale = _ref1[0], offset = _ref1[1];
                        return scale * x + offset;
                      };
                
                      LinearMapper.prototype.v_map_to_target = function(xs) {
                        var idx, offset, result, scale, x, _i, _len, _ref1;
                        _ref1 = this.get('mapper_state'), scale = _ref1[0], offset = _ref1[1];
                        result = new Float64Array(xs.length);
                        for (idx = _i = 0, _len = xs.length; _i < _len; idx = ++_i) {
                          x = xs[idx];
                          result[idx] = scale * x + offset;
                        }
                        return result;
                      };
                
                      LinearMapper.prototype.map_from_target = function(xprime) {
                        var offset, scale, _ref1;
                        _ref1 = this.get('mapper_state'), scale = _ref1[0], offset = _ref1[1];
                        return (xprime - offset) / scale;
                      };
                
                      LinearMapper.prototype.v_map_from_target = function(xprimes) {
                        var idx, offset, result, scale, xprime, _i, _len, _ref1;
                        _ref1 = this.get('mapper_state'), scale = _ref1[0], offset = _ref1[1];
                        result = new Float64Array(xprimes.length);
                        for (idx = _i = 0, _len = xprimes.length; _i < _len; idx = ++_i) {
                          xprime = xprimes[idx];
                          result[idx] = (xprime - offset) / scale;
                        }
                        return result;
                      };
                
                      LinearMapper.prototype._mapper_state = function() {
                        var offset, scale, source_end, source_start, target_end, target_start;
                        source_start = this.get('source_range').get('start');
                        source_end = this.get('source_range').get('end');
                        target_start = this.get('target_range').get('start');
                        target_end = this.get('target_range').get('end');
                        scale = (target_end - target_start) / (source_end - source_start);
                        offset = -(scale * source_start) + target_start;
                        return [scale, offset];
                      };
                
                      return LinearMapper;
                
                    })(HasProperties);
                    LinearMappers = (function(_super) {
                      __extends(LinearMappers, _super);
                
                      function LinearMappers() {
                        _ref1 = LinearMappers.__super__.constructor.apply(this, arguments);
                        return _ref1;
                      }
                
                      LinearMappers.prototype.model = LinearMapper;
                
                      return LinearMappers;
                
                    })(Backbone.Collection);
                    return {
                      "Model": LinearMapper,
                      "Collection": new LinearMappers()
                    };
                  });
                
                }).call(this);
                
                /*
                //@ sourceMappingURL=linear_mapper.js.map
                */;
                (function() {
                  var __hasProp = {}.hasOwnProperty,
                    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };
                
                  define('mapper/2d/grid_mapper',["backbone", "common/has_properties"], function(Backbone, HasProperties) {
                    var GridMapper, GridMappers, _ref, _ref1;
                    GridMapper = (function(_super) {
                      __extends(GridMapper, _super);
                
                      function GridMapper() {
                        _ref = GridMapper.__super__.constructor.apply(this, arguments);
                        return _ref;
                      }
                
                      GridMapper.prototype.map_to_target = function(x, y) {
                        var xprime, yprime;
                        xprime = this.get('domain_mapper').map_to_target(x);
                        yprime = this.get('codomain_mapper').map_to_target(y);
                        return [xprime, yprime];
                      };
                
                      GridMapper.prototype.v_map_to_target = function(xs, ys) {
                        var xprimes, yprimes;
                        xprimes = this.get('domain_mapper').v_map_to_target(xs);
                        yprimes = this.get('codomain_mapper').v_map_to_target(ys);
                        return [xprimes, yprimes];
                      };
                
                      GridMapper.prototype.map_from_target = function(xprime, yprime) {
                        var x, y;
                        x = this.get('domain_mapper').map_from_target(xprime);
                        y = this.get('codomain_mapper').map_from_target(yprime);
                        return [x, y];
                      };
                
                      GridMapper.prototype.v_map_from_target = function(xprimes, yprimes) {
                        var xs, ys;
                        xs = this.get('domain_mapper').v_map_from_target(xprimes);
                        ys = this.get('codomain_mapper').v_map_from_target(yprimes);
                        return [xs, ys];
                      };
                
                      return GridMapper;
                
                    })(HasProperties);
                    GridMappers = (function(_super) {
                      __extends(GridMappers, _super);
                
                      function GridMappers() {
                        _ref1 = GridMappers.__super__.constructor.apply(this, arguments);
                        return _ref1;
                      }
                
                      GridMappers.prototype.model = GridMapper;
                
                      return GridMappers;
                
                    })(Backbone.Collection);
                    return {
                      "Model": GridMapper,
                      "Collection": new GridMappers()
                    };
                  });
                
                }).call(this);
                
                /*
                //@ sourceMappingURL=grid_mapper.js.map
                */;
                (function() {
                  define('common/svg_colors',[], function() {
                    var svg_colors;
                    return svg_colors = {
                      indianred: "#CD5C5C",
                      lightcoral: "#F08080",
                      salmon: "#FA8072",
                      darksalmon: "#E9967A",
                      lightsalmon: "#FFA07A",
                      crimson: "#DC143C",
                      red: "#FF0000",
                      firebrick: "#B22222",
                      darkred: "#8B0000",
                      pink: "#FFC0CB",
                      lightpink: "#FFB6C1",
                      hotpink: "#FF69B4",
                      deeppink: "#FF1493",
                      mediumvioletred: "#C71585",
                      palevioletred: "#DB7093",
                      lightsalmon: "#FFA07A",
                      coral: "#FF7F50",
                      tomato: "#FF6347",
                      orangered: "#FF4500",
                      darkorange: "#FF8C00",
                      orange: "#FFA500",
                      gold: "#FFD700",
                      yellow: "#FFFF00",
                      lightyellow: "#FFFFE0",
                      lemonchiffon: "#FFFACD",
                      lightgoldenrodyellow: "#FAFAD2",
                      papayawhip: "#FFEFD5",
                      moccasin: "#FFE4B5",
                      peachpuff: "#FFDAB9",
                      palegoldenrod: "#EEE8AA",
                      khaki: "#F0E68C",
                      darkkhaki: "#BDB76B",
                      lavender: "#E6E6FA",
                      thistle: "#D8BFD8",
                      plum: "#DDA0DD",
                      violet: "#EE82EE",
                      orchid: "#DA70D6",
                      fuchsia: "#FF00FF",
                      magenta: "#FF00FF",
                      mediumorchid: "#BA55D3",
                      mediumpurple: "#9370DB",
                      blueviolet: "#8A2BE2",
                      darkviolet: "#9400D3",
                      darkorchid: "#9932CC",
                      darkmagenta: "#8B008B",
                      purple: "#800080",
                      indigo: "#4B0082",
                      slateblue: "#6A5ACD",
                      darkslateblue: "#483D8B",
                      mediumslateblue: "#7B68EE",
                      greenyellow: "#ADFF2F",
                      chartreuse: "#7FFF00",
                      lawngreen: "#7CFC00",
                      lime: "#00FF00",
                      limegreen: "#32CD32",
                      palegreen: "#98FB98",
                      lightgreen: "#90EE90",
                      mediumspringgreen: "#00FA9A",
                      springgreen: "#00FF7F",
                      mediumseagreen: "#3CB371",
                      seagreen: "#2E8B57",
                      forestgreen: "#228B22",
                      green: "#008000",
                      darkgreen: "#006400",
                      yellowgreen: "#9ACD32",
                      olivedrab: "#6B8E23",
                      olive: "#808000",
                      darkolivegreen: "#556B2F",
                      mediumaquamarine: "#66CDAA",
                      darkseagreen: "#8FBC8F",
                      lightseagreen: "#20B2AA",
                      darkcyan: "#008B8B",
                      teal: "#008080",
                      aqua: "#00FFFF",
                      cyan: "#00FFFF",
                      lightcyan: "#E0FFFF",
                      paleturquoise: "#AFEEEE",
                      aquamarine: "#7FFFD4",
                      turquoise: "#40E0D0",
                      mediumturquoise: "#48D1CC",
                      darkturquoise: "#00CED1",
                      cadetblue: "#5F9EA0",
                      steelblue: "#4682B4",
                      lightsteelblue: "#B0C4DE",
                      powderblue: "#B0E0E6",
                      lightblue: "#ADD8E6",
                      skyblue: "#87CEEB",
                      lightskyblue: "#87CEFA",
                      deepskyblue: "#00BFFF",
                      dodgerblue: "#1E90FF",
                      cornflowerblue: "#6495ED",
                      mediumslateblue: "#7B68EE",
                      royalblue: "#4169E1",
                      blue: "#0000FF",
                      mediumblue: "#0000CD",
                      darkblue: "#00008B",
                      navy: "#000080",
                      midnightblue: "#191970",
                      cornsilk: "#FFF8DC",
                      blanchedalmond: "#FFEBCD",
                      bisque: "#FFE4C4",
                      navajowhite: "#FFDEAD",
                      wheat: "#F5DEB3",
                      burlywood: "#DEB887",
                      tan: "#D2B48C",
                      rosybrown: "#BC8F8F",
                      sandybrown: "#F4A460",
                      goldenrod: "#DAA520",
                      darkgoldenrod: "#B8860B",
                      peru: "#CD853F",
                      chocolate: "#D2691E",
                      saddlebrown: "#8B4513",
                      sienna: "#A0522D",
                      brown: "#A52A2A",
                      maroon: "#800000",
                      white: "#FFFFFF",
                      snow: "#FFFAFA",
                      honeydew: "#F0FFF0",
                      mintcream: "#F5FFFA",
                      azure: "#F0FFFF",
                      aliceblue: "#F0F8FF",
                      ghostwhite: "#F8F8FF",
                      whitesmoke: "#F5F5F5",
                      seashell: "#FFF5EE",
                      beige: "#F5F5DC",
                      oldlace: "#FDF5E6",
                      floralwhite: "#FFFAF0",
                      ivory: "#FFFFF0",
                      antiquewhite: "#FAEBD7",
                      linen: "#FAF0E6",
                      lavenderblush: "#FFF0F5",
                      mistyrose: "#FFE4E1",
                      gainsboro: "#DCDCDC",
                      lightgrey: "#D3D3D3",
                      silver: "#C0C0C0",
                      darkgray: "#A9A9A9",
                      darkgrey: "#A9A9A9",
                      gray: "#808080",
                      grey: "#808080",
                      dimgray: "#696969",
                      dimgrey: "#696969",
                      lightslategray: "#778899",
                      lightslategrey: "#778899",
                      slategray: "#708090",
                      darkslategray: "#2F4F4F",
                      darkslategrey: "#2F4F4F",
                      black: "#000000"
                    };
                  });
                
                }).call(this);
                
                /*
                //@ sourceMappingURL=svg_colors.js.map
                */;
                (function() {
                  var __indexOf = [].indexOf || function(item) { for (var i = 0, l = this.length; i < l; i++) { if (i in this && this[i] === item) return i; } return -1; },
                    __hasProp = {}.hasOwnProperty,
                    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };
                
                  define('renderer/properties',["underscore", "common/svg_colors"], function(_, svg_colors) {
                    var fill_properties, glyph_properties, line_properties, properties, text_properties;
                    properties = (function() {
                      function properties() {}
                
                      properties.prototype.source_v_select = function(attrname, datasource) {
                        var default_value, glyph_props, i, prop, retval, _i, _ref;
                        glyph_props = this;
                        if (!(attrname in glyph_props)) {
                          console.log("requested vector selection of unknown property '" + attrname + "' on objects");
                          return (function() {
                            var _i, _len, _ref, _results;
                            _ref = datasource.get_length();
                            _results = [];
                            for (_i = 0, _len = _ref.length; _i < _len; _i++) {
                              i = _ref[_i];
                              _results.push(null);
                            }
                            return _results;
                          })();
                        }
                        prop = glyph_props[attrname];
                        if ((prop.field != null) && (prop.field in datasource.get('data'))) {
                          return datasource.getcolumn(prop.field);
                        } else {
                          if (glyph_props[attrname].value != null) {
                            default_value = glyph_props[attrname].value;
                          } else if (attrname in datasource.get('data')) {
                            return datasource.getcolumn(attrname);
                          } else if (glyph_props[attrname]["default"] != null) {
                            default_value = glyph_props[attrname]["default"];
                          }
                          retval = [];
                          for (i = _i = 0, _ref = datasource.get_length(); 0 <= _ref ? _i < _ref : _i > _ref; i = 0 <= _ref ? ++_i : --_i) {
                            retval.push(default_value);
                          }
                          return retval;
                        }
                      };
                
                      properties.prototype.string = function(styleprovider, glyphspec, attrname) {
                        var default_value, glyph_value;
                        this[attrname] = {};
                        default_value = styleprovider.mget(attrname);
                        if (default_value == null) {
                
                        } else if (_.isString(default_value)) {
                          this[attrname]["default"] = default_value;
                        } else {
                          console.log(("string property '" + attrname + "' given invalid default value: ") + default_value);
                        }
                        if ((glyphspec == null) || !(attrname in glyphspec)) {
                          return;
                        }
                        glyph_value = glyphspec[attrname];
                        if (_.isString(glyph_value)) {
                          return this[attrname].value = glyph_value;
                        } else if (_.isObject(glyph_value)) {
                          return this[attrname] = _.extend(this[attrname], glyph_value);
                        } else {
                          return console.log(("string property '" + attrname + "' given invalid glyph value: ") + glyph_value);
                        }
                      };
                
                      properties.prototype.number = function(styleprovider, glyphspec, attrname) {
                        var default_value, glyph_value, units_value, _ref;
                        this[attrname] = {};
                        default_value = styleprovider.mget(attrname);
                        if (default_value == null) {
                
                        } else if (_.isNumber(default_value)) {
                          this[attrname]["default"] = default_value;
                        } else {
                          console.log(("number property '" + attrname + "' given invalid default value: ") + default_value);
                        }
                        units_value = (_ref = styleprovider.mget(attrname + '_units')) != null ? _ref : 'data';
                        if ((glyphspec != null) && (attrname + '_units' in glyphspec)) {
                          units_value = glyphspec[attrname + '_units'];
                        }
                        this[attrname].units = units_value;
                        if ((glyphspec == null) || !(attrname in glyphspec)) {
                          return;
                        }
                        glyph_value = glyphspec[attrname];
                        if (_.isString(glyph_value)) {
                          return this[attrname].field = glyph_value;
                        } else if (_.isNumber(glyph_value)) {
                          return this[attrname].value = glyph_value;
                        } else if (_.isObject(glyph_value)) {
                          return this[attrname] = _.extend(this[attrname], glyph_value);
                        } else {
                          return console.log(("number property '" + attrname + "' given invalid glyph value: ") + glyph_value);
                        }
                      };
                
                      properties.prototype.color = function(styleprovider, glyphspec, attrname) {
                        var default_value, glyph_value;
                        this[attrname] = {};
                        default_value = styleprovider.mget(attrname);
                        if (_.isUndefined(default_value)) {
                          this[attrname]["default"] = null;
                        } else if (_.isString(default_value) && ((svg_colors[default_value] != null) || default_value.substring(0, 1) === "#") || _.isNull(default_value)) {
                          this[attrname]["default"] = default_value;
                        } else {
                          console.log(("color property '" + attrname + "' given invalid default value: ") + default_value);
                        }
                        if ((glyphspec == null) || !(attrname in glyphspec)) {
                          return;
                        }
                        glyph_value = glyphspec[attrname];
                        if (_.isNull(glyph_value)) {
                          return this[attrname].value = null;
                        } else if (_.isString(glyph_value)) {
                          if ((svg_colors[glyph_value] != null) || glyph_value.substring(0, 1) === "#") {
                            return this[attrname].value = glyph_value;
                          } else {
                            return this[attrname].field = glyph_value;
                          }
                        } else if (_.isObject(glyph_value)) {
                          return this[attrname] = _.extend(this[attrname], glyph_value);
                        } else {
                          return console.log(("color property '" + attrname + "' given invalid glyph value: ") + glyph_value);
                        }
                      };
                
                      properties.prototype.array = function(styleprovider, glyphspec, attrname) {
                        var default_value, glyph_value, units_value, _ref;
                        this[attrname] = {};
                        default_value = styleprovider.mget(attrname);
                        if (default_value == null) {
                
                        } else if (_.isArray(default_value)) {
                          this[attrname]["default"] = default_value;
                        } else {
                          console.log(("array property '" + attrname + "' given invalid default value: ") + default_value);
                        }
                        units_value = (_ref = styleprovider.mget(attrname + "_units")) != null ? _ref : 'data';
                        if ((glyphspec != null) && (attrname + '_units' in glyphspec)) {
                          units_value = glyphspec[attrname + '_units'];
                        }
                        this[attrname].units = units_value;
                        if ((glyphspec == null) || !(attrname in glyphspec)) {
                          return;
                        }
                        glyph_value = glyphspec[attrname];
                        if (_.isString(glyph_value)) {
                          return this[attrname].field = glyph_value;
                        } else if (_.isArray(glyph_value)) {
                          return this[attrname].value = glyph_value;
                        } else if (_.isObject(glyph_value)) {
                          return this[attrname] = _.extend(this[attrname], glyph_value);
                        } else {
                          return console.log(("array property '" + attrname + "' given invalid glyph value: ") + glyph_value);
                        }
                      };
                
                      properties.prototype["enum"] = function(styleprovider, glyphspec, attrname, vals) {
                        var default_value, glyph_value, levels;
                        this[attrname] = {};
                        levels = vals.split(" ");
                        default_value = styleprovider.mget(attrname);
                        if (_.isNull(default_value)) {
                
                        } else if (_.isString(default_value) && __indexOf.call(levels, default_value) >= 0) {
                          this[attrname] = {
                            "default": default_value
                          };
                        } else {
                          console.log(("enum property '" + attrname + "' given invalid default value: ") + default_value);
                          console.log("    acceptable values:" + levels);
                        }
                        if ((glyphspec == null) || !(attrname in glyphspec)) {
                          return;
                        }
                        glyph_value = glyphspec[attrname];
                        if (_.isString(glyph_value)) {
                          if (__indexOf.call(levels, glyph_value) >= 0) {
                            return this[attrname].value = glyph_value;
                          } else {
                            return this[attrname].field = glyph_value;
                          }
                        } else if (_.isObject(glyph_value)) {
                          return this[attrname] = _.extend(this[attrname], glyph_value);
                        } else {
                          console.log(("enum property '" + attrname + "' given invalid glyph value: ") + glyph_value);
                          return console.log("    acceptable values:" + levels);
                        }
                      };
                
                      properties.prototype.setattr = function(styleprovider, glyphspec, attrname, attrtype) {
                        var values, _ref;
                        values = null;
                        if (attrtype.indexOf(":") > -1) {
                          _ref = attrtype.split(":"), attrtype = _ref[0], values = _ref[1];
                        }
                        if (attrtype === "string") {
                          return this.string(styleprovider, glyphspec, attrname);
                        } else if (attrtype === "number") {
                          return this.number(styleprovider, glyphspec, attrname);
                        } else if (attrtype === "color") {
                          return this.color(styleprovider, glyphspec, attrname);
                        } else if (attrtype === "array") {
                          return this.array(styleprovider, glyphspec, attrname);
                        } else if (attrtype === "enum" && values) {
                          return this["enum"](styleprovider, glyphspec, attrname, values);
                        } else {
                          return console.log(("Unknown type '" + attrtype + "' for glyph property: ") + attrname);
                        }
                      };
                
                      properties.prototype.select = function(attrname, obj) {
                        if (!(attrname in this)) {
                          console.log(("requested selection of unknown property '" + attrname + "' on object: ") + obj);
                          return;
                        }
                        if ((this[attrname].field != null) && (this[attrname].field in obj)) {
                          return obj[this[attrname].field];
                        }
                        if (this[attrname].value != null) {
                          return this[attrname].value;
                        }
                        if (obj.get && obj.get(attrname)) {
                          return obj.get(attrname);
                        }
                        if (obj.mget && obj.mget(attrname)) {
                          return obj.mget(attrname);
                        }
                        if (obj[attrname] != null) {
                          return obj[attrname];
                        }
                        if (this[attrname]["default"] != null) {
                          return this[attrname]["default"];
                        }
                        return console.log("selection for attribute '" + attrname + "' failed on object: " + obj);
                      };
                
                      properties.prototype.v_select = function(attrname, objs) {
                        var i, obj, result, _i, _ref;
                        if (!(attrname in this)) {
                          console.log("requested vector selection of unknown property '" + attrname + "' on objects");
                          return;
                        }
                        if (this[attrname].typed != null) {
                          result = new Float64Array(objs.length);
                        } else {
                          result = new Array(objs.length);
                        }
                        for (i = _i = 0, _ref = objs.length; 0 <= _ref ? _i < _ref : _i > _ref; i = 0 <= _ref ? ++_i : --_i) {
                          obj = objs[i];
                          if ((this[attrname].field != null) && (this[attrname].field in obj)) {
                            result[i] = obj[this[attrname].field];
                          } else if (this[attrname].value != null) {
                            result[i] = this[attrname].value;
                          } else if (obj[attrname] != null) {
                            result[i] = obj[attrname];
                          } else if (this[attrname]["default"] != null) {
                            result[i] = this[attrname]["default"];
                          } else {
                            console.log("vector selection for attribute '" + attrname + "' failed on object: " + obj);
                            return;
                          }
                        }
                        return result;
                      };
                
                      return properties;
                
                    })();
                    line_properties = (function(_super) {
                      __extends(line_properties, _super);
                
                      function line_properties(styleprovider, glyphspec, prefix) {
                        if (prefix == null) {
                          prefix = "";
                        }
                        this.line_color_name = "" + prefix + "line_color";
                        this.line_width_name = "" + prefix + "line_width";
                        this.line_alpha_name = "" + prefix + "line_alpha";
                        this.line_join_name = "" + prefix + "line_join";
                        this.line_cap_name = "" + prefix + "line_cap";
                        this.line_dash_name = "" + prefix + "line_dash";
                        this.line_dash_offset_name = "" + prefix + "line_dash_offset";
                        this.color(styleprovider, glyphspec, this.line_color_name);
                        this.number(styleprovider, glyphspec, this.line_width_name);
                        this.number(styleprovider, glyphspec, this.line_alpha_name);
                        this["enum"](styleprovider, glyphspec, this.line_join_name, "miter round bevel");
                        this["enum"](styleprovider, glyphspec, this.line_cap_name, "butt round square");
                        this.array(styleprovider, glyphspec, this.line_dash_name);
                        this.number(styleprovider, glyphspec, this.line_dash_offset_name);
                        this.do_stroke = true;
                        if (!_.isUndefined(this[this.line_color_name].value)) {
                          if (_.isNull(this[this.line_color_name].value)) {
                            this.do_stroke = false;
                          }
                        } else if (_.isNull(this[this.line_color_name]["default"])) {
                          this.do_stroke = false;
                        }
                      }
                
                      line_properties.prototype.set = function(ctx, obj) {
                        ctx.strokeStyle = this.select(this.line_color_name, obj);
                        ctx.globalAlpha = this.select(this.line_alpha_name, obj);
                        ctx.lineWidth = this.select(this.line_width_name, obj);
                        ctx.lineJoin = this.select(this.line_join_name, obj);
                        ctx.lineCap = this.select(this.line_cap_name, obj);
                        ctx.setLineDash(this.select(this.line_dash_name, obj));
                        return ctx.setLineDashOffset(this.select(this.line_dash_offset_name, obj));
                      };
                
                      line_properties.prototype.set_prop_cache = function(datasource) {
                        this.cache = {};
                        this.cache.strokeStyle = this.source_v_select(this.line_color_name, datasource);
                        this.cache.globalAlpha = this.source_v_select(this.line_alpha_name, datasource);
                        this.cache.lineWidth = this.source_v_select(this.line_width_name, datasource);
                        this.cache.lineJoin = this.source_v_select(this.line_join_name, datasource);
                        this.cache.lineCap = this.source_v_select(this.line_cap_name, datasource);
                        this.cache.setLineDash = this.source_v_select(this.line_dash_name, datasource);
                        return this.cache.setLineDashOffset = this.source_v_select(this.line_dash_offset_name, datasource);
                      };
                
                      line_properties.prototype.clear_prop_cache = function() {
                        return this.cache = {};
                      };
                
                      line_properties.prototype.set_vectorize = function(ctx, i) {
                        var did_change;
                        did_change = false;
                        if ((this.cache.strokeStyle[i] != null) && ctx.strokeStyle !== this.cache.strokeStyle[i]) {
                          ctx.strokeStyle = this.cache.strokeStyle[i];
                          did_change = true;
                        }
                        if ((this.cache.globalAlpha[i] != null) && ctx.globalAlpha !== this.cache.globalAlpha[i]) {
                          ctx.globalAlpha = this.cache.globalAlpha[i];
                          did_change = true;
                        }
                        if ((this.cache.lineWidth[i] != null) && ctx.lineWidth !== this.cache.lineWidth[i]) {
                          ctx.lineWidth = this.cache.lineWidth[i];
                          did_change = true;
                        }
                        if ((this.cache.lineJoin[i] != null) && ctx.lineJoin !== this.cache.lineJoin[i]) {
                          ctx.lineJoin = this.cache.lineJoin[i];
                          did_change = true;
                        }
                        if ((this.cache.lineCap[i] != null) && ctx.lineCap !== this.cache.lineCap[i]) {
                          ctx.lineCap = this.cache.lineCap[i];
                          did_change = true;
                        }
                        if ((this.cache.setLineDash[i] != null) && ctx.getLineDash() !== this.cache.setLineDash[i]) {
                          ctx.setLineDash(this.cache.setLineDash[i]);
                          did_change = true;
                        }
                        if ((this.cache.setLineDashOffset[i] != null) && ctx.getLineDashOffset() !== this.cache.setLineDashOffset[i]) {
                          ctx.setLineDashOffset(this.cache.setLineDashOffset[i]);
                          did_change = true;
                        }
                        return did_change;
                      };
                
                      return line_properties;
                
                    })(properties);
                    fill_properties = (function(_super) {
                      __extends(fill_properties, _super);
                
                      function fill_properties(styleprovider, glyphspec, prefix) {
                        if (prefix == null) {
                          prefix = "";
                        }
                        this.fill_color_name = "" + prefix + "fill_color";
                        this.fill_alpha_name = "" + prefix + "fill_alpha";
                        this.color(styleprovider, glyphspec, this.fill_color_name);
                        this.number(styleprovider, glyphspec, this.fill_alpha_name);
                        this.do_fill = true;
                        if (!_.isUndefined(this[this.fill_color_name].value)) {
                          if (_.isNull(this[this.fill_color_name].value)) {
                            this.do_fill = false;
                          }
                        } else if (_.isNull(this[this.fill_color_name]["default"])) {
                          this.do_fill = false;
                        }
                      }
                
                      fill_properties.prototype.set = function(ctx, obj) {
                        ctx.fillStyle = this.select(this.fill_color_name, obj);
                        return ctx.globalAlpha = this.select(this.fill_alpha_name, obj);
                      };
                
                      fill_properties.prototype.set_prop_cache = function(datasource) {
                        this.cache = {};
                        this.cache.fillStyle = this.source_v_select(this.fill_color_name, datasource);
                        return this.cache.globalAlpha = this.source_v_select(this.fill_alpha_name, datasource);
                      };
                
                      fill_properties.prototype.set_vectorize = function(ctx, i) {
                        var did_change;
                        did_change = false;
                        if (ctx.fillStyle !== this.cache.fillStyle[i]) {
                          ctx.fillStyle = this.cache.fillStyle[i];
                          did_change = true;
                        }
                        if (ctx.globalAlpha !== this.cache.globalAlpha[i]) {
                          ctx.globalAlpha = this.cache.globalAlpha[i];
                          did_change = true;
                        }
                        return did_change;
                      };
                
                      return fill_properties;
                
                    })(properties);
                    text_properties = (function(_super) {
                      __extends(text_properties, _super);
                
                      function text_properties(styleprovider, glyphspec, prefix) {
                        if (prefix == null) {
                          prefix = "";
                        }
                        this.text_font_name = "" + prefix + "text_font";
                        this.text_font_size_name = "" + prefix + "text_font_size";
                        this.text_font_style_name = "" + prefix + "text_font_style";
                        this.text_color_name = "" + prefix + "text_color";
                        this.text_alpha_name = "" + prefix + "text_alpha";
                        this.text_align_name = "" + prefix + "text_align";
                        this.text_baseline_name = "" + prefix + "text_baseline";
                        this.string(styleprovider, glyphspec, this.text_font_name);
                        this.string(styleprovider, glyphspec, this.text_font_size_name);
                        this["enum"](styleprovider, glyphspec, this.text_font_style_name, "normal italic bold");
                        this.color(styleprovider, glyphspec, this.text_color_name);
                        this.number(styleprovider, glyphspec, this.text_alpha_name);
                        this["enum"](styleprovider, glyphspec, this.text_align_name, "left right center");
                        this["enum"](styleprovider, glyphspec, this.text_baseline_name, "top middle bottom alphabetic hanging");
                      }
                
                      text_properties.prototype.font = function(obj, font_size) {
                        var font, font_style;
                        if (font_size == null) {
                          font_size = this.select(this.text_font_size_name, obj);
                        }
                        font = this.select(this.text_font_name, obj);
                        font_style = this.select(this.text_font_style_name, obj);
                        font = font_style + " " + font_size + " " + font;
                        return font;
                      };
                
                      text_properties.prototype.set = function(ctx, obj) {
                        ctx.font = this.font(obj);
                        ctx.fillStyle = this.select(this.text_color_name, obj);
                        ctx.globalAlpha = this.select(this.text_alpha_name, obj);
                        ctx.textAlign = this.select(this.text_align_name, obj);
                        return ctx.textBaseline = this.select(this.text_baseline_name, obj);
                      };
                
                      text_properties.prototype.set_prop_cache = function(datasource) {
                        var font, font_size, font_style, i;
                        this.cache = {};
                        font_size = this.source_v_select(this.text_font_size_name, datasource);
                        font = this.source_v_select(this.text_font_name, datasource);
                        font_style = this.source_v_select(this.text_font_style_name, datasource);
                        this.cache.font = (function() {
                          var _i, _ref, _results;
                          _results = [];
                          for (i = _i = 0, _ref = font.length; 0 <= _ref ? _i < _ref : _i > _ref; i = 0 <= _ref ? ++_i : --_i) {
                            _results.push("" + font_style[i] + " " + font_size[i] + " " + font[i]);
                          }
                          return _results;
                        })();
                        this.cache.fillStyle = this.source_v_select(this.text_color_name, datasource);
                        this.cache.globalAlpha = this.source_v_select(this.text_alpha_name, datasource);
                        this.cache.textAlign = this.source_v_select(this.text_align_name, datasource);
                        return this.cache.textBaseline = this.source_v_select(this.text_baseline_name, datasource);
                      };
                
                      text_properties.prototype.clear_prop_cache = function() {
                        return this.cache = {};
                      };
                
                      text_properties.prototype.set_vectorize = function(ctx, i) {
                        var did_change;
                        did_change = false;
                        if (ctx.font !== this.cache.font[i]) {
                          ctx.font = this.cache.font[i];
                          did_change = true;
                        }
                        if (ctx.fillStyle !== this.cache.fillStyle[i]) {
                          ctx.fillStyle = this.cache.fillStyle[i];
                          did_change = true;
                        }
                        if (ctx.globalAlpha !== this.cache.globalAlpha[i]) {
                          ctx.globalAlpha = this.cache.globalAlpha[i];
                          did_change = true;
                        }
                        if (ctx.textAlign !== this.cache.textAlign[i]) {
                          ctx.textAlign = this.cache.textAlign[i];
                          did_change = true;
                        }
                        if (ctx.textBaseline !== this.cache.textBaseline[i]) {
                          ctx.textBaseline = this.cache.textBaseline[i];
                          did_change = true;
                        }
                        return did_change;
                      };
                
                      return text_properties;
                
                    })(properties);
                    glyph_properties = (function(_super) {
                      __extends(glyph_properties, _super);
                
                      function glyph_properties(styleprovider, glyphspec, attrnames, properties) {
                        var attrname, attrtype, key, _i, _len, _ref;
                        for (_i = 0, _len = attrnames.length; _i < _len; _i++) {
                          attrname = attrnames[_i];
                          attrtype = "number";
                          if (attrname.indexOf(":") > -1) {
                            _ref = attrname.split(":"), attrname = _ref[0], attrtype = _ref[1];
                          }
                          this.setattr(styleprovider, glyphspec, attrname, attrtype);
                        }
                        for (key in properties) {
                          this[key] = properties[key];
                        }
                        this.fast_path = false;
                        if ('fast_path' in glyphspec) {
                          this.fast_path = glyphspec.fast_path;
                        }
                      }
                
                      return glyph_properties;
                
                    })(properties);
                    return {
                      "glyph_properties": glyph_properties,
                      "fill_properties": fill_properties,
                      "line_properties": line_properties,
                      "text_properties": text_properties
                    };
                  });
                
                }).call(this);
                
                /*
                //@ sourceMappingURL=properties.js.map
                */;
                (function() {
                  define('tool/active_tool_manager',[], function() {
                    var ActiveToolManager;
                    return ActiveToolManager = (function() {
                      " This makes sure that only one tool is active at a time ";
                      function ActiveToolManager(event_sink) {
                        this.event_sink = event_sink;
                        this.event_sink.active = null;
                      }
                
                      ActiveToolManager.prototype.bind_bokeh_events = function() {
                        var _this = this;
                        this.event_sink.on("clear_active_tool", function() {
                          _this.event_sink.trigger("" + _this.event_sink.active + ":deactivated");
                          return _this.event_sink.active = null;
                        });
                        this.event_sink.on("active_tool", function(toolName) {
                          if (toolName !== _this.event_sink.active) {
                            _this.event_sink.trigger("" + toolName + ":activated");
                            _this.event_sink.trigger("" + _this.event_sink.active + ":deactivated");
                            return _this.event_sink.active = toolName;
                          }
                        });
                        return this.event_sink.on("try_active_tool", function(toolName) {
                          if (_this.event_sink.active == null) {
                            _this.event_sink.trigger("" + toolName + ":activated");
                            _this.event_sink.trigger("" + _this.event_sink.active + ":deactivated");
                            return _this.event_sink.active = toolName;
                          }
                        });
                      };
                
                      return ActiveToolManager;
                
                    })();
                  });
                
                }).call(this);
                
                /*
                //@ sourceMappingURL=active_tool_manager.js.map
                */;
                (function() {
                  var __bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; },
                    __hasProp = {}.hasOwnProperty,
                    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };
                
                  define('common/gmap_plot',["underscore", "jquery", "backbone", "./build_views", "./safebind", "./bulk_save", "./continuum_view", "./has_parent", "./view_state", "mapper/1d/linear_mapper", "mapper/2d/grid_mapper", "renderer/properties", "tool/active_tool_manager"], function(_, $, Backbone, build_views, safebind, bulk_save, ContinuumView, HasParent, ViewState, LinearMapper, GridMapper, Properties, ActiveToolManager) {
                    var GMapPlot, GMapPlotView, GMapPlots, LEVELS, _ref, _ref1, _ref2;
                    LEVELS = ['image', 'underlay', 'glyph', 'overlay', 'annotation', 'tool'];
                    GMapPlotView = (function(_super) {
                      __extends(GMapPlotView, _super);
                
                      function GMapPlotView() {
                        this.bounds_change = __bind(this.bounds_change, this);
                        this._mousemove = __bind(this._mousemove, this);
                        this._mousedown = __bind(this._mousedown, this);
                        _ref = GMapPlotView.__super__.constructor.apply(this, arguments);
                        return _ref;
                      }
                
                      GMapPlotView.prototype.events = {
                        "mousemove .bokeh_canvas_wrapper": "_mousemove",
                        "mousedown .bokeh_canvas_wrapper": "_mousedown"
                      };
                
                      GMapPlotView.prototype.className = "bokeh";
                
                      GMapPlotView.prototype.view_options = function() {
                        return _.extend({
                          plot_model: this.model,
                          plot_view: this
                        }, this.options);
                      };
                
                      GMapPlotView.prototype._mousedown = function(e) {
                        var f, _i, _len, _ref1, _results;
                        _ref1 = this.mousedownCallbacks;
                        _results = [];
                        for (_i = 0, _len = _ref1.length; _i < _len; _i++) {
                          f = _ref1[_i];
                          _results.push(f(e, e.layerX, e.layerY));
                        }
                        return _results;
                      };
                
                      GMapPlotView.prototype._mousemove = function(e) {
                        var f, _i, _len, _ref1, _results;
                        _ref1 = this.moveCallbacks;
                        _results = [];
                        for (_i = 0, _len = _ref1.length; _i < _len; _i++) {
                          f = _ref1[_i];
                          _results.push(f(e, e.layerX, e.layerY));
                        }
                        return _results;
                      };
                
                      GMapPlotView.prototype.pause = function() {
                        return this.is_paused = true;
                      };
                
                      GMapPlotView.prototype.unpause = function(render_canvas) {
                        if (render_canvas == null) {
                          render_canvas = false;
                        }
                        this.is_paused = false;
                        if (render_canvas) {
                          return this.request_render_canvas(true);
                        } else {
                          return this.request_render();
                        }
                      };
                
                      GMapPlotView.prototype.request_render = function() {
                        if (!this.is_paused) {
                          this.throttled_render();
                        }
                      };
                
                      GMapPlotView.prototype.request_render_canvas = function(full_render) {
                        if (!this.is_paused) {
                          this.throttled_render_canvas(full_render);
                        }
                      };
                
                      GMapPlotView.prototype.initialize = function(options) {
                        var level, tool, _i, _j, _len, _len1, _ref1, _ref10, _ref11, _ref12, _ref13, _ref14, _ref15, _ref16, _ref17, _ref18, _ref2, _ref3, _ref4, _ref5, _ref6, _ref7, _ref8, _ref9;
                        GMapPlotView.__super__.initialize.call(this, _.defaults(options, this.default_options));
                        this.throttled_render = _.throttle(this.render, 100);
                        this.throttled_render_canvas = _.throttle(this.render_canvas, 100);
                        this.outline_props = new Properties.line_properties(this, {}, 'title_');
                        this.title_props = new Properties.text_properties(this, {}, 'title_');
                        this.view_state = new ViewState({
                          canvas_width: (_ref1 = options.canvas_width) != null ? _ref1 : this.mget('canvas_width'),
                          canvas_height: (_ref2 = options.canvas_height) != null ? _ref2 : this.mget('canvas_height'),
                          x_offset: (_ref3 = options.x_offset) != null ? _ref3 : this.mget('x_offset'),
                          y_offset: (_ref4 = options.y_offset) != null ? _ref4 : this.mget('y_offset'),
                          outer_width: (_ref5 = options.outer_width) != null ? _ref5 : this.mget('outer_width'),
                          outer_height: (_ref6 = options.outer_height) != null ? _ref6 : this.mget('outer_height'),
                          min_border_top: (_ref7 = (_ref8 = options.min_border_top) != null ? _ref8 : this.mget('min_border_top')) != null ? _ref7 : this.mget('min_border'),
                          min_border_bottom: (_ref9 = (_ref10 = options.min_border_bottom) != null ? _ref10 : this.mget('min_border_bottom')) != null ? _ref9 : this.mget('min_border'),
                          min_border_left: (_ref11 = (_ref12 = options.min_border_left) != null ? _ref12 : this.mget('min_border_left')) != null ? _ref11 : this.mget('min_border'),
                          min_border_right: (_ref13 = (_ref14 = options.min_border_right) != null ? _ref14 : this.mget('min_border_right')) != null ? _ref13 : this.mget('min_border'),
                          requested_border_top: 0,
                          requested_border_bottom: 0,
                          requested_border_left: 0,
                          requested_border_right: 0
                        });
                        this.hidpi = (_ref15 = options.hidpi) != null ? _ref15 : this.mget('hidpi');
                        this.x_range = (_ref16 = options.x_range) != null ? _ref16 : this.mget_obj('x_range');
                        this.y_range = (_ref17 = options.y_range) != null ? _ref17 : this.mget_obj('y_range');
                        this.xmapper = new LinearMapper.Model({
                          source_range: this.x_range,
                          target_range: this.view_state.get('inner_range_horizontal')
                        });
                        this.ymapper = new LinearMapper.Model({
                          source_range: this.y_range,
                          target_range: this.view_state.get('inner_range_vertical')
                        });
                        this.mapper = new GridMapper.Model({
                          domain_mapper: this.xmapper,
                          codomain_mapper: this.ymapper
                        });
                        _ref18 = this.mget_obj('tools');
                        for (_i = 0, _len = _ref18.length; _i < _len; _i++) {
                          tool = _ref18[_i];
                          if (tool.type === "PanTool" || tool.type === "WheelZoomTool") {
                            tool.set_obj('dataranges', [this.x_range, this.y_range]);
                            tool.set('dimensions', ['width', 'height']);
                          }
                        }
                        this.requested_padding = {
                          top: 0,
                          bottom: 0,
                          left: 0,
                          right: 0
                        };
                        this.old_mapper_state = {
                          x: null,
                          y: null
                        };
                        this.am_rendering = false;
                        this.renderers = {};
                        this.tools = {};
                        this.zoom_count = null;
                        this.eventSink = _.extend({}, Backbone.Events);
                        this.moveCallbacks = [];
                        this.mousedownCallbacks = [];
                        this.keydownCallbacks = [];
                        this.render_init();
                        this.render_canvas(false);
                        this.atm = new ActiveToolManager(this.eventSink);
                        this.levels = {};
                        for (_j = 0, _len1 = LEVELS.length; _j < _len1; _j++) {
                          level = LEVELS[_j];
                          this.levels[level] = {};
                        }
                        this.build_levels();
                        this.request_render();
                        this.atm.bind_bokeh_events();
                        this.bind_bokeh_events();
                        return this;
                      };
                
                      GMapPlotView.prototype.map_to_screen = function(x, x_units, y, y_units, units) {
                        var sx, sy, _ref1;
                        if (x_units === 'screen') {
                          sx = x.slice(0);
                          sy = y.slice(0);
                        } else {
                          _ref1 = this.mapper.v_map_to_target(x, y), sx = _ref1[0], sy = _ref1[1];
                        }
                        sx = this.view_state.v_vx_to_sx(sx);
                        sy = this.view_state.v_vy_to_sy(sy);
                        return [sx, sy];
                      };
                
                      GMapPlotView.prototype.map_from_screen = function(sx, sy, units) {
                        var x, y, _ref1;
                        sx = this.view_state.v_sx_to_vx(sx.slice(0));
                        sy = this.view_state.v_sy_to_vy(sy.slice(0));
                        if (units === 'screen') {
                          x = sx;
                          y = sy;
                        } else {
                          _ref1 = this.mapper.v_map_from_target(sx, sy), x = _ref1[0], y = _ref1[1];
                        }
                        return [x, y];
                      };
                
                      GMapPlotView.prototype.update_range = function(range_info) {
                        var center, ne_lat, ne_lng, sw_lat, sw_lng;
                        if (range_info == null) {
                          range_info = this.initial_range_info;
                        }
                        this.pause();
                        if (range_info.sdx != null) {
                          this.map.panBy(range_info.sdx, range_info.sdy);
                        } else {
                          sw_lng = Math.min(range_info.xr.start, range_info.xr.end);
                          ne_lng = Math.max(range_info.xr.start, range_info.xr.end);
                          sw_lat = Math.min(range_info.yr.start, range_info.yr.end);
                          ne_lat = Math.max(range_info.yr.start, range_info.yr.end);
                          center = new google.maps.LatLng((ne_lat + sw_lat) / 2, (ne_lng + sw_lng) / 2);
                          if (range_info.factor == null) {
                            this.map.setCenter(center);
                            this.map.setZoom(this.initial_zoom);
                          } else if (range_info.factor > 0) {
                            this.zoom_count += 1;
                            if (this.zoom_count === 10) {
                              this.map.setZoom(this.map.getZoom() + 1);
                              this.zoom_count = 0;
                            }
                          } else {
                            this.zoom_count -= 1;
                            if (this.zoom_count === -10) {
                              this.map.setCenter(center);
                              this.map.setZoom(this.map.getZoom() - 1);
                              this.map.setCenter(center);
                              this.zoom_count = 0;
                            }
                          }
                        }
                        return this.unpause();
                      };
                
                      GMapPlotView.prototype.build_tools = function() {
                        return build_views(this.tools, this.mget_obj('tools'), this.view_options());
                      };
                
                      GMapPlotView.prototype.build_views = function() {
                        return build_views(this.renderers, this.mget_obj('renderers'), this.view_options());
                      };
                
                      GMapPlotView.prototype.build_levels = function() {
                        var level, t, tools, v, views, _i, _j, _len, _len1;
                        views = this.build_views();
                        tools = this.build_tools();
                        for (_i = 0, _len = views.length; _i < _len; _i++) {
                          v = views[_i];
                          level = v.mget('level');
                          this.levels[level][v.model.id] = v;
                          v.bind_bokeh_events();
                        }
                        for (_j = 0, _len1 = tools.length; _j < _len1; _j++) {
                          t = tools[_j];
                          level = t.mget('level');
                          this.levels[level][t.model.id] = t;
                          t.bind_bokeh_events();
                        }
                        return this;
                      };
                
                      GMapPlotView.prototype.bind_bokeh_events = function() {
                        var _this = this;
                        safebind(this, this.view_state, 'change', function() {
                          _this.request_render_canvas();
                          return _this.request_render();
                        });
                        safebind(this, this.x_range, 'change', this.request_render);
                        safebind(this, this.y_range, 'change', this.request_render);
                        safebind(this, this.model, 'change:renderers', this.build_levels);
                        safebind(this, this.model, 'change:tool', this.build_levels);
                        safebind(this, this.model, 'change', this.request_render);
                        return safebind(this, this.model, 'destroy', function() {
                          return _this.remove();
                        });
                      };
                
                      GMapPlotView.prototype.render_init = function() {
                        this.$el.append($("<div class='bk-button-bar'/>\n<div class='plotarea'>\n<div class='bokeh_canvas_wrapper'>\n  <div class=\"bokeh_gmap\"></div>\n  <canvas class='bokeh_canvas'></canvas>\n</div>\n</div>"));
                        this.button_bar = this.$el.find('.bk-button-bar');
                        this.canvas_wrapper = this.$el.find('.bokeh_canvas_wrapper');
                        this.canvas = this.$el.find('canvas.bokeh_canvas');
                        return this.gmap_div = this.$el.find('.bokeh_gmap');
                      };
                
                      GMapPlotView.prototype.render_canvas = function(full_render) {
                        var backingStoreRatio, build_map, devicePixelRatio, ih, iw, left, oh, ow, ratio, script, top,
                          _this = this;
                        if (full_render == null) {
                          full_render = true;
                        }
                        this.ctx = this.canvas[0].getContext('2d');
                        if (this.hidpi) {
                          devicePixelRatio = window.devicePixelRatio || 1;
                          backingStoreRatio = this.ctx.webkitBackingStorePixelRatio || this.ctx.mozBackingStorePixelRatio || this.ctx.msBackingStorePixelRatio || this.ctx.oBackingStorePixelRatio || this.ctx.backingStorePixelRatio || 1;
                          ratio = devicePixelRatio / backingStoreRatio;
                        } else {
                          ratio = 1;
                        }
                        oh = this.view_state.get('outer_height');
                        ow = this.view_state.get('outer_width');
                        this.canvas.width = ow * ratio;
                        this.canvas.height = oh * ratio;
                        this.canvas_wrapper.attr('style', "width:" + ow + "px; height:" + oh + "px");
                        this.canvas.attr('style', "width:" + ow + "px;");
                        this.canvas.attr('style', "height:" + oh + "px;");
                        this.canvas.attr('width', ow * ratio).attr('height', oh * ratio);
                        this.$el.attr("width", ow).attr('height', oh);
                        this.ctx.scale(ratio, ratio);
                        this.ctx.translate(0.5, 0.5);
                        iw = this.view_state.get('inner_width');
                        ih = this.view_state.get('inner_height');
                        top = this.view_state.get('border_top');
                        left = this.view_state.get('border_left');
                        this.gmap_div.attr("style", "top: " + top + "px; left: " + left + "px; position: absolute");
                        this.gmap_div.attr('style', "width:" + iw + "px;");
                        this.gmap_div.attr('style', "height:" + ih + "px;");
                        this.gmap_div.width("" + iw + "px").height("" + ih + "px");
                        this.initial_zoom = this.mget('map_options').zoom;
                        build_map = function() {
                          var map_options, mo;
                          mo = _this.mget('map_options');
                          map_options = {
                            center: new google.maps.LatLng(mo.lat, mo.lng),
                            zoom: mo.zoom,
                            disableDefaultUI: true,
                            mapTypeId: google.maps.MapTypeId.SATELLITE
                          };
                          _this.map = new google.maps.Map(_this.gmap_div[0], map_options);
                          return google.maps.event.addListener(_this.map, 'bounds_changed', _this.bounds_change);
                        };
                        if ((window.google != null) && (window.google.maps != null)) {
                          _.defer(this.build_map);
                        } else {
                          window['_bokeh_first_gmap_load'] = build_map;
                          script = document.createElement('script');
                          script.type = 'text/javascript';
                          script.src = 'https://maps.googleapis.com/maps/api/js?v=3.exp&sensor=false&callback=_bokeh_first_gmap_load';
                          document.body.appendChild(script);
                        }
                        if (full_render) {
                          return this.render();
                        }
                      };
                
                      GMapPlotView.prototype.bounds_change = function() {
                        var bds, ne, sw;
                        bds = this.map.getBounds();
                        ne = bds.getNorthEast();
                        sw = bds.getSouthWest();
                        this.x_range.set({
                          start: sw.lng(),
                          end: ne.lng(),
                          silent: true
                        });
                        this.y_range.set({
                          start: sw.lat(),
                          end: ne.lat()
                        });
                        if (this.initial_range_info == null) {
                          return this.initial_range_info = {
                            xr: {
                              start: this.x_range.get('start'),
                              end: this.x_range.get('end')
                            },
                            yr: {
                              start: this.y_range.get('start'),
                              end: this.y_range.get('end')
                            }
                          };
                        }
                      };
                
                      GMapPlotView.prototype.save_png = function() {
                        var data_uri;
                        this.render();
                        data_uri = this.canvas[0].toDataURL();
                        this.model.set('png', this.canvas[0].toDataURL());
                        return bulk_save([this.model]);
                      };
                
                      GMapPlotView.prototype.render = function(force) {
                        var have_new_mapper_state, hpadding, ih, iw, k, left, level, oh, ow, pr, renderers, sx, sy, sym, th, title, top, v, xms, yms, _i, _j, _k, _len, _len1, _len2, _ref1, _ref2, _ref3, _ref4;
                        this.requested_padding = {
                          top: 0,
                          bottom: 0,
                          left: 0,
                          right: 0
                        };
                        _ref1 = ['image', 'underlay', 'glyph', 'overlay', 'annotation', 'tool'];
                        for (_i = 0, _len = _ref1.length; _i < _len; _i++) {
                          level = _ref1[_i];
                          renderers = this.levels[level];
                          for (k in renderers) {
                            v = renderers[k];
                            if (v.padding_request != null) {
                              pr = v.padding_request();
                              for (k in pr) {
                                v = pr[k];
                                this.requested_padding[k] += v;
                              }
                            }
                          }
                        }
                        title = this.mget('title');
                        if (title) {
                          this.title_props.set(this.ctx, {});
                          th = this.ctx.measureText(this.mget('title')).ascent;
                          this.requested_padding['top'] += th + this.mget('title_standoff');
                        }
                        sym = this.mget('border_symmetry') || "";
                        if (sym.indexOf('h') >= 0 || sym.indexOf('H') >= 0) {
                          hpadding = Math.max(this.requested_padding['left'], this.requested_padding['right']);
                          this.requested_padding['left'] = hpadding;
                          this.requested_padding['right'] = hpadding;
                        }
                        if (sym.indexOf('v') >= 0 || sym.indexOf('V') >= 0) {
                          hpadding = Math.max(this.requested_padding['top'], this.requested_padding['bottom']);
                          this.requested_padding['top'] = hpadding;
                          this.requested_padding['bottom'] = hpadding;
                        }
                        this.is_paused = true;
                        _ref2 = this.requested_padding;
                        for (k in _ref2) {
                          v = _ref2[k];
                          this.view_state.set("requested_border_" + k, v);
                        }
                        this.is_paused = false;
                        oh = this.view_state.get('outer_height');
                        ow = this.view_state.get('outer_width');
                        iw = this.view_state.get('inner_width');
                        ih = this.view_state.get('inner_height');
                        top = this.view_state.get('border_top');
                        left = this.view_state.get('border_left');
                        this.gmap_div.attr("style", "top: " + top + "px; left: " + left + "px;");
                        this.gmap_div.width("" + iw + "px").height("" + ih + "px");
                        this.ctx.clearRect(0, 0, ow, oh);
                        this.ctx.beginPath();
                        this.ctx.moveTo(0, 0);
                        this.ctx.lineTo(0, oh);
                        this.ctx.lineTo(ow, oh);
                        this.ctx.lineTo(ow, 0);
                        this.ctx.lineTo(0, 0);
                        this.ctx.moveTo(left, top);
                        this.ctx.lineTo(left + iw, top);
                        this.ctx.lineTo(left + iw, top + ih);
                        this.ctx.lineTo(left, top + ih);
                        this.ctx.lineTo(left, top);
                        this.ctx.closePath();
                        this.ctx.fillStyle = this.mget('border_fill');
                        this.ctx.fill();
                        if (this.outline_props.do_stroke) {
                          this.outline_props.set(this.ctx, {});
                          this.ctx.strokeRect(this.view_state.get('border_left'), this.view_state.get('border_top'), this.view_state.get('inner_width'), this.view_state.get('inner_height'));
                        }
                        have_new_mapper_state = false;
                        xms = this.xmapper.get('mapper_state')[0];
                        yms = this.xmapper.get('mapper_state')[0];
                        if (Math.abs(this.old_mapper_state.x - xms) > 1e-8 || Math.abs(this.old_mapper_state.y - yms) > 1e-8) {
                          this.old_mapper_state.x = xms;
                          this.old_mapper_state.y = yms;
                          have_new_mapper_state = true;
                        }
                        this.ctx.save();
                        this.ctx.beginPath();
                        this.ctx.rect(this.view_state.get('border_left'), this.view_state.get('border_top'), this.view_state.get('inner_width'), this.view_state.get('inner_height'));
                        this.ctx.clip();
                        this.ctx.beginPath();
                        _ref3 = ['image', 'underlay', 'glyph'];
                        for (_j = 0, _len1 = _ref3.length; _j < _len1; _j++) {
                          level = _ref3[_j];
                          renderers = this.levels[level];
                          for (k in renderers) {
                            v = renderers[k];
                            v.render(have_new_mapper_state);
                          }
                        }
                        this.ctx.restore();
                        _ref4 = ['overlay', 'annotation', 'tool'];
                        for (_k = 0, _len2 = _ref4.length; _k < _len2; _k++) {
                          level = _ref4[_k];
                          renderers = this.levels[level];
                          for (k in renderers) {
                            v = renderers[k];
                            v.render(have_new_mapper_state);
                          }
                        }
                        if (title) {
                          sx = this.view_state.get('outer_width') / 2;
                          sy = th;
                          this.title_props.set(this.ctx, {});
                          return this.ctx.fillText(title, sx, sy);
                        }
                      };
                
                      return GMapPlotView;
                
                    })(ContinuumView.View);
                    GMapPlot = (function(_super) {
                      __extends(GMapPlot, _super);
                
                      function GMapPlot() {
                        _ref1 = GMapPlot.__super__.constructor.apply(this, arguments);
                        return _ref1;
                      }
                
                      GMapPlot.prototype.type = 'GMapPlot';
                
                      GMapPlot.prototype.default_view = GMapPlotView;
                
                      GMapPlot.prototype.add_renderers = function(new_renderers) {
                        var renderers;
                        renderers = this.get('renderers');
                        renderers = renderers.concat(new_renderers);
                        return this.set('renderers', renderers);
                      };
                
                      GMapPlot.prototype.parent_properties = ['border_fill', 'canvas_width', 'canvas_height', 'outer_width', 'outer_height', 'min_border', 'min_border_top', 'min_border_bottom', 'min_border_left', 'min_border_right'];
                
                      GMapPlot.prototype.defaults = function() {
                        return {
                          data_sources: {},
                          renderers: [],
                          tools: [],
                          title: 'GMapPlot'
                        };
                      };
                
                      GMapPlot.prototype.display_defaults = function() {
                        return {
                          hidpi: true,
                          border_fill: "#eee",
                          border_symmetry: 'h',
                          min_border: 40,
                          x_offset: 0,
                          y_offset: 0,
                          canvas_width: 300,
                          canvas_height: 300,
                          outer_width: 300,
                          outer_height: 300,
                          title_standoff: 8,
                          title_text_font: "helvetica",
                          title_text_font_size: "20pt",
                          title_text_font_style: "normal",
                          title_text_color: "#444444",
                          title_text_alpha: 1.0,
                          title_text_align: "center",
                          title_text_baseline: "alphabetic",
                          outline_line_color: '#aaaaaa',
                          outline_line_width: 1,
                          outline_line_alpha: 1.0,
                          outline_line_join: 'miter',
                          outline_line_cap: 'butt',
                          outline_line_dash: [],
                          outline_line_dash_offset: 0
                        };
                      };
                
                      return GMapPlot;
                
                    })(HasParent);
                    GMapPlots = (function(_super) {
                      __extends(GMapPlots, _super);
                
                      function GMapPlots() {
                        _ref2 = GMapPlots.__super__.constructor.apply(this, arguments);
                        return _ref2;
                      }
                
                      GMapPlots.prototype.model = GMapPlot;
                
                      return GMapPlots;
                
                    })(Backbone.Collection);
                    return {
                      "Model": GMapPlot,
                      "Collection": new GMapPlots(),
                      "View": GMapPlotView
                    };
                  });
                
                }).call(this);
                
                /*
                //@ sourceMappingURL=gmap_plot.js.map
                */;
                (function() {
                  var __bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; },
                    __hasProp = {}.hasOwnProperty,
                    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };
                
                  define('common/grid_view_state',["underscore", "./safebind", "./view_state"], function(_, safebind, ViewState) {
                    var GridViewState, _ref;
                    GridViewState = (function(_super) {
                      __extends(GridViewState, _super);
                
                      function GridViewState() {
                        this.layout_widths = __bind(this.layout_widths, this);
                        this.layout_heights = __bind(this.layout_heights, this);
                        this.setup_layout_properties = __bind(this.setup_layout_properties, this);
                        _ref = GridViewState.__super__.constructor.apply(this, arguments);
                        return _ref;
                      }
                
                      GridViewState.prototype.setup_layout_properties = function() {
                        var row, viewstate, _i, _len, _ref1, _results;
                        this.register_property('layout_heights', this.layout_heights, true);
                        this.register_property('layout_widths', this.layout_widths, true);
                        _ref1 = this.get('childviewstates');
                        _results = [];
                        for (_i = 0, _len = _ref1.length; _i < _len; _i++) {
                          row = _ref1[_i];
                          _results.push((function() {
                            var _j, _len1, _results1;
                            _results1 = [];
                            for (_j = 0, _len1 = row.length; _j < _len1; _j++) {
                              viewstate = row[_j];
                              this.add_dependencies('layout_heights', viewstate, 'outer_height');
                              _results1.push(this.add_dependencies('layout_widths', viewstate, 'outer_width'));
                            }
                            return _results1;
                          }).call(this));
                        }
                        return _results;
                      };
                
                      GridViewState.prototype.initialize = function(attrs, options) {
                        GridViewState.__super__.initialize.call(this, attrs, options);
                        this.setup_layout_properties();
                        safebind(this, this, 'change:childviewstates', this.setup_layout_properties);
                        this.register_property('height', function() {
                          return _.reduce(this.get('layout_heights'), (function(x, y) {
                            return x + y;
                          }), 0);
                        }, true);
                        this.add_dependencies('height', this, 'layout_heights');
                        this.register_property('width', function() {
                          return _.reduce(this.get('layout_widths'), (function(x, y) {
                            return x + y;
                          }), 0);
                        }, true);
                        return this.add_dependencies('width', this, 'layout_widths');
                      };
                
                      GridViewState.prototype.position_child_x = function(offset, childsize) {
                        return offset;
                      };
                
                      GridViewState.prototype.position_child_y = function(offset, childsize) {
                        return this.get('height') - offset - childsize;
                      };
                
                      GridViewState.prototype.maxdim = function(dim, row) {
                        if (row.length === 0) {
                          return 0;
                        } else {
                          return _.max(_.map(row, function(x) {
                            if (x != null) {
                              return x.get(dim);
                            }
                            return 0;
                          }));
                        }
                      };
                
                      GridViewState.prototype.layout_heights = function() {
                        var row, row_heights;
                        row_heights = (function() {
                          var _i, _len, _ref1, _results;
                          _ref1 = this.get('childviewstates');
                          _results = [];
                          for (_i = 0, _len = _ref1.length; _i < _len; _i++) {
                            row = _ref1[_i];
                            _results.push(this.maxdim('outer_height', row));
                          }
                          return _results;
                        }).call(this);
                        return row_heights;
                      };
                
                      GridViewState.prototype.layout_widths = function() {
                        var col, col_widths, columns, n, num_cols, row;
                        num_cols = this.get('childviewstates')[0].length;
                        columns = (function() {
                          var _i, _len, _ref1, _results;
                          _ref1 = _.range(num_cols);
                          _results = [];
                          for (_i = 0, _len = _ref1.length; _i < _len; _i++) {
                            n = _ref1[_i];
                            _results.push((function() {
                              var _j, _len1, _ref2, _results1;
                              _ref2 = this.get('childviewstates');
                              _results1 = [];
                              for (_j = 0, _len1 = _ref2.length; _j < _len1; _j++) {
                                row = _ref2[_j];
                                _results1.push(row[n]);
                              }
                              return _results1;
                            }).call(this));
                          }
                          return _results;
                        }).call(this);
                        col_widths = (function() {
                          var _i, _len, _results;
                          _results = [];
                          for (_i = 0, _len = columns.length; _i < _len; _i++) {
                            col = columns[_i];
                            _results.push(this.maxdim('outer_width', col));
                          }
                          return _results;
                        }).call(this);
                        return col_widths;
                      };
                
                      GridViewState.prototype.defaults = function() {
                        return {
                          childviewstates: [[]],
                          border_space: 0
                        };
                      };
                
                      return GridViewState;
                
                    })(ViewState);
                    return GridViewState;
                  });
                
                }).call(this);
                
                /*
                //@ sourceMappingURL=grid_view_state.js.map
                */;
                (function() {
                  var __hasProp = {}.hasOwnProperty,
                    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };
                
                  define('common/grid_plot',["underscore", "backbone", "./build_views", "./safebind", "./continuum_view", "./has_parent", "./grid_view_state", "renderer/properties", "tool/active_tool_manager"], function(_, Backbone, build_views, safebind, ContinuumView, HasParent, GridViewState, Properties, ActiveToolManager) {
                    var GridPlot, GridPlotView, GridPlots, _ref, _ref1, _ref2;
                    GridPlotView = (function(_super) {
                      __extends(GridPlotView, _super);
                
                      function GridPlotView() {
                        _ref = GridPlotView.__super__.constructor.apply(this, arguments);
                        return _ref;
                      }
                
                      GridPlotView.prototype.tagName = 'div';
                
                      GridPlotView.prototype.className = "bokeh grid_plot";
                
                      GridPlotView.prototype.default_options = {
                        scale: 1.0
                      };
                
                      GridPlotView.prototype.set_child_view_states = function() {
                        var row, viewstaterow, viewstates, x, _i, _len, _ref1;
                        viewstates = [];
                        _ref1 = this.mget('children');
                        for (_i = 0, _len = _ref1.length; _i < _len; _i++) {
                          row = _ref1[_i];
                          viewstaterow = (function() {
                            var _j, _len1, _results;
                            _results = [];
                            for (_j = 0, _len1 = row.length; _j < _len1; _j++) {
                              x = row[_j];
                              _results.push(this.childviews[x.id].view_state);
                            }
                            return _results;
                          }).call(this);
                          viewstates.push(viewstaterow);
                        }
                        return this.viewstate.set('childviewstates', viewstates);
                      };
                
                      GridPlotView.prototype.initialize = function(options) {
                        GridPlotView.__super__.initialize.call(this, _.defaults(options, this.default_options));
                        this.viewstate = new GridViewState();
                        this.toolbar_height = 0;
                        this.childviews = {};
                        this.build_children();
                        this.bind_bokeh_events();
                        this.render();
                        return this;
                      };
                
                      GridPlotView.prototype.bind_bokeh_events = function() {
                        var _this = this;
                        safebind(this, this.model, 'change:children', this.build_children);
                        safebind(this, this.model, 'change', this.render);
                        safebind(this, this.viewstate, 'change', this.render);
                        return safebind(this, this.model, 'destroy', function() {
                          return _this.remove();
                        });
                      };
                
                      GridPlotView.prototype.b_events = {
                        "change:children model": "build_children",
                        "change model": "render",
                        "change viewstate": "render",
                        "destroy model": "remove"
                      };
                
                      GridPlotView.prototype.build_children = function() {
                        var childmodels, plot, row, _i, _j, _len, _len1, _ref1;
                        childmodels = [];
                        _ref1 = this.mget_obj('children');
                        for (_i = 0, _len = _ref1.length; _i < _len; _i++) {
                          row = _ref1[_i];
                          for (_j = 0, _len1 = row.length; _j < _len1; _j++) {
                            plot = row[_j];
                            childmodels.push(plot);
                          }
                        }
                        build_views(this.childviews, childmodels, {});
                        return this.set_child_view_states();
                      };
                
                      GridPlotView.prototype.makeButton = function(eventSink, constructor, toolbar_div, button_name) {
                        var all_tools, button, button_activated, specific_tools, tool_active;
                        all_tools = _.flatten(_.map(_.pluck(this.childviews, 'tools'), _.values));
                        specific_tools = _.where(all_tools, {
                          constructor: constructor
                        });
                        button = $("<button class='bk-toolbar-button'>" + button_name + "</button>");
                        toolbar_div.append(button);
                        tool_active = false;
                        button_activated = false;
                        button.click(function() {
                          if (button_activated) {
                            return eventSink.trigger('clear_active_tool');
                          } else {
                            return eventSink.trigger('active_tool', button_name);
                          }
                        });
                        eventSink.on("" + button_name + ":deactivated", function() {
                          button.removeClass('active');
                          button_activated = false;
                          return _.each(specific_tools, function(t) {
                            var t_name;
                            t_name = t.evgen.toolName;
                            return t.evgen.eventSink.trigger("" + t_name + ":deactivated");
                          });
                        });
                        return eventSink.on("" + button_name + ":activated", function() {
                          button.addClass('active');
                          button_activated = true;
                          return _.each(specific_tools, function(t) {
                            var t_name;
                            t_name = t.evgen.toolName;
                            return t.evgen.eventSink.trigger("" + t_name + ":activated");
                          });
                        });
                      };
                
                      GridPlotView.prototype.addGridToolbar = function() {
                        var all_tool_classes, all_tools, tool_name_dict,
                          _this = this;
                        this.button_bar = $("<div class='grid_button_bar'/>");
                        this.button_bar.attr('style', "position:absolute; left:10px; top:0px; ");
                        this.toolEventSink = _.extend({}, Backbone.Events);
                        this.atm = new ActiveToolManager(this.toolEventSink);
                        this.atm.bind_bokeh_events();
                        this.$el.append(this.button_bar);
                        all_tools = _.flatten(_.map(_.pluck(this.childviews, 'tools'), _.values));
                        all_tool_classes = _.uniq(_.pluck(all_tools, 'constructor'));
                        if (all_tool_classes.length > 0) {
                          this.toolbar_height = 35;
                        }
                        tool_name_dict = {};
                        _.each(all_tool_classes, function(klass) {
                          var btext;
                          btext = _.where(all_tools, {
                            constructor: klass
                          })[0].evgen_options.buttonText;
                          return tool_name_dict[btext] = klass;
                        });
                        _.map(tool_name_dict, function(klass, button_text) {
                          return _this.makeButton(_this.toolEventSink, klass, _this.button_bar, button_text);
                        });
                        return _.map(all_tools, function(t) {
                          return t.evgen.hide_button();
                        });
                      };
                
                      GridPlotView.prototype.render = function() {
                        var add, cidx, col_widths, height, last_plot, plot_divs, plot_wrapper, plotspec, ridx, row, row_heights, total_height, view, width, x_coords, xpos, y_coords, ypos, _i, _j, _k, _len, _len1, _len2, _ref1, _ref2;
                        GridPlotView.__super__.render.call(this);
                        _ref1 = _.values(this.childviews);
                        for (_i = 0, _len = _ref1.length; _i < _len; _i++) {
                          view = _ref1[_i];
                          view.$el.detach();
                        }
                        this.$el.html('');
                        this.addGridToolbar();
                        row_heights = this.viewstate.get('layout_heights');
                        col_widths = this.viewstate.get('layout_widths');
                        y_coords = [0];
                        _.reduceRight(row_heights.slice(1), function(x, y) {
                          var val;
                          val = x + y;
                          y_coords.push(val);
                          return val;
                        }, 0);
                        y_coords.reverse();
                        x_coords = [0];
                        _.reduce(col_widths.slice(0), function(x, y) {
                          var val;
                          val = x + y;
                          x_coords.push(val);
                          return val;
                        }, 0);
                        plot_divs = [];
                        last_plot = null;
                        _ref2 = this.mget('children');
                        for (ridx = _j = 0, _len1 = _ref2.length; _j < _len1; ridx = ++_j) {
                          row = _ref2[ridx];
                          for (cidx = _k = 0, _len2 = row.length; _k < _len2; cidx = ++_k) {
                            plotspec = row[cidx];
                            view = this.childviews[plotspec.id];
                            ypos = this.viewstate.position_child_y(y_coords[ridx], view.view_state.get('outer_height') - this.toolbar_height);
                            xpos = this.viewstate.position_child_x(x_coords[cidx], view.view_state.get('outer_width'));
                            plot_wrapper = $("<div class='gp_plotwrapper'></div>");
                            plot_wrapper.attr('style', "position: absolute; left:" + xpos + "px; top:" + ypos + "px");
                            plot_wrapper.append(view.$el);
                            this.$el.append(plot_wrapper);
                          }
                        }
                        add = function(a, b) {
                          return a + b;
                        };
                        total_height = _.reduce(row_heights, add, 0);
                        height = total_height + this.toolbar_height;
                        width = _.reduce(col_widths, add, 0);
                        this.$el.attr('style', "position:relative; height:" + height + "px;width:" + width + "px");
                        return this.render_end();
                      };
                
                      return GridPlotView;
                
                    })(ContinuumView.View);
                    GridPlot = (function(_super) {
                      __extends(GridPlot, _super);
                
                      function GridPlot() {
                        _ref1 = GridPlot.__super__.constructor.apply(this, arguments);
                        return _ref1;
                      }
                
                      GridPlot.prototype.type = 'GridPlot';
                
                      GridPlot.prototype.default_view = GridPlotView;
                
                      GridPlot.prototype.defaults = function() {
                        return {
                          children: [[]],
                          border_space: 0
                        };
                      };
                
                      return GridPlot;
                
                    })(HasParent);
                    GridPlots = (function(_super) {
                      __extends(GridPlots, _super);
                
                      function GridPlots() {
                        _ref2 = GridPlots.__super__.constructor.apply(this, arguments);
                        return _ref2;
                      }
                
                      GridPlots.prototype.model = GridPlot;
                
                      return GridPlots;
                
                    })(Backbone.Collection);
                    return {
                      "Model": GridPlot,
                      "Collection": new GridPlots(),
                      "View": GridPlotView
                    };
                  });
                
                }).call(this);
                
                /*
                //@ sourceMappingURL=grid_plot.js.map
                */;
                (function() {
                  var __hasProp = {}.hasOwnProperty,
                    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };
                
                  define('mapper/1d/log_mapper',["backbone", "common/has_properties"], function(Backbone, HasProperties) {
                    var LogMapper, LogMappers, _ref, _ref1;
                    LogMapper = (function(_super) {
                      __extends(LogMapper, _super);
                
                      function LogMapper() {
                        _ref = LogMapper.__super__.constructor.apply(this, arguments);
                        return _ref;
                      }
                
                      LogMapper.prototype.initialize = function(attrs, options) {
                        LogMapper.__super__.initialize.call(this, attrs, options);
                        this.register_property('mapper_state', this._mapper_state, true);
                        this.add_dependencies('mapper_state', this, ['source_range', 'target_range']);
                        this.add_dependencies('mapper_state', this.get('source_range'), ['start', 'end']);
                        return this.add_dependencies('mapper_state', this.get('target_range'), ['start', 'end']);
                      };
                
                      LogMapper.prototype.map_to_target = function(x) {
                        var error, inter_offset, inter_scale, intermediate, offset, result, scale, _ref1;
                        _ref1 = this.get('mapper_state'), scale = _ref1[0], offset = _ref1[1], inter_scale = _ref1[2], inter_offset = _ref1[3];
                        intermediate = 0;
                        result = 0;
                        if (inter_scale === 0) {
                          intermediate = 0;
                        } else {
                          try {
                            intermediate = (Math.log(x) - inter_offset) / inter_scale;
                            if (isNaN(intermediate)) {
                              throw "NaN";
                            }
                            if (isFinite(intermediate) === false) {
                              throw "Infinite";
                            }
                          } catch (_error) {
                            error = _error;
                            intermediate = 0;
                          }
                        }
                        result = intermediate * scale + offset;
                        return result;
                      };
                
                      LogMapper.prototype.v_map_to_target = function(xs) {
                        var error, i, idx, inter_offset, inter_scale, intermediate, mask, mask1, mask2, offset, result, scale, x, _i, _j, _len, _len1, _ref1;
                        _ref1 = this.get('mapper_state'), scale = _ref1[0], offset = _ref1[1], inter_scale = _ref1[2], inter_offset = _ref1[3];
                        intermediate = new Float64Array(xs.length);
                        result = new Float64Array(xs.length);
                        if (inter_scale === 0) {
                          intermediate = xs.map(function(i) {
                            return i * 0;
                          });
                        } else {
                          try {
                            mask1 = xs.map(function(i) {
                              return i <= 0;
                            });
                            mask2 = xs.map(function(i) {
                              return isNaN(i);
                            });
                            mask = (function() {
                              var _i, _ref2, _results;
                              _results = [];
                              for (i = _i = 0, _ref2 = xs.length; 0 <= _ref2 ? _i < _ref2 : _i > _ref2; i = 0 <= _ref2 ? ++_i : --_i) {
                                _results.push(mask1[i] | mask2[i]);
                              }
                              return _results;
                            })();
                            mask = mask.reduce(function(x, y) {
                              return x || y;
                            });
                            if (mask === 1) {
                              xs[mask] = 1;
                            }
                            intermediate = xs.map(function(i) {
                              return (Math.log(i) - inter_offset) / inter_scale;
                            });
                            for (idx = _i = 0, _len = intermediate.length; _i < _len; idx = ++_i) {
                              x = intermediate[idx];
                              if (isNaN(intermediate[idx])) {
                                throw "NaN";
                              }
                              if (isFinite(intermediate[idx]) === false) {
                                throw "Infinite";
                              }
                            }
                          } catch (_error) {
                            error = _error;
                            intermediate = xs.map(function(i) {
                              return i * 0;
                            });
                          }
                        }
                        for (idx = _j = 0, _len1 = xs.length; _j < _len1; idx = ++_j) {
                          x = xs[idx];
                          result[idx] = intermediate[idx] * scale + offset;
                        }
                        return result;
                      };
                
                      LogMapper.prototype.map_from_target = function(xprime) {
                        var inter_offset, inter_scale, intermediate, offset, scale, _ref1;
                        _ref1 = this.get('mapper_state'), scale = _ref1[0], offset = _ref1[1], inter_scale = _ref1[2], inter_offset = _ref1[3];
                        intermediate = (xprime - offset) / scale;
                        intermediate = Math.exp(inter_scale * intermediate + inter_offset);
                        return intermediate;
                      };
                
                      LogMapper.prototype.v_map_from_target = function(xprimes) {
                        var inter_offset, inter_scale, intermediate, offset, scale, _ref1;
                        _ref1 = this.get('mapper_state'), scale = _ref1[0], offset = _ref1[1], inter_scale = _ref1[2], inter_offset = _ref1[3];
                        intermediate = xprimes.map(function(i) {
                          return (i - offset) / scale;
                        });
                        intermediate = intermediate.map(function(i) {
                          return Math.exp(inter_scale * i + inter_offset);
                        });
                        return intermediate;
                      };
                
                      LogMapper.prototype._get_safe_scale = function(orig_start, orig_end) {
                        var end, log_val, start;
                        if (orig_start < 0) {
                          start = 0;
                        } else {
                          start = orig_start;
                        }
                        if (orig_end < 0) {
                          end = 0;
                        } else {
                          end = orig_end;
                        }
                        if (start === end) {
                          if (start === 0) {
                            start = 1;
                            end = 10;
                          } else {
                            log_val = Math.log(start) / Math.log(10);
                            start = Math.pow(10, Math.floor(log_val));
                            if (Math.ceil(log_val) !== Math.floor(log_val)) {
                              end = Math.pow(10, Math.ceil(log_val));
                            } else {
                              end = Math.pow(10, Math.ceil(log_val) + 1);
                            }
                          }
                        }
                        return [start, end];
                      };
                
                      LogMapper.prototype._mapper_state = function() {
                        var end, inter_offset, inter_scale, offset, scale, screen_range, source_end, source_start, start, target_end, target_start, _ref1;
                        source_start = this.get('source_range').get('start');
                        source_end = this.get('source_range').get('end');
                        target_start = this.get('target_range').get('start');
                        target_end = this.get('target_range').get('end');
                        screen_range = target_end - target_start;
                        _ref1 = this._get_safe_scale(source_start, source_end), start = _ref1[0], end = _ref1[1];
                        if (start === 0) {
                          inter_scale = Math.log(end);
                          inter_offset = 0;
                        } else {
                          inter_scale = Math.log(end) - Math.log(start);
                          inter_offset = Math.log(start);
                        }
                        scale = screen_range;
                        offset = target_start;
                        return [scale, offset, inter_scale, inter_offset];
                      };
                
                      return LogMapper;
                
                    })(HasProperties);
                    LogMappers = (function(_super) {
                      __extends(LogMappers, _super);
                
                      function LogMappers() {
                        _ref1 = LogMappers.__super__.constructor.apply(this, arguments);
                        return _ref1;
                      }
                
                      LogMappers.prototype.model = LogMapper;
                
                      return LogMappers;
                
                    })(Backbone.Collection);
                    return {
                      "Model": LogMapper,
                      "Collection": new LogMappers()
                    };
                  });
                
                }).call(this);
                
                /*
                //@ sourceMappingURL=log_mapper.js.map
                */;
                (function() {
                  var __hasProp = {}.hasOwnProperty,
                    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };
                
                  define('mapper/1d/categorical_mapper',["backbone", "./linear_mapper"], function(Backbone, LinearMapper) {
                    var CategoricalMapper, CategoricalMappers, _ref, _ref1;
                    CategoricalMapper = (function(_super) {
                      __extends(CategoricalMapper, _super);
                
                      function CategoricalMapper() {
                        _ref = CategoricalMapper.__super__.constructor.apply(this, arguments);
                        return _ref;
                      }
                
                      CategoricalMapper.prototype.map_to_target = function(x) {
                        var factor, factors, percent, _ref1;
                        if (typeof x === 'number') {
                          return CategoricalMapper.__super__.map_to_target.call(this, x);
                        }
                        factors = this.get('source_range').get('factors');
                        if (x.indexOf(':') >= 0) {
                          _ref1 = x.split(':'), factor = _ref1[0], percent = _ref1[1];
                          percent = parseFloat(percent);
                          return CategoricalMapper.__super__.map_to_target.call(this, factors.indexOf(factor) + 0.5 + percent);
                        }
                        return CategoricalMapper.__super__.map_to_target.call(this, factors.indexOf(x) + 1);
                      };
                
                      CategoricalMapper.prototype.v_map_to_target = function(xs) {
                        var factor, factors, i, percent, results, x, _i, _ref1, _ref2;
                        if (typeof xs[0] === 'number') {
                          return CategoricalMapper.__super__.v_map_to_target.call(this, xs);
                        }
                        factors = this.get('source_range').get('factors');
                        results = Array(xs.length);
                        for (i = _i = 0, _ref1 = xs.length; 0 <= _ref1 ? _i < _ref1 : _i > _ref1; i = 0 <= _ref1 ? ++_i : --_i) {
                          x = xs[i];
                          if (x.indexOf(':') >= 0) {
                            _ref2 = x.split(':'), factor = _ref2[0], percent = _ref2[1];
                            percent = parseFloat(percent);
                            results[i] = factors.indexOf(factor) + 0.5 + percent;
                          } else {
                            results[i] = factors.indexOf(x) + 1;
                          }
                        }
                        return CategoricalMapper.__super__.v_map_to_target.call(this, results);
                      };
                
                      CategoricalMapper.prototype.map_from_target = function(xprime) {
                        var factors;
                        xprime = CategoricalMapper.__super__.map_from_target.call(this, xprime) - 0.5;
                        factors = this.get('source_range').get('factors');
                        return factors[Math.floor(xprime)];
                      };
                
                      CategoricalMapper.prototype.v_map_from_target = function(xprimes) {
                        var factors, i, result, _i, _ref1;
                        result = CategoricalMapper.__super__.v_map_from_target.call(this, xprimes);
                        factors = this.get('source_range').get('factors');
                        for (i = _i = 0, _ref1 = result.length; 0 <= _ref1 ? _i < _ref1 : _i > _ref1; i = 0 <= _ref1 ? ++_i : --_i) {
                          result[i] = factors[Math.floor(result[i] - 0.5)];
                        }
                        return result;
                      };
                
                      return CategoricalMapper;
                
                    })(LinearMapper.Model);
                    CategoricalMappers = (function(_super) {
                      __extends(CategoricalMappers, _super);
                
                      function CategoricalMappers() {
                        _ref1 = CategoricalMappers.__super__.constructor.apply(this, arguments);
                        return _ref1;
                      }
                
                      CategoricalMappers.prototype.model = CategoricalMapper;
                
                      return CategoricalMappers;
                
                    })(Backbone.Collection);
                    return {
                      "Model": CategoricalMapper,
                      "Collection": new CategoricalMappers()
                    };
                  });
                
                }).call(this);
                
                /*
                //@ sourceMappingURL=categorical_mapper.js.map
                */;
                (function() {
                  var __bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; },
                    __hasProp = {}.hasOwnProperty,
                    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };
                
                  define('common/plot',["underscore", "backbone", "require", "./build_views", "./safebind", "./bulk_save", "./continuum_view", "./has_parent", "./view_state", "mapper/1d/linear_mapper", "mapper/1d/log_mapper", "mapper/1d/categorical_mapper", "mapper/2d/grid_mapper", "renderer/properties", "tool/active_tool_manager"], function(_, Backbone, require, build_views, safebind, bulk_save, ContinuumView, HasParent, ViewState, LinearMapper, LogMapper, CategoricalMapper, GridMapper, Properties, ActiveToolManager) {
                    var LEVELS, Plot, PlotView, Plots, delay_animation, line_properties, text_properties, throttle_animation, _ref, _ref1, _ref2;
                    line_properties = Properties.line_properties;
                    text_properties = Properties.text_properties;
                    LEVELS = ['image', 'underlay', 'glyph', 'overlay', 'annotation', 'tool'];
                    delay_animation = function(f) {
                      return f();
                    };
                    delay_animation = window.requestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame || window.msRequestAnimationFrame || delay_animation;
                    throttle_animation = function(func, wait) {
                      var args, context, later, pending, previous, result, timeout, _ref;
                      _ref = [null, null, null, null], context = _ref[0], args = _ref[1], timeout = _ref[2], result = _ref[3];
                      previous = 0;
                      pending = false;
                      later = function() {
                        previous = new Date;
                        timeout = null;
                        pending = false;
                        return result = func.apply(context, args);
                      };
                      return function() {
                        var now, remaining;
                        now = new Date;
                        remaining = wait - (now - previous);
                        context = this;
                        args = arguments;
                        if (remaining <= 0 && !pending) {
                          clearTimeout(timeout);
                          pending = true;
                          delay_animation(later);
                        } else if (!timeout) {
                          timeout = setTimeout((function() {
                            return delay_animation(later);
                          }), remaining);
                        }
                        return result;
                      };
                    };
                    PlotView = (function(_super) {
                      __extends(PlotView, _super);
                
                      function PlotView() {
                        this._mousemove = __bind(this._mousemove, this);
                        this._mousedown = __bind(this._mousedown, this);
                        _ref = PlotView.__super__.constructor.apply(this, arguments);
                        return _ref;
                      }
                
                      PlotView.prototype.className = "bokeh plotview";
                
                      PlotView.prototype.events = {
                        "mousemove .bokeh_canvas_wrapper": "_mousemove",
                        "mousedown .bokeh_canvas_wrapper": "_mousedown"
                      };
                
                      PlotView.prototype.view_options = function() {
                        return _.extend({
                          plot_model: this.model,
                          plot_view: this
                        }, this.options);
                      };
                
                      PlotView.prototype._mousedown = function(e) {
                        var f, _i, _len, _ref1, _results;
                        _ref1 = this.mousedownCallbacks;
                        _results = [];
                        for (_i = 0, _len = _ref1.length; _i < _len; _i++) {
                          f = _ref1[_i];
                          _results.push(f(e, e.layerX, e.layerY));
                        }
                        return _results;
                      };
                
                      PlotView.prototype._mousemove = function(e) {
                        var f, _i, _len, _ref1, _results;
                        _ref1 = this.moveCallbacks;
                        _results = [];
                        for (_i = 0, _len = _ref1.length; _i < _len; _i++) {
                          f = _ref1[_i];
                          _results.push(f(e, e.layerX, e.layerY));
                        }
                        return _results;
                      };
                
                      PlotView.prototype.pause = function() {
                        return this.is_paused = true;
                      };
                
                      PlotView.prototype.unpause = function(render_canvas) {
                        if (render_canvas == null) {
                          render_canvas = false;
                        }
                        this.is_paused = false;
                        if (render_canvas) {
                          return this.request_render_canvas(true);
                        } else {
                          return this.request_render();
                        }
                      };
                
                      PlotView.prototype.request_render = function() {
                        if (!this.is_paused) {
                          this.throttled_render();
                        }
                      };
                
                      PlotView.prototype.request_render_canvas = function(full_render) {
                        if (!this.is_paused) {
                          this.throttled_render_canvas(full_render);
                        }
                      };
                
                      PlotView.prototype.initialize = function(options) {
                        var level, xmapper_type, xmt, ymapper_type, ymt, _i, _len, _ref1, _ref10, _ref11, _ref12, _ref13, _ref14, _ref15, _ref16, _ref17, _ref2, _ref3, _ref4, _ref5, _ref6, _ref7, _ref8, _ref9;
                        PlotView.__super__.initialize.call(this, _.defaults(options, this.default_options));
                        this.throttled_render = throttle_animation(this.render, 15);
                        this.throttled_render_canvas = throttle_animation(this.render_canvas, 15);
                        this.outline_props = new line_properties(this, {}, 'outline_');
                        this.title_props = new text_properties(this, {}, 'title_');
                        this.view_state = new ViewState({
                          canvas_width: (_ref1 = options.canvas_width) != null ? _ref1 : this.mget('canvas_width'),
                          canvas_height: (_ref2 = options.canvas_height) != null ? _ref2 : this.mget('canvas_height'),
                          x_offset: (_ref3 = options.x_offset) != null ? _ref3 : this.mget('x_offset'),
                          y_offset: (_ref4 = options.y_offset) != null ? _ref4 : this.mget('y_offset'),
                          outer_width: (_ref5 = options.outer_width) != null ? _ref5 : this.mget('outer_width'),
                          outer_height: (_ref6 = options.outer_height) != null ? _ref6 : this.mget('outer_height'),
                          min_border_top: (_ref7 = (_ref8 = options.min_border_top) != null ? _ref8 : this.mget('min_border_top')) != null ? _ref7 : this.mget('min_border'),
                          min_border_bottom: (_ref9 = (_ref10 = options.min_border_bottom) != null ? _ref10 : this.mget('min_border_bottom')) != null ? _ref9 : this.mget('min_border'),
                          min_border_left: (_ref11 = (_ref12 = options.min_border_left) != null ? _ref12 : this.mget('min_border_left')) != null ? _ref11 : this.mget('min_border'),
                          min_border_right: (_ref13 = (_ref14 = options.min_border_right) != null ? _ref14 : this.mget('min_border_right')) != null ? _ref13 : this.mget('min_border'),
                          requested_border_top: 0,
                          requested_border_bottom: 0,
                          requested_border_left: 0,
                          requested_border_right: 0
                        });
                        this.hidpi = (_ref15 = options.hidpi) != null ? _ref15 : this.mget('hidpi');
                        this.x_range = (_ref16 = options.x_range) != null ? _ref16 : this.mget_obj('x_range');
                        this.y_range = (_ref17 = options.y_range) != null ? _ref17 : this.mget_obj('y_range');
                        xmt = this.mget('x_mapper_type');
                        if (xmt === 'auto') {
                          xmapper_type = LinearMapper.Model;
                          if (this.x_range.type === "FactorRange") {
                            xmapper_type = CategoricalMapper.Model;
                          }
                          this.xmapper = new xmapper_type({
                            source_range: this.x_range,
                            target_range: this.view_state.get('inner_range_horizontal')
                          });
                        } else {
                          if (xmt === 'log') {
                            xmapper_type = LogMapper.Model;
                          }
                          this.xmapper = new xmapper_type({
                            source_range: this.x_range,
                            target_range: this.view_state.get('inner_range_horizontal')
                          });
                        }
                        ymt = this.mget('y_mapper_type');
                        if (ymt === 'auto') {
                          ymapper_type = LinearMapper.Model;
                          if (this.y_range.type === "FactorRange") {
                            ymapper_type = CategoricalMapper.Model;
                          }
                          this.ymapper = new ymapper_type({
                            source_range: this.y_range,
                            target_range: this.view_state.get('inner_range_vertical')
                          });
                        } else {
                          if (ymt === 'log') {
                            ymapper_type = LogMapper.Model;
                          }
                          this.ymapper = new ymapper_type({
                            source_range: this.y_range,
                            target_range: this.view_state.get('inner_range_vertical')
                          });
                        }
                        this.mapper = new GridMapper.Model({
                          domain_mapper: this.xmapper,
                          codomain_mapper: this.ymapper
                        });
                        this.requested_padding = {
                          top: 0,
                          bottom: 0,
                          left: 0,
                          right: 0
                        };
                        this.old_mapper_state = {
                          x: null,
                          y: null
                        };
                        this.am_rendering = false;
                        this.renderers = {};
                        this.tools = {};
                        this.eventSink = _.extend({}, Backbone.Events);
                        this.moveCallbacks = [];
                        this.mousedownCallbacks = [];
                        this.keydownCallbacks = [];
                        this.render_init();
                        this.render_canvas(false);
                        this.atm = new ActiveToolManager(this.eventSink);
                        this.levels = {};
                        for (_i = 0, _len = LEVELS.length; _i < _len; _i++) {
                          level = LEVELS[_i];
                          this.levels[level] = {};
                        }
                        this.build_levels();
                        this.request_render();
                        this.atm.bind_bokeh_events();
                        this.bind_bokeh_events();
                        return this;
                      };
                
                      PlotView.prototype.map_to_screen = function(x, x_units, y, y_units) {
                        var sx, sy;
                        if (x_units === 'screen') {
                          if (_.isArray(x)) {
                            sx = x.slice(0);
                          } else {
                            sx = new Float64Array(x.length);
                            sx.set(x);
                          }
                        } else {
                          sx = this.xmapper.v_map_to_target(x);
                        }
                        if (y_units === 'screen') {
                          if (_.isArray(y)) {
                            sy = y.slice(0);
                          } else {
                            sy = new Float64Array(y.length);
                            sy.set(y);
                          }
                        } else {
                          sy = this.ymapper.v_map_to_target(y);
                        }
                        sx = this.view_state.v_vx_to_sx(sx);
                        sy = this.view_state.v_vy_to_sy(sy);
                        return [sx, sy];
                      };
                
                      PlotView.prototype.map_from_screen = function(sx, sy, units) {
                        var dx, dy, x, y, _ref1;
                        if (_.isArray(sx)) {
                          dx = sx.slice(0);
                        } else {
                          dx = new Float64Array(sx.length);
                          dx.set(x);
                        }
                        if (_.isArray(sy)) {
                          dy = sy.slice(0);
                        } else {
                          dy = new Float64Array(sy.length);
                          dy.set(y);
                        }
                        sx = this.view_state.v_sx_to_vx(dx);
                        sy = this.view_state.v_sy_to_vy(dy);
                        if (units === 'screen') {
                          x = sx;
                          y = sy;
                        } else {
                          _ref1 = this.mapper.v_map_from_target(sx, sy), x = _ref1[0], y = _ref1[1];
                        }
                        return [x, y];
                      };
                
                      PlotView.prototype.update_range = function(range_info) {
                        if (range_info == null) {
                          range_info = this.initial_range_info;
                        }
                        this.pause();
                        this.x_range.set(range_info.xr);
                        this.y_range.set(range_info.yr);
                        return this.unpause();
                      };
                
                      PlotView.prototype.build_tools = function() {
                        return build_views(this.tools, this.mget_obj('tools'), this.view_options());
                      };
                
                      PlotView.prototype.build_views = function() {
                        return build_views(this.renderers, this.mget_obj('renderers'), this.view_options());
                      };
                
                      PlotView.prototype.build_levels = function() {
                        var id_, level, old_renderers, renderers_to_remove, t, tools, v, views, _i, _j, _k, _len, _len1, _len2;
                        old_renderers = _.keys(this.renderers);
                        views = this.build_views();
                        renderers_to_remove = _.difference(old_renderers, _.pluck(this.mget_obj('renderers'), 'id'));
                        for (_i = 0, _len = renderers_to_remove.length; _i < _len; _i++) {
                          id_ = renderers_to_remove[_i];
                          delete this.levels.glyph[id_];
                        }
                        tools = this.build_tools();
                        for (_j = 0, _len1 = views.length; _j < _len1; _j++) {
                          v = views[_j];
                          level = v.mget('level');
                          this.levels[level][v.model.id] = v;
                          v.bind_bokeh_events();
                        }
                        for (_k = 0, _len2 = tools.length; _k < _len2; _k++) {
                          t = tools[_k];
                          level = t.mget('level');
                          this.levels[level][t.model.id] = t;
                          t.bind_bokeh_events();
                        }
                        return this;
                      };
                
                      PlotView.prototype.bind_bokeh_events = function() {
                        var _this = this;
                        safebind(this, this.view_state, 'change', function() {
                          _this.request_render_canvas();
                          return _this.request_render();
                        });
                        safebind(this, this.x_range, 'change', this.request_render);
                        safebind(this, this.y_range, 'change', this.request_render);
                        safebind(this, this.model, 'change:renderers', this.build_levels);
                        safebind(this, this.model, 'change:tool', this.build_levels);
                        safebind(this, this.model, 'change', this.request_render);
                        return safebind(this, this.model, 'destroy', function() {
                          return _this.remove();
                        });
                      };
                
                      PlotView.prototype.render_init = function() {
                        this.$el.append($("<div class='plotarea'>\n  <div class='bokeh_canvas_wrapper_outer'>\n    <div class='bokeh_canvas_wrapper'>\n      <canvas class='bokeh_canvas'></canvas>\n    </div>\n    <div class='bk-sidebar'>\n      <a href='http://bokeh.pydata.org/' class='bk-logo bk-logo-medium'/>\n      <div class='bk-button-bar'/>\n    </div>\n  </div>\n</div>"));
                        this.canvas_wrapper = this.$el.find('.bokeh_canvas_wrapper');
                        this.canvas = this.$el.find('canvas.bokeh_canvas');
                        return this.button_bar = this.$el.find('.bk-button-bar');
                      };
                
                      PlotView.prototype.render_canvas = function(full_render) {
                        var backingStoreRatio, devicePixelRatio, oh, ow, ratio;
                        if (full_render == null) {
                          full_render = true;
                        }
                        this.ctx = this.canvas[0].getContext('2d');
                        if (this.hidpi) {
                          devicePixelRatio = window.devicePixelRatio || 1;
                          backingStoreRatio = this.ctx.webkitBackingStorePixelRatio || this.ctx.mozBackingStorePixelRatio || this.ctx.msBackingStorePixelRatio || this.ctx.oBackingStorePixelRatio || this.ctx.backingStorePixelRatio || 1;
                          ratio = devicePixelRatio / backingStoreRatio;
                        } else {
                          ratio = 1;
                        }
                        ow = this.view_state.get('outer_width');
                        oh = this.view_state.get('outer_height');
                        this.canvas.width = ow * ratio;
                        this.canvas.height = oh * ratio;
                        this.canvas_wrapper.attr('style', "width:" + ow + "px; height:" + oh + "px");
                        this.canvas.attr('style', "width:" + ow + "px;");
                        this.canvas.attr('style', "height:" + oh + "px;");
                        this.canvas.attr('width', ow * ratio).attr('height', oh * ratio);
                        this.$el.width(ow + 150);
                        this.$el.height(oh);
                        this.ctx.scale(ratio, ratio);
                        this.ctx.translate(0.5, 0.5);
                        if (full_render) {
                          return this.render();
                        }
                      };
                
                      PlotView.prototype.save_png = function() {
                        var data_uri;
                        this.render();
                        data_uri = this.canvas[0].toDataURL();
                        this.model.set('png', this.canvas[0].toDataURL());
                        return bulk_save([this.model]);
                      };
                
                      PlotView.prototype.set_initial_range = function() {
                        var good_vals, range_vals;
                        range_vals = [this.x_range.get('start'), this.x_range.get('end'), this.y_range.get('start'), this.y_range.get('end')];
                        good_vals = _.map(range_vals, function(val) {
                          return (val != null) && !_.isNaN(val);
                        });
                        good_vals = _.all(good_vals);
                        if (good_vals) {
                          return this.initial_range_info = {
                            xr: {
                              start: this.x_range.get('start'),
                              end: this.x_range.get('end')
                            },
                            yr: {
                              start: this.y_range.get('start'),
                              end: this.y_range.get('end')
                            }
                          };
                        }
                      };
                
                      PlotView.prototype.render = function(force) {
                        var have_new_mapper_state, hpadding, k, level, pr, renderers, sx, sy, sym, th, title, v, xms, yms, _i, _j, _len, _len1, _ref1, _ref2, _ref3;
                        PlotView.__super__.render.call(this);
                        if (this.initial_range_info == null) {
                          this.set_initial_range();
                        }
                        this.requested_padding = {
                          top: 0,
                          bottom: 0,
                          left: 0,
                          right: 0
                        };
                        _ref1 = ['image', 'underlay', 'glyph', 'overlay', 'annotation', 'tool'];
                        for (_i = 0, _len = _ref1.length; _i < _len; _i++) {
                          level = _ref1[_i];
                          renderers = this.levels[level];
                          for (k in renderers) {
                            v = renderers[k];
                            if (v.padding_request != null) {
                              pr = v.padding_request();
                              for (k in pr) {
                                v = pr[k];
                                this.requested_padding[k] += v;
                              }
                            }
                          }
                        }
                        title = this.mget('title');
                        if (title) {
                          this.title_props.set(this.ctx, {});
                          th = this.ctx.measureText(this.mget('title')).ascent;
                          this.requested_padding['top'] += th + this.mget('title_standoff');
                        }
                        sym = this.mget('border_symmetry') || "";
                        if (sym.indexOf('h') >= 0 || sym.indexOf('H') >= 0) {
                          hpadding = Math.max(this.requested_padding['left'], this.requested_padding['right']);
                          this.requested_padding['left'] = hpadding;
                          this.requested_padding['right'] = hpadding;
                        }
                        if (sym.indexOf('v') >= 0 || sym.indexOf('V') >= 0) {
                          hpadding = Math.max(this.requested_padding['top'], this.requested_padding['bottom']);
                          this.requested_padding['top'] = hpadding;
                          this.requested_padding['bottom'] = hpadding;
                        }
                        this.is_paused = true;
                        _ref2 = this.requested_padding;
                        for (k in _ref2) {
                          v = _ref2[k];
                          this.view_state.set("requested_border_" + k, v);
                        }
                        this.is_paused = false;
                        this.ctx.fillStyle = this.mget('border_fill');
                        this.ctx.fillRect(0, 0, this.view_state.get('canvas_width'), this.view_state.get('canvas_height'));
                        this.ctx.fillStyle = this.mget('background_fill');
                        this.ctx.fillRect(this.view_state.get('border_left'), this.view_state.get('border_top'), this.view_state.get('inner_width'), this.view_state.get('inner_height'));
                        if (this.outline_props.do_stroke) {
                          this.outline_props.set(this.ctx, {});
                          this.ctx.strokeRect(this.view_state.get('border_left'), this.view_state.get('border_top'), this.view_state.get('inner_width'), this.view_state.get('inner_height'));
                        }
                        have_new_mapper_state = false;
                        xms = this.xmapper.get('mapper_state')[0];
                        yms = this.ymapper.get('mapper_state')[0];
                        if (Math.abs(this.old_mapper_state.x - xms) > 1e-8 || Math.abs(this.old_mapper_state.y - yms) > 1e-8) {
                          this.old_mapper_state.x = xms;
                          this.old_mapper_state.y = yms;
                          have_new_mapper_state = true;
                        }
                        this.ctx.save();
                        this.ctx.beginPath();
                        this.ctx.rect(this.view_state.get('border_left'), this.view_state.get('border_top'), this.view_state.get('inner_width'), this.view_state.get('inner_height'));
                        this.ctx.clip();
                        this.ctx.beginPath();
                        _ref3 = ['image', 'underlay', 'glyph'];
                        for (_j = 0, _len1 = _ref3.length; _j < _len1; _j++) {
                          level = _ref3[_j];
                          renderers = this.levels[level];
                          for (k in renderers) {
                            v = renderers[k];
                            v.render(have_new_mapper_state);
                          }
                        }
                        this.ctx.restore();
                        this.render_overlays(have_new_mapper_state);
                        if (title) {
                          sx = this.view_state.get('outer_width') / 2;
                          sy = th;
                          this.title_props.set(this.ctx, {});
                          return this.ctx.fillText(title, sx, sy);
                        }
                      };
                
                      PlotView.prototype.render_overlays = function(have_new_mapper_state) {
                        var k, level, renderers, v, _i, _len, _ref1, _results;
                        _ref1 = ['overlay', 'annotation', 'tool'];
                        _results = [];
                        for (_i = 0, _len = _ref1.length; _i < _len; _i++) {
                          level = _ref1[_i];
                          renderers = this.levels[level];
                          _results.push((function() {
                            var _results1;
                            _results1 = [];
                            for (k in renderers) {
                              v = renderers[k];
                              _results1.push(v.render(have_new_mapper_state));
                            }
                            return _results1;
                          })());
                        }
                        return _results;
                      };
                
                      return PlotView;
                
                    })(ContinuumView.View);
                    Plot = (function(_super) {
                      __extends(Plot, _super);
                
                      function Plot() {
                        _ref1 = Plot.__super__.constructor.apply(this, arguments);
                        return _ref1;
                      }
                
                      Plot.prototype.type = 'Plot';
                
                      Plot.prototype.default_view = PlotView;
                
                      Plot.prototype.add_renderers = function(new_renderers) {
                        var renderers;
                        renderers = this.get('renderers');
                        renderers = renderers.concat(new_renderers);
                        return this.set('renderers', renderers);
                      };
                
                      Plot.prototype.parent_properties = ['background_fill', 'border_fill', 'canvas_width', 'canvas_height', 'outer_width', 'outer_height', 'min_border', 'min_border_top', 'min_border_bottom', 'min_border_left', 'min_border_right'];
                
                      Plot.prototype.defaults = function() {
                        return {
                          data_sources: {},
                          renderers: [],
                          tools: [],
                          title: 'Plot',
                          x_mapper_type: 'auto',
                          y_mapper_type: 'auto'
                        };
                      };
                
                      Plot.prototype.display_defaults = function() {
                        return {
                          hidpi: true,
                          background_fill: "#fff",
                          border_fill: "#fff",
                          border_symmetry: "h",
                          min_border: 40,
                          x_offset: 0,
                          y_offset: 0,
                          canvas_width: 300,
                          canvas_height: 300,
                          outer_width: 300,
                          outer_height: 300,
                          title_standoff: 8,
                          title_text_font: "helvetica",
                          title_text_font_size: "20pt",
                          title_text_font_style: "normal",
                          title_text_color: "#444444",
                          title_text_alpha: 1.0,
                          title_text_align: "center",
                          title_text_baseline: "alphabetic",
                          outline_line_color: '#aaaaaa',
                          outline_line_width: 1,
                          outline_line_alpha: 1.0,
                          outline_line_join: 'miter',
                          outline_line_cap: 'butt',
                          outline_line_dash: [],
                          outline_line_dash_offset: 0
                        };
                      };
                
                      return Plot;
                
                    })(HasParent);
                    Plots = (function(_super) {
                      __extends(Plots, _super);
                
                      function Plots() {
                        _ref2 = Plots.__super__.constructor.apply(this, arguments);
                        return _ref2;
                      }
                
                      Plots.prototype.model = Plot;
                
                      return Plots;
                
                    })(Backbone.Collection);
                    return {
                      "Model": Plot,
                      "Collection": new Plots(),
                      "View": PlotView
                    };
                  });
                
                }).call(this);
                
                /*
                //@ sourceMappingURL=plot.js.map
                */;
                (function() {
                  var __bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; },
                    __hasProp = {}.hasOwnProperty,
                    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };
                
                  define('common/plot_context',["underscore", "backbone", "./build_views", "./safebind", "./has_parent", "./continuum_view"], function(_, Backbone, build_views, safebind, HasParent, ContinuumView) {
                    var PlotContext, PlotContextView, PlotContexts, _ref, _ref1, _ref2;
                    PlotContextView = (function(_super) {
                      __extends(PlotContextView, _super);
                
                      function PlotContextView() {
                        this.removeplot = __bind(this.removeplot, this);
                        this.closeall = __bind(this.closeall, this);
                        _ref = PlotContextView.__super__.constructor.apply(this, arguments);
                        return _ref;
                      }
                
                      PlotContextView.prototype.initialize = function(options) {
                        this.views = {};
                        this.views_rendered = [false];
                        this.child_models = [];
                        PlotContextView.__super__.initialize.call(this, options);
                        return this.render();
                      };
                
                      PlotContextView.prototype.delegateEvents = function() {
                        safebind(this, this.model, 'destroy', this.remove);
                        safebind(this, this.model, 'change', this.render);
                        return PlotContextView.__super__.delegateEvents.call(this);
                      };
                
                      PlotContextView.prototype.build_children = function() {
                        var created_views;
                        created_views = build_views(this.views, this.mget_obj('children'), {});
                        window.pc_created_views = created_views;
                        window.pc_views = this.views;
                        return null;
                      };
                
                      PlotContextView.prototype.events = {
                        'click .closeall': 'closeall'
                      };
                
                      PlotContextView.prototype.size_textarea = function(textarea) {
                        var scrollHeight;
                        scrollHeight = $(textarea).height(0).prop('scrollHeight');
                        return $(textarea).height(scrollHeight);
                      };
                
                      PlotContextView.prototype.closeall = function(e) {
                        this.mset('children', []);
                        return this.model.save();
                      };
                
                      PlotContextView.prototype.removeplot = function(e) {
                        var newchildren, plotnum, s_pc, view, x;
                        plotnum = parseInt($(e.currentTarget).parent().attr('data-plot_num'));
                        s_pc = this.model.resolve_ref(this.mget('children')[plotnum]);
                        view = this.views[s_pc.get('id')];
                        view.remove();
                        newchildren = (function() {
                          var _i, _len, _ref1, _results;
                          _ref1 = this.mget('children');
                          _results = [];
                          for (_i = 0, _len = _ref1.length; _i < _len; _i++) {
                            x = _ref1[_i];
                            if (x.id !== view.model.id) {
                              _results.push(x);
                            }
                          }
                          return _results;
                        }).call(this);
                        this.mset('children', newchildren);
                        this.model.save();
                        return false;
                      };
                
                      PlotContextView.prototype.render = function() {
                        var index, key, modelref, node, numplots, tab_names, to_render, val, view, _i, _len, _ref1, _ref2,
                          _this = this;
                        PlotContextView.__super__.render.call(this);
                        this.build_children();
                        _ref1 = this.views;
                        for (key in _ref1) {
                          if (!__hasProp.call(_ref1, key)) continue;
                          val = _ref1[key];
                          val.$el.detach();
                        }
                        this.$el.html('');
                        numplots = _.keys(this.views).length;
                        this.$el.append("<div>You have " + numplots + " plots</div>");
                        this.$el.append("<div><a class='closeall' href='#'>Close All Plots</a></div>");
                        this.$el.append("<br/>");
                        to_render = [];
                        tab_names = {};
                        _ref2 = this.mget('children');
                        for (index = _i = 0, _len = _ref2.length; _i < _len; index = ++_i) {
                          modelref = _ref2[index];
                          view = this.views[modelref.id];
                          node = $("<div class='jsp' data-plot_num='" + index + "'></div>");
                          this.$el.append(node);
                          node.append(view.el);
                        }
                        _.defer(function() {
                          var textarea, _j, _len1, _ref3, _results;
                          _ref3 = _this.$el.find('.plottitle');
                          _results = [];
                          for (_j = 0, _len1 = _ref3.length; _j < _len1; _j++) {
                            textarea = _ref3[_j];
                            _results.push(_this.size_textarea($(textarea)));
                          }
                          return _results;
                        });
                        return null;
                      };
                
                      return PlotContextView;
                
                    })(ContinuumView.View);
                    PlotContext = (function(_super) {
                      __extends(PlotContext, _super);
                
                      function PlotContext() {
                        _ref1 = PlotContext.__super__.constructor.apply(this, arguments);
                        return _ref1;
                      }
                
                      PlotContext.prototype.type = 'PlotContext';
                
                      PlotContext.prototype.default_view = PlotContextView;
                
                      PlotContext.prototype.url = function() {
                        return PlotContext.__super__.url.call(this);
                      };
                
                      PlotContext.prototype.defaults = function() {
                        return {
                          children: [],
                          render_loop: true
                        };
                      };
                
                      return PlotContext;
                
                    })(HasParent);
                    PlotContexts = (function(_super) {
                      __extends(PlotContexts, _super);
                
                      function PlotContexts() {
                        _ref2 = PlotContexts.__super__.constructor.apply(this, arguments);
                        return _ref2;
                      }
                
                      PlotContexts.prototype.model = PlotContext;
                
                      return PlotContexts;
                
                    })(Backbone.Collection);
                    return {
                      "Model": PlotContext,
                      "Collection": new PlotContexts(),
                      "View": PlotContextView
                    };
                  });
                
                }).call(this);
                
                /*
                //@ sourceMappingURL=plot_context.js.map
                */;
                (function() {
                  var __hasProp = {}.hasOwnProperty,
                    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };
                
                  define('mapper/color/linear_color_mapper',["underscore", "backbone", "common/has_properties"], function(_, Backbone, HasProperties) {
                    var LinearColorMapper, LinearColorMappers, _ref, _ref1;
                    LinearColorMapper = (function(_super) {
                      __extends(LinearColorMapper, _super);
                
                      function LinearColorMapper() {
                        _ref = LinearColorMapper.__super__.constructor.apply(this, arguments);
                        return _ref;
                      }
                
                      LinearColorMapper.prototype.initialize = function(attrs, options) {
                        LinearColorMapper.__super__.initialize.call(this, attrs, options);
                        this.palette = this._build_palette(this.get('palette'));
                        this.little_endian = this._is_little_endian();
                        this.reserve_color = this.get('reserve_color')[0];
                        return this.reserve_val = this.get('reserve_val')[0];
                      };
                
                      LinearColorMapper.prototype.v_map_screen = function(data) {
                        var N, buf, color, d, high, i, low, offset, scale, value, _i, _j, _ref1, _ref2, _ref3, _ref4;
                        buf = new ArrayBuffer(data.length * 4);
                        color = new Uint32Array(buf);
                        low = (_ref1 = this.get('low')) != null ? _ref1 : _.min(data);
                        high = (_ref2 = this.get('high')) != null ? _ref2 : _.max(data);
                        N = this.palette.length - 1;
                        scale = N / (high - low);
                        offset = -scale * low;
                        if (this.little_endian) {
                          for (i = _i = 0, _ref3 = data.length; 0 <= _ref3 ? _i < _ref3 : _i > _ref3; i = 0 <= _ref3 ? ++_i : --_i) {
                            d = data[i];
                            if (d === this.reserve_val) {
                              value = this.reserve_color;
                            } else {
                              if (d > high) {
                                d = high;
                              }
                              if (d < low) {
                                d = low;
                              }
                              value = this.palette[Math.floor(d * scale + offset)];
                            }
                            color[i] = (0xff << 24) | ((value & 0xff0000) >> 16) | (value & 0xff00) | ((value & 0xff) << 16);
                          }
                        } else {
                          for (i = _j = 0, _ref4 = data.length; 0 <= _ref4 ? _j < _ref4 : _j > _ref4; i = 0 <= _ref4 ? ++_j : --_j) {
                            d = data[i];
                            if (d === this.reserve_val) {
                              value = this.reserve_color;
                            } else {
                              if (d > high) {
                                d = high;
                              }
                              if (d < low) {
                                d = low;
                              }
                              value = this.palette[Math.floor(d * scale + offset)];
                            }
                            color[i] = (value << 8) | 0xff;
                          }
                        }
                        return buf;
                      };
                
                      LinearColorMapper.prototype._is_little_endian = function() {
                        var buf, buf32, buf8, little_endian;
                        buf = new ArrayBuffer(4);
                        buf8 = new Uint8ClampedArray(buf);
                        buf32 = new Uint32Array(buf);
                        buf32[1] = 0x0a0b0c0d;
                        little_endian = true;
                        if (buf8[4] === 0x0a && buf8[5] === 0x0b && buf8[6] === 0x0c && buf8[7] === 0x0d) {
                          little_endian = false;
                        }
                        return little_endian;
                      };
                
                      LinearColorMapper.prototype._build_palette = function(palette) {
                        var i, new_palette, _i, _ref1;
                        new_palette = new Uint32Array(palette.length + 1);
                        for (i = _i = 0, _ref1 = palette.length; 0 <= _ref1 ? _i < _ref1 : _i > _ref1; i = 0 <= _ref1 ? ++_i : --_i) {
                          new_palette[i] = palette[i];
                        }
                        new_palette[new_palette.length - 1] = palette[palette.length - 1];
                        return new_palette;
                      };
                
                      return LinearColorMapper;
                
                    })(HasProperties);
                    LinearColorMappers = (function(_super) {
                      __extends(LinearColorMappers, _super);
                
                      function LinearColorMappers() {
                        _ref1 = LinearColorMappers.__super__.constructor.apply(this, arguments);
                        return _ref1;
                      }
                
                      LinearColorMappers.prototype.model = LinearColorMapper;
                
                      return LinearColorMappers;
                
                    })(Backbone.Collection);
                    return {
                      "Model": LinearColorMapper,
                      "Collection": new LinearColorMappers()
                    };
                  });
                
                }).call(this);
                
                /*
                //@ sourceMappingURL=linear_color_mapper.js.map
                */;
                (function() {
                  var __hasProp = {}.hasOwnProperty,
                    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };
                
                  define('range/factor_range',["backbone", "common/has_properties"], function(Backbone, HasProperties) {
                    var FactorRange, FactorRanges, _ref, _ref1;
                    FactorRange = (function(_super) {
                      __extends(FactorRange, _super);
                
                      function FactorRange() {
                        _ref = FactorRange.__super__.constructor.apply(this, arguments);
                        return _ref;
                      }
                
                      FactorRange.prototype.type = 'FactorRange';
                
                      FactorRange.prototype.initialize = function(attrs, options) {
                        FactorRange.__super__.initialize.call(this, attrs, options);
                        this.register_property('end', function() {
                          return this.get('factors').length + 0.5;
                        }, true);
                        this.add_dependencies('end', this, ['factors']);
                        this.register_property('min', function() {
                          return this.get('start');
                        }, true);
                        this.add_dependencies('min', this, ['factors']);
                        this.register_property('max', function() {
                          return this.get('end');
                        }, true);
                        return this.add_dependencies('max', this, ['factors']);
                      };
                
                      FactorRange.prototype.defaults = function() {
                        return {
                          start: 0.5,
                          factors: []
                        };
                      };
                
                      return FactorRange;
                
                    })(HasProperties);
                    FactorRanges = (function(_super) {
                      __extends(FactorRanges, _super);
                
                      function FactorRanges() {
                        _ref1 = FactorRanges.__super__.constructor.apply(this, arguments);
                        return _ref1;
                      }
                
                      FactorRanges.prototype.model = FactorRange;
                
                      return FactorRanges;
                
                    })(Backbone.Collection);
                    return {
                      "Model": FactorRange,
                      "Collection": new FactorRanges()
                    };
                  });
                
                }).call(this);
                
                /*
                //@ sourceMappingURL=factor_range.js.map
                */;
                (function() {
                  var __bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; },
                    __hasProp = {}.hasOwnProperty,
                    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };
                
                  define('range/data_factor_range',["underscore", "backbone", "range/factor_range"], function(_, Backbone, FactorRange) {
                    var DataFactorRange, DataFactorRanges, _ref, _ref1;
                    DataFactorRange = (function(_super) {
                      __extends(DataFactorRange, _super);
                
                      function DataFactorRange() {
                        this._get_values = __bind(this._get_values, this);
                        _ref = DataFactorRange.__super__.constructor.apply(this, arguments);
                        return _ref;
                      }
                
                      DataFactorRange.prototype.type = 'DataFactorRange';
                
                      DataFactorRange.prototype._get_values = function() {
                        var columns, temp, uniques, val, x, _i, _len;
                        columns = (function() {
                          var _i, _len, _ref1, _results;
                          _ref1 = this.get('columns');
                          _results = [];
                          for (_i = 0, _len = _ref1.length; _i < _len; _i++) {
                            x = _ref1[_i];
                            _results.push(this.get_obj('data_source').getcolumn(x));
                          }
                          return _results;
                        }).call(this);
                        columns = _.reduce(columns, (function(x, y) {
                          return x.concat(y);
                        }), []);
                        temp = {};
                        for (_i = 0, _len = columns.length; _i < _len; _i++) {
                          val = columns[_i];
                          temp[val] = true;
                        }
                        uniques = _.keys(temp);
                        uniques = _.sortBy(uniques, (function(x) {
                          return x;
                        }));
                        return uniques;
                      };
                
                      DataFactorRange.prototype.dinitialize = function(attrs, options) {
                        DataFactorRange.__super__.dinitialize.call(this, attrs, options);
                        this.register_property;
                        this.register_property('values', this._get_values, true);
                        this.add_dependencies('values', this, ['data_source', 'columns']);
                        return this.add_dependencies('values', this.get_obj('data_source'), ['data_source', 'columns']);
                      };
                
                      DataFactorRange.prototype.defaults = function() {
                        return {
                          values: [],
                          columns: [],
                          data_source: null
                        };
                      };
                
                      return DataFactorRange;
                
                    })(FactorRange.Model);
                    DataFactorRanges = (function(_super) {
                      __extends(DataFactorRanges, _super);
                
                      function DataFactorRanges() {
                        _ref1 = DataFactorRanges.__super__.constructor.apply(this, arguments);
                        return _ref1;
                      }
                
                      DataFactorRanges.prototype.model = DataFactorRange;
                
                      return DataFactorRanges;
                
                    })(Backbone.Collection);
                    return {
                      "Model": DataFactorRange,
                      "Collection": new DataFactorRanges
                    };
                  });
                
                }).call(this);
                
                /*
                //@ sourceMappingURL=data_factor_range.js.map
                */;
                (function() {
                  var __hasProp = {}.hasOwnProperty,
                    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };
                
                  define('range/data_range1d',["underscore", "backbone", "range/range1d"], function(_, Backbone, Range1d) {
                    var DataRange1d, DataRange1ds, _ref, _ref1;
                    DataRange1d = (function(_super) {
                      __extends(DataRange1d, _super);
                
                      function DataRange1d() {
                        _ref = DataRange1d.__super__.constructor.apply(this, arguments);
                        return _ref;
                      }
                
                      DataRange1d.prototype.type = 'DataRange1d';
                
                      DataRange1d.prototype._get_minmax = function() {
                        var center, colname, columns, max, min, source, sourceobj, span, _i, _j, _len, _len1, _ref1, _ref2, _ref3, _ref4;
                        columns = [];
                        _ref1 = this.get('sources');
                        for (_i = 0, _len = _ref1.length; _i < _len; _i++) {
                          source = _ref1[_i];
                          sourceobj = this.resolve_ref(source['source']);
                          _ref2 = source['columns'];
                          for (_j = 0, _len1 = _ref2.length; _j < _len1; _j++) {
                            colname = _ref2[_j];
                            columns.push(sourceobj.getcolumn(colname));
                          }
                        }
                        columns = _.flatten(columns);
                        columns = _.filter(columns, function(x) {
                          return typeof x !== "string";
                        });
                        columns = _.reject(columns, function(x) {
                          return isNaN(x);
                        });
                        _ref3 = [_.min(columns), _.max(columns)], min = _ref3[0], max = _ref3[1];
                        if (max !== min) {
                          span = (max - min) * (1 + this.get('rangepadding'));
                        } else {
                          if (max !== 0) {
                            span = Math.abs(max) * (1 + this.get('rangepadding'));
                          } else {
                            span = 2;
                          }
                        }
                        center = (max + min) / 2.0;
                        _ref4 = [center - span / 2.0, center + span / 2.0], min = _ref4[0], max = _ref4[1];
                        return [min, max];
                      };
                
                      DataRange1d.prototype._get_start = function() {
                        if (!_.isNullOrUndefined(this.get('_start'))) {
                          return this.get('_start');
                        } else {
                          return this.get('minmax')[0];
                        }
                      };
                
                      DataRange1d.prototype._set_start = function(start) {
                        return this.set('_start', start);
                      };
                
                      DataRange1d.prototype._get_end = function() {
                        if (!_.isNullOrUndefined(this.get('_end'))) {
                          return this.get('_end');
                        } else {
                          return this.get('minmax')[1];
                        }
                      };
                
                      DataRange1d.prototype._set_end = function(end) {
                        return this.set('_end', end);
                      };
                
                      DataRange1d.prototype.dinitialize = function(attrs, options) {
                        var columns_ref, source, _i, _len, _ref1;
                        this.register_property('minmax', this._get_minmax, true);
                        this.add_dependencies('minmax', this, ['sources'], ['rangepadding']);
                        _ref1 = this.get('sources');
                        for (_i = 0, _len = _ref1.length; _i < _len; _i++) {
                          columns_ref = _ref1[_i];
                          source = this.resolve_ref(columns_ref.source);
                          this.add_dependencies('minmax', source, 'data');
                        }
                        this.register_property('start', this._get_start, true);
                        this.register_setter('start', this._set_start);
                        this.add_dependencies('start', this, ['minmax', '_start']);
                        this.register_property('end', this._get_end, true);
                        this.register_setter('end', this._set_end);
                        this.add_dependencies('end', this, ['minmax', '_end']);
                        return DataRange1d.__super__.dinitialize.call(this, attrs, options);
                      };
                
                      DataRange1d.prototype.defaults = function() {
                        return {
                          sources: [],
                          rangepadding: 0.1
                        };
                      };
                
                      return DataRange1d;
                
                    })(Range1d.Model);
                    DataRange1ds = (function(_super) {
                      __extends(DataRange1ds, _super);
                
                      function DataRange1ds() {
                        _ref1 = DataRange1ds.__super__.constructor.apply(this, arguments);
                        return _ref1;
                      }
                
                      DataRange1ds.prototype.model = DataRange1d;
                
                      return DataRange1ds;
                
                    })(Backbone.Collection);
                    return {
                      "Model": DataRange1d,
                      "Collection": new DataRange1ds()
                    };
                  });
                
                }).call(this);
                
                /*
                //@ sourceMappingURL=data_range1d.js.map
                */;
                (function() {
                  var __hasProp = {}.hasOwnProperty,
                    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };
                
                  define('common/plot_widget',["./continuum_view", "./safebind"], function(ContinuumView, safebind) {
                    var PlotWidget, _ref;
                    return PlotWidget = (function(_super) {
                      __extends(PlotWidget, _super);
                
                      function PlotWidget() {
                        _ref = PlotWidget.__super__.constructor.apply(this, arguments);
                        return _ref;
                      }
                
                      PlotWidget.prototype.tagName = 'div';
                
                      PlotWidget.prototype.initialize = function(options) {
                        this.plot_model = options.plot_model;
                        this.plot_view = options.plot_view;
                        this._fixup_line_dash(this.plot_view.ctx);
                        this._fixup_line_dash_offset(this.plot_view.ctx);
                        this._fixup_image_smoothing(this.plot_view.ctx);
                        this._fixup_measure_text(this.plot_view.ctx);
                        return PlotWidget.__super__.initialize.call(this, options);
                      };
                
                      PlotWidget.prototype._fixup_line_dash = function(ctx) {
                        if (!ctx.setLineDash) {
                          ctx.setLineDash = function(dash) {
                            ctx.mozDash = dash;
                            return ctx.webkitLineDash = dash;
                          };
                        }
                        if (!ctx.getLineDash) {
                          return ctx.getLineDash = function() {
                            return ctx.mozDash;
                          };
                        }
                      };
                
                      PlotWidget.prototype._fixup_line_dash_offset = function(ctx) {
                        ctx.setLineDashOffset = function(dash_offset) {
                          ctx.lineDashOffset = dash_offset;
                          ctx.mozDashOffset = dash_offset;
                          return ctx.webkitLineDashOffset = dash_offset;
                        };
                        return ctx.getLineDashOffset = function() {
                          return ctx.mozDashOffset;
                        };
                      };
                
                      PlotWidget.prototype._fixup_image_smoothing = function(ctx) {
                        ctx.setImageSmoothingEnabled = function(value) {
                          ctx.imageSmoothingEnabled = value;
                          ctx.mozImageSmoothingEnabled = value;
                          ctx.oImageSmoothingEnabled = value;
                          return ctx.webkitImageSmoothingEnabled = value;
                        };
                        return ctx.getImageSmoothingEnabled = function() {
                          var _ref1;
                          return (_ref1 = ctx.imageSmoothingEnabled) != null ? _ref1 : true;
                        };
                      };
                
                      PlotWidget.prototype._fixup_measure_text = function(ctx) {
                        if (ctx.measureText && (ctx.html5MeasureText == null)) {
                          ctx.html5MeasureText = ctx.measureText;
                          return ctx.measureText = function(text) {
                            var textMetrics;
                            textMetrics = ctx.html5MeasureText(text);
                            textMetrics.ascent = ctx.html5MeasureText("m").width * 1.6;
                            return textMetrics;
                          };
                        }
                      };
                
                      PlotWidget.prototype.bind_bokeh_events = function() {};
                
                      PlotWidget.prototype.request_render = function() {
                        return this.plot_view.request_render();
                      };
                
                      return PlotWidget;
                
                    })(ContinuumView.View);
                  });
                
                }).call(this);
                
                /*
                //@ sourceMappingURL=plot_widget.js.map
                */;
                (function() {
                  define('common/textutils',[], function() {
                    var cache, getTextHeight;
                    cache = {};
                    getTextHeight = function(font) {
                      var block, body, div, result, text;
                      if (cache[font] != null) {
                        return cache[font];
                      }
                      text = $('<span>Hg</span>').css({
                        font: font
                      });
                      block = $('<div style="display: inline-block; width: 1px; height: 0px;"></div>');
                      div = $('<div></div>');
                      div.append(text, block);
                      body = $('body');
                      body.append(div);
                      try {
                        result = {};
                        block.css({
                          verticalAlign: 'baseline'
                        });
                        result.ascent = block.offset().top - text.offset().top;
                        block.css({
                          verticalAlign: 'bottom'
                        });
                        result.height = block.offset().top - text.offset().top;
                        result.descent = result.height - result.ascent;
                      } finally {
                        div.remove();
                      }
                      cache[font] = result;
                      return result;
                    };
                    return {
                      "getTextHeight": getTextHeight
                    };
                  });
                
                }).call(this);
                
                /*
                //@ sourceMappingURL=textutils.js.map
                */;
                (function() {
                  var __hasProp = {}.hasOwnProperty,
                    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };
                
                  define('renderer/annotation/legend',["underscore", "common/has_parent", "common/plot_widget", "common/textutils", "renderer/properties"], function(_, HasParent, PlotWidget, textutils, Properties) {
                    var Legend, LegendView, Legends, glyph_properties, line_properties, text_properties, _ref, _ref1, _ref2;
                    glyph_properties = Properties.glyph_properties;
                    line_properties = Properties.line_properties;
                    text_properties = Properties.text_properties;
                    LegendView = (function(_super) {
                      __extends(LegendView, _super);
                
                      function LegendView() {
                        _ref = LegendView.__super__.constructor.apply(this, arguments);
                        return _ref;
                      }
                
                      LegendView.prototype.initialize = function(options) {
                        LegendView.__super__.initialize.call(this, options);
                        this.label_props = new text_properties(this, this.model, 'label_');
                        this.border_props = new line_properties(this, this.model, 'border_');
                        if (this.mget('legend_names')) {
                          this.legend_names = this.mget('legend_names');
                        } else {
                          this.legends = this.mget('legends');
                          this.legend_names = _.keys(this.mget('legends'));
                        }
                        return this.calc_dims();
                      };
                
                      LegendView.prototype.delegateEvents = function(events) {
                        LegendView.__super__.delegateEvents.call(this, events);
                        return this.listenTo(this.plot_view.view_state, 'change', this.calc_dims);
                      };
                
                      LegendView.prototype.calc_dims = function(options) {
                        var ctx, h_range, label_height, label_width, legend_padding, legend_spacing, orientation, text_width, text_widths, v_range, x, y, _ref1;
                        label_height = this.mget('label_height');
                        this.glyph_height = this.mget('glyph_height');
                        label_width = this.mget('label_width');
                        this.glyph_width = this.mget('glyph_width');
                        legend_spacing = this.mget('legend_spacing');
                        this.label_height = _.max([textutils.getTextHeight(this.label_props.font(this)), label_height, this.glyph_height]);
                        this.legend_height = this.label_height;
                        this.legend_height = this.legend_names.length * this.legend_height + (1 + this.legend_names.length) * legend_spacing;
                        ctx = this.plot_view.ctx;
                        ctx.save();
                        this.label_props.set(ctx, this);
                        text_widths = _.map(this.legend_names, function(txt) {
                          return ctx.measureText(txt).width;
                        });
                        ctx.restore();
                        text_width = _.max(text_widths);
                        this.label_width = _.max([text_width, label_width]);
                        this.legend_width = this.label_width + this.glyph_width + 3 * legend_spacing;
                        orientation = this.mget('orientation');
                        legend_padding = this.mget('legend_padding');
                        h_range = this.plot_view.view_state.get('inner_range_horizontal');
                        v_range = this.plot_view.view_state.get('inner_range_vertical');
                        if (orientation === "top_right") {
                          x = h_range.get('end') - legend_padding - this.legend_width;
                          y = v_range.get('end') - legend_padding;
                        } else if (orientation === "top_left") {
                          x = h_range.get('start') + legend_padding;
                          y = v_range.get('end') - legend_padding;
                        } else if (orientation === "bottom_left") {
                          x = h_range.get('start') + legend_padding;
                          y = v_range.get('start') + legend_padding + this.legend_height;
                        } else if (orientation === "bottom_right") {
                          x = h_range.get('end') - legend_padding - this.legend_width;
                          y = v_range.get('start') + legend_padding + this.legend_height;
                        } else if (orientation === "absolute") {
                          _ref1 = this.absolute_coords, x = _ref1[0], y = _ref1[1];
                        }
                        x = this.plot_view.view_state.vx_to_sx(x);
                        y = this.plot_view.view_state.vy_to_sy(y);
                        return this.box_coords = [x, y];
                      };
                
                      LegendView.prototype.render = function() {
                        var ctx, idx, legend_name, legend_spacing, renderer, view, x, x1, x2, y, y1, y2, yoffset, yspacing, _i, _j, _len, _len1, _ref1, _ref2;
                        ctx = this.plot_view.ctx;
                        ctx.save();
                        ctx.fillStyle = this.plot_model.get('background_fill');
                        this.border_props.set(ctx, this);
                        ctx.beginPath();
                        ctx.rect(this.box_coords[0], this.box_coords[1], this.legend_width, this.legend_height);
                        ctx.fill();
                        ctx.stroke();
                        legend_spacing = this.mget('legend_spacing');
                        _ref1 = this.legend_names;
                        for (idx = _i = 0, _len = _ref1.length; _i < _len; idx = ++_i) {
                          legend_name = _ref1[idx];
                          yoffset = idx * this.label_height;
                          yspacing = (1 + idx) * legend_spacing;
                          y = this.box_coords[1] + this.label_height / 2.0 + yoffset + yspacing;
                          x = this.box_coords[0] + legend_spacing;
                          x1 = this.box_coords[0] + 2 * legend_spacing + this.label_width;
                          x2 = x1 + this.glyph_width;
                          y1 = this.box_coords[1] + yoffset + yspacing;
                          y2 = y1 + this.glyph_height;
                          this.label_props.set(ctx, this);
                          ctx.fillText(legend_name, x, y);
                          _ref2 = this.model.resolve_ref(this.legends[legend_name]);
                          for (_j = 0, _len1 = _ref2.length; _j < _len1; _j++) {
                            renderer = _ref2[_j];
                            view = this.plot_view.renderers[renderer.id];
                            view.draw_legend(ctx, x1, x2, y1, y2);
                          }
                        }
                        return ctx.restore();
                      };
                
                      return LegendView;
                
                    })(PlotWidget);
                    Legend = (function(_super) {
                      __extends(Legend, _super);
                
                      function Legend() {
                        _ref1 = Legend.__super__.constructor.apply(this, arguments);
                        return _ref1;
                      }
                
                      Legend.prototype.default_view = LegendView;
                
                      Legend.prototype.type = 'Legend';
                
                      Legend.prototype.display_defaults = function() {
                        return {
                          level: 'overlay',
                          border_line_color: 'black',
                          border_line_width: 1,
                          border_line_alpha: 1.0,
                          border_line_join: 'miter',
                          border_line_cap: 'butt',
                          border_line_dash: [],
                          border_line_dash_offset: 0,
                          label_standoff: 15,
                          label_text_font: "helvetica",
                          label_text_font_size: "10pt",
                          label_text_font_style: "normal",
                          label_text_color: "#444444",
                          label_text_alpha: 1.0,
                          label_text_align: "left",
                          label_text_baseline: "middle",
                          glyph_height: 20,
                          glyph_width: 20,
                          label_height: 20,
                          label_width: 50,
                          legend_padding: 10,
                          legend_spacing: 3,
                          orientation: "top_right",
                          datapoint: null
                        };
                      };
                
                      return Legend;
                
                    })(HasParent);
                    Legends = (function(_super) {
                      __extends(Legends, _super);
                
                      function Legends() {
                        _ref2 = Legends.__super__.constructor.apply(this, arguments);
                        return _ref2;
                      }
                
                      Legends.prototype.model = Legend;
                
                      return Legends;
                
                    })(Backbone.Collection);
                    return {
                      "Model": Legend,
                      "Collection": new Legends(),
                      "View": LegendView
                    };
                  });
                
                }).call(this);
                
                /*
                //@ sourceMappingURL=legend.js.map
                */;
                /*
                 (c) 2013, Vladimir Agafonkin
                 RBush, a JavaScript library for high-performance 2D spatial indexing of points and rectangles.
                 https://github.com/mourner/rbush
                */
                
                (function () { 
                
                function rbush(maxEntries, format) {
                
                    // jshint newcap: false, validthis: true
                    if (!(this instanceof rbush)) { return new rbush(maxEntries, format); }
                
                    // max entries in a node is 9 by default; min node fill is 40% for best performance
                    this._maxEntries = Math.max(4, maxEntries || 9);
                    this._minEntries = Math.max(2, Math.ceil(this._maxEntries * 0.4));
                
                    if (format) {
                        this._initFormat(format);
                    }
                
                    this.clear();
                }
                
                rbush.prototype = {
                
                    all: function () {
                        return this._all(this.data, []);
                    },
                
                    search: function (bbox) {
                
                        var node = this.data,
                            result = [];
                
                        if (!this._intersects(bbox, node.bbox)) { return result; }
                
                        var nodesToSearch = [],
                            i, len, child, childBBox;
                
                        while (node) {
                            for (i = 0, len = node.children.length; i < len; i++) {
                                child = node.children[i];
                                childBBox = node.leaf ? this.toBBox(child) : child.bbox;
                
                                if (this._intersects(bbox, childBBox)) {
                
                                    if (node.leaf) {
                                        result.push(child);
                
                                    } else if (this._contains(bbox, childBBox)) {
                                        this._all(child, result);
                
                                    } else {
                                        nodesToSearch.push(child);
                                    }
                                }
                            }
                
                            node = nodesToSearch.pop();
                        }
                
                        return result;
                    },
                
                    load: function (data) {
                        if (!(data && data.length)) { return this; }
                
                        if (data.length < this._minEntries) {
                            for (var i = 0, len = data.length; i < len; i++) {
                                this.insert(data[i]);
                            }
                            return this;
                        }
                
                        // recursively build the tree with the given data from stratch using OMT algorithm
                        var node = this._build(data.slice(), 0);
                
                        if (!this.data.children.length) {
                            // save as is if tree is empty
                            this.data = node;
                
                        } else if (this.data.height === node.height) {
                            // split root if trees have the same height
                            this._splitRoot(this.data, node);
                
                        } else {
                            if (this.data.height < node.height) {
                                // swap trees if inserted one is bigger
                                var tmpNode = this.data;
                                this.data = node;
                                node = tmpNode;
                            }
                
                            // insert the small tree into the large tree at appropriate level
                            this._insert(node, this.data.height - node.height - 1, true);
                        }
                
                        return this;
                    },
                
                    insert: function (item) {
                        if (item) {
                            this._insert(item, this.data.height - 1);
                        }
                        return this;
                    },
                
                    clear: function () {
                        this.data = {
                            children: [],
                            leaf: true,
                            bbox: this._empty(),
                            height: 1
                        };
                        return this;
                    },
                
                    remove: function (item) {
                        if (!item) { return this; }
                
                        var node = this.data,
                            bbox = this.toBBox(item),
                            path = [],
                            indexes = [],
                            i, parent, index, goingUp;
                
                        // depth-first iterative tree traversal
                        while (node || path.length) {
                
                            if (!node) { // go up
                                node = path.pop();
                                parent = path[path.length - 1];
                                i = indexes.pop();
                                goingUp = true;
                            }
                
                            if (node.leaf) { // check current node
                                index = node.children.indexOf(item);
                
                                if (index !== -1) {
                                    // item found, remove the item and condense tree upwards
                                    node.children.splice(index, 1);
                                    path.push(node);
                                    this._condense(path);
                                    return this;
                                }
                            }
                
                            if (!goingUp && !node.leaf && this._contains(node.bbox, bbox)) { // go down
                                path.push(node);
                                indexes.push(i);
                                i = 0;
                                parent = node;
                                node = node.children[0];
                
                            } else if (parent) { // go right
                                i++;
                                node = parent.children[i];
                                goingUp = false;
                
                            } else { // nothing found
                                node = null;
                            }
                        }
                
                        return this;
                    },
                
                    toBBox: function (item) { return item; },
                
                    compareMinX: function (a, b) { return a[0] - b[0]; },
                    compareMinY: function (a, b) { return a[1] - b[1]; },
                
                    toJSON: function () { return this.data; },
                
                    fromJSON: function (data) {
                        this.data = data;
                        return this;
                    },
                
                    _all: function (node, result) {
                        var nodesToSearch = [];
                        while (node) {
                            if (node.leaf) {
                                result.push.apply(result, node.children);
                            } else {
                                nodesToSearch.push.apply(nodesToSearch, node.children);
                            }
                            node = nodesToSearch.pop();
                        }
                        return result;
                    },
                
                    _build: function (items, level, height) {
                
                        var N = items.length,
                            M = this._maxEntries,
                            node;
                
                        if (N <= M) {
                            node = {
                                children: items,
                                leaf: true,
                                height: 1
                            };
                            this._calcBBox(node);
                            return node;
                        }
                
                        if (!level) {
                            // target height of the bulk-loaded tree
                            height = Math.ceil(Math.log(N) / Math.log(M));
                
                            // target number of root entries to maximize storage utilization
                            M = Math.ceil(N / Math.pow(M, height - 1));
                
                            items.sort(this.compareMinX);
                        }
                
                        // TODO eliminate recursion?
                
                        node = {
                            children: [],
                            height: height
                        };
                
                        var N1 = Math.ceil(N / M) * Math.ceil(Math.sqrt(M)),
                            N2 = Math.ceil(N / M),
                            compare = level % 2 === 1 ? this.compareMinX : this.compareMinY,
                            i, j, slice, sliceLen, childNode;
                
                        // split the items into M mostly square tiles
                        for (i = 0; i < N; i += N1) {
                            slice = items.slice(i, i + N1).sort(compare);
                
                            for (j = 0, sliceLen = slice.length; j < sliceLen; j += N2) {
                                // pack each entry recursively
                                childNode = this._build(slice.slice(j, j + N2), level + 1, height - 1);
                                node.children.push(childNode);
                            }
                        }
                
                        this._calcBBox(node);
                
                        return node;
                    },
                
                    _chooseSubtree: function (bbox, node, level, path) {
                
                        var i, len, child, targetNode, area, enlargement, minArea, minEnlargement;
                
                        while (true) {
                            path.push(node);
                
                            if (node.leaf || path.length - 1 === level) { break; }
                
                            minArea = minEnlargement = Infinity;
                
                            for (i = 0, len = node.children.length; i < len; i++) {
                                child = node.children[i];
                                area = this._area(child.bbox);
                                enlargement = this._enlargedArea(bbox, child.bbox) - area;
                
                                // choose entry with the least area enlargement
                                if (enlargement < minEnlargement) {
                                    minEnlargement = enlargement;
                                    minArea = area < minArea ? area : minArea;
                                    targetNode = child;
                
                                } else if (enlargement === minEnlargement) {
                                    // otherwise choose one with the smallest area
                                    if (area < minArea) {
                                        minArea = area;
                                        targetNode = child;
                                    }
                                }
                            }
                
                            node = targetNode;
                        }
                
                        return node;
                    },
                
                    _insert: function (item, level, isNode) {
                
                        var bbox = isNode ? item.bbox : this.toBBox(item),
                            insertPath = [];
                
                        // find the best node for accommodating the item, saving all nodes along the path too
                        var node = this._chooseSubtree(bbox, this.data, level, insertPath);
                
                        // put the item into the node
                        node.children.push(item);
                        this._extend(node.bbox, bbox);
                
                        // split on node overflow; propagate upwards if necessary
                        while (level >= 0) {
                            if (insertPath[level].children.length > this._maxEntries) {
                                this._split(insertPath, level);
                                level--;
                            } else {
                              break;
                            }
                        }
                
                        // adjust bboxes along the insertion path
                        this._adjustParentBBoxes(bbox, insertPath, level);
                    },
                
                    // split overflowed node into two
                    _split: function (insertPath, level) {
                
                        var node = insertPath[level],
                            M = node.children.length,
                            m = this._minEntries;
                
                        this._chooseSplitAxis(node, m, M);
                
                        var newNode = {
                            children: node.children.splice(this._chooseSplitIndex(node, m, M)),
                            height: node.height
                        };
                
                        if (node.leaf) {
                            newNode.leaf = true;
                        }
                
                        this._calcBBox(node);
                        this._calcBBox(newNode);
                
                        if (level) {
                            insertPath[level - 1].children.push(newNode);
                        } else {
                            this._splitRoot(node, newNode);
                        }
                    },
                
                    _splitRoot: function (node, newNode) {
                        // split root node
                        this.data = {};
                        this.data.children = [node, newNode];
                        this.data.height = node.height + 1;
                        this._calcBBox(this.data);
                    },
                
                    _chooseSplitIndex: function (node, m, M) {
                
                        var i, bbox1, bbox2, overlap, area, minOverlap, minArea, index;
                
                        minOverlap = minArea = Infinity;
                
                        for (i = m; i <= M - m; i++) {
                            bbox1 = this._distBBox(node, 0, i);
                            bbox2 = this._distBBox(node, i, M);
                
                            overlap = this._intersectionArea(bbox1, bbox2);
                            area = this._area(bbox1) + this._area(bbox2);
                
                            // choose distribution with minimum overlap
                            if (overlap < minOverlap) {
                                minOverlap = overlap;
                                index = i;
                
                                minArea = area < minArea ? area : minArea;
                
                            } else if (overlap === minOverlap) {
                                // otherwise choose distribution with minimum area
                                if (area < minArea) {
                                    minArea = area;
                                    index = i;
                                }
                            }
                        }
                
                        return index;
                    },
                
                    // sorts node children by the best axis for split
                    _chooseSplitAxis: function (node, m, M) {
                
                        var compareMinX = node.leaf ? this.compareMinX : this._compareNodeMinX,
                            compareMinY = node.leaf ? this.compareMinY : this._compareNodeMinY,
                            xMargin = this._allDistMargin(node, m, M, compareMinX),
                            yMargin = this._allDistMargin(node, m, M, compareMinY);
                
                        // if total distributions margin value is minimal for x, sort by minX,
                        // otherwise it's already sorted by minY
                
                        if (xMargin < yMargin) {
                            node.children.sort(compareMinX);
                        }
                    },
                
                    // total margin of all possible split distributions where each node is at least m full
                    _allDistMargin: function (node, m, M, compare) {
                
                        node.children.sort(compare);
                
                        var leftBBox = this._distBBox(node, 0, m),
                            rightBBox = this._distBBox(node, M - m, M),
                            margin = this._margin(leftBBox) + this._margin(rightBBox),
                            i, child;
                
                        for (i = m; i < M - m; i++) {
                            child = node.children[i];
                            this._extend(leftBBox, node.leaf ? this.toBBox(child) : child.bbox);
                            margin += this._margin(leftBBox);
                        }
                
                        for (i = M - m - 1; i >= m; i--) {
                            child = node.children[i];
                            this._extend(rightBBox, node.leaf ? this.toBBox(child) : child.bbox);
                            margin += this._margin(rightBBox);
                        }
                
                        return margin;
                    },
                
                    // min bounding rectangle of node children from k to p-1
                    _distBBox: function (node, k, p) {
                        var bbox = this._empty();
                
                        for (var i = k, child; i < p; i++) {
                            child = node.children[i];
                            this._extend(bbox, node.leaf ? this.toBBox(child) : child.bbox);
                        }
                
                        return bbox;
                    },
                
                    // calculate node's bbox from bboxes of its children
                    _calcBBox: function (node) {
                        node.bbox = this._distBBox(node, 0, node.children.length);
                    },
                
                    _adjustParentBBoxes: function (bbox, path, level) {
                        // adjust bboxes along the given tree path
                        for (var i = level; i >= 0; i--) {
                            this._extend(path[i].bbox, bbox);
                        }
                    },
                
                    _condense: function (path) {
                        // go through the path, removing empty nodes and updating bboxes
                        for (var i = path.length - 1, siblings; i >= 0; i--) {
                            if (path[i].children.length === 0) {
                                if (i > 0) {
                                    siblings = path[i - 1].children;
                                    siblings.splice(siblings.indexOf(path[i]), 1);
                                } else {
                                    this.clear();
                                }
                            } else {
                                this._calcBBox(path[i]);
                            }
                        }
                    },
                
                    _contains: function(a, b) {
                        return a[0] <= b[0] &&
                               a[1] <= b[1] &&
                               b[2] <= a[2] &&
                               b[3] <= a[3];
                    },
                
                    _intersects: function (a, b) {
                        return b[0] <= a[2] &&
                               b[1] <= a[3] &&
                               b[2] >= a[0] &&
                               b[3] >= a[1];
                    },
                
                    _extend: function (a, b) {
                        a[0] = Math.min(a[0], b[0]);
                        a[1] = Math.min(a[1], b[1]);
                        a[2] = Math.max(a[2], b[2]);
                        a[3] = Math.max(a[3], b[3]);
                        return a;
                    },
                
                    _area:   function (a) { return (a[2] - a[0]) * (a[3] - a[1]); },
                    _margin: function (a) { return (a[2] - a[0]) + (a[3] - a[1]); },
                
                    _enlargedArea: function (a, b) {
                        return (Math.max(b[2], a[2]) - Math.min(b[0], a[0])) *
                               (Math.max(b[3], a[3]) - Math.min(b[1], a[1]));
                    },
                
                    _intersectionArea: function (a, b) {
                        var minX = Math.max(a[0], b[0]),
                            minY = Math.max(a[1], b[1]),
                            maxX = Math.min(a[2], b[2]),
                            maxY = Math.min(a[3], b[3]);
                
                        return Math.max(0, maxX - minX) *
                               Math.max(0, maxY - minY);
                    },
                
                    _empty: function () { return [Infinity, Infinity, -Infinity, -Infinity]; },
                
                    _compareNodeMinX: function (a, b) { return a.bbox[0] - b.bbox[0]; },
                    _compareNodeMinY: function (a, b) { return a.bbox[1] - b.bbox[1]; },
                
                    _initFormat: function (format) {
                        // data format (minX, minY, maxX, maxY accessors)
                
                        // uses eval-type function compilation instead of just accepting a toBBox function
                        // because the algorithms are very sensitive to sorting functions performance,
                        // so they should be dead simple and without inner calls
                
                        // jshint evil: true
                
                        var compareArr = ['return a', ' - b', ';'];
                
                        this.compareMinX = new Function('a', 'b', compareArr.join(format[0]));
                        this.compareMinY = new Function('a', 'b', compareArr.join(format[1]));
                
                        this.toBBox = new Function('a', 'return [a' + format.join(', a') + '];');
                    }
                };
                
                if (typeof define === 'function' && define.amd) {
                    define('rbush',[],function() {
                        return rbush;
                    });
                } else if (typeof module !== 'undefined') {
                    module.exports = rbush;
                } else if (typeof self !== 'undefined') {
                    self.rbush = rbush;
                } else {
                    window.rbush = rbush;
                }
                
                })();
                
                (function() {
                  define('common/mathutils',[], function() {
                    var angle_between, angle_dist, angle_norm;
                    angle_norm = function(angle) {
                      while (angle < 0) {
                        angle += 2 * Math.PI;
                      }
                      while (angle > 2 * Math.PI) {
                        angle -= 2 * Math.PI;
                      }
                      return angle;
                    };
                    angle_dist = function(lhs, rhs) {
                      return Math.abs(angle_norm(lhs - rhs));
                    };
                    angle_between = function(mid, lhs, rhs, direction) {
                      var d;
                      mid = angle_norm(mid);
                      d = angle_dist(lhs, rhs);
                      if (direction === "anticlock") {
                        return angle_dist(lhs, mid) <= d && angle_dist(mid, rhs) <= d;
                      } else {
                        return !(angle_dist(lhs, mid) <= d && angle_dist(mid, rhs) <= d);
                      }
                    };
                    return {
                      "angle_norm": angle_norm,
                      "angle_dist": angle_dist,
                      "angle_between": angle_between
                    };
                  });
                
                }).call(this);
                
                /*
                //@ sourceMappingURL=mathutils.js.map
                */;
                (function() {
                  var __hasProp = {}.hasOwnProperty,
                    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
                    __indexOf = [].indexOf || function(item) { for (var i = 0, l = this.length; i < l; i++) { if (i in this && this[i] === item) return i; } return -1; };
                
                  define('renderer/glyph/glyph',["underscore", "common/has_parent", "common/plot_widget", "renderer/properties"], function(_, HasParent, PlotWidget, Properties) {
                    var Glyph, GlyphView, _ref, _ref1;
                    GlyphView = (function(_super) {
                      __extends(GlyphView, _super);
                
                      function GlyphView() {
                        _ref = GlyphView.__super__.constructor.apply(this, arguments);
                        return _ref;
                      }
                
                      GlyphView.prototype.setup_server_data = function() {
                        var data, domain, resample_op, serversource, transform_params, x_range, y_range;
                        serversource = this.mget_obj('server_data_source');
                        data = _.extend({}, this.mget_obj('data_source').get('data'), serversource.get('data'));
                        this.mget_obj('data_source').set('data', data);
                        this.set_data(false);
                        transform_params = serversource.attributes['transform'];
                        resample_op = transform_params['resample'];
                        x_range = this.plot_view.view_state.get('inner_range_horizontal');
                        y_range = this.plot_view.view_state.get('inner_range_vertical');
                        if (resample_op === 'line1d') {
                          domain = transform_params['domain'];
                          if (domain === 'x') {
                            return serversource.listen_for_line1d_updates(this.mget_obj('data_source'), x_range, y_range, this.plot_view.x_range, this.plot_view.view_state.get('inner_range_horizontal'), this.glyph_props.y.field, this.glyph_props.x.field, [this.glyph_props.y.field], transform_params);
                          } else {
                            throw new Error("Domains other than 'x' not supported yet.");
                          }
                        } else if (resample_op === 'heatmap') {
                          return serversource.listen_for_heatmap_updates(this.mget_obj('data_source'), x_range, y_range, this.plot_view.x_range, this.plot_view.y_range, transform_params);
                        } else if (resample_op === 'abstract rendering') {
                          return serversource.listen_for_ar_updates(this.plot_view, this.mget_obj('data_source'), x_range, y_range, this.plot_view.x_range, this.plot_view.y_range, transform_params);
                        } else {
                          return console.log("Unkonwn resample op '" + resample_op + "'");
                        }
                      };
                
                      GlyphView.prototype.initialize = function(options) {
                        var spec;
                        GlyphView.__super__.initialize.call(this, options);
                        this.need_set_data = true;
                        this.glyph_props = this.init_glyph(this.mget('glyphspec'));
                        this.have_selection_props = false;
                        if (this.mget('selection_glyphspec')) {
                          spec = _.extend({}, this.mget('glyphspec'), this.mget('selection_glyphspec'));
                          this.selection_glyphprops = this.init_glyph(spec);
                          this.have_selection_props = true;
                        } else {
                          this.selection_glyphprops = this.glyph_props;
                        }
                        if (this.mget('nonselection_glyphspec')) {
                          spec = _.extend({}, this.mget('glyphspec'), this.mget('nonselection_glyphspec'));
                          this.nonselection_glyphprops = this.init_glyph(spec);
                          this.have_selection_props = true;
                        } else {
                          this.nonselection_glyphprops = this.glyph_props;
                        }
                        if (this.mget('server_data_source')) {
                          this.setup_server_data();
                        }
                        return this.listenTo(this, 'change:server_data_source', this.setup_server_data);
                      };
                
                      GlyphView.prototype.init_glyph = function(glyphspec) {
                        var glyph_props, props;
                        props = {};
                        if (__indexOf.call(this._properties, 'line') >= 0) {
                          props['line_properties'] = new Properties.line_properties(this, glyphspec);
                        }
                        if (__indexOf.call(this._properties, 'fill') >= 0) {
                          props['fill_properties'] = new Properties.fill_properties(this, glyphspec);
                        }
                        if (__indexOf.call(this._properties, 'text') >= 0) {
                          props['text_properties'] = new Properties.text_properties(this, glyphspec);
                        }
                        glyph_props = new Properties.glyph_properties(this, glyphspec, this._fields, props);
                        return glyph_props;
                      };
                
                      GlyphView.prototype.set_data = function(request_render) {
                        var dir, field, i, junk, len, source, values, x, _i, _j, _k, _len, _ref1, _ref2, _ref3, _results;
                        if (request_render == null) {
                          request_render = true;
                        }
                        source = this.mget_obj('data_source');
                        _ref1 = this._fields;
                        for (_i = 0, _len = _ref1.length; _i < _len; _i++) {
                          field = _ref1[_i];
                          if (field.indexOf(":") > -1) {
                            _ref2 = field.split(":"), field = _ref2[0], junk = _ref2[1];
                          }
                          this[field] = this.glyph_props.source_v_select(field, source);
                          if (field === "direction") {
                            values = new Uint8Array(this.direction.length);
                            for (i = _j = 0, _ref3 = this.direction.length; 0 <= _ref3 ? _j < _ref3 : _j > _ref3; i = 0 <= _ref3 ? ++_j : --_j) {
                              dir = this.direction[i];
                              if (dir === 'clock') {
                                values[i] = false;
                              } else if (dir === 'anticlock') {
                                values[i] = true;
                              } else {
                                values = NaN;
                              }
                            }
                            this.direction = values;
                          }
                          if (field.indexOf("angle") > -1) {
                            this[field] = (function() {
                              var _k, _len1, _ref4, _results;
                              _ref4 = this[field];
                              _results = [];
                              for (_k = 0, _len1 = _ref4.length; _k < _len1; _k++) {
                                x = _ref4[_k];
                                _results.push(-x);
                              }
                              return _results;
                            }).call(this);
                          }
                        }
                        if (this._set_data != null) {
                          this._set_data();
                        }
                        len = this[field].length;
                        this.all_indices = (function() {
                          _results = [];
                          for (var _k = 0; 0 <= len ? _k < len : _k > len; 0 <= len ? _k++ : _k--){ _results.push(_k); }
                          return _results;
                        }).apply(this);
                        this.have_new_data = true;
                        if (request_render) {
                          return this.request_render();
                        }
                      };
                
                      GlyphView.prototype.render = function(have_new_mapper_state) {
                        var ctx, do_render, i, idx, indices, nonselected, selected, selected_mask, _i, _j, _len, _len1,
                          _this = this;
                        if (have_new_mapper_state == null) {
                          have_new_mapper_state = true;
                        }
                        if (this.need_set_data) {
                          this.set_data(false);
                          this.need_set_data = false;
                        }
                        this._map_data();
                        if ((this._mask_data != null) && (this.plot_view.x_range.type !== "FactorRange") && (this.plot_view.y_range.type !== "FactorRange")) {
                          indices = this._mask_data();
                        } else {
                          indices = this.all_indices;
                        }
                        ctx = this.plot_view.ctx;
                        ctx.save();
                        do_render = function(ctx, indices, glyph_props) {
                          var source;
                          source = _this.mget_obj('data_source');
                          if (_this.have_new_data) {
                            if ((glyph_props.fill_properties != null) && glyph_props.fill_properties.do_fill) {
                              glyph_props.fill_properties.set_prop_cache(source);
                            }
                            if ((glyph_props.line_properties != null) && glyph_props.line_properties.do_stroke) {
                              glyph_props.line_properties.set_prop_cache(source);
                            }
                            if (glyph_props.text_properties != null) {
                              glyph_props.text_properties.set_prop_cache(source);
                            }
                          }
                          return _this._render(ctx, indices, glyph_props);
                        };
                        selected = this.mget_obj('data_source').get('selected');
                        if (selected && selected.length && this.have_selection_props) {
                          selected_mask = (function() {
                            var _i, _len, _ref1, _results;
                            _ref1 = this.all_indices;
                            _results = [];
                            for (_i = 0, _len = _ref1.length; _i < _len; _i++) {
                              i = _ref1[_i];
                              _results.push(false);
                            }
                            return _results;
                          }).call(this);
                          for (_i = 0, _len = selected.length; _i < _len; _i++) {
                            idx = selected[_i];
                            selected_mask[idx] = true;
                          }
                          selected = new Array();
                          nonselected = new Array();
                          for (_j = 0, _len1 = indices.length; _j < _len1; _j++) {
                            i = indices[_j];
                            if (selected_mask[i]) {
                              selected.push(i);
                            } else {
                              nonselected.push(i);
                            }
                          }
                          do_render(ctx, selected, this.selection_glyphprops);
                          do_render(ctx, nonselected, this.nonselection_glyphprops);
                        } else {
                          do_render(ctx, indices, this.glyph_props);
                        }
                        this.have_new_data = false;
                        return ctx.restore();
                      };
                
                      GlyphView.prototype.xrange = function() {
                        return this.plot_view.x_range;
                      };
                
                      GlyphView.prototype.yrange = function() {
                        return this.plot_view.y_range;
                      };
                
                      GlyphView.prototype.bind_bokeh_events = function() {
                        this.listenTo(this.model, 'change', this.request_render);
                        return this.listenTo(this.mget_obj('data_source'), 'change', this.set_data);
                      };
                
                      GlyphView.prototype.distance_vector = function(pt, span_prop_name, position, dilate) {
                        var d, halfspan, i, local_select, mapper, pt0, pt1, pt_units, ptc, source, span, span_units, spt0, spt1,
                          _this = this;
                        if (dilate == null) {
                          dilate = false;
                        }
                        " returns an array ";
                        pt_units = this.glyph_props[pt].units;
                        span_units = this.glyph_props[span_prop_name].units;
                        if (pt === 'x') {
                          mapper = this.plot_view.xmapper;
                        } else if (pt === 'y') {
                          mapper = this.plot_view.ymapper;
                        }
                        source = this.mget_obj('data_source');
                        local_select = function(prop_name) {
                          return _this.glyph_props.source_v_select(prop_name, source);
                        };
                        span = local_select(span_prop_name);
                        if (span_units === 'screen') {
                          return span;
                        }
                        if (position === 'center') {
                          halfspan = (function() {
                            var _i, _len, _results;
                            _results = [];
                            for (_i = 0, _len = span.length; _i < _len; _i++) {
                              d = span[_i];
                              _results.push(d / 2);
                            }
                            return _results;
                          })();
                          ptc = local_select(pt);
                          if (pt_units === 'screen') {
                            ptc = mapper.v_map_from_target(ptc);
                          }
                          if (typeof ptc[0] === 'string') {
                            ptc = mapper.v_map_to_target(ptc);
                          }
                          pt0 = (function() {
                            var _i, _ref1, _results;
                            _results = [];
                            for (i = _i = 0, _ref1 = ptc.length; 0 <= _ref1 ? _i < _ref1 : _i > _ref1; i = 0 <= _ref1 ? ++_i : --_i) {
                              _results.push(ptc[i] - halfspan[i]);
                            }
                            return _results;
                          })();
                          pt1 = (function() {
                            var _i, _ref1, _results;
                            _results = [];
                            for (i = _i = 0, _ref1 = ptc.length; 0 <= _ref1 ? _i < _ref1 : _i > _ref1; i = 0 <= _ref1 ? ++_i : --_i) {
                              _results.push(ptc[i] + halfspan[i]);
                            }
                            return _results;
                          })();
                        } else {
                          pt0 = local_select(pt);
                          if (pt_units === 'screen') {
                            pt0 = mapper.v_map_from_target(pt0);
                          }
                          pt1 = (function() {
                            var _i, _ref1, _results;
                            _results = [];
                            for (i = _i = 0, _ref1 = pt0.length; 0 <= _ref1 ? _i < _ref1 : _i > _ref1; i = 0 <= _ref1 ? ++_i : --_i) {
                              _results.push(pt0[i] + span[i]);
                            }
                            return _results;
                          })();
                        }
                        spt0 = mapper.v_map_to_target(pt0);
                        spt1 = mapper.v_map_to_target(pt1);
                        if (dilate) {
                          return (function() {
                            var _i, _ref1, _results;
                            _results = [];
                            for (i = _i = 0, _ref1 = spt0.length; 0 <= _ref1 ? _i < _ref1 : _i > _ref1; i = 0 <= _ref1 ? ++_i : --_i) {
                              _results.push(Math.ceil(Math.abs(spt1[i] - spt0[i])));
                            }
                            return _results;
                          })();
                        } else {
                          return (function() {
                            var _i, _ref1, _results;
                            _results = [];
                            for (i = _i = 0, _ref1 = spt0.length; 0 <= _ref1 ? _i < _ref1 : _i > _ref1; i = 0 <= _ref1 ? ++_i : --_i) {
                              _results.push(Math.abs(spt1[i] - spt0[i]));
                            }
                            return _results;
                          })();
                        }
                      };
                
                      GlyphView.prototype.get_reference_point = function() {
                        var reference_point;
                        reference_point = this.mget('reference_point');
                        if (_.isNumber(reference_point)) {
                          return this.data[reference_point];
                        } else {
                          return reference_point;
                        }
                      };
                
                      GlyphView.prototype.draw_legend = function(ctx, x0, x1, y0, y1) {
                        return null;
                      };
                
                      GlyphView.prototype._generic_line_legend = function(ctx, x0, x1, y0, y1) {
                        var line_props, reference_point, _ref1;
                        reference_point = (_ref1 = this.get_reference_point()) != null ? _ref1 : 0;
                        line_props = this.glyph_props.line_properties;
                        ctx.save();
                        ctx.beginPath();
                        ctx.moveTo(x0, (y0 + y1) / 2);
                        ctx.lineTo(x1, (y0 + y1) / 2);
                        if (line_props.do_stroke) {
                          line_props.set_vectorize(ctx, reference_point);
                          ctx.stroke();
                        }
                        return ctx.restore();
                      };
                
                      GlyphView.prototype._generic_area_legend = function(ctx, x0, x1, y0, y1) {
                        var dh, dw, h, indices, reference_point, sx0, sx1, sy0, sy1, w, _ref1;
                        reference_point = (_ref1 = this.get_reference_point()) != null ? _ref1 : 0;
                        indices = [reference_point];
                        w = Math.abs(x1 - x0);
                        dw = w * 0.1;
                        h = Math.abs(y1 - y0);
                        dh = h * 0.1;
                        sx0 = x0 + dw;
                        sx1 = x1 - dw;
                        sy0 = y0 + dh;
                        sy1 = y1 - dh;
                        if (this.glyph_props.fill_properties.do_fill) {
                          this.glyph_props.fill_properties.set_vectorize(ctx, reference_point);
                          ctx.fillRect(sx0, sy0, sx1 - sx0, sy1 - sy0);
                        }
                        if (this.glyph_props.line_properties.do_stroke) {
                          ctx.beginPath();
                          ctx.rect(sx0, sy0, sx1 - sx0, sy1 - sy0);
                          this.glyph_props.line_properties.set_vectorize(ctx, reference_point);
                          return ctx.stroke();
                        }
                      };
                
                      GlyphView.prototype.hit_test = function(geometry) {
                        if (geometry.type === "point") {
                          if (this._hit_point != null) {
                            return this._hit_point(geometry);
                          }
                          if (this._point_hit_warned == null) {
                            console.log("WARNING: 'point' selection not available on renderer");
                            this._point_hit_warned = true;
                          }
                          return null;
                        } else if (geometry.type === "rect") {
                          if (this._hit_rect != null) {
                            return this._hit_rect(geometry);
                          }
                          if (this._rect_hit_warned == null) {
                            console.log("WARNING: 'rect' selection not avaliable on renderer");
                            this._rect_hit_warned = true;
                          }
                          return null;
                        } else {
                          console.log("unrecognized selection geometry type '" + geometry.type + "'");
                          return null;
                        }
                      };
                
                      return GlyphView;
                
                    })(PlotWidget);
                    Glyph = (function(_super) {
                      __extends(Glyph, _super);
                
                      function Glyph() {
                        _ref1 = Glyph.__super__.constructor.apply(this, arguments);
                        return _ref1;
                      }
                
                      Glyph.prototype.defaults = function() {
                        return {
                          data_source: null
                        };
                      };
                
                      Glyph.prototype.display_defaults = function() {
                        return {
                          level: 'glyph',
                          radius_units: 'data',
                          length_units: 'screen',
                          angle_units: 'deg',
                          start_angle_units: 'deg',
                          end_angle_units: 'deg'
                        };
                      };
                
                      return Glyph;
                
                    })(HasParent);
                    return {
                      "Model": Glyph,
                      "View": GlyphView
                    };
                  });
                
                }).call(this);
                
                /*
                //@ sourceMappingURL=glyph.js.map
                */;
                (function() {
                  var __hasProp = {}.hasOwnProperty,
                    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };
                
                  define('renderer/glyph/annular_wedge',["underscore", "rbush", "common/mathutils", "renderer/properties", "./glyph"], function(_, rbush, mathutils, Properties, Glyph) {
                    var AnnularWedge, AnnularWedgeView, _ref, _ref1;
                    AnnularWedgeView = (function(_super) {
                      __extends(AnnularWedgeView, _super);
                
                      function AnnularWedgeView() {
                        _ref = AnnularWedgeView.__super__.constructor.apply(this, arguments);
                        return _ref;
                      }
                
                      AnnularWedgeView.prototype._fields = ['x', 'y', 'inner_radius', 'outer_radius', 'start_angle', 'end_angle', 'direction:string'];
                
                      AnnularWedgeView.prototype._properties = ['line', 'fill'];
                
                      AnnularWedgeView.prototype._set_data = function() {
                        var i, pts, _i, _ref1;
                        this.max_radius = _.max(this.outer_radius);
                        this.index = rbush();
                        pts = [];
                        for (i = _i = 0, _ref1 = this.x.length; 0 <= _ref1 ? _i < _ref1 : _i > _ref1; i = 0 <= _ref1 ? ++_i : --_i) {
                          if (!isNaN(this.x[i] + this.y[i])) {
                            pts.push([
                              this.x[i], this.y[i], this.x[i], this.y[i], {
                                'i': i
                              }
                            ]);
                          }
                        }
                        return this.index.load(pts);
                      };
                
                      AnnularWedgeView.prototype._map_data = function() {
                        var i, _i, _ref1, _ref2, _results;
                        _ref1 = this.plot_view.map_to_screen(this.x, this.glyph_props.x.units, this.y, this.glyph_props.y.units), this.sx = _ref1[0], this.sy = _ref1[1];
                        this.inner_radius = this.distance_vector('x', 'inner_radius', 'edge');
                        this.outer_radius = this.distance_vector('x', 'outer_radius', 'edge');
                        this.angle = new Float32Array(this.start_angle.length);
                        _results = [];
                        for (i = _i = 0, _ref2 = this.start_angle.length; 0 <= _ref2 ? _i < _ref2 : _i > _ref2; i = 0 <= _ref2 ? ++_i : --_i) {
                          _results.push(this.angle[i] = this.end_angle[i] - this.start_angle[i]);
                        }
                        return _results;
                      };
                
                      AnnularWedgeView.prototype._render = function(ctx, indices, glyph_props, sx, sy, inner_radius, outer_radius) {
                        var i, _i, _len, _results;
                        if (sx == null) {
                          sx = this.sx;
                        }
                        if (sy == null) {
                          sy = this.sy;
                        }
                        if (inner_radius == null) {
                          inner_radius = this.inner_radius;
                        }
                        if (outer_radius == null) {
                          outer_radius = this.outer_radius;
                        }
                        _results = [];
                        for (_i = 0, _len = indices.length; _i < _len; _i++) {
                          i = indices[_i];
                          if (isNaN(sx[i] + sy[i] + inner_radius[i] + outer_radius[i] + this.start_angle[i] + this.angle[i])) {
                            continue;
                          }
                          ctx.translate(sx[i], sy[i]);
                          ctx.rotate(this.start_angle[i]);
                          ctx.moveTo(outer_radius[i], 0);
                          ctx.beginPath();
                          ctx.arc(0, 0, outer_radius[i], 0, this.angle[i], this.direction[i]);
                          ctx.rotate(this.angle[i]);
                          ctx.lineTo(inner_radius[i], 0);
                          ctx.arc(0, 0, inner_radius[i], 0, -this.angle[i], !this.direction[i]);
                          ctx.closePath();
                          ctx.rotate(-this.angle[i] - this.start_angle[i]);
                          ctx.translate(-sx[i], -sy[i]);
                          if (glyph_props.fill_properties.do_fill) {
                            glyph_props.fill_properties.set_vectorize(ctx, i);
                            ctx.fill();
                          }
                          if (glyph_props.line_properties.do_stroke) {
                            glyph_props.line_properties.set_vectorize(ctx, i);
                            _results.push(ctx.stroke());
                          } else {
                            _results.push(void 0);
                          }
                        }
                        return _results;
                      };
                
                      AnnularWedgeView.prototype._hit_point = function(geometry) {
                        var angle, candidates, candidates2, candidates3, dist, hits, i, pt, r2, sx, sx0, sx1, sy, sy0, sy1, vx, vx0, vx1, vy, vy0, vy1, x, x0, x1, y, y0, y1, _i, _j, _k, _l, _len, _len1, _len2, _len3, _len4, _m, _ref1, _ref2, _ref3, _ref4, _ref5, _ref6;
                        _ref1 = [geometry.vx, geometry.vy], vx = _ref1[0], vy = _ref1[1];
                        x = this.plot_view.xmapper.map_from_target(vx);
                        y = this.plot_view.ymapper.map_from_target(vy);
                        if (this.outer_radius_units === "screen") {
                          vx0 = vx - this.max_radius;
                          vx1 = vx + this.max_radius;
                          _ref2 = this.plot_view.xmapper.v_map_from_target([vx0, vx1]), x0 = _ref2[0], x1 = _ref2[1];
                          vy0 = vy - this.max_radius;
                          vy1 = vy + this.max_radius;
                          _ref3 = this.plot_view.ymapper.v_map_from_target([vy0, vy1]), y0 = _ref3[0], y1 = _ref3[1];
                        } else {
                          x0 = x - this.max_radius;
                          x1 = x + this.max_radius;
                          y0 = y - this.max_radius;
                          y1 = y + this.max_radius;
                        }
                        candidates = (function() {
                          var _i, _len, _ref4, _results;
                          _ref4 = this.index.search([x0, y0, x1, y1]);
                          _results = [];
                          for (_i = 0, _len = _ref4.length; _i < _len; _i++) {
                            pt = _ref4[_i];
                            _results.push(pt[4].i);
                          }
                          return _results;
                        }).call(this);
                        candidates2 = [];
                        if (this.outer_radius_units === "screen") {
                          sx = this.plot_view.view_state.vx_to_sx(vx);
                          sy = this.plot_view.view_state.vy_to_sy(vy);
                          for (_i = 0, _len = candidates.length; _i < _len; _i++) {
                            i = candidates[_i];
                            r2 = Math.pow(this.outer_radius[i], 2);
                            dist = Math.pow(this.sx[i] - sx, 2) + Math.pow(this.sy[i] - sy, 2);
                            if (dist <= r2) {
                              candidates2.push([i, dist]);
                            }
                          }
                        } else {
                          for (_j = 0, _len1 = candidates.length; _j < _len1; _j++) {
                            i = candidates[_j];
                            r2 = Math.pow(this.outer_radius[i], 2);
                            sx0 = this.plot_view.xmapper.map_to_target(x);
                            sx1 = this.plot_view.xmapper.map_to_target(this.x[i]);
                            sy0 = this.plot_view.ymapper.map_to_target(y);
                            sy1 = this.plot_view.ymapper.map_to_target(this.y[i]);
                            dist = Math.pow(sx0 - sx1, 2) + Math.pow(sy0 - sy1, 2);
                            if (dist <= r2) {
                              candidates2.push([i, dist]);
                            }
                          }
                        }
                        candidates3 = [];
                        if (this.inner_radius_units === "screen") {
                          sx = this.plot_view.view_state.vx_to_sx(vx);
                          sy = this.plot_view.view_state.vy_to_sy(vy);
                          for (_k = 0, _len2 = candidates2.length; _k < _len2; _k++) {
                            _ref4 = candidates2[_k], i = _ref4[0], dist = _ref4[1];
                            r2 = Math.pow(this.inner_radius[i], 2);
                            if (dist >= r2) {
                              candidates3.push([i, dist]);
                            }
                          }
                        } else {
                          for (_l = 0, _len3 = candidates2.length; _l < _len3; _l++) {
                            _ref5 = candidates2[_l], i = _ref5[0], dist = _ref5[1];
                            r2 = Math.pow(this.inner_radius[i], 2);
                            sx0 = this.plot_view.xmapper.map_to_target(x);
                            sx1 = this.plot_view.xmapper.map_to_target(this.x[i]);
                            sy0 = this.plot_view.ymapper.map_to_target(y);
                            sy1 = this.plot_view.ymapper.map_to_target(this.y[i]);
                            if (dist >= r2) {
                              candidates3.push([i, dist]);
                            }
                          }
                        }
                        hits = [];
                        for (_m = 0, _len4 = candidates3.length; _m < _len4; _m++) {
                          _ref6 = candidates3[_m], i = _ref6[0], dist = _ref6[1];
                          sx = this.plot_view.view_state.vx_to_sx(vx);
                          sy = this.plot_view.view_state.vy_to_sy(vy);
                          angle = Math.atan2(sy - this.sy[i], sx - this.sx[i]);
                          if (mathutils.angle_between(-angle, -this.start_angle[i], -this.end_angle[i], this.direction[i])) {
                            hits.push([i, dist]);
                          }
                        }
                        hits = _.chain(hits).sortBy(function(elt) {
                          return elt[1];
                        }).map(function(elt) {
                          return elt[0];
                        }).value();
                        return hits;
                      };
                
                      AnnularWedgeView.prototype.draw_legend = function(ctx, x0, x1, y0, y1) {
                        var indices, inner_radius, outer_radius, r, reference_point, sx, sy, _ref1;
                        reference_point = (_ref1 = this.get_reference_point()) != null ? _ref1 : 0;
                        indices = [reference_point];
                        sx = {};
                        sx[reference_point] = (x0 + x1) / 2;
                        sy = {};
                        sy[reference_point] = (y0 + y1) / 2;
                        r = Math.min(Math.abs(x1 - x0), Math.abs(y1 - y0)) * 0.5;
                        inner_radius = {};
                        inner_radius[reference_point] = r * 0.25;
                        outer_radius = {};
                        outer_radius[reference_point] = r * 0.8;
                        return this._render(ctx, indices, this.glyph_props, sx, sy, inner_radius, outer_radius);
                      };
                
                      return AnnularWedgeView;
                
                    })(Glyph.View);
                    AnnularWedge = (function(_super) {
                      __extends(AnnularWedge, _super);
                
                      function AnnularWedge() {
                        _ref1 = AnnularWedge.__super__.constructor.apply(this, arguments);
                        return _ref1;
                      }
                
                      AnnularWedge.prototype.default_view = AnnularWedgeView;
                
                      AnnularWedge.prototype.type = 'Glyph';
                
                      AnnularWedge.prototype.display_defaults = function() {
                        return _.extend(AnnularWedge.__super__.display_defaults.call(this), {
                          direction: 'anticlock',
                          fill_color: 'gray',
                          fill_alpha: 1.0,
                          line_color: 'red',
                          line_width: 1,
                          line_alpha: 1.0,
                          line_join: 'miter',
                          line_cap: 'butt',
                          line_dash: [],
                          line_dash_offset: 0
                        });
                      };
                
                      return AnnularWedge;
                
                    })(Glyph.Model);
                    return {
                      "Model": AnnularWedge,
                      "View": AnnularWedgeView
                    };
                  });
                
                }).call(this);
                
                /*
                //@ sourceMappingURL=annular_wedge.js.map
                */;
                (function() {
                  var __hasProp = {}.hasOwnProperty,
                    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };
                
                  define('renderer/glyph/annulus',["underscore", "rbush", "renderer/properties", "./glyph"], function(_, rbush, Properties, Glyph) {
                    var Annulus, AnnulusView, _ref, _ref1;
                    AnnulusView = (function(_super) {
                      __extends(AnnulusView, _super);
                
                      function AnnulusView() {
                        _ref = AnnulusView.__super__.constructor.apply(this, arguments);
                        return _ref;
                      }
                
                      AnnulusView.prototype._fields = ['x', 'y', 'inner_radius', 'outer_radius'];
                
                      AnnulusView.prototype._properties = ['line', 'fill'];
                
                      AnnulusView.prototype._set_data = function() {
                        var i, pts, _i, _ref1;
                        this.max_radius = _.max(this.outer_radius);
                        this.index = rbush();
                        pts = [];
                        for (i = _i = 0, _ref1 = this.x.length; 0 <= _ref1 ? _i < _ref1 : _i > _ref1; i = 0 <= _ref1 ? ++_i : --_i) {
                          if (!isNaN(this.x[i] + this.y[i])) {
                            pts.push([
                              this.x[i], this.y[i], this.x[i], this.y[i], {
                                'i': i
                              }
                            ]);
                          }
                        }
                        return this.index.load(pts);
                      };
                
                      AnnulusView.prototype._map_data = function() {
                        var _ref1;
                        _ref1 = this.plot_view.map_to_screen(this.x, this.glyph_props.x.units, this.y, this.glyph_props.y.units), this.sx = _ref1[0], this.sy = _ref1[1];
                        this.inner_radius = this.distance_vector('x', 'inner_radius', 'edge');
                        return this.outer_radius = this.distance_vector('x', 'outer_radius', 'edge');
                      };
                
                      AnnulusView.prototype._render = function(ctx, indices, glyph_props, sx, sy, inner_radius, outer_radius) {
                        var i, _i, _len, _results;
                        if (sx == null) {
                          sx = this.sx;
                        }
                        if (sy == null) {
                          sy = this.sy;
                        }
                        if (inner_radius == null) {
                          inner_radius = this.inner_radius;
                        }
                        if (outer_radius == null) {
                          outer_radius = this.outer_radius;
                        }
                        _results = [];
                        for (_i = 0, _len = indices.length; _i < _len; _i++) {
                          i = indices[_i];
                          if (isNaN(sx[i] + sy[i] + inner_radius[i] + outer_radius[i])) {
                            continue;
                          }
                          ctx.beginPath();
                          ctx.arc(sx[i], sy[i], inner_radius[i], 0, 2 * Math.PI * 2, false);
                          ctx.moveTo(sx[i] + outer_radius[i], sy[i]);
                          ctx.arc(sx[i], sy[i], outer_radius[i], 0, 2 * Math.PI * 2, true);
                          if (glyph_props.fill_properties.do_fill) {
                            glyph_props.fill_properties.set_vectorize(ctx, i);
                            ctx.fill();
                          }
                          if (glyph_props.line_properties.do_stroke) {
                            glyph_props.line_properties.set_vectorize(ctx, i);
                            _results.push(ctx.stroke());
                          } else {
                            _results.push(void 0);
                          }
                        }
                        return _results;
                      };
                
                      AnnulusView.prototype._hit_point = function(geometry) {
                        var candidates, candidates2, dist, hits, i, pt, r2, sx, sx0, sx1, sy, sy0, sy1, vx, vx0, vx1, vy, vy0, vy1, x, x0, x1, y, y0, y1, _i, _j, _k, _l, _len, _len1, _len2, _len3, _ref1, _ref2, _ref3, _ref4, _ref5;
                        _ref1 = [geometry.vx, geometry.vy], vx = _ref1[0], vy = _ref1[1];
                        x = this.plot_view.xmapper.map_from_target(vx);
                        y = this.plot_view.ymapper.map_from_target(vy);
                        if (this.outer_radius_units === "screen") {
                          vx0 = vx - this.max_radius;
                          vx1 = vx + this.max_radius;
                          _ref2 = this.plot_view.xmapper.v_map_from_target([vx0, vx1]), x0 = _ref2[0], x1 = _ref2[1];
                          vy0 = vy - this.max_radius;
                          vy1 = vy + this.max_radius;
                          _ref3 = this.plot_view.ymapper.v_map_from_target([vy0, vy1]), y0 = _ref3[0], y1 = _ref3[1];
                        } else {
                          x0 = x - this.max_radius;
                          x1 = x + this.max_radius;
                          y0 = y - this.max_radius;
                          y1 = y + this.max_radius;
                        }
                        candidates = (function() {
                          var _i, _len, _ref4, _results;
                          _ref4 = this.index.search([x0, y0, x1, y1]);
                          _results = [];
                          for (_i = 0, _len = _ref4.length; _i < _len; _i++) {
                            pt = _ref4[_i];
                            _results.push(pt[4].i);
                          }
                          return _results;
                        }).call(this);
                        candidates2 = [];
                        if (this.outer_radius_units === "screen") {
                          sx = this.plot_view.view_state.vx_to_sx(vx);
                          sy = this.plot_view.view_state.vy_to_sy(vy);
                          for (_i = 0, _len = candidates.length; _i < _len; _i++) {
                            i = candidates[_i];
                            r2 = Math.pow(this.outer_radius[i], 2);
                            dist = Math.pow(this.sx[i] - sx, 2) + Math.pow(this.sy[i] - sy, 2);
                            if (dist <= r2) {
                              candidates2.push([i, dist]);
                            }
                          }
                        } else {
                          for (_j = 0, _len1 = candidates.length; _j < _len1; _j++) {
                            i = candidates[_j];
                            r2 = Math.pow(this.outer_radius[i], 2);
                            sx0 = this.plot_view.xmapper.map_to_target(x);
                            sx1 = this.plot_view.xmapper.map_to_target(this.x[i]);
                            sy0 = this.plot_view.ymapper.map_to_target(y);
                            sy1 = this.plot_view.ymapper.map_to_target(this.y[i]);
                            dist = Math.pow(sx0 - sx1, 2) + Math.pow(sy0 - sy1, 2);
                            if (dist <= r2) {
                              candidates2.push([i, dist]);
                            }
                          }
                        }
                        hits = [];
                        if (this.inner_radius_units === "screen") {
                          sx = this.plot_view.view_state.vx_to_sx(vx);
                          sy = this.plot_view.view_state.vy_to_sy(vy);
                          for (_k = 0, _len2 = candidates2.length; _k < _len2; _k++) {
                            _ref4 = candidates2[_k], i = _ref4[0], dist = _ref4[1];
                            r2 = Math.pow(this.inner_radius[i], 2);
                            if (dist >= r2) {
                              hits.push([i, dist]);
                            }
                          }
                        } else {
                          for (_l = 0, _len3 = candidates2.length; _l < _len3; _l++) {
                            _ref5 = candidates2[_l], i = _ref5[0], dist = _ref5[1];
                            r2 = Math.pow(this.inner_radius[i], 2);
                            sx0 = this.plot_view.xmapper.map_to_target(x);
                            sx1 = this.plot_view.xmapper.map_to_target(this.x[i]);
                            sy0 = this.plot_view.ymapper.map_to_target(y);
                            sy1 = this.plot_view.ymapper.map_to_target(this.y[i]);
                            if (dist >= r2) {
                              hits.push([i, dist]);
                            }
                          }
                        }
                        hits = _.chain(hits).sortBy(function(elt) {
                          return elt[1];
                        }).map(function(elt) {
                          return elt[0];
                        }).value();
                        return hits;
                      };
                
                      AnnulusView.prototype.draw_legend = function(ctx, x0, x1, y0, y1) {
                        var indices, inner_radius, outer_radius, r, reference_point, sx, sy, _ref1;
                        reference_point = (_ref1 = this.get_reference_point()) != null ? _ref1 : 0;
                        indices = [reference_point];
                        sx = {};
                        sx[reference_point] = (x0 + x1) / 2;
                        sy = {};
                        sy[reference_point] = (y0 + y1) / 2;
                        r = Math.min(Math.abs(x1 - x0), Math.abs(y1 - y0)) * 0.5;
                        inner_radius = {};
                        inner_radius[reference_point] = r * 0.4;
                        outer_radius = {};
                        outer_radius[reference_point] = r * 0.8;
                        return this._render(ctx, indices, this.glyph_props, sx, sy, inner_radius, outer_radius);
                      };
                
                      return AnnulusView;
                
                    })(Glyph.View);
                    Annulus = (function(_super) {
                      __extends(Annulus, _super);
                
                      function Annulus() {
                        _ref1 = Annulus.__super__.constructor.apply(this, arguments);
                        return _ref1;
                      }
                
                      Annulus.prototype.default_view = AnnulusView;
                
                      Annulus.prototype.type = 'Glyph';
                
                      Annulus.prototype.display_defaults = function() {
                        return _.extend(Annulus.__super__.display_defaults.call(this), {
                          fill_color: 'gray',
                          fill_alpha: 1.0,
                          line_color: 'red',
                          line_width: 1,
                          line_alpha: 1.0,
                          line_join: 'miter',
                          line_cap: 'butt',
                          line_dash: [],
                          line_dash_offset: 0
                        });
                      };
                
                      return Annulus;
                
                    })(Glyph.Model);
                    return {
                      "Model": Annulus,
                      "View": AnnulusView
                    };
                  });
                
                }).call(this);
                
                /*
                //@ sourceMappingURL=annulus.js.map
                */;
                (function() {
                  var __hasProp = {}.hasOwnProperty,
                    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };
                
                  define('renderer/glyph/arc',["underscore", "renderer/properties", "./glyph"], function(_, Properties, Glyph) {
                    var Arc, ArcView, _ref, _ref1;
                    ArcView = (function(_super) {
                      __extends(ArcView, _super);
                
                      function ArcView() {
                        _ref = ArcView.__super__.constructor.apply(this, arguments);
                        return _ref;
                      }
                
                      ArcView.prototype._fields = ['x', 'y', 'radius', 'start_angle', 'end_angle', 'direction:string'];
                
                      ArcView.prototype._properties = ['line'];
                
                      ArcView.prototype._map_data = function() {
                        var _ref1;
                        _ref1 = this.plot_view.map_to_screen(this.x, this.glyph_props.x.units, this.y, this.glyph_props.y.units), this.sx = _ref1[0], this.sy = _ref1[1];
                        return this.radius = this.distance_vector('x', 'radius', 'edge');
                      };
                
                      ArcView.prototype._render = function(ctx, indices, glyph_props, sx, sy, radius) {
                        var i, _i, _len, _results;
                        if (sx == null) {
                          sx = this.sx;
                        }
                        if (sy == null) {
                          sy = this.sy;
                        }
                        if (radius == null) {
                          radius = this.radius;
                        }
                        if (glyph_props.line_properties.do_stroke) {
                          _results = [];
                          for (_i = 0, _len = indices.length; _i < _len; _i++) {
                            i = indices[_i];
                            if (isNaN(sx[i] + sy[i] + radius[i] + this.start_angle[i] + this.end_angle[i] + this.direction[i])) {
                              continue;
                            }
                            ctx.beginPath();
                            ctx.arc(sx[i], sy[i], radius[i], this.start_angle[i], this.end_angle[i], this.direction[i]);
                            glyph_props.line_properties.set_vectorize(ctx, i);
                            _results.push(ctx.stroke());
                          }
                          return _results;
                        }
                      };
                
                      ArcView.prototype.draw_legend = function(ctx, x0, x1, y0, y1) {
                        var indices, radius, reference_point, sx, sy, _ref1;
                        reference_point = (_ref1 = this.get_reference_point()) != null ? _ref1 : 0;
                        indices = [reference_point];
                        sx = {};
                        sx[reference_point] = (x0 + x1) / 2;
                        sy = {};
                        sy[reference_point] = (y0 + y1) / 2;
                        radius = {};
                        radius[reference_point] = Math.min(Math.abs(x1 - x0), Math.abs(y1 - y0)) * 0.4;
                        return this._render(ctx, indices, this.glyph_props, sx, sy, radius);
                      };
                
                      return ArcView;
                
                    })(Glyph.View);
                    Arc = (function(_super) {
                      __extends(Arc, _super);
                
                      function Arc() {
                        _ref1 = Arc.__super__.constructor.apply(this, arguments);
                        return _ref1;
                      }
                
                      Arc.prototype.default_view = ArcView;
                
                      Arc.prototype.type = 'Glyph';
                
                      Arc.prototype.display_defaults = function() {
                        return _.extend(Arc.__super__.display_defaults.call(this), {
                          direction: 'anticlock',
                          line_color: 'red',
                          line_width: 1,
                          line_alpha: 1.0,
                          line_join: 'miter',
                          line_cap: 'butt',
                          line_dash: [],
                          line_dash_offset: 0
                        });
                      };
                
                      return Arc;
                
                    })(Glyph.Model);
                    return {
                      "Model": Arc,
                      "View": ArcView
                    };
                  });
                
                }).call(this);
                
                /*
                //@ sourceMappingURL=arc.js.map
                */;
                (function() {
                  var __hasProp = {}.hasOwnProperty,
                    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };
                
                  define('renderer/glyph/marker',["underscore", "rbush", "renderer/properties", "./glyph"], function(_, rbush, Properties, Glyph) {
                    var Marker, MarkerView, _ref, _ref1;
                    MarkerView = (function(_super) {
                      __extends(MarkerView, _super);
                
                      function MarkerView() {
                        _ref = MarkerView.__super__.constructor.apply(this, arguments);
                        return _ref;
                      }
                
                      MarkerView.prototype._fields = ['x', 'y', 'size'];
                
                      MarkerView.prototype.draw_legend = function(ctx, x0, x1, y0, y1) {
                        var indices, reference_point, size, sx, sy, _ref1;
                        reference_point = (_ref1 = this.get_reference_point()) != null ? _ref1 : 0;
                        indices = [reference_point];
                        sx = {};
                        sx[reference_point] = (x0 + x1) / 2;
                        sy = {};
                        sy[reference_point] = (y0 + y1) / 2;
                        size = {};
                        size[reference_point] = Math.min(Math.abs(x1 - x0), Math.abs(y1 - y0)) * 0.4;
                        return this._render(ctx, indices, this.glyph_props, sx, sy, size);
                      };
                
                      MarkerView.prototype._set_data = function() {
                        var i, pts, _i, _ref1;
                        this.max_size = _.max(this.size);
                        this.index = rbush();
                        pts = [];
                        for (i = _i = 0, _ref1 = this.x.length; 0 <= _ref1 ? _i < _ref1 : _i > _ref1; i = 0 <= _ref1 ? ++_i : --_i) {
                          if (!isNaN(this.x[i] + this.y[i])) {
                            pts.push([
                              this.x[i], this.y[i], this.x[i], this.y[i], {
                                'i': i
                              }
                            ]);
                          }
                        }
                        return this.index.load(pts);
                      };
                
                      MarkerView.prototype._map_data = function() {
                        var _ref1;
                        return _ref1 = this.plot_view.map_to_screen(this.x, this.glyph_props.x.units, this.y, this.glyph_props.y.units), this.sx = _ref1[0], this.sy = _ref1[1], _ref1;
                      };
                
                      MarkerView.prototype._mask_data = function() {
                        var hr, vr, vx0, vx1, vy0, vy1, x, x0, x1, y0, y1, _ref1, _ref2;
                        hr = this.plot_view.view_state.get('inner_range_horizontal');
                        vx0 = hr.get('start') - this.max_size;
                        vx1 = hr.get('end') + this.max_size;
                        _ref1 = this.plot_view.xmapper.v_map_from_target([vx0, vx1]), x0 = _ref1[0], x1 = _ref1[1];
                        vr = this.plot_view.view_state.get('inner_range_vertical');
                        vy0 = vr.get('start') - this.max_size;
                        vy1 = vr.get('end') + this.max_size;
                        _ref2 = this.plot_view.ymapper.v_map_from_target([vy0, vy1]), y0 = _ref2[0], y1 = _ref2[1];
                        return (function() {
                          var _i, _len, _ref3, _results;
                          _ref3 = this.index.search([x0, y0, x1, y1]);
                          _results = [];
                          for (_i = 0, _len = _ref3.length; _i < _len; _i++) {
                            x = _ref3[_i];
                            _results.push(x[4].i);
                          }
                          return _results;
                        }).call(this);
                      };
                
                      MarkerView.prototype._hit_point = function(geometry) {
                        var candidates, dist, hits, i, s2, sx, sy, vx, vx0, vx1, vy, vy0, vy1, x, x0, x1, y0, y1, _i, _len, _ref1, _ref2, _ref3;
                        _ref1 = [geometry.vx, geometry.vy], vx = _ref1[0], vy = _ref1[1];
                        sx = this.plot_view.view_state.vx_to_sx(vx);
                        sy = this.plot_view.view_state.vy_to_sy(vy);
                        vx0 = vx - this.max_size;
                        vx1 = vx + this.max_size;
                        _ref2 = this.plot_view.xmapper.v_map_from_target([vx0, vx1]), x0 = _ref2[0], x1 = _ref2[1];
                        vy0 = vy - this.max_size;
                        vy1 = vy + this.max_size;
                        _ref3 = this.plot_view.ymapper.v_map_from_target([vy0, vy1]), y0 = _ref3[0], y1 = _ref3[1];
                        candidates = (function() {
                          var _i, _len, _ref4, _results;
                          _ref4 = this.index.search([x0, y0, x1, y1]);
                          _results = [];
                          for (_i = 0, _len = _ref4.length; _i < _len; _i++) {
                            x = _ref4[_i];
                            _results.push(x[4].i);
                          }
                          return _results;
                        }).call(this);
                        hits = [];
                        for (_i = 0, _len = candidates.length; _i < _len; _i++) {
                          i = candidates[_i];
                          s2 = this.size[i] / 2;
                          dist = Math.abs(this.sx[i] - sx) + Math.abs(this.sy[i] - sy);
                          if (Math.abs(this.sx[i] - sx) <= s2 && Math.abs(this.sy[i] - sy) <= s2) {
                            hits.push([i, dist]);
                          }
                        }
                        hits = _.chain(hits).sortBy(function(elt) {
                          return elt[1];
                        }).map(function(elt) {
                          return elt[0];
                        }).value();
                        return hits;
                      };
                
                      MarkerView.prototype._hit_rect = function(geometry) {
                        var x, x0, x1, y0, y1, _ref1, _ref2;
                        _ref1 = this.plot_view.xmapper.v_map_from_target([geometry.vx0, geometry.vx1]), x0 = _ref1[0], x1 = _ref1[1];
                        _ref2 = this.plot_view.ymapper.v_map_from_target([geometry.vy0, geometry.vy1]), y0 = _ref2[0], y1 = _ref2[1];
                        return (function() {
                          var _i, _len, _ref3, _results;
                          _ref3 = this.index.search([x0, y0, x1, y1]);
                          _results = [];
                          for (_i = 0, _len = _ref3.length; _i < _len; _i++) {
                            x = _ref3[_i];
                            _results.push(x[4].i);
                          }
                          return _results;
                        }).call(this);
                      };
                
                      return MarkerView;
                
                    })(Glyph.View);
                    Marker = (function(_super) {
                      __extends(Marker, _super);
                
                      function Marker() {
                        _ref1 = Marker.__super__.constructor.apply(this, arguments);
                        return _ref1;
                      }
                
                      return Marker;
                
                    })(Glyph.Model);
                    return {
                      "Model": Marker,
                      "View": MarkerView
                    };
                  });
                
                }).call(this);
                
                /*
                //@ sourceMappingURL=marker.js.map
                */;
                (function() {
                  var __hasProp = {}.hasOwnProperty,
                    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };
                
                  define('renderer/glyph/asterisk',["underscore", "renderer/properties", "./marker"], function(_, Properties, Marker) {
                    var Asterisk, AsteriskView, _ref, _ref1;
                    AsteriskView = (function(_super) {
                      __extends(AsteriskView, _super);
                
                      function AsteriskView() {
                        _ref = AsteriskView.__super__.constructor.apply(this, arguments);
                        return _ref;
                      }
                
                      AsteriskView.prototype._properties = ['line'];
                
                      AsteriskView.prototype._render = function(ctx, indices, glyph_props, sx, sy, size) {
                        var i, r, r2, _i, _len, _results;
                        if (sx == null) {
                          sx = this.sx;
                        }
                        if (sy == null) {
                          sy = this.sy;
                        }
                        if (size == null) {
                          size = this.size;
                        }
                        _results = [];
                        for (_i = 0, _len = indices.length; _i < _len; _i++) {
                          i = indices[_i];
                          if (isNaN(sx[i] + sy[i] + size[i])) {
                            continue;
                          }
                          r = size[i] / 2;
                          r2 = r * 0.65;
                          ctx.beginPath();
                          ctx.moveTo(sx[i], sy[i] + r);
                          ctx.lineTo(sx[i], sy[i] - r);
                          ctx.moveTo(sx[i] - r, sy[i]);
                          ctx.lineTo(sx[i] + r, sy[i]);
                          ctx.moveTo(sx[i] - r2, sy[i] + r2);
                          ctx.lineTo(sx[i] + r2, sy[i] - r2);
                          ctx.moveTo(sx[i] - r2, sy[i] - r2);
                          ctx.lineTo(sx[i] + r2, sy[i] + r2);
                          if (glyph_props.line_properties.do_stroke) {
                            glyph_props.line_properties.set_vectorize(ctx, i);
                            _results.push(ctx.stroke());
                          } else {
                            _results.push(void 0);
                          }
                        }
                        return _results;
                      };
                
                      return AsteriskView;
                
                    })(Marker.View);
                    Asterisk = (function(_super) {
                      __extends(Asterisk, _super);
                
                      function Asterisk() {
                        _ref1 = Asterisk.__super__.constructor.apply(this, arguments);
                        return _ref1;
                      }
                
                      Asterisk.prototype.default_view = AsteriskView;
                
                      Asterisk.prototype.type = 'Glyph';
                
                      Asterisk.prototype.display_defaults = function() {
                        return _.extend(Asterisk.__super__.display_defaults.call(this), {
                          line_color: 'red',
                          line_width: 1,
                          line_alpha: 1.0,
                          line_join: 'miter',
                          line_cap: 'butt',
                          line_dash: [],
                          line_dash_offset: 0
                        });
                      };
                
                      return Asterisk;
                
                    })(Marker.Model);
                    return {
                      "Model": Asterisk,
                      "View": AsteriskView
                    };
                  });
                
                }).call(this);
                
                /*
                //@ sourceMappingURL=asterisk.js.map
                */;
                (function() {
                  var __hasProp = {}.hasOwnProperty,
                    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };
                
                  define('renderer/glyph/bezier',["underscore", "renderer/properties", "./glyph"], function(_, Properties, Glyph) {
                    var Bezier, BezierView, _ref, _ref1;
                    BezierView = (function(_super) {
                      __extends(BezierView, _super);
                
                      function BezierView() {
                        _ref = BezierView.__super__.constructor.apply(this, arguments);
                        return _ref;
                      }
                
                      BezierView.prototype._fields = ['x0', 'y0', 'x1', 'y1', 'cx0', 'cy0', 'cx1', 'cy1'];
                
                      BezierView.prototype._properties = ['line'];
                
                      BezierView.prototype._map_data = function() {
                        var _ref1, _ref2, _ref3, _ref4;
                        _ref1 = this.plot_view.map_to_screen(this.x0, this.glyph_props.x0.units, this.y0, this.glyph_props.y0.units), this.sx0 = _ref1[0], this.sy0 = _ref1[1];
                        _ref2 = this.plot_view.map_to_screen(this.x1, this.glyph_props.x1.units, this.y1, this.glyph_props.y1.units), this.sx1 = _ref2[0], this.sy1 = _ref2[1];
                        _ref3 = this.plot_view.map_to_screen(this.cx0, this.glyph_props.cx0.units, this.cy0, this.glyph_props.cy0.units), this.scx0 = _ref3[0], this.scy0 = _ref3[1];
                        return _ref4 = this.plot_view.map_to_screen(this.cx1, this.glyph_props.cx1.units, this.cy1, this.glyph_props.cy1.units), this.scx1 = _ref4[0], this.scy1 = _ref4[1], _ref4;
                      };
                
                      BezierView.prototype._render = function(ctx, indices, glyph_props) {
                        var i, _i, _len, _results;
                        if (glyph_props.line_properties.do_stroke) {
                          _results = [];
                          for (_i = 0, _len = indices.length; _i < _len; _i++) {
                            i = indices[_i];
                            if (isNaN(this.sx0[i] + this.sy0[i] + this.sx1[i] + this.sy1[i] + this.scx0[i] + this.scy0[i] + this.scx1[i] + this.scy1[i])) {
                              continue;
                            }
                            ctx.beginPath();
                            ctx.moveTo(this.sx0[i], this.sy0[i]);
                            ctx.bezierCurveTo(this.scx0[i], this.scy0[i], this.scx1[i], this.scy1[i], this.sx1[i], this.sy1[i]);
                            glyph_props.line_properties.set_vectorize(ctx, i);
                            _results.push(ctx.stroke());
                          }
                          return _results;
                        }
                      };
                
                      BezierView.prototype.draw_legend = function(ctx, x0, x1, y0, y1) {
                        return this._generic_line_legend(ctx, x0, x1, y0, y1);
                      };
                
                      return BezierView;
                
                    })(Glyph.View);
                    Bezier = (function(_super) {
                      __extends(Bezier, _super);
                
                      function Bezier() {
                        _ref1 = Bezier.__super__.constructor.apply(this, arguments);
                        return _ref1;
                      }
                
                      Bezier.prototype.default_view = BezierView;
                
                      Bezier.prototype.type = 'Glyph';
                
                      Bezier.prototype.display_defaults = function() {
                        return _.extend(Bezier.__super__.display_defaults.call(this), {
                          line_color: 'red',
                          line_width: 1,
                          line_alpha: 1.0,
                          line_join: 'miter',
                          line_cap: 'butt',
                          line_dash: [],
                          line_dash_offset: 0
                        });
                      };
                
                      return Bezier;
                
                    })(Glyph.Model);
                    return {
                      "Model": Bezier,
                      "View": BezierView
                    };
                  });
                
                }).call(this);
                
                /*
                //@ sourceMappingURL=bezier.js.map
                */;
                (function() {
                  var __hasProp = {}.hasOwnProperty,
                    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };
                
                  define('renderer/glyph/circle',["underscore", "rbush", "renderer/properties", "./glyph"], function(_, rbush, Properties, Glyph) {
                    var Circle, CircleView, _ref, _ref1;
                    CircleView = (function(_super) {
                      __extends(CircleView, _super);
                
                      function CircleView() {
                        _ref = CircleView.__super__.constructor.apply(this, arguments);
                        return _ref;
                      }
                
                      CircleView.prototype._properties = ['line', 'fill'];
                
                      CircleView.prototype.initialize = function(options) {
                        var spec;
                        spec = this.mget('glyphspec');
                        if (spec.radius != null) {
                          this._fields = ['x', 'y', 'radius'];
                        } else if (spec.size != null) {
                          this._fields = ['x', 'y', 'size'];
                        }
                        return CircleView.__super__.initialize.call(this, options);
                      };
                
                      CircleView.prototype._set_data = function() {
                        var i, pts, _i, _ref1;
                        if (this.size) {
                          this.max_radius = _.max(this.size) / 2;
                        } else {
                          this.max_radius = _.max(this.radius);
                        }
                        this.index = rbush();
                        pts = [];
                        for (i = _i = 0, _ref1 = this.x.length; 0 <= _ref1 ? _i < _ref1 : _i > _ref1; i = 0 <= _ref1 ? ++_i : --_i) {
                          if (!isNaN(this.x[i] + this.y[i])) {
                            pts.push([
                              this.x[i], this.y[i], this.x[i], this.y[i], {
                                'i': i
                              }
                            ]);
                          }
                        }
                        return this.index.load(pts);
                      };
                
                      CircleView.prototype._map_data = function() {
                        var s, _ref1;
                        _ref1 = this.plot_view.map_to_screen(this.x, this.glyph_props.x.units, this.y, this.glyph_props.y.units), this.sx = _ref1[0], this.sy = _ref1[1];
                        if (this.size) {
                          this.radius = (function() {
                            var _i, _len, _ref2, _results;
                            _ref2 = this.distance_vector('x', 'size', 'edge');
                            _results = [];
                            for (_i = 0, _len = _ref2.length; _i < _len; _i++) {
                              s = _ref2[_i];
                              _results.push(s / 2);
                            }
                            return _results;
                          }).call(this);
                          return this.radius_units = this.glyph_props.size.units;
                        } else {
                          return this.radius = this.distance_vector('x', 'radius', 'edge');
                        }
                      };
                
                      CircleView.prototype._mask_data = function() {
                        var hr, sx0, sx1, sy0, sy1, vr, x, x0, x1, y0, y1, _ref1, _ref2, _ref3, _ref4;
                        hr = this.plot_view.view_state.get('inner_range_horizontal');
                        vr = this.plot_view.view_state.get('inner_range_vertical');
                        if (this.radius_units === "screen") {
                          sx0 = hr.get('start') - this.max_radius;
                          sx1 = hr.get('end') - this.max_radius;
                          _ref1 = this.plot_view.xmapper.v_map_from_target([sx0, sx1]), x0 = _ref1[0], x1 = _ref1[1];
                          sy0 = vr.get('start') - this.max_radius;
                          sy1 = vr.get('end') - this.max_radius;
                          _ref2 = this.plot_view.ymapper.v_map_from_target([sy0, sy1]), y0 = _ref2[0], y1 = _ref2[1];
                        } else {
                          sx0 = hr.get('start');
                          sx1 = hr.get('end');
                          _ref3 = this.plot_view.xmapper.v_map_from_target([sx0, sx1]), x0 = _ref3[0], x1 = _ref3[1];
                          x0 -= this.max_radius;
                          x1 += this.max_radius;
                          sy0 = vr.get('start');
                          sy1 = vr.get('end');
                          _ref4 = this.plot_view.ymapper.v_map_from_target([sy0, sy1]), y0 = _ref4[0], y1 = _ref4[1];
                          y0 -= this.max_radius;
                          y1 += this.max_radius;
                        }
                        return (function() {
                          var _i, _len, _ref5, _results;
                          _ref5 = this.index.search([x0, y0, x1, y1]);
                          _results = [];
                          for (_i = 0, _len = _ref5.length; _i < _len; _i++) {
                            x = _ref5[_i];
                            _results.push(x[4].i);
                          }
                          return _results;
                        }).call(this);
                      };
                
                      CircleView.prototype._render = function(ctx, indices, glyph_props, sx, sy, radius) {
                        var i, _i, _len, _results;
                        if (sx == null) {
                          sx = this.sx;
                        }
                        if (sy == null) {
                          sy = this.sy;
                        }
                        if (radius == null) {
                          radius = this.radius;
                        }
                        _results = [];
                        for (_i = 0, _len = indices.length; _i < _len; _i++) {
                          i = indices[_i];
                          if (isNaN(sx[i] + sy[i] + radius[i])) {
                            continue;
                          }
                          ctx.beginPath();
                          ctx.arc(sx[i], sy[i], radius[i], 0, 2 * Math.PI, false);
                          if (glyph_props.fill_properties.do_fill) {
                            glyph_props.fill_properties.set_vectorize(ctx, i);
                            ctx.fill();
                          }
                          if (glyph_props.line_properties.do_stroke) {
                            glyph_props.line_properties.set_vectorize(ctx, i);
                            _results.push(ctx.stroke());
                          } else {
                            _results.push(void 0);
                          }
                        }
                        return _results;
                      };
                
                      CircleView.prototype._hit_point = function(geometry) {
                        var candidates, dist, hits, i, pt, r2, sx, sx0, sx1, sy, sy0, sy1, vx, vx0, vx1, vy, vy0, vy1, x, x0, x1, y, y0, y1, _i, _j, _len, _len1, _ref1, _ref2, _ref3;
                        _ref1 = [geometry.vx, geometry.vy], vx = _ref1[0], vy = _ref1[1];
                        x = this.plot_view.xmapper.map_from_target(vx);
                        y = this.plot_view.ymapper.map_from_target(vy);
                        if (this.radius_units === "screen") {
                          vx0 = vx - this.max_radius;
                          vx1 = vx + this.max_radius;
                          _ref2 = this.plot_view.xmapper.v_map_from_target([vx0, vx1]), x0 = _ref2[0], x1 = _ref2[1];
                          vy0 = vy - this.max_radius;
                          vy1 = vy + this.max_radius;
                          _ref3 = this.plot_view.ymapper.v_map_from_target([vy0, vy1]), y0 = _ref3[0], y1 = _ref3[1];
                        } else {
                          x0 = x - this.max_radius;
                          x1 = x + this.max_radius;
                          y0 = y - this.max_radius;
                          y1 = y + this.max_radius;
                        }
                        candidates = (function() {
                          var _i, _len, _ref4, _results;
                          _ref4 = this.index.search([x0, y0, x1, y1]);
                          _results = [];
                          for (_i = 0, _len = _ref4.length; _i < _len; _i++) {
                            pt = _ref4[_i];
                            _results.push(pt[4].i);
                          }
                          return _results;
                        }).call(this);
                        hits = [];
                        if (this.radius_units === "screen") {
                          sx = this.plot_view.view_state.vx_to_sx(vx);
                          sy = this.plot_view.view_state.vy_to_sy(vy);
                          for (_i = 0, _len = candidates.length; _i < _len; _i++) {
                            i = candidates[_i];
                            r2 = Math.pow(this.radius[i], 2);
                            dist = Math.pow(this.sx[i] - sx, 2) + Math.pow(this.sy[i] - sy, 2);
                            if (dist <= r2) {
                              hits.push([i, dist]);
                            }
                          }
                        } else {
                          for (_j = 0, _len1 = candidates.length; _j < _len1; _j++) {
                            i = candidates[_j];
                            r2 = Math.pow(this.radius[i], 2);
                            sx0 = this.plot_view.xmapper.map_to_target(x);
                            sx1 = this.plot_view.xmapper.map_to_target(this.x[i]);
                            sy0 = this.plot_view.ymapper.map_to_target(y);
                            sy1 = this.plot_view.ymapper.map_to_target(this.y[i]);
                            dist = Math.pow(sx0 - sx1, 2) + Math.pow(sy0 - sy1, 2);
                            if (dist <= r2) {
                              hits.push([i, dist]);
                            }
                          }
                        }
                        hits = _.chain(hits).sortBy(function(elt) {
                          return elt[1];
                        }).map(function(elt) {
                          return elt[0];
                        }).value();
                        return hits;
                      };
                
                      CircleView.prototype._hit_rect = function(geometry) {
                        var x, x0, x1, y0, y1, _ref1, _ref2;
                        _ref1 = this.plot_view.xmapper.v_map_from_target([geometry.vx0, geometry.vx1]), x0 = _ref1[0], x1 = _ref1[1];
                        _ref2 = this.plot_view.ymapper.v_map_from_target([geometry.vy0, geometry.vy1]), y0 = _ref2[0], y1 = _ref2[1];
                        return (function() {
                          var _i, _len, _ref3, _results;
                          _ref3 = this.index.search([x0, y0, x1, y1]);
                          _results = [];
                          for (_i = 0, _len = _ref3.length; _i < _len; _i++) {
                            x = _ref3[_i];
                            _results.push(x[4].i);
                          }
                          return _results;
                        }).call(this);
                      };
                
                      CircleView.prototype.draw_legend = function(ctx, x0, x1, y0, y1) {
                        var indices, radius, reference_point, sx, sy, _ref1;
                        reference_point = (_ref1 = this.get_reference_point()) != null ? _ref1 : 0;
                        indices = [reference_point];
                        sx = {};
                        sx[reference_point] = (x0 + x1) / 2;
                        sy = {};
                        sy[reference_point] = (y0 + y1) / 2;
                        radius = {};
                        radius[reference_point] = Math.min(Math.abs(x1 - x0), Math.abs(y1 - y0)) * 0.2;
                        return this._render(ctx, indices, this.glyph_props, sx, sy, radius);
                      };
                
                      return CircleView;
                
                    })(Glyph.View);
                    Circle = (function(_super) {
                      __extends(Circle, _super);
                
                      function Circle() {
                        _ref1 = Circle.__super__.constructor.apply(this, arguments);
                        return _ref1;
                      }
                
                      Circle.prototype.default_view = CircleView;
                
                      Circle.prototype.type = 'Glyph';
                
                      Circle.prototype.display_defaults = function() {
                        return _.extend(Circle.__super__.display_defaults.call(this), {
                          radius_units: 'data',
                          size_units: 'screen',
                          fill_color: 'gray',
                          fill_alpha: 1.0,
                          line_color: 'red',
                          line_width: 1,
                          line_alpha: 1.0,
                          line_join: 'miter',
                          line_cap: 'butt',
                          line_dash: [],
                          line_dash_offset: 0
                        });
                      };
                
                      return Circle;
                
                    })(Glyph.Model);
                    return {
                      "Model": Circle,
                      "View": CircleView
                    };
                  });
                
                }).call(this);
                
                /*
                //@ sourceMappingURL=circle.js.map
                */;
                (function() {
                  var __hasProp = {}.hasOwnProperty,
                    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };
                
                  define('renderer/glyph/circle_x',["underscore", "renderer/properties", "./marker"], function(_, Properties, Marker) {
                    var CircleX, CircleXView, _ref, _ref1;
                    CircleXView = (function(_super) {
                      __extends(CircleXView, _super);
                
                      function CircleXView() {
                        _ref = CircleXView.__super__.constructor.apply(this, arguments);
                        return _ref;
                      }
                
                      CircleXView.prototype._properties = ['line', 'fill'];
                
                      CircleXView.prototype._render = function(ctx, indices, glyph_props, sx, sy, size) {
                        var i, r, _i, _len, _results;
                        if (sx == null) {
                          sx = this.sx;
                        }
                        if (sy == null) {
                          sy = this.sy;
                        }
                        if (size == null) {
                          size = this.size;
                        }
                        _results = [];
                        for (_i = 0, _len = indices.length; _i < _len; _i++) {
                          i = indices[_i];
                          if (isNaN(sx[i] + sy[i] + size[i])) {
                            continue;
                          }
                          ctx.beginPath();
                          r = size[i] / 2;
                          ctx.arc(sx[i], sy[i], r, 0, 2 * Math.PI, false);
                          if (glyph_props.fill_properties.do_fill) {
                            glyph_props.fill_properties.set_vectorize(ctx, i);
                            ctx.fill();
                          }
                          if (glyph_props.line_properties.do_stroke) {
                            glyph_props.line_properties.set_vectorize(ctx, i);
                            ctx.moveTo(sx[i] - r, sy[i] + r);
                            ctx.lineTo(sx[i] + r, sy[i] - r);
                            ctx.moveTo(sx[i] - r, sy[i] - r);
                            ctx.lineTo(sx[i] + r, sy[i] + r);
                            _results.push(ctx.stroke());
                          } else {
                            _results.push(void 0);
                          }
                        }
                        return _results;
                      };
                
                      return CircleXView;
                
                    })(Marker.View);
                    CircleX = (function(_super) {
                      __extends(CircleX, _super);
                
                      function CircleX() {
                        _ref1 = CircleX.__super__.constructor.apply(this, arguments);
                        return _ref1;
                      }
                
                      CircleX.prototype.default_view = CircleXView;
                
                      CircleX.prototype.type = 'Glyph';
                
                      CircleX.prototype.display_defaults = function() {
                        return _.extend(CircleX.__super__.display_defaults.call(this), {
                          fill_color: 'gray',
                          fill_alpha: 1.0,
                          line_color: 'red',
                          line_width: 1,
                          line_alpha: 1.0,
                          line_join: 'miter',
                          line_cap: 'butt',
                          line_dash: [],
                          line_dash_offset: 0
                        });
                      };
                
                      return CircleX;
                
                    })(Marker.Model);
                    return {
                      "Model": CircleX,
                      "View": CircleXView
                    };
                  });
                
                }).call(this);
                
                /*
                //@ sourceMappingURL=circle_x.js.map
                */;
                (function() {
                  var __hasProp = {}.hasOwnProperty,
                    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };
                
                  define('renderer/glyph/circle_cross',["underscore", "renderer/properties", "./marker"], function(_, Properties, Marker) {
                    var CircleCross, CircleCrossView, _ref, _ref1;
                    CircleCrossView = (function(_super) {
                      __extends(CircleCrossView, _super);
                
                      function CircleCrossView() {
                        _ref = CircleCrossView.__super__.constructor.apply(this, arguments);
                        return _ref;
                      }
                
                      CircleCrossView.prototype._properties = ['line', 'fill'];
                
                      CircleCrossView.prototype._render = function(ctx, indices, glyph_props, sx, sy, size) {
                        var i, r, _i, _len, _results;
                        if (sx == null) {
                          sx = this.sx;
                        }
                        if (sy == null) {
                          sy = this.sy;
                        }
                        if (size == null) {
                          size = this.size;
                        }
                        _results = [];
                        for (_i = 0, _len = indices.length; _i < _len; _i++) {
                          i = indices[_i];
                          if (isNaN(sx[i] + sy[i] + size[i])) {
                            continue;
                          }
                          ctx.beginPath();
                          r = size[i] / 2;
                          ctx.arc(sx[i], sy[i], r, 0, 2 * Math.PI, false);
                          if (glyph_props.fill_properties.do_fill) {
                            glyph_props.fill_properties.set_vectorize(ctx, i);
                            ctx.fill();
                          }
                          if (glyph_props.line_properties.do_stroke) {
                            glyph_props.line_properties.set_vectorize(ctx, i);
                            ctx.moveTo(sx[i], sy[i] + r);
                            ctx.lineTo(sx[i], sy[i] - r);
                            ctx.moveTo(sx[i] - r, sy[i]);
                            ctx.lineTo(sx[i] + r, sy[i]);
                            _results.push(ctx.stroke());
                          } else {
                            _results.push(void 0);
                          }
                        }
                        return _results;
                      };
                
                      return CircleCrossView;
                
                    })(Marker.View);
                    CircleCross = (function(_super) {
                      __extends(CircleCross, _super);
                
                      function CircleCross() {
                        _ref1 = CircleCross.__super__.constructor.apply(this, arguments);
                        return _ref1;
                      }
                
                      CircleCross.prototype.default_view = CircleCrossView;
                
                      CircleCross.prototype.type = 'Glyph';
                
                      CircleCross.prototype.display_defaults = function() {
                        return _.extend(CircleCross.__super__.display_defaults.call(this), {
                          fill_color: 'gray',
                          fill_alpha: 1.0,
                          line_color: 'red',
                          line_width: 1,
                          line_alpha: 1.0,
                          line_join: 'miter',
                          line_cap: 'butt',
                          line_dash: [],
                          line_dash_offset: 0
                        });
                      };
                
                      return CircleCross;
                
                    })(Marker.Model);
                    return {
                      "Model": CircleCross,
                      "View": CircleCrossView
                    };
                  });
                
                }).call(this);
                
                /*
                //@ sourceMappingURL=circle_cross.js.map
                */;
                (function() {
                  var __hasProp = {}.hasOwnProperty,
                    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };
                
                  define('renderer/glyph/diamond',["underscore", "renderer/properties", "./marker"], function(_, Properties, Marker) {
                    var Diamond, DiamondView, _ref, _ref1;
                    DiamondView = (function(_super) {
                      __extends(DiamondView, _super);
                
                      function DiamondView() {
                        _ref = DiamondView.__super__.constructor.apply(this, arguments);
                        return _ref;
                      }
                
                      DiamondView.prototype._properties = ['line', 'fill'];
                
                      DiamondView.prototype._render = function(ctx, indices, glyph_props, sx, sy, size) {
                        var i, r, _i, _len, _results;
                        if (sx == null) {
                          sx = this.sx;
                        }
                        if (sy == null) {
                          sy = this.sy;
                        }
                        if (size == null) {
                          size = this.size;
                        }
                        _results = [];
                        for (_i = 0, _len = indices.length; _i < _len; _i++) {
                          i = indices[_i];
                          if (isNaN(sx[i] + sy[i] + size[i])) {
                            continue;
                          }
                          r = size[i] / 2;
                          ctx.beginPath();
                          ctx.moveTo(sx[i], sy[i] + r);
                          ctx.lineTo(sx[i] + r, sy[i]);
                          ctx.lineTo(sx[i], sy[i] - r);
                          ctx.lineTo(sx[i] - r, sy[i]);
                          ctx.closePath();
                          if (glyph_props.fill_properties.do_fill) {
                            glyph_props.fill_properties.set_vectorize(ctx, i);
                            ctx.fill();
                          }
                          if (glyph_props.line_properties.do_stroke) {
                            glyph_props.line_properties.set_vectorize(ctx, i);
                            _results.push(ctx.stroke());
                          } else {
                            _results.push(void 0);
                          }
                        }
                        return _results;
                      };
                
                      return DiamondView;
                
                    })(Marker.View);
                    Diamond = (function(_super) {
                      __extends(Diamond, _super);
                
                      function Diamond() {
                        _ref1 = Diamond.__super__.constructor.apply(this, arguments);
                        return _ref1;
                      }
                
                      Diamond.prototype.default_view = DiamondView;
                
                      Diamond.prototype.type = 'Glyph';
                
                      Diamond.prototype.display_defaults = function() {
                        return _.extend(Diamond.__super__.display_defaults.call(this), {
                          fill_color: 'gray',
                          fill_alpha: 1.0,
                          line_color: 'red',
                          line_width: 1,
                          line_alpha: 1.0,
                          line_join: 'miter',
                          line_cap: 'butt',
                          line_dash: [],
                          line_dash_offset: 0
                        });
                      };
                
                      return Diamond;
                
                    })(Marker.Model);
                    return {
                      "Model": Diamond,
                      "View": DiamondView
                    };
                  });
                
                }).call(this);
                
                /*
                //@ sourceMappingURL=diamond.js.map
                */;
                (function() {
                  var __hasProp = {}.hasOwnProperty,
                    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };
                
                  define('renderer/glyph/diamond_cross',["underscore", "renderer/properties", "./marker"], function(_, Properties, Marker) {
                    var DiamondCross, DiamondCrossView, _ref, _ref1;
                    DiamondCrossView = (function(_super) {
                      __extends(DiamondCrossView, _super);
                
                      function DiamondCrossView() {
                        _ref = DiamondCrossView.__super__.constructor.apply(this, arguments);
                        return _ref;
                      }
                
                      DiamondCrossView.prototype._properties = ['line', 'fill'];
                
                      DiamondCrossView.prototype._render = function(ctx, indices, glyph_props, sx, sy, size) {
                        var i, r, _i, _len, _results;
                        if (sx == null) {
                          sx = this.sx;
                        }
                        if (sy == null) {
                          sy = this.sy;
                        }
                        if (size == null) {
                          size = this.size;
                        }
                        _results = [];
                        for (_i = 0, _len = indices.length; _i < _len; _i++) {
                          i = indices[_i];
                          if (isNaN(sx[i] + sy[i] + size[i])) {
                            continue;
                          }
                          r = size[i] / 2;
                          ctx.beginPath();
                          ctx.moveTo(sx[i], sy[i] + r);
                          ctx.lineTo(sx[i] + r, sy[i]);
                          ctx.lineTo(sx[i], sy[i] - r);
                          ctx.lineTo(sx[i] - r, sy[i]);
                          ctx.closePath();
                          if (glyph_props.fill_properties.do_fill) {
                            glyph_props.fill_properties.set_vectorize(ctx, i);
                            ctx.fill();
                          }
                          if (glyph_props.line_properties.do_stroke) {
                            glyph_props.line_properties.set_vectorize(ctx, i);
                            ctx.moveTo(sx[i], sy[i] + r);
                            ctx.lineTo(sx[i], sy[i] - r);
                            ctx.moveTo(sx[i] - r, sy[i]);
                            ctx.lineTo(sx[i] + r, sy[i]);
                            _results.push(ctx.stroke());
                          } else {
                            _results.push(void 0);
                          }
                        }
                        return _results;
                      };
                
                      return DiamondCrossView;
                
                    })(Marker.View);
                    DiamondCross = (function(_super) {
                      __extends(DiamondCross, _super);
                
                      function DiamondCross() {
                        _ref1 = DiamondCross.__super__.constructor.apply(this, arguments);
                        return _ref1;
                      }
                
                      DiamondCross.prototype.default_view = DiamondCrossView;
                
                      DiamondCross.prototype.type = 'Glyph';
                
                      DiamondCross.prototype.display_defaults = function() {
                        return _.extend(DiamondCross.__super__.display_defaults.call(this), {
                          fill_color: 'gray',
                          fill_alpha: 1.0,
                          line_color: 'red',
                          line_width: 1,
                          line_alpha: 1.0,
                          line_join: 'miter',
                          line_cap: 'butt',
                          line_dash: [],
                          line_dash_offset: 0
                        });
                      };
                
                      return DiamondCross;
                
                    })(Marker.Model);
                    return {
                      "Model": DiamondCross,
                      "View": DiamondCrossView
                    };
                  });
                
                }).call(this);
                
                /*
                //@ sourceMappingURL=diamond_cross.js.map
                */;
                define('gear_utils',[],function() {
                /*==========================================================================*
                  Filename: gearUtils-04.js
                  By: Dr A.R.Collins
                
                  JavaScript involute gear drawing utilities.
                  Requires:
                  'involuteBezCoeffs' can stand alone,
                  'createGearTooth' and 'createIntGearTooth' generate draw commands for use
                  in Cango graphics library but may be simply converted for use in SVG.
                
                  Kindly give credit to Dr A.R.Collins <http://www.arc.id.au/>
                  Report bugs to tony at arc.id.au
                
                  Date   |Description                                                   |By
                  --------------------------------------------------------------------------
                  20Feb13 First public release                                           ARC
                  21Feb13 Clarified variable names of start and end parameters           ARC
                  06Mar13 Fixed Rf and filletAngle calculations                          ARC
                  25Jun13 Code tidy for JSLint, use strict                               ARC
                 *==========================================================================*/
                
                  // exposed globals
                  var involuteBezCoeffs, createGearTooth, createIntGearTooth;
                
                (function()
                {
                  
                /* ----------------------------------------------------------
                 * involuteBezCoeffs
                 *
                 * JavaScript calculation of Bezier coefficients for
                 * Higuchi et al. approximation to an involute.
                 * ref: YNU Digital Eng Lab Memorandum 05-1
                 *
                 * Parameters:
                 * module - sets the size of teeth (see gear design texts)
                 * numTeeth - number of teeth on the gear
                 * pressure angle - angle in degrees, usually 14.5 or 20
                 * order - the order of the Bezier curve to be fitted [3, 4, 5, ..]
                 * fstart - fraction of distance along tooth profile to start
                 * fstop - fraction of distance along profile to stop
                 *-----------------------------------------------------------*/
                involuteBezCoeffs = function(module, numTeeth, pressureAngle, order, fstart, fstop)
                {
                  var PI = Math.PI,
                      Rpitch = module*numTeeth/2,       // pitch circle radius
                      phi = pressureAngle || 20,        // pressure angle
                      Rb = Rpitch*Math.cos(phi*PI/180), // base circle radius
                      Ra = Rpitch+module,               // addendum radius (outer radius)
                      p = order || 3,                   // order of Bezier approximation
                      ta = Math.sqrt(Ra*Ra-Rb*Rb)/Rb,   // involute angle at addendum
                      stop = fstop || 1,
                      start = 0.01,
                      te, ts,
                      bzCoeffs = [],
                      i, bcoeff;
                
                  function chebyExpnCoeffs(j, func)
                  {
                    var N = 50,      // a suitably large number  N>>p
                        c = 0,
                        k;
                
                    for (k=1; k<=N; k++)
                    {
                      c += func(Math.cos(PI*(k-0.5)/N)) * Math.cos(PI*j*(k-0.5)/N);
                    }
                    return 2*c/N;
                  }
                
                  function chebyPolyCoeffs(p, func)
                  {
                    var coeffs = [],
                        fnCoeff = [],
                        T = [[], []],
                        i, j, k, pwr;
                
                    // populate 1st 2 rows of T
                    for (i=0; i<p+1; i++)
                    {
                      T[0][i] = 0;
                      T[1][i] = 0;
                    }
                    T[0][0] = 1;
                    T[1][1] = 1;
                    /* now generate the Chebyshev polynomial coefficient using
                       formula T(k+1) = 2xT(k) - T(k-1) which yields
                    T = [ [ 1,  0,  0,  0,  0,  0],    // T0(x) =  +1
                          [ 0,  1,  0,  0,  0,  0],    // T1(x) =   0  +x
                          [-1,  0,  2,  0,  0,  0],    // T2(x) =  -1  0  +2xx
                          [ 0, -3,  0,  4,  0,  0],    // T3(x) =   0 -3x    0   +4xxx
                          [ 1,  0, -8,  0,  8,  0],    // T4(x) =  +1  0  -8xx       0  +8xxxx
                          [ 0,  5,  0,-20,  0, 16],    // T5(x) =   0  5x    0  -20xxx       0  +16xxxxx
                          ...                     ];
                    */
                    for (k=1; k<p+1; k++)
                    {
                      T[k+1] = [0];
                      for (j=0; j<T[k].length-1; j++)
                      {
                        T[k+1][j+1] = 2*T[k][j];
                      }
                      for (j=0; j<T[k-1].length; j++)
                      {
                        T[k+1][j] -= T[k-1][j];
                      }
                    }
                    // convert the chebyshev function series into a simple polynomial
                    // and collect like terms, out T polynomial coefficients
                    for (k=0; k<=p; k++)
                    {
                      fnCoeff[k] = chebyExpnCoeffs(k, func);
                      coeffs[k] = 0;
                    }
                    for (k=0; k<=p; k++)
                    {
                      for (pwr=0; pwr<=p; pwr++)    // loop thru powers of x
                      {
                        coeffs[pwr] += fnCoeff[k]*T[k][pwr];
                      }
                    }
                    coeffs[0] -= chebyExpnCoeffs(0, func)/2;  // fix the 0th coeff
                
                    return coeffs;
                  }
                
                  // Equation of involute using the Bezier parameter t as variable
                  function involuteXbez(t)
                  {
                    // map t (0 <= t <= 1) onto x (where -1 <= x <= 1)
                    var x = t*2-1;
                    //map theta (where ts <= theta <= te) from x (-1 <=x <= 1)
                    var theta = x*(te-ts)/2 + (ts + te)/2;
                    return Rb*(Math.cos(theta)+theta*Math.sin(theta));
                  }
                
                  function involuteYbez(t)
                  {
                    // map t (0 <= t <= 1) onto x (where -1 <= x <= 1)
                    var x = t*2-1;
                    //map theta (where ts <= theta <= te) from x (-1 <=x <= 1)
                    var theta = x*(te-ts)/2 + (ts + te)/2;
                    return Rb*(Math.sin(theta)-theta*Math.cos(theta));
                  }
                
                  function binom(n, k)
                  {
                    var coeff = 1;
                    var i;
                    for (i = n-k+1; i <= n; i++)
                    {
                      coeff *= i;
                    }
                    for (i = 1; i <= k; i++)
                    {
                      coeff /= i;
                    }
                
                    return coeff;
                  }
                
                  function bezCoeff(i, func)
                  {
                    // generate the polynomial coeffs in one go
                    var polyCoeffs = chebyPolyCoeffs(p, func),
                        bc, j;
                
                    for (bc=0, j=0; j<=i; j++)
                    {
                      bc += binom(i,j)*polyCoeffs[j]/binom(p,j);
                    }
                    return bc;
                  }
                
                  if ((fstart !== undefined)&&(fstart<stop))
                  {
                    start = fstart;
                  }
                  te = Math.sqrt(stop)*ta;          // involute angle, theta, at end of approx
                  ts = Math.sqrt(start)*ta;         // involute angle, theta, at start of approx
                  // calc Bezier coeffs
                  for (i=0; i<=p; i++)
                  {
                    bcoeff = {};
                    bcoeff.x = bezCoeff(i, involuteXbez);
                    bcoeff.y = bezCoeff(i, involuteYbez);
                    bzCoeffs.push(bcoeff);
                  }
                
                  return bzCoeffs;
                };
                
                /*----------------------------------------------------------
                  createGearTooth
                  Create an array of drawing commands and their coordinates
                  to draw a single spur gear tooth based on a circle
                  involute using the metric gear standards.
                
                  Requires Cango graphics library Rev 2.08 or later
                 ----------------------------------------------------------*/
                createGearTooth = function(module, teeth, pressureAngle)
                {
                  function genInvolutePolar(Rb, R)  // Rb = base circle radius
                  {
                    // returns the involute angle as function of radius R.
                    return (Math.sqrt(R*R - Rb*Rb)/Rb) - Math.acos(Rb/R);
                  }
                
                  function rotate(pt, rads)  // rotate pt by rads radians about origin
                  {
                    var sinA = Math.sin(rads);
                    var cosA = Math.cos(rads);
                    return {x: pt.x*cosA - pt.y*sinA,
                            y: pt.x*sinA + pt.y*cosA};
                  }
                
                  function toCartesian(radius, angle)   // convert polar coords to cartesian
                  {
                    return {x: radius*Math.cos(angle),
                            y: radius*Math.sin(angle)};
                  }
                  // ****** external gear specifications
                  var m = module,                                     // Module = mm of pitch diameter per tooth
                      Z = teeth,                                      // Number of teeth
                      phi = pressureAngle || 20,                      // pressure angle (degrees)
                      addendum = m,                                   // distance from pitch circle to tip circle
                      dedendum = 1.25*m,                              // pitch circle to root, sets clearance
                      clearance = dedendum - addendum,
                      // Calculate radii
                      Rpitch = Z*m/2,                                 // pitch circle radius
                      Rb = Rpitch*Math.cos(phi*Math.PI/180),          // base circle radius
                      Ra = Rpitch + addendum,                         // tip (addendum) circle radius
                      Rroot = Rpitch - dedendum,                      // root circle radius
                      fRad = 1.5*clearance,                           // fillet radius, max 1.5*clearance
                      Rf,                                             // radius at top of fillet
                      // ****** calculate angles (all in radians)
                      pitchAngle = 2*Math.PI/Z,                       // angle subtended by whole tooth (rads)
                      baseToPitchAngle = genInvolutePolar(Rb, Rpitch),
                      pitchToFilletAngle = baseToPitchAngle,          // profile starts at base circle
                      filletAngle = Math.atan(fRad/(fRad+Rroot)),     // radians
                      fe, fs, fm,
                      dedBz, addBz, inv, invR,
                      fillet, filletR, filletNext,
                      rootR, rootNext,
                      pt, i, data;
                
                  Rf = Math.sqrt((Rroot+fRad)*(Rroot+fRad)-(fRad*fRad)); // radius at top of fillet
                  if (Rb < Rf)
                  {
                    Rf = Rroot+clearance;
                  }
                  if (Rf > Rb)                   // start profile at top of fillet (if its greater)
                  {
                    pitchToFilletAngle -= genInvolutePolar(Rb, Rf);
                  }
                  // ****** generate Higuchi involute approximation
                  fe = 1;                    // fraction of profile length at end of approx
                  fs = 0.01;                 // fraction of length offset from base to avoid singularity
                  if (Rf > Rb)
                  {
                    fs = (Rf*Rf-Rb*Rb)/(Ra*Ra-Rb*Rb);  // offset start to top of fillet
                  }
                  // approximate in 2 sections, split 25% along the involute
                  fm = fs+(fe-fs)/4;         // fraction of length at junction (25% along profile)
                  dedBz = involuteBezCoeffs(m, Z, phi, 3, fs, fm);
                  addBz = involuteBezCoeffs(m, Z, phi, 3, fm, fe);
                  // join the 2 sets of coeffs (skip duplicate mid point)
                  inv = dedBz.concat(addBz.slice(1));
                  //create the back profile of tooth (mirror image)
                  invR = [];                // involute profile along back of tooth
                  for (i=0; i<inv.length; i++)
                  {
                    // rotate all points to put pitch point at y = 0
                    pt = rotate(inv[i], -baseToPitchAngle-pitchAngle/4);
                    inv[i] = pt;
                    // generate the back of tooth profile nodes, mirror coords in X axis
                    invR[i] = {x:pt.x, y:-pt.y};
                  }
                  // ****** calculate section junction points R=back of tooth, Next=front of next tooth)
                  fillet = toCartesian(Rf, -pitchAngle/4-pitchToFilletAngle); // top of fillet
                  filletR = {x:fillet.x, y:-fillet.y};   // flip to make same point on back of tooth
                  rootR = toCartesian(Rroot, pitchAngle/4+pitchToFilletAngle+filletAngle);
                  rootNext = toCartesian(Rroot, 3*pitchAngle/4-pitchToFilletAngle-filletAngle);
                  filletNext = rotate(fillet, pitchAngle);  // top of fillet, front of next tooth
                  // ****** create the drawing command data array for the tooth
                  data = [];
                  data.push("M", fillet.x, fillet.y);           // start at top of fillet
                  if (Rf < Rb)
                  {
                    data.push("L", inv[0].x, inv[0].y);         // line from fillet up to base circle
                  }
                  data.push("C", inv[1].x, inv[1].y, inv[2].x, inv[2].y, inv[3].x, inv[3].y,
                                 inv[4].x, inv[4].y, inv[5].x, inv[5].y, inv[6].x, inv[6].y);
                  data.push("A", Ra, Ra, 0, 0, 0, invR[6].x, invR[6].y); // arc across addendum circle
                  data.push("C", invR[5].x, invR[5].y, invR[4].x, invR[4].y, invR[3].x, invR[3].y,
                                 invR[2].x, invR[2].y, invR[1].x, invR[1].y, invR[0].x, invR[0].y);
                  if (Rf < Rb)
                  {
                    data.push("L", filletR.x, filletR.y);       // line down to top of fillet
                  }
                  if (rootNext.y > rootR.y)    // is there a section of root circle between fillets?
                  {
                    data.push("A", fRad, fRad, 0, 0, 1, rootR.x, rootR.y);// back fillet
                    data.push("A", Rroot, Rroot, 0, 0, 0, rootNext.x, rootNext.y); // root circle arc
                  }
                  data.push("A", fRad, fRad, 0, 0, 1, filletNext.x, filletNext.y);
                
                  return data;  // return an array of Cango (SVG) format draw commands
                };
                
                /*----------------------------------------------------------
                  createIntGearTooth
                  Create an array of drawing commands and their coordinates
                  to draw a single internal (ring)gear tooth based on a
                  circle involute using the metric gear standards.
                
                  Requires Cango graphics library Rev 2.08 or later
                 ----------------------------------------------------------*/
                createIntGearTooth = function(module, teeth, pressureAngle)
                {
                  // ****** gear specifications
                  var m = module,                               // Module = mm of pitch diameter per tooth
                      Z = teeth,                                // Number of teeth
                      phi = pressureAngle || 20,                // pressure angle (degrees)
                      addendum = 0.6*m,                         // pitch circle to tip circle (ref G.M.Maitra)
                      dedendum = 1.25*m,                        // pitch circle to root radius, sets clearance
                      // Calculate radii
                      Rpitch = Z*m/2,                           // pitch radius
                      Rb = Rpitch*Math.cos(phi*Math.PI/180),    // base radius
                      Ra = Rpitch - addendum,                   // addendum radius
                      Rroot = Rpitch + dedendum,                // root radius
                      clearance = 0.25*m,                       // gear dedendum - pinion addendum
                      Rf = Rroot - clearance,                   // radius of top of fillet (end of profile)
                      fRad = 1.5*clearance,                     // fillet radius, 1 .. 1.5*clearance
                      pitchAngle,                               // angle between teeth (rads)
                      baseToPitchAngle,
                      tipToPitchAngle,
                      pitchToFilletAngle,
                      filletAngle,
                      fe, fs, fm,
                      addBz, dedBz,
                      inv, invR,
                      pt, i, data,
                      fillet, filletNext,
                      tip, tipR,
                      rootR, rootNext;
                
                  function genInvolutePolar(Rb, R)  // Rb = base circle radius
                  {
                    // returns the involute angle as function of radius R.
                    return (Math.sqrt(R*R - Rb*Rb)/Rb) - Math.acos(Rb/R);
                  }
                
                  function rotate(pt, rads)  // rotate pt by rads radians about origin
                  {
                    var sinA = Math.sin(rads);
                    var cosA = Math.cos(rads);
                    return {x: pt.x*cosA - pt.y*sinA,
                            y: pt.x*sinA + pt.y*cosA};
                  }
                
                  function toCartesian(radius, angle)   // convert polar coords to cartesian
                  {
                    return {x: radius*Math.cos(angle),
                            y: radius*Math.sin(angle)};
                  }
                
                  // ****** calculate subtended angles
                  pitchAngle = 2*Math.PI/Z;                       // angle between teeth (rads)
                  baseToPitchAngle = genInvolutePolar(Rb, Rpitch);
                  tipToPitchAngle = baseToPitchAngle;             // profile starts from base circle
                  if (Ra > Rb)
                  {
                    tipToPitchAngle -= genInvolutePolar(Rb, Ra);  // start profile from addendum
                  }
                  pitchToFilletAngle = genInvolutePolar(Rb, Rf) - baseToPitchAngle;
                  filletAngle = 1.414*clearance/Rf;               // to make fillet tangential to root
                  // ****** generate Higuchi involute approximation
                  fe = 1;                   // fraction of involute length at end of approx (fillet circle)
                  fs = 0.01;                 // fraction of length offset from base to avoid singularity
                  if (Ra > Rb)
                  {
                    fs = (Ra*Ra-Rb*Rb)/(Rf*Rf-Rb*Rb);    // start profile from addendum (tip circle)
                  }
                  // approximate in 2 sections, split 25% along the profile
                  fm = fs+(fe-fs)/4;        //
                  addBz = involuteBezCoeffs(m, Z, phi, 3, fs, fm);
                  dedBz = involuteBezCoeffs(m, Z, phi, 3, fm, fe);
                  // join the 2 sets of coeffs (skip duplicate mid point)
                  invR = addBz.concat(dedBz.slice(1));
                  //create the front profile of tooth (mirror image)
                  inv = [];         // back involute profile
                  for (i=0; i<invR.length; i++)
                  {
                    // rotate involute to put center of tooth at y = 0
                    pt = rotate(invR[i], pitchAngle/4-baseToPitchAngle);
                    invR[i] = pt;
                    // generate the back of tooth profile, flip Y coords
                    inv[i] = {x:pt.x, y:-pt.y};
                  }
                  // ****** calculate coords of section junctions
                  fillet = {x:inv[6].x, y:inv[6].y};    // top of fillet, front of tooth
                  tip = toCartesian(Ra, -pitchAngle/4+tipToPitchAngle);  // tip, front of tooth
                  tipR = {x:tip.x, y:-tip.y};  // addendum, back of tooth
                  rootR = toCartesian(Rroot, pitchAngle/4+pitchToFilletAngle+filletAngle);
                  rootNext = toCartesian(Rroot, 3*pitchAngle/4-pitchToFilletAngle-filletAngle);
                  filletNext = rotate(fillet, pitchAngle);  // top of fillet, front of next tooth
                  // ****** create the drawing command data array for the tooth
                  data = [];
                  data.push("M", inv[6].x, inv[6].y);  // start at top of front profile
                  data.push("C", inv[5].x, inv[5].y, inv[4].x, inv[4].y, inv[3].x, inv[3].y,
                                 inv[2].x, inv[2].y, inv[1].x, inv[1].y, inv[0].x, inv[0].y);
                  if (Ra < Rb)
                  {
                    data.push("L", tip.x, tip.y);  // line from end of involute to addendum (tip)
                  }
                  data.push("A", Ra, Ra, 0, 0, 0, tipR.x, tipR.y); // arc across tip circle
                  if (Ra < Rb)
                  {
                    data.push("L", invR[0].x, invR[0].y);  // line from addendum to start of involute
                  }
                  data.push("C", invR[1].x, invR[1].y, invR[2].x, invR[2].y, invR[3].x, invR[3].y,
                                 invR[4].x, invR[4].y, invR[5].x, invR[5].y, invR[6].x, invR[6].y);
                  if (rootR.y < rootNext.y)    // there is a section of root circle between fillets
                  {
                    data.push("A", fRad, fRad, 0, 0, 0, rootR.x, rootR.y); // fillet on back of tooth
                    data.push("A", Rroot, Rroot, 0, 0, 0, rootNext.x, rootNext.y); // root circle arc
                  }
                  data.push("A", fRad, fRad, 0, 0, 0, filletNext.x, filletNext.y); // fillet on next
                
                  return data;  // return an array of Cango (SVG) format draw commands
                };
                
                }());
                
                return { create_gear_tooth: createGearTooth, create_internal_gear_tooth: createIntGearTooth };
                });
                
                (function() {
                  define('util/bezier',[], function() {
                    var arc_to_bezier, segment_to_bezier;
                    segment_to_bezier = function(cx, cy, th0, th1, rx, ry, sin_th, cos_th) {
                      var a00, a01, a10, a11, t, th_half, x1, x2, x3, y1, y2, y3;
                      a00 = cos_th * rx;
                      a01 = -sin_th * ry;
                      a10 = sin_th * rx;
                      a11 = cos_th * ry;
                      th_half = 0.5 * (th1 - th0);
                      t = (8 / 3) * Math.sin(th_half * 0.5) * Math.sin(th_half * 0.5) / Math.sin(th_half);
                      x1 = cx + Math.cos(th0) - t * Math.sin(th0);
                      y1 = cy + Math.sin(th0) + t * Math.cos(th0);
                      x3 = cx + Math.cos(th1);
                      y3 = cy + Math.sin(th1);
                      x2 = x3 + t * Math.sin(th1);
                      y2 = y3 - t * Math.cos(th1);
                      return [a00 * x1 + a01 * y1, a10 * x1 + a11 * y1, a00 * x2 + a01 * y2, a10 * x2 + a11 * y2, a00 * x3 + a01 * y3, a10 * x3 + a11 * y3];
                    };
                    arc_to_bezier = function(ox, oy, radx, rady, rotateX, large, sweep, x, y) {
                      var a00, a01, a10, a11, cos_th, d, i, pl, px, py, result, rx, ry, segments, sfactor, sfactor_sq, sin_th, th, th0, th1, th2, th3, th_arc, x0, x1, xc, y0, y1, yc;
                      th = rotateX * (Math.PI / 180);
                      sin_th = Math.sin(th);
                      cos_th = Math.cos(th);
                      rx = Math.abs(radx);
                      ry = Math.abs(rady);
                      px = cos_th * (ox - x) * 0.5 + sin_th * (oy - y) * 0.5;
                      py = cos_th * (oy - y) * 0.5 - sin_th * (ox - x) * 0.5;
                      pl = (px * px) / (rx * rx) + (py * py) / (ry * ry);
                      if (pl > 1) {
                        pl = Math.sqrt(pl);
                        rx *= pl;
                        ry *= pl;
                      }
                      a00 = cos_th / rx;
                      a01 = sin_th / rx;
                      a10 = -sin_th / ry;
                      a11 = cos_th / ry;
                      x0 = a00 * ox + a01 * oy;
                      y0 = a10 * ox + a11 * oy;
                      x1 = a00 * x + a01 * y;
                      y1 = a10 * x + a11 * y;
                      d = (x1 - x0) * (x1 - x0) + (y1 - y0) * (y1 - y0);
                      sfactor_sq = 1 / d - 0.25;
                      if (sfactor_sq < 0) {
                        sfactor_sq = 0;
                      }
                      sfactor = Math.sqrt(sfactor_sq);
                      if (sweep === large) {
                        sfactor = -sfactor;
                      }
                      xc = 0.5 * (x0 + x1) - sfactor * (y1 - y0);
                      yc = 0.5 * (y0 + y1) + sfactor * (x1 - x0);
                      th0 = Math.atan2(y0 - yc, x0 - xc);
                      th1 = Math.atan2(y1 - yc, x1 - xc);
                      th_arc = th1 - th0;
                      if (th_arc < 0 && sweep === 1) {
                        th_arc += 2 * Math.PI;
                      } else if (th_arc > 0 && sweep === 0) {
                        th_arc -= 2 * Math.PI;
                      }
                      segments = Math.ceil(Math.abs(th_arc / (Math.PI * 0.5 + 0.001)));
                      result = (function() {
                        var _i, _results;
                        _results = [];
                        for (i = _i = 0; 0 <= segments ? _i < segments : _i > segments; i = 0 <= segments ? ++_i : --_i) {
                          th2 = th0 + i * th_arc / segments;
                          th3 = th0 + (i + 1) * th_arc / segments;
                          _results.push(segment_to_bezier(xc, yc, th2, th3, rx, ry, sin_th, cos_th));
                        }
                        return _results;
                      })();
                      return result;
                    };
                    return {
                      arc_to_bezier: arc_to_bezier
                    };
                  });
                
                }).call(this);
                
                /*
                //@ sourceMappingURL=bezier.js.map
                */;
                (function() {
                  var __hasProp = {}.hasOwnProperty,
                    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };
                
                  define('renderer/glyph/gear',["underscore", "gear_utils", "renderer/properties", "util/bezier", "./glyph"], function(_, GearUtils, Properties, Bezier, Glyph) {
                    var Gear, GearView, _ref, _ref1;
                    GearView = (function(_super) {
                      __extends(GearView, _super);
                
                      function GearView() {
                        _ref = GearView.__super__.constructor.apply(this, arguments);
                        return _ref;
                      }
                
                      GearView.prototype._fields = ['x', 'y', 'angle', 'module', 'teeth', 'pressure_angle', 'shaft_size', 'internal'];
                
                      GearView.prototype._properties = ['line', 'fill'];
                
                      GearView.prototype._map_data = function() {
                        var _ref1;
                        _ref1 = this.plot_view.map_to_screen(this.x, this.glyph_props.x.units, this.y, this.glyph_props.y.units), this.sx = _ref1[0], this.sy = _ref1[1];
                        return this.smodule = this.distance_vector('x', 'module', 'edge');
                      };
                
                      GearView.prototype._render = function(ctx, indices, glyph_props) {
                        var M, angle, fn, i, internal, j, module, pitch_radius, pressure_angle, rim_radius, rot, seq, seq0, shaft_radius, shaft_size, sx, sy, teeth, x, y, _i, _j, _len, _ref1, _ref2;
                        for (_i = 0, _len = indices.length; _i < _len; _i++) {
                          i = indices[_i];
                          _ref1 = [this.sx[i], this.sy[i], this.angle[i], this.smodule[i], this.teeth[i], this.pressure_angle[i], this.shaft_size[i], this.internal[i]], sx = _ref1[0], sy = _ref1[1], angle = _ref1[2], module = _ref1[3], teeth = _ref1[4], pressure_angle = _ref1[5], shaft_size = _ref1[6], internal = _ref1[7];
                          if (isNaN(sx + sy + angle + module + teeth + pressure_angle + shaft_size + internal)) {
                            continue;
                          }
                          pitch_radius = module * teeth / 2;
                          if (internal) {
                            fn = GearUtils.create_internal_gear_tooth;
                          } else {
                            fn = GearUtils.create_gear_tooth;
                          }
                          seq0 = fn(module, teeth, pressure_angle);
                          _ref2 = seq0.slice(0, 3), M = _ref2[0], x = _ref2[1], y = _ref2[2];
                          seq = seq0.slice(3);
                          ctx.save();
                          ctx.translate(sx, sy);
                          ctx.rotate(angle);
                          ctx.beginPath();
                          rot = 2 * Math.PI / teeth;
                          ctx.moveTo(x, y);
                          for (j = _j = 0; 0 <= teeth ? _j < teeth : _j > teeth; j = 0 <= teeth ? ++_j : --_j) {
                            this._render_seq(ctx, seq);
                            ctx.rotate(rot);
                          }
                          ctx.closePath();
                          if (internal) {
                            rim_radius = pitch_radius + 2.75 * module;
                            ctx.moveTo(rim_radius, 0);
                            ctx.arc(0, 0, rim_radius, 0, 2 * Math.PI, true);
                          } else if (shaft_size > 0) {
                            shaft_radius = pitch_radius * shaft_size;
                            ctx.moveTo(shaft_radius, 0);
                            ctx.arc(0, 0, shaft_radius, 0, 2 * Math.PI, true);
                          }
                          if (glyph_props.fill_properties.do_fill) {
                            glyph_props.fill_properties.set_vectorize(ctx, i);
                            ctx.fill();
                          }
                          if (glyph_props.line_properties.do_stroke) {
                            glyph_props.line_properties.set_vectorize(ctx, i);
                            ctx.stroke();
                          }
                          ctx.restore();
                        }
                      };
                
                      GearView.prototype._render_seq = function(ctx, seq) {
                        var c, cx0, cx1, cy0, cy1, i, large_arc, px, py, rx, ry, segments, sweep, x, x_rotation, y, _i, _len, _ref1, _ref10, _ref11, _ref2, _ref3, _ref4, _ref5, _ref6, _ref7, _ref8, _ref9;
                        i = 0;
                        while (i < seq.length) {
                          if (_.isString(seq[i])) {
                            c = seq[i];
                            i += 1;
                          }
                          switch (c) {
                            case "M":
                              _ref1 = seq.slice(i, i + 2), x = _ref1[0], y = _ref1[1];
                              ctx.moveTo(x, y);
                              _ref2 = [x, y], px = _ref2[0], py = _ref2[1];
                              i += 2;
                              break;
                            case "L":
                              _ref3 = seq.slice(i, i + 2), x = _ref3[0], y = _ref3[1];
                              ctx.lineTo(x, y);
                              _ref4 = [x, y], px = _ref4[0], py = _ref4[1];
                              i += 2;
                              break;
                            case "C":
                              _ref5 = seq.slice(i, i + 6), cx0 = _ref5[0], cy0 = _ref5[1], cx1 = _ref5[2], cy1 = _ref5[3], x = _ref5[4], y = _ref5[5];
                              ctx.bezierCurveTo(cx0, cy0, cx1, cy1, x, y);
                              _ref6 = [x, y], px = _ref6[0], py = _ref6[1];
                              i += 6;
                              break;
                            case "Q":
                              _ref7 = seq.slice(i, i + 4), cx0 = _ref7[0], cy0 = _ref7[1], x = _ref7[2], y = _ref7[3];
                              ctx.quadraticCurveTo(cx0, cy0, x, y);
                              _ref8 = [x, y], px = _ref8[0], py = _ref8[1];
                              i += 4;
                              break;
                            case "A":
                              _ref9 = seq.slice(i, i + 7), rx = _ref9[0], ry = _ref9[1], x_rotation = _ref9[2], large_arc = _ref9[3], sweep = _ref9[4], x = _ref9[5], y = _ref9[6];
                              segments = Bezier.arc_to_bezier(px, py, rx, ry, -x_rotation, large_arc, 1 - sweep, x, y);
                              for (_i = 0, _len = segments.length; _i < _len; _i++) {
                                _ref10 = segments[_i], cx0 = _ref10[0], cy0 = _ref10[1], cx1 = _ref10[2], cy1 = _ref10[3], x = _ref10[4], y = _ref10[5];
                                ctx.bezierCurveTo(cx0, cy0, cx1, cy1, x, y);
                              }
                              _ref11 = [x, y], px = _ref11[0], py = _ref11[1];
                              i += 7;
                              break;
                            default:
                              throw new Error("unexpected command: " + c);
                          }
                        }
                      };
                
                      GearView.prototype.draw_legend = function(ctx, x0, x1, y0, y1) {
                        return this._generic_line_legend(ctx, x0, x1, y0, y1);
                      };
                
                      return GearView;
                
                    })(Glyph.View);
                    Gear = (function(_super) {
                      __extends(Gear, _super);
                
                      function Gear() {
                        _ref1 = Gear.__super__.constructor.apply(this, arguments);
                        return _ref1;
                      }
                
                      Gear.prototype.default_view = GearView;
                
                      Gear.prototype.type = 'Glyph';
                
                      Gear.prototype.display_defaults = function() {
                        return _.extend({}, Gear.__super__.display_defaults.call(this), {
                          fill_color: 'gray',
                          fill_alpha: 1.0,
                          line_color: 'red',
                          line_width: 1,
                          line_alpha: 1.0,
                          line_join: 'miter',
                          line_cap: 'butt',
                          line_dash: [],
                          line_dash_offset: 0
                        });
                      };
                
                      return Gear;
                
                    })(Glyph.Model);
                    return {
                      Model: Gear,
                      View: GearView
                    };
                  });
                
                }).call(this);
                
                /*
                //@ sourceMappingURL=gear.js.map
                */;
                (function() {
                  define('palettes/colorbrewer',[], function() {
                    var colorbrewer;
                    return colorbrewer = {
                      YlGn: {
                        3: [0xf7fcb9, 0xaddd8e, 0x31a354],
                        4: [0xffffcc, 0xc2e699, 0x78c679, 0x238443],
                        5: [0xffffcc, 0xc2e699, 0x78c679, 0x31a354, 0x006837],
                        6: [0xffffcc, 0xd9f0a3, 0xaddd8e, 0x78c679, 0x31a354, 0x006837],
                        7: [0xffffcc, 0xd9f0a3, 0xaddd8e, 0x78c679, 0x41ab5d, 0x238443, 0x005a32],
                        8: [0xffffe5, 0xf7fcb9, 0xd9f0a3, 0xaddd8e, 0x78c679, 0x41ab5d, 0x238443, 0x005a32],
                        9: [0xffffe5, 0xf7fcb9, 0xd9f0a3, 0xaddd8e, 0x78c679, 0x41ab5d, 0x238443, 0x006837, 0x004529]
                      },
                      YlGnBu: {
                        3: [0xedf8b1, 0x7fcdbb, 0x2c7fb8],
                        4: [0xffffcc, 0xa1dab4, 0x41b6c4, 0x225ea8],
                        5: [0xffffcc, 0xa1dab4, 0x41b6c4, 0x2c7fb8, 0x253494],
                        6: [0xffffcc, 0xc7e9b4, 0x7fcdbb, 0x41b6c4, 0x2c7fb8, 0x253494],
                        7: [0xffffcc, 0xc7e9b4, 0x7fcdbb, 0x41b6c4, 0x1d91c0, 0x225ea8, 0x0c2c84],
                        8: [0xffffd9, 0xedf8b1, 0xc7e9b4, 0x7fcdbb, 0x41b6c4, 0x1d91c0, 0x225ea8, 0x0c2c84],
                        9: [0xffffd9, 0xedf8b1, 0xc7e9b4, 0x7fcdbb, 0x41b6c4, 0x1d91c0, 0x225ea8, 0x253494, 0x081d58]
                      },
                      GnBu: {
                        3: [0xe0f3db, 0xa8ddb5, 0x43a2ca],
                        4: [0xf0f9e8, 0xbae4bc, 0x7bccc4, 0x2b8cbe],
                        5: [0xf0f9e8, 0xbae4bc, 0x7bccc4, 0x43a2ca, 0x0868ac],
                        6: [0xf0f9e8, 0xccebc5, 0xa8ddb5, 0x7bccc4, 0x43a2ca, 0x0868ac],
                        7: [0xf0f9e8, 0xccebc5, 0xa8ddb5, 0x7bccc4, 0x4eb3d3, 0x2b8cbe, 0x08589e],
                        8: [0xf7fcf0, 0xe0f3db, 0xccebc5, 0xa8ddb5, 0x7bccc4, 0x4eb3d3, 0x2b8cbe, 0x08589e],
                        9: [0xf7fcf0, 0xe0f3db, 0xccebc5, 0xa8ddb5, 0x7bccc4, 0x4eb3d3, 0x2b8cbe, 0x0868ac, 0x084081]
                      },
                      BuGn: {
                        3: [0xe5f5f9, 0x99d8c9, 0x2ca25f],
                        4: [0xedf8fb, 0xb2e2e2, 0x66c2a4, 0x238b45],
                        5: [0xedf8fb, 0xb2e2e2, 0x66c2a4, 0x2ca25f, 0x006d2c],
                        6: [0xedf8fb, 0xccece6, 0x99d8c9, 0x66c2a4, 0x2ca25f, 0x006d2c],
                        7: [0xedf8fb, 0xccece6, 0x99d8c9, 0x66c2a4, 0x41ae76, 0x238b45, 0x005824],
                        8: [0xf7fcfd, 0xe5f5f9, 0xccece6, 0x99d8c9, 0x66c2a4, 0x41ae76, 0x238b45, 0x005824],
                        9: [0xf7fcfd, 0xe5f5f9, 0xccece6, 0x99d8c9, 0x66c2a4, 0x41ae76, 0x238b45, 0x006d2c, 0x00441b]
                      },
                      PuBuGn: {
                        3: [0xece2f0, 0xa6bddb, 0x1c9099],
                        4: [0xf6eff7, 0xbdc9e1, 0x67a9cf, 0x02818a],
                        5: [0xf6eff7, 0xbdc9e1, 0x67a9cf, 0x1c9099, 0x016c59],
                        6: [0xf6eff7, 0xd0d1e6, 0xa6bddb, 0x67a9cf, 0x1c9099, 0x016c59],
                        7: [0xf6eff7, 0xd0d1e6, 0xa6bddb, 0x67a9cf, 0x3690c0, 0x02818a, 0x016450],
                        8: [0xfff7fb, 0xece2f0, 0xd0d1e6, 0xa6bddb, 0x67a9cf, 0x3690c0, 0x02818a, 0x016450],
                        9: [0xfff7fb, 0xece2f0, 0xd0d1e6, 0xa6bddb, 0x67a9cf, 0x3690c0, 0x02818a, 0x016c59, 0x014636]
                      },
                      PuBu: {
                        3: [0xece7f2, 0xa6bddb, 0x2b8cbe],
                        4: [0xf1eef6, 0xbdc9e1, 0x74a9cf, 0x0570b0],
                        5: [0xf1eef6, 0xbdc9e1, 0x74a9cf, 0x2b8cbe, 0x045a8d],
                        6: [0xf1eef6, 0xd0d1e6, 0xa6bddb, 0x74a9cf, 0x2b8cbe, 0x045a8d],
                        7: [0xf1eef6, 0xd0d1e6, 0xa6bddb, 0x74a9cf, 0x3690c0, 0x0570b0, 0x034e7b],
                        8: [0xfff7fb, 0xece7f2, 0xd0d1e6, 0xa6bddb, 0x74a9cf, 0x3690c0, 0x0570b0, 0x034e7b],
                        9: [0xfff7fb, 0xece7f2, 0xd0d1e6, 0xa6bddb, 0x74a9cf, 0x3690c0, 0x0570b0, 0x045a8d, 0x023858]
                      },
                      BuPu: {
                        3: [0xe0ecf4, 0x9ebcda, 0x8856a7],
                        4: [0xedf8fb, 0xb3cde3, 0x8c96c6, 0x88419d],
                        5: [0xedf8fb, 0xb3cde3, 0x8c96c6, 0x8856a7, 0x810f7c],
                        6: [0xedf8fb, 0xbfd3e6, 0x9ebcda, 0x8c96c6, 0x8856a7, 0x810f7c],
                        7: [0xedf8fb, 0xbfd3e6, 0x9ebcda, 0x8c96c6, 0x8c6bb1, 0x88419d, 0x6e016b],
                        8: [0xf7fcfd, 0xe0ecf4, 0xbfd3e6, 0x9ebcda, 0x8c96c6, 0x8c6bb1, 0x88419d, 0x6e016b],
                        9: [0xf7fcfd, 0xe0ecf4, 0xbfd3e6, 0x9ebcda, 0x8c96c6, 0x8c6bb1, 0x88419d, 0x810f7c, 0x4d004b]
                      },
                      RdPu: {
                        3: [0xfde0dd, 0xfa9fb5, 0xc51b8a],
                        4: [0xfeebe2, 0xfbb4b9, 0xf768a1, 0xae017e],
                        5: [0xfeebe2, 0xfbb4b9, 0xf768a1, 0xc51b8a, 0x7a0177],
                        6: [0xfeebe2, 0xfcc5c0, 0xfa9fb5, 0xf768a1, 0xc51b8a, 0x7a0177],
                        7: [0xfeebe2, 0xfcc5c0, 0xfa9fb5, 0xf768a1, 0xdd3497, 0xae017e, 0x7a0177],
                        8: [0xfff7f3, 0xfde0dd, 0xfcc5c0, 0xfa9fb5, 0xf768a1, 0xdd3497, 0xae017e, 0x7a0177],
                        9: [0xfff7f3, 0xfde0dd, 0xfcc5c0, 0xfa9fb5, 0xf768a1, 0xdd3497, 0xae017e, 0x7a0177, 0x49006a]
                      },
                      PuRd: {
                        3: [0xe7e1ef, 0xc994c7, 0xdd1c77],
                        4: [0xf1eef6, 0xd7b5d8, 0xdf65b0, 0xce1256],
                        5: [0xf1eef6, 0xd7b5d8, 0xdf65b0, 0xdd1c77, 0x980043],
                        6: [0xf1eef6, 0xd4b9da, 0xc994c7, 0xdf65b0, 0xdd1c77, 0x980043],
                        7: [0xf1eef6, 0xd4b9da, 0xc994c7, 0xdf65b0, 0xe7298a, 0xce1256, 0x91003f],
                        8: [0xf7f4f9, 0xe7e1ef, 0xd4b9da, 0xc994c7, 0xdf65b0, 0xe7298a, 0xce1256, 0x91003f],
                        9: [0xf7f4f9, 0xe7e1ef, 0xd4b9da, 0xc994c7, 0xdf65b0, 0xe7298a, 0xce1256, 0x980043, 0x67001f]
                      },
                      OrRd: {
                        3: [0xfee8c8, 0xfdbb84, 0xe34a33],
                        4: [0xfef0d9, 0xfdcc8a, 0xfc8d59, 0xd7301f],
                        5: [0xfef0d9, 0xfdcc8a, 0xfc8d59, 0xe34a33, 0xb30000],
                        6: [0xfef0d9, 0xfdd49e, 0xfdbb84, 0xfc8d59, 0xe34a33, 0xb30000],
                        7: [0xfef0d9, 0xfdd49e, 0xfdbb84, 0xfc8d59, 0xef6548, 0xd7301f, 0x990000],
                        8: [0xfff7ec, 0xfee8c8, 0xfdd49e, 0xfdbb84, 0xfc8d59, 0xef6548, 0xd7301f, 0x990000],
                        9: [0xfff7ec, 0xfee8c8, 0xfdd49e, 0xfdbb84, 0xfc8d59, 0xef6548, 0xd7301f, 0xb30000, 0x7f0000]
                      },
                      YlOrRd: {
                        3: [0xffeda0, 0xfeb24c, 0xf03b20],
                        4: [0xffffb2, 0xfecc5c, 0xfd8d3c, 0xe31a1c],
                        5: [0xffffb2, 0xfecc5c, 0xfd8d3c, 0xf03b20, 0xbd0026],
                        6: [0xffffb2, 0xfed976, 0xfeb24c, 0xfd8d3c, 0xf03b20, 0xbd0026],
                        7: [0xffffb2, 0xfed976, 0xfeb24c, 0xfd8d3c, 0xfc4e2a, 0xe31a1c, 0xb10026],
                        8: [0xffffcc, 0xffeda0, 0xfed976, 0xfeb24c, 0xfd8d3c, 0xfc4e2a, 0xe31a1c, 0xb10026],
                        9: [0xffffcc, 0xffeda0, 0xfed976, 0xfeb24c, 0xfd8d3c, 0xfc4e2a, 0xe31a1c, 0xbd0026, 0x800026]
                      },
                      YlOrBr: {
                        3: [0xfff7bc, 0xfec44f, 0xd95f0e],
                        4: [0xffffd4, 0xfed98e, 0xfe9929, 0xcc4c02],
                        5: [0xffffd4, 0xfed98e, 0xfe9929, 0xd95f0e, 0x993404],
                        6: [0xffffd4, 0xfee391, 0xfec44f, 0xfe9929, 0xd95f0e, 0x993404],
                        7: [0xffffd4, 0xfee391, 0xfec44f, 0xfe9929, 0xec7014, 0xcc4c02, 0x8c2d04],
                        8: [0xffffe5, 0xfff7bc, 0xfee391, 0xfec44f, 0xfe9929, 0xec7014, 0xcc4c02, 0x8c2d04],
                        9: [0xffffe5, 0xfff7bc, 0xfee391, 0xfec44f, 0xfe9929, 0xec7014, 0xcc4c02, 0x993404, 0x662506]
                      },
                      Purples: {
                        3: [0xefedf5, 0xbcbddc, 0x756bb1],
                        4: [0xf2f0f7, 0xcbc9e2, 0x9e9ac8, 0x6a51a3],
                        5: [0xf2f0f7, 0xcbc9e2, 0x9e9ac8, 0x756bb1, 0x54278f],
                        6: [0xf2f0f7, 0xdadaeb, 0xbcbddc, 0x9e9ac8, 0x756bb1, 0x54278f],
                        7: [0xf2f0f7, 0xdadaeb, 0xbcbddc, 0x9e9ac8, 0x807dba, 0x6a51a3, 0x4a1486],
                        8: [0xfcfbfd, 0xefedf5, 0xdadaeb, 0xbcbddc, 0x9e9ac8, 0x807dba, 0x6a51a3, 0x4a1486],
                        9: [0xfcfbfd, 0xefedf5, 0xdadaeb, 0xbcbddc, 0x9e9ac8, 0x807dba, 0x6a51a3, 0x54278f, 0x3f007d]
                      },
                      Blues: {
                        3: [0xdeebf7, 0x9ecae1, 0x3182bd],
                        4: [0xeff3ff, 0xbdd7e7, 0x6baed6, 0x2171b5],
                        5: [0xeff3ff, 0xbdd7e7, 0x6baed6, 0x3182bd, 0x08519c],
                        6: [0xeff3ff, 0xc6dbef, 0x9ecae1, 0x6baed6, 0x3182bd, 0x08519c],
                        7: [0xeff3ff, 0xc6dbef, 0x9ecae1, 0x6baed6, 0x4292c6, 0x2171b5, 0x084594],
                        8: [0xf7fbff, 0xdeebf7, 0xc6dbef, 0x9ecae1, 0x6baed6, 0x4292c6, 0x2171b5, 0x084594],
                        9: [0xf7fbff, 0xdeebf7, 0xc6dbef, 0x9ecae1, 0x6baed6, 0x4292c6, 0x2171b5, 0x08519c, 0x08306b]
                      },
                      Greens: {
                        3: [0xe5f5e0, 0xa1d99b, 0x31a354],
                        4: [0xedf8e9, 0xbae4b3, 0x74c476, 0x238b45],
                        5: [0xedf8e9, 0xbae4b3, 0x74c476, 0x31a354, 0x006d2c],
                        6: [0xedf8e9, 0xc7e9c0, 0xa1d99b, 0x74c476, 0x31a354, 0x006d2c],
                        7: [0xedf8e9, 0xc7e9c0, 0xa1d99b, 0x74c476, 0x41ab5d, 0x238b45, 0x005a32],
                        8: [0xf7fcf5, 0xe5f5e0, 0xc7e9c0, 0xa1d99b, 0x74c476, 0x41ab5d, 0x238b45, 0x005a32],
                        9: [0xf7fcf5, 0xe5f5e0, 0xc7e9c0, 0xa1d99b, 0x74c476, 0x41ab5d, 0x238b45, 0x006d2c, 0x00441b]
                      },
                      Oranges: {
                        3: [0xfee6ce, 0xfdae6b, 0xe6550d],
                        4: [0xfeedde, 0xfdbe85, 0xfd8d3c, 0xd94701],
                        5: [0xfeedde, 0xfdbe85, 0xfd8d3c, 0xe6550d, 0xa63603],
                        6: [0xfeedde, 0xfdd0a2, 0xfdae6b, 0xfd8d3c, 0xe6550d, 0xa63603],
                        7: [0xfeedde, 0xfdd0a2, 0xfdae6b, 0xfd8d3c, 0xf16913, 0xd94801, 0x8c2d04],
                        8: [0xfff5eb, 0xfee6ce, 0xfdd0a2, 0xfdae6b, 0xfd8d3c, 0xf16913, 0xd94801, 0x8c2d04],
                        9: [0xfff5eb, 0xfee6ce, 0xfdd0a2, 0xfdae6b, 0xfd8d3c, 0xf16913, 0xd94801, 0xa63603, 0x7f2704]
                      },
                      Reds: {
                        3: [0xfee0d2, 0xfc9272, 0xde2d26],
                        4: [0xfee5d9, 0xfcae91, 0xfb6a4a, 0xcb181d],
                        5: [0xfee5d9, 0xfcae91, 0xfb6a4a, 0xde2d26, 0xa50f15],
                        6: [0xfee5d9, 0xfcbba1, 0xfc9272, 0xfb6a4a, 0xde2d26, 0xa50f15],
                        7: [0xfee5d9, 0xfcbba1, 0xfc9272, 0xfb6a4a, 0xef3b2c, 0xcb181d, 0x99000d],
                        8: [0xfff5f0, 0xfee0d2, 0xfcbba1, 0xfc9272, 0xfb6a4a, 0xef3b2c, 0xcb181d, 0x99000d],
                        9: [0xfff5f0, 0xfee0d2, 0xfcbba1, 0xfc9272, 0xfb6a4a, 0xef3b2c, 0xcb181d, 0xa50f15, 0x67000d]
                      },
                      Greys: {
                        3: [0xf0f0f0, 0xbdbdbd, 0x636363],
                        4: [0xf7f7f7, 0xcccccc, 0x969696, 0x525252],
                        5: [0xf7f7f7, 0xcccccc, 0x969696, 0x636363, 0x252525],
                        6: [0xf7f7f7, 0xd9d9d9, 0xbdbdbd, 0x969696, 0x636363, 0x252525],
                        7: [0xf7f7f7, 0xd9d9d9, 0xbdbdbd, 0x969696, 0x737373, 0x525252, 0x252525],
                        8: [0xffffff, 0xf0f0f0, 0xd9d9d9, 0xbdbdbd, 0x969696, 0x737373, 0x525252, 0x252525],
                        9: [0xffffff, 0xf0f0f0, 0xd9d9d9, 0xbdbdbd, 0x969696, 0x737373, 0x525252, 0x252525, 0x000000]
                      },
                      PuOr: {
                        3: [0xf1a340, 0xf7f7f7, 0x998ec3],
                        4: [0xe66101, 0xfdb863, 0xb2abd2, 0x5e3c99],
                        5: [0xe66101, 0xfdb863, 0xf7f7f7, 0xb2abd2, 0x5e3c99],
                        6: [0xb35806, 0xf1a340, 0xfee0b6, 0xd8daeb, 0x998ec3, 0x542788],
                        7: [0xb35806, 0xf1a340, 0xfee0b6, 0xf7f7f7, 0xd8daeb, 0x998ec3, 0x542788],
                        8: [0xb35806, 0xe08214, 0xfdb863, 0xfee0b6, 0xd8daeb, 0xb2abd2, 0x8073ac, 0x542788],
                        9: [0xb35806, 0xe08214, 0xfdb863, 0xfee0b6, 0xf7f7f7, 0xd8daeb, 0xb2abd2, 0x8073ac, 0x542788],
                        10: [0x7f3b08, 0xb35806, 0xe08214, 0xfdb863, 0xfee0b6, 0xd8daeb, 0xb2abd2, 0x8073ac, 0x542788, 0x2d004b],
                        11: [0x7f3b08, 0xb35806, 0xe08214, 0xfdb863, 0xfee0b6, 0xf7f7f7, 0xd8daeb, 0xb2abd2, 0x8073ac, 0x542788, 0x2d004b]
                      },
                      BrBG: {
                        3: [0xd8b365, 0xf5f5f5, 0x5ab4ac],
                        4: [0xa6611a, 0xdfc27d, 0x80cdc1, 0x018571],
                        5: [0xa6611a, 0xdfc27d, 0xf5f5f5, 0x80cdc1, 0x018571],
                        6: [0x8c510a, 0xd8b365, 0xf6e8c3, 0xc7eae5, 0x5ab4ac, 0x01665e],
                        7: [0x8c510a, 0xd8b365, 0xf6e8c3, 0xf5f5f5, 0xc7eae5, 0x5ab4ac, 0x01665e],
                        8: [0x8c510a, 0xbf812d, 0xdfc27d, 0xf6e8c3, 0xc7eae5, 0x80cdc1, 0x35978f, 0x01665e],
                        9: [0x8c510a, 0xbf812d, 0xdfc27d, 0xf6e8c3, 0xf5f5f5, 0xc7eae5, 0x80cdc1, 0x35978f, 0x01665e],
                        10: [0x543005, 0x8c510a, 0xbf812d, 0xdfc27d, 0xf6e8c3, 0xc7eae5, 0x80cdc1, 0x35978f, 0x01665e, 0x003c30],
                        11: [0x543005, 0x8c510a, 0xbf812d, 0xdfc27d, 0xf6e8c3, 0xf5f5f5, 0xc7eae5, 0x80cdc1, 0x35978f, 0x01665e, 0x003c30]
                      },
                      PRGn: {
                        3: [0xaf8dc3, 0xf7f7f7, 0x7fbf7b],
                        4: [0x7b3294, 0xc2a5cf, 0xa6dba0, 0x008837],
                        5: [0x7b3294, 0xc2a5cf, 0xf7f7f7, 0xa6dba0, 0x008837],
                        6: [0x762a83, 0xaf8dc3, 0xe7d4e8, 0xd9f0d3, 0x7fbf7b, 0x1b7837],
                        7: [0x762a83, 0xaf8dc3, 0xe7d4e8, 0xf7f7f7, 0xd9f0d3, 0x7fbf7b, 0x1b7837],
                        8: [0x762a83, 0x9970ab, 0xc2a5cf, 0xe7d4e8, 0xd9f0d3, 0xa6dba0, 0x5aae61, 0x1b7837],
                        9: [0x762a83, 0x9970ab, 0xc2a5cf, 0xe7d4e8, 0xf7f7f7, 0xd9f0d3, 0xa6dba0, 0x5aae61, 0x1b7837],
                        10: [0x40004b, 0x762a83, 0x9970ab, 0xc2a5cf, 0xe7d4e8, 0xd9f0d3, 0xa6dba0, 0x5aae61, 0x1b7837, 0x00441b],
                        11: [0x40004b, 0x762a83, 0x9970ab, 0xc2a5cf, 0xe7d4e8, 0xf7f7f7, 0xd9f0d3, 0xa6dba0, 0x5aae61, 0x1b7837, 0x00441b]
                      },
                      PiYG: {
                        3: [0xe9a3c9, 0xf7f7f7, 0xa1d76a],
                        4: [0xd01c8b, 0xf1b6da, 0xb8e186, 0x4dac26],
                        5: [0xd01c8b, 0xf1b6da, 0xf7f7f7, 0xb8e186, 0x4dac26],
                        6: [0xc51b7d, 0xe9a3c9, 0xfde0ef, 0xe6f5d0, 0xa1d76a, 0x4d9221],
                        7: [0xc51b7d, 0xe9a3c9, 0xfde0ef, 0xf7f7f7, 0xe6f5d0, 0xa1d76a, 0x4d9221],
                        8: [0xc51b7d, 0xde77ae, 0xf1b6da, 0xfde0ef, 0xe6f5d0, 0xb8e186, 0x7fbc41, 0x4d9221],
                        9: [0xc51b7d, 0xde77ae, 0xf1b6da, 0xfde0ef, 0xf7f7f7, 0xe6f5d0, 0xb8e186, 0x7fbc41, 0x4d9221],
                        10: [0x8e0152, 0xc51b7d, 0xde77ae, 0xf1b6da, 0xfde0ef, 0xe6f5d0, 0xb8e186, 0x7fbc41, 0x4d9221, 0x276419],
                        11: [0x8e0152, 0xc51b7d, 0xde77ae, 0xf1b6da, 0xfde0ef, 0xf7f7f7, 0xe6f5d0, 0xb8e186, 0x7fbc41, 0x4d9221, 0x276419]
                      },
                      RdBu: {
                        3: [0xef8a62, 0xf7f7f7, 0x67a9cf],
                        4: [0xca0020, 0xf4a582, 0x92c5de, 0x0571b0],
                        5: [0xca0020, 0xf4a582, 0xf7f7f7, 0x92c5de, 0x0571b0],
                        6: [0xb2182b, 0xef8a62, 0xfddbc7, 0xd1e5f0, 0x67a9cf, 0x2166ac],
                        7: [0xb2182b, 0xef8a62, 0xfddbc7, 0xf7f7f7, 0xd1e5f0, 0x67a9cf, 0x2166ac],
                        8: [0xb2182b, 0xd6604d, 0xf4a582, 0xfddbc7, 0xd1e5f0, 0x92c5de, 0x4393c3, 0x2166ac],
                        9: [0xb2182b, 0xd6604d, 0xf4a582, 0xfddbc7, 0xf7f7f7, 0xd1e5f0, 0x92c5de, 0x4393c3, 0x2166ac],
                        10: [0x67001f, 0xb2182b, 0xd6604d, 0xf4a582, 0xfddbc7, 0xd1e5f0, 0x92c5de, 0x4393c3, 0x2166ac, 0x053061],
                        11: [0x67001f, 0xb2182b, 0xd6604d, 0xf4a582, 0xfddbc7, 0xf7f7f7, 0xd1e5f0, 0x92c5de, 0x4393c3, 0x2166ac, 0x053061]
                      },
                      RdGy: {
                        3: [0xef8a62, 0xffffff, 0x999999],
                        4: [0xca0020, 0xf4a582, 0xbababa, 0x404040],
                        5: [0xca0020, 0xf4a582, 0xffffff, 0xbababa, 0x404040],
                        6: [0xb2182b, 0xef8a62, 0xfddbc7, 0xe0e0e0, 0x999999, 0x4d4d4d],
                        7: [0xb2182b, 0xef8a62, 0xfddbc7, 0xffffff, 0xe0e0e0, 0x999999, 0x4d4d4d],
                        8: [0xb2182b, 0xd6604d, 0xf4a582, 0xfddbc7, 0xe0e0e0, 0xbababa, 0x878787, 0x4d4d4d],
                        9: [0xb2182b, 0xd6604d, 0xf4a582, 0xfddbc7, 0xffffff, 0xe0e0e0, 0xbababa, 0x878787, 0x4d4d4d],
                        10: [0x67001f, 0xb2182b, 0xd6604d, 0xf4a582, 0xfddbc7, 0xe0e0e0, 0xbababa, 0x878787, 0x4d4d4d, 0x1a1a1a],
                        11: [0x67001f, 0xb2182b, 0xd6604d, 0xf4a582, 0xfddbc7, 0xffffff, 0xe0e0e0, 0xbababa, 0x878787, 0x4d4d4d, 0x1a1a1a]
                      },
                      RdYlBu: {
                        3: [0xfc8d59, 0xffffbf, 0x91bfdb],
                        4: [0xd7191c, 0xfdae61, 0xabd9e9, 0x2c7bb6],
                        5: [0xd7191c, 0xfdae61, 0xffffbf, 0xabd9e9, 0x2c7bb6],
                        6: [0xd73027, 0xfc8d59, 0xfee090, 0xe0f3f8, 0x91bfdb, 0x4575b4],
                        7: [0xd73027, 0xfc8d59, 0xfee090, 0xffffbf, 0xe0f3f8, 0x91bfdb, 0x4575b4],
                        8: [0xd73027, 0xf46d43, 0xfdae61, 0xfee090, 0xe0f3f8, 0xabd9e9, 0x74add1, 0x4575b4],
                        9: [0xd73027, 0xf46d43, 0xfdae61, 0xfee090, 0xffffbf, 0xe0f3f8, 0xabd9e9, 0x74add1, 0x4575b4],
                        10: [0xa50026, 0xd73027, 0xf46d43, 0xfdae61, 0xfee090, 0xe0f3f8, 0xabd9e9, 0x74add1, 0x4575b4, 0x313695],
                        11: [0xa50026, 0xd73027, 0xf46d43, 0xfdae61, 0xfee090, 0xffffbf, 0xe0f3f8, 0xabd9e9, 0x74add1, 0x4575b4, 0x313695]
                      },
                      Spectral: {
                        3: [0xfc8d59, 0xffffbf, 0x99d594],
                        4: [0xd7191c, 0xfdae61, 0xabdda4, 0x2b83ba],
                        5: [0xd7191c, 0xfdae61, 0xffffbf, 0xabdda4, 0x2b83ba],
                        6: [0xd53e4f, 0xfc8d59, 0xfee08b, 0xe6f598, 0x99d594, 0x3288bd],
                        7: [0xd53e4f, 0xfc8d59, 0xfee08b, 0xffffbf, 0xe6f598, 0x99d594, 0x3288bd],
                        8: [0xd53e4f, 0xf46d43, 0xfdae61, 0xfee08b, 0xe6f598, 0xabdda4, 0x66c2a5, 0x3288bd],
                        9: [0xd53e4f, 0xf46d43, 0xfdae61, 0xfee08b, 0xffffbf, 0xe6f598, 0xabdda4, 0x66c2a5, 0x3288bd],
                        10: [0x9e0142, 0xd53e4f, 0xf46d43, 0xfdae61, 0xfee08b, 0xe6f598, 0xabdda4, 0x66c2a5, 0x3288bd, 0x5e4fa2],
                        11: [0x9e0142, 0xd53e4f, 0xf46d43, 0xfdae61, 0xfee08b, 0xffffbf, 0xe6f598, 0xabdda4, 0x66c2a5, 0x3288bd, 0x5e4fa2]
                      },
                      RdYlGn: {
                        3: [0xfc8d59, 0xffffbf, 0x91cf60],
                        4: [0xd7191c, 0xfdae61, 0xa6d96a, 0x1a9641],
                        5: [0xd7191c, 0xfdae61, 0xffffbf, 0xa6d96a, 0x1a9641],
                        6: [0xd73027, 0xfc8d59, 0xfee08b, 0xd9ef8b, 0x91cf60, 0x1a9850],
                        7: [0xd73027, 0xfc8d59, 0xfee08b, 0xffffbf, 0xd9ef8b, 0x91cf60, 0x1a9850],
                        8: [0xd73027, 0xf46d43, 0xfdae61, 0xfee08b, 0xd9ef8b, 0xa6d96a, 0x66bd63, 0x1a9850],
                        9: [0xd73027, 0xf46d43, 0xfdae61, 0xfee08b, 0xffffbf, 0xd9ef8b, 0xa6d96a, 0x66bd63, 0x1a9850],
                        10: [0xa50026, 0xd73027, 0xf46d43, 0xfdae61, 0xfee08b, 0xd9ef8b, 0xa6d96a, 0x66bd63, 0x1a9850, 0x006837],
                        11: [0xa50026, 0xd73027, 0xf46d43, 0xfdae61, 0xfee08b, 0xffffbf, 0xd9ef8b, 0xa6d96a, 0x66bd63, 0x1a9850, 0x006837]
                      }
                    };
                  });
                
                }).call(this);
                
                /*
                //@ sourceMappingURL=colorbrewer.js.map
                */;
                (function() {
                  define('palettes/palettes',["./colorbrewer"], function(colorbrewer) {
                    var all_palettes, items, name, num, pal;
                    all_palettes = {};
                    for (name in colorbrewer) {
                      items = colorbrewer[name];
                      for (num in items) {
                        pal = items[num];
                        all_palettes["" + name + "-" + num] = pal.reverse();
                      }
                    }
                    return {
                      "all_palettes": all_palettes
                    };
                  });
                
                }).call(this);
                
                /*
                //@ sourceMappingURL=palettes.js.map
                */;
                (function() {
                  var __hasProp = {}.hasOwnProperty,
                    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };
                
                  define('renderer/glyph/image',["underscore", "renderer/properties", "mapper/color/linear_color_mapper", "palettes/palettes", "./glyph"], function(_, Properties, LinearColorMapper, Palettes, Glyph) {
                    var ImageGlyph, ImageView, all_palettes, _ref, _ref1;
                    all_palettes = Palettes.all_palettes;
                    ImageView = (function(_super) {
                      __extends(ImageView, _super);
                
                      function ImageView() {
                        _ref = ImageView.__super__.constructor.apply(this, arguments);
                        return _ref;
                      }
                
                      ImageView.prototype._properties = [];
                
                      ImageView.prototype.initialize = function(options) {
                        var spec;
                        spec = this.mget('glyphspec');
                        if (spec.rows != null) {
                          this._fields = ['image:array', 'rows', 'cols', 'x', 'y', 'dw', 'dh', 'palette:string', 'reserve_val', 'reserve_color'];
                        } else {
                          this._fields = ['image:array', 'x', 'y', 'dw', 'dh', 'palette:string', 'reserve_val', 'reserve_color'];
                        }
                        return ImageView.__super__.initialize.call(this, options);
                      };
                
                      ImageView.prototype._set_data = function(data) {
                        var buf, buf8, canvas, cmap, ctx, i, image_data, img, _i, _ref1, _results;
                        this.data = data;
                        if ((this.image_data == null) || this.image_data.length !== this.image.length) {
                          this.image_data = new Array(this.image.length);
                        }
                        if ((this.width == null) || this.width.length !== this.image.length) {
                          this.width = new Array(this.image.length);
                        }
                        if ((this.height == null) || this.height.length !== this.image.length) {
                          this.height = new Array(this.image.length);
                        }
                        _results = [];
                        for (i = _i = 0, _ref1 = this.image.length; 0 <= _ref1 ? _i < _ref1 : _i > _ref1; i = 0 <= _ref1 ? ++_i : --_i) {
                          if (this.rows != null) {
                            this.height[i] = this.rows[i];
                            this.width[i] = this.cols[i];
                          } else {
                            this.height[i] = this.image[i].length;
                            this.width[i] = this.image[i][0].length;
                          }
                          canvas = document.createElement('canvas');
                          canvas.width = this.width[i];
                          canvas.height = this.height[i];
                          ctx = canvas.getContext('2d');
                          image_data = ctx.getImageData(0, 0, this.width[i], this.height[i]);
                          cmap = new LinearColorMapper.Model({
                            palette: all_palettes[this.palette[i]],
                            reserve_val: this.reserve_val,
                            reserve_color: this.reserve_color
                          });
                          if (this.rows != null) {
                            img = this.image[i];
                          } else {
                            img = _.flatten(this.image[i]);
                          }
                          buf = cmap.v_map_screen(img);
                          buf8 = new Uint8ClampedArray(buf);
                          image_data.data.set(buf8);
                          ctx.putImageData(image_data, 0, 0);
                          _results.push(this.image_data[i] = canvas);
                        }
                        return _results;
                      };
                
                      ImageView.prototype._map_data = function() {
                        var _ref1;
                        _ref1 = this.plot_view.map_to_screen(this.x, this.glyph_props.x.units, this.y, this.glyph_props.y.units), this.sx = _ref1[0], this.sy = _ref1[1];
                        this.sw = this.distance_vector('x', 'dw', 'edge', this.mget('glyphspec')['dilate']);
                        return this.sh = this.distance_vector('y', 'dh', 'edge', this.mget('glyphspec')['dilate']);
                      };
                
                      ImageView.prototype._render = function(ctx, indices, glyph_props) {
                        var i, old_smoothing, y_offset, _i, _len;
                        old_smoothing = ctx.getImageSmoothingEnabled();
                        ctx.setImageSmoothingEnabled(false);
                        for (_i = 0, _len = indices.length; _i < _len; _i++) {
                          i = indices[_i];
                          if (this.image_data[i] == null) {
                            continue;
                          }
                          if (isNaN(this.sx[i] + this.sy[i] + this.sw[i] + this.sh[i])) {
                            continue;
                          }
                          y_offset = this.sy[i];
                          ctx.translate(0, y_offset);
                          ctx.scale(1, -1);
                          ctx.translate(0, -y_offset);
                          ctx.drawImage(this.image_data[i], this.sx[i] | 0, this.sy[i] | 0, this.sw[i], this.sh[i]);
                          ctx.translate(0, y_offset);
                          ctx.scale(1, -1);
                          ctx.translate(0, -y_offset);
                        }
                        return ctx.setImageSmoothingEnabled(old_smoothing);
                      };
                
                      return ImageView;
                
                    })(Glyph.View);
                    ImageGlyph = (function(_super) {
                      __extends(ImageGlyph, _super);
                
                      function ImageGlyph() {
                        _ref1 = ImageGlyph.__super__.constructor.apply(this, arguments);
                        return _ref1;
                      }
                
                      ImageGlyph.prototype.default_view = ImageView;
                
                      ImageGlyph.prototype.type = 'Glyph';
                
                      ImageGlyph.prototype.display_defaults = function() {
                        return _.extend(ImageGlyph.__super__.display_defaults.call(this), {
                          level: 'underlay',
                          dilate: false
                        });
                      };
                
                      return ImageGlyph;
                
                    })(Glyph.Model);
                    return {
                      "Model": ImageGlyph,
                      "View": ImageView
                    };
                  });
                
                }).call(this);
                
                /*
                //@ sourceMappingURL=image.js.map
                */;
                (function() {
                  var __hasProp = {}.hasOwnProperty,
                    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };
                
                  define('renderer/glyph/image_rgba',["underscore", "renderer/properties", "./glyph"], function(_, Properties, Glyph) {
                    var ImageRGBAGlyph, ImageRGBAView, glyph_properties, _ref, _ref1;
                    glyph_properties = Properties.glyph_properties;
                    ImageRGBAView = (function(_super) {
                      __extends(ImageRGBAView, _super);
                
                      function ImageRGBAView() {
                        _ref = ImageRGBAView.__super__.constructor.apply(this, arguments);
                        return _ref;
                      }
                
                      ImageRGBAView.prototype._properties = [];
                
                      ImageRGBAView.prototype.initialize = function(options) {
                        var spec;
                        spec = this.mget('glyphspec');
                        if (spec.rows != null) {
                          this._fields = ['image:array', 'rows', 'cols', 'x', 'y', 'dw', 'dh'];
                        } else {
                          this._fields = ['image:array', 'x', 'y', 'dw', 'dh'];
                        }
                        return ImageRGBAView.__super__.initialize.call(this, options);
                      };
                
                      ImageRGBAView.prototype._set_data = function() {
                        var buf, buf8, canvas, color, ctx, flat, i, image_data, j, _i, _j, _ref1, _ref2, _results;
                        if ((this.image_data == null) || this.image_data.length !== this.image.length) {
                          this.image_data = new Array(this.image.length);
                        }
                        if ((this.width == null) || this.width.length !== this.image.length) {
                          this.width = new Array(this.image.length);
                        }
                        if ((this.height == null) || this.height.length !== this.image.length) {
                          this.height = new Array(this.image.length);
                        }
                        _results = [];
                        for (i = _i = 0, _ref1 = this.image.length; 0 <= _ref1 ? _i < _ref1 : _i > _ref1; i = 0 <= _ref1 ? ++_i : --_i) {
                          if (this.rows != null) {
                            this.height[i] = this.rows[i];
                            this.width[i] = this.cols[i];
                          } else {
                            this.height[i] = this.image[i].length;
                            this.width[i] = this.image[i][0].length;
                          }
                          canvas = document.createElement('canvas');
                          canvas.width = this.width[i];
                          canvas.height = this.height[i];
                          ctx = canvas.getContext('2d');
                          image_data = ctx.getImageData(0, 0, this.width[i], this.height[i]);
                          if (this.rows != null) {
                            image_data.data.set(new Uint8ClampedArray(this.image[i]));
                          } else {
                            flat = _.flatten(this.image[i]);
                            buf = new ArrayBuffer(flat.length * 4);
                            color = new Uint32Array(buf);
                            for (j = _j = 0, _ref2 = flat.length; 0 <= _ref2 ? _j < _ref2 : _j > _ref2; j = 0 <= _ref2 ? ++_j : --_j) {
                              color[j] = flat[j];
                            }
                            buf8 = new Uint8ClampedArray(buf);
                            image_data.data.set(buf8);
                          }
                          ctx.putImageData(image_data, 0, 0);
                          _results.push(this.image_data[i] = canvas);
                        }
                        return _results;
                      };
                
                      ImageRGBAView.prototype._map_data = function() {
                        var _ref1;
                        _ref1 = this.plot_view.map_to_screen(this.x, this.glyph_props.x.units, this.y, this.glyph_props.y.units), this.sx = _ref1[0], this.sy = _ref1[1];
                        this.sw = this.distance_vector('x', 'dw', 'edge', this.mget('glyphspec')['dilate']);
                        return this.sh = this.distance_vector('y', 'dh', 'edge', this.mget('glyphspec')['dilate']);
                      };
                
                      ImageRGBAView.prototype._render = function(ctx, indices, glyph_props) {
                        var i, old_smoothing, y_offset, _i, _len;
                        old_smoothing = ctx.getImageSmoothingEnabled();
                        ctx.setImageSmoothingEnabled(false);
                        for (_i = 0, _len = indices.length; _i < _len; _i++) {
                          i = indices[_i];
                          if (isNaN(this.sx[i] + this.sy[i] + this.sw[i] + this.sh[i])) {
                            continue;
                          }
                          y_offset = this.sy[i];
                          ctx.translate(0, y_offset);
                          ctx.scale(1, -1);
                          ctx.translate(0, -y_offset);
                          ctx.drawImage(this.image_data[i], this.sx[i] | 0, this.sy[i] | 0, this.sw[i], this.sh[i]);
                          ctx.translate(0, y_offset);
                          ctx.scale(1, -1);
                          ctx.translate(0, -y_offset);
                        }
                        return ctx.setImageSmoothingEnabled(old_smoothing);
                      };
                
                      return ImageRGBAView;
                
                    })(Glyph.View);
                    ImageRGBAGlyph = (function(_super) {
                      __extends(ImageRGBAGlyph, _super);
                
                      function ImageRGBAGlyph() {
                        _ref1 = ImageRGBAGlyph.__super__.constructor.apply(this, arguments);
                        return _ref1;
                      }
                
                      ImageRGBAGlyph.prototype.default_view = ImageRGBAView;
                
                      ImageRGBAGlyph.prototype.type = 'Glyph';
                
                      ImageRGBAGlyph.prototype.display_defaults = function() {
                        return _.extend(ImageRGBAGlyph.__super__.display_defaults.call(this), {
                          level: 'underlay',
                          dilate: false
                        });
                      };
                
                      return ImageRGBAGlyph;
                
                    })(Glyph.Model);
                    return {
                      "Model": ImageRGBAGlyph,
                      "View": ImageRGBAView
                    };
                  });
                
                }).call(this);
                
                /*
                //@ sourceMappingURL=image_rgba.js.map
                */;
                (function() {
                  var __hasProp = {}.hasOwnProperty,
                    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };
                
                  define('renderer/glyph/image_url',["underscore", "renderer/properties", "./glyph"], function(_, Properties, Glyph) {
                    var ImageURLGlyph, ImageURLView, glyph_properties, _ref, _ref1;
                    glyph_properties = Properties.glyph_properties;
                    ImageURLView = (function(_super) {
                      __extends(ImageURLView, _super);
                
                      function ImageURLView() {
                        _ref = ImageURLView.__super__.constructor.apply(this, arguments);
                        return _ref;
                      }
                
                      ImageURLView.prototype._fields = ['url:string', 'x', 'y', 'w', 'h', 'angle'];
                
                      ImageURLView.prototype._properties = [];
                
                      ImageURLView.prototype._set_data = function(data) {
                        var img;
                        this.data = data;
                        this.image = (function() {
                          var _i, _len, _ref1, _results;
                          _ref1 = this.url;
                          _results = [];
                          for (_i = 0, _len = _ref1.length; _i < _len; _i++) {
                            img = _ref1[_i];
                            _results.push(null);
                          }
                          return _results;
                        }).call(this);
                        this.need_load = (function() {
                          var _i, _len, _ref1, _results;
                          _ref1 = this.url;
                          _results = [];
                          for (_i = 0, _len = _ref1.length; _i < _len; _i++) {
                            img = _ref1[_i];
                            _results.push(true);
                          }
                          return _results;
                        }).call(this);
                        return this.loaded = (function() {
                          var _i, _len, _ref1, _results;
                          _ref1 = this.url;
                          _results = [];
                          for (_i = 0, _len = _ref1.length; _i < _len; _i++) {
                            img = _ref1[_i];
                            _results.push(false);
                          }
                          return _results;
                        }).call(this);
                      };
                
                      ImageURLView.prototype._map_data = function() {
                        var _ref1;
                        _ref1 = this.plot_view.map_to_screen(this.x, this.glyph_props.x.units, this.y, this.glyph_props.y.units), this.sx = _ref1[0], this.sy = _ref1[1];
                        this.sw = this.distance_vector('x', 'w', 'edge', this.mget('glyphspec')['dilate']);
                        return this.sh = this.distance_vector('y', 'h', 'edge', this.mget('glyphspec')['dilate']);
                      };
                
                      ImageURLView.prototype._render = function(ctx, indices, glyph_props) {
                        var i, img, vs, _i, _len, _results,
                          _this = this;
                        _results = [];
                        for (_i = 0, _len = indices.length; _i < _len; _i++) {
                          i = indices[_i];
                          if (isNaN(this.sx[i] + this.sy[i] + this.angle[i])) {
                            continue;
                          }
                          if (this.need_load[i]) {
                            img = new Image();
                            img.onload = (function(img, i) {
                              return function() {
                                var vs;
                                _this.loaded[i] = true;
                                _this.image[i] = img;
                                ctx.save();
                                ctx.beginPath();
                                vs = _this.plot_view.view_state;
                                ctx.rect(vs.get('border_left') + 1, vs.get('border_top') + 1, vs.get('inner_width') - 2, vs.get('inner_height') - 2);
                                ctx.clip();
                                _this._render_image(ctx, vs, i, img);
                                return ctx.restore();
                              };
                            })(img, i);
                            img.src = this.url[i];
                            _results.push(this.need_load[i] = false);
                          } else if (this.loaded[i]) {
                            vs = this.plot_view.view_state;
                            _results.push(this._render_image(ctx, vs, i, this.image[i]));
                          } else {
                            _results.push(void 0);
                          }
                        }
                        return _results;
                      };
                
                      ImageURLView.prototype._final_sx_sy = function() {
                        var anchor,
                          _this = this;
                        anchor = this.mget('glyphspec').anchor || "top_left";
                        switch (anchor) {
                          case "top_left":
                            return function(i) {
                              return [_this.sx[i], _this.sy[i]];
                            };
                          case "top_center":
                            return function(i) {
                              return [_this.sx[i] - _this.sw[i] / 2, _this.sy[i]];
                            };
                          case "top_right":
                            return function(i) {
                              return [_this.sx[i] - _this.sw[i], _this.sy[i]];
                            };
                          case "right_center":
                            return function(i) {
                              return [_this.sx[i] - _this.sw[i], _this.sy[i] - _this.sh[i] / 2];
                            };
                          case "bottom_right":
                            return function(i) {
                              return [_this.sx[i] - _this.sw[i], _this.sy[i] - _this.sh[i]];
                            };
                          case "bottom_center":
                            return function(i) {
                              return [_this.sx[i] - _this.sw[i] / 2, _this.sy[i] - _this.sh[i]];
                            };
                          case "bottom_left":
                            return function(i) {
                              return [_this.sx[i], _this.sy[i] - _this.sh[i]];
                            };
                          case "left_center":
                            return function(i) {
                              return [_this.sx[i], _this.sy[i] - _this.sh[i] / 2];
                            };
                          case "center":
                            return function(i) {
                              return [_this.sx[i] - _this.sw[i] / 2, _this.sy[i] - _this.sh[i] / 2];
                            };
                        }
                      };
                
                      ImageURLView.prototype._render_image = function(ctx, vs, i, img) {
                        var sx, sy, _ref1;
                        if (isNaN(this.sw[i])) {
                          this.sw[i] = img.width;
                        }
                        if (isNaN(this.sh[i])) {
                          this.sh[i] = img.height;
                        }
                        _ref1 = this._final_sx_sy()(i), sx = _ref1[0], sy = _ref1[1];
                        if (this.angle[i]) {
                          ctx.translate(sx, sy);
                          ctx.rotate(this.angle[i]);
                          ctx.drawImage(img, 0, 0, this.sw[i], this.sh[i]);
                          ctx.rotate(-this.angle[i]);
                          return ctx.translate(-sx, -sy);
                        } else {
                          return ctx.drawImage(img, sx, sy, this.sw[i], this.sh[i]);
                        }
                      };
                
                      return ImageURLView;
                
                    })(Glyph.View);
                    ImageURLGlyph = (function(_super) {
                      __extends(ImageURLGlyph, _super);
                
                      function ImageURLGlyph() {
                        _ref1 = ImageURLGlyph.__super__.constructor.apply(this, arguments);
                        return _ref1;
                      }
                
                      ImageURLGlyph.prototype.default_view = ImageURLView;
                
                      ImageURLGlyph.prototype.type = 'Glyph';
                
                      ImageURLGlyph.prototype.display_defaults = function() {
                        return _.extend(ImageURLGlyph.__super__.display_defaults.call(this), {
                          level: 'underlay'
                        });
                      };
                
                      return ImageURLGlyph;
                
                    })(Glyph.Model);
                    return {
                      "Model": ImageURLGlyph,
                      "View": ImageURLView
                    };
                  });
                
                }).call(this);
                
                /*
                //@ sourceMappingURL=image_url.js.map
                */;
                (function() {
                  var __hasProp = {}.hasOwnProperty,
                    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };
                
                  define('renderer/glyph/inverted_triangle',["underscore", "renderer/properties", "./marker"], function(_, Properties, Marker) {
                    var InvertedTriangle, InvertedTriangleView, _ref, _ref1;
                    InvertedTriangleView = (function(_super) {
                      __extends(InvertedTriangleView, _super);
                
                      function InvertedTriangleView() {
                        _ref = InvertedTriangleView.__super__.constructor.apply(this, arguments);
                        return _ref;
                      }
                
                      InvertedTriangleView.prototype._fields = ['x', 'y', 'size'];
                
                      InvertedTriangleView.prototype._properties = ['line', 'fill'];
                
                      InvertedTriangleView.prototype._render = function(ctx, indices, glyph_props, sx, sy, size) {
                        var a, h, i, r, _i, _len, _results;
                        if (sx == null) {
                          sx = this.sx;
                        }
                        if (sy == null) {
                          sy = this.sy;
                        }
                        if (size == null) {
                          size = this.size;
                        }
                        _results = [];
                        for (_i = 0, _len = indices.length; _i < _len; _i++) {
                          i = indices[_i];
                          if (isNaN(sx[i] + sy[i] + size[i])) {
                            continue;
                          }
                          a = size[i] * Math.sqrt(3) / 6;
                          r = size[i] / 2;
                          h = size[i] * Math.sqrt(3) / 2;
                          ctx.beginPath();
                          ctx.moveTo(sx[i] - r, sy[i] - a);
                          ctx.lineTo(sx[i] + r, sy[i] - a);
                          ctx.lineTo(sx[i], sy[i] - a + h);
                          ctx.closePath();
                          if (glyph_props.fill_properties.do_fill) {
                            glyph_props.fill_properties.set_vectorize(ctx, i);
                            ctx.fill();
                          }
                          if (glyph_props.line_properties.do_stroke) {
                            glyph_props.line_properties.set_vectorize(ctx, i);
                            _results.push(ctx.stroke());
                          } else {
                            _results.push(void 0);
                          }
                        }
                        return _results;
                      };
                
                      return InvertedTriangleView;
                
                    })(Marker.View);
                    InvertedTriangle = (function(_super) {
                      __extends(InvertedTriangle, _super);
                
                      function InvertedTriangle() {
                        _ref1 = InvertedTriangle.__super__.constructor.apply(this, arguments);
                        return _ref1;
                      }
                
                      InvertedTriangle.prototype.default_view = InvertedTriangleView;
                
                      InvertedTriangle.prototype.type = 'Glyph';
                
                      InvertedTriangle.prototype.display_defaults = function() {
                        return _.extend(InvertedTriangle.__super__.display_defaults.call(this), {
                          fill_color: 'gray',
                          fill_alpha: 1.0,
                          line_color: 'red',
                          line_width: 1,
                          line_alpha: 1.0,
                          line_join: 'miter',
                          line_cap: 'butt',
                          line_dash: [],
                          line_dash_offset: 0
                        });
                      };
                
                      return InvertedTriangle;
                
                    })(Marker.Model);
                    return {
                      "Model": InvertedTriangle,
                      "View": InvertedTriangleView
                    };
                  });
                
                }).call(this);
                
                /*
                //@ sourceMappingURL=inverted_triangle.js.map
                */;
                (function() {
                  var __hasProp = {}.hasOwnProperty,
                    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };
                
                  define('renderer/glyph/line',["underscore", "renderer/properties", "./glyph"], function(_, Properties, Glyph) {
                    var Line, LineView, _ref, _ref1;
                    LineView = (function(_super) {
                      __extends(LineView, _super);
                
                      function LineView() {
                        _ref = LineView.__super__.constructor.apply(this, arguments);
                        return _ref;
                      }
                
                      LineView.prototype._fields = ['x', 'y'];
                
                      LineView.prototype._properties = ['line'];
                
                      LineView.prototype._map_data = function() {
                        var _ref1;
                        return _ref1 = this.plot_view.map_to_screen(this.x, this.glyph_props.x.units, this.y, this.glyph_props.y.units), this.sx = _ref1[0], this.sy = _ref1[1], _ref1;
                      };
                
                      LineView.prototype._render = function(ctx, indices, glyph_props) {
                        var drawing, i, _i, _len;
                        drawing = false;
                        glyph_props.line_properties.set(ctx, glyph_props);
                        for (_i = 0, _len = indices.length; _i < _len; _i++) {
                          i = indices[_i];
                          if (isNaN(this.sx[i] + this.sy[i]) && drawing) {
                            ctx.stroke();
                            ctx.beginPath();
                            drawing = false;
                            continue;
                          }
                          if (drawing) {
                            ctx.lineTo(this.sx[i], this.sy[i]);
                          } else {
                            ctx.beginPath();
                            ctx.moveTo(this.sx[i], this.sy[i]);
                            drawing = true;
                          }
                        }
                        if (drawing) {
                          return ctx.stroke();
                        }
                      };
                
                      LineView.prototype.draw_legend = function(ctx, x0, x1, y0, y1) {
                        return this._generic_line_legend(ctx, x0, x1, y0, y1);
                      };
                
                      return LineView;
                
                    })(Glyph.View);
                    Line = (function(_super) {
                      __extends(Line, _super);
                
                      function Line() {
                        _ref1 = Line.__super__.constructor.apply(this, arguments);
                        return _ref1;
                      }
                
                      Line.prototype.default_view = LineView;
                
                      Line.prototype.type = 'Glyph';
                
                      Line.prototype.display_defaults = function() {
                        return _.extend(Line.__super__.display_defaults.call(this), {
                          line_color: 'red',
                          line_width: 1,
                          line_alpha: 1.0,
                          line_join: 'miter',
                          line_cap: 'butt',
                          line_dash: [],
                          line_dash_offset: 0
                        });
                      };
                
                      return Line;
                
                    })(Glyph.Model);
                    return {
                      "Model": Line,
                      "View": LineView
                    };
                  });
                
                }).call(this);
                
                /*
                //@ sourceMappingURL=line.js.map
                */;
                (function() {
                  var __hasProp = {}.hasOwnProperty,
                    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };
                
                  define('renderer/glyph/multi_line',["underscore", "renderer/properties", "./glyph"], function(_, Properties, Glyph) {
                    var MultiLine, MultiLineView, _ref, _ref1;
                    MultiLineView = (function(_super) {
                      __extends(MultiLineView, _super);
                
                      function MultiLineView() {
                        _ref = MultiLineView.__super__.constructor.apply(this, arguments);
                        return _ref;
                      }
                
                      MultiLineView.prototype._fields = ['xs', 'ys'];
                
                      MultiLineView.prototype._properties = ['line'];
                
                      MultiLineView.prototype._map_data = function() {
                        return null;
                      };
                
                      MultiLineView.prototype._render = function(ctx, indices, glyph_props) {
                        var i, j, sx, sy, x, y, _i, _j, _len, _ref1, _ref2, _results;
                        _results = [];
                        for (_i = 0, _len = indices.length; _i < _len; _i++) {
                          i = indices[_i];
                          x = this.xs[i];
                          y = this.ys[i];
                          _ref1 = this.plot_view.map_to_screen(x, this.glyph_props.xs.units, y, this.glyph_props.ys.units), sx = _ref1[0], sy = _ref1[1];
                          glyph_props.line_properties.set_vectorize(ctx, i);
                          for (j = _j = 0, _ref2 = sx.length; 0 <= _ref2 ? _j < _ref2 : _j > _ref2; j = 0 <= _ref2 ? ++_j : --_j) {
                            if (j === 0) {
                              ctx.beginPath();
                              ctx.moveTo(sx[j], sy[j]);
                              continue;
                            } else if (isNaN(sx[j]) || isNaN(sy[j])) {
                              ctx.stroke();
                              ctx.beginPath();
                              continue;
                            } else {
                              ctx.lineTo(sx[j], sy[j]);
                            }
                          }
                          _results.push(ctx.stroke());
                        }
                        return _results;
                      };
                
                      MultiLineView.prototype.draw_legend = function(ctx, x0, x1, y0, y1) {
                        return this._generic_line_legend(ctx, x0, x1, y0, y1);
                      };
                
                      return MultiLineView;
                
                    })(Glyph.View);
                    MultiLine = (function(_super) {
                      __extends(MultiLine, _super);
                
                      function MultiLine() {
                        _ref1 = MultiLine.__super__.constructor.apply(this, arguments);
                        return _ref1;
                      }
                
                      MultiLine.prototype.default_view = MultiLineView;
                
                      MultiLine.prototype.type = 'Glyph';
                
                      MultiLine.prototype.display_defaults = function() {
                        return _.extend(MultiLine.__super__.display_defaults.call(this), {
                          line_color: 'red',
                          line_width: 1,
                          line_alpha: 1.0,
                          line_join: 'miter',
                          line_cap: 'butt',
                          line_dash: [],
                          line_dash_offset: 0
                        });
                      };
                
                      return MultiLine;
                
                    })(Glyph.Model);
                    return {
                      "Model": MultiLine,
                      "View": MultiLineView
                    };
                  });
                
                }).call(this);
                
                /*
                //@ sourceMappingURL=multi_line.js.map
                */;
                (function() {
                  var __hasProp = {}.hasOwnProperty,
                    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };
                
                  define('renderer/glyph/oval',["underscore", "renderer/properties", "./glyph"], function(_, Properties, Glyph) {
                    var Oval, OvalView, _ref, _ref1;
                    OvalView = (function(_super) {
                      __extends(OvalView, _super);
                
                      function OvalView() {
                        _ref = OvalView.__super__.constructor.apply(this, arguments);
                        return _ref;
                      }
                
                      OvalView.prototype._fields = ['x', 'y', 'width', 'height', 'angle'];
                
                      OvalView.prototype._properties = ['line', 'fill'];
                
                      OvalView.prototype._map_data = function() {
                        var _ref1;
                        _ref1 = this.plot_view.map_to_screen(this.x, this.glyph_props.x.units, this.y, this.glyph_props.y.units), this.sx = _ref1[0], this.sy = _ref1[1];
                        this.sw = this.distance_vector('x', 'width', 'center');
                        return this.sh = this.distance_vector('y', 'height', 'center');
                      };
                
                      OvalView.prototype._render = function(ctx, indices, glyph_props, sx, sy, sw, sh) {
                        var i, _i, _len, _results;
                        if (sx == null) {
                          sx = this.sx;
                        }
                        if (sy == null) {
                          sy = this.sy;
                        }
                        if (sw == null) {
                          sw = this.sw;
                        }
                        if (sh == null) {
                          sh = this.sh;
                        }
                        _results = [];
                        for (_i = 0, _len = indices.length; _i < _len; _i++) {
                          i = indices[_i];
                          if (isNaN(sx[i] + sy[i] + sw[i] + sh[i] + this.angle[i])) {
                            continue;
                          }
                          ctx.translate(sx[i], sy[i]);
                          ctx.rotate(this.angle[i]);
                          ctx.beginPath();
                          ctx.moveTo(0, -sh[i] / 2);
                          ctx.bezierCurveTo(sw[i] / 2, -sh[i] / 2, sw[i] / 2, sh[i] / 2, 0, sh[i] / 2);
                          ctx.bezierCurveTo(-sw[i] / 2, sh[i] / 2, -sw[i] / 2, -sh[i] / 2, 0, -sh[i] / 2);
                          ctx.closePath();
                          if (glyph_props.fill_properties.do_fill) {
                            glyph_props.fill_properties.set_vectorize(ctx, i);
                            ctx.fill();
                          }
                          if (glyph_props.line_properties.do_stroke) {
                            glyph_props.line_properties.set_vectorize(ctx, i);
                            ctx.stroke();
                          }
                          ctx.rotate(-this.angle[i]);
                          _results.push(ctx.translate(-sx[i], -sy[i]));
                        }
                        return _results;
                      };
                
                      OvalView.prototype.draw_legend = function(ctx, x0, x1, y0, y1) {
                        var d, indices, reference_point, scale, sh, sw, sx, sy, _ref1;
                        reference_point = (_ref1 = this.get_reference_point()) != null ? _ref1 : 0;
                        indices = [reference_point];
                        sx = {};
                        sx[reference_point] = (x0 + x1) / 2;
                        sy = {};
                        sy[reference_point] = (y0 + y1) / 2;
                        scale = this.sw[reference_point] / this.sh[reference_point];
                        d = Math.min(Math.abs(x1 - x0), Math.abs(y1 - y0)) * 0.8;
                        sw = {};
                        sh = {};
                        if (scale > 1) {
                          sw[reference_point] = d;
                          sh[reference_point] = d / scale;
                        } else {
                          sw[reference_point] = d * scale;
                          sh[reference_point] = d;
                        }
                        return this._render(ctx, indices, this.glyph_props, sx, sy, sw, sh);
                      };
                
                      return OvalView;
                
                    })(Glyph.View);
                    Oval = (function(_super) {
                      __extends(Oval, _super);
                
                      function Oval() {
                        _ref1 = Oval.__super__.constructor.apply(this, arguments);
                        return _ref1;
                      }
                
                      Oval.prototype.default_view = OvalView;
                
                      Oval.prototype.type = 'Glyph';
                
                      Oval.prototype.display_defaults = function() {
                        return _.extend(Oval.__super__.display_defaults.call(this), {
                          fill_color: 'gray',
                          fill_alpha: 1.0,
                          line_color: 'red',
                          line_width: 1,
                          line_alpha: 1.0,
                          line_join: 'miter',
                          line_cap: 'butt',
                          line_dash: [],
                          line_dash_offset: 0,
                          angle: 0.0
                        });
                      };
                
                      return Oval;
                
                    })(Glyph.Model);
                    return {
                      "Model": Oval,
                      "View": OvalView
                    };
                  });
                
                }).call(this);
                
                /*
                //@ sourceMappingURL=oval.js.map
                */;
                (function() {
                  var __hasProp = {}.hasOwnProperty,
                    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };
                
                  define('renderer/glyph/patch',["underscore", "renderer/properties", "./glyph"], function(_, Properties, Glyph) {
                    var Patch, PatchView, _ref, _ref1;
                    PatchView = (function(_super) {
                      __extends(PatchView, _super);
                
                      function PatchView() {
                        _ref = PatchView.__super__.constructor.apply(this, arguments);
                        return _ref;
                      }
                
                      PatchView.prototype._fields = ['x', 'y'];
                
                      PatchView.prototype._properties = ['line', 'fill'];
                
                      PatchView.prototype._map_data = function() {
                        var _ref1;
                        return _ref1 = this.plot_view.map_to_screen(this.x, this.glyph_props.x.units, this.y, this.glyph_props.y.units), this.sx = _ref1[0], this.sy = _ref1[1], _ref1;
                      };
                
                      PatchView.prototype._render = function(ctx, indices, glyph_props) {
                        var i, _i, _j, _len, _len1;
                        if (glyph_props.fill_properties.do_fill) {
                          glyph_props.fill_properties.set(ctx, glyph_props);
                          for (_i = 0, _len = indices.length; _i < _len; _i++) {
                            i = indices[_i];
                            if (i === 0) {
                              ctx.beginPath();
                              ctx.moveTo(this.sx[i], this.sy[i]);
                              continue;
                            } else if (isNaN(this.sx[i] + this.sy[i])) {
                              ctx.closePath();
                              ctx.fill();
                              ctx.beginPath();
                              continue;
                            } else {
                              ctx.lineTo(this.sx[i], this.sy[i]);
                            }
                          }
                          ctx.closePath();
                          ctx.fill();
                        }
                        if (glyph_props.line_properties.do_stroke) {
                          glyph_props.line_properties.set(ctx, glyph_props);
                          for (_j = 0, _len1 = indices.length; _j < _len1; _j++) {
                            i = indices[_j];
                            if (i === 0) {
                              ctx.beginPath();
                              ctx.moveTo(this.sx[i], this.sy[i]);
                              continue;
                            } else if (isNaN(this.sx[i] + this.sy[i])) {
                              ctx.closePath();
                              ctx.stroke();
                              ctx.beginPath();
                              continue;
                            } else {
                              ctx.lineTo(this.sx[i], this.sy[i]);
                            }
                          }
                          ctx.closePath();
                          return ctx.stroke();
                        }
                      };
                
                      PatchView.prototype.draw_legend = function(ctx, x0, x1, y0, y1) {
                        return this._generic_area_legend(ctx, x0, x1, y0, y1);
                      };
                
                      return PatchView;
                
                    })(Glyph.View);
                    Patch = (function(_super) {
                      __extends(Patch, _super);
                
                      function Patch() {
                        _ref1 = Patch.__super__.constructor.apply(this, arguments);
                        return _ref1;
                      }
                
                      Patch.prototype.default_view = PatchView;
                
                      Patch.prototype.type = 'Glyph';
                
                      Patch.prototype.display_defaults = function() {
                        return _.extend(Patch.__super__.display_defaults.call(this), {
                          fill_color: 'gray',
                          fill_alpha: 1.0,
                          line_color: 'red',
                          line_width: 1,
                          line_alpha: 1.0,
                          line_join: 'miter',
                          line_cap: 'butt',
                          line_dash: [],
                          line_dash_offset: 0
                        });
                      };
                
                      return Patch;
                
                    })(Glyph.Model);
                    return {
                      "Model": Patch,
                      "View": PatchView
                    };
                  });
                
                }).call(this);
                
                /*
                //@ sourceMappingURL=patch.js.map
                */;
                (function() {
                  var __hasProp = {}.hasOwnProperty,
                    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };
                
                  define('renderer/glyph/patches',["underscore", "renderer/properties", "./glyph"], function(_, Properties, Glyph) {
                    var Patches, PatchesView, _ref, _ref1;
                    PatchesView = (function(_super) {
                      __extends(PatchesView, _super);
                
                      function PatchesView() {
                        _ref = PatchesView.__super__.constructor.apply(this, arguments);
                        return _ref;
                      }
                
                      PatchesView.prototype._fields = ['xs', 'ys'];
                
                      PatchesView.prototype._properties = ['line', 'fill'];
                
                      PatchesView.prototype._map_data = function() {
                        return null;
                      };
                
                      PatchesView.prototype._render = function(ctx, indices, glyph_props) {
                        var i, j, sx, sy, _i, _j, _k, _len, _ref1, _ref2, _ref3, _results;
                        ctx = this.plot_view.ctx;
                        _results = [];
                        for (_i = 0, _len = indices.length; _i < _len; _i++) {
                          i = indices[_i];
                          _ref1 = this.plot_view.map_to_screen(this.xs[i], glyph_props.xs.units, this.ys[i], glyph_props.ys.units), sx = _ref1[0], sy = _ref1[1];
                          if (glyph_props.fill_properties.do_fill) {
                            glyph_props.fill_properties.set_vectorize(ctx, i);
                            for (j = _j = 0, _ref2 = sx.length; 0 <= _ref2 ? _j < _ref2 : _j > _ref2; j = 0 <= _ref2 ? ++_j : --_j) {
                              if (j === 0) {
                                ctx.beginPath();
                                ctx.moveTo(sx[j], sy[j]);
                                continue;
                              } else if (isNaN(sx[j] + sy[j])) {
                                ctx.closePath();
                                ctx.fill();
                                ctx.beginPath();
                                continue;
                              } else {
                                ctx.lineTo(sx[j], sy[j]);
                              }
                            }
                            ctx.closePath();
                            ctx.fill();
                          }
                          if (glyph_props.line_properties.do_stroke) {
                            glyph_props.line_properties.set_vectorize(ctx, i);
                            for (j = _k = 0, _ref3 = sx.length; 0 <= _ref3 ? _k < _ref3 : _k > _ref3; j = 0 <= _ref3 ? ++_k : --_k) {
                              if (j === 0) {
                                ctx.beginPath();
                                ctx.moveTo(sx[j], sy[j]);
                                continue;
                              } else if (isNaN(sx[j] + sy[j])) {
                                ctx.closePath();
                                ctx.stroke();
                                ctx.beginPath();
                                continue;
                              } else {
                                ctx.lineTo(sx[j], sy[j]);
                              }
                            }
                            ctx.closePath();
                            _results.push(ctx.stroke());
                          } else {
                            _results.push(void 0);
                          }
                        }
                        return _results;
                      };
                
                      PatchesView.prototype.draw_legend = function(ctx, x0, x1, y0, y1) {
                        return this._generic_area_legend(ctx, x0, x1, y0, y1);
                      };
                
                      return PatchesView;
                
                    })(Glyph.View);
                    Patches = (function(_super) {
                      __extends(Patches, _super);
                
                      function Patches() {
                        _ref1 = Patches.__super__.constructor.apply(this, arguments);
                        return _ref1;
                      }
                
                      Patches.prototype.default_view = PatchesView;
                
                      Patches.prototype.type = 'Glyph';
                
                      Patches.prototype.display_defaults = function() {
                        return _.extend(Patches.__super__.display_defaults.call(this), {
                          fill_color: 'gray',
                          fill_alpha: 1.0,
                          line_color: 'red',
                          line_width: 1,
                          line_alpha: 1.0,
                          line_join: 'miter',
                          line_cap: 'butt',
                          line_dash: [],
                          line_dash_offset: 0
                        });
                      };
                
                      return Patches;
                
                    })(Glyph.Model);
                    return {
                      "Model": Patches,
                      "View": PatchesView
                    };
                  });
                
                }).call(this);
                
                /*
                //@ sourceMappingURL=patches.js.map
                */;
                (function() {
                  var __hasProp = {}.hasOwnProperty,
                    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };
                
                  define('renderer/glyph/cross',["underscore", "renderer/properties", "./marker"], function(_, Properties, Marker) {
                    var Cross, CrossView, _ref, _ref1;
                    CrossView = (function(_super) {
                      __extends(CrossView, _super);
                
                      function CrossView() {
                        _ref = CrossView.__super__.constructor.apply(this, arguments);
                        return _ref;
                      }
                
                      CrossView.prototype._properties = ['line'];
                
                      CrossView.prototype._render = function(ctx, indices, glyph_props, sx, sy, size) {
                        var i, r, _i, _len, _results;
                        if (sx == null) {
                          sx = this.sx;
                        }
                        if (sy == null) {
                          sy = this.sy;
                        }
                        if (size == null) {
                          size = this.size;
                        }
                        _results = [];
                        for (_i = 0, _len = indices.length; _i < _len; _i++) {
                          i = indices[_i];
                          if (isNaN(sx[i] + sy[i] + size[i])) {
                            continue;
                          }
                          r = size[i] / 2;
                          ctx.beginPath();
                          ctx.moveTo(sx[i], sy[i] + r);
                          ctx.lineTo(sx[i], sy[i] - r);
                          ctx.moveTo(sx[i] - r, sy[i]);
                          ctx.lineTo(sx[i] + r, sy[i]);
                          if (glyph_props.line_properties.do_stroke) {
                            glyph_props.line_properties.set_vectorize(ctx, i);
                            _results.push(ctx.stroke());
                          } else {
                            _results.push(void 0);
                          }
                        }
                        return _results;
                      };
                
                      return CrossView;
                
                    })(Marker.View);
                    Cross = (function(_super) {
                      __extends(Cross, _super);
                
                      function Cross() {
                        _ref1 = Cross.__super__.constructor.apply(this, arguments);
                        return _ref1;
                      }
                
                      Cross.prototype.default_view = CrossView;
                
                      Cross.prototype.type = 'Glyph';
                
                      Cross.prototype.display_defaults = function() {
                        return _.extend(Cross.__super__.display_defaults.call(this), {
                          line_color: 'red',
                          line_width: 1,
                          line_alpha: 1.0,
                          line_join: 'miter',
                          line_cap: 'butt',
                          line_dash: [],
                          line_dash_offset: 0
                        });
                      };
                
                      return Cross;
                
                    })(Marker.Model);
                    return {
                      "Model": Cross,
                      "View": CrossView
                    };
                  });
                
                }).call(this);
                
                /*
                //@ sourceMappingURL=cross.js.map
                */;
                (function() {
                  var __hasProp = {}.hasOwnProperty,
                    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };
                
                  define('renderer/glyph/quad',["underscore", "rbush", "renderer/properties", "./glyph"], function(_, rbush, Properties, Glyph) {
                    var Quad, QuadView, _ref, _ref1;
                    QuadView = (function(_super) {
                      __extends(QuadView, _super);
                
                      function QuadView() {
                        _ref = QuadView.__super__.constructor.apply(this, arguments);
                        return _ref;
                      }
                
                      QuadView.prototype._fields = ['right', 'left', 'bottom', 'top'];
                
                      QuadView.prototype._properties = ['line', 'fill'];
                
                      QuadView.prototype._map_data = function() {
                        var _ref1, _ref2;
                        _ref1 = this.plot_view.map_to_screen(this.left, this.glyph_props.left.units, this.top, this.glyph_props.top.units), this.sx0 = _ref1[0], this.sy0 = _ref1[1];
                        return _ref2 = this.plot_view.map_to_screen(this.right, this.glyph_props.right.units, this.bottom, this.glyph_props.bottom.units), this.sx1 = _ref2[0], this.sy1 = _ref2[1], _ref2;
                      };
                
                      QuadView.prototype._render = function(ctx, indices, glyph_props, sx0, sx1, sy0, sy1) {
                        var i, _i, _len, _results;
                        if (sx0 == null) {
                          sx0 = this.sx0;
                        }
                        if (sx1 == null) {
                          sx1 = this.sx1;
                        }
                        if (sy0 == null) {
                          sy0 = this.sy0;
                        }
                        if (sy1 == null) {
                          sy1 = this.sy1;
                        }
                        _results = [];
                        for (_i = 0, _len = indices.length; _i < _len; _i++) {
                          i = indices[_i];
                          if (isNaN(sx0[i] + sy0[i] + sx1[i] + sy1[i])) {
                            continue;
                          }
                          if (glyph_props.fill_properties.do_fill) {
                            glyph_props.fill_properties.set_vectorize(ctx, i);
                            ctx.fillRect(sx0[i], sy0[i], sx1[i] - sx0[i], sy1[i] - sy0[i]);
                          }
                          if (glyph_props.line_properties.do_stroke) {
                            ctx.beginPath();
                            ctx.rect(sx0[i], sy0[i], sx1[i] - sx0[i], sy1[i] - sy0[i]);
                            glyph_props.line_properties.set_vectorize(ctx, i);
                            _results.push(ctx.stroke());
                          } else {
                            _results.push(void 0);
                          }
                        }
                        return _results;
                      };
                
                      QuadView.prototype._hit_point = function(geometry) {
                        var hits, i, sx, sy, vx, vy, _i, _ref1, _ref2;
                        _ref1 = [geometry.vx, geometry.vy], vx = _ref1[0], vy = _ref1[1];
                        sx = this.plot_view.view_state.vx_to_sx(vx);
                        sy = this.plot_view.view_state.vy_to_sy(vy);
                        hits = [];
                        for (i = _i = 0, _ref2 = this.sx0.length; 0 <= _ref2 ? _i < _ref2 : _i > _ref2; i = 0 <= _ref2 ? ++_i : --_i) {
                          if (sx >= this.sx0[i] && sx <= this.sx1[i] && sy >= this.sy0[i] && sy < this.sy1[i]) {
                            hits.push(i);
                          }
                        }
                        return hits;
                      };
                
                      QuadView.prototype.draw_legend = function(ctx, x0, x1, y0, y1) {
                        return this._generic_area_legend(ctx, x0, x1, y0, y1);
                      };
                
                      return QuadView;
                
                    })(Glyph.View);
                    Quad = (function(_super) {
                      __extends(Quad, _super);
                
                      function Quad() {
                        _ref1 = Quad.__super__.constructor.apply(this, arguments);
                        return _ref1;
                      }
                
                      Quad.prototype.default_view = QuadView;
                
                      Quad.prototype.type = 'Glyph';
                
                      Quad.prototype.display_defaults = function() {
                        return _.extend(Quad.__super__.display_defaults.call(this), {
                          fill_color: 'gray',
                          fill_alpha: 1.0,
                          line_color: 'red',
                          line_width: 1,
                          line_alpha: 1.0,
                          line_join: 'miter',
                          line_cap: 'butt',
                          line_dash: [],
                          line_dash_offset: 0
                        });
                      };
                
                      return Quad;
                
                    })(Glyph.Model);
                    return {
                      "Model": Quad,
                      "View": QuadView
                    };
                  });
                
                }).call(this);
                
                /*
                //@ sourceMappingURL=quad.js.map
                */;
                (function() {
                  var __hasProp = {}.hasOwnProperty,
                    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };
                
                  define('renderer/glyph/quadratic',["underscore", "renderer/properties", "./glyph"], function(_, Properties, Glyph) {
                    var Quadratic, QuadraticView, _ref, _ref1;
                    QuadraticView = (function(_super) {
                      __extends(QuadraticView, _super);
                
                      function QuadraticView() {
                        _ref = QuadraticView.__super__.constructor.apply(this, arguments);
                        return _ref;
                      }
                
                      QuadraticView.prototype._fields = ['x0', 'y0', 'x1', 'y1', 'cx', 'cy'];
                
                      QuadraticView.prototype._properties = ['line'];
                
                      QuadraticView.prototype._map_data = function() {
                        var _ref1, _ref2, _ref3;
                        _ref1 = this.plot_view.map_to_screen(this.x0, this.glyph_props.x0.units, this.y0, this.glyph_props.y0.units), this.sx0 = _ref1[0], this.sy0 = _ref1[1];
                        _ref2 = this.plot_view.map_to_screen(this.x1, this.glyph_props.x1.units, this.y1, this.glyph_props.y1.units), this.sx1 = _ref2[0], this.sy1 = _ref2[1];
                        return _ref3 = this.plot_view.map_to_screen(this.cx, this.glyph_props.cx.units, this.cy, this.glyph_props.cy.units), this.scx = _ref3[0], this.scy = _ref3[1], _ref3;
                      };
                
                      QuadraticView.prototype._render = function(ctx, indices, glyph_props) {
                        var i, _i, _len, _results;
                        if (glyph_props.line_properties.do_stroke) {
                          _results = [];
                          for (_i = 0, _len = indices.length; _i < _len; _i++) {
                            i = indices[_i];
                            if (isNaN(this.sx0[i] + this.sy0[i] + this.sx1[i] + this.sy1[i] + this.scx[i] + this.scy[i])) {
                              continue;
                            }
                            ctx.beginPath();
                            ctx.moveTo(this.sx0[i], this.sy0[i]);
                            ctx.quadraticCurveTo(this.scx[i], this.scy[i], this.sx1[i], this.sy1[i]);
                            glyph_props.line_properties.set_vectorize(ctx, i);
                            _results.push(ctx.stroke());
                          }
                          return _results;
                        }
                      };
                
                      QuadraticView.prototype.draw_legend = function(ctx, x0, x1, y0, y1) {
                        return this._generic_line_legend(ctx, x0, x1, y0, y1);
                      };
                
                      return QuadraticView;
                
                    })(Glyph.View);
                    Quadratic = (function(_super) {
                      __extends(Quadratic, _super);
                
                      function Quadratic() {
                        _ref1 = Quadratic.__super__.constructor.apply(this, arguments);
                        return _ref1;
                      }
                
                      Quadratic.prototype.default_view = QuadraticView;
                
                      Quadratic.prototype.type = 'Glyph';
                
                      Quadratic.prototype.display_defaults = function() {
                        return _.extend(Quadratic.__super__.display_defaults.call(this), {
                          line_color: 'red',
                          line_width: 1,
                          line_alpha: 1.0,
                          line_join: 'miter',
                          line_cap: 'butt',
                          line_dash: [],
                          line_dash_offset: 0
                        });
                      };
                
                      return Quadratic;
                
                    })(Glyph.Model);
                    return {
                      "Model": Quadratic,
                      "View": QuadraticView
                    };
                  });
                
                }).call(this);
                
                /*
                //@ sourceMappingURL=quadratic.js.map
                */;
                (function() {
                  var __hasProp = {}.hasOwnProperty,
                    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };
                
                  define('renderer/glyph/ray',["underscore", "renderer/properties", "./glyph"], function(_, Properties, Glyph) {
                    var Ray, RayView, _ref, _ref1;
                    RayView = (function(_super) {
                      __extends(RayView, _super);
                
                      function RayView() {
                        _ref = RayView.__super__.constructor.apply(this, arguments);
                        return _ref;
                      }
                
                      RayView.prototype._fields = ['x', 'y', 'angle', 'length'];
                
                      RayView.prototype._properties = ['line'];
                
                      RayView.prototype._map_data = function() {
                        var height, i, inf_len, width, _i, _ref1, _ref2, _results;
                        _ref1 = this.plot_view.map_to_screen(this.x, this.glyph_props.x.units, this.y, this.glyph_props.y.units), this.sx = _ref1[0], this.sy = _ref1[1];
                        this.length = this.distance_vector('x', 'length', 'edge');
                        width = this.plot_view.view_state.get('width');
                        height = this.plot_view.view_state.get('height');
                        inf_len = 2 * (width + height);
                        _results = [];
                        for (i = _i = 0, _ref2 = this.length.length; 0 <= _ref2 ? _i < _ref2 : _i > _ref2; i = 0 <= _ref2 ? ++_i : --_i) {
                          if (this.length[i] === 0) {
                            _results.push(this.length[i] = inf_len);
                          } else {
                            _results.push(void 0);
                          }
                        }
                        return _results;
                      };
                
                      RayView.prototype._render = function(ctx, indices, glyph_props) {
                        var i, _i, _len, _results;
                        if (glyph_props.line_properties.do_stroke) {
                          _results = [];
                          for (_i = 0, _len = indices.length; _i < _len; _i++) {
                            i = indices[_i];
                            if (isNaN(this.sx[i] + this.sy[i] + this.angle[i] + this.length[i])) {
                              continue;
                            }
                            ctx.translate(this.sx[i], this.sy[i]);
                            ctx.rotate(this.angle[i]);
                            ctx.beginPath();
                            ctx.moveTo(0, 0);
                            ctx.lineTo(this.length[i], 0);
                            glyph_props.line_properties.set_vectorize(ctx, i);
                            ctx.stroke();
                            ctx.rotate(-this.angle[i]);
                            _results.push(ctx.translate(-this.sx[i], -this.sy[i]));
                          }
                          return _results;
                        }
                      };
                
                      RayView.prototype.draw_legend = function(ctx, x0, x1, y0, y1) {
                        return this._generic_line_legend(ctx, x0, x1, y0, y1);
                      };
                
                      return RayView;
                
                    })(Glyph.View);
                    Ray = (function(_super) {
                      __extends(Ray, _super);
                
                      function Ray() {
                        _ref1 = Ray.__super__.constructor.apply(this, arguments);
                        return _ref1;
                      }
                
                      Ray.prototype.default_view = RayView;
                
                      Ray.prototype.type = 'Glyph';
                
                      Ray.prototype.display_defaults = function() {
                        return _.extend(Ray.__super__.display_defaults.call(this), {
                          line_color: 'red',
                          line_width: 1,
                          line_alpha: 1.0,
                          line_join: 'miter',
                          line_cap: 'butt',
                          line_dash: [],
                          line_dash_offset: 0
                        });
                      };
                
                      return Ray;
                
                    })(Glyph.Model);
                    return {
                      "Model": Ray,
                      "View": RayView
                    };
                  });
                
                }).call(this);
                
                /*
                //@ sourceMappingURL=ray.js.map
                */;
                (function() {
                  var __hasProp = {}.hasOwnProperty,
                    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };
                
                  define('renderer/glyph/rect',["underscore", "rbush", "renderer/properties", "./glyph"], function(_, rbush, Properties, Glyph) {
                    var Rect, RectView, _ref, _ref1;
                    RectView = (function(_super) {
                      __extends(RectView, _super);
                
                      function RectView() {
                        _ref = RectView.__super__.constructor.apply(this, arguments);
                        return _ref;
                      }
                
                      RectView.prototype._fields = ['x', 'y', 'width', 'height', 'angle'];
                
                      RectView.prototype._properties = ['line', 'fill'];
                
                      RectView.prototype._map_data = function() {
                        var i, sxi, syi, _i, _ref1, _ref2;
                        _ref1 = this.plot_view.map_to_screen(this.x, this.glyph_props.x.units, this.y, this.glyph_props.y.units), sxi = _ref1[0], syi = _ref1[1];
                        this.sw = this.distance_vector('x', 'width', 'center', this.mget('glyphspec')['dilate']);
                        this.sh = this.distance_vector('y', 'height', 'center', this.mget('glyphspec')['dilate']);
                        this.sx = new Array(sxi.length);
                        this.sy = new Array(sxi.length);
                        for (i = _i = 0, _ref2 = sxi.length; 0 <= _ref2 ? _i < _ref2 : _i > _ref2; i = 0 <= _ref2 ? ++_i : --_i) {
                          if (Math.abs(sxi[i] - this.sw[i]) < 2) {
                            this.sx[i] = Math.round(sxi[i]);
                          } else {
                            this.sx[i] = sxi[i];
                          }
                          if (Math.abs(syi[i] - this.sh[i]) < 2) {
                            this.sy[i] = Math.round(syi[i]);
                          } else {
                            this.sy[i] = syi[i];
                          }
                        }
                        this.max_width = _.max(this.width);
                        return this.max_height = _.max(this.height);
                      };
                
                      RectView.prototype._set_data = function() {
                        var i, pts, _i, _ref1;
                        this.index = rbush();
                        pts = [];
                        for (i = _i = 0, _ref1 = this.x.length; 0 <= _ref1 ? _i < _ref1 : _i > _ref1; i = 0 <= _ref1 ? ++_i : --_i) {
                          if (!isNaN(this.x[i] + this.y[i])) {
                            pts.push([
                              this.x[i], this.y[i], this.x[i], this.y[i], {
                                'i': i
                              }
                            ]);
                          }
                        }
                        return this.index.load(pts);
                      };
                
                      RectView.prototype._render = function(ctx, indices, glyph_props, sx, sy, sw, sh) {
                        var i, _i, _j, _len, _len1;
                        if (sx == null) {
                          sx = this.sx;
                        }
                        if (sy == null) {
                          sy = this.sy;
                        }
                        if (sw == null) {
                          sw = this.sw;
                        }
                        if (sh == null) {
                          sh = this.sh;
                        }
                        if (glyph_props.fill_properties.do_fill) {
                          for (_i = 0, _len = indices.length; _i < _len; _i++) {
                            i = indices[_i];
                            if (isNaN(sx[i] + sy[i] + sw[i] + sh[i] + this.angle[i])) {
                              continue;
                            }
                            glyph_props.fill_properties.set_vectorize(ctx, i);
                            if (this.angle[i]) {
                              ctx.translate(sx[i], sy[i]);
                              ctx.rotate(this.angle[i]);
                              ctx.fillRect(-sw[i] / 2, -sh[i] / 2, sw[i], sh[i]);
                              ctx.rotate(-this.angle[i]);
                              ctx.translate(-sx[i], -sy[i]);
                            } else {
                              ctx.fillRect(sx[i] - sw[i] / 2, sy[i] - sh[i] / 2, sw[i], sh[i]);
                            }
                          }
                        }
                        if (glyph_props.line_properties.do_stroke) {
                          ctx.beginPath();
                          for (_j = 0, _len1 = indices.length; _j < _len1; _j++) {
                            i = indices[_j];
                            if (isNaN(sx[i] + sy[i] + sw[i] + sh[i] + this.angle[i])) {
                              continue;
                            }
                            if (sw[i] === 0 || sh[i] === 0) {
                              continue;
                            }
                            if (this.angle[i]) {
                              ctx.translate(sx[i], sy[i]);
                              ctx.rotate(this.angle[i]);
                              ctx.rect(-sw[i] / 2, -sh[i] / 2, sw[i], sh[i]);
                              ctx.rotate(-this.angle[i]);
                              ctx.translate(-sx[i], -sy[i]);
                            } else {
                              ctx.rect(sx[i] - sw[i] / 2, sy[i] - sh[i] / 2, sw[i], sh[i]);
                            }
                            glyph_props.line_properties.set_vectorize(ctx, i);
                            ctx.stroke();
                            ctx.beginPath();
                          }
                          return ctx.stroke();
                        }
                      };
                
                      RectView.prototype._hit_rect = function(geometry) {
                        var x, x0, x1, y0, y1, _ref1, _ref2;
                        _ref1 = this.plot_view.xmapper.v_map_from_target([geometry.vx0, geometry.vx1]), x0 = _ref1[0], x1 = _ref1[1];
                        _ref2 = this.plot_view.ymapper.v_map_from_target([geometry.vy0, geometry.vy1]), y0 = _ref2[0], y1 = _ref2[1];
                        return (function() {
                          var _i, _len, _ref3, _results;
                          _ref3 = this.index.search([x0, y0, x1, y1]);
                          _results = [];
                          for (_i = 0, _len = _ref3.length; _i < _len; _i++) {
                            x = _ref3[_i];
                            _results.push(x[4].i);
                          }
                          return _results;
                        }).call(this);
                      };
                
                      RectView.prototype._hit_point = function(geometry) {
                        var c, candidates, d, height_in, hits, i, max_height, max_width, pt, px, py, s, sx, sy, vx, vx0, vx1, vy, vy0, vy1, width_in, x, x0, x1, xcat, y, y0, y1, ycat, _i, _len, _ref1, _ref2, _ref3;
                        _ref1 = [geometry.vx, geometry.vy], vx = _ref1[0], vy = _ref1[1];
                        x = this.plot_view.xmapper.map_from_target(vx);
                        y = this.plot_view.ymapper.map_from_target(vy);
                        xcat = typeof x === "string";
                        ycat = typeof y === "string";
                        if (xcat || ycat) {
                          candidates = (function() {
                            var _i, _ref2, _results;
                            _results = [];
                            for (i = _i = 0, _ref2 = this.x.length; 0 <= _ref2 ? _i < _ref2 : _i > _ref2; i = 0 <= _ref2 ? ++_i : --_i) {
                              _results.push(i);
                            }
                            return _results;
                          }).call(this);
                        } else {
                          if (this.width_units === "screen" || xcat) {
                            max_width = this.max_width;
                            if (xcat) {
                              max_width = this.plot_view.xmapper.map_to_target(max_width);
                            }
                            vx0 = vx - 2 * max_width;
                            vx1 = vx + 2 * max_width;
                            _ref2 = this.plot_view.xmapper.v_map_from_target([vx0, vx1]), x0 = _ref2[0], x1 = _ref2[1];
                          } else {
                            x0 = x - 2 * this.max_width;
                            x1 = x + 2 * this.max_width;
                          }
                          if (this.height_units === "screen" || ycat) {
                            max_height = this.max_height;
                            if (ycat) {
                              max_height = this.plot_view.ymapper.map_to_target(max_height);
                            }
                            vy0 = vy - 2 * max_height;
                            vy1 = vy + 2 * max_height;
                            _ref3 = this.plot_view.ymapper.v_map_from_target([vy0, vy1]), y0 = _ref3[0], y1 = _ref3[1];
                          } else {
                            y0 = y - 2 * this.max_height;
                            y1 = y + 2 * this.max_height;
                          }
                          candidates = (function() {
                            var _i, _len, _ref4, _results;
                            _ref4 = this.index.search([x0, y0, x1, y1]);
                            _results = [];
                            for (_i = 0, _len = _ref4.length; _i < _len; _i++) {
                              pt = _ref4[_i];
                              _results.push(pt[4].i);
                            }
                            return _results;
                          }).call(this);
                        }
                        hits = [];
                        for (_i = 0, _len = candidates.length; _i < _len; _i++) {
                          i = candidates[_i];
                          if (this.width_units === "screen" || xcat) {
                            sx = this.plot_view.view_state.vx_to_sx(vx);
                          } else {
                            sx = this.plot_view.view_state.vx_to_sx(this.plot_view.xmapper.map_to_target(x));
                          }
                          if (this.height_units === "screen" || ycat) {
                            sy = this.plot_view.view_state.vy_to_sy(vy);
                          } else {
                            sy = this.plot_view.view_state.vy_to_sy(this.plot_view.ymapper.map_to_target(y));
                          }
                          if (this.angle[i]) {
                            d = Math.sqrt(Math.pow(sx - this.sx[i], 2) + Math.pow(sy - this.sy[i], 2));
                            s = Math.sin(-this.angle[i]);
                            c = Math.cos(-this.angle[i]);
                            px = c * (sx - this.sx[i]) - s * (sy - this.sy[i]) + this.sx[i];
                            py = s * (sx - this.sx[i]) + c * (sy - this.sy[i]) + this.sy[i];
                            sx = px;
                            sy = py;
                          }
                          width_in = Math.abs(this.sx[i] - sx) <= this.sw[i] / 2;
                          height_in = Math.abs(this.sy[i] - sy) <= this.sh[i] / 2;
                          if (height_in && width_in) {
                            hits.push(i);
                          }
                        }
                        return hits;
                      };
                
                      RectView.prototype.draw_legend = function(ctx, x0, x1, y0, y1) {
                        return this._generic_area_legend(ctx, x0, x1, y0, y1);
                      };
                
                      return RectView;
                
                    })(Glyph.View);
                    Rect = (function(_super) {
                      __extends(Rect, _super);
                
                      function Rect() {
                        _ref1 = Rect.__super__.constructor.apply(this, arguments);
                        return _ref1;
                      }
                
                      Rect.prototype.default_view = RectView;
                
                      Rect.prototype.type = 'Glyph';
                
                      Rect.prototype.display_defaults = function() {
                        return _.extend(Rect.__super__.display_defaults.call(this), {
                          fill_color: 'gray',
                          fill_alpha: 1.0,
                          line_color: 'red',
                          line_width: 1,
                          line_alpha: 1.0,
                          line_join: 'miter',
                          line_cap: 'butt',
                          line_dash: [],
                          line_dash_offset: 0,
                          angle: 0.0,
                          dilate: false
                        });
                      };
                
                      return Rect;
                
                    })(Glyph.Model);
                    return {
                      "Model": Rect,
                      "View": RectView
                    };
                  });
                
                }).call(this);
                
                /*
                //@ sourceMappingURL=rect.js.map
                */;
                (function() {
                  var __hasProp = {}.hasOwnProperty,
                    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };
                
                  define('renderer/glyph/square',["underscore", "renderer/properties", "./marker"], function(_, Properties, Marker) {
                    var Square, SquareView, _ref, _ref1;
                    SquareView = (function(_super) {
                      __extends(SquareView, _super);
                
                      function SquareView() {
                        _ref = SquareView.__super__.constructor.apply(this, arguments);
                        return _ref;
                      }
                
                      SquareView.prototype._properties = ['line', 'fill'];
                
                      SquareView.prototype._render = function(ctx, indices, glyph_props, sx, sy, size) {
                        var i, _i, _len, _results;
                        if (sx == null) {
                          sx = this.sx;
                        }
                        if (sy == null) {
                          sy = this.sy;
                        }
                        if (size == null) {
                          size = this.size;
                        }
                        _results = [];
                        for (_i = 0, _len = indices.length; _i < _len; _i++) {
                          i = indices[_i];
                          if (isNaN(sx[i] + sy[i] + size[i])) {
                            continue;
                          }
                          ctx.translate(sx[i], sy[i]);
                          ctx.beginPath();
                          ctx.rect(-size[i] / 2, -size[i] / 2, size[i], size[i]);
                          if (glyph_props.fill_properties.do_fill) {
                            glyph_props.fill_properties.set_vectorize(ctx, i);
                            ctx.fill();
                          }
                          if (glyph_props.line_properties.do_stroke) {
                            glyph_props.line_properties.set_vectorize(ctx, i);
                            ctx.stroke();
                          }
                          _results.push(ctx.translate(-sx[i], -sy[i]));
                        }
                        return _results;
                      };
                
                      return SquareView;
                
                    })(Marker.View);
                    Square = (function(_super) {
                      __extends(Square, _super);
                
                      function Square() {
                        _ref1 = Square.__super__.constructor.apply(this, arguments);
                        return _ref1;
                      }
                
                      Square.prototype.default_view = SquareView;
                
                      Square.prototype.type = 'Glyph';
                
                      Square.prototype.display_defaults = function() {
                        return _.extend(Square.__super__.display_defaults.call(this), {
                          size_units: 'screen',
                          fill_color: 'gray',
                          fill_alpha: 1.0,
                          line_color: 'red',
                          line_width: 1,
                          line_alpha: 1.0,
                          line_join: 'miter',
                          line_cap: 'butt',
                          line_dash: [],
                          line_dash_offset: 0
                        });
                      };
                
                      return Square;
                
                    })(Marker.Model);
                    return {
                      "Model": Square,
                      "View": SquareView
                    };
                  });
                
                }).call(this);
                
                /*
                //@ sourceMappingURL=square.js.map
                */;
                (function() {
                  var __hasProp = {}.hasOwnProperty,
                    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };
                
                  define('renderer/glyph/square_x',["underscore", "renderer/properties", "./marker"], function(_, Properties, Marker) {
                    var SquareX, SquareXView, _ref, _ref1;
                    SquareXView = (function(_super) {
                      __extends(SquareXView, _super);
                
                      function SquareXView() {
                        _ref = SquareXView.__super__.constructor.apply(this, arguments);
                        return _ref;
                      }
                
                      SquareXView.prototype._properties = ['line', 'fill'];
                
                      SquareXView.prototype._render = function(ctx, indices, glyph_props, sx, sy, size) {
                        var i, r, _i, _len, _results;
                        if (sx == null) {
                          sx = this.sx;
                        }
                        if (sy == null) {
                          sy = this.sy;
                        }
                        if (size == null) {
                          size = this.size;
                        }
                        _results = [];
                        for (_i = 0, _len = indices.length; _i < _len; _i++) {
                          i = indices[_i];
                          if (isNaN(sx[i] + sy[i] + size[i])) {
                            continue;
                          }
                          ctx.translate(sx[i], sy[i]);
                          ctx.beginPath();
                          ctx.rect(-size[i] / 2, -size[i] / 2, size[i], size[i]);
                          if (glyph_props.fill_properties.do_fill) {
                            glyph_props.fill_properties.set_vectorize(ctx, i);
                            ctx.fill();
                          }
                          if (glyph_props.line_properties.do_stroke) {
                            glyph_props.line_properties.set_vectorize(ctx, i);
                            ctx.stroke();
                            r = size[i] / 2;
                            ctx.moveTo(-r, +r);
                            ctx.lineTo(+r, -r);
                            ctx.moveTo(-r, -r);
                            ctx.lineTo(+r, +r);
                            ctx.stroke();
                          }
                          _results.push(ctx.translate(-sx[i], -sy[i]));
                        }
                        return _results;
                      };
                
                      return SquareXView;
                
                    })(Marker.View);
                    SquareX = (function(_super) {
                      __extends(SquareX, _super);
                
                      function SquareX() {
                        _ref1 = SquareX.__super__.constructor.apply(this, arguments);
                        return _ref1;
                      }
                
                      SquareX.prototype.default_view = SquareXView;
                
                      SquareX.prototype.type = 'Glyph';
                
                      SquareX.prototype.display_defaults = function() {
                        return _.extend(SquareX.__super__.display_defaults.call(this), {
                          size_units: 'screen',
                          fill_color: 'gray',
                          fill_alpha: 1.0,
                          line_color: 'red',
                          line_width: 1,
                          line_alpha: 1.0,
                          line_join: 'miter',
                          line_cap: 'butt',
                          line_dash: [],
                          line_dash_offset: 0
                        });
                      };
                
                      return SquareX;
                
                    })(Marker.Model);
                    return {
                      "Model": SquareX,
                      "View": SquareXView
                    };
                  });
                
                }).call(this);
                
                /*
                //@ sourceMappingURL=square_x.js.map
                */;
                (function() {
                  var __hasProp = {}.hasOwnProperty,
                    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };
                
                  define('renderer/glyph/square_cross',["underscore", "renderer/properties", "./marker"], function(_, Properties, Marker) {
                    var SquareCross, SquareCrossView, _ref, _ref1;
                    SquareCrossView = (function(_super) {
                      __extends(SquareCrossView, _super);
                
                      function SquareCrossView() {
                        _ref = SquareCrossView.__super__.constructor.apply(this, arguments);
                        return _ref;
                      }
                
                      SquareCrossView.prototype._properties = ['line', 'fill'];
                
                      SquareCrossView.prototype._render = function(ctx, indices, glyph_props, sx, sy, size) {
                        var i, r, _i, _len, _results;
                        if (sx == null) {
                          sx = this.sx;
                        }
                        if (sy == null) {
                          sy = this.sy;
                        }
                        if (size == null) {
                          size = this.size;
                        }
                        _results = [];
                        for (_i = 0, _len = indices.length; _i < _len; _i++) {
                          i = indices[_i];
                          if (isNaN(sx[i] + sy[i] + size[i])) {
                            continue;
                          }
                          ctx.translate(sx[i], sy[i]);
                          ctx.beginPath();
                          ctx.rect(-size[i] / 2, -size[i] / 2, size[i], size[i]);
                          if (glyph_props.fill_properties.do_fill) {
                            glyph_props.fill_properties.set_vectorize(ctx, i);
                            ctx.fill();
                          }
                          if (glyph_props.line_properties.do_stroke) {
                            glyph_props.line_properties.set_vectorize(ctx, i);
                            r = size[i] / 2;
                            ctx.moveTo(0, +r);
                            ctx.lineTo(0, -r);
                            ctx.moveTo(-r, 0);
                            ctx.lineTo(+r, 0);
                            ctx.stroke();
                          }
                          _results.push(ctx.translate(-sx[i], -sy[i]));
                        }
                        return _results;
                      };
                
                      return SquareCrossView;
                
                    })(Marker.View);
                    SquareCross = (function(_super) {
                      __extends(SquareCross, _super);
                
                      function SquareCross() {
                        _ref1 = SquareCross.__super__.constructor.apply(this, arguments);
                        return _ref1;
                      }
                
                      SquareCross.prototype.default_view = SquareCrossView;
                
                      SquareCross.prototype.type = 'Glyph';
                
                      SquareCross.prototype.display_defaults = function() {
                        return _.extend(SquareCross.__super__.display_defaults.call(this), {
                          size_units: 'screen',
                          fill_color: 'gray',
                          fill_alpha: 1.0,
                          line_color: 'red',
                          line_width: 1,
                          line_alpha: 1.0,
                          line_join: 'miter',
                          line_cap: 'butt',
                          line_dash: [],
                          line_dash_offset: 0
                        });
                      };
                
                      return SquareCross;
                
                    })(Marker.Model);
                    return {
                      "Model": SquareCross,
                      "View": SquareCrossView
                    };
                  });
                
                }).call(this);
                
                /*
                //@ sourceMappingURL=square_cross.js.map
                */;
                (function() {
                  var __hasProp = {}.hasOwnProperty,
                    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };
                
                  define('renderer/glyph/segment',["underscore", "renderer/properties", "./glyph"], function(_, Properties, Glyph) {
                    var Segment, SegmentView, _ref, _ref1;
                    SegmentView = (function(_super) {
                      __extends(SegmentView, _super);
                
                      function SegmentView() {
                        _ref = SegmentView.__super__.constructor.apply(this, arguments);
                        return _ref;
                      }
                
                      SegmentView.prototype._fields = ['x0', 'y0', 'x1', 'y1'];
                
                      SegmentView.prototype._properties = ['line'];
                
                      SegmentView.prototype._map_data = function() {
                        var _ref1, _ref2;
                        _ref1 = this.plot_view.map_to_screen(this.x0, this.glyph_props.x0.units, this.y0, this.glyph_props.y0.units), this.sx0 = _ref1[0], this.sy0 = _ref1[1];
                        return _ref2 = this.plot_view.map_to_screen(this.x1, this.glyph_props.x1.units, this.y1, this.glyph_props.y1.units), this.sx1 = _ref2[0], this.sy1 = _ref2[1], _ref2;
                      };
                
                      SegmentView.prototype._render = function(ctx, indices, glyph_props) {
                        var i, _i, _len, _results;
                        if (glyph_props.line_properties.do_stroke) {
                          _results = [];
                          for (_i = 0, _len = indices.length; _i < _len; _i++) {
                            i = indices[_i];
                            if (isNaN(this.sx0[i] + this.sy0[i] + this.sx1[i] + this.sy1[i])) {
                              continue;
                            }
                            ctx.beginPath();
                            ctx.moveTo(this.sx0[i], this.sy0[i]);
                            ctx.lineTo(this.sx1[i], this.sy1[i]);
                            glyph_props.line_properties.set_vectorize(ctx, i);
                            _results.push(ctx.stroke());
                          }
                          return _results;
                        }
                      };
                
                      SegmentView.prototype.draw_legend = function(ctx, x0, x1, y0, y1) {
                        return this._generic_line_legend(ctx, x0, x1, y0, y1);
                      };
                
                      return SegmentView;
                
                    })(Glyph.View);
                    Segment = (function(_super) {
                      __extends(Segment, _super);
                
                      function Segment() {
                        _ref1 = Segment.__super__.constructor.apply(this, arguments);
                        return _ref1;
                      }
                
                      Segment.prototype.default_view = SegmentView;
                
                      Segment.prototype.type = 'Glyph';
                
                      Segment.prototype.display_defaults = function() {
                        return _.extend(Segment.__super__.display_defaults.call(this), {
                          line_color: 'red',
                          line_width: 1,
                          line_alpha: 1.0,
                          line_join: 'miter',
                          line_cap: 'butt',
                          line_dash: [],
                          line_dash_offset: 0
                        });
                      };
                
                      return Segment;
                
                    })(Glyph.Model);
                    return {
                      "Model": Segment,
                      "View": SegmentView
                    };
                  });
                
                }).call(this);
                
                /*
                //@ sourceMappingURL=segment.js.map
                */;
                (function() {
                  var __hasProp = {}.hasOwnProperty,
                    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };
                
                  define('renderer/glyph/text',["underscore", "renderer/properties", "./glyph"], function(_, Properties, Glyph) {
                    var Text, TextView, _ref, _ref1;
                    TextView = (function(_super) {
                      __extends(TextView, _super);
                
                      function TextView() {
                        _ref = TextView.__super__.constructor.apply(this, arguments);
                        return _ref;
                      }
                
                      TextView.prototype._fields = ['x', 'y', 'angle', 'text:string'];
                
                      TextView.prototype._properties = ['text'];
                
                      TextView.prototype._map_data = function() {
                        var _ref1;
                        return _ref1 = this.plot_view.map_to_screen(this.x, this.glyph_props.x.units, this.y, this.glyph_props.y.units), this.sx = _ref1[0], this.sy = _ref1[1], _ref1;
                      };
                
                      TextView.prototype._render = function(ctx, indices, glyph_props) {
                        var i, _i, _len, _results;
                        _results = [];
                        for (_i = 0, _len = indices.length; _i < _len; _i++) {
                          i = indices[_i];
                          if (isNaN(this.sx[i] + this.sy[i] + this.angle[i])) {
                            continue;
                          }
                          ctx.translate(this.sx[i], this.sy[i]);
                          ctx.rotate(this.angle[i]);
                          glyph_props.text_properties.set_vectorize(ctx, i);
                          ctx.fillText(this.text[i], 0, 0);
                          ctx.rotate(-this.angle[i]);
                          _results.push(ctx.translate(-this.sx[i], -this.sy[i]));
                        }
                        return _results;
                      };
                
                      TextView.prototype.draw_legend = function(ctx, x1, x2, y1, y2) {
                        var glyph_props, glyph_settings, reference_point, text_props;
                        glyph_props = this.glyph_props;
                        text_props = glyph_props.text_properties;
                        ctx.save();
                        reference_point = this.get_reference_point();
                        if (reference_point != null) {
                          glyph_settings = reference_point;
                        } else {
                          glyph_settings = glyph_props;
                        }
                        text_props.set(ctx, glyph_settings);
                        ctx.font = text_props.font(12);
                        ctx.textAlign = "right";
                        ctx.textBaseline = "middle";
                        ctx.fillText("txt", x2, (y1 + y2) / 2);
                        return ctx.restore();
                      };
                
                      return TextView;
                
                    })(Glyph.View);
                    Text = (function(_super) {
                      __extends(Text, _super);
                
                      function Text() {
                        _ref1 = Text.__super__.constructor.apply(this, arguments);
                        return _ref1;
                      }
                
                      Text.prototype.default_view = TextView;
                
                      Text.prototype.type = 'Glyph';
                
                      Text.prototype.display_defaults = function() {
                        return _.extend(Text.__super__.display_defaults.call(this), {
                          text_font: "helvetica",
                          text_font_size: "12pt",
                          text_font_style: "normal",
                          text_color: "#444444",
                          text_alpha: 1.0,
                          text_align: "left",
                          text_baseline: "bottom"
                        });
                      };
                
                      return Text;
                
                    })(Glyph.Model);
                    return {
                      "Model": Text,
                      "View": TextView
                    };
                  });
                
                }).call(this);
                
                /*
                //@ sourceMappingURL=text.js.map
                */;
                (function() {
                  var __hasProp = {}.hasOwnProperty,
                    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };
                
                  define('renderer/glyph/triangle',["underscore", "renderer/properties", "./marker"], function(_, Properties, Marker) {
                    var Triangle, TriangleView, _ref, _ref1;
                    TriangleView = (function(_super) {
                      __extends(TriangleView, _super);
                
                      function TriangleView() {
                        _ref = TriangleView.__super__.constructor.apply(this, arguments);
                        return _ref;
                      }
                
                      TriangleView.prototype._properties = ['line', 'fill'];
                
                      TriangleView.prototype._render = function(ctx, indices, glyph_props, sx, sy, size) {
                        var a, h, i, r, _i, _len, _results;
                        if (sx == null) {
                          sx = this.sx;
                        }
                        if (sy == null) {
                          sy = this.sy;
                        }
                        if (size == null) {
                          size = this.size;
                        }
                        _results = [];
                        for (_i = 0, _len = indices.length; _i < _len; _i++) {
                          i = indices[_i];
                          if (isNaN(sx[i] + sy[i] + size[i])) {
                            continue;
                          }
                          a = size[i] * Math.sqrt(3) / 6;
                          r = size[i] / 2;
                          h = size[i] * Math.sqrt(3) / 2;
                          ctx.beginPath();
                          ctx.moveTo(sx[i] - r, sy[i] + a);
                          ctx.lineTo(sx[i] + r, sy[i] + a);
                          ctx.lineTo(sx[i], sy[i] + a - h);
                          ctx.closePath();
                          if (glyph_props.fill_properties.do_fill) {
                            glyph_props.fill_properties.set_vectorize(ctx, i);
                            ctx.fill();
                          }
                          if (glyph_props.line_properties.do_stroke) {
                            glyph_props.line_properties.set_vectorize(ctx, i);
                            _results.push(ctx.stroke());
                          } else {
                            _results.push(void 0);
                          }
                        }
                        return _results;
                      };
                
                      return TriangleView;
                
                    })(Marker.View);
                    Triangle = (function(_super) {
                      __extends(Triangle, _super);
                
                      function Triangle() {
                        _ref1 = Triangle.__super__.constructor.apply(this, arguments);
                        return _ref1;
                      }
                
                      Triangle.prototype.default_view = TriangleView;
                
                      Triangle.prototype.type = 'Glyph';
                
                      Triangle.prototype.display_defaults = function() {
                        return _.extend(Triangle.__super__.display_defaults.call(this), {
                          fill_color: 'gray',
                          fill_alpha: 1.0,
                          line_color: 'red',
                          line_width: 1,
                          line_alpha: 1.0,
                          line_join: 'miter',
                          line_cap: 'butt',
                          line_dash: [],
                          line_dash_offset: 0
                        });
                      };
                
                      return Triangle;
                
                    })(Marker.Model);
                    return {
                      "Model": Triangle,
                      "View": TriangleView
                    };
                  });
                
                }).call(this);
                
                /*
                //@ sourceMappingURL=triangle.js.map
                */;
                (function() {
                  var __hasProp = {}.hasOwnProperty,
                    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };
                
                  define('renderer/glyph/wedge',["underscore", "rbush", "common/mathutils", "renderer/properties", "./glyph"], function(_, rbush, mathutils, Properties, Glyph) {
                    var Wedge, WedgeView, _ref, _ref1;
                    WedgeView = (function(_super) {
                      __extends(WedgeView, _super);
                
                      function WedgeView() {
                        _ref = WedgeView.__super__.constructor.apply(this, arguments);
                        return _ref;
                      }
                
                      WedgeView.prototype._fields = ['x', 'y', 'radius', 'start_angle', 'end_angle', 'direction:string'];
                
                      WedgeView.prototype._properties = ['line', 'fill'];
                
                      WedgeView.prototype._set_data = function() {
                        var i, pts, _i, _ref1;
                        this.max_radius = _.max(this.radius);
                        this.index = rbush();
                        pts = [];
                        for (i = _i = 0, _ref1 = this.x.length; 0 <= _ref1 ? _i < _ref1 : _i > _ref1; i = 0 <= _ref1 ? ++_i : --_i) {
                          if (!isNaN(this.x[i] + this.y[i])) {
                            pts.push([
                              this.x[i], this.y[i], this.x[i], this.y[i], {
                                'i': i
                              }
                            ]);
                          }
                        }
                        return this.index.load(pts);
                      };
                
                      WedgeView.prototype._map_data = function() {
                        var _ref1;
                        _ref1 = this.plot_view.map_to_screen(this.x, this.glyph_props.x.units, this.y, this.glyph_props.y.units), this.sx = _ref1[0], this.sy = _ref1[1];
                        return this.radius = this.distance_vector('x', 'radius', 'edge');
                      };
                
                      WedgeView.prototype._render = function(ctx, indices, glyph_props, sx, sy, radius) {
                        var i, _i, _len, _results;
                        if (sx == null) {
                          sx = this.sx;
                        }
                        if (sy == null) {
                          sy = this.sy;
                        }
                        if (radius == null) {
                          radius = this.radius;
                        }
                        _results = [];
                        for (_i = 0, _len = indices.length; _i < _len; _i++) {
                          i = indices[_i];
                          if (isNaN(sx[i] + sy[i] + radius[i] + this.start_angle[i] + this.end_angle[i] + this.direction[i])) {
                            continue;
                          }
                          ctx.beginPath();
                          ctx.arc(sx[i], sy[i], radius[i], this.start_angle[i], this.end_angle[i], this.direction[i]);
                          ctx.lineTo(sx[i], sy[i]);
                          ctx.closePath();
                          if (glyph_props.fill_properties.do_fill) {
                            glyph_props.fill_properties.set_vectorize(ctx, i);
                            ctx.fill();
                          }
                          if (glyph_props.line_properties.do_stroke) {
                            glyph_props.line_properties.set_vectorize(ctx, i);
                            _results.push(ctx.stroke());
                          } else {
                            _results.push(void 0);
                          }
                        }
                        return _results;
                      };
                
                      WedgeView.prototype._hit_point = function(geometry) {
                        var angle, candidates, candidates2, dist, hits, i, pt, r2, sx, sx0, sx1, sy, sy0, sy1, vx, vx0, vx1, vy, vy0, vy1, x, x0, x1, y, y0, y1, _i, _j, _k, _len, _len1, _len2, _ref1, _ref2, _ref3, _ref4;
                        _ref1 = [geometry.vx, geometry.vy], vx = _ref1[0], vy = _ref1[1];
                        x = this.plot_view.xmapper.map_from_target(vx);
                        y = this.plot_view.ymapper.map_from_target(vy);
                        if (this.radius_units === "screen") {
                          vx0 = vx - this.max_radius;
                          vx1 = vx + this.max_radius;
                          _ref2 = this.plot_view.xmapper.v_map_from_target([vx0, vx1]), x0 = _ref2[0], x1 = _ref2[1];
                          vy0 = vy - this.max_radius;
                          vy1 = vy + this.max_radius;
                          _ref3 = this.plot_view.ymapper.v_map_from_target([vy0, vy1]), y0 = _ref3[0], y1 = _ref3[1];
                        } else {
                          x0 = x - this.max_radius;
                          x1 = x + this.max_radius;
                          y0 = y - this.max_radius;
                          y1 = y + this.max_radius;
                        }
                        candidates = (function() {
                          var _i, _len, _ref4, _results;
                          _ref4 = this.index.search([x0, y0, x1, y1]);
                          _results = [];
                          for (_i = 0, _len = _ref4.length; _i < _len; _i++) {
                            pt = _ref4[_i];
                            _results.push(pt[4].i);
                          }
                          return _results;
                        }).call(this);
                        candidates2 = [];
                        if (this.radius_units === "screen") {
                          sx = this.plot_view.view_state.vx_to_sx(vx);
                          sy = this.plot_view.view_state.vy_to_sy(vy);
                          for (_i = 0, _len = candidates.length; _i < _len; _i++) {
                            i = candidates[_i];
                            r2 = Math.pow(this.radius[i], 2);
                            dist = Math.pow(this.sx[i] - sx, 2) + Math.pow(this.sy[i] - sy, 2);
                            if (dist <= r2) {
                              candidates2.push([i, dist]);
                            }
                          }
                        } else {
                          for (_j = 0, _len1 = candidates.length; _j < _len1; _j++) {
                            i = candidates[_j];
                            r2 = Math.pow(this.radius[i], 2);
                            sx0 = this.plot_view.xmapper.map_to_target(x);
                            sx1 = this.plot_view.xmapper.map_to_target(this.x[i]);
                            sy0 = this.plot_view.ymapper.map_to_target(y);
                            sy1 = this.plot_view.ymapper.map_to_target(this.y[i]);
                            dist = Math.pow(sx0 - sx1, 2) + Math.pow(sy0 - sy1, 2);
                            if (dist <= r2) {
                              candidates2.push([i, dist]);
                            }
                          }
                        }
                        hits = [];
                        for (_k = 0, _len2 = candidates2.length; _k < _len2; _k++) {
                          _ref4 = candidates2[_k], i = _ref4[0], dist = _ref4[1];
                          sx = this.plot_view.view_state.vx_to_sx(vx);
                          sy = this.plot_view.view_state.vy_to_sy(vy);
                          angle = Math.atan2(sy - this.sy[i], sx - this.sx[i]);
                          if (mathutils.angle_between(-angle, -this.start_angle[i], -this.end_angle[i], this.direction[i])) {
                            hits.push([i, dist]);
                          }
                        }
                        hits = _.chain(hits).sortBy(function(elt) {
                          return elt[1];
                        }).map(function(elt) {
                          return elt[0];
                        }).value();
                        return hits;
                      };
                
                      WedgeView.prototype.draw_legend = function(ctx, x0, x1, y0, y1) {
                        var indices, radius, reference_point, sx, sy, _ref1;
                        reference_point = (_ref1 = this.get_reference_point()) != null ? _ref1 : 0;
                        indices = [reference_point];
                        sx = {};
                        sx[reference_point] = (x0 + x1) / 2;
                        sy = {};
                        sy[reference_point] = (y0 + y1) / 2;
                        radius = {};
                        radius[reference_point] = Math.min(Math.abs(x1 - x0), Math.abs(y1 - y0)) * 0.4;
                        return this._render(ctx, indices, this.glyph_props, sx, sy, radius);
                      };
                
                      return WedgeView;
                
                    })(Glyph.View);
                    Wedge = (function(_super) {
                      __extends(Wedge, _super);
                
                      function Wedge() {
                        _ref1 = Wedge.__super__.constructor.apply(this, arguments);
                        return _ref1;
                      }
                
                      Wedge.prototype.default_view = WedgeView;
                
                      Wedge.prototype.type = 'Glyph';
                
                      Wedge.prototype.display_defaults = function() {
                        return _.extend(Wedge.__super__.display_defaults.call(this), {
                          direction: 'anticlock',
                          fill_color: 'gray',
                          fill_alpha: 1.0,
                          line_color: 'red',
                          line_width: 1,
                          line_alpha: 1.0,
                          line_join: 'miter',
                          line_cap: 'butt',
                          line_dash: [],
                          line_dash_offset: 0
                        });
                      };
                
                      return Wedge;
                
                    })(Glyph.Model);
                    return {
                      "Model": Wedge,
                      "View": WedgeView
                    };
                  });
                
                }).call(this);
                
                /*
                //@ sourceMappingURL=wedge.js.map
                */;
                (function() {
                  var __hasProp = {}.hasOwnProperty,
                    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };
                
                  define('renderer/glyph/x',["underscore", "renderer/properties", "./marker"], function(_, Properties, Marker) {
                    var X, XView, _ref, _ref1;
                    XView = (function(_super) {
                      __extends(XView, _super);
                
                      function XView() {
                        _ref = XView.__super__.constructor.apply(this, arguments);
                        return _ref;
                      }
                
                      XView.prototype._properties = ['line'];
                
                      XView.prototype._render = function(ctx, indices, glyph_props, sx, sy, size) {
                        var i, r, _i, _len, _results;
                        if (sx == null) {
                          sx = this.sx;
                        }
                        if (sy == null) {
                          sy = this.sy;
                        }
                        if (size == null) {
                          size = this.size;
                        }
                        _results = [];
                        for (_i = 0, _len = indices.length; _i < _len; _i++) {
                          i = indices[_i];
                          if (isNaN(sx[i] + sy[i] + size[i])) {
                            continue;
                          }
                          r = size[i] / 2;
                          ctx.beginPath();
                          ctx.moveTo(sx[i] - r, sy[i] + r);
                          ctx.lineTo(sx[i] + r, sy[i] - r);
                          ctx.moveTo(sx[i] - r, sy[i] - r);
                          ctx.lineTo(sx[i] + r, sy[i] + r);
                          if (glyph_props.line_properties.do_stroke) {
                            glyph_props.line_properties.set_vectorize(ctx, i);
                            _results.push(ctx.stroke());
                          } else {
                            _results.push(void 0);
                          }
                        }
                        return _results;
                      };
                
                      return XView;
                
                    })(Marker.View);
                    X = (function(_super) {
                      __extends(X, _super);
                
                      function X() {
                        _ref1 = X.__super__.constructor.apply(this, arguments);
                        return _ref1;
                      }
                
                      X.prototype.default_view = XView;
                
                      X.prototype.type = 'Glyph';
                
                      X.prototype.display_defaults = function() {
                        return _.extend(X.__super__.display_defaults.call(this), {
                          line_color: 'red',
                          line_width: 1,
                          line_alpha: 1.0,
                          line_join: 'miter',
                          line_cap: 'butt',
                          line_dash: [],
                          line_dash_offset: 0
                        });
                      };
                
                      return X;
                
                    })(Marker.Model);
                    return {
                      "Model": X,
                      "View": XView
                    };
                  });
                
                }).call(this);
                
                /*
                //@ sourceMappingURL=x.js.map
                */;
                (function() {
                  var __hasProp = {}.hasOwnProperty,
                    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };
                
                  define('renderer/glyph/glyph_factory',['require','exports','module','underscore','common/has_parent','common/plot_widget','./annular_wedge','./annulus','./arc','./asterisk','./bezier','./circle','./circle_x','./circle_cross','./diamond','./diamond_cross','./gear','./image','./image_rgba','./image_url','./inverted_triangle','./line','./multi_line','./oval','./patch','./patches','./cross','./quad','./quadratic','./ray','./rect','./square','./square_x','./square_cross','./segment','./text','./triangle','./wedge','./x'],function(require, exports, module) {
                    var Glyph, HasParent, PlotWidget, annular_wedge, annulus, arc, asterisk, bezier, circle, circle_cross, circle_x, cross, diamond, diamond_cross, gear, glyphs, image, image_rgba, image_url, inverted_triangle, line, multi_line, oval, patch, patches, quad, quadratic, ray, rect, segment, square, square_cross, square_x, text, triangle, wedge, x, _, _ref;
                    _ = require("underscore");
                    HasParent = require("common/has_parent");
                    PlotWidget = require("common/plot_widget");
                    annular_wedge = require("./annular_wedge");
                    annulus = require("./annulus");
                    arc = require("./arc");
                    asterisk = require("./asterisk");
                    bezier = require("./bezier");
                    circle = require("./circle");
                    circle_x = require("./circle_x");
                    circle_cross = require("./circle_cross");
                    diamond = require("./diamond");
                    diamond_cross = require("./diamond_cross");
                    gear = require("./gear");
                    image = require("./image");
                    image_rgba = require("./image_rgba");
                    image_url = require("./image_url");
                    inverted_triangle = require("./inverted_triangle");
                    line = require("./line");
                    multi_line = require("./multi_line");
                    oval = require("./oval");
                    patch = require("./patch");
                    patches = require("./patches");
                    cross = require("./cross");
                    quad = require("./quad");
                    quadratic = require("./quadratic");
                    ray = require("./ray");
                    rect = require("./rect");
                    square = require("./square");
                    square_x = require("./square_x");
                    square_cross = require("./square_cross");
                    segment = require("./segment");
                    text = require("./text");
                    triangle = require("./triangle");
                    wedge = require("./wedge");
                    x = require("./x");
                    glyphs = {
                      "annular_wedge": annular_wedge.Model,
                      "annulus": annulus.Model,
                      "arc": arc.Model,
                      "asterisk": asterisk.Model,
                      "bezier": bezier.Model,
                      "circle": circle.Model,
                      "circle_x": circle_x.Model,
                      "circle_cross": circle_cross.Model,
                      "diamond": diamond.Model,
                      "diamond_cross": diamond_cross.Model,
                      "gear": gear.Model,
                      "image": image.Model,
                      "image_rgba": image_rgba.Model,
                      "image_url": image_url.Model,
                      "inverted_triangle": inverted_triangle.Model,
                      "line": line.Model,
                      "multi_line": multi_line.Model,
                      "oval": oval.Model,
                      "patch": patch.Model,
                      "patches": patches.Model,
                      "cross": cross.Model,
                      "quad": quad.Model,
                      "quadratic": quadratic.Model,
                      "ray": ray.Model,
                      "square": square.Model,
                      "square_x": square_x.Model,
                      "square_cross": square_cross.Model,
                      "rect": rect.Model,
                      "segment": segment.Model,
                      "text": text.Model,
                      "triangle": triangle.Model,
                      "wedge": wedge.Model,
                      "x": x.Model
                    };
                    Glyph = (function(_super) {
                      __extends(Glyph, _super);
                
                      function Glyph() {
                        _ref = Glyph.__super__.constructor.apply(this, arguments);
                        return _ref;
                      }
                
                      Glyph.prototype.model = function(attrs, options) {
                        var model, type, _ref1;
                        if (((_ref1 = attrs.glyphspec) != null ? _ref1.type : void 0) == null) {
                          console.log("missing glyph type");
                          return;
                        }
                        type = attrs.glyphspec.type;
                        if (!(type in glyphs)) {
                          console.log("unknown glyph type '" + type + "'");
                          return;
                        }
                        model = glyphs[type];
                        return new model(attrs, options);
                      };
                
                      return Glyph;
                
                    })(Backbone.Collection);
                    return {
                      "Collection": new Glyph()
                    };
                  });
                
                }).call(this);
                
                /*
                //@ sourceMappingURL=glyph_factory.js.map
                */;
                (function() {
                  var __hasProp = {}.hasOwnProperty,
                    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };
                
                  define('renderer/guide/axis',["underscore", "backbone", "common/safebind", "common/has_parent", "common/plot_widget", "renderer/properties"], function(_, Backbone, safebind, HasParent, PlotWidget, Properties) {
                    var Axis, AxisView, glyph_properties, line_properties, text_properties, _align_lookup, _align_lookup_negative, _align_lookup_positive, _angle_lookup, _baseline_lookup, _normal_lookup, _ref, _ref1;
                    glyph_properties = Properties.glyph_properties;
                    line_properties = Properties.line_properties;
                    text_properties = Properties.text_properties;
                    _angle_lookup = {
                      top: {
                        parallel: 0,
                        normal: -Math.PI / 2,
                        horizontal: 0,
                        vertical: -Math.PI / 2
                      },
                      bottom: {
                        parallel: 0,
                        normal: Math.PI / 2,
                        horizontal: 0,
                        vertical: Math.PI / 2
                      },
                      left: {
                        parallel: -Math.PI / 2,
                        normal: 0,
                        horizontal: 0,
                        vertical: -Math.PI / 2
                      },
                      right: {
                        parallel: Math.PI / 2,
                        normal: 0,
                        horizontal: 0,
                        vertical: Math.PI / 2
                      }
                    };
                    _baseline_lookup = {
                      top: {
                        parallel: 'alphabetic',
                        normal: 'middle',
                        horizontal: 'alphabetic',
                        vertical: 'middle'
                      },
                      bottom: {
                        parallel: 'hanging',
                        normal: 'middle',
                        horizontal: 'hanging',
                        vertical: 'middle'
                      },
                      left: {
                        parallel: 'alphabetic',
                        normal: 'middle',
                        horizontal: 'middle',
                        vertical: 'alphabetic'
                      },
                      right: {
                        parallel: 'alphabetic',
                        normal: 'middle',
                        horizontal: 'middle',
                        vertical: 'alphabetic'
                      }
                    };
                    _align_lookup = {
                      top: {
                        parallel: 'center',
                        normal: 'left',
                        horizontal: 'center',
                        vertical: 'left'
                      },
                      bottom: {
                        parallel: 'center',
                        normal: 'left',
                        horizontal: 'center',
                        vertical: 'right'
                      },
                      left: {
                        parallel: 'center',
                        normal: 'right',
                        horizontal: 'right',
                        vertical: 'center'
                      },
                      right: {
                        parallel: 'center',
                        normal: 'left',
                        horizontal: 'left',
                        vertical: 'center'
                      }
                    };
                    _align_lookup_negative = {
                      top: 'right',
                      bottom: 'left',
                      left: 'right',
                      right: 'left'
                    };
                    _align_lookup_positive = {
                      top: 'left',
                      bottom: 'right',
                      left: 'right',
                      right: 'left'
                    };
                    _normal_lookup = [
                      {
                        norm: {
                          norm: {
                            'min': +1,
                            'max': -1
                          },
                          flip: {
                            'min': -1,
                            'max': +1
                          }
                        },
                        flip: {
                          norm: {
                            'min': +1,
                            'max': -1
                          },
                          flip: {
                            'min': -1,
                            'max': +1
                          }
                        }
                      }, {
                        norm: {
                          norm: {
                            'min': -1,
                            'max': +1
                          },
                          flip: {
                            'min': -1,
                            'max': +1
                          }
                        },
                        flip: {
                          norm: {
                            'min': +1,
                            'max': -1
                          },
                          flip: {
                            'min': +1,
                            'max': -1
                          }
                        }
                      }
                    ];
                    AxisView = (function(_super) {
                      __extends(AxisView, _super);
                
                      function AxisView() {
                        _ref = AxisView.__super__.constructor.apply(this, arguments);
                        return _ref;
                      }
                
                      AxisView.prototype.initialize = function(options) {
                        AxisView.__super__.initialize.call(this, options);
                        this.rule_props = new line_properties(this, null, 'axis_');
                        this.major_tick_props = new line_properties(this, null, 'major_tick_');
                        this.minor_tick_props = new line_properties(this, null, 'minor_tick_');
                        this.major_label_props = new text_properties(this, null, 'major_label_');
                        return this.axis_label_props = new text_properties(this, null, 'axis_label_');
                      };
                
                      AxisView.prototype.render = function() {
                        var ctx;
                        ctx = this.plot_view.ctx;
                        ctx.save();
                        this._draw_rule(ctx);
                        this._draw_major_ticks(ctx);
                        this._draw_minor_ticks(ctx);
                        this._draw_major_labels(ctx);
                        this._draw_axis_label(ctx);
                        return ctx.restore();
                      };
                
                      AxisView.prototype.bind_bokeh_events = function() {
                        return safebind(this, this.model, 'change', this.request_render);
                      };
                
                      AxisView.prototype.padding_request = function() {
                        return this._padding_request();
                      };
                
                      AxisView.prototype._draw_rule = function(ctx) {
                        var coords, i, nx, ny, sx, sy, x, y, _i, _ref1, _ref2, _ref3, _ref4;
                        if (!this.rule_props.do_stroke) {
                          return;
                        }
                        _ref1 = coords = this.mget('rule_coords'), x = _ref1[0], y = _ref1[1];
                        _ref2 = this.plot_view.map_to_screen(x, "data", y, "data"), sx = _ref2[0], sy = _ref2[1];
                        _ref3 = this.mget('normals'), nx = _ref3[0], ny = _ref3[1];
                        this.rule_props.set(ctx, this);
                        ctx.beginPath();
                        ctx.moveTo(Math.round(sx[0]), Math.round(sy[0]));
                        for (i = _i = 1, _ref4 = sx.length; 1 <= _ref4 ? _i < _ref4 : _i > _ref4; i = 1 <= _ref4 ? ++_i : --_i) {
                          ctx.lineTo(Math.round(sx[i]), Math.round(sy[i]));
                        }
                        return ctx.stroke();
                      };
                
                      AxisView.prototype._draw_major_ticks = function(ctx) {
                        var coords, i, nx, ny, sx, sy, tin, tout, x, y, _i, _ref1, _ref2, _ref3, _ref4, _results;
                        if (!this.major_tick_props.do_stroke) {
                          return;
                        }
                        coords = this.mget('tick_coords');
                        _ref1 = coords.major, x = _ref1[0], y = _ref1[1];
                        _ref2 = this.plot_view.map_to_screen(x, "data", y, "data"), sx = _ref2[0], sy = _ref2[1];
                        _ref3 = this.mget('normals'), nx = _ref3[0], ny = _ref3[1];
                        tin = this.mget('major_tick_in');
                        tout = this.mget('major_tick_out');
                        this.major_tick_props.set(ctx, this);
                        _results = [];
                        for (i = _i = 0, _ref4 = sx.length; 0 <= _ref4 ? _i < _ref4 : _i > _ref4; i = 0 <= _ref4 ? ++_i : --_i) {
                          ctx.beginPath();
                          ctx.moveTo(Math.round(sx[i] + nx * tout), Math.round(sy[i] + ny * tout));
                          ctx.lineTo(Math.round(sx[i] - nx * tin), Math.round(sy[i] - ny * tin));
                          _results.push(ctx.stroke());
                        }
                        return _results;
                      };
                
                      AxisView.prototype._draw_minor_ticks = function(ctx) {
                        var coords, i, nx, ny, sx, sy, tin, tout, x, y, _i, _ref1, _ref2, _ref3, _ref4, _results;
                        if (!this.minor_tick_props.do_stroke) {
                          return;
                        }
                        coords = this.mget('tick_coords');
                        _ref1 = coords.minor, x = _ref1[0], y = _ref1[1];
                        _ref2 = this.plot_view.map_to_screen(x, "data", y, "data"), sx = _ref2[0], sy = _ref2[1];
                        _ref3 = this.mget('normals'), nx = _ref3[0], ny = _ref3[1];
                        tin = this.mget('minor_tick_in');
                        tout = this.mget('minor_tick_out');
                        this.minor_tick_props.set(ctx, this);
                        _results = [];
                        for (i = _i = 0, _ref4 = sx.length; 0 <= _ref4 ? _i < _ref4 : _i > _ref4; i = 0 <= _ref4 ? ++_i : --_i) {
                          ctx.beginPath();
                          ctx.moveTo(Math.round(sx[i] + nx * tout), Math.round(sy[i] + ny * tout));
                          ctx.lineTo(Math.round(sx[i] - nx * tin), Math.round(sy[i] - ny * tin));
                          _results.push(ctx.stroke());
                        }
                        return _results;
                      };
                
                      AxisView.prototype._draw_major_labels = function(ctx) {
                        var angle, coords, dim, i, labels, nx, ny, orient, side, standoff, sx, sy, x, y, _i, _ref1, _ref2, _ref3, _ref4, _results;
                        coords = this.mget('tick_coords');
                        _ref1 = coords.major, x = _ref1[0], y = _ref1[1];
                        _ref2 = this.plot_view.map_to_screen(x, "data", y, "data"), sx = _ref2[0], sy = _ref2[1];
                        _ref3 = this.mget('normals'), nx = _ref3[0], ny = _ref3[1];
                        dim = this.mget('dimension');
                        side = this.mget('side');
                        orient = this.mget('major_label_orientation');
                        if (_.isString(orient)) {
                          angle = _angle_lookup[side][orient];
                        } else {
                          angle = -orient;
                        }
                        standoff = this._tick_extent() + this.mget('major_label_standoff');
                        labels = this.mget_obj('formatter').format(coords.major[dim]);
                        this.major_label_props.set(ctx, this);
                        this._apply_location_heuristics(ctx, side, orient);
                        _results = [];
                        for (i = _i = 0, _ref4 = sx.length; 0 <= _ref4 ? _i < _ref4 : _i > _ref4; i = 0 <= _ref4 ? ++_i : --_i) {
                          if (angle) {
                            ctx.translate(sx[i] + nx * standoff, sy[i] + ny * standoff);
                            ctx.rotate(angle);
                            ctx.fillText(labels[i], 0, 0);
                            ctx.rotate(-angle);
                            _results.push(ctx.translate(-sx[i] - nx * standoff, -sy[i] - ny * standoff));
                          } else {
                            _results.push(ctx.fillText(labels[i], Math.round(sx[i] + nx * standoff), Math.round(sy[i] + ny * standoff)));
                          }
                        }
                        return _results;
                      };
                
                      AxisView.prototype._draw_axis_label = function(ctx) {
                        var angle, label, nx, ny, orient, side, standoff, sx, sy, x, y, _ref1, _ref2, _ref3;
                        label = this.mget('axis_label');
                        if (label == null) {
                          return;
                        }
                        _ref1 = this.mget('rule_coords'), x = _ref1[0], y = _ref1[1];
                        _ref2 = this.plot_view.map_to_screen(x, "data", y, "data"), sx = _ref2[0], sy = _ref2[1];
                        _ref3 = this.mget('normals'), nx = _ref3[0], ny = _ref3[1];
                        side = this.mget('side');
                        orient = 'parallel';
                        angle = _angle_lookup[side][orient];
                        standoff = this._tick_extent() + this._tick_label_extent() + this.mget('axis_label_standoff');
                        sx = (sx[0] + sx[sx.length - 1]) / 2;
                        sy = (sy[0] + sy[sy.length - 1]) / 2;
                        this.axis_label_props.set(ctx, this);
                        this._apply_location_heuristics(ctx, side, orient);
                        if (angle) {
                          ctx.translate(sx + nx * standoff, sy + ny * standoff);
                          ctx.rotate(angle);
                          ctx.fillText(label, 0, 0);
                          ctx.rotate(-angle);
                          return ctx.translate(-sx - nx * standoff, -sy - ny * standoff);
                        } else {
                          return ctx.fillText(label, sx + nx * standoff, sy + ny * standoff);
                        }
                      };
                
                      AxisView.prototype._apply_location_heuristics = function(ctx, side, orient) {
                        var align, baseline;
                        if (_.isString(orient)) {
                          baseline = _baseline_lookup[side][orient];
                          align = _align_lookup[side][orient];
                        } else if (orient === 0) {
                          baseline = _baseline_lookup[side][orient];
                          align = _align_lookup[side][orient];
                        } else if (orient < 0) {
                          baseline = 'middle';
                          align = _align_lookup_negative[side];
                        } else if (orient > 0) {
                          baseline = 'middle';
                          align = _align_lookup_positive[side];
                        }
                        ctx.textBaseline = baseline;
                        return ctx.textAlign = align;
                      };
                
                      AxisView.prototype._tick_extent = function() {
                        return Math.max(this.mget('major_tick_out'), this.mget('minor_tick_out'));
                      };
                
                      AxisView.prototype._tick_label_extent = function() {
                        var angle, c, coords, dim, extent, factor, h, i, labels, orient, s, side, val, w, _i, _j, _ref1, _ref2;
                        extent = 0;
                        dim = this.mget('dimension');
                        coords = this.mget('tick_coords').major;
                        side = this.mget('side');
                        orient = this.mget('major_label_orientation');
                        labels = this.mget_obj('formatter').format(coords[dim]);
                        this.major_label_props.set(this.plot_view.ctx, this);
                        if (_.isString(orient)) {
                          factor = 1;
                          angle = _angle_lookup[side][orient];
                        } else {
                          factor = 2;
                          angle = -orient;
                        }
                        angle = Math.abs(angle);
                        c = Math.cos(angle);
                        s = Math.sin(angle);
                        if (side === "top" || side === "bottom") {
                          for (i = _i = 0, _ref1 = labels.length; 0 <= _ref1 ? _i < _ref1 : _i > _ref1; i = 0 <= _ref1 ? ++_i : --_i) {
                            if (labels[i] == null) {
                              continue;
                            }
                            w = this.plot_view.ctx.measureText(labels[i]).width * 1.1;
                            h = this.plot_view.ctx.measureText(labels[i]).ascent * 0.9;
                            val = w * s + (h / factor) * c;
                            if (val > extent) {
                              extent = val;
                            }
                          }
                        } else {
                          for (i = _j = 0, _ref2 = labels.length; 0 <= _ref2 ? _j < _ref2 : _j > _ref2; i = 0 <= _ref2 ? ++_j : --_j) {
                            if (labels[i] == null) {
                              continue;
                            }
                            w = this.plot_view.ctx.measureText(labels[i]).width * 1.1;
                            h = this.plot_view.ctx.measureText(labels[i]).ascent * 0.9;
                            val = w * c + (h / factor) * s;
                            if (val > extent) {
                              extent = val;
                            }
                          }
                        }
                        if (extent > 0) {
                          extent += this.mget('major_label_standoff');
                        }
                        return extent;
                      };
                
                      AxisView.prototype._axis_label_extent = function() {
                        var angle, c, extent, h, orient, s, side, w;
                        extent = 0;
                        side = this.mget('side');
                        orient = 'parallel';
                        this.major_label_props.set(this.plot_view.ctx, this);
                        angle = Math.abs(_angle_lookup[side][orient]);
                        c = Math.cos(angle);
                        s = Math.sin(angle);
                        if (this.mget('axis_label')) {
                          extent += this.mget('axis_label_standoff');
                          this.axis_label_props.set(this.plot_view.ctx, this);
                          w = this.plot_view.ctx.measureText(this.mget('axis_label')).width * 1.1;
                          h = this.plot_view.ctx.measureText(this.mget('axis_label')).ascent * 0.9;
                          if (side === "top" || side === "bottom") {
                            extent += w * s + h * c;
                          } else {
                            extent += w * c + h * s;
                          }
                        }
                        return extent;
                      };
                
                      AxisView.prototype._padding_request = function() {
                        var loc, padding, req, side, _ref1;
                        req = {};
                        side = this.mget('side');
                        loc = (_ref1 = this.mget('location')) != null ? _ref1 : 'min';
                        if (!_.isString(loc)) {
                          return req;
                        }
                        padding = 0;
                        padding += this._tick_extent();
                        padding += this._tick_label_extent();
                        padding += this._axis_label_extent();
                        req[side] = padding;
                        return req;
                      };
                
                      return AxisView;
                
                    })(PlotWidget);
                    Axis = (function(_super) {
                      __extends(Axis, _super);
                
                      function Axis() {
                        _ref1 = Axis.__super__.constructor.apply(this, arguments);
                        return _ref1;
                      }
                
                      Axis.prototype.default_view = AxisView;
                
                      Axis.prototype.type = 'Axis';
                
                      Axis.prototype.initialize = function(attrs, options) {
                        Axis.__super__.initialize.call(this, attrs, options);
                        this.register_property('computed_bounds', this._bounds, false);
                        this.add_dependencies('computed_bounds', this, ['bounds']);
                        this.register_property('rule_coords', this._rule_coords, false);
                        this.add_dependencies('rule_coords', this, ['computed_bounds', 'dimension', 'location']);
                        this.register_property('tick_coords', this._tick_coords, false);
                        this.add_dependencies('tick_coords', this, ['computed_bounds', 'dimension', 'location']);
                        this.register_property('normals', this._normals, true);
                        this.add_dependencies('normals', this, ['computed_bounds', 'dimension', 'location']);
                        this.register_property('side', this._side, false);
                        this.add_dependencies('side', this, ['normals']);
                        return this.register_property('padding_request', this._padding_request, false);
                      };
                
                      Axis.prototype.dinitialize = function(attrs, options) {
                        return this.add_dependencies('computed_bounds', this.get_obj('plot'), ['x_range', 'y_range']);
                      };
                
                      Axis.prototype._bounds = function() {
                        var end, i, j, range_bounds, ranges, start, user_bounds, _ref2;
                        i = this.get('dimension');
                        j = (i + 1) % 2;
                        ranges = [this.get_obj('plot').get_obj('x_range'), this.get_obj('plot').get_obj('y_range')];
                        user_bounds = (_ref2 = this.get('bounds')) != null ? _ref2 : 'auto';
                        range_bounds = [ranges[i].get('min'), ranges[i].get('max')];
                        if (_.isArray(user_bounds)) {
                          if (Math.abs(user_bounds[0] - user_bounds[1]) > Math.abs(range_bounds[0] - range_bounds[1])) {
                            start = Math.max(Math.min(user_bounds[0], user_bounds[1]), range_bounds[0]);
                            end = Math.min(Math.max(user_bounds[0], user_bounds[1]), range_bounds[1]);
                          } else {
                            start = Math.min(user_bounds[0], user_bounds[1]);
                            end = Math.max(user_bounds[0], user_bounds[1]);
                          }
                        } else {
                          start = range_bounds[0], end = range_bounds[1];
                        }
                        return [start, end];
                      };
                
                      Axis.prototype._rule_coords = function() {
                        var cend, coords, cross_range, cstart, end, i, j, loc, range, ranges, start, xs, ys, _ref2, _ref3;
                        i = this.get('dimension');
                        j = (i + 1) % 2;
                        ranges = [this.get_obj('plot').get_obj('x_range'), this.get_obj('plot').get_obj('y_range')];
                        range = ranges[i];
                        cross_range = ranges[j];
                        _ref2 = this.get('computed_bounds'), start = _ref2[0], end = _ref2[1];
                        xs = new Array(2);
                        ys = new Array(2);
                        coords = [xs, ys];
                        cstart = cross_range.get('start');
                        cend = cross_range.get('end');
                        loc = (_ref3 = this.get('location')) != null ? _ref3 : 'min';
                        if (_.isString(loc)) {
                          if (loc === 'left' || loc === 'bottom') {
                            if (cstart < cend) {
                              loc = 'start';
                            } else {
                              loc = 'end';
                            }
                          } else if (loc === 'right' || loc === 'top') {
                            if (cstart < cend) {
                              loc = 'end';
                            } else {
                              loc = 'start';
                            }
                          }
                          loc = cross_range.get(loc);
                        }
                        coords[i][0] = Math.max(start, range.get('min'));
                        coords[i][1] = Math.min(end, range.get('max'));
                        if (coords[i][0] > coords[i][1]) {
                          coords[i][0] = coords[i][1] = NaN;
                        }
                        coords[j][0] = loc;
                        coords[j][1] = loc;
                        return coords;
                      };
                
                      Axis.prototype._tick_coords = function() {
                        var cend, coords, cross_range, cstart, end, i, ii, j, loc, majors, minor_coords, minor_xs, minor_ys, minors, range, range_max, range_min, ranges, start, ticks, xs, ys, _i, _j, _k, _ref2, _ref3, _ref4, _ref5, _ref6, _ref7;
                        i = this.get('dimension');
                        j = (i + 1) % 2;
                        ranges = [this.get_obj('plot').get_obj('x_range'), this.get_obj('plot').get_obj('y_range')];
                        range = ranges[i];
                        cross_range = ranges[j];
                        _ref2 = this.get('computed_bounds'), start = _ref2[0], end = _ref2[1];
                        ticks = this.get_obj('ticker').get_ticks(start, end, range, {});
                        majors = ticks.major;
                        minors = ticks.minor;
                        cstart = cross_range.get('start');
                        cend = cross_range.get('end');
                        loc = (_ref3 = this.get('location')) != null ? _ref3 : 'min';
                        if (_.isString(loc)) {
                          if (loc === 'left' || loc === 'bottom') {
                            if (cstart < cend) {
                              loc = 'start';
                            } else {
                              loc = 'end';
                            }
                          } else if (loc === 'right' || loc === 'top') {
                            if (cstart < cend) {
                              loc = 'end';
                            } else {
                              loc = 'start';
                            }
                          }
                          loc = cross_range.get(loc);
                        }
                        xs = [];
                        ys = [];
                        coords = [xs, ys];
                        minor_xs = [];
                        minor_ys = [];
                        minor_coords = [minor_xs, minor_ys];
                        if (range.type === "FactorRange") {
                          for (ii = _i = 0, _ref4 = majors.length; 0 <= _ref4 ? _i < _ref4 : _i > _ref4; ii = 0 <= _ref4 ? ++_i : --_i) {
                            coords[i].push(majors[ii]);
                            coords[j].push(loc);
                          }
                        } else {
                          _ref5 = [range.get('min'), range.get('max')], range_min = _ref5[0], range_max = _ref5[1];
                          for (ii = _j = 0, _ref6 = majors.length; 0 <= _ref6 ? _j < _ref6 : _j > _ref6; ii = 0 <= _ref6 ? ++_j : --_j) {
                            if (majors[ii] < range_min || majors[ii] > range_max) {
                              continue;
                            }
                            coords[i].push(majors[ii]);
                            coords[j].push(loc);
                          }
                          for (ii = _k = 0, _ref7 = minors.length; 0 <= _ref7 ? _k < _ref7 : _k > _ref7; ii = 0 <= _ref7 ? ++_k : --_k) {
                            if (minors[ii] < range_min || minors[ii] > range_max) {
                              continue;
                            }
                            minor_coords[i].push(minors[ii]);
                            minor_coords[j].push(loc);
                          }
                        }
                        return {
                          "major": coords,
                          "minor": minor_coords
                        };
                      };
                
                      Axis.prototype._normals = function() {
                        var cend, cross_range, cstart, end, i, idir, j, jdir, loc, normals, range, ranges, start, _ref2, _ref3;
                        i = this.get('dimension');
                        j = (i + 1) % 2;
                        ranges = [this.get_obj('plot').get_obj('x_range'), this.get_obj('plot').get_obj('y_range')];
                        range = ranges[i];
                        cross_range = ranges[j];
                        _ref2 = this.get('computed_bounds'), start = _ref2[0], end = _ref2[1];
                        cstart = cross_range.get('start');
                        cend = cross_range.get('end');
                        loc = (_ref3 = this.get('location')) != null ? _ref3 : 'min';
                        normals = [0, 0];
                        if (_.isString(loc)) {
                          if (start > end) {
                            idir = "flip";
                          } else {
                            idir = "norm";
                          }
                          if (cstart > cend) {
                            jdir = "flip";
                            if (loc === "left" || loc === "bottom") {
                              loc = "max";
                            } else if (loc === "top" || loc === "right") {
                              loc = "max";
                            }
                          } else {
                            jdir = "norm";
                            if (loc === "left" || loc === "bottom") {
                              loc = "min";
                            } else if (loc === "top" || loc === "right") {
                              loc = "max";
                            }
                          }
                          normals[j] = _normal_lookup[i][idir][jdir][loc];
                        } else {
                          if (i === 0) {
                            if (Math.abs(loc - cstart) <= Math.abs(loc - cend)) {
                              normals[j] = 1;
                            } else {
                              normals[j] = -1;
                            }
                          } else {
                            if (Math.abs(loc - cstart) <= Math.abs(loc - cend)) {
                              normals[j] = -1;
                            } else {
                              normals[j] = 1;
                            }
                          }
                        }
                        return normals;
                      };
                
                      Axis.prototype._side = function() {
                        var n, side;
                        n = this.get('normals');
                        if (n[1] === -1) {
                          side = 'top';
                        } else if (n[1] === 1) {
                          side = 'bottom';
                        } else if (n[0] === -1) {
                          side = 'left';
                        } else if (n[0] === 1) {
                          side = 'right';
                        }
                        return side;
                      };
                
                      Axis.prototype.display_defaults = function() {
                        return {
                          level: 'overlay',
                          axis_line_color: 'black',
                          axis_line_width: 1,
                          axis_line_alpha: 1.0,
                          axis_line_join: 'miter',
                          axis_line_cap: 'butt',
                          axis_line_dash: [],
                          axis_line_dash_offset: 0,
                          major_tick_in: 2,
                          major_tick_out: 6,
                          major_tick_line_color: 'black',
                          major_tick_line_width: 1,
                          major_tick_line_alpha: 1.0,
                          major_tick_line_join: 'miter',
                          major_tick_line_cap: 'butt',
                          major_tick_line_dash: [],
                          major_tick_line_dash_offset: 0,
                          major_label_standoff: 5,
                          minor_tick_in: 0,
                          minor_tick_out: 4,
                          minor_tick_line_color: 'black',
                          minor_tick_line_width: 1,
                          minor_tick_line_alpha: 1.0,
                          minor_tick_line_join: 'miter',
                          minor_tick_line_cap: 'butt',
                          minor_tick_line_dash: [],
                          minor_tick_line_dash_offset: 0,
                          major_label_standoff: 5,
                          major_label_orientation: "horizontal",
                          major_label_text_font: "helvetica",
                          major_label_text_font_size: "10pt",
                          major_label_text_font_style: "normal",
                          major_label_text_color: "#444444",
                          major_label_text_alpha: 1.0,
                          major_label_text_align: "center",
                          major_label_text_baseline: "alphabetic",
                          axis_label: "",
                          axis_label_standoff: 5,
                          axis_label_text_font: "helvetica",
                          axis_label_text_font_size: "16pt",
                          axis_label_text_font_style: "normal",
                          axis_label_text_color: "#444444",
                          axis_label_text_alpha: 1.0,
                          axis_label_text_align: "center",
                          axis_label_text_baseline: "alphabetic"
                        };
                      };
                
                      return Axis;
                
                    })(HasParent);
                    return {
                      "Model": Axis,
                      "View": AxisView
                    };
                  });
                
                }).call(this);
                
                /*
                //@ sourceMappingURL=axis.js.map
                */;
                (function() {
                  var __hasProp = {}.hasOwnProperty,
                    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };
                
                  define('ticking/categorical_ticker',["backbone", "common/has_properties"], function(Backbone, HasProperties) {
                    var CategoricalTicker, CategoricalTickers, _ref, _ref1;
                    CategoricalTicker = (function(_super) {
                      __extends(CategoricalTicker, _super);
                
                      function CategoricalTicker() {
                        _ref = CategoricalTicker.__super__.constructor.apply(this, arguments);
                        return _ref;
                      }
                
                      CategoricalTicker.prototype.type = 'CategoricalTicker';
                
                      CategoricalTicker.prototype.get_ticks = function(start, end, range, _arg) {
                        var desired_n_ticks;
                        desired_n_ticks = _arg.desired_n_ticks;
                        return {
                          "major": range.get("factors"),
                          "minor": []
                        };
                      };
                
                      CategoricalTicker.prototype.defaults = function() {
                        return CategoricalTicker.__super__.defaults.call(this);
                      };
                
                      return CategoricalTicker;
                
                    })(HasProperties);
                    CategoricalTickers = (function(_super) {
                      __extends(CategoricalTickers, _super);
                
                      function CategoricalTickers() {
                        _ref1 = CategoricalTickers.__super__.constructor.apply(this, arguments);
                        return _ref1;
                      }
                
                      CategoricalTickers.prototype.model = CategoricalTicker;
                
                      return CategoricalTickers;
                
                    })(Backbone.Collection);
                    return {
                      "Model": CategoricalTicker,
                      "Collection": new CategoricalTickers()
                    };
                  });
                
                }).call(this);
                
                /*
                //@ sourceMappingURL=categorical_ticker.js.map
                */;
                (function() {
                  var __hasProp = {}.hasOwnProperty,
                    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };
                
                  define('ticking/categorical_tick_formatter',["backbone", "common/has_properties"], function(Backbone, HasProperties) {
                    var CategoricalTickFormatter, CategoricalTickFormatters, _ref, _ref1;
                    CategoricalTickFormatter = (function(_super) {
                      __extends(CategoricalTickFormatter, _super);
                
                      function CategoricalTickFormatter() {
                        _ref = CategoricalTickFormatter.__super__.constructor.apply(this, arguments);
                        return _ref;
                      }
                
                      CategoricalTickFormatter.prototype.type = 'CategoricalTickFormatter';
                
                      CategoricalTickFormatter.prototype.initialize = function(attrs, options) {
                        return CategoricalTickFormatter.__super__.initialize.call(this, attrs, options);
                      };
                
                      CategoricalTickFormatter.prototype.format = function(ticks) {
                        return ticks;
                      };
                
                      return CategoricalTickFormatter;
                
                    })(HasProperties);
                    CategoricalTickFormatters = (function(_super) {
                      __extends(CategoricalTickFormatters, _super);
                
                      function CategoricalTickFormatters() {
                        _ref1 = CategoricalTickFormatters.__super__.constructor.apply(this, arguments);
                        return _ref1;
                      }
                
                      CategoricalTickFormatters.prototype.model = CategoricalTickFormatter;
                
                      CategoricalTickFormatters.prototype.defaults = function() {
                        return CategoricalTickFormatters.__super__.defaults.call(this);
                      };
                
                      return CategoricalTickFormatters;
                
                    })(Backbone.Collection);
                    return {
                      "Model": CategoricalTickFormatter,
                      "Collection": new CategoricalTickFormatters()
                    };
                  });
                
                }).call(this);
                
                /*
                //@ sourceMappingURL=categorical_tick_formatter.js.map
                */;
                (function() {
                  var __hasProp = {}.hasOwnProperty,
                    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };
                
                  define('renderer/guide/categorical_axis',["backbone", "./axis", "range/factor_range", "ticking/categorical_ticker", "ticking/categorical_tick_formatter"], function(Backbone, Axis, FactorRange, CategoricalTicker, CategoricalTickFormatter) {
                    var CategoricalAxes, CategoricalAxis, CategoricalAxisView, _ref, _ref1, _ref2;
                    CategoricalAxisView = (function(_super) {
                      __extends(CategoricalAxisView, _super);
                
                      function CategoricalAxisView() {
                        _ref = CategoricalAxisView.__super__.constructor.apply(this, arguments);
                        return _ref;
                      }
                
                      return CategoricalAxisView;
                
                    })(Axis.View);
                    CategoricalAxis = (function(_super) {
                      __extends(CategoricalAxis, _super);
                
                      function CategoricalAxis() {
                        _ref1 = CategoricalAxis.__super__.constructor.apply(this, arguments);
                        return _ref1;
                      }
                
                      CategoricalAxis.prototype.default_view = CategoricalAxisView;
                
                      CategoricalAxis.prototype.type = 'CategoricalAxis';
                
                      CategoricalAxis.prototype.dinitialize = function(attrs, objects) {
                        CategoricalAxis.__super__.dinitialize.call(this, attrs, objects);
                        if (this.get_obj('ticker') == null) {
                          this.set_obj('ticker', CategoricalTicker.Collection.create());
                        }
                        if (this.get_obj('formatter') == null) {
                          return this.set_obj('formatter', CategoricalTickFormatter.Collection.create());
                        }
                      };
                
                      CategoricalAxis.prototype._bounds = function() {
                        var i, range_bounds, ranges, user_bounds, _ref2;
                        i = this.get('dimension');
                        ranges = [this.get_obj('plot').get_obj('x_range'), this.get_obj('plot').get_obj('y_range')];
                        user_bounds = (_ref2 = this.get('bounds')) != null ? _ref2 : 'auto';
                        if (user_bounds !== 'auto') {
                          console.log("Categorical Axes only support user_bounds='auto', ignoring");
                        }
                        range_bounds = [ranges[i].get('min'), ranges[i].get('max')];
                        return range_bounds;
                      };
                
                      return CategoricalAxis;
                
                    })(Axis.Model);
                    CategoricalAxes = (function(_super) {
                      __extends(CategoricalAxes, _super);
                
                      function CategoricalAxes() {
                        _ref2 = CategoricalAxes.__super__.constructor.apply(this, arguments);
                        return _ref2;
                      }
                
                      CategoricalAxes.prototype.model = CategoricalAxis;
                
                      return CategoricalAxes;
                
                    })(Backbone.Collection);
                    return {
                      "Model": CategoricalAxis,
                      "Collection": new CategoricalAxes(),
                      "View": CategoricalAxisView
                    };
                  });
                
                }).call(this);
                
                /*
                //@ sourceMappingURL=categorical_axis.js.map
                */;
                (function() {
                  var __hasProp = {}.hasOwnProperty,
                    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };
                
                  define('ticking/abstract_ticker',["underscore", "backbone", "common/has_properties"], function(_, Backbone, HasProperties) {
                    var AbstractTicker, AbstractTickers, DEFAULT_DESIRED_N_TICKS, repr, _ref, _ref1;
                    repr = function(obj) {
                      var elem, elems_str, key, obj_as_string, props_str;
                      if (obj === null) {
                        return "null";
                      }
                      if (obj == null) {
                        return "undefined";
                      } else if (obj.constructor === Array) {
                        elems_str = ((function() {
                          var _i, _len, _results;
                          _results = [];
                          for (_i = 0, _len = obj.length; _i < _len; _i++) {
                            elem = obj[_i];
                            _results.push(repr(elem));
                          }
                          return _results;
                        })()).join(", ");
                        return "[" + elems_str + "]";
                      } else if (obj.constructor === Object) {
                        props_str = ((function() {
                          var _results;
                          _results = [];
                          for (key in obj) {
                            _results.push("" + key + ": " + (repr(obj[key])));
                          }
                          return _results;
                        })()).join(", ");
                        return "{" + props_str + "}";
                      } else if (obj.constructor === String) {
                        return "\"" + obj + "\"";
                      } else if (obj.constructor === Function) {
                        return "<Function: " + obj.name + ">";
                      } else {
                        obj_as_string = obj.toString();
                        if (obj_as_string === "[object Object]") {
                          return "<" + obj.constructor.name + ">";
                        } else {
                          return obj_as_string;
                        }
                      }
                    };
                    DEFAULT_DESIRED_N_TICKS = 6;
                    AbstractTicker = (function(_super) {
                      __extends(AbstractTicker, _super);
                
                      function AbstractTicker() {
                        _ref = AbstractTicker.__super__.constructor.apply(this, arguments);
                        return _ref;
                      }
                
                      AbstractTicker.prototype.type = 'AbstractTicker';
                
                      AbstractTicker.prototype.initialize = function(attrs, options) {
                        return AbstractTicker.__super__.initialize.call(this, attrs, options);
                      };
                
                      AbstractTicker.prototype.get_ticks = function(data_low, data_high, range, _arg) {
                        var desired_n_ticks;
                        desired_n_ticks = _arg.desired_n_ticks;
                        if (desired_n_ticks == null) {
                          desired_n_ticks = DEFAULT_DESIRED_N_TICKS;
                        }
                        return this.get_ticks_no_defaults(data_low, data_high, desired_n_ticks);
                      };
                
                      AbstractTicker.prototype.get_ticks_no_defaults = function(data_low, data_high, desired_n_ticks) {
                        var end_factor, factor, factors, i, interval, minor_interval, minor_offsets, minor_ticks, num_minor_ticks, start_factor, tick, ticks, x, _i, _j, _k, _len, _len1, _len2;
                        interval = this.get_interval(data_low, data_high, desired_n_ticks);
                        start_factor = Math.floor(data_low / interval);
                        end_factor = Math.ceil(data_high / interval);
                        if (_.isNaN(start_factor) || _.isNaN(end_factor)) {
                          factors = [];
                        } else {
                          factors = _.range(start_factor, end_factor + 1);
                        }
                        ticks = (function() {
                          var _i, _len, _results;
                          _results = [];
                          for (_i = 0, _len = factors.length; _i < _len; _i++) {
                            factor = factors[_i];
                            _results.push(factor * interval);
                          }
                          return _results;
                        })();
                        num_minor_ticks = this.get("num_minor_ticks");
                        minor_ticks = [];
                        if (num_minor_ticks > 1) {
                          minor_interval = interval / num_minor_ticks;
                          minor_offsets = (function() {
                            var _i, _results;
                            _results = [];
                            for (i = _i = 1; 1 <= num_minor_ticks ? _i <= num_minor_ticks : _i >= num_minor_ticks; i = 1 <= num_minor_ticks ? ++_i : --_i) {
                              _results.push(i * minor_interval);
                            }
                            return _results;
                          })();
                          for (_i = 0, _len = minor_offsets.length; _i < _len; _i++) {
                            x = minor_offsets[_i];
                            minor_ticks.push(ticks[0] - x);
                          }
                          for (_j = 0, _len1 = ticks.length; _j < _len1; _j++) {
                            tick = ticks[_j];
                            for (_k = 0, _len2 = minor_offsets.length; _k < _len2; _k++) {
                              x = minor_offsets[_k];
                              minor_ticks.push(tick + x);
                            }
                          }
                        }
                        return {
                          "major": ticks,
                          "minor": minor_ticks
                        };
                      };
                
                      AbstractTicker.prototype.get_interval = void 0;
                
                      AbstractTicker.prototype.get_min_interval = function() {
                        return this.get('min_interval');
                      };
                
                      AbstractTicker.prototype.get_max_interval = function() {
                        return this.get('max_interval');
                      };
                
                      AbstractTicker.prototype.toString = function() {
                        var class_name, key, params_str, props;
                        class_name = typeof this;
                        props = this.get('toString_properties');
                        params_str = ((function() {
                          var _i, _len, _results;
                          _results = [];
                          for (_i = 0, _len = props.length; _i < _len; _i++) {
                            key = props[_i];
                            _results.push("" + key + "=" + (repr(this[key])));
                          }
                          return _results;
                        }).call(this)).join(", ");
                        return "" + class_name + "(" + params_str + ")";
                      };
                
                      AbstractTicker.prototype.get_ideal_interval = function(data_low, data_high, desired_n_ticks) {
                        var data_range;
                        data_range = data_high - data_low;
                        return data_range / desired_n_ticks;
                      };
                
                      AbstractTicker.prototype.defaults = function() {
                        return _.extend(AbstractTicker.__super__.defaults.call(this), {
                          toString_properties: [],
                          num_minor_ticks: 5
                        });
                      };
                
                      return AbstractTicker;
                
                    })(HasProperties);
                    AbstractTickers = (function(_super) {
                      __extends(AbstractTickers, _super);
                
                      function AbstractTickers() {
                        _ref1 = AbstractTickers.__super__.constructor.apply(this, arguments);
                        return _ref1;
                      }
                
                      AbstractTickers.prototype.model = AbstractTicker;
                
                      return AbstractTickers;
                
                    })(Backbone.Collection);
                    return {
                      "Model": AbstractTicker,
                      "Collection": new AbstractTickers()
                    };
                  });
                
                }).call(this);
                
                /*
                //@ sourceMappingURL=abstract_ticker.js.map
                */;
                (function() {
                  define('ticking/util',["underscore", "backbone"], function(_, Backbone) {
                    var ONE_DAY, ONE_HOUR, ONE_MILLI, ONE_MINUTE, ONE_MONTH, ONE_SECOND, ONE_YEAR, argmin, copy_date, last_month_no_later_than, last_year_no_later_than;
                    ONE_MILLI = 1.0;
                    ONE_SECOND = 1000.0;
                    ONE_MINUTE = 60.0 * ONE_SECOND;
                    ONE_HOUR = 60 * ONE_MINUTE;
                    ONE_DAY = 24 * ONE_HOUR;
                    ONE_MONTH = 30 * ONE_DAY;
                    ONE_YEAR = 365 * ONE_DAY;
                    argmin = function(arr) {
                      var ret;
                      ret = _.min(_.range(arr.length), (function(i) {
                        return arr[i];
                      }));
                      return ret;
                    };
                    copy_date = function(date) {
                      return new Date(date.getTime());
                    };
                    last_month_no_later_than = function(date) {
                      date = copy_date(date);
                      date.setUTCDate(1);
                      date.setUTCHours(0);
                      date.setUTCMinutes(0);
                      date.setUTCSeconds(0);
                      date.setUTCMilliseconds(0);
                      return date;
                    };
                    last_year_no_later_than = function(date) {
                      date = last_month_no_later_than(date);
                      date.setUTCMonth(0);
                      return date;
                    };
                    return {
                      "argmin": argmin,
                      "copy_date": copy_date,
                      "last_month_no_later_than": last_month_no_later_than,
                      "last_year_no_later_than": last_year_no_later_than,
                      "ONE_MILLI": ONE_MILLI,
                      "ONE_SECOND": ONE_SECOND,
                      "ONE_MINUTE": ONE_MINUTE,
                      "ONE_HOUR": ONE_HOUR,
                      "ONE_DAY": ONE_DAY,
                      "ONE_MONTH": ONE_MONTH,
                      "ONE_YEAR": ONE_YEAR
                    };
                  });
                
                }).call(this);
                
                /*
                //@ sourceMappingURL=util.js.map
                */;
                (function() {
                  var __hasProp = {}.hasOwnProperty,
                    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };
                
                  define('ticking/adaptive_ticker',["underscore", "backbone", "ticking/abstract_ticker", "ticking/util"], function(_, Backbone, AbstractTicker, util) {
                    var AdaptiveTicker, AdaptiveTickers, argmin, clamp, log, _ref, _ref1;
                    argmin = util.argmin;
                    clamp = function(x, min_val, max_val) {
                      return Math.max(min_val, Math.min(max_val, x));
                    };
                    log = function(x, base) {
                      if (base == null) {
                        base = Math.E;
                      }
                      return Math.log(x) / Math.log(base);
                    };
                    AdaptiveTicker = (function(_super) {
                      __extends(AdaptiveTicker, _super);
                
                      function AdaptiveTicker() {
                        _ref = AdaptiveTicker.__super__.constructor.apply(this, arguments);
                        return _ref;
                      }
                
                      AdaptiveTicker.prototype.type = 'AdaptiveTicker';
                
                      AdaptiveTicker.prototype.initialize = function(attrs, options) {
                        var prefix_mantissa, suffix_mantissa;
                        AdaptiveTicker.__super__.initialize.call(this, attrs, options);
                        prefix_mantissa = _.last(this.get('mantissas')) / this.get('base');
                        suffix_mantissa = _.first(this.get('mantissas')) * this.get('base');
                        this.extended_mantissas = _.flatten([prefix_mantissa, this.get('mantissas'), suffix_mantissa]);
                        return this.base_factor = this.get('min_interval') === 0.0 ? 1.0 : this.get('min_interval');
                      };
                
                      AdaptiveTicker.prototype.get_interval = function(data_low, data_high, desired_n_ticks) {
                        var best_mantissa, candidate_mantissas, data_range, errors, ideal_interval, ideal_magnitude, ideal_mantissa, interval, interval_exponent;
                        data_range = data_high - data_low;
                        ideal_interval = this.get_ideal_interval(data_low, data_high, desired_n_ticks);
                        interval_exponent = Math.floor(log(ideal_interval / this.base_factor, this.get('base')));
                        ideal_magnitude = Math.pow(this.get('base'), interval_exponent) * this.base_factor;
                        ideal_mantissa = ideal_interval / ideal_magnitude;
                        candidate_mantissas = this.extended_mantissas;
                        errors = candidate_mantissas.map(function(mantissa) {
                          return Math.abs(desired_n_ticks - (data_range / (mantissa * ideal_magnitude)));
                        });
                        best_mantissa = candidate_mantissas[argmin(errors)];
                        interval = best_mantissa * ideal_magnitude;
                        return clamp(interval, this.get('min_interval'), this.get('max_interval'));
                      };
                
                      AdaptiveTicker.prototype.defaults = function() {
                        return _.extend(AdaptiveTicker.__super__.defaults.call(this), {
                          toString_properties: ['mantissas', 'base', 'min_magnitude', 'max_magnitude'],
                          base: 10.0,
                          min_interval: 0.0,
                          max_interval: Infinity
                        });
                      };
                
                      return AdaptiveTicker;
                
                    })(AbstractTicker.Model);
                    AdaptiveTickers = (function(_super) {
                      __extends(AdaptiveTickers, _super);
                
                      function AdaptiveTickers() {
                        _ref1 = AdaptiveTickers.__super__.constructor.apply(this, arguments);
                        return _ref1;
                      }
                
                      AdaptiveTickers.prototype.model = AdaptiveTicker;
                
                      return AdaptiveTickers;
                
                    })(Backbone.Collection);
                    return {
                      "Model": AdaptiveTicker,
                      "Collection": new AdaptiveTickers()
                    };
                  });
                
                }).call(this);
                
                /*
                //@ sourceMappingURL=adaptive_ticker.js.map
                */;
                (function() {
                  var __hasProp = {}.hasOwnProperty,
                    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };
                
                  define('ticking/composite_ticker',["underscore", "backbone", "ticking/abstract_ticker", "ticking/util"], function(_, Backbone, AbstractTicker, util) {
                    var CompositeTicker, CompositeTickers, argmin, _ref, _ref1;
                    argmin = util.argmin;
                    CompositeTicker = (function(_super) {
                      __extends(CompositeTicker, _super);
                
                      function CompositeTicker() {
                        _ref = CompositeTicker.__super__.constructor.apply(this, arguments);
                        return _ref;
                      }
                
                      CompositeTicker.prototype.type = 'CompositeTicker';
                
                      CompositeTicker.prototype.initialize = function(attrs, options) {
                        var tickers;
                        CompositeTicker.__super__.initialize.call(this, attrs, options);
                        tickers = this.get('tickers');
                        this.register_property('min_intervals', function() {
                          return _.invoke(tickers, 'get_min_interval');
                        }, true);
                        this.add_dependencies('min_intervals', this, ['tickers']);
                        this.register_property('max_intervals', function() {
                          return _.invoke(tickers, 'get_max_interval');
                        }, true);
                        this.add_dependencies('max_intervals', this, ['tickers']);
                        this.register_property('min_interval', function() {
                          return _.first(this.get('min_intervals'));
                        }, true);
                        this.add_dependencies('min_interval', this, ['min_intervals']);
                        this.register_property('max_interval', function() {
                          return _.first(this.get('max_intervals'));
                        }, true);
                        return this.add_dependencies('max_interval', this, ['max_interval']);
                      };
                
                      CompositeTicker.prototype.get_best_ticker = function(data_low, data_high, desired_n_ticks) {
                        var best_index, best_ticker, best_ticker_ndx, data_range, errors, ideal_interval, intervals, ticker_ndxs;
                        data_range = data_high - data_low;
                        ideal_interval = this.get_ideal_interval(data_low, data_high, desired_n_ticks);
                        ticker_ndxs = [_.sortedIndex(this.get('min_intervals'), ideal_interval) - 1, _.sortedIndex(this.get('max_intervals'), ideal_interval)];
                        intervals = [this.get('min_intervals')[ticker_ndxs[0]], this.get('max_intervals')[ticker_ndxs[1]]];
                        errors = intervals.map(function(interval) {
                          return Math.abs(desired_n_ticks - (data_range / interval));
                        });
                        best_index = argmin(errors);
                        if (best_index === Infinity) {
                          return this.get('tickers')[0];
                        }
                        best_ticker_ndx = ticker_ndxs[best_index];
                        best_ticker = this.get('tickers')[best_ticker_ndx];
                        return best_ticker;
                      };
                
                      CompositeTicker.prototype.get_interval = function(data_low, data_high, desired_n_ticks) {
                        var best_ticker;
                        best_ticker = this.get_best_ticker(data_low, data_high, desired_n_ticks);
                        return best_ticker.get_interval(data_low, data_high, desired_n_ticks);
                      };
                
                      CompositeTicker.prototype.get_ticks_no_defaults = function(data_low, data_high, desired_n_ticks) {
                        var best_ticker, ticks;
                        best_ticker = this.get_best_ticker(data_low, data_high, desired_n_ticks);
                        ticks = best_ticker.get_ticks_no_defaults(data_low, data_high, desired_n_ticks);
                        return ticks;
                      };
                
                      CompositeTicker.prototype.defaults = function() {
                        return CompositeTicker.__super__.defaults.call(this);
                      };
                
                      return CompositeTicker;
                
                    })(AbstractTicker.Model);
                    CompositeTickers = (function(_super) {
                      __extends(CompositeTickers, _super);
                
                      function CompositeTickers() {
                        _ref1 = CompositeTickers.__super__.constructor.apply(this, arguments);
                        return _ref1;
                      }
                
                      CompositeTickers.prototype.model = CompositeTicker;
                
                      return CompositeTickers;
                
                    })(Backbone.Collection);
                    return {
                      "Model": CompositeTicker,
                      "Collection": new CompositeTickers()
                    };
                  });
                
                }).call(this);
                
                /*
                //@ sourceMappingURL=composite_ticker.js.map
                */;
                (function() {
                  var __hasProp = {}.hasOwnProperty,
                    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };
                
                  define('ticking/single_interval_ticker',["underscore", "backbone", "ticking/abstract_ticker"], function(_, Backbone, AbstractTicker) {
                    var SingleIntervalTicker, SingleIntervalTickers, _ref, _ref1;
                    SingleIntervalTicker = (function(_super) {
                      __extends(SingleIntervalTicker, _super);
                
                      function SingleIntervalTicker() {
                        _ref = SingleIntervalTicker.__super__.constructor.apply(this, arguments);
                        return _ref;
                      }
                
                      SingleIntervalTicker.prototype.type = 'SingleIntervalTicker';
                
                      SingleIntervalTicker.prototype.initialize = function(attrs, options) {
                        SingleIntervalTicker.__super__.initialize.call(this, attrs, options);
                        this.register_property('min_interval', function() {
                          return this.get('interval');
                        }, true);
                        this.add_dependencies('min_interval', this, ['interval']);
                        this.register_property('max_interval', function() {
                          return this.get('interval');
                        }, true);
                        return this.add_dependencies('max_interval', this, ['interval']);
                      };
                
                      SingleIntervalTicker.prototype.get_interval = function(data_low, data_high, n_desired_ticks) {
                        return this.get('interval');
                      };
                
                      SingleIntervalTicker.prototype.defaults = function() {
                        return _.extend(SingleIntervalTicker.__super__.defaults.call(this), {
                          toString_properties: ['interval']
                        });
                      };
                
                      return SingleIntervalTicker;
                
                    })(AbstractTicker.Model);
                    SingleIntervalTickers = (function(_super) {
                      __extends(SingleIntervalTickers, _super);
                
                      function SingleIntervalTickers() {
                        _ref1 = SingleIntervalTickers.__super__.constructor.apply(this, arguments);
                        return _ref1;
                      }
                
                      SingleIntervalTickers.prototype.model = SingleIntervalTicker;
                
                      return SingleIntervalTickers;
                
                    })(Backbone.Collection);
                    return {
                      "Model": SingleIntervalTicker,
                      "Collection": new SingleIntervalTickers()
                    };
                  });
                
                }).call(this);
                
                /*
                //@ sourceMappingURL=single_interval_ticker.js.map
                */;
                (function() {
                  var __hasProp = {}.hasOwnProperty,
                    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };
                
                  define('ticking/days_ticker',["underscore", "backbone", "ticking/single_interval_ticker", "ticking/util"], function(_, Backbone, SingleIntervalTicker, util) {
                    var DaysTicker, DaysTickers, ONE_DAY, copy_date, date_range_by_month, last_month_no_later_than, _ref, _ref1;
                    copy_date = util.copy_date;
                    last_month_no_later_than = util.last_month_no_later_than;
                    ONE_DAY = util.ONE_DAY;
                    date_range_by_month = function(start_time, end_time) {
                      var date, dates, end_date, prev_end_date, start_date;
                      start_date = last_month_no_later_than(new Date(start_time));
                      end_date = last_month_no_later_than(new Date(end_time));
                      prev_end_date = copy_date(end_date);
                      end_date.setUTCMonth(end_date.getUTCMonth() + 1);
                      dates = [];
                      date = start_date;
                      while (true) {
                        dates.push(copy_date(date));
                        date.setUTCMonth(date.getUTCMonth() + 1);
                        if (date > end_date) {
                          break;
                        }
                      }
                      return dates;
                    };
                    DaysTicker = (function(_super) {
                      __extends(DaysTicker, _super);
                
                      function DaysTicker() {
                        _ref = DaysTicker.__super__.constructor.apply(this, arguments);
                        return _ref;
                      }
                
                      DaysTicker.prototype.type = 'DaysTicker';
                
                      DaysTicker.prototype.initialize = function(attrs, options) {
                        var days, interval;
                        attrs.num_minor_ticks = 0;
                        DaysTicker.__super__.initialize.call(this, attrs, options);
                        days = this.get('days');
                        interval = days.length > 1 ? (days[1] - days[0]) * ONE_DAY : 31 * ONE_DAY;
                        return this.set('interval', interval);
                      };
                
                      DaysTicker.prototype.get_ticks_no_defaults = function(data_low, data_high, desired_n_ticks) {
                        var all_ticks, date, day_dates, days, days_of_month, interval, month_dates, ticks_in_range,
                          _this = this;
                        month_dates = date_range_by_month(data_low, data_high);
                        days = this.get('days');
                        days_of_month = function(month_date, interval) {
                          var dates, day, day_date, future_date, _i, _len;
                          dates = [];
                          for (_i = 0, _len = days.length; _i < _len; _i++) {
                            day = days[_i];
                            day_date = copy_date(month_date);
                            day_date.setUTCDate(day);
                            future_date = new Date(day_date.getTime() + (interval / 2));
                            if (future_date.getUTCMonth() === month_date.getUTCMonth()) {
                              dates.push(day_date);
                            }
                          }
                          return dates;
                        };
                        interval = this.get('interval');
                        day_dates = _.flatten((function() {
                          var _i, _len, _results;
                          _results = [];
                          for (_i = 0, _len = month_dates.length; _i < _len; _i++) {
                            date = month_dates[_i];
                            _results.push(days_of_month(date, interval));
                          }
                          return _results;
                        })());
                        all_ticks = _.invoke(day_dates, 'getTime');
                        ticks_in_range = _.filter(all_ticks, (function(tick) {
                          return (data_low <= tick && tick <= data_high);
                        }));
                        return {
                          "major": ticks_in_range,
                          "minor": []
                        };
                      };
                
                      DaysTicker.prototype.defaults = function() {
                        return _.extend(DaysTicker.__super__.defaults.call(this), {
                          toString_properties: ['days']
                        });
                      };
                
                      return DaysTicker;
                
                    })(SingleIntervalTicker.Model);
                    DaysTickers = (function(_super) {
                      __extends(DaysTickers, _super);
                
                      function DaysTickers() {
                        _ref1 = DaysTickers.__super__.constructor.apply(this, arguments);
                        return _ref1;
                      }
                
                      DaysTickers.prototype.model = DaysTicker;
                
                      return DaysTickers;
                
                    })(Backbone.Collection);
                    return {
                      "Model": DaysTicker,
                      "Collection": new DaysTickers()
                    };
                  });
                
                }).call(this);
                
                /*
                //@ sourceMappingURL=days_ticker.js.map
                */;
                (function() {
                  var __hasProp = {}.hasOwnProperty,
                    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };
                
                  define('ticking/months_ticker',["underscore", "backbone", "ticking/single_interval_ticker", "ticking/util"], function(_, Backbone, SingleIntervalTicker, util) {
                    var MonthsTicker, MonthsTickers, ONE_MONTH, copy_date, date_range_by_year, last_year_no_later_than, _ref, _ref1;
                    copy_date = util.copy_date;
                    last_year_no_later_than = util.last_year_no_later_than;
                    ONE_MONTH = util.ONE_MONTH;
                    date_range_by_year = function(start_time, end_time) {
                      var date, dates, end_date, start_date;
                      start_date = last_year_no_later_than(new Date(start_time));
                      end_date = last_year_no_later_than(new Date(end_time));
                      end_date.setUTCFullYear(end_date.getUTCFullYear() + 1);
                      dates = [];
                      date = start_date;
                      while (true) {
                        dates.push(copy_date(date));
                        date.setUTCFullYear(date.getUTCFullYear() + 1);
                        if (date > end_date) {
                          break;
                        }
                      }
                      return dates;
                    };
                    MonthsTicker = (function(_super) {
                      __extends(MonthsTicker, _super);
                
                      function MonthsTicker() {
                        _ref = MonthsTicker.__super__.constructor.apply(this, arguments);
                        return _ref;
                      }
                
                      MonthsTicker.prototype.type = 'MonthsTicker';
                
                      MonthsTicker.prototype.initialize = function(attrs, options) {
                        var interval, months;
                        MonthsTicker.__super__.initialize.call(this, attrs, options);
                        months = this.get('months');
                        interval = months.length > 1 ? (months[1] - months[0]) * ONE_MONTH : 12 * ONE_MONTH;
                        return this.set('interval', interval);
                      };
                
                      MonthsTicker.prototype.get_ticks_no_defaults = function(data_low, data_high, desired_n_ticks) {
                        var all_ticks, date, month_dates, months, months_of_year, ticks_in_range, year_dates;
                        year_dates = date_range_by_year(data_low, data_high);
                        months = this.get('months');
                        months_of_year = function(year_date) {
                          return months.map(function(month) {
                            var month_date;
                            month_date = copy_date(year_date);
                            month_date.setUTCMonth(month);
                            return month_date;
                          });
                        };
                        month_dates = _.flatten((function() {
                          var _i, _len, _results;
                          _results = [];
                          for (_i = 0, _len = year_dates.length; _i < _len; _i++) {
                            date = year_dates[_i];
                            _results.push(months_of_year(date));
                          }
                          return _results;
                        })());
                        all_ticks = _.invoke(month_dates, 'getTime');
                        ticks_in_range = _.filter(all_ticks, (function(tick) {
                          return (data_low <= tick && tick <= data_high);
                        }));
                        return {
                          "major": ticks_in_range,
                          "minor": []
                        };
                      };
                
                      MonthsTicker.prototype.defaults = function() {
                        return _.extend(MonthsTicker.__super__.defaults.call(this), {
                          toString_properties: ['months']
                        });
                      };
                
                      return MonthsTicker;
                
                    })(SingleIntervalTicker.Model);
                    MonthsTickers = (function(_super) {
                      __extends(MonthsTickers, _super);
                
                      function MonthsTickers() {
                        _ref1 = MonthsTickers.__super__.constructor.apply(this, arguments);
                        return _ref1;
                      }
                
                      MonthsTickers.prototype.model = MonthsTicker;
                
                      return MonthsTickers;
                
                    })(Backbone.Collection);
                    return {
                      "Model": MonthsTicker,
                      "Collection": new MonthsTickers()
                    };
                  });
                
                }).call(this);
                
                /*
                //@ sourceMappingURL=months_ticker.js.map
                */;
                (function() {
                  var __hasProp = {}.hasOwnProperty,
                    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };
                
                  define('ticking/basic_ticker',["ticking/adaptive_ticker"], function(AdaptiveTicker) {
                    var BasicTicker, BasicTickers, _ref, _ref1;
                    BasicTicker = (function(_super) {
                      __extends(BasicTicker, _super);
                
                      function BasicTicker() {
                        _ref = BasicTicker.__super__.constructor.apply(this, arguments);
                        return _ref;
                      }
                
                      BasicTicker.prototype.type = 'BasicTicker';
                
                      BasicTicker.prototype.initialize = function(attrs, options) {
                        return BasicTicker.__super__.initialize.call(this, attrs, options);
                      };
                
                      BasicTicker.prototype.defaults = function() {
                        return _.extend(BasicTicker.__super__.defaults.call(this), {
                          mantissas: [1, 2, 5]
                        });
                      };
                
                      return BasicTicker;
                
                    })(AdaptiveTicker.Model);
                    BasicTickers = (function(_super) {
                      __extends(BasicTickers, _super);
                
                      function BasicTickers() {
                        _ref1 = BasicTickers.__super__.constructor.apply(this, arguments);
                        return _ref1;
                      }
                
                      BasicTickers.prototype.model = BasicTicker;
                
                      return BasicTickers;
                
                    })(Backbone.Collection);
                    return {
                      "Model": BasicTicker,
                      "Collection": new BasicTickers()
                    };
                  });
                
                }).call(this);
                
                /*
                //@ sourceMappingURL=basic_ticker.js.map
                */;
                (function() {
                  var __hasProp = {}.hasOwnProperty,
                    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };
                
                  define('ticking/years_ticker',["underscore", "backbone", "ticking/basic_ticker", "ticking/single_interval_ticker", "ticking/util"], function(_, Backbone, BasicTicker, SingleIntervalTicker, util) {
                    var ONE_YEAR, YearsTicker, YearsTickers, last_year_no_later_than, _ref, _ref1;
                    last_year_no_later_than = util.last_year_no_later_than;
                    ONE_YEAR = util.ONE_YEAR;
                    YearsTicker = (function(_super) {
                      __extends(YearsTicker, _super);
                
                      function YearsTicker() {
                        _ref = YearsTicker.__super__.constructor.apply(this, arguments);
                        return _ref;
                      }
                
                      YearsTicker.prototype.type = 'YearsTicker';
                
                      YearsTicker.prototype.initialize = function(attrs, options) {
                        YearsTicker.__super__.initialize.call(this, attrs, options);
                        this.set('interval', ONE_YEAR);
                        return this.basic_ticker = new BasicTicker.Model({
                          num_minor_ticks: 0
                        });
                      };
                
                      YearsTicker.prototype.get_ticks_no_defaults = function(data_low, data_high, desired_n_ticks) {
                        var all_ticks, end_year, start_year, ticks_in_range, year, years;
                        start_year = last_year_no_later_than(new Date(data_low)).getUTCFullYear();
                        end_year = last_year_no_later_than(new Date(data_high)).getUTCFullYear();
                        years = this.basic_ticker.get_ticks_no_defaults(start_year, end_year, desired_n_ticks).major;
                        all_ticks = (function() {
                          var _i, _len, _results;
                          _results = [];
                          for (_i = 0, _len = years.length; _i < _len; _i++) {
                            year = years[_i];
                            _results.push(Date.UTC(year, 0, 1));
                          }
                          return _results;
                        })();
                        ticks_in_range = _.filter(all_ticks, (function(tick) {
                          return (data_low <= tick && tick <= data_high);
                        }));
                        return {
                          "major": ticks_in_range,
                          "minor": []
                        };
                      };
                
                      YearsTicker.prototype.defaults = function() {
                        return _.extend(YearsTicker.__super__.defaults.call(this), {
                          toString_properties: ['years']
                        });
                      };
                
                      return YearsTicker;
                
                    })(SingleIntervalTicker.Model);
                    YearsTickers = (function(_super) {
                      __extends(YearsTickers, _super);
                
                      function YearsTickers() {
                        _ref1 = YearsTickers.__super__.constructor.apply(this, arguments);
                        return _ref1;
                      }
                
                      YearsTickers.prototype.model = YearsTicker;
                
                      return YearsTickers;
                
                    })(Backbone.Collection);
                    return {
                      "Model": YearsTicker,
                      "Collection": new YearsTickers()
                    };
                  });
                
                }).call(this);
                
                /*
                //@ sourceMappingURL=years_ticker.js.map
                */;
                (function() {
                  var __hasProp = {}.hasOwnProperty,
                    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };
                
                  define('ticking/datetime_ticker',["underscore", "ticking/adaptive_ticker", "ticking/composite_ticker", "ticking/days_ticker", "ticking/months_ticker", "ticking/years_ticker", "ticking/util"], function(_, AdaptiveTicker, CompositeTicker, DaysTicker, MonthsTicker, YearsTicker, util) {
                    var DatetimeTicker, DatetimeTickers, ONE_HOUR, ONE_MILLI, ONE_MINUTE, ONE_MONTH, ONE_SECOND, _ref, _ref1;
                    ONE_MILLI = util.ONE_MILLI;
                    ONE_SECOND = util.ONE_SECOND;
                    ONE_MINUTE = util.ONE_MINUTE;
                    ONE_HOUR = util.ONE_HOUR;
                    ONE_MONTH = util.ONE_MONTH;
                    DatetimeTicker = (function(_super) {
                      __extends(DatetimeTicker, _super);
                
                      function DatetimeTicker() {
                        _ref = DatetimeTicker.__super__.constructor.apply(this, arguments);
                        return _ref;
                      }
                
                      DatetimeTicker.prototype.type = 'DatetimeTicker';
                
                      DatetimeTicker.prototype.defaults = function() {
                        return _.extend(DatetimeTicker.__super__.defaults.call(this), {
                          num_minor_ticks: 0,
                          tickers: [
                            new AdaptiveTicker.Model({
                              mantissas: [1, 2, 5],
                              base: 10,
                              min_interval: 0,
                              max_interval: 500 * ONE_MILLI,
                              num_minor_ticks: 0
                            }), new AdaptiveTicker.Model({
                              mantissas: [1, 2, 5, 10, 15, 20, 30],
                              base: 60,
                              min_interval: ONE_SECOND,
                              max_interval: 30 * ONE_MINUTE,
                              num_minor_ticks: 0
                            }), new AdaptiveTicker.Model({
                              mantissas: [1, 2, 4, 6, 8, 12],
                              base: 24.0,
                              min_interval: ONE_HOUR,
                              max_interval: 12 * ONE_HOUR,
                              num_minor_ticks: 0
                            }), new DaysTicker.Model({
                              days: _.range(1, 32)
                            }), new DaysTicker.Model({
                              days: _.range(1, 31, 3)
                            }), new DaysTicker.Model({
                              days: [1, 8, 15, 22]
                            }), new DaysTicker.Model({
                              days: [1, 15]
                            }), new MonthsTicker.Model({
                              months: _.range(0, 12, 1)
                            }), new MonthsTicker.Model({
                              months: _.range(0, 12, 2)
                            }), new MonthsTicker.Model({
                              months: _.range(0, 12, 4)
                            }), new MonthsTicker.Model({
                              months: _.range(0, 12, 6)
                            }), new YearsTicker.Model({})
                          ]
                        });
                      };
                
                      return DatetimeTicker;
                
                    })(CompositeTicker.Model);
                    DatetimeTickers = (function(_super) {
                      __extends(DatetimeTickers, _super);
                
                      function DatetimeTickers() {
                        _ref1 = DatetimeTickers.__super__.constructor.apply(this, arguments);
                        return _ref1;
                      }
                
                      DatetimeTickers.prototype.model = DatetimeTicker;
                
                      return DatetimeTickers;
                
                    })(Backbone.Collection);
                    return {
                      "Model": DatetimeTicker,
                      "Collection": new DatetimeTickers()
                    };
                  });
                
                }).call(this);
                
                /*
                //@ sourceMappingURL=datetime_ticker.js.map
                */;
                (function(root) {
                define("sprintf", [], function() {
                      return (function() {
                /*! sprintf.js | Copyright (c) 2007-2013 Alexandru Marasteanu <hello at alexei dot ro> | 3 clause BSD license */
                
                (function(ctx) {
                	var sprintf = function() {
                		if (!sprintf.cache.hasOwnProperty(arguments[0])) {
                			sprintf.cache[arguments[0]] = sprintf.parse(arguments[0]);
                		}
                		return sprintf.format.call(null, sprintf.cache[arguments[0]], arguments);
                	};
                
                	sprintf.format = function(parse_tree, argv) {
                		var cursor = 1, tree_length = parse_tree.length, node_type = '', arg, output = [], i, k, match, pad, pad_character, pad_length;
                		for (i = 0; i < tree_length; i++) {
                			node_type = get_type(parse_tree[i]);
                			if (node_type === 'string') {
                				output.push(parse_tree[i]);
                			}
                			else if (node_type === 'array') {
                				match = parse_tree[i]; // convenience purposes only
                				if (match[2]) { // keyword argument
                					arg = argv[cursor];
                					for (k = 0; k < match[2].length; k++) {
                						if (!arg.hasOwnProperty(match[2][k])) {
                							throw(sprintf('[sprintf] property "%s" does not exist', match[2][k]));
                						}
                						arg = arg[match[2][k]];
                					}
                				}
                				else if (match[1]) { // positional argument (explicit)
                					arg = argv[match[1]];
                				}
                				else { // positional argument (implicit)
                					arg = argv[cursor++];
                				}
                
                				if (/[^s]/.test(match[8]) && (get_type(arg) != 'number')) {
                					throw(sprintf('[sprintf] expecting number but found %s', get_type(arg)));
                				}
                				switch (match[8]) {
                					case 'b': arg = arg.toString(2); break;
                					case 'c': arg = String.fromCharCode(arg); break;
                					case 'd': arg = parseInt(arg, 10); break;
                					case 'e': arg = match[7] ? arg.toExponential(match[7]) : arg.toExponential(); break;
                					case 'f': arg = match[7] ? parseFloat(arg).toFixed(match[7]) : parseFloat(arg); break;
                					case 'o': arg = arg.toString(8); break;
                					case 's': arg = ((arg = String(arg)) && match[7] ? arg.substring(0, match[7]) : arg); break;
                					case 'u': arg = arg >>> 0; break;
                					case 'x': arg = arg.toString(16); break;
                					case 'X': arg = arg.toString(16).toUpperCase(); break;
                				}
                				arg = (/[def]/.test(match[8]) && match[3] && arg >= 0 ? '+'+ arg : arg);
                				pad_character = match[4] ? match[4] == '0' ? '0' : match[4].charAt(1) : ' ';
                				pad_length = match[6] - String(arg).length;
                				pad = match[6] ? str_repeat(pad_character, pad_length) : '';
                				output.push(match[5] ? arg + pad : pad + arg);
                			}
                		}
                		return output.join('');
                	};
                
                	sprintf.cache = {};
                
                	sprintf.parse = function(fmt) {
                		var _fmt = fmt, match = [], parse_tree = [], arg_names = 0;
                		while (_fmt) {
                			if ((match = /^[^\x25]+/.exec(_fmt)) !== null) {
                				parse_tree.push(match[0]);
                			}
                			else if ((match = /^\x25{2}/.exec(_fmt)) !== null) {
                				parse_tree.push('%');
                			}
                			else if ((match = /^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-fosuxX])/.exec(_fmt)) !== null) {
                				if (match[2]) {
                					arg_names |= 1;
                					var field_list = [], replacement_field = match[2], field_match = [];
                					if ((field_match = /^([a-z_][a-z_\d]*)/i.exec(replacement_field)) !== null) {
                						field_list.push(field_match[1]);
                						while ((replacement_field = replacement_field.substring(field_match[0].length)) !== '') {
                							if ((field_match = /^\.([a-z_][a-z_\d]*)/i.exec(replacement_field)) !== null) {
                								field_list.push(field_match[1]);
                							}
                							else if ((field_match = /^\[(\d+)\]/.exec(replacement_field)) !== null) {
                								field_list.push(field_match[1]);
                							}
                							else {
                								throw('[sprintf] huh?');
                							}
                						}
                					}
                					else {
                						throw('[sprintf] huh?');
                					}
                					match[2] = field_list;
                				}
                				else {
                					arg_names |= 2;
                				}
                				if (arg_names === 3) {
                					throw('[sprintf] mixing positional and named placeholders is not (yet) supported');
                				}
                				parse_tree.push(match);
                			}
                			else {
                				throw('[sprintf] huh?');
                			}
                			_fmt = _fmt.substring(match[0].length);
                		}
                		return parse_tree;
                	};
                
                	var vsprintf = function(fmt, argv, _argv) {
                		_argv = argv.slice(0);
                		_argv.splice(0, 0, fmt);
                		return sprintf.apply(null, _argv);
                	};
                
                	/**
                	 * helpers
                	 */
                	function get_type(variable) {
                		return Object.prototype.toString.call(variable).slice(8, -1).toLowerCase();
                	}
                
                	function str_repeat(input, multiplier) {
                		for (var output = []; multiplier > 0; output[--multiplier] = input) {/* do nothing */}
                		return output.join('');
                	}
                
                	/**
                	 * export to either browser or node.js
                	 */
                	ctx.sprintf = sprintf;
                	ctx.vsprintf = vsprintf;
                })(typeof exports != "undefined" ? exports : window);
                return root.sprintf = sprintf;      }).apply(root, arguments);
                    });
                }(this));
                
                !function (definition) {
                  if (typeof module == "object" && module.exports) module.exports = definition();
                  else if (typeof define == "function") define('timezone',definition);
                  else this.tz = definition();
                } (function () {
                /*
                  function die () {
                    console.log.apply(console, __slice.call(arguments, 0));
                    return process.exit(1);
                  }
                
                  function say () { return console.log.apply(console, __slice.call(arguments, 0)) }
                */
                  function actualize (entry, rule, year) {
                    var actualized, date = rule.day[1];
                
                    do {
                      actualized = new Date(Date.UTC(year, rule.month, Math.abs(date++)));
                    } while (rule.day[0] < 7 && actualized.getUTCDay() != rule.day[0])
                
                    actualized = {
                      clock: rule.clock,
                      sort: actualized.getTime(),
                      rule: rule,
                      save: rule.save * 6e4,
                      offset: entry.offset
                    };
                
                    actualized[actualized.clock] = actualized.sort + rule.time * 6e4;
                
                    if (actualized.posix) {
                      actualized.wallclock = actualized[actualized.clock] + (entry.offset + rule.saved);
                    } else {
                      actualized.posix = actualized[actualized.clock] - (entry.offset + rule.saved);
                    }
                
                    return actualized;
                  }
                
                  function find (request, clock, time) {
                    var i, I, entry, found, zone = request[request.zone], actualized = [], abbrev, rules
                      , j, year = new Date(time).getUTCFullYear(), off = 1;
                    for (i = 1, I = zone.length; i < I; i++) if (zone[i][clock] <= time) break;
                    entry = zone[i];
                    if (entry.rules) {
                      rules = request[entry.rules];
                      for (j = year + 1; j >= year - off; --j)
                        for (i = 0, I = rules.length; i < I; i++)
                          if (rules[i].from <= j && j <= rules[i].to) actualized.push(actualize(entry, rules[i], j));
                          else if (rules[i].to < j && off == 1) off = j - rules[i].to;
                      actualized.sort(function (a, b) { return a.sort - b.sort });
                      for (i = 0, I = actualized.length; i < I; i++) {
                        if (time >= actualized[i][clock] && actualized[i][actualized[i].clock] > entry[actualized[i].clock]) found = actualized[i];
                      }
                    }
                    if (found) {
                      if (abbrev = /^(.*)\/(.*)$/.exec(entry.format)) {
                        found.abbrev = abbrev[found.save ? 2 : 1];
                      } else {
                        found.abbrev = entry.format.replace(/%s/, found.rule.letter);
                      }
                    }
                    return found || entry;
                  }
                
                  function convertToWallclock (request, posix) {
                    if (request.zone == "UTC") return posix;
                    request.entry = find(request, "posix", posix);
                    return posix + request.entry.offset + request.entry.save;
                  }
                
                  function convertToPOSIX (request, wallclock) {
                    if (request.zone == "UTC") return wallclock;
                
                    var entry, diff;
                    request.entry = entry = find(request, "wallclock", wallclock);
                    diff = wallclock - entry.wallclock;
                
                    return 0 < diff && diff < entry.save ? null : wallclock - entry.offset - entry.save;
                  }
                
                  function adjust (request, posix, match) {
                    var increment = +(match[1] + 1) // conversion necessary for week day addition
                      , offset = match[2] * increment
                      , index = UNITS.indexOf(match[3].toLowerCase())
                      , date
                      ;
                    if (index > 9) {
                      posix += offset * TIME[index - 10];
                    } else {
                      date = new Date(convertToWallclock(request, posix));
                      if (index < 7) {
                        while (offset) {
                          date.setUTCDate(date.getUTCDate() + increment);
                          if (date.getUTCDay() == index) offset -= increment;
                        }
                      } else if (index == 7) {
                        date.setUTCFullYear(date.getUTCFullYear() + offset);
                      } else if (index == 8) {
                        date.setUTCMonth(date.getUTCMonth() + offset);
                      } else {
                        date.setUTCDate(date.getUTCDate() + offset);
                      }
                      if ((posix = convertToPOSIX(request, date.getTime())) == null) {
                        posix = convertToPOSIX(request, date.getTime() + 864e5 * increment) - 864e5 * increment;
                      }
                    }
                    return posix;
                  }
                
                  function convert (vargs) {
                    if (!vargs.length) return "0.0.23";
                
                    var request = Object.create(this)
                      , adjustments = []
                      , i, I, $, argument, date
                      ;
                
                    for (i = 0; i < vargs.length; i++) { // leave the for loop alone, it works.
                      argument = vargs[i];
                      // https://twitter.com/bigeasy/status/215112186572439552
                      if (Array.isArray(argument)) {
                        if (!i && !isNaN(argument[1])) {
                          date = argument;
                        } else {
                          argument.splice.apply(vargs, [ i--, 1 ].concat(argument));
                        }
                      } else if (isNaN(argument)) {
                        $ = typeof argument;
                        if ($ == "string") {
                          if (~argument.indexOf("%")) {
                            request.format = argument;
                          } else if (!i && argument == "*") {
                            date = argument;
                          } else if (!i && ($ = /^(\d{4})-(\d{2})-(\d{2})(?:[T\s](\d{2}):(\d{2})(?::(\d{2})(?:\.(\d+))?)?(Z|(([+-])(\d{2}(:\d{2}){0,2})))?)?$/.exec(argument))) {
                            date = [];
                            date.push.apply(date, $.slice(1, 8));
                            if ($[9]) {
                              date.push($[10] + 1);
                              date.push.apply(date, $[11].split(/:/));
                            } else if ($[8]) {
                              date.push(1);
                            }
                          } else if (/^\w{2,3}_\w{2}$/.test(argument)) {
                            request.locale = argument;
                          } else if ($ = UNIT_RE.exec(argument)) {
                            adjustments.push($);
                          } else {
                            request.zone = argument;
                          }
                        } else if ($ == "function") {
                          if ($ = argument.call(request)) return $;
                        } else if (/^\w{2,3}_\w{2}$/.test(argument.name)) {
                          request[argument.name] = argument;
                        } else if (argument.zones) {
                          for ($ in argument.zones) request[$] = argument.zones[$];
                          for ($ in argument.rules) request[$] = argument.rules[$];
                        }
                      } else if (!i) {
                        date = argument;
                      }
                    }
                
                    if (!request[request.locale]) delete request.locale;
                    if (!request[request.zone]) delete request.zone;
                
                    if (date != null) {
                      if (date == "*") {
                        date = request.clock();
                      } else if (Array.isArray(date)) {
                        I = !date[7];
                        for (i = 0; i < 11; i++) date[i] = +(date[i] || 0); // conversion necessary for decrement
                        --date[1]; // Grr..
                        date = Date.UTC.apply(Date.UTC, date.slice(0, 8)) +
                          -date[7] * (date[8] * 36e5 + date[9] * 6e4 + date[10] * 1e3);
                      } else {
                        date = Math.floor(date);
                      }
                      if (!isNaN(date)) {
                        if (I) date = convertToPOSIX(request, date);
                
                        if (date == null) return date;
                
                        for (i = 0, I = adjustments.length; i < I; i++) {
                          date = adjust(request, date, adjustments[i]);
                        }
                
                        if (!request.format) return date;
                
                        $ = new Date(convertToWallclock(request, date));
                        return request.format.replace(/%([-0_^]?)(:{0,3})(\d*)(.)/g,
                        function (value, flag, colons, padding, specifier) {
                          var f, fill = "0", pad;
                          if (f = request[specifier]) {
                            value = String(f.call(request, $, date, flag, colons.length));
                            if ((flag || f.style) == "_") fill = " ";
                            pad = flag == "-" ? 0 : f.pad || 0;
                            while (value.length < pad) value = fill + value;
                            pad = flag == "-" ? 0 : padding || f.pad;
                            while (value.length < pad) value = fill + value;
                            if (specifier == "N" && pad < value.length) value = value.slice(0, pad);
                            if (flag == "^") value = value.toUpperCase();
                          }
                          return value;
                        });
                      }
                    }
                
                    return function () { return request.convert(arguments) };
                  }
                
                  var context =
                    { clock: function () { return +(new Date()) }
                    , zone: "UTC"
                    , entry: { abbrev: "UTC", offset: 0, save: 0 }
                    , UTC: 1
                    , z: function(date, posix, flag, delimiters) {
                        var offset = this.entry.offset + this.entry.save
                          , seconds = Math.abs(offset / 1000), parts = [], part = 3600, i, z;
                        for (i = 0; i < 3; i++) {
                          parts.push(("0" + Math.floor(seconds / part)).slice(-2));
                          seconds %= part;
                          part /= 60;
                        }
                        if (flag == "^" && !offset) return "Z";
                        if (flag == "^") delimiters = 3;
                        if (delimiters == 3) {
                          z = parts.join(":");
                          z = z.replace(/:00$/, "");
                          if (flag != "^") z = z.replace(/:00$/, "");
                        } else if (delimiters) {
                          z = parts.slice(0, delimiters + 1).join(":");
                          if (flag == "^") z = z.replace(/:00$/, "");
                        } else {
                          z = parts.slice(0, 2).join("");
                        }
                        z = (offset < 0 ? "-" : "+") + z;
                        z = z.replace(/([-+])(0)/, { "_": " $1", "-": "$1" }[flag] || "$1$2");
                        return z;
                      }
                    , "%": function(date) { return "%" }
                    , n: function (date) { return "\n" }
                    , t: function (date) { return "\t" }
                    , U: function (date) { return weekOfYear(date, 0) }
                    , W: function (date) { return weekOfYear(date, 1) }
                    , V: function (date) { return isoWeek(date)[0] }
                    , G: function (date) { return isoWeek(date)[1] }
                    , g: function (date) { return isoWeek(date)[1] % 100 }
                    , j: function (date) { return Math.floor((date.getTime() - Date.UTC(date.getUTCFullYear(), 0)) / 864e5) + 1 }
                    , s: function (date) { return Math.floor(date.getTime() / 1000) }
                    , C: function (date) { return Math.floor(date.getUTCFullYear() / 100) }
                    , N: function (date) { return date.getTime() % 1000 * 1000000 }
                    , m: function (date) { return date.getUTCMonth() + 1 }
                    , Y: function (date) { return date.getUTCFullYear() }
                    , y: function (date) { return date.getUTCFullYear() % 100 }
                    , H: function (date) { return date.getUTCHours() }
                    , M: function (date) { return date.getUTCMinutes() }
                    , S: function (date) { return date.getUTCSeconds() }
                    , e: function (date) { return date.getUTCDate() }
                    , d: function (date) { return date.getUTCDate() }
                    , u: function (date) { return date.getUTCDay() || 7 }
                    , w: function (date) { return date.getUTCDay() }
                    , l: function (date) { return date.getUTCHours() % 12 || 12 }
                    , I: function (date) { return date.getUTCHours() % 12 || 12 }
                    , k: function (date) { return date.getUTCHours() }
                    , Z: function (date) { return this.entry.abbrev }
                    , a: function (date) { return this[this.locale].day.abbrev[date.getUTCDay()] }
                    , A: function (date) { return this[this.locale].day.full[date.getUTCDay()] }
                    , h: function (date) { return this[this.locale].month.abbrev[date.getUTCMonth()] }
                    , b: function (date) { return this[this.locale].month.abbrev[date.getUTCMonth()] }
                    , B: function (date) { return this[this.locale].month.full[date.getUTCMonth()] }
                    , P: function (date) { return this[this.locale].meridiem[Math.floor(date.getUTCHours() / 12)].toLowerCase() }
                    , p: function (date) { return this[this.locale].meridiem[Math.floor(date.getUTCHours() / 12)] }
                    , R: function (date, posix) { return this.convert([ posix, "%H:%M" ]) }
                    , T: function (date, posix) { return this.convert([ posix, "%H:%M:%S" ]) }
                    , D: function (date, posix) { return this.convert([ posix, "%m/%d/%y" ]) }
                    , F: function (date, posix) { return this.convert([ posix, "%Y-%m-%d" ]) }
                    , x: function (date, posix) { return this.convert([ posix, this[this.locale].date ]) }
                    , r: function (date, posix) { return this.convert([ posix, this[this.locale].time12 || '%I:%M:%S' ]) }
                    , X: function (date, posix) { return this.convert([ posix, this[this.locale].time24 ]) }
                    , c: function (date, posix) { return this.convert([ posix, this[this.locale].dateTime ]) }
                    , convert: convert
                    , locale: "en_US"
                    , en_US: {
                        date: "%m/%d/%Y",
                        time24: "%I:%M:%S %p",
                        time12: "%I:%M:%S %p",
                        dateTime: "%a %d %b %Y %I:%M:%S %p %Z",
                        meridiem: [ "AM", "PM" ],
                        month: {
                          abbrev: "Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec".split("|"),
                          full: "January|February|March|April|May|June|July|August|September|October|November|December".split("|")
                        },
                        day: {
                          abbrev: "Sun|Mon|Tue|Wed|Thu|Fri|Sat".split("|"),
                          full: "Sunday|Monday|Tuesday|Wednesday|Thursday|Friday|Saturday".split("|")
                        }
                      }
                    };
                  var UNITS = "Sunday|Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|year|month|day|hour|minute|second|millisecond"
                    , UNIT_RE = new RegExp("^\\s*([+-])(\\d+)\\s+(" + UNITS + ")s?\\s*$", "i")
                    , TIME = [ 36e5, 6e4, 1e3, 1 ]
                    ;
                  UNITS = UNITS.toLowerCase().split("|");
                
                  "delmHMSUWVgCIky".replace(/./g, function (e) { context[e].pad = 2 });
                
                  context.N.pad = 9;
                  context.j.pad = 3;
                
                  context.k.style = "_";
                  context.l.style = "_";
                  context.e.style = "_";
                
                  function weekOfYear (date, startOfWeek) {
                    var diff, nyd, weekStart;
                    nyd = new Date(Date.UTC(date.getUTCFullYear(), 0));
                    diff = Math.floor((date.getTime() - nyd.getTime()) / 864e5);
                    if (nyd.getUTCDay() == startOfWeek) {
                      weekStart = 0;
                    } else {
                      weekStart = 7 - nyd.getUTCDay() + startOfWeek;
                      if (weekStart == 8) {
                        weekStart = 1;
                      }
                    }
                    return diff >= weekStart ? Math.floor((diff - weekStart) / 7) + 1 : 0;
                  }
                
                  function isoWeek (date) {
                    var nyd, nyy, week;
                    nyy = date.getUTCFullYear();
                    nyd = new Date(Date.UTC(nyy, 0)).getUTCDay();
                    week = weekOfYear(date, 1) + (nyd > 1 && nyd <= 4 ? 1 : 0);
                    if (!week) {
                      nyy = date.getUTCFullYear() - 1;
                      nyd = new Date(Date.UTC(nyy, 0)).getUTCDay();
                      week = nyd == 4 || (nyd == 3 && new Date(nyy, 1, 29).getDate() == 29) ? 53 : 52;
                      return [week, date.getUTCFullYear() - 1];
                    } else if (week == 53 && !(nyd == 4 || (nyd == 3 && new Date(nyy, 1, 29).getDate() == 29))) {
                      return [1, date.getUTCFullYear() + 1];
                    } else {
                      return [week, date.getUTCFullYear()];
                    }
                  }
                
                  return function () { return context.convert(arguments) };
                });
                
                (function() {
                  var __hasProp = {}.hasOwnProperty,
                    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };
                
                  define('ticking/datetime_tick_formatter',["underscore", "backbone", "common/has_properties", "sprintf", "timezone"], function(_, Backbone, HasProperties, sprintf, tz) {
                    var DatetimeTickFormatter, DatetimeTickFormatters, _array, _four_digit_year, _ms_dot_us, _ref, _ref1, _strftime, _two_digit_year, _us;
                    _us = function(t) {
                      return sprintf("%3dus", Math.floor((t % 1) * 1000));
                    };
                    _ms_dot_us = function(t) {
                      var ms, us;
                      ms = Math.floor(((t / 1000) % 1) * 1000);
                      us = Math.floor((t % 1) * 1000);
                      return sprintf("%3d.%3dms", ms, us);
                    };
                    _two_digit_year = function(t) {
                      var dt, year;
                      dt = new Date(t);
                      year = dt.getFullYear();
                      if (dt.getMonth() >= 7) {
                        year += 1;
                      }
                      return sprintf("'%02d", year % 100);
                    };
                    _four_digit_year = function(t) {
                      var dt, year;
                      dt = new Date(t);
                      year = dt.getFullYear();
                      if (dt.getMonth() >= 7) {
                        year += 1;
                      }
                      return sprintf("%d", year);
                    };
                    _array = function(t) {
                      return tz(t, "%Y %m %d %H %M %S").split(/\s+/).map(function(e) {
                        return parseInt(e, 10);
                      });
                    };
                    _strftime = function(t, format) {
                      if (_.isFunction(format)) {
                        return format(t);
                      } else {
                        return tz(t, format);
                      }
                    };
                    DatetimeTickFormatter = (function(_super) {
                      __extends(DatetimeTickFormatter, _super);
                
                      function DatetimeTickFormatter() {
                        _ref = DatetimeTickFormatter.__super__.constructor.apply(this, arguments);
                        return _ref;
                      }
                
                      DatetimeTickFormatter.prototype.type = 'DatetimeTickFormatter';
                
                      DatetimeTickFormatter.prototype.format_order = ['microseconds', 'milliseconds', 'seconds', 'minsec', 'minutes', 'hourmin', 'hours', 'days', 'months', 'years'];
                
                      DatetimeTickFormatter.prototype._formats = {
                        'microseconds': [_us, _ms_dot_us],
                        'milliseconds': ['%3Nms', '%S.%3Ns'],
                        'seconds': ['%Ss'],
                        'minsec': [':%M:%S'],
                        'minutes': [':%M', '%Mm'],
                        'hourmin': ['%H:%M'],
                        'hours': ['%Hh', '%H:%M'],
                        'days': ['%m/%d', '%a%d'],
                        'months': ['%m/%Y', '%b%y'],
                        'years': ['%Y', _two_digit_year, _four_digit_year]
                      };
                
                      DatetimeTickFormatter.prototype.strip_leading_zeros = true;
                
                      DatetimeTickFormatter.prototype.initialize = function(attrs, options) {
                        var fmt, fmt_name, fmt_string, fmt_strings, now, sizes, sorted, _results;
                        DatetimeTickFormatter.__super__.initialize.call(this, attrs, options);
                        fmt = _.extend({}, this._formats, this.get("formats"));
                        now = tz(new Date());
                        this.formats = {};
                        _results = [];
                        for (fmt_name in fmt) {
                          fmt_strings = fmt[fmt_name];
                          sizes = (function() {
                            var _i, _len, _results1;
                            _results1 = [];
                            for (_i = 0, _len = fmt_strings.length; _i < _len; _i++) {
                              fmt_string = fmt_strings[_i];
                              _results1.push(_strftime(now, fmt_string).length);
                            }
                            return _results1;
                          })();
                          sorted = _.sortBy(_.zip(sizes, fmt_strings), function(_arg) {
                            var fmt, size;
                            size = _arg[0], fmt = _arg[1];
                            return size;
                          });
                          _results.push(this.formats[fmt_name] = _.zip.apply(_, sorted));
                        }
                        return _results;
                      };
                
                      DatetimeTickFormatter.prototype._get_resolution_str = function(resolution_secs, span_secs) {
                        var adjusted_resolution_secs, str;
                        adjusted_resolution_secs = resolution_secs * 1.1;
                        if (adjusted_resolution_secs < 1e-3) {
                          str = "microseconds";
                        } else if (adjusted_resolution_secs < 1.0) {
                          str = "milliseconds";
                        } else if (adjusted_resolution_secs < 60) {
                          if (span_secs >= 60) {
                            str = "minsec";
                          } else {
                            str = "seconds";
                          }
                        } else if (adjusted_resolution_secs < 3600) {
                          if (span_secs >= 3600) {
                            str = "hourmin";
                          } else {
                            str = "minutes";
                          }
                        } else if (adjusted_resolution_secs < 24 * 3600) {
                          str = "hours";
                        } else if (adjusted_resolution_secs < 31 * 24 * 3600) {
                          str = "days";
                        } else if (adjusted_resolution_secs < 365 * 24 * 3600) {
                          str = "months";
                        } else {
                          str = "years";
                        }
                        return str;
                      };
                
                      DatetimeTickFormatter.prototype.format = function(ticks, num_labels, char_width, fill_ratio, ticker) {
                        var error, fmt, format, formats, good_formats, hybrid_handled, i, labels, next_format, next_ndx, r, resol, resol_ndx, s, span, ss, t, time_tuple_ndx_for_resol, tm, widths, _i, _j, _k, _len, _len1, _ref1, _ref2, _ref3;
                        if (num_labels == null) {
                          num_labels = null;
                        }
                        if (char_width == null) {
                          char_width = null;
                        }
                        if (fill_ratio == null) {
                          fill_ratio = 0.3;
                        }
                        if (ticker == null) {
                          ticker = null;
                        }
                        if (ticks.length === 0) {
                          return [];
                        }
                        span = Math.abs(ticks[ticks.length - 1] - ticks[0]) / 1000.0;
                        if (ticker) {
                          r = ticker.resolution;
                        } else {
                          r = span / (ticks.length - 1);
                        }
                        resol = this._get_resolution_str(r, span);
                        _ref1 = this.formats[resol], widths = _ref1[0], formats = _ref1[1];
                        format = formats[0];
                        if (char_width) {
                          good_formats = [];
                          for (i = _i = 0, _ref2 = widths.length; 0 <= _ref2 ? _i < _ref2 : _i > _ref2; i = 0 <= _ref2 ? ++_i : --_i) {
                            if (widths[i] * ticks.length < fill_ratio * char_width) {
                              good_formats.push(this.formats[i]);
                            }
                          }
                          if (good_formats.length > 0) {
                            format = _.last(good_formats);
                          }
                        }
                        labels = [];
                        resol_ndx = this.format_order.indexOf(resol);
                        time_tuple_ndx_for_resol = {};
                        _ref3 = this.format_order;
                        for (_j = 0, _len = _ref3.length; _j < _len; _j++) {
                          fmt = _ref3[_j];
                          time_tuple_ndx_for_resol[fmt] = 0;
                        }
                        time_tuple_ndx_for_resol["seconds"] = 5;
                        time_tuple_ndx_for_resol["minsec"] = 4;
                        time_tuple_ndx_for_resol["minutes"] = 4;
                        time_tuple_ndx_for_resol["hourmin"] = 3;
                        time_tuple_ndx_for_resol["hours"] = 3;
                        for (_k = 0, _len1 = ticks.length; _k < _len1; _k++) {
                          t = ticks[_k];
                          try {
                            tm = _array(t);
                            s = _strftime(t, format);
                          } catch (_error) {
                            error = _error;
                            console.log(error);
                            console.log("Unable to convert tick for timestamp " + t);
                            labels.push("ERR");
                            continue;
                          }
                          hybrid_handled = false;
                          next_ndx = resol_ndx;
                          while (tm[time_tuple_ndx_for_resol[this.format_order[next_ndx]]] === 0) {
                            next_ndx += 1;
                            if (next_ndx === this.format_order.length) {
                              break;
                            }
                            if ((resol === "minsec" || resol === "hourmin") && !hybrid_handled) {
                              if ((resol === "minsec" && tm[4] === 0 && tm[5] !== 0) || (resol === "hourmin" && tm[3] === 0 && tm[4] !== 0)) {
                                next_format = this.formats[this.format_order[resol_ndx - 1]][1][0];
                                s = _strftime(t, next_format);
                                break;
                              } else {
                                hybrid_handled = true;
                              }
                            }
                            next_format = this.formats[this.format_order[next_ndx]][1][0];
                            s = _strftime(t, next_format);
                          }
                          if (this.strip_leading_zeros) {
                            ss = s.replace(/^0+/g, "");
                            if (ss !== s && (ss === '' || !isFinite(ss[0]))) {
                              ss = '0' + ss;
                            }
                            labels.push(ss);
                          } else {
                            labels.push(s);
                          }
                        }
                        return labels;
                      };
                
                      DatetimeTickFormatter.prototype.defaults = function() {
                        return _.extend(DatetimeTickFormatter.__super__.defaults.call(this), {
                          formats: {}
                        });
                      };
                
                      return DatetimeTickFormatter;
                
                    })(HasProperties);
                    DatetimeTickFormatters = (function(_super) {
                      __extends(DatetimeTickFormatters, _super);
                
                      function DatetimeTickFormatters() {
                        _ref1 = DatetimeTickFormatters.__super__.constructor.apply(this, arguments);
                        return _ref1;
                      }
                
                      DatetimeTickFormatters.prototype.model = DatetimeTickFormatter;
                
                      return DatetimeTickFormatters;
                
                    })(Backbone.Collection);
                    return {
                      "Model": DatetimeTickFormatter,
                      "Collection": new DatetimeTickFormatters()
                    };
                  });
                
                }).call(this);
                
                /*
                //@ sourceMappingURL=datetime_tick_formatter.js.map
                */;
                (function() {
                  var __hasProp = {}.hasOwnProperty,
                    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };
                
                  define('renderer/guide/datetime_axis',["backbone", "./axis", "ticking/datetime_ticker", "ticking/datetime_tick_formatter"], function(Backbone, Axis, DatetimeTicker, DatetimeTickFormatter) {
                    var DatetimeAxes, DatetimeAxis, DatetimeAxisView, _ref, _ref1, _ref2;
                    DatetimeAxisView = (function(_super) {
                      __extends(DatetimeAxisView, _super);
                
                      function DatetimeAxisView() {
                        _ref = DatetimeAxisView.__super__.constructor.apply(this, arguments);
                        return _ref;
                      }
                
                      return DatetimeAxisView;
                
                    })(Axis.View);
                    DatetimeAxis = (function(_super) {
                      __extends(DatetimeAxis, _super);
                
                      function DatetimeAxis() {
                        _ref1 = DatetimeAxis.__super__.constructor.apply(this, arguments);
                        return _ref1;
                      }
                
                      DatetimeAxis.prototype.default_view = DatetimeAxisView;
                
                      DatetimeAxis.prototype.type = 'DatetimeAxis';
                
                      DatetimeAxis.prototype.dinitialize = function(attrs, objects) {
                        DatetimeAxis.__super__.dinitialize.call(this, attrs, objects);
                        if (this.get_obj('ticker') == null) {
                          this.set_obj('ticker', DatetimeTicker.Collection.create());
                        }
                        if (this.get_obj('formatter') == null) {
                          return this.set_obj('formatter', DatetimeTickFormatter.Collection.create());
                        }
                      };
                
                      return DatetimeAxis;
                
                    })(Axis.Model);
                    DatetimeAxes = (function(_super) {
                      __extends(DatetimeAxes, _super);
                
                      function DatetimeAxes() {
                        _ref2 = DatetimeAxes.__super__.constructor.apply(this, arguments);
                        return _ref2;
                      }
                
                      DatetimeAxes.prototype.model = DatetimeAxis;
                
                      return DatetimeAxes;
                
                    })(Backbone.Collection);
                    return {
                      "Model": DatetimeAxis,
                      "Collection": new DatetimeAxes(),
                      "View": DatetimeAxisView
                    };
                  });
                
                }).call(this);
                
                /*
                //@ sourceMappingURL=datetime_axis.js.map
                */;
                (function() {
                  var __hasProp = {}.hasOwnProperty,
                    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };
                
                  define('renderer/guide/grid',["underscore", "common/safebind", "common/has_parent", "renderer/properties", "common/plot_widget"], function(_, safebind, HasParent, Properties, PlotWidget) {
                    var Grid, GridView, Grids, line_properties, _ref, _ref1, _ref2;
                    line_properties = Properties.line_properties;
                    GridView = (function(_super) {
                      __extends(GridView, _super);
                
                      function GridView() {
                        _ref = GridView.__super__.constructor.apply(this, arguments);
                        return _ref;
                      }
                
                      GridView.prototype.initialize = function(attrs, options) {
                        GridView.__super__.initialize.call(this, attrs, options);
                        return this.grid_props = new line_properties(this, null, 'grid_');
                      };
                
                      GridView.prototype.render = function() {
                        var ctx;
                        ctx = this.plot_view.ctx;
                        ctx.save();
                        this._draw_grids(ctx);
                        return ctx.restore();
                      };
                
                      GridView.prototype.bind_bokeh_events = function() {
                        return safebind(this, this.model, 'change', this.request_render);
                      };
                
                      GridView.prototype._draw_grids = function(ctx) {
                        var i, sx, sy, xs, ys, _i, _j, _ref1, _ref2, _ref3, _ref4;
                        if (!this.grid_props.do_stroke) {
                          return;
                        }
                        _ref1 = this.mget('grid_coords'), xs = _ref1[0], ys = _ref1[1];
                        this.grid_props.set(ctx, this);
                        for (i = _i = 0, _ref2 = xs.length; 0 <= _ref2 ? _i < _ref2 : _i > _ref2; i = 0 <= _ref2 ? ++_i : --_i) {
                          _ref3 = this.plot_view.map_to_screen(xs[i], "data", ys[i], "data"), sx = _ref3[0], sy = _ref3[1];
                          ctx.beginPath();
                          ctx.moveTo(Math.round(sx[0]), Math.round(sy[0]));
                          for (i = _j = 1, _ref4 = sx.length; 1 <= _ref4 ? _j < _ref4 : _j > _ref4; i = 1 <= _ref4 ? ++_j : --_j) {
                            ctx.lineTo(Math.round(sx[i]), Math.round(sy[i]));
                          }
                          ctx.stroke();
                        }
                      };
                
                      return GridView;
                
                    })(PlotWidget);
                    Grid = (function(_super) {
                      __extends(Grid, _super);
                
                      function Grid() {
                        _ref1 = Grid.__super__.constructor.apply(this, arguments);
                        return _ref1;
                      }
                
                      Grid.prototype.default_view = GridView;
                
                      Grid.prototype.type = 'Grid';
                
                      Grid.prototype.initialize = function(attrs, options) {
                        Grid.__super__.initialize.call(this, attrs, options);
                        this.register_property('computed_bounds', this._bounds, false);
                        this.add_dependencies('computed_bounds', this, ['bounds']);
                        this.register_property('grid_coords', this._grid_coords, false);
                        return this.add_dependencies('grid_coords', this, ['computed_bounds', 'dimension', 'ticker']);
                      };
                
                      Grid.prototype._bounds = function() {
                        var end, i, j, range_bounds, ranges, start, user_bounds, _ref2;
                        i = this.get('dimension');
                        j = (i + 1) % 2;
                        ranges = [this.get_obj('plot').get_obj('x_range'), this.get_obj('plot').get_obj('y_range')];
                        user_bounds = (_ref2 = this.get('bounds')) != null ? _ref2 : 'auto';
                        range_bounds = [ranges[i].get('min'), ranges[i].get('max')];
                        if (_.isArray(user_bounds)) {
                          start = Math.min(user_bounds[0], user_bounds[1]);
                          end = Math.max(user_bounds[0], user_bounds[1]);
                          if (start < range_bounds[0]) {
                            start = range_bounds[0];
                          } else if (start > range_bounds[1]) {
                            start = null;
                          }
                          if (end > range_bounds[1]) {
                            end = range_bounds[1];
                          } else if (end < range_bounds[0]) {
                            end = null;
                          }
                        } else {
                          start = range_bounds[0], end = range_bounds[1];
                        }
                        return [start, end];
                      };
                
                      Grid.prototype._grid_coords = function() {
                        var N, cmax, cmin, coords, cross_range, dim_i, dim_j, end, i, ii, j, loc, max, min, n, range, ranges, start, ticks, tmp, _i, _j, _ref2, _ref3;
                        i = this.get('dimension');
                        j = (i + 1) % 2;
                        ranges = [this.get_obj('plot').get_obj('x_range'), this.get_obj('plot').get_obj('y_range')];
                        range = ranges[i];
                        cross_range = ranges[j];
                        _ref2 = this.get('computed_bounds'), start = _ref2[0], end = _ref2[1];
                        tmp = Math.min(start, end);
                        end = Math.max(start, end);
                        start = tmp;
                        ticks = this.get_obj('axis').get_obj('ticker').get_ticks(start, end, range, {}).major;
                        min = range.get('min');
                        max = range.get('max');
                        cmin = cross_range.get('min');
                        cmax = cross_range.get('max');
                        coords = [[], []];
                        for (ii = _i = 0, _ref3 = ticks.length; 0 <= _ref3 ? _i < _ref3 : _i > _ref3; ii = 0 <= _ref3 ? ++_i : --_i) {
                          if (ticks[ii] === min || ticks[ii] === max) {
                            continue;
                          }
                          dim_i = [];
                          dim_j = [];
                          N = 2;
                          for (n = _j = 0; 0 <= N ? _j < N : _j > N; n = 0 <= N ? ++_j : --_j) {
                            loc = cmin + (cmax - cmin) / (N - 1) * n;
                            dim_i.push(ticks[ii]);
                            dim_j.push(loc);
                          }
                          coords[i].push(dim_i);
                          coords[j].push(dim_j);
                        }
                        return coords;
                      };
                
                      Grid.prototype.display_defaults = function() {
                        return {
                          level: 'underlay',
                          grid_line_color: '#cccccc',
                          grid_line_width: 1,
                          grid_line_alpha: 1.0,
                          grid_line_join: 'miter',
                          grid_line_cap: 'butt',
                          grid_line_dash: [],
                          grid_line_dash_offset: 0
                        };
                      };
                
                      return Grid;
                
                    })(HasParent);
                    Grids = (function(_super) {
                      __extends(Grids, _super);
                
                      function Grids() {
                        _ref2 = Grids.__super__.constructor.apply(this, arguments);
                        return _ref2;
                      }
                
                      Grids.prototype.model = Grid;
                
                      return Grids;
                
                    })(Backbone.Collection);
                    return {
                      "Model": Grid,
                      "Collection": new Grids(),
                      "View": GridView
                    };
                  });
                
                }).call(this);
                
                /*
                //@ sourceMappingURL=grid.js.map
                */;
                (function() {
                  var __hasProp = {}.hasOwnProperty,
                    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };
                
                  define('ticking/basic_tick_formatter',["underscore", "backbone", "common/has_properties"], function(_, Backbone, HasProperties) {
                    var BasicTickFormatter, BasicTickFormatters, _ref, _ref1;
                    BasicTickFormatter = (function(_super) {
                      __extends(BasicTickFormatter, _super);
                
                      function BasicTickFormatter() {
                        _ref = BasicTickFormatter.__super__.constructor.apply(this, arguments);
                        return _ref;
                      }
                
                      BasicTickFormatter.prototype.type = 'BasicTickFormatter';
                
                      BasicTickFormatter.prototype.initialize = function(attrs, options) {
                        BasicTickFormatter.__super__.initialize.call(this, attrs, options);
                        this.register_property('scientific_limit_low', function() {
                          return Math.pow(10.0, this.get('power_limit_low'));
                        }, true);
                        this.add_dependencies('scientific_limit_low', this, ['power_limit_low']);
                        this.register_property('scientific_limit_high', function() {
                          return Math.pow(10.0, this.get('power_limit_high'));
                        }, true);
                        this.add_dependencies('scientific_limit_high', this, ['power_limit_high']);
                        return this.last_precision = 3;
                      };
                
                      BasicTickFormatter.prototype.format = function(ticks) {
                        var i, is_ok, labels, need_sci, precision, tick, tick_abs, x, zero_eps, _i, _j, _k, _l, _len, _m, _n, _ref1, _ref2, _ref3, _ref4, _ref5;
                        if (ticks.length === 0) {
                          return [];
                        }
                        zero_eps = 0;
                        if (ticks.length >= 2) {
                          zero_eps = Math.abs(ticks[1] - ticks[0]) / 10000;
                        }
                        need_sci = false;
                        if (this.get('use_scientific')) {
                          for (_i = 0, _len = ticks.length; _i < _len; _i++) {
                            tick = ticks[_i];
                            tick_abs = Math.abs(tick);
                            if (tick_abs > zero_eps && (tick_abs >= this.get('scientific_limit_high') || tick_abs <= this.get('scientific_limit_low'))) {
                              need_sci = true;
                              break;
                            }
                          }
                        }
                        precision = this.get('precision');
                        if ((precision == null) || _.isNumber(precision)) {
                          labels = new Array(ticks.length);
                          if (need_sci) {
                            for (i = _j = 0, _ref1 = ticks.length; 0 <= _ref1 ? _j < _ref1 : _j > _ref1; i = 0 <= _ref1 ? ++_j : --_j) {
                              labels[i] = ticks[i].toExponential(precision || void 0);
                            }
                          } else {
                            for (i = _k = 0, _ref2 = ticks.length; 0 <= _ref2 ? _k < _ref2 : _k > _ref2; i = 0 <= _ref2 ? ++_k : --_k) {
                              labels[i] = ticks[i].toFixed(precision || void 0).replace(/(\.[0-9]*?)0+$/, "$1").replace(/\.$/, "");
                            }
                          }
                          return labels;
                        } else if (precision === 'auto') {
                          labels = new Array(ticks.length);
                          for (x = _l = _ref3 = this.last_precision; _ref3 <= 15 ? _l <= 15 : _l >= 15; x = _ref3 <= 15 ? ++_l : --_l) {
                            is_ok = true;
                            if (need_sci) {
                              for (i = _m = 0, _ref4 = ticks.length; 0 <= _ref4 ? _m < _ref4 : _m > _ref4; i = 0 <= _ref4 ? ++_m : --_m) {
                                labels[i] = ticks[i].toExponential(x);
                                if (i > 0) {
                                  if (labels[i] === labels[i - 1]) {
                                    is_ok = false;
                                    break;
                                  }
                                }
                              }
                              if (is_ok) {
                                break;
                              }
                            } else {
                              for (i = _n = 0, _ref5 = ticks.length; 0 <= _ref5 ? _n < _ref5 : _n > _ref5; i = 0 <= _ref5 ? ++_n : --_n) {
                                labels[i] = ticks[i].toFixed(x).replace(/(\.[0-9]*?)0+$/, "$1").replace(/\.$/, "");
                                if (i > 0) {
                                  if (labels[i] === labels[i - 1]) {
                                    is_ok = false;
                                    break;
                                  }
                                }
                              }
                              if (is_ok) {
                                break;
                              }
                            }
                            if (is_ok) {
                              this.last_precision = x;
                              return labels;
                            }
                          }
                        }
                        return labels;
                      };
                
                      BasicTickFormatter.prototype.defaults = function() {
                        return {
                          precision: 'auto',
                          use_scientific: true,
                          power_limit_high: 5,
                          power_limit_low: -3
                        };
                      };
                
                      return BasicTickFormatter;
                
                    })(HasProperties);
                    BasicTickFormatters = (function(_super) {
                      __extends(BasicTickFormatters, _super);
                
                      function BasicTickFormatters() {
                        _ref1 = BasicTickFormatters.__super__.constructor.apply(this, arguments);
                        return _ref1;
                      }
                
                      BasicTickFormatters.prototype.model = BasicTickFormatter;
                
                      return BasicTickFormatters;
                
                    })(Backbone.Collection);
                    return {
                      "Model": BasicTickFormatter,
                      "Collection": new BasicTickFormatters()
                    };
                  });
                
                }).call(this);
                
                /*
                //@ sourceMappingURL=basic_tick_formatter.js.map
                */;
                (function() {
                  var __hasProp = {}.hasOwnProperty,
                    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };
                
                  define('renderer/guide/linear_axis',["underscore", "backbone", "./axis", "ticking/basic_ticker", "ticking/basic_tick_formatter"], function(_, Backbone, Axis, BasicTicker, BasicTickFormatter) {
                    var LinearAxes, LinearAxis, LinearAxisView, _ref, _ref1, _ref2;
                    LinearAxisView = (function(_super) {
                      __extends(LinearAxisView, _super);
                
                      function LinearAxisView() {
                        _ref = LinearAxisView.__super__.constructor.apply(this, arguments);
                        return _ref;
                      }
                
                      return LinearAxisView;
                
                    })(Axis.View);
                    LinearAxis = (function(_super) {
                      __extends(LinearAxis, _super);
                
                      function LinearAxis() {
                        _ref1 = LinearAxis.__super__.constructor.apply(this, arguments);
                        return _ref1;
                      }
                
                      LinearAxis.prototype.default_view = LinearAxisView;
                
                      LinearAxis.prototype.type = 'LinearAxis';
                
                      LinearAxis.prototype.dinitialize = function(attrs, objects) {
                        LinearAxis.__super__.dinitialize.call(this, attrs, objects);
                        if (this.get_obj('ticker') == null) {
                          this.set_obj('ticker', BasicTicker.Collection.create());
                        }
                        if (this.get_obj('formatter') == null) {
                          return this.set_obj('formatter', BasicTickFormatter.Collection.create());
                        }
                      };
                
                      return LinearAxis;
                
                    })(Axis.Model);
                    LinearAxes = (function(_super) {
                      __extends(LinearAxes, _super);
                
                      function LinearAxes() {
                        _ref2 = LinearAxes.__super__.constructor.apply(this, arguments);
                        return _ref2;
                      }
                
                      LinearAxes.prototype.model = LinearAxis;
                
                      return LinearAxes;
                
                    })(Backbone.Collection);
                    return {
                      "Model": LinearAxis,
                      "Collection": new LinearAxes(),
                      "View": LinearAxisView
                    };
                  });
                
                }).call(this);
                
                /*
                //@ sourceMappingURL=linear_axis.js.map
                */;
                (function() {
                  var __hasProp = {}.hasOwnProperty,
                    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };
                
                  define('ticking/log_ticker',["ticking/adaptive_ticker"], function(AdaptiveTicker) {
                    var LogTicker, LogTickers, range, _ref, _ref1;
                    range = function(start, stop, step) {
                      var i, result;
                      if (typeof stop === "undefined") {
                        stop = start;
                        start = 0;
                      }
                      if (typeof step === "undefined") {
                        step = 1;
                      }
                      if ((step > 0 && start >= stop) || (step < 0 && start <= stop)) {
                        return [];
                      }
                      result = [];
                      i = start;
                      while ((step > 0 ? i < stop : i > stop)) {
                        result.push(i);
                        i += step;
                      }
                      return result;
                    };
                    LogTicker = (function(_super) {
                      __extends(LogTicker, _super);
                
                      function LogTicker() {
                        _ref = LogTicker.__super__.constructor.apply(this, arguments);
                        return _ref;
                      }
                
                      LogTicker.prototype.type = 'LogTicker';
                
                      LogTicker.prototype.initialize = function(attrs, options) {
                        return LogTicker.__super__.initialize.call(this, attrs, options);
                      };
                
                      LogTicker.prototype.get_ticks_no_defaults = function(data_low, data_high, desired_n_ticks) {
                        var end_factor, endlog, factor, factors, i, interval, log_high, log_interval, log_low, minor_interval, minor_offsets, minor_ticks, num_minor_ticks, start_factor, startlog, tick, ticks, x, _i, _j, _k, _l, _len, _len1, _len2, _len3, _len4, _len5, _m, _n, _ref1;
                        num_minor_ticks = this.get('num_minor_ticks');
                        minor_ticks = [];
                        if (data_low <= 0) {
                          data_low = 1;
                        }
                        if (data_low > data_high) {
                          _ref1 = [data_high, data_low], data_low = _ref1[0], data_high = _ref1[1];
                        }
                        log_low = Math.log(data_low) / Math.log(10);
                        log_high = Math.log(data_high) / Math.log(10);
                        log_interval = log_high - log_low;
                        if (log_interval < 2) {
                          interval = this.get_interval(data_low, data_high, desired_n_ticks);
                          start_factor = Math.floor(data_low / interval);
                          end_factor = Math.ceil(data_high / interval);
                          if (_.isNaN(start_factor) || _.isNaN(end_factor)) {
                            factors = [];
                          } else {
                            factors = _.range(start_factor, end_factor + 1);
                          }
                          ticks = (function() {
                            var _i, _len, _results;
                            _results = [];
                            for (_i = 0, _len = factors.length; _i < _len; _i++) {
                              factor = factors[_i];
                              if (factor !== 0) {
                                _results.push(factor * interval);
                              }
                            }
                            return _results;
                          })();
                          if (num_minor_ticks > 1) {
                            minor_interval = interval / num_minor_ticks;
                            minor_offsets = (function() {
                              var _i, _results;
                              _results = [];
                              for (i = _i = 1; 1 <= num_minor_ticks ? _i <= num_minor_ticks : _i >= num_minor_ticks; i = 1 <= num_minor_ticks ? ++_i : --_i) {
                                _results.push(i * minor_interval);
                              }
                              return _results;
                            })();
                            for (_i = 0, _len = minor_offsets.length; _i < _len; _i++) {
                              x = minor_offsets[_i];
                              minor_ticks.push(ticks[0] - x);
                            }
                            for (_j = 0, _len1 = ticks.length; _j < _len1; _j++) {
                              tick = ticks[_j];
                              for (_k = 0, _len2 = minor_offsets.length; _k < _len2; _k++) {
                                x = minor_offsets[_k];
                                minor_ticks.push(tick + x);
                              }
                            }
                          }
                        } else {
                          startlog = Math.ceil(log_low);
                          endlog = Math.floor(log_high);
                          interval = Math.ceil((endlog - startlog) / 9.0);
                          ticks = range(startlog, endlog, interval);
                          if ((endlog - startlog) % interval === 0) {
                            ticks = ticks.concat([endlog]);
                          }
                          ticks = ticks.map(function(i) {
                            return Math.pow(10, i);
                          });
                          if (num_minor_ticks > 1) {
                            minor_interval = Math.pow(10, interval) / num_minor_ticks;
                            minor_offsets = (function() {
                              var _l, _results;
                              _results = [];
                              for (i = _l = 1; 1 <= num_minor_ticks ? _l <= num_minor_ticks : _l >= num_minor_ticks; i = 1 <= num_minor_ticks ? ++_l : --_l) {
                                _results.push(i * minor_interval);
                              }
                              return _results;
                            })();
                            for (_l = 0, _len3 = minor_offsets.length; _l < _len3; _l++) {
                              x = minor_offsets[_l];
                              minor_ticks.push(ticks[0] / x);
                            }
                            for (_m = 0, _len4 = ticks.length; _m < _len4; _m++) {
                              tick = ticks[_m];
                              for (_n = 0, _len5 = minor_offsets.length; _n < _len5; _n++) {
                                x = minor_offsets[_n];
                                minor_ticks.push(tick * x);
                              }
                            }
                          }
                        }
                        return {
                          "major": ticks,
                          "minor": minor_ticks
                        };
                      };
                
                      LogTicker.prototype.defaults = function() {
                        return _.extend(LogTicker.__super__.defaults.call(this), {
                          mantissas: [1, 5]
                        });
                      };
                
                      return LogTicker;
                
                    })(AdaptiveTicker.Model);
                    LogTickers = (function(_super) {
                      __extends(LogTickers, _super);
                
                      function LogTickers() {
                        _ref1 = LogTickers.__super__.constructor.apply(this, arguments);
                        return _ref1;
                      }
                
                      LogTickers.prototype.model = LogTicker;
                
                      return LogTickers;
                
                    })(Backbone.Collection);
                    return {
                      "Model": LogTicker,
                      "Collection": new LogTickers()
                    };
                  });
                
                }).call(this);
                
                /*
                //@ sourceMappingURL=log_ticker.js.map
                */;
                (function() {
                  var __hasProp = {}.hasOwnProperty,
                    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };
                
                  define('ticking/log_tick_formatter',["underscore", "backbone", "common/has_properties", "ticking/basic_tick_formatter"], function(_, Backbone, HasProperties, BasicTickFormatter) {
                    var LogTickFormatter, LogTickFormatters, _ref, _ref1;
                    LogTickFormatter = (function(_super) {
                      __extends(LogTickFormatter, _super);
                
                      function LogTickFormatter() {
                        _ref = LogTickFormatter.__super__.constructor.apply(this, arguments);
                        return _ref;
                      }
                
                      LogTickFormatter.prototype.type = 'LogTickFormatter';
                
                      LogTickFormatter.prototype.dinitialize = function(attrs, options) {
                        LogTickFormatter.__super__.dinitialize.call(this, attrs, options);
                        return this.basic_formatter = new BasicTickFormatter.Model();
                      };
                
                      LogTickFormatter.prototype.format = function(ticks) {
                        var i, labels, small_interval, _i, _ref1;
                        if (ticks.length === 0) {
                          return [];
                        }
                        small_interval = false;
                        labels = new Array(ticks.length);
                        for (i = _i = 0, _ref1 = ticks.length; 0 <= _ref1 ? _i < _ref1 : _i > _ref1; i = 0 <= _ref1 ? ++_i : --_i) {
                          labels[i] = "10^" + (Math.round(Math.log(ticks[i]) / Math.log(10)));
                          if ((i > 0) && (labels[i] === labels[i - 1])) {
                            small_interval = true;
                            break;
                          }
                        }
                        if (small_interval) {
                          labels = this.basic_formatter.format(ticks);
                        }
                        return labels;
                      };
                
                      return LogTickFormatter;
                
                    })(HasProperties);
                    LogTickFormatters = (function(_super) {
                      __extends(LogTickFormatters, _super);
                
                      function LogTickFormatters() {
                        _ref1 = LogTickFormatters.__super__.constructor.apply(this, arguments);
                        return _ref1;
                      }
                
                      LogTickFormatters.prototype.model = LogTickFormatter;
                
                      return LogTickFormatters;
                
                    })(Backbone.Collection);
                    return {
                      "Model": LogTickFormatter,
                      "Collection": new LogTickFormatters()
                    };
                  });
                
                }).call(this);
                
                /*
                //@ sourceMappingURL=log_tick_formatter.js.map
                */;
                (function() {
                  var __hasProp = {}.hasOwnProperty,
                    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };
                
                  define('renderer/guide/log_axis',["underscore", "backbone", "./axis", "ticking/log_ticker", "ticking/log_tick_formatter"], function(_, Backbone, Axis, LogTicker, LogTickFormatter) {
                    var LogAxes, LogAxis, LogAxisView, _ref, _ref1, _ref2;
                    LogAxisView = (function(_super) {
                      __extends(LogAxisView, _super);
                
                      function LogAxisView() {
                        _ref = LogAxisView.__super__.constructor.apply(this, arguments);
                        return _ref;
                      }
                
                      return LogAxisView;
                
                    })(Axis.View);
                    LogAxis = (function(_super) {
                      __extends(LogAxis, _super);
                
                      function LogAxis() {
                        _ref1 = LogAxis.__super__.constructor.apply(this, arguments);
                        return _ref1;
                      }
                
                      LogAxis.prototype.default_view = LogAxisView;
                
                      LogAxis.prototype.type = 'LogAxis';
                
                      LogAxis.prototype.dinitialize = function(attrs, objects) {
                        LogAxis.__super__.dinitialize.call(this, attrs, objects);
                        if (this.get_obj('ticker') == null) {
                          this.set_obj('ticker', LogTicker.Collection.create());
                        }
                        if (this.get_obj('formatter') == null) {
                          return this.set_obj('formatter', LogTickFormatter.Collection.create());
                        }
                      };
                
                      return LogAxis;
                
                    })(Axis.Model);
                    LogAxes = (function(_super) {
                      __extends(LogAxes, _super);
                
                      function LogAxes() {
                        _ref2 = LogAxes.__super__.constructor.apply(this, arguments);
                        return _ref2;
                      }
                
                      LogAxes.prototype.model = LogAxis;
                
                      return LogAxes;
                
                    })(Backbone.Collection);
                    return {
                      "Model": LogAxis,
                      "Collection": new LogAxes(),
                      "View": LogAxisView
                    };
                  });
                
                }).call(this);
                
                /*
                //@ sourceMappingURL=log_axis.js.map
                */;
                (function() {
                  var __hasProp = {}.hasOwnProperty,
                    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };
                
                  define('renderer/overlay/box_selection',["underscore", "common/has_parent", "common/plot_widget"], function(_, HasParent, PlotWidget) {
                    var BoxSelection, BoxSelectionView, BoxSelections, _ref, _ref1, _ref2;
                    BoxSelectionView = (function(_super) {
                      __extends(BoxSelectionView, _super);
                
                      function BoxSelectionView() {
                        _ref = BoxSelectionView.__super__.constructor.apply(this, arguments);
                        return _ref;
                      }
                
                      BoxSelectionView.prototype.initialize = function(options) {
                        this.selecting = false;
                        this.xrange = [null, null];
                        this.yrange = [null, null];
                        BoxSelectionView.__super__.initialize.call(this, options);
                        return this.plot_view.$el.find('.bokeh_canvas_wrapper').append(this.$el);
                      };
                
                      BoxSelectionView.prototype.boxselect = function(xrange, yrange) {
                        this.xrange = xrange;
                        this.yrange = yrange;
                        return this.request_render();
                      };
                
                      BoxSelectionView.prototype.startselect = function() {
                        this.selecting = true;
                        this.xrange = [null, null];
                        this.yrange = [null, null];
                        return this.request_render();
                      };
                
                      BoxSelectionView.prototype.stopselect = function() {
                        this.selecting = false;
                        this.xrange = [null, null];
                        this.yrange = [null, null];
                        return this.request_render();
                      };
                
                      BoxSelectionView.prototype.bind_bokeh_events = function(options) {
                        this.toolview = this.plot_view.tools[this.mget('tool').id];
                        this.listenTo(this.toolview, 'boxselect', this.boxselect);
                        this.listenTo(this.toolview, 'startselect', this.startselect);
                        return this.listenTo(this.toolview, 'stopselect', this.stopselect);
                      };
                
                      BoxSelectionView.prototype.render = function() {
                        var height, style_string, width, xpos, xrange, ypos, yrange;
                        if (!this.selecting) {
                          this.$el.removeClass('shading');
                          return;
                        }
                        xrange = this.xrange;
                        yrange = this.yrange;
                        if (_.any(_.map(xrange, _.isNullOrUndefined)) || _.any(_.map(yrange, _.isNullOrUndefined))) {
                          this.$el.removeClass('shading');
                          return;
                        }
                        style_string = "";
                        if (xrange) {
                          xpos = this.plot_view.view_state.vx_to_sx(Math.min(xrange[0], xrange[1]));
                          width = Math.abs(xrange[1] - xrange[0]);
                        } else {
                          xpos = 0;
                          width = this.plot_view.view_state.get('width');
                        }
                        style_string += "; left:" + xpos + "px; width:" + width + "px; ";
                        if (yrange) {
                          ypos = this.plot_view.view_state.vy_to_sy(Math.max(yrange[0], yrange[1]));
                          height = Math.abs(yrange[1] - yrange[0]);
                        } else {
                          ypos = 0;
                          height = this.plot_view.view_state.get('height');
                        }
                        this.$el.addClass('shading');
                        style_string += "top:" + ypos + "px; height:" + height + "px";
                        return this.$el.attr('style', style_string);
                      };
                
                      return BoxSelectionView;
                
                    })(PlotWidget);
                    BoxSelection = (function(_super) {
                      __extends(BoxSelection, _super);
                
                      function BoxSelection() {
                        _ref1 = BoxSelection.__super__.constructor.apply(this, arguments);
                        return _ref1;
                      }
                
                      BoxSelection.prototype.default_view = BoxSelectionView;
                
                      BoxSelection.prototype.type = "BoxSelection";
                
                      BoxSelection.prototype.defaults = function() {
                        return {
                          tool: null,
                          level: 'overlay'
                        };
                      };
                
                      return BoxSelection;
                
                    })(HasParent);
                    BoxSelections = (function(_super) {
                      __extends(BoxSelections, _super);
                
                      function BoxSelections() {
                        _ref2 = BoxSelections.__super__.constructor.apply(this, arguments);
                        return _ref2;
                      }
                
                      BoxSelections.prototype.model = BoxSelection;
                
                      return BoxSelections;
                
                    })(Backbone.Collection);
                    return {
                      "Model": BoxSelection,
                      "Collection": new BoxSelections(),
                      "View": BoxSelectionView
                    };
                  });
                
                }).call(this);
                
                /*
                //@ sourceMappingURL=box_selection.js.map
                */;
                (function() {
                  var __hasProp = {}.hasOwnProperty,
                    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };
                
                  define('source/column_data_source',["underscore", "backbone", "common/has_properties"], function(_, Backbone, HasProperties) {
                    var ColumnDataSource, ColumnDataSources, _ref, _ref1;
                    ColumnDataSource = (function(_super) {
                      __extends(ColumnDataSource, _super);
                
                      function ColumnDataSource() {
                        _ref = ColumnDataSource.__super__.constructor.apply(this, arguments);
                        return _ref;
                      }
                
                      ColumnDataSource.prototype.type = 'ColumnDataSource';
                
                      ColumnDataSource.prototype.initialize = function(attrs, options) {
                        ColumnDataSource.__super__.initialize.call(this, attrs, options);
                        this.cont_ranges = {};
                        return this.discrete_ranges = {};
                      };
                
                      ColumnDataSource.prototype.getcolumn = function(colname) {
                        var _ref1;
                        return (_ref1 = this.get('data')[colname]) != null ? _ref1 : null;
                      };
                
                      ColumnDataSource.prototype.getcolumn_with_default = function(colname, default_value) {
                        " returns the column, with any undefineds replaced with default";
                        var _ref1;
                        return (_ref1 = this.get('data')[colname]) != null ? _ref1 : null;
                      };
                
                      ColumnDataSource.prototype.get_length = function() {
                        var data;
                        data = this.get('data');
                        return data[_.keys(data)[0]].length;
                      };
                
                      ColumnDataSource.prototype.columns = function() {
                        return _.keys(this.get('data'));
                      };
                
                      ColumnDataSource.prototype.datapoints = function() {
                        var data, field, fields, i, point, points, _i, _j, _len, _ref1;
                        data = this.get('data');
                        fields = _.keys(data);
                        points = [];
                        for (i = _i = 0, _ref1 = data[fields[0]].length; 0 <= _ref1 ? _i < _ref1 : _i > _ref1; i = 0 <= _ref1 ? ++_i : --_i) {
                          point = {};
                          for (_j = 0, _len = fields.length; _j < _len; _j++) {
                            field = fields[_j];
                            point[field] = data[field][i];
                          }
                          points.push(point);
                        }
                        return points;
                      };
                
                      ColumnDataSource.prototype.defaults = function() {
                        return ColumnDataSource.__super__.defaults.call(this);
                      };
                
                      return ColumnDataSource;
                
                    })(HasProperties);
                    ColumnDataSources = (function(_super) {
                      __extends(ColumnDataSources, _super);
                
                      function ColumnDataSources() {
                        _ref1 = ColumnDataSources.__super__.constructor.apply(this, arguments);
                        return _ref1;
                      }
                
                      ColumnDataSources.prototype.model = ColumnDataSource;
                
                      return ColumnDataSources;
                
                    })(Backbone.Collection);
                    return {
                      "Model": ColumnDataSource,
                      "Collection": new ColumnDataSources()
                    };
                  });
                
                }).call(this);
                
                /*
                //@ sourceMappingURL=column_data_source.js.map
                */;
                (function() {
                  var __bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; },
                    __hasProp = {}.hasOwnProperty,
                    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };
                
                  define('source/server_data_source',["underscore", "backbone", "common/has_properties"], function(_, Backbone, HasProperties) {
                    var ServerDataSource, ServerDataSources, ajax_throttle, _ref, _ref1;
                    ajax_throttle = function(func) {
                      var busy, callback, has_callback, resp;
                      busy = false;
                      resp = null;
                      has_callback = false;
                      callback = function() {
                        if (busy) {
                          if (has_callback) {
                            return console.log('already bound, ignoreing');
                          } else {
                            console.log('busy, so doing it later');
                            has_callback = true;
                            return resp.done(function() {
                              has_callback = false;
                              return callback();
                            });
                          }
                        } else {
                          console.log('executing');
                          busy = true;
                          resp = func();
                          return resp.done(function() {
                            console.log('done, setting to false');
                            busy = false;
                            return resp = null;
                          });
                        }
                      };
                      return callback;
                    };
                    ServerDataSource = (function(_super) {
                      __extends(ServerDataSource, _super);
                
                      function ServerDataSource() {
                        this.heatmap_update = __bind(this.heatmap_update, this);
                        this.line1d_update = __bind(this.line1d_update, this);
                        this.initialize = __bind(this.initialize, this);
                        _ref = ServerDataSource.__super__.constructor.apply(this, arguments);
                        return _ref;
                      }
                
                      ServerDataSource.prototype.type = 'ServerDataSource';
                
                      ServerDataSource.prototype.initialize = function(attrs, options) {
                        ServerDataSource.__super__.initialize.call(this, attrs, options);
                        return this.callbacks = {};
                      };
                
                      ServerDataSource.prototype.stoplistening_for_updates = function(column_data_source) {
                        var entry, _i, _len, _ref1, _results;
                        if (this.callbacks[column_data_source.get('id')]) {
                          _ref1 = this.callbacks[column_data_source.get('id')];
                          _results = [];
                          for (_i = 0, _len = _ref1.length; _i < _len; _i++) {
                            entry = _ref1[_i];
                            _results.push(this.stopListening.apply(this, entry));
                          }
                          return _results;
                        }
                      };
                
                      ServerDataSource.prototype.update_url = function() {
                        var owner_username, prefix, url;
                        owner_username = this.get('owner_username');
                        prefix = this.get_base().Config.prefix;
                        return url = "" + prefix + "bokeh/data/" + owner_username + "/" + (this.get('doc')) + "/" + (this.get('id'));
                      };
                
                      ServerDataSource.prototype.listen_for_line1d_updates = function(column_data_source, plot_x_range, plot_y_range, domain_range, screen_range, primary_column, domain_name, columns, input_params) {
                        var callback, plot_state, throttle,
                          _this = this;
                        plot_state = {
                          screen_x: plot_x_range,
                          screen_y: plot_y_range
                        };
                        this.stoplistening_for_updates(column_data_source);
                        this.line1d_update(column_data_source, plot_state, domain_range, screen_range, primary_column, domain_name, columns, input_params);
                        throttle = _.throttle(this.line1d_update, 300);
                        console.log(input_params);
                        callback = function() {
                          return throttle(column_data_source, plot_state, domain_range, screen_range, primary_column, domain_name, columns, input_params);
                        };
                        this.listenTo(screen_range, 'change', callback);
                        this.listenTo(domain_range, 'change', callback);
                        return this.callbacks[column_data_source.get('id')] = [[screen_range, 'change', callback], [domain_range, 'change', callback]];
                      };
                
                      ServerDataSource.prototype.line1d_update = function(column_data_source, plot_state, domain_range, screen_range, primary_column, domain_name, columns, input_params) {
                        var domain_limit, domain_resolution, params;
                        domain_resolution = (screen_range.get('end') - screen_range.get('start')) / 2;
                        domain_resolution = Math.floor(domain_resolution);
                        domain_limit = [domain_range.get('start'), domain_range.get('end')];
                        if (_.any(_.map(domain_limit, function(x) {
                          return _.isNaN(x);
                        }))) {
                          domain_limit = 'auto';
                        }
                        console.log(input_params);
                        params = [primary_column, domain_name, columns, domain_limit, domain_resolution, input_params];
                        return $.ajax({
                          dataType: 'json',
                          url: this.update_url(),
                          xhrField: {
                            withCredentials: true
                          },
                          success: function(data) {
                            if (domain_limit === 'auto') {
                              domain_range.set({
                                start: data.domain_limit[0],
                                end: data.domain_limit[1],
                                silent: true
                              });
                            }
                            return column_data_source.set('data', data.data);
                          },
                          data: {
                            resample_parameters: JSON.stringify(params),
                            plot_state: JSON.stringify(plot_state)
                          }
                        });
                      };
                
                      ServerDataSource.prototype.listen_for_ar_updates = function(plot_view, column_data_source, plot_x_range, plot_y_range, x_data_range, y_data_range, input_params) {
                        var callback, param, plot_state, _i, _len, _ref1,
                          _this = this;
                        plot_state = {
                          data_x: x_data_range,
                          data_y: y_data_range,
                          screen_x: plot_x_range,
                          screen_y: plot_y_range
                        };
                        this.stoplistening_for_updates(column_data_source);
                        callback = ajax_throttle(function() {
                          return _this.ar_update(plot_view, column_data_source, plot_state, input_params);
                        });
                        callback();
                        this.callbacks[column_data_source.get('id')] = [];
                        _ref1 = [x_data_range, y_data_range, plot_x_range, plot_y_range];
                        for (_i = 0, _len = _ref1.length; _i < _len; _i++) {
                          param = _ref1[_i];
                          this.listenTo(param, 'change', callback);
                          this.callbacks[column_data_source.get('id')].push([param, 'change', callback]);
                        }
                        this.listenTo(this, 'change:index_slice', callback);
                        this.callbacks[column_data_source.get('id')].push([this, 'change:index_slice', callback]);
                        this.listenTo(this, 'change:data_slice', callback);
                        this.callbacks[column_data_source.get('id')].push([this, 'change:data_slice', callback]);
                        return null;
                      };
                
                      ServerDataSource.prototype.ar_update = function(plot_view, column_data_source, plot_state, input_params, x_data_range, y_data_range) {
                        var domain_limit, resp;
                        domain_limit = 'not auto';
                        if (plot_view.x_range.get('start') === plot_view.x_range.get('end') || plot_view.y_range.get('start') === plot_view.y_range.get('end')) {
                          domain_limit = 'auto';
                        }
                        resp = $.ajax({
                          dataType: 'json',
                          url: this.update_url(),
                          xhrField: {
                            withCredentials: true
                          },
                          success: function(data) {
                            var new_data;
                            if (domain_limit === 'auto') {
                              plot_state['data_x'].set({
                                start: data.x_range.start,
                                end: data.x_range.end
                              });
                              plot_state['data_y'].set({
                                start: data.y_range.start,
                                end: data.y_range.end
                              });
                            }
                            new_data = _.clone(column_data_source.get('data'));
                            _.extend(new_data, data);
                            column_data_source.set('data', new_data);
                            return plot_view.request_render();
                          },
                          data: {
                            resample_parameters: JSON.stringify([input_params]),
                            plot_state: JSON.stringify(plot_state)
                          }
                        });
                        return resp;
                      };
                
                      ServerDataSource.prototype.listen_for_heatmap_updates = function(column_data_source, plot_x_range, plot_y_range, x_data_range, y_data_range, input_params) {
                        var callback, param, plot_state, _i, _len, _ref1,
                          _this = this;
                        plot_state = {
                          data_x: x_data_range,
                          data_y: y_data_range,
                          screen_x: plot_x_range,
                          screen_y: plot_y_range
                        };
                        this.stoplistening_for_updates(column_data_source);
                        callback = ajax_throttle(function() {
                          return _this.heatmap_update(column_data_source, plot_state, input_params);
                        });
                        callback();
                        this.callbacks[column_data_source.get('id')] = [];
                        _ref1 = [x_data_range, y_data_range, plot_x_range, plot_y_range];
                        for (_i = 0, _len = _ref1.length; _i < _len; _i++) {
                          param = _ref1[_i];
                          this.listenTo(param, 'change', callback);
                          this.callbacks[column_data_source.get('id')].push([param, 'change', callback]);
                        }
                        this.listenTo(this, 'change:index_slice', callback);
                        this.callbacks[column_data_source.get('id')].push([this, 'change:index_slice', callback]);
                        this.listenTo(this, 'change:data_slice', callback);
                        this.callbacks[column_data_source.get('id')].push([this, 'change:data_slice', callback]);
                        return null;
                      };
                
                      ServerDataSource.prototype.heatmap_update = function(column_data_source, plot_state, input_params) {
                        var data_slice, global_offset_x, global_offset_y, global_x_range, global_y_range, index_slice, params;
                        global_x_range = this.get('data').global_x_range;
                        global_y_range = this.get('data').global_y_range;
                        global_offset_x = this.get('data').global_offset_x[0];
                        global_offset_y = this.get('data').global_offset_y[0];
                        index_slice = this.get('index_slice');
                        data_slice = this.get('data_slice');
                        params = [global_x_range, global_y_range, global_offset_x, global_offset_y, index_slice, data_slice, this.get('transpose'), input_params];
                        return $.ajax({
                          dataType: 'json',
                          url: this.update_url(),
                          xhrField: {
                            withCredentials: true
                          },
                          success: function(data) {
                            var new_data;
                            new_data = _.clone(column_data_source.get('data'));
                            _.extend(new_data, data);
                            return column_data_source.set('data', new_data);
                          },
                          data: {
                            resample_parameters: JSON.stringify(params),
                            plot_state: JSON.stringify(plot_state)
                          }
                        });
                      };
                
                      return ServerDataSource;
                
                    })(HasProperties);
                    ServerDataSources = (function(_super) {
                      __extends(ServerDataSources, _super);
                
                      function ServerDataSources() {
                        _ref1 = ServerDataSources.__super__.constructor.apply(this, arguments);
                        return _ref1;
                      }
                
                      ServerDataSources.prototype.model = ServerDataSource;
                
                      return ServerDataSources;
                
                    })(Backbone.Collection);
                    return {
                      "Model": ServerDataSource,
                      "Collection": new ServerDataSources()
                    };
                  });
                
                }).call(this);
                
                /*
                //@ sourceMappingURL=server_data_source.js.map
                */;
                (function() {
                  var __hasProp = {}.hasOwnProperty,
                    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };
                
                  define('tool/tool',["underscore", "common/plot_widget", "common/has_parent"], function(_, PlotWidget, HasParent) {
                    var Tool, ToolView, _ref, _ref1;
                    ToolView = (function(_super) {
                      __extends(ToolView, _super);
                
                      function ToolView() {
                        _ref = ToolView.__super__.constructor.apply(this, arguments);
                        return _ref;
                      }
                
                      ToolView.prototype.initialize = function(options) {
                        return ToolView.__super__.initialize.call(this, options);
                      };
                
                      ToolView.prototype.bind_bokeh_events = function() {
                        var eventSink, evgen, evgen_options, evgen_options2,
                          _this = this;
                        eventSink = this.plot_view.eventSink;
                        evgen_options = {
                          eventBasename: this.cid,
                          buttonIcon: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEgAACxIB0t1+/AAAABx0RVh0U29mdHdhcmUAQWRvYmUgRmlyZXdvcmtzIENTNui8sowAAADfSURBVEiJ1ZXhDYIwEEbfZxzADWQDR5ANXMFRHMERdBLZQDdQN9AJPv+gIajQClZ8SUNy6d0j5a7INikZJbUNVijpaQFLYAesa/FGxh1etgBOwCUqy3brKvflto9up7lWiND2KkAUJAxtmgK4Rh3dGxQyh5KwPQE2wKRle96LsI7tDJgCV0mHSry5WGjTvMi7f9cipl6Xwc/K5zwmqQ9hFMO82oYifIyH7TyFcPZJ0l8d6U+F+VeFMU3Si7DCOalQUgZskwlt74EFEddcl9/TsiJaS7qU8e7CPvnbOQzmBk+aLHum0l/aAAAAAElFTkSuQmCC"
                        };
                        evgen_options2 = _.extend(evgen_options, this.evgen_options);
                        evgen = new this.eventGeneratorClass(evgen_options2);
                        evgen.bind_bokeh_events(this.plot_view, eventSink);
                        _.each(this.tool_events, function(handler_f, event_name) {
                          var full_event_name, wrap;
                          full_event_name = "" + _this.cid + ":" + event_name;
                          wrap = function(e) {
                            return _this[handler_f](e);
                          };
                          return eventSink.on(full_event_name, wrap);
                        });
                        this.evgen = evgen;
                        return {
                          render: function() {}
                        };
                      };
                
                      return ToolView;
                
                    })(PlotWidget);
                    Tool = (function(_super) {
                      __extends(Tool, _super);
                
                      function Tool() {
                        _ref1 = Tool.__super__.constructor.apply(this, arguments);
                        return _ref1;
                      }
                
                      Tool.prototype.display_defaults = function() {
                        return {
                          level: 'tool'
                        };
                      };
                
                      return Tool;
                
                    })(HasParent);
                    return {
                      "Model": Tool,
                      "View": ToolView
                    };
                  });
                
                }).call(this);
                
                /*
                //@ sourceMappingURL=tool.js.map
                */;
                (function() {
                  define('tool/event_generators',[], function() {
                    var ButtonEventGenerator, OnePointWheelEventGenerator, TwoPointEventGenerator, set_bokehXY;
                    set_bokehXY = function(event) {
                      var left, offset, top;
                      offset = $(event.currentTarget).offset();
                      left = offset != null ? offset.left : 0;
                      top = offset != null ? offset.top : 0;
                      event.bokehX = event.pageX - left;
                      return event.bokehY = event.pageY - top;
                    };
                    TwoPointEventGenerator = (function() {
                      function TwoPointEventGenerator(options) {
                        this.restrict_to_innercanvas = options.restrict_to_innercanvas;
                        this.options = options;
                        this.toolName = this.options.eventBasename;
                        this.dragging = false;
                        this.basepoint_set = false;
                        this.button_activated = false;
                        this.tool_active = false;
                      }
                
                      TwoPointEventGenerator.prototype.bind_bokeh_events = function(plotview, eventSink) {
                        var toolName,
                          _this = this;
                        toolName = this.toolName;
                        this.plotview = plotview;
                        this.eventSink = eventSink;
                        this.plotview.moveCallbacks.push(function(e, x, y) {
                          if (!_this.dragging) {
                            return;
                          }
                          if (!_this.tool_active) {
                            return;
                          }
                          set_bokehXY(e);
                          if (!_this.basepoint_set) {
                            _this.dragging = true;
                            _this.basepoint_set = true;
                            return eventSink.trigger("" + toolName + ":SetBasepoint", e);
                          } else {
                            eventSink.trigger("" + toolName + ":UpdatingMouseMove", e);
                            e.preventDefault();
                            return e.stopPropagation();
                          }
                        });
                        this.plotview.moveCallbacks.push(function(e, x, y) {
                          var inner_range_horizontal, inner_range_vertical, xend, xstart, yend, ystart;
                          if (_this.dragging) {
                            set_bokehXY(e);
                            inner_range_horizontal = _this.plotview.view_state.get('inner_range_horizontal');
                            inner_range_vertical = _this.plotview.view_state.get('inner_range_vertical');
                            x = _this.plotview.view_state.sx_to_vx(e.bokehX);
                            y = _this.plotview.view_state.sy_to_vy(e.bokehY);
                            if (_this.restrict_to_innercanvas) {
                              xstart = inner_range_horizontal.get('start');
                              xend = inner_range_horizontal.get('end');
                              ystart = inner_range_vertical.get('start');
                              yend = inner_range_vertical.get('end');
                            } else {
                              xstart = 0;
                              xend = _this.plotview.view_state.get('outer_width');
                              ystart = 0;
                              yend = _this.plotview.view_state.get('outer_height');
                            }
                            if (x < xstart || x > xend) {
                              _this._stop_drag(e);
                              return false;
                            }
                            if (y < ystart || y > yend) {
                              _this._stop_drag(e);
                              return false;
                            }
                          }
                        });
                        $(document).bind('keydown', function(e) {
                          if (e.keyCode === 27) {
                            return eventSink.trigger("clear_active_tool");
                          }
                        });
                        $(document).bind('keyup', function(e) {
                          if (!e[_this.options.keyName]) {
                            return _this._stop_drag(e);
                          }
                        });
                        this.plotview.canvas_wrapper.bind('mousedown', function(e) {
                          var start;
                          start = false;
                          if (_this.button_activated || _this.eventSink.active === _this.toolName) {
                            start = true;
                          } else if (!_this.eventSink.active) {
                            if (_this.options.keyName === null && !e.ctrlKey && !e.altKey && !e.metaKey && !e.shiftKey) {
                              start = true;
                            } else if (e[_this.options.keyName] === true) {
                              start = true;
                            }
                          }
                          if (start) {
                            _this._start_drag();
                            return false;
                          }
                        });
                        this.plotview.canvas_wrapper.bind('mouseup', function(e) {
                          if (_this.button_activated) {
                            _this._stop_drag(e);
                            return false;
                          }
                        });
                        this.plotview.canvas_wrapper.bind('mouseleave', function(e) {
                          if (_this.button_activated) {
                            _this._stop_drag(e);
                            return false;
                          }
                        });
                        this.$tool_button = $("<button class='bk-toolbar-button' title='" + this.options.buttonText + "'><img class='bk-btn-icon' src='" + this.options.buttonIcon + "'/><span class='tip'>" + this.options.buttonText + "</span></button>");
                        this.plotview;
                        this.plotview.$el.find('.bk-button-bar').append(this.$tool_button);
                        this.$tool_button.click(function() {
                          if (_this.button_activated) {
                            return eventSink.trigger("clear_active_tool");
                          } else {
                            return eventSink.trigger("active_tool", toolName);
                          }
                        });
                        eventSink.on("" + toolName + ":deactivated", function() {
                          _this.tool_active = false;
                          _this.button_activated = false;
                          return _this.$tool_button.removeClass('active');
                        });
                        eventSink.on("" + toolName + ":activated", function() {
                          _this.tool_active = true;
                          _this.$tool_button.addClass('active');
                          return _this.button_activated = true;
                        });
                        return eventSink;
                      };
                
                      TwoPointEventGenerator.prototype.hide_button = function() {
                        return this.$tool_button.hide();
                      };
                
                      TwoPointEventGenerator.prototype._start_drag = function() {
                        this._activated_with_button = this.button_activated;
                        this.eventSink.trigger("active_tool", this.toolName);
                        if (!this.dragging) {
                          this.dragging = true;
                          if (!this.button_activated) {
                            this.$tool_button.addClass('active');
                          }
                          if (this.options.cursor != null) {
                            return this.plotview.canvas_wrapper.css('cursor', this.options.cursor);
                          }
                        }
                      };
                
                      TwoPointEventGenerator.prototype._stop_drag = function(e) {
                        this.basepoint_set = false;
                        if (this.dragging) {
                          this.dragging = false;
                          if (this._activated_with_button === false && this.options.auto_deactivate === true) {
                            this.eventSink.trigger("clear_active_tool");
                          }
                          if (!this.button_activated) {
                            this.$tool_button.removeClass('active');
                          }
                          if (this.options.cursor != null) {
                            this.plotview.canvas_wrapper.css('cursor', '');
                          }
                          set_bokehXY(e);
                          this.eventSink.trigger("" + this.options.eventBasename + ":DragEnd", e);
                        }
                        return this._activated_with_button = null;
                      };
                
                      return TwoPointEventGenerator;
                
                    })();
                    OnePointWheelEventGenerator = (function() {
                      function OnePointWheelEventGenerator(options) {
                        this.options = options;
                        this.toolName = this.options.eventBasename;
                        this.dragging = false;
                        this.basepoint_set = false;
                        this.button_activated = false;
                        this.tool_active = false;
                      }
                
                      OnePointWheelEventGenerator.prototype.bind_bokeh_events = function(plotview, eventSink) {
                        var no_scroll, restore_scroll, toolName,
                          _this = this;
                        toolName = this.toolName;
                        this.plotview = plotview;
                        this.eventSink = eventSink;
                        this.plotview.canvas_wrapper.bind("mousewheel", function(e, delta, dX, dY) {
                          if (_this.tool_active || (!_this.eventSink.active && e.shiftKey)) {
                            set_bokehXY(e);
                            e.delta = delta;
                            eventSink.trigger("" + toolName + ":zoom", e);
                            e.preventDefault();
                            return e.stopPropagation();
                          }
                        });
                        $(document).bind('keydown', function(e) {
                          if (e.keyCode === 27) {
                            return eventSink.trigger("clear_active_tool");
                          }
                        });
                        this.plotview.$el.bind("mousein", function(e) {
                          return eventSink.trigger("clear_active_tool");
                        });
                        this.plotview.$el.bind("mouseover", function(e) {
                          return _this.mouseover_count += 1;
                        });
                        this.$tool_button = $("<button class='bk-toolbar-button' title='" + this.options.buttonText + "'><img class='bk-btn-icon' src='" + this.options.buttonIcon + "'/><span class='tip'>" + this.options.buttonText + "</span></button>");
                        this.plotview.$el.find('.bk-button-bar').append(this.$tool_button);
                        this.$tool_button.click(function() {
                          if (_this.button_activated) {
                            return eventSink.trigger("clear_active_tool");
                          } else {
                            eventSink.trigger("active_tool", toolName);
                            return _this.button_activated = true;
                          }
                        });
                        no_scroll = function(el) {
                          el.setAttribute("old_overflow", el.style.overflow);
                          el.style.overflow = "hidden";
                          if (el === document.body) {
                
                          } else {
                            return no_scroll(el.parentNode);
                          }
                        };
                        restore_scroll = function(el) {
                          el.style.overflow = el.getAttribute("old_overflow");
                          if (el === document.body) {
                
                          } else {
                            return restore_scroll(el.parentNode);
                          }
                        };
                        eventSink.on("" + toolName + ":deactivated", function() {
                          _this.tool_active = false;
                          _this.button_activated = false;
                          _this.$tool_button.removeClass('active');
                          return document.body.style.overflow = _this.old_overflow;
                        });
                        eventSink.on("" + toolName + ":activated", function() {
                          _this.tool_active = true;
                          return _this.$tool_button.addClass('active');
                        });
                        return eventSink;
                      };
                
                      OnePointWheelEventGenerator.prototype.hide_button = function() {
                        return this.$tool_button.hide();
                      };
                
                      return OnePointWheelEventGenerator;
                
                    })();
                    ButtonEventGenerator = (function() {
                      function ButtonEventGenerator(options) {
                        this.options = options;
                        this.toolName = this.options.eventBasename;
                        this.button_activated = false;
                        this.tool_active = false;
                      }
                
                      ButtonEventGenerator.prototype.bind_bokeh_events = function(plotview, eventSink) {
                        var no_scroll, restore_scroll, toolName,
                          _this = this;
                        toolName = this.toolName;
                        this.plotview = plotview;
                        this.eventSink = eventSink;
                        $(document).bind('keydown', function(e) {
                          if (e.keyCode === 27) {
                            return eventSink.trigger("clear_active_tool");
                          }
                        });
                        this.plotview.$el.bind("mouseover", function(e) {
                          return _this.mouseover_count += 1;
                        });
                        this.$tool_button = $("<button class='bk-toolbar-button' title='" + this.options.buttonText + "'><img class='bk-btn-icon' src='" + this.options.buttonIcon + "'/><span class='tip'>" + this.options.buttonText + "</span></button>");
                        this.plotview.$el.find('.bk-button-bar').append(this.$tool_button);
                        this.$tool_button.click(function() {
                          if (_this.button_activated) {
                            return eventSink.trigger("clear_active_tool");
                          } else {
                            eventSink.trigger("active_tool", toolName);
                            return _this.button_activated = true;
                          }
                        });
                        no_scroll = function(el) {
                          el.setAttribute("old_overflow", el.style.overflow);
                          el.style.overflow = "hidden";
                          if (el === document.body) {
                
                          } else {
                            return no_scroll(el.parentNode);
                          }
                        };
                        restore_scroll = function(el) {
                          el.style.overflow = el.getAttribute("old_overflow");
                          if (el === document.body) {
                
                          } else {
                            return restore_scroll(el.parentNode);
                          }
                        };
                        eventSink.on("" + toolName + ":deactivated", function() {
                          _this.tool_active = false;
                          _this.button_activated = false;
                          _this.$tool_button.removeClass('active');
                          return document.body.style.overflow = _this.old_overflow;
                        });
                        eventSink.on("" + toolName + ":activated", function() {
                          _this.tool_active = true;
                          return _this.$tool_button.addClass('active');
                        });
                        return eventSink;
                      };
                
                      ButtonEventGenerator.prototype.hide_button = function() {
                        return this.$tool_button.hide();
                      };
                
                      return ButtonEventGenerator;
                
                    })();
                    return {
                      "TwoPointEventGenerator": TwoPointEventGenerator,
                      "OnePointWheelEventGenerator": OnePointWheelEventGenerator,
                      "ButtonEventGenerator": ButtonEventGenerator
                    };
                  });
                
                }).call(this);
                
                /*
                //@ sourceMappingURL=event_generators.js.map
                */;
                (function() {
                  var __hasProp = {}.hasOwnProperty,
                    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };
                
                  define('tool/box_select_tool',["underscore", "backbone", "./tool", "./event_generators"], function(_, Backbone, Tool, EventGenerators) {
                    var BoxSelectTool, BoxSelectToolView, BoxSelectTools, TwoPointEventGenerator, _ref, _ref1, _ref2;
                    TwoPointEventGenerator = EventGenerators.TwoPointEventGenerator;
                    BoxSelectToolView = (function(_super) {
                      __extends(BoxSelectToolView, _super);
                
                      function BoxSelectToolView() {
                        _ref = BoxSelectToolView.__super__.constructor.apply(this, arguments);
                        return _ref;
                      }
                
                      BoxSelectToolView.prototype.initialize = function(options) {
                        BoxSelectToolView.__super__.initialize.call(this, options);
                        return this.select_every_mousemove = this.mget('select_every_mousemove');
                      };
                
                      BoxSelectToolView.prototype.bind_bokeh_events = function() {
                        var renderer, rendererview, _i, _len, _ref1, _results;
                        BoxSelectToolView.__super__.bind_bokeh_events.call(this);
                        _ref1 = this.mget_obj('renderers');
                        _results = [];
                        for (_i = 0, _len = _ref1.length; _i < _len; _i++) {
                          renderer = _ref1[_i];
                          rendererview = this.plot_view.renderers[renderer.id];
                          this.listenTo(rendererview.xrange(), 'change', this.select_callback);
                          this.listenTo(rendererview.yrange(), 'change', this.select_callback);
                          _results.push(this.listenTo(renderer, 'change', this.select_callback));
                        }
                        return _results;
                      };
                
                      BoxSelectToolView.prototype.eventGeneratorClass = TwoPointEventGenerator;
                
                      BoxSelectToolView.prototype.toolType = "BoxSelectTool";
                
                      BoxSelectToolView.prototype.evgen_options = {
                        keyName: "shiftKey",
                        buttonText: "Select",
                        buttonIcon: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEgAACxIB0t1+/AAAABx0RVh0U29mdHdhcmUAQWRvYmUgRmlyZXdvcmtzIENTNui8sowAAAE1SURBVEiJ7ZXNUcQwDIU/7VDA3rnkQAF0QEpJCZSQEihhSxEFMLMlmA44cH8col2CsVlCfmYPvJlMLMnjJ8mSbJLYErtN2a6BsAPczM5roAvZJ9ruS4Q3BV0a/X0ke7anZvMgLcLGRRMeLoZSQe6yDZ2kpwWIXFIxpfkdNlRyPxEPwL7mzfhrap5NgaRW0j47G0nbt0XuQS/JFzhTEeXFCBNwnEsIPANvJcN/W/wV19MWpVk6G2bmQfzNVnotZt1h1IHXaiGPMDG/LRqGOyziC6GZHWaSXYRlee6A1sw6SQ2Dt8nMkqQ2nPKCrePzDbwDboF34CV0R+ARKI42hb6PEdWHrB9sJ7kGP3EsMmki+jbEluEOX4FD6NJ5PY5wCYyidf1ieK+ONRrf459KxrxKV8fmKf0AQEJj/A0qfJ8AAAAASUVORK5CYII=",
                        cursor: "crosshair",
                        restrict_to_innercanvas: true
                      };
                
                      BoxSelectToolView.prototype.tool_events = {
                        SetBasepoint: "_start_selecting",
                        UpdatingMouseMove: "_selecting",
                        deactivated: "_stop_selecting",
                        DragEnd: "_dragend"
                      };
                
                      BoxSelectToolView.prototype.pause = function() {
                        return null;
                      };
                
                      BoxSelectToolView.prototype.view_coords = function(sx, sy) {
                        var vx, vy, _ref1;
                        _ref1 = [this.plot_view.view_state.sx_to_vx(sx), this.plot_view.view_state.sy_to_vy(sy)], vx = _ref1[0], vy = _ref1[1];
                        return [vx, vy];
                      };
                
                      BoxSelectToolView.prototype._stop_selecting = function() {
                        this.trigger('stopselect');
                        this.basepoint_set = false;
                        return this.plot_view.unpause();
                      };
                
                      BoxSelectToolView.prototype._start_selecting = function(e) {
                        var vx, vy, _ref1;
                        this.plot_view.pause();
                        this.trigger('startselect');
                        _ref1 = this.view_coords(e.bokehX, e.bokehY), vx = _ref1[0], vy = _ref1[1];
                        this.mset({
                          'start_vx': vx,
                          'start_vy': vy,
                          'current_vx': null,
                          'current_vy': null
                        });
                        return this.basepoint_set = true;
                      };
                
                      BoxSelectToolView.prototype._get_selection_range = function() {
                        var range, xrange, yrange;
                        if (this.mget('select_x')) {
                          xrange = [this.mget('start_vx'), this.mget('current_vx')];
                          xrange = [_.min(xrange), _.max(xrange)];
                        } else {
                          range = this.plot_view.view_state.get('inner_range_horizontal');
                          xrange = [range.get('start'), range.get('end')];
                        }
                        if (this.mget('select_y')) {
                          yrange = [this.mget('start_vy'), this.mget('current_vy')];
                          yrange = [_.min(yrange), _.max(yrange)];
                        } else {
                          range = this.plot_view.view_state.get('inner_range_vertical');
                          yrange = [range.get('start'), range.get('end')];
                        }
                        return [xrange, yrange];
                      };
                
                      BoxSelectToolView.prototype._selecting = function(e, x_, y_) {
                        var vx, vy, _ref1, _ref2;
                        _ref1 = this.view_coords(e.bokehX, e.bokehY), vx = _ref1[0], vy = _ref1[1];
                        this.mset({
                          'current_vx': vx,
                          'current_vy': vy
                        });
                        _ref2 = this._get_selection_range(), this.xrange = _ref2[0], this.yrange = _ref2[1];
                        this.trigger('boxselect', this.xrange, this.yrange);
                        if (this.select_every_mousemove) {
                          this._select_data();
                        }
                        this.plot_view.render_overlays(true);
                        return null;
                      };
                
                      BoxSelectToolView.prototype._dragend = function() {
                        return this._select_data();
                      };
                
                      BoxSelectToolView.prototype._select_data = function() {
                        var datasource, datasource_id, datasource_selections, datasources, ds, geometry, k, renderer, selected, v, _i, _j, _len, _len1, _ref1, _ref2;
                        if (!this.basepoint_set) {
                          return;
                        }
                        geometry = {
                          type: 'rect',
                          vx0: this.xrange[0],
                          vx1: this.xrange[1],
                          vy0: this.yrange[0],
                          vy1: this.yrange[1]
                        };
                        datasources = {};
                        datasource_selections = {};
                        _ref1 = this.mget_obj('renderers');
                        for (_i = 0, _len = _ref1.length; _i < _len; _i++) {
                          renderer = _ref1[_i];
                          datasource = renderer.get_obj('data_source');
                          datasources[datasource.id] = datasource;
                        }
                        _ref2 = this.mget_obj('renderers');
                        for (_j = 0, _len1 = _ref2.length; _j < _len1; _j++) {
                          renderer = _ref2[_j];
                          datasource_id = renderer.get_obj('data_source').id;
                          _.setdefault(datasource_selections, datasource_id, []);
                          selected = this.plot_view.renderers[renderer.id].hit_test(geometry);
                          datasource_selections[datasource_id].push(selected);
                        }
                        for (k in datasource_selections) {
                          if (!__hasProp.call(datasource_selections, k)) continue;
                          v = datasource_selections[k];
                          selected = _.intersection.apply(_, v);
                          ds = datasources[k];
                          ds.save({
                            selected: selected
                          }, {
                            patch: true
                          });
                          this.plot_view.unpause();
                        }
                        return null;
                      };
                
                      return BoxSelectToolView;
                
                    })(Tool.View);
                    BoxSelectTool = (function(_super) {
                      __extends(BoxSelectTool, _super);
                
                      function BoxSelectTool() {
                        _ref1 = BoxSelectTool.__super__.constructor.apply(this, arguments);
                        return _ref1;
                      }
                
                      BoxSelectTool.prototype.default_view = BoxSelectToolView;
                
                      BoxSelectTool.prototype.type = "BoxSelectTool";
                
                      BoxSelectTool.prototype.defaults = function() {
                        return _.extend(BoxSelectTool.__super__.defaults.call(this), {
                          renderers: [],
                          select_x: true,
                          select_y: true,
                          select_every_mousemove: false,
                          data_source_options: {}
                        });
                      };
                
                      BoxSelectTool.prototype.display_defaults = function() {
                        return BoxSelectTool.__super__.display_defaults.call(this);
                      };
                
                      return BoxSelectTool;
                
                    })(Tool.Model);
                    BoxSelectTools = (function(_super) {
                      __extends(BoxSelectTools, _super);
                
                      function BoxSelectTools() {
                        _ref2 = BoxSelectTools.__super__.constructor.apply(this, arguments);
                        return _ref2;
                      }
                
                      BoxSelectTools.prototype.model = BoxSelectTool;
                
                      return BoxSelectTools;
                
                    })(Backbone.Collection);
                    return {
                      "Model": BoxSelectTool,
                      "Collection": new BoxSelectTools(),
                      "View": BoxSelectToolView
                    };
                  });
                
                }).call(this);
                
                /*
                //@ sourceMappingURL=box_select_tool.js.map
                */;
                (function() {
                  var __hasProp = {}.hasOwnProperty,
                    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };
                
                  define('tool/box_zoom_tool',["underscore", "backbone", "./tool", "./event_generators"], function(_, Backbone, Tool, EventGenerators) {
                    var BoxZoomTool, BoxZoomToolView, BoxZoomTools, TwoPointEventGenerator, _ref, _ref1, _ref2;
                    TwoPointEventGenerator = EventGenerators.TwoPointEventGenerator;
                    BoxZoomToolView = (function(_super) {
                      __extends(BoxZoomToolView, _super);
                
                      function BoxZoomToolView() {
                        _ref = BoxZoomToolView.__super__.constructor.apply(this, arguments);
                        return _ref;
                      }
                
                      BoxZoomToolView.prototype.initialize = function(options) {
                        return BoxZoomToolView.__super__.initialize.call(this, options);
                      };
                
                      BoxZoomToolView.prototype.bind_bokeh_events = function() {
                        return BoxZoomToolView.__super__.bind_bokeh_events.call(this);
                      };
                
                      BoxZoomToolView.prototype.eventGeneratorClass = TwoPointEventGenerator;
                
                      BoxZoomToolView.prototype.toolType = "BoxZoomTool";
                
                      BoxZoomToolView.prototype.evgen_options = {
                        keyName: "ctrlKey",
                        buttonText: "Box Zoom",
                        buttonIcon: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEgAACxIB0t1+/AAAABx0RVh0U29mdHdhcmUAQWRvYmUgRmlyZXdvcmtzIENTNui8sowAAAFKSURBVEiJ7ZZhecMgEIZhzwRUAhIigTmYhEiJg0mIhElAQiWkDlIH737saCnlgLTNr+37UyjHvbl8XBILGGut2VPAZfy2K6mgPwbkV0HGkzL/zPY4YAZWrlqAL+BgjLk9I6mhQMgT1gSM1LUCQ+QAt8AtAnyWeJL/vFSXrrkiUDa5TmDIq8jWhwQ6a0AA3wFzSbKxEhcrXTVgKF1tIdHldvbGReB7GmCt/WjBnlXeFr0enpI9tVPt5fecQtJxl4cSu0j8gvRbtj5w7U310HR5KLHxQRChoxwmJ2sRprdFr2g3fNQa75hWYdPDDLbK/LsAm9NcGhAqHhZgQ7buNUs2e9iCtbTJw2dhKlDzEDgK7NjyuHChvgYseggc5BDc9VsDGICpBlQ9fETNCvdUBD76LO2FjHcWFTxsfdO05sg8vpqmtELL/4fwi/UDzP86Q6mEI4kAAAAASUVORK5CYII=",
                        cursor: "crosshair",
                        auto_deactivate: true,
                        restrict_to_innercanvas: true
                      };
                
                      BoxZoomToolView.prototype.tool_events = {
                        SetBasepoint: "_start_selecting",
                        UpdatingMouseMove: "_selecting",
                        DragEnd: "_dragend"
                      };
                
                      BoxZoomToolView.prototype.pause = function() {
                        return null;
                      };
                
                      BoxZoomToolView.prototype.view_coords = function(sx, sy) {
                        var vx, vy, _ref1;
                        _ref1 = [this.plot_view.view_state.sx_to_vx(sx), this.plot_view.view_state.sy_to_vy(sy)], vx = _ref1[0], vy = _ref1[1];
                        return [vx, vy];
                      };
                
                      BoxZoomToolView.prototype._start_selecting = function(e) {
                        var vx, vy, _ref1;
                        this.plot_view.pause();
                        this.trigger('startselect');
                        _ref1 = this.view_coords(e.bokehX, e.bokehY), vx = _ref1[0], vy = _ref1[1];
                        this.mset({
                          'start_vx': vx,
                          'start_vy': vy,
                          'current_vx': null,
                          'current_vy': null
                        });
                        return this.basepoint_set = true;
                      };
                
                      BoxZoomToolView.prototype._get_selection_range = function() {
                        var xrange, yrange;
                        if (this.mget('select_x')) {
                          xrange = [this.mget('start_vx'), this.mget('current_vx')];
                          xrange = [_.min(xrange), _.max(xrange)];
                        } else {
                          xrange = null;
                        }
                        if (this.mget('select_y')) {
                          yrange = [this.mget('start_vy'), this.mget('current_vy')];
                          yrange = [_.min(yrange), _.max(yrange)];
                        } else {
                          yrange = null;
                        }
                        return [xrange, yrange];
                      };
                
                      BoxZoomToolView.prototype._selecting = function(e, x_, y_) {
                        var vx, vy, _ref1, _ref2;
                        _ref1 = this.view_coords(e.bokehX, e.bokehY), vx = _ref1[0], vy = _ref1[1];
                        this.mset({
                          'current_vx': vx,
                          'current_vy': vy
                        });
                        _ref2 = this._get_selection_range(), this.xrange = _ref2[0], this.yrange = _ref2[1];
                        this.trigger('boxselect', this.xrange, this.yrange);
                        this.plot_view.render_overlays(true);
                        return null;
                      };
                
                      BoxZoomToolView.prototype._dragend = function() {
                        this._select_data();
                        this.basepoint_set = false;
                        this.plot_view.unpause();
                        return this.trigger('stopselect');
                      };
                
                      BoxZoomToolView.prototype._select_data = function() {
                        var xend, xstart, yend, ystart, zoom_info, _ref1, _ref2;
                        if (!this.basepoint_set) {
                          return;
                        }
                        _ref1 = this.plot_view.xmapper.v_map_from_target([this.xrange[0], this.xrange[1]]), xstart = _ref1[0], xend = _ref1[1];
                        _ref2 = this.plot_view.ymapper.v_map_from_target([this.yrange[0], this.yrange[1]]), ystart = _ref2[0], yend = _ref2[1];
                        zoom_info = {
                          xr: {
                            start: xstart,
                            end: xend
                          },
                          yr: {
                            start: ystart,
                            end: yend
                          }
                        };
                        return this.plot_view.update_range(zoom_info);
                      };
                
                      return BoxZoomToolView;
                
                    })(Tool.View);
                    BoxZoomTool = (function(_super) {
                      __extends(BoxZoomTool, _super);
                
                      function BoxZoomTool() {
                        _ref1 = BoxZoomTool.__super__.constructor.apply(this, arguments);
                        return _ref1;
                      }
                
                      BoxZoomTool.prototype.default_view = BoxZoomToolView;
                
                      BoxZoomTool.prototype.type = "BoxZoomTool";
                
                      BoxZoomTool.prototype.defaults = function() {
                        return _.extend(BoxZoomTool.__super__.defaults.call(this), {
                          renderers: [],
                          select_x: true,
                          select_y: true,
                          select_every_mousemove: false,
                          data_source_options: {}
                        });
                      };
                
                      BoxZoomTool.prototype.display_defaults = function() {
                        return BoxZoomTool.__super__.display_defaults.call(this);
                      };
                
                      return BoxZoomTool;
                
                    })(Tool.Model);
                    BoxZoomTools = (function(_super) {
                      __extends(BoxZoomTools, _super);
                
                      function BoxZoomTools() {
                        _ref2 = BoxZoomTools.__super__.constructor.apply(this, arguments);
                        return _ref2;
                      }
                
                      BoxZoomTools.prototype.model = BoxZoomTool;
                
                      return BoxZoomTools;
                
                    })(Backbone.Collection);
                    return {
                      "Model": BoxZoomTool,
                      "Collection": new BoxZoomTools(),
                      "View": BoxZoomToolView
                    };
                  });
                
                }).call(this);
                
                /*
                //@ sourceMappingURL=box_zoom_tool.js.map
                */;
                (function() {
                  var __hasProp = {}.hasOwnProperty,
                    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };
                
                  define('tool/click_tool',["underscore", "backbone", "./tool"], function(_, Backbone, Tool) {
                    var ClickTool, ClickToolView, ClickTools, _ref, _ref1, _ref2;
                    ClickToolView = (function(_super) {
                      __extends(ClickToolView, _super);
                
                      function ClickToolView() {
                        _ref = ClickToolView.__super__.constructor.apply(this, arguments);
                        return _ref;
                      }
                
                      ClickToolView.prototype.initialize = function(options) {
                        ClickToolView.__super__.initialize.call(this, options);
                        this.listenTo(this, 'clicked', (function(selected, ds) {
                          return console.log(selected, ds);
                        }));
                        return this.active = false;
                      };
                
                      ClickToolView.prototype.view_coords = function(sx, sy) {
                        var vx, vy, _ref1;
                        _ref1 = [this.plot_view.view_state.sx_to_vx(sx), this.plot_view.view_state.sy_to_vy(sy)], vx = _ref1[0], vy = _ref1[1];
                        return [vx, vy];
                      };
                
                      ClickToolView.prototype.bind_bokeh_events = function() {
                        var tool_name,
                          _this = this;
                        tool_name = "click_tool";
                        if (!this.mget('always_active')) {
                          this.tool_button = $("<button class='bk-toolbar-button'> Click </button>");
                          this.plot_view.$el.find('.bk-button-bar').append(this.tool_button);
                          this.tool_button.click(function() {
                            if (_this.active) {
                              return _this.plot_view.eventSink.trigger("clear_active_tool");
                            } else {
                              return _this.plot_view.eventSink.trigger("active_tool", tool_name);
                            }
                          });
                          this.plot_view.eventSink.on("" + tool_name + ":deactivated", function() {
                            _this.active = false;
                            return _this.tool_button.removeClass('active');
                          });
                          this.plot_view.eventSink.on("" + tool_name + ":activated", function() {
                            _this.active = true;
                            return _this.tool_button.addClass('active');
                          });
                        }
                        this.plot_view.canvas.bind("mousedown", function(e) {
                          if (!_this.active && !_this.mget('always_active')) {
                            return;
                          }
                          _this.start_posx = e.pageX;
                          return _this.start_posy = e.pageY;
                        });
                        this.plot_view.canvas.bind("mouseup", function(e) {
                          var left, offset, top, vx, vy, _ref1;
                          if (!_this.active && !_this.mget('always_active')) {
                            return;
                          }
                          if (_this.start_posx !== e.pageX || _this.start_posy !== e.pageY) {
                            return;
                          }
                          offset = $(e.currentTarget).offset();
                          left = offset != null ? offset.left : 0;
                          top = offset != null ? offset.top : 0;
                          e.bokehX = e.pageX - left;
                          e.bokehY = e.pageY - top;
                          _ref1 = _this.view_coords(e.bokehX, e.bokehY), vx = _ref1[0], vy = _ref1[1];
                          return _this._select(vx, vy, e);
                        });
                        return this.plot_view.canvas_wrapper.css('cursor', 'crosshair');
                      };
                
                      ClickToolView.prototype._select = function(vx, vy, e) {
                        var datasource, datasource_id, datasource_selections, datasources, ds, geometry, renderer, renderers, selected, x, y, _i, _j, _len, _len1;
                        geometry = {
                          type: 'point',
                          vx: vx,
                          vy: vy
                        };
                        x = this.plot_view.xmapper.map_from_target(vx);
                        y = this.plot_view.ymapper.map_from_target(vy);
                        datasources = {};
                        datasource_selections = {};
                        renderers = this.mget('renderers');
                        for (_i = 0, _len = renderers.length; _i < _len; _i++) {
                          renderer = renderers[_i];
                          datasource = renderer.get_obj('data_source');
                          datasources[datasource.id] = datasource;
                        }
                        for (_j = 0, _len1 = renderers.length; _j < _len1; _j++) {
                          renderer = renderers[_j];
                          datasource_id = renderer.get_obj('data_source').id;
                          _.setdefault(datasource_selections, datasource_id, []);
                          selected = this.plot_view.renderers[renderer.id].hit_test(geometry);
                          ds = datasources[datasource_id];
                          if (selected === null) {
                            continue;
                          }
                          if (selected.length === 0) {
                            continue;
                          }
                          this.trigger('clicked', selected, ds);
                        }
                        return null;
                      };
                
                      return ClickToolView;
                
                    })(Tool.View);
                    ClickTool = (function(_super) {
                      __extends(ClickTool, _super);
                
                      function ClickTool() {
                        _ref1 = ClickTool.__super__.constructor.apply(this, arguments);
                        return _ref1;
                      }
                
                      ClickTool.prototype.default_view = ClickToolView;
                
                      ClickTool.prototype.type = "ClickTool";
                
                      ClickTool.prototype.dinitialize = function(attrs, options) {
                        var all_renderers, names, r, renderers;
                        ClickTool.__super__.dinitialize.call(this, attrs, options);
                        names = this.get('names');
                        all_renderers = this.get_obj('plot').get_obj('renderers');
                        renderers = (function() {
                          var _i, _len, _results;
                          _results = [];
                          for (_i = 0, _len = all_renderers.length; _i < _len; _i++) {
                            r = all_renderers[_i];
                            if (r.type === "Glyph") {
                              _results.push(r);
                            }
                          }
                          return _results;
                        })();
                        if (names.length > 0) {
                          renderers = (function() {
                            var _i, _len, _results;
                            _results = [];
                            for (_i = 0, _len = renderers.length; _i < _len; _i++) {
                              r = renderers[_i];
                              if (names.indexOf(r.get('name')) >= 0) {
                                _results.push(r);
                              }
                            }
                            return _results;
                          })();
                        }
                        return this.set('renderers', renderers);
                      };
                
                      ClickTool.prototype.defaults = function() {
                        return _.extend(ClickTool.__super__.defaults.call(this), {
                          renderers: [],
                          names: [],
                          always_active: []
                        });
                      };
                
                      ClickTool.prototype.display_defaults = function() {
                        return ClickTool.__super__.display_defaults.call(this);
                      };
                
                      return ClickTool;
                
                    })(Tool.Model);
                    ClickTools = (function(_super) {
                      __extends(ClickTools, _super);
                
                      function ClickTools() {
                        _ref2 = ClickTools.__super__.constructor.apply(this, arguments);
                        return _ref2;
                      }
                
                      ClickTools.prototype.model = ClickTool;
                
                      return ClickTools;
                
                    })(Backbone.Collection);
                    return {
                      "Model": ClickTool,
                      "Collection": new ClickTools(),
                      "View": ClickToolView
                    };
                  });
                
                }).call(this);
                
                /*
                //@ sourceMappingURL=click_tool.js.map
                */;
                (function() {
                  var __hasProp = {}.hasOwnProperty,
                    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };
                
                  define('tool/crosshair_tool',["underscore", "backbone", "./tool", "./event_generators", "sprintf"], function(_, Backbone, Tool, EventGenerators, sprintf) {
                    var CrosshairTool, CrosshairToolView, CrosshairTools, TwoPointEventGenerator, _ref, _ref1, _ref2;
                    TwoPointEventGenerator = EventGenerators.TwoPointEventGenerator;
                    CrosshairToolView = (function(_super) {
                      __extends(CrosshairToolView, _super);
                
                      function CrosshairToolView() {
                        _ref = CrosshairToolView.__super__.constructor.apply(this, arguments);
                        return _ref;
                      }
                
                      CrosshairToolView.prototype.initialize = function(options) {
                        CrosshairToolView.__super__.initialize.call(this, options);
                        return this.active = false;
                      };
                
                      CrosshairToolView.prototype.bind_events = function(plotview) {
                        return CrosshairToolView.__super__.bind_events.call(this, plotview);
                      };
                
                      CrosshairToolView.prototype.eventGeneratorClass = TwoPointEventGenerator;
                
                      CrosshairToolView.prototype.toolType = "CrosshairTool";
                
                      CrosshairToolView.prototype.evgen_options = {
                        keyName: "",
                        buttonText: "Crosshair",
                        cursor: "crosshair"
                      };
                
                      CrosshairToolView.prototype.tool_events = {
                        activated: "_activate",
                        deactivated: "_deactivate",
                        UpdatingMouseMove: "_drag",
                        SetBasepoint: "_set_base_point"
                      };
                
                      CrosshairToolView.prototype.render = function() {
                        var ch, ctx, cw, line_width;
                        if (!this.active) {
                          return;
                        }
                        ctx = this.plot_view.ctx;
                        cw = this.plot_view.view_state.get('canvas_width');
                        ch = this.plot_view.view_state.get('canvas_height');
                        line_width = 1;
                        ctx.save();
                        ctx.strokeStyle = 'red';
                        ctx.globalAlpha = 0.7;
                        ctx.lineWidth = line_width;
                        ctx.setLineDash([]);
                        ctx.beginPath();
                        ctx.moveTo(0, this.y);
                        ctx.lineTo(cw, this.y);
                        console.log(this.x, this.y);
                        ctx.moveTo(this.x, 0);
                        ctx.lineTo(this.x, ch);
                        ctx.stroke();
                        return ctx.restore();
                      };
                
                      CrosshairToolView.prototype.mouse_coords = function(e, x, y) {
                        return [x, y];
                      };
                
                      CrosshairToolView.prototype._activate = function(e) {
                        var bbar, ch, cw;
                        if (this.active) {
                          return;
                        }
                        this.active = true;
                        this.popup = $('<div class="resize_popup pull-right"\nstyle="border-radius: 10px; background-color: lightgrey; padding:3px 8px; font-size: 14px;\nposition:absolute; right:20px; top: 20px; "></div>');
                        bbar = this.plot_view.$el.find('.bokeh_canvas_wrapper');
                        this.popup.appendTo(bbar);
                        ch = this.plot_view.view_state.get('outer_height');
                        cw = this.plot_view.view_state.get('outer_width');
                        this.popup.text("x: 0 y:0");
                        this.plot_view.$el.css("cursor", "crosshair");
                        return null;
                      };
                
                      CrosshairToolView.prototype._deactivate = function(e) {
                        this.active = false;
                        this.plot_view.$el.css("cursor", "default");
                        this.popup.remove();
                        this.request_render();
                        this.plot_view.request_render();
                        return null;
                      };
                
                      CrosshairToolView.prototype._set_base_point = function(e) {
                        var _ref1;
                        _ref1 = this.mouse_coords(e, e.bokehX, e.bokehY), this.x = _ref1[0], this.y = _ref1[1];
                        return null;
                      };
                
                      CrosshairToolView.prototype._drag = function(e) {
                        var data_x, data_y, _ref1;
                        this.plot_view.pause();
                        _ref1 = this.mouse_coords(e, e.bokehX, e.bokehY), this.x = _ref1[0], this.y = _ref1[1];
                        data_x = sprintf("%.4f", this.plot_view.xmapper.map_from_target(x));
                        data_y = sprintf("%.4f", this.plot_view.ymapper.map_from_target(y));
                        this.popup.text("x: " + data_x + " y: " + data_y);
                        this.request_render();
                        this.plot_view.request_render();
                        this.plot_view.unpause(true);
                        return null;
                      };
                
                      return CrosshairToolView;
                
                    })(Tool.View);
                    CrosshairTool = (function(_super) {
                      __extends(CrosshairTool, _super);
                
                      function CrosshairTool() {
                        _ref1 = CrosshairTool.__super__.constructor.apply(this, arguments);
                        return _ref1;
                      }
                
                      CrosshairTool.prototype.default_view = CrosshairToolView;
                
                      CrosshairTool.prototype.type = "CrosshairTool";
                
                      CrosshairTool.prototype.display_defaults = function() {
                        return CrosshairTool.__super__.display_defaults.call(this);
                      };
                
                      return CrosshairTool;
                
                    })(Tool.Model);
                    CrosshairTools = (function(_super) {
                      __extends(CrosshairTools, _super);
                
                      function CrosshairTools() {
                        _ref2 = CrosshairTools.__super__.constructor.apply(this, arguments);
                        return _ref2;
                      }
                
                      CrosshairTools.prototype.model = CrosshairTool;
                
                      return CrosshairTools;
                
                    })(Backbone.Collection);
                    return {
                      "Model": CrosshairTool,
                      "Collection": new CrosshairTools(),
                      "View": CrosshairToolView
                    };
                  });
                
                }).call(this);
                
                /*
                //@ sourceMappingURL=crosshair_tool.js.map
                */;
                (function() {
                  var __hasProp = {}.hasOwnProperty,
                    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };
                
                  define('tool/data_range_box_select_tool',["underscore", "backbone", "./box_select_tool"], function(_, Backbone, BoxSelectTool) {
                    var DataRangeBoxSelectTool, DataRangeBoxSelectToolView, DataRangeBoxSelectTools, _ref, _ref1, _ref2;
                    DataRangeBoxSelectToolView = (function(_super) {
                      __extends(DataRangeBoxSelectToolView, _super);
                
                      function DataRangeBoxSelectToolView() {
                        _ref = DataRangeBoxSelectToolView.__super__.constructor.apply(this, arguments);
                        return _ref;
                      }
                
                      DataRangeBoxSelectToolView.prototype.bind_bokeh_events = function() {
                        return tool.ToolView.prototype.bind_bokeh_events.call(this);
                      };
                
                      DataRangeBoxSelectToolView.prototype._select_data = function() {
                        var xend, xstart, yend, ystart, _ref1, _ref2;
                        _ref1 = this.plot_view.mapper.map_from_target(this.xrange[0], this.yrange[0]), xstart = _ref1[0], ystart = _ref1[1];
                        _ref2 = this.plot_view.mapper.map_from_target(this.xrange[1], this.yrange[1]), xend = _ref2[0], yend = _ref2[1];
                        this.mset('xselect', [xstart, xend]);
                        this.mset('yselect', [ystart, yend]);
                        return this.model.save();
                      };
                
                      return DataRangeBoxSelectToolView;
                
                    })(BoxSelectTool.View);
                    DataRangeBoxSelectTool = (function(_super) {
                      __extends(DataRangeBoxSelectTool, _super);
                
                      function DataRangeBoxSelectTool() {
                        _ref1 = DataRangeBoxSelectTool.__super__.constructor.apply(this, arguments);
                        return _ref1;
                      }
                
                      DataRangeBoxSelectTool.prototype.default_view = DataRangeBoxSelectToolView;
                
                      DataRangeBoxSelectTool.prototype.type = "DataRangeBoxSelectTool";
                
                      return DataRangeBoxSelectTool;
                
                    })(BoxSelectTool.Model);
                    DataRangeBoxSelectTools = (function(_super) {
                      __extends(DataRangeBoxSelectTools, _super);
                
                      function DataRangeBoxSelectTools() {
                        _ref2 = DataRangeBoxSelectTools.__super__.constructor.apply(this, arguments);
                        return _ref2;
                      }
                
                      DataRangeBoxSelectTools.prototype.model = DataRangeBoxSelectToolView;
                
                      DataRangeBoxSelectTools.prototype.display_defaults = function() {
                        return DataRangeBoxSelectTools.__super__.display_defaults.call(this);
                      };
                
                      return DataRangeBoxSelectTools;
                
                    })(Backbone.Collection);
                    return {
                      "Model": DataRangeBoxSelectTool,
                      "Collection": new DataRangeBoxSelectTools(),
                      "View": DataRangeBoxSelectToolView
                    };
                  });
                
                }).call(this);
                
                /*
                //@ sourceMappingURL=data_range_box_select_tool.js.map
                */;
                define('bootstrap/modal',["jquery"], function(jQuery) {
                
                /* ========================================================================
                 * Bootstrap: modal.js v3.1.1
                 * http://getbootstrap.com/javascript/#modals
                 * ========================================================================
                 * Copyright 2011-2014 Twitter, Inc.
                 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
                 * ======================================================================== */
                
                
                +function ($) {
                  
                
                  // MODAL CLASS DEFINITION
                  // ======================
                
                  var Modal = function (element, options) {
                    this.options   = options
                    this.$element  = $(element)
                    this.$backdrop =
                    this.isShown   = null
                
                    if (this.options.remote) {
                      this.$element
                        .find('.bk-bs-modal-content')
                        .load(this.options.remote, $.proxy(function () {
                          this.$element.trigger('loaded.bk-bs.modal')
                        }, this))
                    }
                  }
                
                  Modal.DEFAULTS = {
                    backdrop: true,
                    keyboard: true,
                    show: true
                  }
                
                  Modal.prototype.toggle = function (_relatedTarget) {
                    return this[!this.isShown ? 'show' : 'hide'](_relatedTarget)
                  }
                
                  Modal.prototype.show = function (_relatedTarget) {
                    var that = this
                    var e    = $.Event('show.bk-bs.modal', { relatedTarget: _relatedTarget })
                
                    this.$element.trigger(e)
                
                    if (this.isShown || e.isDefaultPrevented()) return
                
                    this.isShown = true
                
                    this.escape()
                
                    this.$element.on('click.dismiss.bk-bs.modal', '[data-bk-bs-dismiss="modal"]', $.proxy(this.hide, this))
                
                    this.backdrop(function () {
                      var transition = $.support.transition && that.$element.hasClass('bk-bs-fade')
                
                      if (!that.$element.parent().length) {
                        that.$element.appendTo(document.body) // don't move modals dom position
                      }
                
                      that.$element
                        .show()
                        .scrollTop(0)
                
                      if (transition) {
                        that.$element[0].offsetWidth // force reflow
                      }
                
                      that.$element
                        .addClass('bk-bs-in')
                        .attr('aria-hidden', false)
                
                      that.enforceFocus()
                
                      var e = $.Event('shown.bk-bs.modal', { relatedTarget: _relatedTarget })
                
                      transition ?
                        that.$element.find('.bk-bs-modal-dialog') // wait for modal to slide in
                          .one($.support.transition.end, function () {
                            that.$element.focus().trigger(e)
                          })
                          .emulateTransitionEnd(300) :
                        that.$element.focus().trigger(e)
                    })
                  }
                
                  Modal.prototype.hide = function (e) {
                    if (e) e.preventDefault()
                
                    e = $.Event('hide.bk-bs.modal')
                
                    this.$element.trigger(e)
                
                    if (!this.isShown || e.isDefaultPrevented()) return
                
                    this.isShown = false
                
                    this.escape()
                
                    $(document).off('focusin.bk-bs.modal')
                
                    this.$element
                      .removeClass('bk-bs-in')
                      .attr('aria-hidden', true)
                      .off('click.dismiss.bk-bs.modal')
                
                    $.support.transition && this.$element.hasClass('bk-bs-fade') ?
                      this.$element
                        .one($.support.transition.end, $.proxy(this.hideModal, this))
                        .emulateTransitionEnd(300) :
                      this.hideModal()
                  }
                
                  Modal.prototype.enforceFocus = function () {
                    $(document)
                      .off('focusin.bk-bs.modal') // guard against infinite focus loop
                      .on('focusin.bk-bs.modal', $.proxy(function (e) {
                        if (this.$element[0] !== e.target && !this.$element.has(e.target).length) {
                          this.$element.focus()
                        }
                      }, this))
                  }
                
                  Modal.prototype.escape = function () {
                    if (this.isShown && this.options.keyboard) {
                      this.$element.on('keyup.dismiss.bk-bs.modal', $.proxy(function (e) {
                        e.which == 27 && this.hide()
                      }, this))
                    } else if (!this.isShown) {
                      this.$element.off('keyup.dismiss.bk-bs.modal')
                    }
                  }
                
                  Modal.prototype.hideModal = function () {
                    var that = this
                    this.$element.hide()
                    this.backdrop(function () {
                      that.removeBackdrop()
                      that.$element.trigger('hidden.bk-bs.modal')
                    })
                  }
                
                  Modal.prototype.removeBackdrop = function () {
                    this.$backdrop && this.$backdrop.remove()
                    this.$backdrop = null
                  }
                
                  Modal.prototype.backdrop = function (callback) {
                    var animate = this.$element.hasClass('bk-bs-fade') ? 'bk-bs-fade' : ''
                
                    if (this.isShown && this.options.backdrop) {
                      var doAnimate = $.support.transition && animate
                
                      this.$backdrop = $('<div class="bk-bs-modal-backdrop ' + animate + '" />')
                        .appendTo(document.body)
                
                      this.$element.on('click.dismiss.bk-bs.modal', $.proxy(function (e) {
                        if (e.target !== e.currentTarget) return
                        this.options.backdrop == 'static'
                          ? this.$element[0].focus.call(this.$element[0])
                          : this.hide.call(this)
                      }, this))
                
                      if (doAnimate) this.$backdrop[0].offsetWidth // force reflow
                
                      this.$backdrop.addClass('bk-bs-in')
                
                      if (!callback) return
                
                      doAnimate ?
                        this.$backdrop
                          .one($.support.transition.end, callback)
                          .emulateTransitionEnd(150) :
                        callback()
                
                    } else if (!this.isShown && this.$backdrop) {
                      this.$backdrop.removeClass('bk-bs-in')
                
                      $.support.transition && this.$element.hasClass('bk-bs-fade') ?
                        this.$backdrop
                          .one($.support.transition.end, callback)
                          .emulateTransitionEnd(150) :
                        callback()
                
                    } else if (callback) {
                      callback()
                    }
                  }
                
                
                  // MODAL PLUGIN DEFINITION
                  // =======================
                
                  var old = $.fn.modal
                
                  $.fn.modal = function (option, _relatedTarget) {
                    return this.each(function () {
                      var $this   = $(this)
                      var data    = $this.data('bk-bs.modal')
                      var options = $.extend({}, Modal.DEFAULTS, $this.data(), typeof option == 'object' && option)
                
                      if (!data) $this.data('bk-bs.modal', (data = new Modal(this, options)))
                      if (typeof option == 'string') data[option](_relatedTarget)
                      else if (options.show) data.show(_relatedTarget)
                    })
                  }
                
                  $.fn.modal.Constructor = Modal
                
                
                  // MODAL NO CONFLICT
                  // =================
                
                  $.fn.modal.noConflict = function () {
                    $.fn.modal = old
                    return this
                  }
                
                
                  // MODAL DATA-API
                  // ==============
                
                  $(document).on('click.bk-bs.modal.data-api', '[data-bk-bs-toggle="modal"]', function (e) {
                    var $this   = $(this)
                    var href    = $this.attr('href')
                    var $target = $($this.attr('data-bk-bs-target') || (href && href.replace(/.*(?=#[^\s]+$)/, ''))) //strip for ie7
                    var option  = $target.data('bk-bs.modal') ? 'toggle' : $.extend({ remote: !/#/.test(href) && href }, $target.data(), $this.data())
                
                    if ($this.is('a')) e.preventDefault()
                
                    $target
                      .modal(option, this)
                      .one('hide', function () {
                        $this.is(':visible') && $this.focus()
                      })
                  })
                
                  $(document)
                    .on('show.bk-bs.modal', '.bk-bs-modal', function () { $(document.body).addClass('bk-bs-modal-open') })
                    .on('hidden.bk-bs.modal', '.bk-bs-modal', function () { $(document.body).removeClass('bk-bs-modal-open') })
                
                }(jQuery);
                
                });
                
                define('tool/embed_tool_template',[],function(){
                  var template = function(__obj) {
                  var _safe = function(value) {
                    if (typeof value === 'undefined' && value == null)
                      value = '';
                    var result = new String(value);
                    result.ecoSafe = true;
                    return result;
                  };
                  return (function() {
                    var __out = [], __self = this, _print = function(value) {
                      if (typeof value !== 'undefined' && value != null)
                        __out.push(value.ecoSafe ? value : __self.escape(value));
                    }, _capture = function(callback) {
                      var out = __out, result;
                      __out = [];
                      callback.call(this);
                      result = __out.join('');
                      __out = out;
                      return _safe(result);
                    };
                    (function() {
                      _print(_safe('<div class="bk-bs-modal" tabindex="-1">\n  <div class="bk-bs-modal-dialog">\n    <div class="bk-bs-modal-content">\n      <div class="bk-bs-modal-header">\n        <button type="button" class="bk-bs-close" data-bk-bs-dismiss="modal">&times;</button>\n        <h4 class="bk-bs-modal-title">HTML Embed code</h4>\n      </div>\n      <div class="bk-bs-modal-body">\n        '));
                    
                      _print(this.script_inject_escaped);
                    
                      _print(_safe('\n      </div>\n      <div class="bk-bs-modal-footer">\n        <button type="button" class="bk-bs-btn bk-bs-btn-primary" data-bk-bs-dismiss="modal">Close</button>\n      </div>\n    </div>\n  </div>\n</div>\n'));
                    
                    }).call(this);
                    
                    return __out.join('');
                  }).call((function() {
                    var obj = {
                      escape: function(value) {
                        return ('' + value)
                          .replace(/&/g, '&amp;')
                          .replace(/</g, '&lt;')
                          .replace(/>/g, '&gt;')
                          .replace(/"/g, '&quot;');
                      },
                      safe: _safe
                    }, key;
                    for (key in __obj) obj[key] = __obj[key];
                    return obj;
                  })());
                };
                  return template;
                });
                
                (function() {
                  var __hasProp = {}.hasOwnProperty,
                    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };
                
                  define('tool/embed_tool',["underscore", "jquery", "bootstrap/modal", "backbone", "./tool", "./event_generators", "./embed_tool_template"], function(_, $, $$1, Backbone, Tool, EventGenerators, embed_tool_template) {
                    var ButtonEventGenerator, EmbedTool, EmbedToolView, EmbedTools, escapeHTML, _ref, _ref1, _ref2;
                    ButtonEventGenerator = EventGenerators.ButtonEventGenerator;
                    escapeHTML = function(unsafe_str) {
                      return unsafe_str.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;').replace(/\"/g, '&quot;').replace(/\'/g, '&#39;');
                    };
                    EmbedToolView = (function(_super) {
                      __extends(EmbedToolView, _super);
                
                      function EmbedToolView() {
                        _ref = EmbedToolView.__super__.constructor.apply(this, arguments);
                        return _ref;
                      }
                
                      EmbedToolView.prototype.initialize = function(options) {
                        return EmbedToolView.__super__.initialize.call(this, options);
                      };
                
                      EmbedToolView.prototype.eventGeneratorClass = ButtonEventGenerator;
                
                      EmbedToolView.prototype.evgen_options = {
                        buttonText: "Embed Html"
                      };
                
                      EmbedToolView.prototype.toolType = "EmbedTool";
                
                      EmbedToolView.prototype.tool_events = {
                        activated: "_activated",
                        deactivated: "_close_modal"
                      };
                
                      EmbedToolView.prototype._activated = function(e) {
                        var baseurl, doc_apikey, doc_id, model_id, script_inject_escaped,
                          _this = this;
                        console.log("EmbedToolView._activated");
                        window.tool_view = this;
                        model_id = this.plot_model.get('id');
                        doc_id = this.plot_model.get('doc');
                        doc_apikey = this.plot_model.get('docapikey');
                        baseurl = this.plot_model.get('baseurl');
                        script_inject_escaped = escapeHTML(this.plot_model.get('script_inject_snippet'));
                        this.$modal = $(embed_tool_template({
                          script_inject_escaped: script_inject_escaped
                        }));
                        $('body').append(this.$modal);
                        this.$modal.on('hidden', function() {
                          return _this.plot_view.eventSink.trigger("clear_active_tool");
                        });
                        return this.$modal.modal({
                          show: true
                        });
                      };
                
                      EmbedToolView.prototype._close_modal = function() {
                        return this.$modal.remove();
                      };
                
                      return EmbedToolView;
                
                    })(Tool.View);
                    EmbedTool = (function(_super) {
                      __extends(EmbedTool, _super);
                
                      function EmbedTool() {
                        _ref1 = EmbedTool.__super__.constructor.apply(this, arguments);
                        return _ref1;
                      }
                
                      EmbedTool.prototype.default_view = EmbedToolView;
                
                      EmbedTool.prototype.type = "EmbedTool";
                
                      return EmbedTool;
                
                    })(Tool.Model);
                    EmbedTools = (function(_super) {
                      __extends(EmbedTools, _super);
                
                      function EmbedTools() {
                        _ref2 = EmbedTools.__super__.constructor.apply(this, arguments);
                        return _ref2;
                      }
                
                      EmbedTools.prototype.model = EmbedTool;
                
                      EmbedTools.prototype.display_defaults = function() {
                        return EmbedTools.__super__.display_defaults.call(this);
                      };
                
                      return EmbedTools;
                
                    })(Backbone.Collection);
                    return {
                      Model: EmbedTool,
                      Collection: new EmbedTools(),
                      View: EmbedToolView
                    };
                  });
                
                }).call(this);
                
                /*
                //@ sourceMappingURL=embed_tool.js.map
                */;
                (function() {
                  var __hasProp = {}.hasOwnProperty,
                    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };
                
                  define('tool/hover_tool',["underscore", "backbone", "sprintf", "./tool"], function(_, Backbone, sprintf, Tool) {
                    var HoverTool, HoverToolView, HoverTools, _color_to_hex, _format_number, _ref, _ref1, _ref2;
                    _color_to_hex = function(color) {
                      var blue, digits, green, red, rgb;
                      if (color.substr(0, 1) === '#') {
                        return color;
                      }
                      digits = /(.*?)rgb\((\d+), (\d+), (\d+)\)/.exec(color);
                      red = parseInt(digits[2]);
                      green = parseInt(digits[3]);
                      blue = parseInt(digits[4]);
                      rgb = blue | (green << 8) | (red << 16);
                      return digits[1] + '#' + rgb.toString(16);
                    };
                    _format_number = function(number) {
                      if (typeof number === "string") {
                        return number;
                      }
                      if (Math.floor(number) === number) {
                        return sprintf("%d", number);
                      }
                      if (Math.abs(number) > 0.1 && Math.abs(number) < 1000) {
                        return sprintf("%0.3f", number);
                      }
                      return sprintf("%0.3e", number);
                    };
                    HoverToolView = (function(_super) {
                      __extends(HoverToolView, _super);
                
                      function HoverToolView() {
                        _ref = HoverToolView.__super__.constructor.apply(this, arguments);
                        return _ref;
                      }
                
                      HoverToolView.prototype.initialize = function(options) {
                        HoverToolView.__super__.initialize.call(this, options);
                        this.div = $('<div class="bokeh_tooltip" />').appendTo('body');
                        this.div.hide();
                        return this.active = false;
                      };
                
                      HoverToolView.prototype.bind_bokeh_events = function() {
                        var tool_name,
                          _this = this;
                        tool_name = "hover_tool";
                        if (!this.mget('always_active')) {
                          this.tool_button = $("<button class='bk-toolbar-button'> Hover </button>");
                          this.plot_view.$el.find('.bk-button-bar').append(this.tool_button);
                          this.tool_button.click(function() {
                            if (_this.active) {
                              return _this.plot_view.eventSink.trigger("clear_active_tool");
                            } else {
                              return _this.plot_view.eventSink.trigger("active_tool", tool_name);
                            }
                          });
                          this.plot_view.eventSink.on("" + tool_name + ":deactivated", function() {
                            _this.active = false;
                            _this.tool_button.removeClass('active');
                            return _this.div.hide();
                          });
                          this.plot_view.eventSink.on("" + tool_name + ":activated", function() {
                            _this.active = true;
                            return _this.tool_button.addClass('active');
                          });
                        }
                        this.plot_view.canvas.bind("mousemove", function(e) {
                          var irh, irv, left, offset, top, vx, vy, xend, xstart, yend, ystart, _ref1;
                          if (!_this.active && !_this.mget('always_active')) {
                            return;
                          }
                          offset = $(e.currentTarget).offset();
                          left = offset != null ? offset.left : 0;
                          top = offset != null ? offset.top : 0;
                          e.bokehX = e.pageX - left;
                          e.bokehY = e.pageY - top;
                          _ref1 = _this.view_coords(e.bokehX, e.bokehY), vx = _ref1[0], vy = _ref1[1];
                          irh = _this.plot_view.view_state.get('inner_range_horizontal');
                          irv = _this.plot_view.view_state.get('inner_range_vertical');
                          xstart = irh.get('start');
                          xend = irh.get('end');
                          ystart = irv.get('start');
                          yend = irv.get('end');
                          if (vx < xstart || vx > xend || vy < ystart || vy > yend) {
                            _this.div.hide();
                            return;
                          }
                          return _this._select(vx, vy, e);
                        });
                        return this.plot_view.canvas_wrapper.css('cursor', 'crosshair');
                      };
                
                      HoverToolView.prototype.view_coords = function(sx, sy) {
                        var vx, vy, _ref1;
                        _ref1 = [this.plot_view.view_state.sx_to_vx(sx), this.plot_view.view_state.sy_to_vy(sy)], vx = _ref1[0], vy = _ref1[1];
                        return [vx, vy];
                      };
                
                      HoverToolView.prototype._select = function(vx, vy, e) {
                        var colname, color, column, column_name, datasource, datasource_id, datasource_selections, datasources, ds, dsvalue, geometry, hex, i, label, match, opts, ow, renderer, row, selected, span, swatch, table, td, unused, value, x, y, _i, _j, _len, _len1, _ref1, _ref2, _ref3, _ref4, _ref5;
                        geometry = {
                          type: 'point',
                          vx: vx,
                          vy: vy
                        };
                        x = this.plot_view.xmapper.map_from_target(vx);
                        y = this.plot_view.ymapper.map_from_target(vy);
                        datasources = {};
                        datasource_selections = {};
                        _ref1 = this.mget('renderers');
                        for (_i = 0, _len = _ref1.length; _i < _len; _i++) {
                          renderer = _ref1[_i];
                          datasource = renderer.get_obj('data_source');
                          datasources[datasource.id] = datasource;
                        }
                        _ref2 = this.mget('renderers');
                        for (_j = 0, _len1 = _ref2.length; _j < _len1; _j++) {
                          renderer = _ref2[_j];
                          datasource_id = renderer.get_obj('data_source').id;
                          _.setdefault(datasource_selections, datasource_id, []);
                          selected = this.plot_view.renderers[renderer.id].hit_test(geometry);
                          ds = datasources[datasource_id];
                          if (selected === null) {
                            continue;
                          }
                          if (selected.length > 0) {
                            i = selected[0];
                            this.div.empty();
                            table = $('<table></table>');
                            _ref3 = this.mget("tooltips");
                            for (label in _ref3) {
                              value = _ref3[label];
                              row = $("<tr></tr>");
                              row.append($("<td class='bokeh_tooltip_row_label'>" + label + ": </td>"));
                              td = $("<td class='bokeh_tooltip_row_value'></td>");
                              if (value.indexOf("$color") >= 0) {
                                _ref4 = value.match(/\$color(\[.*\])?:(\w*)/), match = _ref4[0], opts = _ref4[1], colname = _ref4[2];
                                column = ds.getcolumn(colname);
                                if (column == null) {
                                  span = $("<span>" + colname + " unknown</span>");
                                  td.append(span);
                                  continue;
                                }
                                hex = (opts != null ? opts.indexOf("hex") : void 0) >= 0;
                                swatch = (opts != null ? opts.indexOf("swatch") : void 0) >= 0;
                                color = column[i];
                                if (color == null) {
                                  span = $("<span>(null)</span>");
                                  td.append(span);
                                  continue;
                                }
                                if (hex) {
                                  color = _color_to_hex(color);
                                }
                                span = $("<span>" + color + "</span>");
                                td.append(span);
                                if (swatch) {
                                  span = $("<span class='bokeh_tooltip_color_block'> </span>");
                                  span.css({
                                    backgroundColor: color
                                  });
                                }
                                td.append(span);
                              } else {
                                value = value.replace("$index", "" + i);
                                value = value.replace("$x", "" + (_format_number(x)));
                                value = value.replace("$y", "" + (_format_number(y)));
                                value = value.replace("$vx", "" + vx);
                                value = value.replace("$vy", "" + vy);
                                value = value.replace("$sx", "" + e.bokehX);
                                value = value.replace("$sy", "" + e.bokehY);
                                while (value.indexOf("@") >= 0) {
                                  _ref5 = value.match(/(@)(\w*)/), match = _ref5[0], unused = _ref5[1], column_name = _ref5[2];
                                  column = ds.getcolumn(column_name);
                                  if (column == null) {
                                    value = value.replace(column_name, "" + column_name + " unknown");
                                    break;
                                  }
                                  column = ds.getcolumn(column_name);
                                  dsvalue = column[i];
                                  if (typeof dsvalue === "number") {
                                    value = value.replace(match, "" + (_format_number(dsvalue)));
                                  } else {
                                    value = value.replace(match, "" + dsvalue);
                                  }
                                }
                                span = $("<span>" + value + "</span>");
                                td.append(span);
                              }
                              row.append(td);
                              table.append(row);
                            }
                            this.div.append(table);
                            ow = this.plot_view.view_state.get('outer_width');
                            if (vx < ow / 2) {
                              this.div.removeClass('right');
                              this.div.addClass('left');
                              this.div.css({
                                top: e.pageY - this.div.height() / 2,
                                left: e.pageX + 18
                              });
                            } else {
                              this.div.removeClass('left');
                              this.div.addClass('right');
                              this.div.css({
                                top: e.pageY - this.div.height() / 2,
                                left: e.pageX - this.div.width() - 23
                              });
                            }
                            this.div.show();
                            break;
                          } else {
                            this.div.hide();
                          }
                          datasource_selections[datasource_id].push(selected);
                        }
                        return null;
                      };
                
                      return HoverToolView;
                
                    })(Tool.View);
                    HoverTool = (function(_super) {
                      __extends(HoverTool, _super);
                
                      function HoverTool() {
                        _ref1 = HoverTool.__super__.constructor.apply(this, arguments);
                        return _ref1;
                      }
                
                      HoverTool.prototype.default_view = HoverToolView;
                
                      HoverTool.prototype.type = "HoverTool";
                
                      HoverTool.prototype.dinitialize = function(attrs, options) {
                        var all_renderers, names, r, renderers;
                        HoverTool.__super__.dinitialize.call(this, attrs, options);
                        names = this.get('names');
                        all_renderers = this.get_obj('plot').get_obj('renderers');
                        renderers = (function() {
                          var _i, _len, _results;
                          _results = [];
                          for (_i = 0, _len = all_renderers.length; _i < _len; _i++) {
                            r = all_renderers[_i];
                            if (r.type === "Glyph") {
                              _results.push(r);
                            }
                          }
                          return _results;
                        })();
                        if (names.length > 0) {
                          renderers = (function() {
                            var _i, _len, _results;
                            _results = [];
                            for (_i = 0, _len = renderers.length; _i < _len; _i++) {
                              r = renderers[_i];
                              if (names.indexOf(r.get('name')) >= 0) {
                                _results.push(r);
                              }
                            }
                            return _results;
                          })();
                        }
                        return this.set('renderers', renderers);
                      };
                
                      HoverTool.prototype.defaults = function() {
                        return _.extend(HoverTool.__super__.defaults.call(this), {
                          renderers: [],
                          names: [],
                          tooltips: {
                            "index": "$index",
                            "data (x, y)": "($x, $y)",
                            "canvas (x, y)": "($sx, $sy)"
                          }
                        });
                      };
                
                      HoverTool.prototype.display_defaults = function() {
                        return HoverTool.__super__.display_defaults.call(this);
                      };
                
                      return HoverTool;
                
                    })(Tool.Model);
                    HoverTools = (function(_super) {
                      __extends(HoverTools, _super);
                
                      function HoverTools() {
                        _ref2 = HoverTools.__super__.constructor.apply(this, arguments);
                        return _ref2;
                      }
                
                      HoverTools.prototype.model = HoverTool;
                
                      return HoverTools;
                
                    })(Backbone.Collection);
                    return {
                      "Model": HoverTool,
                      "Collection": new HoverTools(),
                      "View": HoverToolView
                    };
                  });
                
                }).call(this);
                
                /*
                //@ sourceMappingURL=hover_tool.js.map
                */;
                (function() {
                  var __hasProp = {}.hasOwnProperty,
                    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };
                
                  define('tool/pan_tool',["underscore", "backbone", "./tool", "./event_generators"], function(_, Backbone, Tool, EventGenerators) {
                    var PanTool, PanToolView, PanTools, TwoPointEventGenerator, _ref, _ref1, _ref2;
                    TwoPointEventGenerator = EventGenerators.TwoPointEventGenerator;
                    window.render_count = 0;
                    PanToolView = (function(_super) {
                      __extends(PanToolView, _super);
                
                      function PanToolView() {
                        _ref = PanToolView.__super__.constructor.apply(this, arguments);
                        return _ref;
                      }
                
                      PanToolView.prototype.initialize = function(options) {
                        var dims;
                        PanToolView.__super__.initialize.call(this, options);
                        dims = this.mget('dimensions');
                        if (dims.length === 0) {
                          return console.log("WARN: pan tool given empty dimensions");
                        } else if (dims.length === 1) {
                          if (dims[0] === 'width') {
                            return this.evgen_options.buttonText = "Pan (x-axis)";
                          } else if (dims[0] === 'height') {
                            return this.evgen_options.buttonText = "Pan (y-axis)";
                          } else {
                            return console.log("WARN: pan tool given unrecognized dimensions: " + dims);
                          }
                        } else if (dims.length === 2) {
                          if (dims.indexOf('width') < 0 || dims.indexOf('height') < 0) {
                            return console.log("WARN: pan tool given unrecognized dimensions: " + dims);
                          }
                        } else {
                          return console.log("WARN: pan tool given more than two dimensions: " + dims);
                        }
                      };
                
                      PanToolView.prototype.bind_bokeh_events = function() {
                        return PanToolView.__super__.bind_bokeh_events.call(this);
                      };
                
                      PanToolView.prototype.eventGeneratorClass = TwoPointEventGenerator;
                
                      PanToolView.prototype.toolType = "PanTool";
                
                      PanToolView.prototype.evgen_options = {
                        keyName: null,
                        buttonText: "Pan",
                        buttonIcon: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEgAACxIB0t1+/AAAABx0RVh0U29mdHdhcmUAQWRvYmUgRmlyZXdvcmtzIENTNui8sowAAAEwSURBVEiJ5ZbtUcMwDIZfcR0gGxAmICNkhI5QJiEb9DpB2QA2KBskG8AGZYOHH3XAl+bDjpMed7y/fD5Jj2VJTgToFgIE6G6mc55EjrTPgA9gH8sB4oAOVvOr3drAI9cqVwEC+x4YwDmkprMydI5lS4r0m9+lKfqnQGCbEhTIB2P4tffm7DQSbLJpPJvK5wDaeBuFpJOkTFIzMl+FH3jC5hl4lPQk6csnbwdmbCnV3bF4l/Q2dEUL6PCz6tSwcidaqoZnV6r+wTezSv59p6mR9GBmTfc0fSfMhqIEZnjl35thKzNLynDM/2+8NGtqM21yEZevey7p3tur3PLFzD5DA4XaFa7Nu3oN5TDjF6PswOqxjk4GOsedN9RBsCSgc67aFyQWaIDMLBoaC2t187H4BqwdDXMWZF/nAAAAAElFTkSuQmCC",
                        cursor: "move",
                        auto_deactivate: true,
                        restrict_to_innercanvas: true
                      };
                
                      PanToolView.prototype.tool_events = {
                        UpdatingMouseMove: "_drag",
                        SetBasepoint: "_set_base_point"
                      };
                
                      PanToolView.prototype.mouse_coords = function(e, x, y) {
                        var x_, y_, _ref1;
                        _ref1 = [this.plot_view.view_state.sx_to_vx(x), this.plot_view.view_state.sy_to_vy(y)], x_ = _ref1[0], y_ = _ref1[1];
                        return [x_, y_];
                      };
                
                      PanToolView.prototype._set_base_point = function(e) {
                        var _ref1;
                        _ref1 = this.mouse_coords(e, e.bokehX, e.bokehY), this.x = _ref1[0], this.y = _ref1[1];
                        return null;
                      };
                
                      PanToolView.prototype._drag = function(e) {
                        var dims, pan_info, sdx, sdy, sx_high, sx_low, sy_high, sy_low, x, xdiff, xend, xr, xstart, y, ydiff, yend, yr, ystart, _ref1, _ref2;
                        _ref1 = this.mouse_coords(e, e.bokehX, e.bokehY), x = _ref1[0], y = _ref1[1];
                        xdiff = x - this.x;
                        ydiff = y - this.y;
                        _ref2 = [x, y], this.x = _ref2[0], this.y = _ref2[1];
                        xr = this.plot_view.view_state.get('inner_range_horizontal');
                        sx_low = xr.get('start') - xdiff;
                        sx_high = xr.get('end') - xdiff;
                        yr = this.plot_view.view_state.get('inner_range_vertical');
                        sy_low = yr.get('start') - ydiff;
                        sy_high = yr.get('end') - ydiff;
                        dims = this.mget('dimensions');
                        if (dims.indexOf('width') > -1) {
                          xstart = this.plot_view.xmapper.map_from_target(sx_low);
                          xend = this.plot_view.xmapper.map_from_target(sx_high);
                          sdx = -xdiff;
                        } else {
                          xstart = this.plot_view.xmapper.map_from_target(xr.get('start'));
                          xend = this.plot_view.xmapper.map_from_target(xr.get('end'));
                          sdx = 0;
                        }
                        if (dims.indexOf('height') > -1) {
                          ystart = this.plot_view.ymapper.map_from_target(sy_low);
                          yend = this.plot_view.ymapper.map_from_target(sy_high);
                          sdy = ydiff;
                        } else {
                          ystart = this.plot_view.ymapper.map_from_target(yr.get('start'));
                          yend = this.plot_view.ymapper.map_from_target(yr.get('end'));
                          sdy = 0;
                        }
                        pan_info = {
                          xr: {
                            start: xstart,
                            end: xend
                          },
                          yr: {
                            start: ystart,
                            end: yend
                          },
                          sdx: sdx,
                          sdy: sdy
                        };
                        this.plot_view.update_range(pan_info);
                        return null;
                      };
                
                      return PanToolView;
                
                    })(Tool.View);
                    PanTool = (function(_super) {
                      __extends(PanTool, _super);
                
                      function PanTool() {
                        _ref1 = PanTool.__super__.constructor.apply(this, arguments);
                        return _ref1;
                      }
                
                      PanTool.prototype.default_view = PanToolView;
                
                      PanTool.prototype.type = "PanTool";
                
                      PanTool.prototype.defaults = function() {
                        return {
                          dimensions: ["width", "height"]
                        };
                      };
                
                      PanTool.prototype.display_defaults = function() {
                        return PanTool.__super__.display_defaults.call(this);
                      };
                
                      return PanTool;
                
                    })(Tool.Model);
                    PanTools = (function(_super) {
                      __extends(PanTools, _super);
                
                      function PanTools() {
                        _ref2 = PanTools.__super__.constructor.apply(this, arguments);
                        return _ref2;
                      }
                
                      PanTools.prototype.model = PanTool;
                
                      return PanTools;
                
                    })(Backbone.Collection);
                    return {
                      "Model": PanTool,
                      "Collection": new PanTools(),
                      "View": PanToolView
                    };
                  });
                
                }).call(this);
                
                /*
                //@ sourceMappingURL=pan_tool.js.map
                */;
                define('tool/preview_save_tool_template',[],function(){
                  var template = function(__obj) {
                  var _safe = function(value) {
                    if (typeof value === 'undefined' && value == null)
                      value = '';
                    var result = new String(value);
                    result.ecoSafe = true;
                    return result;
                  };
                  return (function() {
                    var __out = [], __self = this, _print = function(value) {
                      if (typeof value !== 'undefined' && value != null)
                        __out.push(value.ecoSafe ? value : __self.escape(value));
                    }, _capture = function(callback) {
                      var out = __out, result;
                      __out = [];
                      callback.call(this);
                      result = __out.join('');
                      __out = out;
                      return _safe(result);
                    };
                    (function() {
                      _print(_safe('<div class="bk-bs-modal" tabindex="-1">\n  <div class="bk-bs-modal-dialog">\n    <div class="bk-bs-modal-content">\n      <div class="bk-bs-modal-header">\n        <button type="button" class="bk-bs-close" data-bk-bs-dismiss="modal">&times;</button>\n        <h4 class="bk-bs-modal-title">Image Preview (right click -> \'Save As\' to save PNG)</h4>\n      </div>\n      <div class="bk-bs-modal-body">\n        <img src="'));
                    
                      _print(this.data_uri);
                    
                      _print(_safe('" style="max-height: 300px; max-width: 400px">\n      </div>\n      <div class="bk-bs-modal-footer">\n        <button type="button" class="bk-bs-btn bk-bs-btn-primary" data-bk-bs-dismiss="modal">Close</button>\n      </div>\n    </div>\n  </div>\n</div>\n'));
                    
                    }).call(this);
                    
                    return __out.join('');
                  }).call((function() {
                    var obj = {
                      escape: function(value) {
                        return ('' + value)
                          .replace(/&/g, '&amp;')
                          .replace(/</g, '&lt;')
                          .replace(/>/g, '&gt;')
                          .replace(/"/g, '&quot;');
                      },
                      safe: _safe
                    }, key;
                    for (key in __obj) obj[key] = __obj[key];
                    return obj;
                  })());
                };
                  return template;
                });
                
                (function() {
                  var __hasProp = {}.hasOwnProperty,
                    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };
                
                  define('tool/preview_save_tool',["underscore", "jquery", "bootstrap/modal", "backbone", "common/bulk_save", "./tool", "./event_generators", "./preview_save_tool_template"], function(_, $, $$1, Backbone, bulk_save, Tool, EventGenerators, preview_save_tool_template) {
                    var ButtonEventGenerator, PreviewSaveTool, PreviewSaveToolView, PreviewSaveTools, _ref, _ref1, _ref2;
                    ButtonEventGenerator = EventGenerators.ButtonEventGenerator;
                    PreviewSaveToolView = (function(_super) {
                      __extends(PreviewSaveToolView, _super);
                
                      function PreviewSaveToolView() {
                        _ref = PreviewSaveToolView.__super__.constructor.apply(this, arguments);
                        return _ref;
                      }
                
                      PreviewSaveToolView.prototype.initialize = function(options) {
                        return PreviewSaveToolView.__super__.initialize.call(this, options);
                      };
                
                      PreviewSaveToolView.prototype.eventGeneratorClass = ButtonEventGenerator;
                
                      PreviewSaveToolView.prototype.evgen_options = {
                        buttonText: "Preview/Save",
                        buttonIcon: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEgAACxIB0t1+/AAAABx0RVh0U29mdHdhcmUAQWRvYmUgRmlyZXdvcmtzIENTNui8sowAAAE4SURBVEiJ5ZbhTcMwEIW/h/hPN6AbUCagbNANKJNQJqiYgI7SbpARygRNJ3j8iFOq1E6s0BSpPClK4rPv+XzvbMs2l8TNRdn+gvA20jYCHvo4k7RJ2Q6ps918CvfHzvYsRWgbRURj4AtYAVPgKTL+AyjD94xqRTbABLgDXiWtciO07XWwLWJhNBzVfaa2J7bL8D+PRXhW0UgqqFZlD3w2SWEAlXaRDlIWDdKl7dGvCI8dUJVRinQR7AflxurwGGWifZe5JRbhPc4lXFFJfdzejULSOmcGrYSSSmCe4ygX/3PzPiCocUl3Dpt4T+W0SzRz+uVQVHV4gq4lrWvsWZnomsn1i+b6CVMqvbf9xs9p/2I7dvKnUI8fNw2xK0ZBz0tUCx6D31NCSdienpFsK2lb88QiHBQXF803MWL34Bj7qCQAAAAASUVORK5CYII="
                      };
                
                      PreviewSaveToolView.prototype.toolType = "PreviewSaveTool";
                
                      PreviewSaveToolView.prototype.tool_events = {
                        activated: "_activated",
                        deactivated: "_close_modal"
                      };
                
                      PreviewSaveToolView.prototype._activated = function(e) {
                        var data_uri,
                          _this = this;
                        data_uri = this.plot_view.canvas[0].toDataURL();
                        this.plot_model.set('png', this.plot_view.canvas[0].toDataURL());
                        this.$modal = $(preview_save_tool_template({
                          data_uri: data_uri
                        }));
                        $('body').append(this.$modal);
                        this.$modal.on('hidden', function() {
                          return _this.plot_view.eventSink.trigger("clear_active_tool");
                        });
                        return this.$modal.modal({
                          show: true
                        });
                      };
                
                      PreviewSaveToolView.prototype._close_modal = function() {
                        return this.$modal.remove();
                      };
                
                      return PreviewSaveToolView;
                
                    })(Tool.View);
                    PreviewSaveTool = (function(_super) {
                      __extends(PreviewSaveTool, _super);
                
                      function PreviewSaveTool() {
                        _ref1 = PreviewSaveTool.__super__.constructor.apply(this, arguments);
                        return _ref1;
                      }
                
                      PreviewSaveTool.prototype.default_view = PreviewSaveToolView;
                
                      PreviewSaveTool.prototype.type = "PreviewSaveTool";
                
                      PreviewSaveTool.prototype.display_defaults = function() {
                        return PreviewSaveTool.__super__.display_defaults.call(this);
                      };
                
                      return PreviewSaveTool;
                
                    })(Tool.Model);
                    PreviewSaveTools = (function(_super) {
                      __extends(PreviewSaveTools, _super);
                
                      function PreviewSaveTools() {
                        _ref2 = PreviewSaveTools.__super__.constructor.apply(this, arguments);
                        return _ref2;
                      }
                
                      PreviewSaveTools.prototype.model = PreviewSaveTool;
                
                      return PreviewSaveTools;
                
                    })(Backbone.Collection);
                    return {
                      Model: PreviewSaveTool,
                      Collection: new PreviewSaveTools(),
                      View: PreviewSaveToolView
                    };
                  });
                
                }).call(this);
                
                /*
                //@ sourceMappingURL=preview_save_tool.js.map
                */;
                (function() {
                  var __hasProp = {}.hasOwnProperty,
                    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };
                
                  define('tool/reset_tool',["underscore", "backbone", "./tool", "./event_generators"], function(_, Backbone, Tool, EventGenerators) {
                    var ButtonEventGenerator, ResetTool, ResetToolView, ResetTools, _ref, _ref1, _ref2;
                    ButtonEventGenerator = EventGenerators.ButtonEventGenerator;
                    ResetToolView = (function(_super) {
                      __extends(ResetToolView, _super);
                
                      function ResetToolView() {
                        _ref = ResetToolView.__super__.constructor.apply(this, arguments);
                        return _ref;
                      }
                
                      ResetToolView.prototype.initialize = function(options) {
                        return ResetToolView.__super__.initialize.call(this, options);
                      };
                
                      ResetToolView.prototype.eventGeneratorClass = ButtonEventGenerator;
                
                      ResetToolView.prototype.evgen_options = {
                        buttonText: "Reset View",
                        buttonIcon: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEgAACxIB0t1+/AAAABx0RVh0U29mdHdhcmUAQWRvYmUgRmlyZXdvcmtzIENTNui8sowAAAJASURBVEiJ3Za9axVBEMB/K3nRSBqLoEkhIY36ED8wgp02FsaPwsrSIiAYSOVLQCG9liqCqPgPSAqJWGhjkZhKNCZYKoIYsLIxHybvZ3EbuVzu7r2nUcGBKXZvZn47uzc7G1T+pmz5q7R/AWxLD0IIuUZqBegGTgKHgUPAMvAGeA+MA/MhhJWMX26wn1oA61cfqKsWy6p6X63mxO5MM0IalM1QHQauA9vi1IuY0Yc41wXsjpkDLAEjIYSb0f80cA641DBDdSyVwSP1lNpesAsD6kTK/ppaU1fUuXWMPKA6lHKuFYEy0A71as52T5YC1aq6HI2vNAJloIMp3zWZKgTW6/WgPoyG4+rWJkG96tPoVy8DrqvDEMJ+4CLJL38rhLDUZHLHgB3ACpBfW6nVpXWvOqM+N6m9lkQ9q95TF1s5w261r1VYBtyvjqjz6mwpcDNF7VGPFgLjx55NBG7Q7MSs+tmk9o78JqwaMywFTqYO+1v8Ac78AqyiTqtv1T1lwCk3ynf1pXqhBeCJuGDVA4V1mOdL0sK+AtNNwjqBUaADuAPMZA3KMlxWB5vNLMarRd8FdV/2DNuy9plxBehSO0IICw1A24Eh4Eacugy8yzNM65xJS6mZtJg1mVAHCkAVk9aVbk9jObE3NmDgLvA4hPAkOgzHFa9d4s+Aj8CXON4F9ALHSe7QRWA01YBzV5jWzpzvVRs/MerqbbW/JHbjJ0Z624CdwHmgDzgItAOvgVcx808hhNUsMCvZLf3j8v8/hH8At02YtB91tJYAAAAASUVORK5CYII="
                      };
                
                      ResetToolView.prototype.toolType = "ResetTool";
                
                      ResetToolView.prototype.tool_events = {
                        activated: "_activated"
                      };
                
                      ResetToolView.prototype._activated = function(e) {
                        var _this = this;
                        this.plot_view.update_range();
                        return _.delay((function() {
                          return _this.plot_view.eventSink.trigger("clear_active_tool");
                        }), 100);
                      };
                
                      return ResetToolView;
                
                    })(Tool.View);
                    ResetTool = (function(_super) {
                      __extends(ResetTool, _super);
                
                      function ResetTool() {
                        _ref1 = ResetTool.__super__.constructor.apply(this, arguments);
                        return _ref1;
                      }
                
                      ResetTool.prototype.default_view = ResetToolView;
                
                      ResetTool.prototype.type = "ResetTool";
                
                      return ResetTool;
                
                    })(Tool.Model);
                    ResetTools = (function(_super) {
                      __extends(ResetTools, _super);
                
                      function ResetTools() {
                        _ref2 = ResetTools.__super__.constructor.apply(this, arguments);
                        return _ref2;
                      }
                
                      ResetTools.prototype.model = ResetTool;
                
                      ResetTools.prototype.display_defaults = function() {
                        return ResetTools.__super__.display_defaults.call(this);
                      };
                
                      return ResetTools;
                
                    })(Backbone.Collection);
                    return {
                      "Model": ResetTool,
                      "Collection": new ResetTools(),
                      "View": ResetToolView
                    };
                  });
                
                }).call(this);
                
                /*
                //@ sourceMappingURL=reset_tool.js.map
                */;
                (function() {
                  var __hasProp = {}.hasOwnProperty,
                    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };
                
                  define('tool/resize_tool',["underscore", "backbone", "./tool", "./event_generators"], function(_, Backbone, Tool, EventGenerators) {
                    var ResizeTool, ResizeToolView, ResizeTools, TwoPointEventGenerator, _ref, _ref1, _ref2;
                    TwoPointEventGenerator = EventGenerators.TwoPointEventGenerator;
                    ResizeToolView = (function(_super) {
                      __extends(ResizeToolView, _super);
                
                      function ResizeToolView() {
                        _ref = ResizeToolView.__super__.constructor.apply(this, arguments);
                        return _ref;
                      }
                
                      ResizeToolView.prototype.initialize = function(options) {
                        ResizeToolView.__super__.initialize.call(this, options);
                        return this.active = false;
                      };
                
                      ResizeToolView.prototype.bind_events = function(plotview) {
                        return ResizeToolView.__super__.bind_events.call(this, plotview);
                      };
                
                      ResizeToolView.prototype.eventGeneratorClass = TwoPointEventGenerator;
                
                      ResizeToolView.prototype.toolType = "ResizeTool";
                
                      ResizeToolView.prototype.evgen_options = {
                        keyName: "",
                        buttonText: "Resize",
                        buttonIcon: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEgAACxIB0t1+/AAAABx0RVh0U29mdHdhcmUAQWRvYmUgRmlyZXdvcmtzIENTNui8sowAAAB7SURBVEiJ7ZZLDsAgCESdxvtfmW5aUpAQE6gmhtnpgsdHM4CI2kpdS2k7gF2dub8AEAlMclYcSwPDoG+chykeyQA0sgtx9YWYYVZ1HtSsMJqA16Hzv0UBC1jAAh4IdN0i0RdZosI/AG3G8bOM2Mp/AL5VJi9RLNQinK0b0hcrObYWZu0AAAAASUVORK5CYII=",
                        cursor: "move"
                      };
                
                      ResizeToolView.prototype.tool_events = {
                        activated: "_activate",
                        deactivated: "_deactivate",
                        UpdatingMouseMove: "_drag",
                        SetBasepoint: "_set_base_point"
                      };
                
                      ResizeToolView.prototype.render = function() {
                        var ch, ctx, cw, line_width;
                        if (!this.active) {
                          return;
                        }
                        ctx = this.plot_view.ctx;
                        cw = this.plot_view.view_state.get('canvas_width');
                        ch = this.plot_view.view_state.get('canvas_height');
                        line_width = 8;
                        ctx.save();
                        ctx.strokeStyle = 'transparent';
                        ctx.globalAlpha = 0.7;
                        ctx.lineWidth = line_width;
                        ctx.setLineDash([]);
                        ctx.beginPath();
                        ctx.rect(line_width, line_width, cw - line_width * 2, ch - line_width * 2);
                        ctx.moveTo(line_width, line_width);
                        ctx.lineTo(cw - line_width, ch - line_width);
                        ctx.moveTo(line_width, ch - line_width);
                        ctx.lineTo(cw - line_width, line_width);
                        ctx.stroke();
                        return ctx.restore();
                      };
                
                      ResizeToolView.prototype.mouse_coords = function(e, x, y) {
                        return [x, y];
                      };
                
                      ResizeToolView.prototype._activate = function(e) {
                        var bbar, ch, cw, plotarea, popupHtml;
                        if (this.active) {
                          return;
                        }
                        this.active = true;
                        this.popup = $('<div class="resize_bokeh_plot pull-right hide"/>');
                        bbar = this.plot_view.$el.find('.bokeh_canvas_wrapper');
                        plotarea = this.plot_view.$el.find('.plotarea');
                        popupHtml = this.plot_view.$el.find('.resize_popup');
                        this.popup.appendTo(bbar);
                        ch = this.plot_view.view_state.get('outer_height');
                        cw = this.plot_view.view_state.get('outer_width');
                        this.request_render();
                        this.plot_view.request_render();
                        return null;
                      };
                
                      ResizeToolView.prototype._deactivate = function(e) {
                        this.active = false;
                        this.popup.remove();
                        this.request_render();
                        this.plot_view.request_render();
                        return null;
                      };
                
                      ResizeToolView.prototype._set_base_point = function(e) {
                        var _ref1;
                        _ref1 = this.mouse_coords(e, e.bokehX, e.bokehY), this.x = _ref1[0], this.y = _ref1[1];
                        return null;
                      };
                
                      ResizeToolView.prototype._drag = function(e) {
                        var ch, cw, x, xdiff, y, ydiff, _ref1, _ref2;
                        this.plot_view.pause();
                        _ref1 = this.mouse_coords(e, e.bokehX, e.bokehY), x = _ref1[0], y = _ref1[1];
                        xdiff = x - this.x;
                        ydiff = y - this.y;
                        _ref2 = [x, y], this.x = _ref2[0], this.y = _ref2[1];
                        ch = this.plot_view.view_state.get('outer_height');
                        cw = this.plot_view.view_state.get('outer_width');
                        this.plot_view.view_state.set('outer_height', ch + ydiff, {
                          'silent': true
                        });
                        this.plot_view.view_state.set('outer_width', cw + xdiff, {
                          'silent': true
                        });
                        this.plot_view.view_state.set('canvas_height', ch + ydiff, {
                          'silent': true
                        });
                        this.plot_view.view_state.set('canvas_width', cw + xdiff, {
                          'silent': true
                        });
                        this.plot_view.view_state.trigger('change:outer_height', ch + ydiff);
                        this.plot_view.view_state.trigger('change:outer_width', cw + xdiff);
                        this.plot_view.view_state.trigger('change:canvas_height', ch + ydiff);
                        this.plot_view.view_state.trigger('change:canvas_width', cw + xdiff);
                        this.plot_view.view_state.trigger('change', this.plot_view.view_state);
                        this.plot_view.unpause(true);
                        return null;
                      };
                
                      return ResizeToolView;
                
                    })(Tool.View);
                    ResizeTool = (function(_super) {
                      __extends(ResizeTool, _super);
                
                      function ResizeTool() {
                        _ref1 = ResizeTool.__super__.constructor.apply(this, arguments);
                        return _ref1;
                      }
                
                      ResizeTool.prototype.default_view = ResizeToolView;
                
                      ResizeTool.prototype.type = "ResizeTool";
                
                      ResizeTool.prototype.display_defaults = function() {
                        return ResizeTool.__super__.display_defaults.call(this);
                      };
                
                      return ResizeTool;
                
                    })(Tool.Model);
                    ResizeTools = (function(_super) {
                      __extends(ResizeTools, _super);
                
                      function ResizeTools() {
                        _ref2 = ResizeTools.__super__.constructor.apply(this, arguments);
                        return _ref2;
                      }
                
                      ResizeTools.prototype.model = ResizeTool;
                
                      return ResizeTools;
                
                    })(Backbone.Collection);
                    return {
                      "Model": ResizeTool,
                      "Collection": new ResizeTools(),
                      "View": ResizeToolView
                    };
                  });
                
                }).call(this);
                
                /*
                //@ sourceMappingURL=resize_tool.js.map
                */;
                (function() {
                  var __hasProp = {}.hasOwnProperty,
                    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };
                
                  define('tool/wheel_zoom_tool',["underscore", "backbone", "./tool", "./event_generators"], function(_, Backbone, Tool, EventGenerators) {
                    var OnePointWheelEventGenerator, WheelZoomTool, WheelZoomToolView, WheelZoomTools, _ref, _ref1, _ref2;
                    OnePointWheelEventGenerator = EventGenerators.OnePointWheelEventGenerator;
                    WheelZoomToolView = (function(_super) {
                      __extends(WheelZoomToolView, _super);
                
                      function WheelZoomToolView() {
                        _ref = WheelZoomToolView.__super__.constructor.apply(this, arguments);
                        return _ref;
                      }
                
                      WheelZoomToolView.prototype.initialize = function(options) {
                        var dims;
                        WheelZoomToolView.__super__.initialize.call(this, options);
                        dims = this.mget('dimensions');
                        if (dims.length === 0) {
                          return console.log("WARN: wheel zoom tool given empty dimensions");
                        } else if (dims.length === 1) {
                          if (dims[0] === 'width') {
                            return this.evgen_options.buttonText = "Wheel Zoom (x-axis)";
                          } else if (dims[0] === 'height') {
                            return this.evgen_options.buttonText = "Wheel Zoom (y-axis)";
                          } else {
                            return console.log("WARN: wheel tool given unrecognized dimensions: " + dims);
                          }
                        } else if (dims.length === 2) {
                          if (dims.indexOf('width') < 0 || dims.indexOf('height') < 0) {
                            return console.log("WARN: pan tool given unrecognized dimensions: " + dims);
                          }
                        } else {
                          return console.log("WARN: wheel tool given more than two dimensions: " + dims);
                        }
                      };
                
                      WheelZoomToolView.prototype.eventGeneratorClass = OnePointWheelEventGenerator;
                
                      WheelZoomToolView.prototype.evgen_options = {
                        buttonText: "Wheel Zoom",
                        buttonIcon: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEgAACxIB0t1+/AAAABx0RVh0U29mdHdhcmUAQWRvYmUgRmlyZXdvcmtzIENTNui8sowAAAHFSURBVEiJ7ZbRceIwEIb/vbkCUgIl0EFcAlfBuYOkBHfApALTQUgF0AF0AFcBdPDlwStnsSXD3MA93OSf0ciWdveTrJVkA2RmeqSA/vnHQ0kZfQPvr7igoa0K5enGOBXwzqVOQAvMRkDgCVi60VDvF05j2DLjMwTPe6DDdt5Rx1kBi9A3z8DqEHiX/IEZ0IQJnIBZArYxoDts0qzC+yEDPAXY6PMD82DTJiBAHYLvhkF8xADVYN2SRrMPdk0yill69Hoh6Sxp6/WrJJlZ6o+Be7iZ7UtAjyVJ+jnsMbOVpNWEc/xsx5JRSaN9CLwOMmw54b8PfvWE3Us/wLCGVXBu+0W+HAxAM2jbhCysNNBgAk0W6IZNxjkHjFkI3Z5tvOxCe5eAJWBOOWCAHihrg2f7KGn+Rma2B94kpfXeer2X9GFm6f0+QNdvr9dm9qtkdJfbgu5ESvvzY8o2AidvBb6OrdwGr70+S1pfG508gzZX7NLxlDsvU8K0Od8cMJ2JbSFg2ktNpm8esnFxE9Drhe+ndGk2dPfcoQRzv9b7T1dhCllqZmtgq+7wfvZylvSmLvOOhRh/3G51C9DI/GI8Uv//X9s/B34CxIm8SDsIdkgAAAAASUVORK5CYII="
                      };
                
                      WheelZoomToolView.prototype.tool_events = {
                        zoom: "_zoom"
                      };
                
                      WheelZoomToolView.prototype.mouse_coords = function(e, x, y) {
                        var x_, y_, _ref1;
                        _ref1 = [this.plot_view.view_state.sx_to_vx(x), this.plot_view.view_state.sy_to_vy(y)], x_ = _ref1[0], y_ = _ref1[1];
                        return [x_, y_];
                      };
                
                      WheelZoomToolView.prototype._zoom = function(e) {
                        var delta, dims, factor, screenX, screenY, speed, sx_high, sx_low, sy_high, sy_low, x, xend, xr, xstart, y, yend, yr, ystart, zoom_info, _ref1, _ref2, _ref3, _ref4, _ref5;
                        delta = e.originalEvent.wheelDelta;
                        screenX = e.bokehX;
                        screenY = e.bokehY;
                        _ref1 = this.mouse_coords(e, screenX, screenY), x = _ref1[0], y = _ref1[1];
                        speed = this.mget('speed');
                        factor = speed * delta;
                        if (factor > 0.9) {
                          factor = 0.9;
                        } else if (factor < -0.9) {
                          factor = -0.9;
                        }
                        xr = this.plot_view.view_state.get('inner_range_horizontal');
                        sx_low = xr.get('start');
                        sx_high = xr.get('end');
                        yr = this.plot_view.view_state.get('inner_range_vertical');
                        sy_low = yr.get('start');
                        sy_high = yr.get('end');
                        dims = this.mget('dimensions');
                        if (dims.indexOf('width') > -1) {
                          _ref2 = this.plot_view.xmapper.v_map_from_target([sx_low - (sx_low - x) * factor, sx_high - (sx_high - x) * factor]), xstart = _ref2[0], xend = _ref2[1];
                        } else {
                          _ref3 = this.plot_view.xmapper.v_map_from_target([sx_low, sx_high]), xstart = _ref3[0], xend = _ref3[1];
                        }
                        if (dims.indexOf('height') > -1) {
                          _ref4 = this.plot_view.ymapper.v_map_from_target([sy_low - (sy_low - y) * factor, sy_high - (sy_high - y) * factor]), ystart = _ref4[0], yend = _ref4[1];
                        } else {
                          _ref5 = this.plot_view.ymapper.v_map_from_target([sy_low, sy_high]), ystart = _ref5[0], yend = _ref5[1];
                        }
                        zoom_info = {
                          xr: {
                            start: xstart,
                            end: xend
                          },
                          yr: {
                            start: ystart,
                            end: yend
                          },
                          factor: factor
                        };
                        this.plot_view.update_range(zoom_info);
                        return null;
                      };
                
                      return WheelZoomToolView;
                
                    })(Tool.View);
                    WheelZoomTool = (function(_super) {
                      __extends(WheelZoomTool, _super);
                
                      function WheelZoomTool() {
                        _ref1 = WheelZoomTool.__super__.constructor.apply(this, arguments);
                        return _ref1;
                      }
                
                      WheelZoomTool.prototype.default_view = WheelZoomToolView;
                
                      WheelZoomTool.prototype.type = "WheelZoomTool";
                
                      WheelZoomTool.prototype.defaults = function() {
                        return {
                          dimensions: ["width", "height"],
                          speed: 1 / 600
                        };
                      };
                
                      return WheelZoomTool;
                
                    })(Tool.Model);
                    WheelZoomTools = (function(_super) {
                      __extends(WheelZoomTools, _super);
                
                      function WheelZoomTools() {
                        _ref2 = WheelZoomTools.__super__.constructor.apply(this, arguments);
                        return _ref2;
                      }
                
                      WheelZoomTools.prototype.model = WheelZoomTool;
                
                      WheelZoomTools.prototype.display_defaults = function() {
                        return WheelZoomTools.__super__.display_defaults.call(this);
                      };
                
                      return WheelZoomTools;
                
                    })(Backbone.Collection);
                    return {
                      "Model": WheelZoomTool,
                      "Collection": new WheelZoomTools(),
                      "View": WheelZoomToolView
                    };
                  });
                
                }).call(this);
                
                /*
                //@ sourceMappingURL=wheel_zoom_tool.js.map
                */;
                define('tool/object_explorer_tool_template',[],function(){
                  var template = function(__obj) {
                  var _safe = function(value) {
                    if (typeof value === 'undefined' && value == null)
                      value = '';
                    var result = new String(value);
                    result.ecoSafe = true;
                    return result;
                  };
                  return (function() {
                    var __out = [], __self = this, _print = function(value) {
                      if (typeof value !== 'undefined' && value != null)
                        __out.push(value.ecoSafe ? value : __self.escape(value));
                    }, _capture = function(callback) {
                      var out = __out, result;
                      __out = [];
                      callback.call(this);
                      result = __out.join('');
                      __out = out;
                      return _safe(result);
                    };
                    (function() {
                      _print(_safe('<div class="bk-bs-modal" tabindex="-1">\n  <div class="bk-bs-modal-dialog">\n    <div class="bk-bs-modal-content">\n      <div class="bk-bs-modal-header">\n        <button type="button" class="bk-bs-close" data-bk-bs-dismiss="modal">&times;</button>\n        <h4 class="bk-bs-modal-title">Object Explorer</h4>\n      </div>\n      <div class="bk-bs-modal-body">\n      </div>\n      <div class="bk-bs-modal-footer">\n        <button type="button" class="bk-bs-btn bk-bs-btn-primary" data-bk-bs-dismiss="modal">Close</button>\n      </div>\n    </div>\n  </div>\n</div>\n'));
                    
                    }).call(this);
                    
                    return __out.join('');
                  }).call((function() {
                    var obj = {
                      escape: function(value) {
                        return ('' + value)
                          .replace(/&/g, '&amp;')
                          .replace(/</g, '&lt;')
                          .replace(/>/g, '&gt;')
                          .replace(/"/g, '&quot;');
                      },
                      safe: _safe
                    }, key;
                    for (key in __obj) obj[key] = __obj[key];
                    return obj;
                  })());
                };
                  return template;
                });
                
                /*globals jQuery, define, exports, require, window, document */
                (function (factory) {
                	
                	if (typeof define === 'function' && define.amd) {
                		define('jstree',['jquery'], factory);
                	}
                	else if(typeof exports === 'object') {
                		factory(require('jquery'));
                	}
                	else {
                		factory(jQuery);
                	}
                }(function ($, undefined) {
                	
                /*!
                 * jsTree 3.0.0
                 * http://jstree.com/
                 *
                 * Copyright (c) 2013 Ivan Bozhanov (http://vakata.com)
                 *
                 * Licensed same as jquery - under the terms of the MIT License
                 *   http://www.opensource.org/licenses/mit-license.php
                 */
                /*!
                 * if using jslint please allow for the jQuery global and use following options: 
                 * jslint: browser: true, ass: true, bitwise: true, continue: true, nomen: true, plusplus: true, regexp: true, unparam: true, todo: true, white: true
                 */
                
                	// prevent another load? maybe there is a better way?
                	if($.jstree) {
                		return;
                	}
                
                	/**
                	 * ### jsTree core functionality
                	 */
                
                	// internal variables
                	var instance_counter = 0,
                		ccp_node = false,
                		ccp_mode = false,
                		ccp_inst = false,
                		themes_loaded = [],
                		src = $('script:last').attr('src'),
                		_d = document, _node = _d.createElement('LI'), _temp1, _temp2;
                
                	_node.setAttribute('role', 'treeitem');
                	_temp1 = _d.createElement('I');
                	_temp1.className = 'jstree-icon jstree-ocl';
                	_node.appendChild(_temp1);
                	_temp1 = _d.createElement('A');
                	_temp1.className = 'jstree-anchor';
                	_temp1.setAttribute('href','#');
                	_temp2 = _d.createElement('I');
                	_temp2.className = 'jstree-icon jstree-themeicon';
                	_temp1.appendChild(_temp2);
                	_node.appendChild(_temp1);
                	_temp1 = _temp2 = null;
                
                
                	/**
                	 * holds all jstree related functions and variables, including the actual class and methods to create, access and manipulate instances.
                	 * @name $.jstree
                	 */
                	$.jstree = {
                		/** 
                		 * specifies the jstree version in use
                		 * @name $.jstree.version
                		 */
                		version : '3.0.0-beta9',
                		/**
                		 * holds all the default options used when creating new instances
                		 * @name $.jstree.defaults
                		 */
                		defaults : {
                			/**
                			 * configure which plugins will be active on an instance. Should be an array of strings, where each element is a plugin name. The default is `[]`
                			 * @name $.jstree.defaults.plugins
                			 */
                			plugins : []
                		},
                		/**
                		 * stores all loaded jstree plugins (used internally)
                		 * @name $.jstree.plugins
                		 */
                		plugins : {},
                		path : src && src.indexOf('/') !== -1 ? src.replace(/\/[^\/]+$/,'') : ''
                	};
                	/**
                	 * creates a jstree instance
                	 * @name $.jstree.create(el [, options])
                	 * @param {DOMElement|jQuery|String} el the element to create the instance on, can be jQuery extended or a selector
                	 * @param {Object} options options for this instance (extends `$.jstree.defaults`)
                	 * @return {jsTree} the new instance
                	 */
                	$.jstree.create = function (el, options) {
                		var tmp = new $.jstree.core(++instance_counter),
                			opt = options;
                		options = $.extend(true, {}, $.jstree.defaults, options);
                		if(opt && opt.plugins) {
                			options.plugins = opt.plugins;
                		}
                		$.each(options.plugins, function (i, k) {
                			if(i !== 'core') {
                				tmp = tmp.plugin(k, options[k]);
                			}
                		});
                		tmp.init(el, options);
                		return tmp;
                	};
                	/**
                	 * the jstree class constructor, used only internally
                	 * @private
                	 * @name $.jstree.core(id)
                	 * @param {Number} id this instance's index
                	 */
                	$.jstree.core = function (id) {
                		this._id = id;
                		this._cnt = 0;
                		this._data = {
                			core : {
                				themes : {
                					name : false,
                					dots : false,
                					icons : false
                				},
                				selected : [],
                				last_error : {}
                			}
                		};
                	};
                	/**
                	 * get a reference to an existing instance
                	 *
                	 * __Examples__
                	 *
                	 *	// provided a container with an ID of "tree", and a nested node with an ID of "branch"
                	 *	// all of there will return the same instance
                	 *	$.jstree.reference('tree');
                	 *	$.jstree.reference('#tree');
                	 *	$.jstree.reference($('#tree'));
                	 *	$.jstree.reference(document.getElementByID('tree'));
                	 *	$.jstree.reference('branch');
                	 *	$.jstree.reference('#branch');
                	 *	$.jstree.reference($('#branch'));
                	 *	$.jstree.reference(document.getElementByID('branch'));
                	 *
                	 * @name $.jstree.reference(needle)
                	 * @param {DOMElement|jQuery|String} needle
                	 * @return {jsTree|null} the instance or `null` if not found
                	 */
                	$.jstree.reference = function (needle) {
                		if(needle && !$(needle).length) {
                			if(needle.id) {
                				needle = needle.id;
                			}
                			var tmp = null;
                			$('.jstree').each(function () {
                				var inst = $(this).data('jstree');
                				if(inst && inst._model.data[needle]) {
                					tmp = inst;
                					return false;
                				}
                			});
                			return tmp;
                		}
                		return $(needle).closest('.jstree').data('jstree');
                	};
                	/**
                	 * Create an instance, get an instance or invoke a command on a instance. 
                	 * 
                	 * If there is no instance associated with the current node a new one is created and `arg` is used to extend `$.jstree.defaults` for this new instance. There would be no return value (chaining is not broken).
                	 * 
                	 * If there is an existing instance and `arg` is a string the command specified by `arg` is executed on the instance, with any additional arguments passed to the function. If the function returns a value it will be returned (chaining could break depending on function).
                	 * 
                	 * If there is an existing instance and `arg` is not a string the instance itself is returned (similar to `$.jstree.reference`).
                	 * 
                	 * In any other case - nothing is returned and chaining is not broken.
                	 *
                	 * __Examples__
                	 *
                	 *	$('#tree1').jstree(); // creates an instance
                	 *	$('#tree2').jstree({ plugins : [] }); // create an instance with some options
                	 *	$('#tree1').jstree('open_node', '#branch_1'); // call a method on an existing instance, passing additional arguments
                	 *	$('#tree2').jstree(); // get an existing instance (or create an instance)
                	 *	$('#tree2').jstree(true); // get an existing instance (will not create new instance)
                	 *	$('#branch_1').jstree().select_node('#branch_1'); // get an instance (using a nested element and call a method)
                	 *
                	 * @name $().jstree([arg])
                	 * @param {String|Object} arg
                	 * @return {Mixed}
                	 */
                	$.fn.jstree = function (arg) {
                		// check for string argument
                		var is_method	= (typeof arg === 'string'),
                			args		= Array.prototype.slice.call(arguments, 1),
                			result		= null;
                		this.each(function () {
                			// get the instance (if there is one) and method (if it exists)
                			var instance = $.jstree.reference(this),
                				method = is_method && instance ? instance[arg] : null;
                			// if calling a method, and method is available - execute on the instance
                			result = is_method && method ?
                				method.apply(instance, args) :
                				null;
                			// if there is no instance and no method is being called - create one
                			if(!instance && !is_method && (arg === undefined || $.isPlainObject(arg))) {
                				$(this).data('jstree', new $.jstree.create(this, arg));
                			}
                			// if there is an instance and no method is called - return the instance
                			if(instance && !is_method) {
                				result = instance;
                			}
                			// if there was a method call which returned a result - break and return the value
                			if(result !== null && result !== undefined) {
                				return false;
                			}
                		});
                		// if there was a method call with a valid return value - return that, otherwise continue the chain
                		return result !== null && result !== undefined ?
                			result : this;
                	};
                	/**
                	 * used to find elements containing an instance
                	 *
                	 * __Examples__
                	 *
                	 *	$('div:jstree').each(function () {
                	 *		$(this).jstree('destroy');
                	 *	});
                	 *
                	 * @name $(':jstree')
                	 * @return {jQuery}
                	 */
                	$.expr[':'].jstree = $.expr.createPseudo(function(search) {
                		return function(a) {
                			return $(a).hasClass('jstree') &&
                				$(a).data('jstree') !== undefined;
                		};
                	});
                
                	/**
                	 * stores all defaults for the core
                	 * @name $.jstree.defaults.core
                	 */
                	$.jstree.defaults.core = {
                		/**
                		 * data configuration
                		 * 
                		 * If left as `false` the HTML inside the jstree container element is used to populate the tree (that should be an unordered list with list items).
                		 *
                		 * You can also pass in a HTML string or a JSON array here.
                		 * 
                		 * It is possible to pass in a standard jQuery-like AJAX config and jstree will automatically determine if the response is JSON or HTML and use that to populate the tree. 
                		 * In addition to the standard jQuery ajax options here you can suppy functions for `data` and `url`, the functions will be run in the current instance's scope and a param will be passed indicating which node is being loaded, the return value of those functions will be used.
                		 * 
                		 * The last option is to specify a function, that function will receive the node being loaded as argument and a second param which is a function which should be called with the result.
                		 *
                		 * __Examples__
                		 *
                		 *	// AJAX
                		 *	$('#tree').jstree({
                		 *		'core' : {
                		 *			'data' : {
                		 *				'url' : '/get/children/',
                		 *				'data' : function (node) {
                		 *					return { 'id' : node.id };
                		 *				}
                		 *			}
                		 *		});
                		 *
                		 *	// direct data
                		 *	$('#tree').jstree({
                		 *		'core' : {
                		 *			'data' : [
                		 *				'Simple root node',
                		 *				{
                		 *					'id' : 'node_2',
                		 *					'text' : 'Root node with options',
                		 *					'state' : { 'opened' : true, 'selected' : true },
                		 *					'children' : [ { 'text' : 'Child 1' }, 'Child 2']
                		 *				}
                		 *			]
                		 *		});
                		 *	
                		 *	// function
                		 *	$('#tree').jstree({
                		 *		'core' : {
                		 *			'data' : function (obj, callback) {
                		 *				callback.call(this, ['Root 1', 'Root 2']);
                		 *			}
                		 *		});
                		 * 
                		 * @name $.jstree.defaults.core.data
                		 */
                		data			: false,
                		/**
                		 * configure the various strings used throughout the tree
                		 *
                		 * You can use an object where the key is the string you need to replace and the value is your replacement.
                		 * Another option is to specify a function which will be called with an argument of the needed string and should return the replacement.
                		 * If left as `false` no replacement is made.
                		 *
                		 * __Examples__
                		 *
                		 *	$('#tree').jstree({
                		 *		'core' : {
                		 *			'strings' : {
                		 *				'Loading...' : 'Please wait ...'
                		 *			}
                		 *		}
                		 *	});
                		 *
                		 * @name $.jstree.defaults.core.strings
                		 */
                		strings			: false,
                		/**
                		 * determines what happens when a user tries to modify the structure of the tree
                		 * If left as `false` all operations like create, rename, delete, move or copy are prevented.
                		 * You can set this to `true` to allow all interactions or use a function to have better control.
                		 *
                		 * __Examples__
                		 *
                		 *	$('#tree').jstree({
                		 *		'core' : {
                		 *			'check_callback' : function (operation, node, node_parent, node_position) {
                		 *				// operation can be 'create_node', 'rename_node', 'delete_node', 'move_node' or 'copy_node'
                		 *				// in case of 'rename_node' node_position is filled with the new node name
                		 *				return operation === 'rename_node' ? true : false;
                		 *			}
                		 *		}
                		 *	});
                		 * 
                		 * @name $.jstree.defaults.core.check_callback
                		 */
                		check_callback	: false,
                		/**
                		 * a callback called with a single object parameter in the instance's scope when something goes wrong (operation prevented, ajax failed, etc)
                		 * @name $.jstree.defaults.core.error
                		 */
                		error			: $.noop,
                		/**
                		 * the open / close animation duration in milliseconds - set this to `false` to disable the animation (default is `200`)
                		 * @name $.jstree.defaults.core.animation
                		 */
                		animation		: 200,
                		/**
                		 * a boolean indicating if multiple nodes can be selected
                		 * @name $.jstree.defaults.core.multiple
                		 */
                		multiple		: true,
                		/**
                		 * theme configuration object
                		 * @name $.jstree.defaults.core.themes
                		 */
                		themes			: {
                			/**
                			 * the name of the theme to use (if left as `false` the default theme is used)
                			 * @name $.jstree.defaults.core.themes.name
                			 */
                			name			: false,
                			/**
                			 * the URL of the theme's CSS file, leave this as `false` if you have manually included the theme CSS (recommended). You can set this to `true` too which will try to autoload the theme.
                			 * @name $.jstree.defaults.core.themes.url
                			 */
                			url				: false,
                			/**
                			 * the location of all jstree themes - only used if `url` is set to `true`
                			 * @name $.jstree.defaults.core.themes.dir
                			 */
                			dir				: false,
                			/**
                			 * a boolean indicating if connecting dots are shown
                			 * @name $.jstree.defaults.core.themes.dots
                			 */
                			dots			: true,
                			/**
                			 * a boolean indicating if node icons are shown
                			 * @name $.jstree.defaults.core.themes.icons
                			 */
                			icons			: true,
                			/**
                			 * a boolean indicating if the tree background is striped
                			 * @name $.jstree.defaults.core.themes.stripes
                			 */
                			stripes			: false,
                			/**
                			 * a string (or boolean `false`) specifying the theme variant to use (if the theme supports variants)
                			 * @name $.jstree.defaults.core.themes.variant
                			 */
                			variant			: false,
                			/**
                			 * a boolean specifying if a reponsive version of the theme should kick in on smaller screens (if the theme supports it). Defaults to `true`.
                			 * @name $.jstree.defaults.core.themes.responsive
                			 */
                			responsive		: true
                		},
                		/**
                		 * if left as `true` all parents of all selected nodes will be opened once the tree loads (so that all selected nodes are visible to the user)
                		 * @name $.jstree.defaults.core.expand_selected_onload
                		 */
                		expand_selected_onload : true
                	};
                	$.jstree.core.prototype = {
                		/**
                		 * used to decorate an instance with a plugin. Used internally.
                		 * @private
                		 * @name plugin(deco [, opts])
                		 * @param  {String} deco the plugin to decorate with
                		 * @param  {Object} opts options for the plugin
                		 * @return {jsTree}
                		 */
                		plugin : function (deco, opts) {
                			var Child = $.jstree.plugins[deco];
                			if(Child) {
                				this._data[deco] = {};
                				Child.prototype = this;
                				return new Child(opts, this);
                			}
                			return this;
                		},
                		/**
                		 * used to decorate an instance with a plugin. Used internally.
                		 * @private
                		 * @name init(el, optons)
                		 * @param {DOMElement|jQuery|String} el the element we are transforming
                		 * @param {Object} options options for this instance
                		 * @trigger init.jstree, loading.jstree, loaded.jstree, ready.jstree, changed.jstree
                		 */
                		init : function (el, options) {
                			this._model = {
                				data : {
                					'#' : {
                						id : '#',
                						parent : null,
                						parents : [],
                						children : [],
                						children_d : [],
                						state : { loaded : false }
                					}
                				},
                				changed : [],
                				force_full_redraw : false,
                				redraw_timeout : false,
                				default_state : {
                					loaded : true,
                					opened : false,
                					selected : false,
                					disabled : false
                				}
                			};
                
                			this.element = $(el).addClass('jstree jstree-' + this._id);
                			this.settings = options;
                			this.element.bind("destroyed", $.proxy(this.teardown, this));
                
                			this._data.core.ready = false;
                			this._data.core.loaded = false;
                			this._data.core.rtl = (this.element.css("direction") === "rtl");
                			this.element[this._data.core.rtl ? 'addClass' : 'removeClass']("jstree-rtl");
                			this.element.attr('role','tree');
                
                			this.bind();
                			/**
                			 * triggered after all events are bound
                			 * @event
                			 * @name init.jstree
                			 */
                			this.trigger("init");
                
                			this._data.core.original_container_html = this.element.find(" > ul > li").clone(true);
                			this._data.core.original_container_html
                				.find("li").addBack()
                				.contents().filter(function() {
                					return this.nodeType === 3 && (!this.nodeValue || /^\s+$/.test(this.nodeValue));
                				})
                				.remove();
                			this.element.html("<"+"ul class='jstree-container-ul'><"+"li class='jstree-initial-node jstree-loading jstree-leaf jstree-last'><i class='jstree-icon jstree-ocl'></i><"+"a class='jstree-anchor' href='#'><i class='jstree-icon jstree-themeicon-hidden'></i>" + this.get_string("Loading ...") + "</a></li></ul>");
                			this._data.core.li_height = this.get_container_ul().children("li:eq(0)").height() || 18;
                			/**
                			 * triggered after the loading text is shown and before loading starts
                			 * @event
                			 * @name loading.jstree
                			 */
                			this.trigger("loading");
                			this.load_node('#');
                		},
                		/**
                		 * destroy an instance
                		 * @name destroy()
                		 */
                		destroy : function () {
                			this.element.unbind("destroyed", this.teardown);
                			this.teardown();
                		},
                		/**
                		 * part of the destroying of an instance. Used internally.
                		 * @private
                		 * @name teardown()
                		 */
                		teardown : function () {
                			this.unbind();
                			this.element
                				.removeClass('jstree')
                				.removeData('jstree')
                				.find("[class^='jstree']")
                					.addBack()
                					.attr("class", function () { return this.className.replace(/jstree[^ ]*|$/ig,''); });
                			this.element = null;
                		},
                		/**
                		 * bind all events. Used internally.
                		 * @private
                		 * @name bind()
                		 */
                		bind : function () {
                			this.element
                				.on("dblclick.jstree", function () {
                						if(document.selection && document.selection.empty) {
                							document.selection.empty();
                						}
                						else {
                							if(window.getSelection) {
                								var sel = window.getSelection();
                								try {
                									sel.removeAllRanges();
                									sel.collapse();
                								} catch (ignore) { }
                							}
                						}
                					})
                				.on("click.jstree", ".jstree-ocl", $.proxy(function (e) {
                						this.toggle_node(e.target);
                					}, this))
                				.on("click.jstree", ".jstree-anchor", $.proxy(function (e) {
                						e.preventDefault();
                						$(e.currentTarget).focus();
                						this.activate_node(e.currentTarget, e);
                					}, this))
                				.on('keydown.jstree', '.jstree-anchor', $.proxy(function (e) {
                						var o = null;
                						switch(e.which) {
                							case 13:
                							case 32:
                								e.type = "click";
                								$(e.currentTarget).trigger(e);
                								break;
                							case 37:
                								e.preventDefault();
                								if(this.is_open(e.currentTarget)) {
                									this.close_node(e.currentTarget);
                								}
                								else {
                									o = this.get_prev_dom(e.currentTarget);
                									if(o && o.length) { o.children('.jstree-anchor').focus(); }
                								}
                								break;
                							case 38:
                								e.preventDefault();
                								o = this.get_prev_dom(e.currentTarget);
                								if(o && o.length) { o.children('.jstree-anchor').focus(); }
                								break;
                							case 39:
                								e.preventDefault();
                								if(this.is_closed(e.currentTarget)) {
                									this.open_node(e.currentTarget, function (o) { this.get_node(o, true).children('.jstree-anchor').focus(); });
                								}
                								else {
                									o = this.get_next_dom(e.currentTarget);
                									if(o && o.length) { o.children('.jstree-anchor').focus(); }
                								}
                								break;
                							case 40:
                								e.preventDefault();
                								o = this.get_next_dom(e.currentTarget);
                								if(o && o.length) { o.children('.jstree-anchor').focus(); }
                								break;
                							// delete
                							case 46:
                								e.preventDefault();
                								o = this.get_node(e.currentTarget);
                								if(o && o.id && o.id !== '#') {
                									o = this.is_selected(o) ? this.get_selected() : o;
                									// this.delete_node(o);
                								}
                								break;
                							// f2
                							case 113:
                								e.preventDefault();
                								o = this.get_node(e.currentTarget);
                								/*!
                								if(o && o.id && o.id !== '#') {
                									// this.edit(o);
                								}
                								*/
                								break;
                							default:
                								// console.log(e.which);
                								break;
                						}
                					}, this))
                				.on("load_node.jstree", $.proxy(function (e, data) {
                						if(data.status) {
                							if(data.node.id === '#' && !this._data.core.loaded) {
                								this._data.core.loaded = true;
                								/**
                								 * triggered after the root node is loaded for the first time
                								 * @event
                								 * @name loaded.jstree
                								 */
                								this.trigger("loaded");
                							}
                							if(!this._data.core.ready && !this.get_container_ul().find('.jstree-loading:eq(0)').length) {
                								this._data.core.ready = true;
                								if(this._data.core.selected.length) {
                									if(this.settings.core.expand_selected_onload) {
                										var tmp = [], i, j;
                										for(i = 0, j = this._data.core.selected.length; i < j; i++) {
                											tmp = tmp.concat(this._model.data[this._data.core.selected[i]].parents);
                										}
                										tmp = $.vakata.array_unique(tmp);
                										for(i = 0, j = tmp.length; i < j; i++) {
                											this.open_node(tmp[i], false, 0);
                										}
                									}
                									this.trigger('changed', { 'action' : 'ready', 'selected' : this._data.core.selected });
                								}
                								/**
                								 * triggered after all nodes are finished loading
                								 * @event
                								 * @name ready.jstree
                								 */
                								setTimeout($.proxy(function () { this.trigger("ready"); }, this), 0);
                							}
                						}
                					}, this))
                				// THEME RELATED
                				.on("init.jstree", $.proxy(function () {
                						var s = this.settings.core.themes;
                						this._data.core.themes.dots			= s.dots;
                						this._data.core.themes.stripes		= s.stripes;
                						this._data.core.themes.icons		= s.icons;
                						this.set_theme(s.name || "default", s.url);
                						this.set_theme_variant(s.variant);
                					}, this))
                				.on("loading.jstree", $.proxy(function () {
                						this[ this._data.core.themes.dots ? "show_dots" : "hide_dots" ]();
                						this[ this._data.core.themes.icons ? "show_icons" : "hide_icons" ]();
                						this[ this._data.core.themes.stripes ? "show_stripes" : "hide_stripes" ]();
                					}, this))
                				.on('focus.jstree', '.jstree-anchor', $.proxy(function (e) {
                						this.element.find('.jstree-hovered').not(e.currentTarget).mouseleave();
                						$(e.currentTarget).mouseenter();
                					}, this))
                				.on('mouseenter.jstree', '.jstree-anchor', $.proxy(function (e) {
                						this.hover_node(e.currentTarget);
                					}, this))
                				.on('mouseleave.jstree', '.jstree-anchor', $.proxy(function (e) {
                						this.dehover_node(e.currentTarget);
                					}, this));
                		},
                		/**
                		 * part of the destroying of an instance. Used internally.
                		 * @private
                		 * @name unbind()
                		 */
                		unbind : function () {
                			this.element.off('.jstree');
                			$(document).off('.jstree-' + this._id);
                		},
                		/**
                		 * trigger an event. Used internally.
                		 * @private
                		 * @name trigger(ev [, data])
                		 * @param  {String} ev the name of the event to trigger
                		 * @param  {Object} data additional data to pass with the event
                		 */
                		trigger : function (ev, data) {
                			if(!data) {
                				data = {};
                			}
                			data.instance = this;
                			this.element.triggerHandler(ev.replace('.jstree','') + '.jstree', data);
                		},
                		/**
                		 * returns the jQuery extended instance container
                		 * @name get_container()
                		 * @return {jQuery}
                		 */
                		get_container : function () {
                			return this.element;
                		},
                		/**
                		 * returns the jQuery extended main UL node inside the instance container. Used internally.
                		 * @private
                		 * @name get_container_ul()
                		 * @return {jQuery}
                		 */
                		get_container_ul : function () {
                			return this.element.children("ul:eq(0)");
                		},
                		/**
                		 * gets string replacements (localization). Used internally.
                		 * @private
                		 * @name get_string(key)
                		 * @param  {String} key
                		 * @return {String}
                		 */
                		get_string : function (key) {
                			var a = this.settings.core.strings;
                			if($.isFunction(a)) { return a.call(this, key); }
                			if(a && a[key]) { return a[key]; }
                			return key;
                		},
                		/**
                		 * gets the first child of a DOM node. Used internally.
                		 * @private
                		 * @name _firstChild(dom)
                		 * @param  {DOMElement} dom
                		 * @return {DOMElement}
                		 */
                		_firstChild : function (dom) {
                			dom = dom ? dom.firstChild : null;
                			while(dom !== null && dom.nodeType !== 1) {
                				dom = dom.nextSibling;
                			}
                			return dom;
                		},
                		/**
                		 * gets the next sibling of a DOM node. Used internally.
                		 * @private
                		 * @name _nextSibling(dom)
                		 * @param  {DOMElement} dom
                		 * @return {DOMElement}
                		 */
                		_nextSibling : function (dom) {
                			dom = dom ? dom.nextSibling : null;
                			while(dom !== null && dom.nodeType !== 1) {
                				dom = dom.nextSibling;
                			}
                			return dom;
                		},
                		/**
                		 * gets the previous sibling of a DOM node. Used internally.
                		 * @private
                		 * @name _previousSibling(dom)
                		 * @param  {DOMElement} dom
                		 * @return {DOMElement}
                		 */
                		_previousSibling : function (dom) {
                			dom = dom ? dom.previousSibling : null;
                			while(dom !== null && dom.nodeType !== 1) {
                				dom = dom.previousSibling;
                			}
                			return dom;
                		},
                		/**
                		 * get the JSON representation of a node (or the actual jQuery extended DOM node) by using any input (child DOM element, ID string, selector, etc)
                		 * @name get_node(obj [, as_dom])
                		 * @param  {mixed} obj
                		 * @param  {Boolean} as_dom
                		 * @return {Object|jQuery}
                		 */
                		get_node : function (obj, as_dom) {
                			if(obj && obj.id) {
                				obj = obj.id;
                			}
                			var dom;
                			try {
                				if(this._model.data[obj]) {
                					obj = this._model.data[obj];
                				}
                				else if(((dom = $(obj, this.element)).length || (dom = $('#' + obj, this.element)).length) && this._model.data[dom.closest('li').attr('id')]) {
                					obj = this._model.data[dom.closest('li').attr('id')];
                				}
                				else if((dom = $(obj, this.element)).length && dom.hasClass('jstree')) {
                					obj = this._model.data['#'];
                				}
                				else {
                					return false;
                				}
                
                				if(as_dom) {
                					obj = obj.id === '#' ? this.element : $(document.getElementById(obj.id));
                				}
                				return obj;
                			} catch (ex) { return false; }
                		},
                		/**
                		 * get the path to a node, either consisting of node texts, or of node IDs, optionally glued together (otherwise an array)
                		 * @name get_path(obj [, glue, ids])
                		 * @param  {mixed} obj the node
                		 * @param  {String} glue if you want the path as a string - pass the glue here (for example '/'), if a falsy value is supplied here, an array is returned
                		 * @param  {Boolean} ids if set to true build the path using ID, otherwise node text is used
                		 * @return {mixed}
                		 */
                		get_path : function (obj, glue, ids) {
                			obj = obj.parents ? obj : this.get_node(obj);
                			if(!obj || obj.id === '#' || !obj.parents) {
                				return false;
                			}
                			var i, j, p = [];
                			p.push(ids ? obj.id : obj.text);
                			for(i = 0, j = obj.parents.length; i < j; i++) {
                				p.push(ids ? obj.parents[i] : this.get_text(obj.parents[i]));
                			}
                			p = p.reverse().slice(1);
                			return glue ? p.join(glue) : p;
                		},
                		/**
                		 * get the next visible node that is below the `obj` node. If `strict` is set to `true` only sibling nodes are returned.
                		 * @name get_next_dom(obj [, strict])
                		 * @param  {mixed} obj
                		 * @param  {Boolean} strict
                		 * @return {jQuery}
                		 */
                		get_next_dom : function (obj, strict) {
                			var tmp;
                			obj = this.get_node(obj, true);
                			if(obj[0] === this.element[0]) {
                				tmp = this._firstChild(this.get_container_ul()[0]);
                				return tmp ? $(tmp) : false;
                			}
                			if(!obj || !obj.length) {
                				return false;
                			}
                			if(strict) {
                				tmp = this._nextSibling(obj[0]);
                				return tmp ? $(tmp) : false;
                			}
                			if(obj.hasClass("jstree-open")) {
                				tmp = this._firstChild(obj.children('ul')[0]);
                				return tmp ? $(tmp) : false;
                			}
                			if((tmp = this._nextSibling(obj[0])) !== null) {
                				return $(tmp);
                			}
                			return obj.parentsUntil(".jstree","li").next("li").eq(0);
                		},
                		/**
                		 * get the previous visible node that is above the `obj` node. If `strict` is set to `true` only sibling nodes are returned.
                		 * @name get_prev_dom(obj [, strict])
                		 * @param  {mixed} obj
                		 * @param  {Boolean} strict
                		 * @return {jQuery}
                		 */
                		get_prev_dom : function (obj, strict) {
                			var tmp;
                			obj = this.get_node(obj, true);
                			if(obj[0] === this.element[0]) {
                				tmp = this.get_container_ul()[0].lastChild;
                				return tmp ? $(tmp) : false;
                			}
                			if(!obj || !obj.length) {
                				return false;
                			}
                			if(strict) {
                				tmp = this._previousSibling(obj[0]);
                				return tmp ? $(tmp) : false;
                			}
                			if((tmp = this._previousSibling(obj[0])) !== null) {
                				obj = $(tmp);
                				while(obj.hasClass("jstree-open")) {
                					obj = obj.children("ul:eq(0)").children("li:last");
                				}
                				return obj;
                			}
                			tmp = obj[0].parentNode.parentNode;
                			return tmp && tmp.tagName === 'LI' ? $(tmp) : false;
                		},
                		/**
                		 * get the parent ID of a node
                		 * @name get_parent(obj)
                		 * @param  {mixed} obj
                		 * @return {String}
                		 */
                		get_parent : function (obj) {
                			obj = this.get_node(obj);
                			if(!obj || obj.id === '#') {
                				return false;
                			}
                			return obj.parent;
                		},
                		/**
                		 * get a jQuery collection of all the children of a node (node must be rendered)
                		 * @name get_children_dom(obj)
                		 * @param  {mixed} obj
                		 * @return {jQuery}
                		 */
                		get_children_dom : function (obj) {
                			obj = this.get_node(obj, true);
                			if(obj[0] === this.element[0]) {
                				return this.get_container_ul().children("li");
                			}
                			if(!obj || !obj.length) {
                				return false;
                			}
                			return obj.children("ul").children("li");
                		},
                		/**
                		 * checks if a node has children
                		 * @name is_parent(obj)
                		 * @param  {mixed} obj
                		 * @return {Boolean}
                		 */
                		is_parent : function (obj) {
                			obj = this.get_node(obj);
                			return obj && (obj.state.loaded === false || obj.children.length > 0);
                		},
                		/**
                		 * checks if a node is loaded (its children are available)
                		 * @name is_loaded(obj)
                		 * @param  {mixed} obj
                		 * @return {Boolean}
                		 */
                		is_loaded : function (obj) {
                			obj = this.get_node(obj);
                			return obj && obj.state.loaded;
                		},
                		/**
                		 * check if a node is currently loading (fetching children)
                		 * @name is_loading(obj)
                		 * @param  {mixed} obj
                		 * @return {Boolean}
                		 */
                		is_loading : function (obj) {
                			obj = this.get_node(obj, true);
                			return obj && obj.hasClass("jstree-loading");
                		},
                		/**
                		 * check if a node is opened
                		 * @name is_open(obj)
                		 * @param  {mixed} obj
                		 * @return {Boolean}
                		 */
                		is_open : function (obj) {
                			obj = this.get_node(obj);
                			return obj && obj.state.opened;
                		},
                		/**
                		 * check if a node is in a closed state
                		 * @name is_closed(obj)
                		 * @param  {mixed} obj
                		 * @return {Boolean}
                		 */
                		is_closed : function (obj) {
                			obj = this.get_node(obj);
                			return obj && this.is_parent(obj) && !obj.state.opened;
                		},
                		/**
                		 * check if a node has no children
                		 * @name is_leaf(obj)
                		 * @param  {mixed} obj
                		 * @return {Boolean}
                		 */
                		is_leaf : function (obj) {
                			return !this.is_parent(obj);
                		},
                		/**
                		 * loads a node (fetches its children using the `core.data` setting). Multiple nodes can be passed to by using an array.
                		 * @name load_node(obj [, callback])
                		 * @param  {mixed} obj
                		 * @param  {function} callback a function to be executed once loading is conplete, the function is executed in the instance's scope and receives two arguments - the node and a boolean status
                		 * @return {Boolean}
                		 * @trigger load_node.jstree
                		 */
                		load_node : function (obj, callback) {
                			var t1, t2;
                			if($.isArray(obj)) {
                				obj = obj.slice();
                				for(t1 = 0, t2 = obj.length; t1 < t2; t1++) {
                					this.load_node(obj[t1], callback);
                				}
                				return true;
                			}
                			obj = this.get_node(obj);
                			if(!obj) {
                				callback.call(this, obj, false);
                				return false;
                			}
                			this.get_node(obj, true).addClass("jstree-loading");
                			this._load_node(obj, $.proxy(function (status) {
                				obj.state.loaded = status;
                				this.get_node(obj, true).removeClass("jstree-loading");
                				/**
                				 * triggered after a node is loaded
                				 * @event
                				 * @name load_node.jstree
                				 * @param {Object} node the node that was loading
                				 * @param {Boolean} status was the node loaded successfully
                				 */
                				this.trigger('load_node', { "node" : obj, "status" : status });
                				if(callback) {
                					callback.call(this, obj, status);
                				}
                			}, this));
                			return true;
                		},
                		/**
                		 * handles the actual loading of a node. Used only internally.
                		 * @private
                		 * @name _load_node(obj [, callback])
                		 * @param  {mixed} obj
                		 * @param  {function} callback a function to be executed once loading is conplete, the function is executed in the instance's scope and receives one argument - a boolean status
                		 * @return {Boolean}
                		 */
                		_load_node : function (obj, callback) {
                			var s = this.settings.core.data, t;
                			// use original HTML
                			if(!s) {
                				return callback.call(this, obj.id === '#' ? this._append_html_data(obj, this._data.core.original_container_html.clone(true)) : false);
                			}
                			if($.isFunction(s)) {
                				return s.call(this, obj, $.proxy(function (d) {
                					return d === false ? callback.call(this, false) : callback.call(this, this[typeof d === 'string' ? '_append_html_data' : '_append_json_data'](obj, typeof d === 'string' ? $(d) : d));
                				}, this));
                			}
                			if(typeof s === 'object') {
                				if(s.url) {
                					s = $.extend(true, {}, s);
                					if($.isFunction(s.url)) {
                						s.url = s.url.call(this, obj);
                					}
                					if($.isFunction(s.data)) {
                						s.data = s.data.call(this, obj);
                					}
                					return $.ajax(s)
                						.done($.proxy(function (d,t,x) {
                								var type = x.getResponseHeader('Content-Type');
                								if(type.indexOf('json') !== -1) {
                									return callback.call(this, this._append_json_data(obj, d));
                								}
                								if(type.indexOf('html') !== -1) {
                									return callback.call(this, this._append_html_data(obj, $(d)));
                								}
                							}, this))
                						.fail($.proxy(function () {
                								callback.call(this, false);
                								this._data.core.last_error = { 'error' : 'ajax', 'plugin' : 'core', 'id' : 'core_04', 'reason' : 'Could not load node', 'data' : JSON.stringify(s) };
                								this.settings.core.error.call(this, this._data.core.last_error);
                							}, this));
                				}
                				t = ($.isArray(s) || $.isPlainObject(s)) ? JSON.parse(JSON.stringify(s)) : s;
                				return callback.call(this, this._append_json_data(obj, t));
                			}
                			if(typeof s === 'string') {
                				return callback.call(this, this._append_html_data(obj, s));
                			}
                			return callback.call(this, false);
                		},
                		/**
                		 * adds a node to the list of nodes to redraw. Used only internally.
                		 * @private
                		 * @name _node_changed(obj [, callback])
                		 * @param  {mixed} obj
                		 */
                		_node_changed : function (obj) {
                			obj = this.get_node(obj);
                			if(obj) {
                				this._model.changed.push(obj.id);
                			}
                		},
                		/**
                		 * appends HTML content to the tree. Used internally.
                		 * @private
                		 * @name _append_html_data(obj, data)
                		 * @param  {mixed} obj the node to append to
                		 * @param  {String} data the HTML string to parse and append
                		 * @return {Boolean}
                		 * @trigger model.jstree, changed.jstree
                		 */
                		_append_html_data : function (dom, data) {
                			dom = this.get_node(dom);
                			dom.children = [];
                			dom.children_d = [];
                			var dat = data.is('ul') ? data.children() : data,
                				par = dom.id,
                				chd = [],
                				dpc = [],
                				m = this._model.data,
                				p = m[par],
                				s = this._data.core.selected.length,
                				tmp, i, j;
                			dat.each($.proxy(function (i, v) {
                				tmp = this._parse_model_from_html($(v), par, p.parents.concat());
                				if(tmp) {
                					chd.push(tmp);
                					dpc.push(tmp);
                					if(m[tmp].children_d.length) {
                						dpc = dpc.concat(m[tmp].children_d);
                					}
                				}
                			}, this));
                			p.children = chd;
                			p.children_d = dpc;
                			for(i = 0, j = p.parents.length; i < j; i++) {
                				m[p.parents[i]].children_d = m[p.parents[i]].children_d.concat(dpc);
                			}
                			/**
                			 * triggered when new data is inserted to the tree model
                			 * @event
                			 * @name model.jstree
                			 * @param {Array} nodes an array of node IDs
                			 * @param {String} parent the parent ID of the nodes
                			 */
                			this.trigger('model', { "nodes" : dpc, 'parent' : par });
                			if(par !== '#') {
                				this._node_changed(par);
                				this.redraw();
                			}
                			else {
                				this.get_container_ul().children('.jstree-initial-node').remove();
                				this.redraw(true);
                			}
                			if(this._data.core.selected.length !== s) {
                				this.trigger('changed', { 'action' : 'model', 'selected' : this._data.core.selected });
                			}
                			return true;
                		},
                		/**
                		 * appends JSON content to the tree. Used internally.
                		 * @private
                		 * @name _append_json_data(obj, data)
                		 * @param  {mixed} obj the node to append to
                		 * @param  {String} data the JSON object to parse and append
                		 * @return {Boolean}
                		 */
                		_append_json_data : function (dom, data) {
                			dom = this.get_node(dom);
                			dom.children = [];
                			dom.children_d = [];
                			var dat = data,
                				par = dom.id,
                				chd = [],
                				dpc = [],
                				m = this._model.data,
                				p = m[par],
                				s = this._data.core.selected.length,
                				tmp, i, j;
                			// *%$@!!!
                			if(dat.d) {
                				dat = dat.d;
                				if(typeof dat === "string") {
                					dat = JSON.parse(dat);
                				}
                			}
                			if(!$.isArray(dat)) { dat = [dat]; }
                			if(dat.length && dat[0].id !== undefined && dat[0].parent !== undefined) {
                				// Flat JSON support (for easy import from DB):
                				// 1) convert to object (foreach)
                				for(i = 0, j = dat.length; i < j; i++) {
                					if(!dat[i].children) {
                						dat[i].children = [];
                					}
                					m[dat[i].id] = dat[i];
                				}
                				// 2) populate children (foreach)
                				for(i = 0, j = dat.length; i < j; i++) {
                					m[dat[i].parent].children.push(dat[i].id);
                					// populate parent.children_d
                					p.children_d.push(dat[i].id);
                				}
                				// 3) normalize && populate parents and children_d with recursion
                				for(i = 0, j = p.children.length; i < j; i++) {
                					tmp = this._parse_model_from_flat_json(m[p.children[i]], par, p.parents.concat());
                					dpc.push(tmp);
                					if(m[tmp].children_d.length) {
                						dpc = dpc.concat(m[tmp].children_d);
                					}
                				}
                				// ?) three_state selection - p.state.selected && t - (if three_state foreach(dat => ch) -> foreach(parents) if(parent.selected) child.selected = true;
                			}
                			else {
                				for(i = 0, j = dat.length; i < j; i++) {
                					tmp = this._parse_model_from_json(dat[i], par, p.parents.concat());
                					if(tmp) {
                						chd.push(tmp);
                						dpc.push(tmp);
                						if(m[tmp].children_d.length) {
                							dpc = dpc.concat(m[tmp].children_d);
                						}
                					}
                				}
                				p.children = chd;
                				p.children_d = dpc;
                				for(i = 0, j = p.parents.length; i < j; i++) {
                					m[p.parents[i]].children_d = m[p.parents[i]].children_d.concat(dpc);
                				}
                			}
                			this.trigger('model', { "nodes" : dpc, 'parent' : par });
                
                			if(par !== '#') {
                				this._node_changed(par);
                				this.redraw();
                			}
                			else {
                				// this.get_container_ul().children('.jstree-initial-node').remove();
                				this.redraw(true);
                			}
                			if(this._data.core.selected.length !== s) {
                				this.trigger('changed', { 'action' : 'model', 'selected' : this._data.core.selected });
                			}
                			return true;
                		},
                		/**
                		 * parses a node from a jQuery object and appends them to the in memory tree model. Used internally.
                		 * @private
                		 * @name _parse_model_from_html(d [, p, ps])
                		 * @param  {jQuery} d the jQuery object to parse
                		 * @param  {String} p the parent ID
                		 * @param  {Array} ps list of all parents
                		 * @return {String} the ID of the object added to the model
                		 */
                		_parse_model_from_html : function (d, p, ps) {
                			if(!ps) { ps = []; }
                			else { ps = [].concat(ps); }
                			if(p) { ps.unshift(p); }
                			var c, e, m = this._model.data,
                				data = {
                					id			: false,
                					text		: false,
                					icon		: true,
                					parent		: p,
                					parents		: ps,
                					children	: [],
                					children_d	: [],
                					data		: null,
                					state		: { },
                					li_attr		: { id : false },
                					a_attr		: { href : '#' },
                					original	: false
                				}, i, tmp, tid;
                			for(i in this._model.default_state) {
                				if(this._model.default_state.hasOwnProperty(i)) {
                					data.state[i] = this._model.default_state[i];
                				}
                			}
                			tmp = $.vakata.attributes(d, true);
                			$.each(tmp, function (i, v) {
                				v = $.trim(v);
                				if(!v.length) { return true; }
                				data.li_attr[i] = v;
                				if(i === 'id') {
                					data.id = v;
                				}
                			});
                			tmp = d.children('a').eq(0);
                			if(tmp.length) {
                				tmp = $.vakata.attributes(tmp, true);
                				$.each(tmp, function (i, v) {
                					v = $.trim(v);
                					if(v.length) {
                						data.a_attr[i] = v;
                					}
                				});
                			}
                			tmp = d.children("a:eq(0)").length ? d.children("a:eq(0)").clone() : d.clone();
                			tmp.children("ins, i, ul").remove();
                			tmp = tmp.html();
                			tmp = $('<div />').html(tmp);
                			data.text = tmp.html();
                			tmp = d.data();
                			data.data = tmp ? $.extend(true, {}, tmp) : null;
                			data.state.opened = d.hasClass('jstree-open');
                			data.state.selected = d.children('a').hasClass('jstree-clicked');
                			data.state.disabled = d.children('a').hasClass('jstree-disabled');
                			if(data.data && data.data.jstree) {
                				for(i in data.data.jstree) {
                					if(data.data.jstree.hasOwnProperty(i)) {
                						data.state[i] = data.data.jstree[i];
                					}
                				}
                			}
                			tmp = d.children("a").children(".jstree-themeicon");
                			if(tmp.length) {
                				data.icon = tmp.hasClass('jstree-themeicon-hidden') ? false : tmp.attr('rel');
                			}
                			if(data.state.icon) {
                				data.icon = data.state.icon;
                			}
                			tmp = d.children("ul").children("li");
                			do {
                				tid = 'j' + this._id + '_' + (++this._cnt);
                			} while(m[tid]);
                			data.id = data.li_attr.id || tid;
                			if(tmp.length) {
                				tmp.each($.proxy(function (i, v) {
                					c = this._parse_model_from_html($(v), data.id, ps);
                					e = this._model.data[c];
                					data.children.push(c);
                					if(e.children_d.length) {
                						data.children_d = data.children_d.concat(e.children_d);
                					}
                				}, this));
                				data.children_d = data.children_d.concat(data.children);
                			}
                			else {
                				if(d.hasClass('jstree-closed')) {
                					data.state.loaded = false;
                				}
                			}
                			if(data.li_attr['class']) {
                				data.li_attr['class'] = data.li_attr['class'].replace('jstree-closed','').replace('jstree-open','');
                			}
                			if(data.a_attr['class']) {
                				data.a_attr['class'] = data.a_attr['class'].replace('jstree-clicked','').replace('jstree-disabled','');
                			}
                			m[data.id] = data;
                			if(data.state.selected) {
                				this._data.core.selected.push(data.id);
                			}
                			return data.id;
                		},
                		/**
                		 * parses a node from a JSON object (used when dealing with flat data, which has no nesting of children, but has id and parent properties) and appends it to the in memory tree model. Used internally.
                		 * @private
                		 * @name _parse_model_from_flat_json(d [, p, ps])
                		 * @param  {Object} d the JSON object to parse
                		 * @param  {String} p the parent ID
                		 * @param  {Array} ps list of all parents
                		 * @return {String} the ID of the object added to the model
                		 */
                		_parse_model_from_flat_json : function (d, p, ps) {
                			if(!ps) { ps = []; }
                			else { ps = ps.concat(); }
                			if(p) { ps.unshift(p); }
                			var tid = d.id,
                				m = this._model.data,
                				df = this._model.default_state,
                				i, j, c, e,
                				tmp = {
                					id			: tid,
                					text		: d.text || '',
                					icon		: d.icon !== undefined ? d.icon : true,
                					parent		: p,
                					parents		: ps,
                					children	: d.children || [],
                					children_d	: d.children_d || [],
                					data		: d.data,
                					state		: { },
                					li_attr		: { id : false },
                					a_attr		: { href : '#' },
                					original	: false
                				};
                			for(i in df) {
                				if(df.hasOwnProperty(i)) {
                					tmp.state[i] = df[i];
                				}
                			}
                			if(d && d.data && d.data.jstree && d.data.jstree.icon) {
                				tmp.icon = d.data.jstree.icon;
                			}
                			if(d && d.data) {
                				tmp.data = d.data;
                				if(d.data.jstree) {
                					for(i in d.data.jstree) {
                						if(d.data.jstree.hasOwnProperty(i)) {
                							tmp.state[i] = d.data.jstree[i];
                						}
                					}
                				}
                			}
                			if(d && typeof d.state === 'object') {
                				for (i in d.state) {
                					if(d.state.hasOwnProperty(i)) {
                						tmp.state[i] = d.state[i];
                					}
                				}
                			}
                			if(d && typeof d.li_attr === 'object') {
                				for (i in d.li_attr) {
                					if(d.li_attr.hasOwnProperty(i)) {
                						tmp.li_attr[i] = d.li_attr[i];
                					}
                				}
                			}
                			if(!tmp.li_attr.id) {
                				tmp.li_attr.id = tid;
                			}
                			if(d && typeof d.a_attr === 'object') {
                				for (i in d.a_attr) {
                					if(d.a_attr.hasOwnProperty(i)) {
                						tmp.a_attr[i] = d.a_attr[i];
                					}
                				}
                			}
                			if(d && d.children && d.children === true) {
                				tmp.state.loaded = false;
                				tmp.children = [];
                				tmp.children_d = [];
                			}
                			m[tmp.id] = tmp;
                			for(i = 0, j = tmp.children.length; i < j; i++) {
                				c = this._parse_model_from_flat_json(m[tmp.children[i]], tmp.id, ps);
                				e = m[c];
                				tmp.children_d.push(c);
                				if(e.children_d.length) {
                					tmp.children_d = tmp.children_d.concat(e.children_d);
                				}
                			}
                			delete d.data;
                			delete d.children;
                			m[tmp.id].original = d;
                			if(tmp.state.selected) {
                				this._data.core.selected.push(tmp.id);
                			}
                			return tmp.id;
                		},
                		/**
                		 * parses a node from a JSON object and appends it to the in memory tree model. Used internally.
                		 * @private
                		 * @name _parse_model_from_json(d [, p, ps])
                		 * @param  {Object} d the JSON object to parse
                		 * @param  {String} p the parent ID
                		 * @param  {Array} ps list of all parents
                		 * @return {String} the ID of the object added to the model
                		 */
                		_parse_model_from_json : function (d, p, ps) {
                			if(!ps) { ps = []; }
                			else { ps = ps.concat(); }
                			if(p) { ps.unshift(p); }
                			var tid = false, i, j, c, e, m = this._model.data, df = this._model.default_state, tmp;
                			do {
                				tid = 'j' + this._id + '_' + (++this._cnt);
                			} while(m[tid]);
                
                			tmp = {
                				id			: false,
                				text		: typeof d === 'string' ? d : '',
                				icon		: typeof d === 'object' && d.icon !== undefined ? d.icon : true,
                				parent		: p,
                				parents		: ps,
                				children	: [],
                				children_d	: [],
                				data		: null,
                				state		: { },
                				li_attr		: { id : false },
                				a_attr		: { href : '#' },
                				original	: false
                			};
                			for(i in df) {
                				if(df.hasOwnProperty(i)) {
                					tmp.state[i] = df[i];
                				}
                			}
                			if(d && d.id) { tmp.id = d.id; }
                			if(d && d.text) { tmp.text = d.text; }
                			if(d && d.data && d.data.jstree && d.data.jstree.icon) {
                				tmp.icon = d.data.jstree.icon;
                			}
                			if(d && d.data) {
                				tmp.data = d.data;
                				if(d.data.jstree) {
                					for(i in d.data.jstree) {
                						if(d.data.jstree.hasOwnProperty(i)) {
                							tmp.state[i] = d.data.jstree[i];
                						}
                					}
                				}
                			}
                			if(d && typeof d.state === 'object') {
                				for (i in d.state) {
                					if(d.state.hasOwnProperty(i)) {
                						tmp.state[i] = d.state[i];
                					}
                				}
                			}
                			if(d && typeof d.li_attr === 'object') {
                				for (i in d.li_attr) {
                					if(d.li_attr.hasOwnProperty(i)) {
                						tmp.li_attr[i] = d.li_attr[i];
                					}
                				}
                			}
                			if(tmp.li_attr.id && !tmp.id) {
                				tmp.id = tmp.li_attr.id;
                			}
                			if(!tmp.id) {
                				tmp.id = tid;
                			}
                			if(!tmp.li_attr.id) {
                				tmp.li_attr.id = tmp.id;
                			}
                			if(d && typeof d.a_attr === 'object') {
                				for (i in d.a_attr) {
                					if(d.a_attr.hasOwnProperty(i)) {
                						tmp.a_attr[i] = d.a_attr[i];
                					}
                				}
                			}
                			if(d && d.children && d.children.length) {
                				for(i = 0, j = d.children.length; i < j; i++) {
                					c = this._parse_model_from_json(d.children[i], tmp.id, ps);
                					e = m[c];
                					tmp.children.push(c);
                					if(e.children_d.length) {
                						tmp.children_d = tmp.children_d.concat(e.children_d);
                					}
                				}
                				tmp.children_d = tmp.children_d.concat(tmp.children);
                			}
                			if(d && d.children && d.children === true) {
                				tmp.state.loaded = false;
                				tmp.children = [];
                				tmp.children_d = [];
                			}
                			delete d.data;
                			delete d.children;
                			tmp.original = d;
                			m[tmp.id] = tmp;
                			if(tmp.state.selected) {
                				this._data.core.selected.push(tmp.id);
                			}
                			return tmp.id;
                		},
                		/**
                		 * redraws all nodes that need to be redrawn. Used internally.
                		 * @private
                		 * @name _redraw()
                		 * @trigger redraw.jstree
                		 */
                		_redraw : function () {
                			var nodes = this._model.force_full_redraw ? this._model.data['#'].children.concat([]) : this._model.changed.concat([]),
                				f = document.createElement('UL'), tmp, i, j;
                			for(i = 0, j = nodes.length; i < j; i++) {
                				tmp = this.redraw_node(nodes[i], true, this._model.force_full_redraw);
                				if(tmp && this._model.force_full_redraw) {
                					f.appendChild(tmp);
                				}
                			}
                			if(this._model.force_full_redraw) {
                				f.className = this.get_container_ul()[0].className;
                				this.element.empty().append(f);
                				//this.get_container_ul()[0].appendChild(f);
                			}
                			this._model.force_full_redraw = false;
                			this._model.changed = [];
                			/**
                			 * triggered after nodes are redrawn
                			 * @event
                			 * @name redraw.jstree
                			 * @param {array} nodes the redrawn nodes
                			 */
                			this.trigger('redraw', { "nodes" : nodes });
                		},
                		/**
                		 * redraws all nodes that need to be redrawn or optionally - the whole tree
                		 * @name redraw([full])
                		 * @param {Boolean} full if set to `true` all nodes are redrawn.
                		 */
                		redraw : function (full) {
                			if(full) {
                				this._model.force_full_redraw = true;
                			}
                			//if(this._model.redraw_timeout) {
                			//	clearTimeout(this._model.redraw_timeout);
                			//}
                			//this._model.redraw_timeout = setTimeout($.proxy(this._redraw, this),0);
                			this._redraw();
                		},
                		/**
                		 * redraws a single node. Used internally.
                		 * @private
                		 * @name redraw_node(node, deep, is_callback)
                		 * @param {mixed} node the node to redraw
                		 * @param {Boolean} deep should child nodes be redrawn too
                		 * @param {Boolean} is_callback is this a recursion call
                		 */
                		redraw_node : function (node, deep, is_callback) {
                			var obj = this.get_node(node),
                				par = false,
                				ind = false,
                				old = false,
                				i = false,
                				j = false,
                				k = false,
                				c = '',
                				d = document,
                				m = this._model.data,
                				f = false,
                				s = false;
                			if(!obj) { return false; }
                			if(obj.id === '#') {  return this.redraw(true); }
                			deep = deep || obj.children.length === 0;
                			node = d.getElementById(obj.id); //, this.element);
                			if(!node) {
                				deep = true;
                				//node = d.createElement('LI');
                				if(!is_callback) {
                					par = obj.parent !== '#' ? $('#' + obj.parent, this.element)[0] : null;
                					if(par !== null && (!par || !m[obj.parent].state.opened)) {
                						return false;
                					}
                					ind = $.inArray(obj.id, par === null ? m['#'].children : m[obj.parent].children);
                				}
                			}
                			else {
                				node = $(node);
                				if(!is_callback) {
                					par = node.parent().parent()[0];
                					if(par === this.element[0]) {
                						par = null;
                					}
                					ind = node.index();
                				}
                				// m[obj.id].data = node.data(); // use only node's data, no need to touch jquery storage
                				if(!deep && obj.children.length && !node.children('ul').length) {
                					deep = true;
                				}
                				if(!deep) {
                					old = node.children('UL')[0];
                				}
                				s = node.attr('aria-selected');
                				f = node.children('.jstree-anchor')[0] === document.activeElement;
                				node.remove();
                				//node = d.createElement('LI');
                				//node = node[0];
                			}
                			node = _node.cloneNode(true);
                			// node is DOM, deep is boolean
                
                			c = 'jstree-node ';
                			for(i in obj.li_attr) {
                				if(obj.li_attr.hasOwnProperty(i)) {
                					if(i === 'id') { continue; }
                					if(i !== 'class') {
                						node.setAttribute(i, obj.li_attr[i]);
                					}
                					else {
                						c += obj.li_attr[i];
                					}
                				}
                			}
                			if(s && s !== "false") {
                				node.setAttribute('aria-selected', true);
                			}
                			if(!obj.children.length && obj.state.loaded) {
                				c += ' jstree-leaf';
                			}
                			else {
                				c += obj.state.opened ? ' jstree-open' : ' jstree-closed';
                				node.setAttribute('aria-expanded', obj.state.opened);
                			}
                			if(obj.parent !== null && m[obj.parent].children[m[obj.parent].children.length - 1] === obj.id) {
                				c += ' jstree-last';
                			}
                			node.id = obj.id;
                			node.className = c;
                			c = ( obj.state.selected ? ' jstree-clicked' : '') + ( obj.state.disabled ? ' jstree-disabled' : '');
                			for(j in obj.a_attr) {
                				if(obj.a_attr.hasOwnProperty(j)) {
                					if(j === 'href' && obj.a_attr[j] === '#') { continue; }
                					if(j !== 'class') {
                						node.childNodes[1].setAttribute(j, obj.a_attr[j]);
                					}
                					else {
                						c += ' ' + obj.a_attr[j];
                					}
                				}
                			}
                			if(c.length) {
                				node.childNodes[1].className = 'jstree-anchor ' + c;
                			}
                			if((obj.icon && obj.icon !== true) || obj.icon === false) {
                				if(obj.icon === false) {
                					node.childNodes[1].childNodes[0].className += ' jstree-themeicon-hidden';
                				}
                				else if(obj.icon.indexOf('/') === -1 && obj.icon.indexOf('.') === -1) {
                					node.childNodes[1].childNodes[0].className += ' ' + obj.icon + ' jstree-themeicon-custom';
                				}
                				else {
                					node.childNodes[1].childNodes[0].style.backgroundImage = 'url('+obj.icon+')';
                					node.childNodes[1].childNodes[0].style.backgroundPosition = 'center center';
                					node.childNodes[1].childNodes[0].style.backgroundSize = 'auto';
                					node.childNodes[1].childNodes[0].className += ' jstree-themeicon-custom';
                				}
                			}
                			//node.childNodes[1].appendChild(d.createTextNode(obj.text));
                			node.childNodes[1].innerHTML += obj.text;
                			// if(obj.data) { $.data(node, obj.data); } // always work with node's data, no need to touch jquery store
                
                			if(deep && obj.children.length && obj.state.opened) {
                				k = d.createElement('UL');
                				k.setAttribute('role', 'group');
                				k.className = 'jstree-children';
                				for(i = 0, j = obj.children.length; i < j; i++) {
                					k.appendChild(this.redraw_node(obj.children[i], deep, true));
                				}
                				node.appendChild(k);
                			}
                			if(old) {
                				node.appendChild(old);
                			}
                			if(!is_callback) {
                				// append back using par / ind
                				if(!par) {
                					par = this.element[0];
                				}
                				if(!par.getElementsByTagName('UL').length) {
                					i = d.createElement('UL');
                					i.setAttribute('role', 'group');
                					i.className = 'jstree-children';
                					par.appendChild(i);
                					par = i;
                				}
                				else {
                					par = par.getElementsByTagName('UL')[0];
                				}
                
                				if(ind < par.childNodes.length) {
                					par.insertBefore(node, par.childNodes[ind]);
                				}
                				else {
                					par.appendChild(node);
                				}
                				if(f) {
                					node.childNodes[1].focus();
                				}
                			}
                			return node;
                		},
                		/**
                		 * opens a node, revaling its children. If the node is not loaded it will be loaded and opened once ready.
                		 * @name open_node(obj [, callback, animation])
                		 * @param {mixed} obj the node to open
                		 * @param {Function} callback a function to execute once the node is opened
                		 * @param {Number} animation the animation duration in milliseconds when opening the node (overrides the `core.animation` setting). Use `false` for no animation.
                		 * @trigger open_node.jstree, after_open.jstree
                		 */
                		open_node : function (obj, callback, animation) {
                			var t1, t2, d, t;
                			if($.isArray(obj)) {
                				obj = obj.slice();
                				for(t1 = 0, t2 = obj.length; t1 < t2; t1++) {
                					this.open_node(obj[t1], callback, animation);
                				}
                				return true;
                			}
                			obj = this.get_node(obj);
                			if(!obj || obj.id === '#') {
                				return false;
                			}
                			animation = animation === undefined ? this.settings.core.animation : animation;
                			if(!this.is_closed(obj)) {
                				if(callback) {
                					callback.call(this, obj, false);
                				}
                				return false;
                			}
                			if(!this.is_loaded(obj)) {
                				if(this.is_loading(obj)) {
                					return setTimeout($.proxy(function () {
                						this.open_node(obj, callback, animation);
                					}, this), 500);
                				}
                				this.load_node(obj, function (o, ok) {
                					return ok ? this.open_node(o, callback, animation) : (callback ? callback.call(this, o, false) : false);
                				});
                			}
                			else {
                				d = this.get_node(obj, true);
                				t = this;
                				if(d.length) {
                					if(obj.children.length && !this._firstChild(d.children('ul')[0])) {
                						obj.state.opened = true;
                						this.redraw_node(obj, true);
                						d = this.get_node(obj, true);
                					}
                					if(!animation) {
                						d[0].className = d[0].className.replace('jstree-closed', 'jstree-open');
                						d[0].setAttribute("aria-expanded", true);
                					}
                					else {
                						d
                							.children("ul").css("display","none").end()
                							.removeClass("jstree-closed").addClass("jstree-open").attr("aria-expanded", true)
                							.children("ul").stop(true, true)
                								.slideDown(animation, function () {
                									this.style.display = "";
                									t.trigger("after_open", { "node" : obj });
                								});
                					}
                				}
                				obj.state.opened = true;
                				if(callback) {
                					callback.call(this, obj, true);
                				}
                				/**
                				 * triggered when a node is opened (if there is an animation it will not be completed yet)
                				 * @event
                				 * @name open_node.jstree
                				 * @param {Object} node the opened node
                				 */
                				this.trigger('open_node', { "node" : obj });
                				if(!animation || !d.length) {
                					/**
                					 * triggered when a node is opened and the animation is complete
                					 * @event
                					 * @name after_open.jstree
                					 * @param {Object} node the opened node
                					 */
                					this.trigger("after_open", { "node" : obj });
                				}
                			}
                		},
                		/**
                		 * opens every parent of a node (node should be loaded)
                		 * @name _open_to(obj)
                		 * @param {mixed} obj the node to reveal
                		 * @private
                		 */
                		_open_to : function (obj) {
                			obj = this.get_node(obj);
                			if(!obj || obj.id === '#') {
                				return false;
                			}
                			var i, j, p = obj.parents;
                			for(i = 0, j = p.length; i < j; i+=1) {
                				if(i !== '#') {
                					this.open_node(p[i], false, 0);
                				}
                			}
                			return $(document.getElementById(obj.id));
                		},
                		/**
                		 * closes a node, hiding its children
                		 * @name close_node(obj [, animation])
                		 * @param {mixed} obj the node to close
                		 * @param {Number} animation the animation duration in milliseconds when closing the node (overrides the `core.animation` setting). Use `false` for no animation.
                		 * @trigger close_node.jstree, after_close.jstree
                		 */
                		close_node : function (obj, animation) {
                			var t1, t2, t, d;
                			if($.isArray(obj)) {
                				obj = obj.slice();
                				for(t1 = 0, t2 = obj.length; t1 < t2; t1++) {
                					this.close_node(obj[t1], animation);
                				}
                				return true;
                			}
                			obj = this.get_node(obj);
                			if(!obj || obj.id === '#') {
                				return false;
                			}
                			animation = animation === undefined ? this.settings.core.animation : animation;
                			t = this;
                			d = this.get_node(obj, true);
                			if(d.length) {
                				if(!animation) {
                					d[0].className = d[0].className.replace('jstree-open', 'jstree-closed');
                					d.attr("aria-expanded", false).children('ul').remove();
                				}
                				else {
                					d
                						.children("ul").attr("style","display:block !important").end()
                						.removeClass("jstree-open").addClass("jstree-closed").attr("aria-expanded", false)
                						.children("ul").stop(true, true).slideUp(animation, function () {
                							this.style.display = "";
                							d.children('ul').remove();
                							t.trigger("after_close", { "node" : obj });
                						});
                				}
                			}
                			obj.state.opened = false;
                			/**
                			 * triggered when a node is closed (if there is an animation it will not be complete yet)
                			 * @event
                			 * @name close_node.jstree
                			 * @param {Object} node the closed node
                			 */
                			this.trigger('close_node',{ "node" : obj });
                			if(!animation || !d.length) {
                				/**
                				 * triggered when a node is closed and the animation is complete
                				 * @event
                				 * @name after_close.jstree
                				 * @param {Object} node the closed node
                				 */
                				this.trigger("after_close", { "node" : obj });
                			}
                		},
                		/**
                		 * toggles a node - closing it if it is open, opening it if it is closed
                		 * @name toggle_node(obj)
                		 * @param {mixed} obj the node to toggle
                		 */
                		toggle_node : function (obj) {
                			var t1, t2;
                			if($.isArray(obj)) {
                				obj = obj.slice();
                				for(t1 = 0, t2 = obj.length; t1 < t2; t1++) {
                					this.toggle_node(obj[t1]);
                				}
                				return true;
                			}
                			if(this.is_closed(obj)) {
                				return this.open_node(obj);
                			}
                			if(this.is_open(obj)) {
                				return this.close_node(obj);
                			}
                		},
                		/**
                		 * opens all nodes within a node (or the tree), revaling their children. If the node is not loaded it will be loaded and opened once ready.
                		 * @name open_all([obj, animation, original_obj])
                		 * @param {mixed} obj the node to open recursively, omit to open all nodes in the tree
                		 * @param {Number} animation the animation duration in milliseconds when opening the nodes, the default is no animation
                		 * @param {jQuery} reference to the node that started the process (internal use)
                		 * @trigger open_all.jstree
                		 */
                		open_all : function (obj, animation, original_obj) {
                			if(!obj) { obj = '#'; }
                			obj = this.get_node(obj);
                			if(!obj) { return false; }
                			var dom = obj.id === '#' ? this.get_container_ul() : this.get_node(obj, true), i, j, _this;
                			if(!dom.length) {
                				for(i = 0, j = obj.children_d.length; i < j; i++) {
                					if(this.is_closed(this._model.data[obj.children_d[i]])) {
                						this._model.data[obj.children_d[i]].state.opened = true;
                					}
                				}
                				return this.trigger('open_all', { "node" : obj });
                			}
                			original_obj = original_obj || dom;
                			_this = this;
                			dom = this.is_closed(obj) ? dom.find('li.jstree-closed').addBack() : dom.find('li.jstree-closed');
                			dom.each(function () {
                				_this.open_node(
                					this,
                					function(node, status) { if(status && this.is_parent(node)) { this.open_all(node, animation, original_obj); } },
                					animation || 0
                				);
                			});
                			if(original_obj.find('li.jstree-closed').length === 0) {
                				/**
                				 * triggered when an `open_all` call completes
                				 * @event
                				 * @name open_all.jstree
                				 * @param {Object} node the opened node
                				 */
                				this.trigger('open_all', { "node" : this.get_node(original_obj) });
                			}
                		},
                		/**
                		 * closes all nodes within a node (or the tree), revaling their children
                		 * @name close_all([obj, animation])
                		 * @param {mixed} obj the node to close recursively, omit to close all nodes in the tree
                		 * @param {Number} animation the animation duration in milliseconds when closing the nodes, the default is no animation
                		 * @trigger close_all.jstree
                		 */
                		close_all : function (obj, animation) {
                			if(!obj) { obj = '#'; }
                			obj = this.get_node(obj);
                			if(!obj) { return false; }
                			var dom = obj.id === '#' ? this.get_container_ul() : this.get_node(obj, true),
                				_this = this, i, j;
                			if(!dom.length) {
                				for(i = 0, j = obj.children_d.length; i < j; i++) {
                					this._model.data[obj.children_d[i]].state.opened = false;
                				}
                				return this.trigger('close_all', { "node" : obj });
                			}
                			dom = this.is_open(obj) ? dom.find('li.jstree-open').addBack() : dom.find('li.jstree-open');
                			dom.vakata_reverse().each(function () { _this.close_node(this, animation || 0); });
                			/**
                			 * triggered when an `close_all` call completes
                			 * @event
                			 * @name close_all.jstree
                			 * @param {Object} node the closed node
                			 */
                			this.trigger('close_all', { "node" : obj });
                		},
                		/**
                		 * checks if a node is disabled (not selectable)
                		 * @name is_disabled(obj)
                		 * @param  {mixed} obj
                		 * @return {Boolean}
                		 */
                		is_disabled : function (obj) {
                			obj = this.get_node(obj);
                			return obj && obj.state && obj.state.disabled;
                		},
                		/**
                		 * enables a node - so that it can be selected
                		 * @name enable_node(obj)
                		 * @param {mixed} obj the node to enable
                		 * @trigger enable_node.jstree
                		 */
                		enable_node : function (obj) {
                			var t1, t2;
                			if($.isArray(obj)) {
                				obj = obj.slice();
                				for(t1 = 0, t2 = obj.length; t1 < t2; t1++) {
                					this.enable_node(obj[t1]);
                				}
                				return true;
                			}
                			obj = this.get_node(obj);
                			if(!obj || obj.id === '#') {
                				return false;
                			}
                			obj.state.disabled = false;
                			this.get_node(obj,true).children('.jstree-anchor').removeClass('jstree-disabled');
                			/**
                			 * triggered when an node is enabled
                			 * @event
                			 * @name enable_node.jstree
                			 * @param {Object} node the enabled node
                			 */
                			this.trigger('enable_node', { 'node' : obj });
                		},
                		/**
                		 * disables a node - so that it can not be selected
                		 * @name disable_node(obj)
                		 * @param {mixed} obj the node to disable
                		 * @trigger disable_node.jstree
                		 */
                		disable_node : function (obj) {
                			var t1, t2;
                			if($.isArray(obj)) {
                				obj = obj.slice();
                				for(t1 = 0, t2 = obj.length; t1 < t2; t1++) {
                					this.disable_node(obj[t1]);
                				}
                				return true;
                			}
                			obj = this.get_node(obj);
                			if(!obj || obj.id === '#') {
                				return false;
                			}
                			obj.state.disabled = true;
                			this.get_node(obj,true).children('.jstree-anchor').addClass('jstree-disabled');
                			/**
                			 * triggered when an node is disabled
                			 * @event
                			 * @name disable_node.jstree
                			 * @param {Object} node the disabled node
                			 */
                			this.trigger('disable_node', { 'node' : obj });
                		},
                		/**
                		 * called when a node is selected by the user. Used internally.
                		 * @private
                		 * @name activate_node(obj, e)
                		 * @param {mixed} obj the node
                		 * @param {Object} e the related event
                		 * @trigger activate_node.jstree
                		 */
                		activate_node : function (obj, e) {
                			if(this.is_disabled(obj)) {
                				return false;
                			}
                			if(!this.settings.core.multiple || (!e.metaKey && !e.ctrlKey && !e.shiftKey) || (e.shiftKey && (!this._data.core.last_clicked || !this.get_parent(obj) || this.get_parent(obj) !== this._data.core.last_clicked.parent ) )) {
                				if(!this.settings.core.multiple && (e.metaKey || e.ctrlKey || e.shiftKey) && this.is_selected(obj)) {
                					this.deselect_node(obj, false, false, e);
                				}
                				else {
                					this.deselect_all(true);
                					this.select_node(obj, false, false, e);
                					this._data.core.last_clicked = this.get_node(obj);
                				}
                			}
                			else {
                				if(e.shiftKey) {
                					var o = this.get_node(obj).id,
                						l = this._data.core.last_clicked.id,
                						p = this.get_node(this._data.core.last_clicked.parent).children,
                						c = false,
                						i, j;
                					for(i = 0, j = p.length; i < j; i += 1) {
                						// separate IFs work whem o and l are the same
                						if(p[i] === o) {
                							c = !c;
                						}
                						if(p[i] === l) {
                							c = !c;
                						}
                						if(c || p[i] === o || p[i] === l) {
                							this.select_node(p[i], false, false, e);
                						}
                						else {
                							this.deselect_node(p[i], false, false, e);
                						}
                					}
                				}
                				else {
                					if(!this.is_selected(obj)) {
                						this.select_node(obj, false, false, e);
                					}
                					else {
                						this.deselect_node(obj, false, false, e);
                					}
                				}
                			}
                			/**
                			 * triggered when an node is clicked or intercated with by the user
                			 * @event
                			 * @name activate_node.jstree
                			 * @param {Object} node
                			 */
                			this.trigger('activate_node', { 'node' : this.get_node(obj) });
                		},
                		/**
                		 * applies the hover state on a node, called when a node is hovered by the user. Used internally.
                		 * @private
                		 * @name hover_node(obj)
                		 * @param {mixed} obj
                		 * @trigger hover_node.jstree
                		 */
                		hover_node : function (obj) {
                			obj = this.get_node(obj, true);
                			if(!obj || !obj.length || obj.children('.jstree-hovered').length) {
                				return false;
                			}
                			var o = this.element.find('.jstree-hovered'), t = this.element;
                			if(o && o.length) { this.dehover_node(o); }
                
                			obj.children('.jstree-anchor').addClass('jstree-hovered');
                			/**
                			 * triggered when an node is hovered
                			 * @event
                			 * @name hover_node.jstree
                			 * @param {Object} node
                			 */
                			this.trigger('hover_node', { 'node' : this.get_node(obj) });
                			setTimeout(function () { t.attr('aria-activedescendant', obj[0].id); obj.attr('aria-selected', true); }, 0);
                		},
                		/**
                		 * removes the hover state from a nodecalled when a node is no longer hovered by the user. Used internally.
                		 * @private
                		 * @name dehover_node(obj)
                		 * @param {mixed} obj
                		 * @trigger dehover_node.jstree
                		 */
                		dehover_node : function (obj) {
                			obj = this.get_node(obj, true);
                			if(!obj || !obj.length || !obj.children('.jstree-hovered').length) {
                				return false;
                			}
                			obj.attr('aria-selected', false).children('.jstree-anchor').removeClass('jstree-hovered');
                			/**
                			 * triggered when an node is no longer hovered
                			 * @event
                			 * @name dehover_node.jstree
                			 * @param {Object} node
                			 */
                			this.trigger('dehover_node', { 'node' : this.get_node(obj) });
                		},
                		/**
                		 * select a node
                		 * @name select_node(obj [, supress_event, prevent_open])
                		 * @param {mixed} obj an array can be used to select multiple nodes
                		 * @param {Boolean} supress_event if set to `true` the `changed.jstree` event won't be triggered
                		 * @param {Boolean} prevent_open if set to `true` parents of the selected node won't be opened
                		 * @trigger select_node.jstree, changed.jstree
                		 */
                		select_node : function (obj, supress_event, prevent_open, e) {
                			var dom, t1, t2, th;
                			if($.isArray(obj)) {
                				obj = obj.slice();
                				for(t1 = 0, t2 = obj.length; t1 < t2; t1++) {
                					this.select_node(obj[t1], supress_event, prevent_open, e);
                				}
                				return true;
                			}
                			obj = this.get_node(obj);
                			if(!obj || obj.id === '#') {
                				return false;
                			}
                			dom = this.get_node(obj, true);
                			if(!obj.state.selected) {
                				obj.state.selected = true;
                				this._data.core.selected.push(obj.id);
                				if(!prevent_open) {
                					dom = this._open_to(obj);
                				}
                				if(dom && dom.length) {
                					dom.children('.jstree-anchor').addClass('jstree-clicked');
                				}
                				/**
                				 * triggered when an node is selected
                				 * @event
                				 * @name select_node.jstree
                				 * @param {Object} node
                				 * @param {Array} selected the current selection
                				 * @param {Object} event the event (if any) that triggered this select_node
                				 */
                				this.trigger('select_node', { 'node' : obj, 'selected' : this._data.core.selected, 'event' : e });
                				if(!supress_event) {
                					/**
                					 * triggered when selection changes
                					 * @event
                					 * @name changed.jstree
                					 * @param {Object} node
                					 * @param {Object} action the action that caused the selection to change
                					 * @param {Array} selected the current selection
                					 * @param {Object} event the event (if any) that triggered this changed event
                					 */
                					this.trigger('changed', { 'action' : 'select_node', 'node' : obj, 'selected' : this._data.core.selected, 'event' : e });
                				}
                			}
                		},
                		/**
                		 * deselect a node
                		 * @name deselect_node(obj [, supress_event])
                		 * @param {mixed} obj an array can be used to deselect multiple nodes
                		 * @param {Boolean} supress_event if set to `true` the `changed.jstree` event won't be triggered
                		 * @trigger deselect_node.jstree, changed.jstree
                		 */
                		deselect_node : function (obj, supress_event, e) {
                			var t1, t2, dom;
                			if($.isArray(obj)) {
                				obj = obj.slice();
                				for(t1 = 0, t2 = obj.length; t1 < t2; t1++) {
                					this.deselect_node(obj[t1], supress_event, e);
                				}
                				return true;
                			}
                			obj = this.get_node(obj);
                			if(!obj || obj.id === '#') {
                				return false;
                			}
                			dom = this.get_node(obj, true);
                			if(obj.state.selected) {
                				obj.state.selected = false;
                				this._data.core.selected = $.vakata.array_remove_item(this._data.core.selected, obj.id);
                				if(dom.length) {
                					dom.children('.jstree-anchor').removeClass('jstree-clicked');
                				}
                				/**
                				 * triggered when an node is deselected
                				 * @event
                				 * @name deselect_node.jstree
                				 * @param {Object} node
                				 * @param {Array} selected the current selection
                				 * @param {Object} event the event (if any) that triggered this deselect_node
                				 */
                				this.trigger('deselect_node', { 'node' : obj, 'selected' : this._data.core.selected, 'event' : e });
                				if(!supress_event) {
                					this.trigger('changed', { 'action' : 'deselect_node', 'node' : obj, 'selected' : this._data.core.selected, 'event' : e });
                				}
                			}
                		},
                		/**
                		 * select all nodes in the tree
                		 * @name select_all([supress_event])
                		 * @param {Boolean} supress_event if set to `true` the `changed.jstree` event won't be triggered
                		 * @trigger select_all.jstree, changed.jstree
                		 */
                		select_all : function (supress_event) {
                			var tmp = this._data.core.selected.concat([]), i, j;
                			this._data.core.selected = this._model.data['#'].children_d.concat();
                			for(i = 0, j = this._data.core.selected.length; i < j; i++) {
                				if(this._model.data[this._data.core.selected[i]]) {
                					this._model.data[this._data.core.selected[i]].state.selected = true;
                				}
                			}
                			this.redraw(true);
                			/**
                			 * triggered when all nodes are selected
                			 * @event
                			 * @name select_all.jstree
                			 * @param {Array} selected the current selection
                			 */
                			this.trigger('select_all', { 'selected' : this._data.core.selected });
                			if(!supress_event) {
                				this.trigger('changed', { 'action' : 'select_all', 'selected' : this._data.core.selected, 'old_selection' : tmp });
                			}
                		},
                		/**
                		 * deselect all selected nodes
                		 * @name deselect_all([supress_event])
                		 * @param {Boolean} supress_event if set to `true` the `changed.jstree` event won't be triggered
                		 * @trigger deselect_all.jstree, changed.jstree
                		 */
                		deselect_all : function (supress_event) {
                			var tmp = this._data.core.selected.concat([]), i, j;
                			for(i = 0, j = this._data.core.selected.length; i < j; i++) {
                				if(this._model.data[this._data.core.selected[i]]) {
                					this._model.data[this._data.core.selected[i]].state.selected = false;
                				}
                			}
                			this._data.core.selected = [];
                			this.element.find('.jstree-clicked').removeClass('jstree-clicked');
                			/**
                			 * triggered when all nodes are deselected
                			 * @event
                			 * @name deselect_all.jstree
                			 * @param {Object} node the previous selection
                			 * @param {Array} selected the current selection
                			 */
                			this.trigger('deselect_all', { 'selected' : this._data.core.selected, 'node' : tmp });
                			if(!supress_event) {
                				this.trigger('changed', { 'action' : 'deselect_all', 'selected' : this._data.core.selected, 'old_selection' : tmp });
                			}
                		},
                		/**
                		 * checks if a node is selected
                		 * @name is_selected(obj)
                		 * @param  {mixed}  obj
                		 * @return {Boolean}
                		 */
                		is_selected : function (obj) {
                			obj = this.get_node(obj);
                			if(!obj || obj.id === '#') {
                				return false;
                			}
                			return obj.state.selected;
                		},
                		/**
                		 * get an array of all selected node IDs
                		 * @name get_selected([full])
                		 * @param  {mixed}  full if set to `true` the returned array will consist of the full node objects, otherwise - only IDs will be returned
                		 * @return {Array}
                		 */
                		get_selected : function (full) {
                			return full ? $.map(this._data.core.selected, $.proxy(function (i) { return this.get_node(i); }, this)) : this._data.core.selected;
                		},
                		/**
                		 * gets the current state of the tree so that it can be restored later with `set_state(state)`. Used internally.
                		 * @name get_state()
                		 * @private
                		 * @return {Object}
                		 */
                		get_state : function () {
                			var state	= {
                				'core' : {
                					'open' : [],
                					'scroll' : {
                						'left' : this.element.scrollLeft(),
                						'top' : this.element.scrollTop()
                					},
                					/*!
                					'themes' : {
                						'name' : this.get_theme(),
                						'icons' : this._data.core.themes.icons,
                						'dots' : this._data.core.themes.dots
                					},
                					*/
                					'selected' : []
                				}
                			}, i;
                			for(i in this._model.data) {
                				if(this._model.data.hasOwnProperty(i)) {
                					if(i !== '#') {
                						if(this._model.data[i].state.opened) {
                							state.core.open.push(i);
                						}
                						if(this._model.data[i].state.selected) {
                							state.core.selected.push(i);
                						}
                					}
                				}
                			}
                			return state;
                		},
                		/**
                		 * sets the state of the tree. Used internally.
                		 * @name set_state(state [, callback])
                		 * @private
                		 * @param {Object} state the state to restore
                		 * @param {Function} callback an optional function to execute once the state is restored.
                		 * @trigger set_state.jstree
                		 */
                		set_state : function (state, callback) {
                			if(state) {
                				if(state.core) {
                					var res, n, t, _this;
                					if(state.core.open) {
                						if(!$.isArray(state.core.open)) {
                							delete state.core.open;
                							this.set_state(state, callback);
                							return false;
                						}
                						res = true;
                						n = false;
                						t = this;
                						$.each(state.core.open.concat([]), function (i, v) {
                							n = t.get_node(v);
                							if(n) {
                								if(t.is_loaded(v)) {
                									if(t.is_closed(v)) {
                										t.open_node(v, false, 0);
                									}
                									if(state && state.core && state.core.open) {
                										$.vakata.array_remove_item(state.core.open, v);
                									}
                								}
                								else {
                									if(!t.is_loading(v)) {
                										t.open_node(v, $.proxy(function () { this.set_state(state, callback); }, t), 0);
                									}
                									// there will be some async activity - so wait for it
                									res = false;
                								}
                							}
                						});
                						if(res) {
                							delete state.core.open;
                							this.set_state(state, callback);
                						}
                						return false;
                					}
                					if(state.core.scroll) {
                						if(state.core.scroll && state.core.scroll.left !== undefined) {
                							this.element.scrollLeft(state.core.scroll.left);
                						}
                						if(state.core.scroll && state.core.scroll.top !== undefined) {
                							this.element.scrollTop(state.core.scroll.top);
                						}
                						delete state.core.scroll;
                						this.set_state(state, callback);
                						return false;
                					}
                					/*!
                					if(state.core.themes) {
                						if(state.core.themes.name) {
                							this.set_theme(state.core.themes.name);
                						}
                						if(typeof state.core.themes.dots !== 'undefined') {
                							this[ state.core.themes.dots ? "show_dots" : "hide_dots" ]();
                						}
                						if(typeof state.core.themes.icons !== 'undefined') {
                							this[ state.core.themes.icons ? "show_icons" : "hide_icons" ]();
                						}
                						delete state.core.themes;
                						delete state.core.open;
                						this.set_state(state, callback);
                						return false;
                					}
                					*/
                					if(state.core.selected) {
                						_this = this;
                						this.deselect_all();
                						$.each(state.core.selected, function (i, v) {
                							_this.select_node(v);
                						});
                						delete state.core.selected;
                						this.set_state(state, callback);
                						return false;
                					}
                					if($.isEmptyObject(state.core)) {
                						delete state.core;
                						this.set_state(state, callback);
                						return false;
                					}
                				}
                				if($.isEmptyObject(state)) {
                					state = null;
                					if(callback) { callback.call(this); }
                					/**
                					 * triggered when a `set_state` call completes
                					 * @event
                					 * @name set_state.jstree
                					 */
                					this.trigger('set_state');
                					return false;
                				}
                				return true;
                			}
                			return false;
                		},
                		/**
                		 * refreshes the tree - all nodes are reloaded with calls to `load_node`.
                		 * @name refresh()
                		 * @param {Boolean} skip_loading an option to skip showing the loading indicator
                		 * @trigger refresh.jstree
                		 */
                		refresh : function (skip_loading) {
                			this._data.core.state = this.get_state();
                			this._cnt = 0;
                			this._model.data = {
                				'#' : {
                					id : '#',
                					parent : null,
                					parents : [],
                					children : [],
                					children_d : [],
                					state : { loaded : false }
                				}
                			};
                			var c = this.get_container_ul()[0].className;
                			if(!skip_loading) {
                				this.element.html("<"+"ul class='jstree-container-ul'><"+"li class='jstree-initial-node jstree-loading jstree-leaf jstree-last'><i class='jstree-icon jstree-ocl'></i><"+"a class='jstree-anchor' href='#'><i class='jstree-icon jstree-themeicon-hidden'></i>" + this.get_string("Loading ...") + "</a></li></ul>");
                			}
                			this.load_node('#', function (o, s) {
                				if(s) {
                					this.get_container_ul()[0].className = c;
                					this.set_state($.extend(true, {}, this._data.core.state), function () {
                						/**
                						 * triggered when a `refresh` call completes
                						 * @event
                						 * @name refresh.jstree
                						 */
                						this.trigger('refresh');
                					});
                				}
                				this._data.core.state = null;
                			});
                		},
                		/**
                		 * set (change) the ID of a node
                		 * @name set_id(obj, id)
                		 * @param  {mixed} obj the node
                		 * @param  {String} id the new ID
                		 * @return {Boolean}
                		 */
                		set_id : function (obj, id) {
                			obj = this.get_node(obj);
                			if(!obj || obj.id === '#') { return false; }
                			var i, j, m = this._model.data;
                			// update parents (replace current ID with new one in children and children_d)
                			m[obj.parent].children[$.inArray(obj.id, m[obj.parent].children)] = id;
                			for(i = 0, j = obj.parents.length; i < j; i++) {
                				m[obj.parents[i]].children_d[$.inArray(obj.id, m[obj.parents[i]].children_d)] = id;
                			}
                			// update children (replace current ID with new one in parent and parents)
                			for(i = 0, j = obj.children.length; i < j; i++) {
                				m[obj.children[i]].parent = id;
                			}
                			for(i = 0, j = obj.children_d.length; i < j; i++) {
                				m[obj.children_d[i]].parents[$.inArray(obj.id, m[obj.children_d[i]].parents)] = id;
                			}
                			i = $.inArray(obj.id, this._data.core.selected);
                			if(i !== -1) { this._data.core.selected[i] = id; }
                			// update model and obj itself (obj.id, this._model.data[KEY])
                			i = this.get_node(obj.id, true);
                			if(i) {
                				i.attr('id', id);
                			}
                			delete m[obj.id];
                			obj.id = id;
                			m[id] = obj;
                			return true;
                		},
                		/**
                		 * get the text value of a node
                		 * @name get_text(obj)
                		 * @param  {mixed} obj the node
                		 * @return {String}
                		 */
                		get_text : function (obj) {
                			obj = this.get_node(obj);
                			return (!obj || obj.id === '#') ? false : obj.text;
                		},
                		/**
                		 * set the text value of a node. Used internally, please use `rename_node(obj, val)`.
                		 * @private
                		 * @name set_text(obj, val)
                		 * @param  {mixed} obj the node, you can pass an array to set the text on multiple nodes
                		 * @param  {String} val the new text value
                		 * @return {Boolean}
                		 * @trigger set_text.jstree
                		 */
                		set_text : function (obj, val) {
                			var t1, t2, dom, tmp;
                			if($.isArray(obj)) {
                				obj = obj.slice();
                				for(t1 = 0, t2 = obj.length; t1 < t2; t1++) {
                					this.set_text(obj[t1], val);
                				}
                				return true;
                			}
                			obj = this.get_node(obj);
                			if(!obj || obj.id === '#') { return false; }
                			obj.text = val;
                			dom = this.get_node(obj, true);
                			if(dom.length) {
                				dom = dom.children(".jstree-anchor:eq(0)");
                				tmp = dom.children("I").clone();
                				dom.html(val).prepend(tmp);
                				/**
                				 * triggered when a node text value is changed
                				 * @event
                				 * @name set_text.jstree
                				 * @param {Object} obj
                				 * @param {String} text the new value
                				 */
                				this.trigger('set_text',{ "obj" : obj, "text" : val });
                			}
                			return true;
                		},
                		/**
                		 * gets a JSON representation of a node (or the whole tree)
                		 * @name get_json([obj, options])
                		 * @param  {mixed} obj
                		 * @param  {Object} options
                		 * @param  {Boolean} options.no_state do not return state information
                		 * @param  {Boolean} options.no_id do not return ID
                		 * @param  {Boolean} options.no_children do not include children
                		 * @param  {Boolean} options.no_data do not include node data
                		 * @param  {Boolean} options.flat return flat JSON instead of nested
                		 * @return {Object}
                		 */
                		get_json : function (obj, options, flat) {
                			obj = this.get_node(obj || '#');
                			if(!obj) { return false; }
                			if(options && options.flat && !flat) { flat = []; }
                			var tmp = {
                				'id' : obj.id,
                				'text' : obj.text,
                				'icon' : this.get_icon(obj),
                				'li_attr' : obj.li_attr,
                				'a_attr' : obj.a_attr,
                				'state' : {},
                				'data' : options && options.no_data ? false : obj.data
                				//( this.get_node(obj, true).length ? this.get_node(obj, true).data() : obj.data ),
                			}, i, j;
                			if(options && options.flat) {
                				tmp.parent = obj.parent;
                			}
                			else {
                				tmp.children = [];
                			}
                			if(!options || !options.no_state) {
                				for(i in obj.state) {
                					if(obj.state.hasOwnProperty(i)) {
                						tmp.state[i] = obj.state[i];
                					}
                				}
                			}
                			if(options && options.no_id) {
                				delete tmp.id;
                				if(tmp.li_attr && tmp.li_attr.id) {
                					delete tmp.li_attr.id;
                				}
                			}
                			if(options && options.flat && obj.id !== '#') {
                				flat.push(tmp);
                			}
                			if(!options || !options.no_children) {
                				for(i = 0, j = obj.children.length; i < j; i++) {
                					if(options && options.flat) {
                						this.get_json(obj.children[i], options, flat);
                					}
                					else {
                						tmp.children.push(this.get_json(obj.children[i], options));
                					}
                				}
                			}
                			return options && options.flat ? flat : (obj.id === '#' ? tmp.children : tmp);
                		},
                		/**
                		 * create a new node (do not confuse with load_node)
                		 * @name create_node([obj, node, pos, callback, is_loaded])
                		 * @param  {mixed}   par       the parent node
                		 * @param  {mixed}   node      the data for the new node (a valid JSON object, or a simple string with the name)
                		 * @param  {mixed}   pos       the index at which to insert the node, "first" and "last" are also supported, default is "last"
                		 * @param  {Function} callback a function to be called once the node is created
                		 * @param  {Boolean} is_loaded internal argument indicating if the parent node was succesfully loaded
                		 * @return {String}            the ID of the newly create node
                		 * @trigger model.jstree, create_node.jstree
                		 */
                		create_node : function (par, node, pos, callback, is_loaded) {
                			par = this.get_node(par);
                			if(!par) { return false; }
                			pos = pos === undefined ? "last" : pos;
                			if(!pos.toString().match(/^(before|after)$/) && !is_loaded && !this.is_loaded(par)) {
                				return this.load_node(par, function () { this.create_node(par, node, pos, callback, true); });
                			}
                			if(!node) { node = { "text" : this.get_string('New node') }; }
                			if(node.text === undefined) { node.text = this.get_string('New node'); }
                			var tmp, dpc, i, j;
                
                			if(par.id === '#') {
                				if(pos === "before") { pos = "first"; }
                				if(pos === "after") { pos = "last"; }
                			}
                			switch(pos) {
                				case "before":
                					tmp = this.get_node(par.parent);
                					pos = $.inArray(par.id, tmp.children);
                					par = tmp;
                					break;
                				case "after" :
                					tmp = this.get_node(par.parent);
                					pos = $.inArray(par.id, tmp.children) + 1;
                					par = tmp;
                					break;
                				case "inside":
                				case "first":
                					pos = 0;
                					break;
                				case "last":
                					pos = par.children.length;
                					break;
                				default:
                					if(!pos) { pos = 0; }
                					break;
                			}
                			if(pos > par.children.length) { pos = par.children.length; }
                			if(!node.id) { node.id = true; }
                			if(!this.check("create_node", node, par, pos)) {
                				this.settings.core.error.call(this, this._data.core.last_error);
                				return false;
                			}
                			if(node.id === true) { delete node.id; }
                			node = this._parse_model_from_json(node, par.id, par.parents.concat());
                			if(!node) { return false; }
                			tmp = this.get_node(node);
                			dpc = [];
                			dpc.push(node);
                			dpc = dpc.concat(tmp.children_d);
                			this.trigger('model', { "nodes" : dpc, "parent" : par.id });
                
                			par.children_d = par.children_d.concat(dpc);
                			for(i = 0, j = par.parents.length; i < j; i++) {
                				this._model.data[par.parents[i]].children_d = this._model.data[par.parents[i]].children_d.concat(dpc);
                			}
                			node = tmp;
                			tmp = [];
                			for(i = 0, j = par.children.length; i < j; i++) {
                				tmp[i >= pos ? i+1 : i] = par.children[i];
                			}
                			tmp[pos] = node.id;
                			par.children = tmp;
                
                			this.redraw_node(par, true);
                			if(callback) { callback.call(this, this.get_node(node)); }
                			/**
                			 * triggered when a node is created
                			 * @event
                			 * @name create_node.jstree
                			 * @param {Object} node
                			 * @param {String} parent the parent's ID
                			 * @param {Number} position the position of the new node among the parent's children
                			 */
                			this.trigger('create_node', { "node" : this.get_node(node), "parent" : par.id, "position" : pos });
                			return node.id;
                		},
                		/**
                		 * set the text value of a node
                		 * @name rename_node(obj, val)
                		 * @param  {mixed} obj the node, you can pass an array to rename multiple nodes to the same name
                		 * @param  {String} val the new text value
                		 * @return {Boolean}
                		 * @trigger rename_node.jstree
                		 */
                		rename_node : function (obj, val) {
                			var t1, t2, old;
                			if($.isArray(obj)) {
                				obj = obj.slice();
                				for(t1 = 0, t2 = obj.length; t1 < t2; t1++) {
                					this.rename_node(obj[t1], val);
                				}
                				return true;
                			}
                			obj = this.get_node(obj);
                			if(!obj || obj.id === '#') { return false; }
                			old = obj.text;
                			if(!this.check("rename_node", obj, this.get_parent(obj), val)) {
                				this.settings.core.error.call(this, this._data.core.last_error);
                				return false;
                			}
                			this.set_text(obj, val); // .apply(this, Array.prototype.slice.call(arguments))
                			/**
                			 * triggered when a node is renamed
                			 * @event
                			 * @name rename_node.jstree
                			 * @param {Object} node
                			 * @param {String} text the new value
                			 * @param {String} old the old value
                			 */
                			this.trigger('rename_node', { "node" : obj, "text" : val, "old" : old });
                			return true;
                		},
                		/**
                		 * remove a node
                		 * @name delete_node(obj)
                		 * @param  {mixed} obj the node, you can pass an array to delete multiple nodes
                		 * @return {Boolean}
                		 * @trigger delete_node.jstree, changed.jstree
                		 */
                		delete_node : function (obj) {
                			var t1, t2, par, pos, tmp, i, j, k, l, c;
                			if($.isArray(obj)) {
                				obj = obj.slice();
                				for(t1 = 0, t2 = obj.length; t1 < t2; t1++) {
                					this.delete_node(obj[t1]);
                				}
                				return true;
                			}
                			obj = this.get_node(obj);
                			if(!obj || obj.id === '#') { return false; }
                			par = this.get_node(obj.parent);
                			pos = $.inArray(obj.id, par.children);
                			c = false;
                			if(!this.check("delete_node", obj, par, pos)) {
                				this.settings.core.error.call(this, this._data.core.last_error);
                				return false;
                			}
                			if(pos !== -1) {
                				par.children = $.vakata.array_remove(par.children, pos);
                			}
                			tmp = obj.children_d.concat([]);
                			tmp.push(obj.id);
                			for(k = 0, l = tmp.length; k < l; k++) {
                				for(i = 0, j = obj.parents.length; i < j; i++) {
                					pos = $.inArray(tmp[k], this._model.data[obj.parents[i]].children_d);
                					if(pos !== -1) {
                						this._model.data[obj.parents[i]].children_d = $.vakata.array_remove(this._model.data[obj.parents[i]].children_d, pos);
                					}
                				}
                				if(this._model.data[tmp[k]].state.selected) {
                					c = true;
                					pos = $.inArray(tmp[k], this._data.core.selected);
                					if(pos !== -1) {
                						this._data.core.selected = $.vakata.array_remove(this._data.core.selected, pos);
                					}
                				}
                			}
                			/**
                			 * triggered when a node is deleted
                			 * @event
                			 * @name delete_node.jstree
                			 * @param {Object} node
                			 * @param {String} parent the parent's ID
                			 */
                			this.trigger('delete_node', { "node" : obj, "parent" : par.id });
                			if(c) {
                				this.trigger('changed', { 'action' : 'delete_node', 'node' : obj, 'selected' : this._data.core.selected, 'parent' : par.id });
                			}
                			for(k = 0, l = tmp.length; k < l; k++) {
                				delete this._model.data[tmp[k]];
                			}
                			this.redraw_node(par, true);
                			return true;
                		},
                		/**
                		 * check if an operation is premitted on the tree. Used internally.
                		 * @private
                		 * @name check(chk, obj, par, pos)
                		 * @param  {String} chk the operation to check, can be "create_node", "rename_node", "delete_node", "copy_node" or "move_node"
                		 * @param  {mixed} obj the node
                		 * @param  {mixed} par the parent
                		 * @param  {mixed} pos the position to insert at, or if "rename_node" - the new name
                		 * @return {Boolean}
                		 */
                		check : function (chk, obj, par, pos) {
                			obj = obj && obj.id ? obj : this.get_node(obj);
                			par = par && par.id ? par : this.get_node(par);
                			var tmp = chk.match(/^move_node|copy_node|create_node$/i) ? par : obj,
                				chc = this.settings.core.check_callback;
                			if(chk === "move_node") {
                				if(obj.id === par.id || $.inArray(obj.id, par.children) === pos || $.inArray(par.id, obj.children_d) !== -1) {
                					this._data.core.last_error = { 'error' : 'check', 'plugin' : 'core', 'id' : 'core_01', 'reason' : 'Moving parent inside child', 'data' : JSON.stringify({ 'chk' : chk, 'pos' : pos, 'obj' : obj && obj.id ? obj.id : false, 'par' : par && par.id ? par.id : false }) };
                					return false;
                				}
                			}
                			tmp = this.get_node(tmp, true);
                			if(tmp.length) { tmp = tmp.data('jstree'); }
                			if(tmp && tmp.functions && (tmp.functions[chk] === false || tmp.functions[chk] === true)) {
                				if(tmp.functions[chk] === false) {
                					this._data.core.last_error = { 'error' : 'check', 'plugin' : 'core', 'id' : 'core_02', 'reason' : 'Node data prevents function: ' + chk, 'data' : JSON.stringify({ 'chk' : chk, 'pos' : pos, 'obj' : obj && obj.id ? obj.id : false, 'par' : par && par.id ? par.id : false }) };
                				}
                				return tmp.functions[chk];
                			}
                			if(chc === false || ($.isFunction(chc) && chc.call(this, chk, obj, par, pos) === false) || (chc && chc[chk] === false)) {
                				this._data.core.last_error = { 'error' : 'check', 'plugin' : 'core', 'id' : 'core_03', 'reason' : 'User config for core.check_callback prevents function: ' + chk, 'data' : JSON.stringify({ 'chk' : chk, 'pos' : pos, 'obj' : obj && obj.id ? obj.id : false, 'par' : par && par.id ? par.id : false }) };
                				return false;
                			}
                			return true;
                		},
                		/**
                		 * get the last error
                		 * @name last_error()
                		 * @return {Object}
                		 */
                		last_error : function () {
                			return this._data.core.last_error;
                		},
                		/**
                		 * move a node to a new parent
                		 * @name move_node(obj, par [, pos, callback, is_loaded])
                		 * @param  {mixed} obj the node to move, pass an array to move multiple nodes
                		 * @param  {mixed} par the new parent
                		 * @param  {mixed} pos the position to insert at ("first" and "last" are supported, as well as "before" and "after"), defaults to `0`
                		 * @param  {function} callback a function to call once the move is completed, receives 3 arguments - the node, the new parent and the position
                		 * @param  {Boolean} internal parameter indicating if the parent node has been loaded
                		 * @trigger move_node.jstree
                		 */
                		move_node : function (obj, par, pos, callback, is_loaded) {
                			var t1, t2, old_par, new_par, old_ins, is_multi, dpc, tmp, i, j, k, l, p;
                			if($.isArray(obj)) {
                				obj = obj.reverse().slice();
                				for(t1 = 0, t2 = obj.length; t1 < t2; t1++) {
                					this.move_node(obj[t1], par, pos, callback, is_loaded);
                				}
                				return true;
                			}
                			obj = obj && obj.id ? obj : this.get_node(obj);
                			par = this.get_node(par);
                			pos = pos === undefined ? 0 : pos;
                
                			if(!par || !obj || obj.id === '#') { return false; }
                			if(!pos.toString().match(/^(before|after)$/) && !is_loaded && !this.is_loaded(par)) {
                				return this.load_node(par, function () { this.move_node(obj, par, pos, callback, true); });
                			}
                
                			old_par = (obj.parent || '#').toString();
                			new_par = (!pos.toString().match(/^(before|after)$/) || par.id === '#') ? par : this.get_node(par.parent);
                			old_ins = this._model.data[obj.id] ? this : $.jstree.reference(obj.id);
                			is_multi = !old_ins || !old_ins._id || (this._id !== old_ins._id);
                			if(is_multi) {
                				if(this.copy_node(obj, par, pos, callback, is_loaded)) {
                					if(old_ins) { old_ins.delete_node(obj); }
                					return true;
                				}
                				return false;
                			}
                			//var m = this._model.data;
                			if(new_par.id === '#') {
                				if(pos === "before") { pos = "first"; }
                				if(pos === "after") { pos = "last"; }
                			}
                			switch(pos) {
                				case "before":
                					pos = $.inArray(par.id, new_par.children);
                					break;
                				case "after" :
                					pos = $.inArray(par.id, new_par.children) + 1;
                					break;
                				case "inside":
                				case "first":
                					pos = 0;
                					break;
                				case "last":
                					pos = new_par.children.length;
                					break;
                				default:
                					if(!pos) { pos = 0; }
                					break;
                			}
                			if(pos > new_par.children.length) { pos = new_par.children.length; }
                			if(!this.check("move_node", obj, new_par, pos)) {
                				this.settings.core.error.call(this, this._data.core.last_error);
                				return false;
                			}
                			if(obj.parent === new_par.id) {
                				dpc = new_par.children.concat();
                				tmp = $.inArray(obj.id, dpc);
                				if(tmp !== -1) {
                					dpc = $.vakata.array_remove(dpc, tmp);
                					if(pos > tmp) { pos--; }
                				}
                				tmp = [];
                				for(i = 0, j = dpc.length; i < j; i++) {
                					tmp[i >= pos ? i+1 : i] = dpc[i];
                				}
                				tmp[pos] = obj.id;
                				new_par.children = tmp;
                				this._node_changed(new_par.id);
                				this.redraw(new_par.id === '#');
                			}
                			else {
                				// clean old parent and up
                				tmp = obj.children_d.concat();
                				tmp.push(obj.id);
                				for(i = 0, j = obj.parents.length; i < j; i++) {
                					dpc = [];
                					p = old_ins._model.data[obj.parents[i]].children_d;
                					for(k = 0, l = p.length; k < l; k++) {
                						if($.inArray(p[k], tmp) === -1) {
                							dpc.push(p[k]);
                						}
                					}
                					old_ins._model.data[obj.parents[i]].children_d = dpc;
                				}
                				old_ins._model.data[old_par].children = $.vakata.array_remove_item(old_ins._model.data[old_par].children, obj.id);
                
                				// insert into new parent and up
                				for(i = 0, j = new_par.parents.length; i < j; i++) {
                					this._model.data[new_par.parents[i]].children_d = this._model.data[new_par.parents[i]].children_d.concat(tmp);
                				}
                				dpc = [];
                				for(i = 0, j = new_par.children.length; i < j; i++) {
                					dpc[i >= pos ? i+1 : i] = new_par.children[i];
                				}
                				dpc[pos] = obj.id;
                				new_par.children = dpc;
                				new_par.children_d.push(obj.id);
                				new_par.children_d = new_par.children_d.concat(obj.children_d);
                
                				// update object
                				obj.parent = new_par.id;
                				tmp = new_par.parents.concat();
                				tmp.unshift(new_par.id);
                				p = obj.parents.length;
                				obj.parents = tmp;
                
                				// update object children
                				tmp = tmp.concat();
                				for(i = 0, j = obj.children_d.length; i < j; i++) {
                					this._model.data[obj.children_d[i]].parents = this._model.data[obj.children_d[i]].parents.slice(0,p*-1);
                					Array.prototype.push.apply(this._model.data[obj.children_d[i]].parents, tmp);
                				}
                
                				this._node_changed(old_par);
                				this._node_changed(new_par.id);
                				this.redraw(old_par === '#' || new_par.id === '#');
                			}
                			if(callback) { callback.call(this, obj, new_par, pos); }
                			/**
                			 * triggered when a node is moved
                			 * @event
                			 * @name move_node.jstree
                			 * @param {Object} node
                			 * @param {String} parent the parent's ID
                			 * @param {Number} position the position of the node among the parent's children
                			 * @param {String} old_parent the old parent of the node
                			 * @param {Boolean} is_multi do the node and new parent belong to different instances
                			 * @param {jsTree} old_instance the instance the node came from
                			 * @param {jsTree} new_instance the instance of the new parent
                			 */
                			this.trigger('move_node', { "node" : obj, "parent" : new_par.id, "position" : pos, "old_parent" : old_par, "is_multi" : is_multi, 'old_instance' : old_ins, 'new_instance' : this });
                			return true;
                		},
                		/**
                		 * copy a node to a new parent
                		 * @name copy_node(obj, par [, pos, callback, is_loaded])
                		 * @param  {mixed} obj the node to copy, pass an array to copy multiple nodes
                		 * @param  {mixed} par the new parent
                		 * @param  {mixed} pos the position to insert at ("first" and "last" are supported, as well as "before" and "after"), defaults to `0`
                		 * @param  {function} callback a function to call once the move is completed, receives 3 arguments - the node, the new parent and the position
                		 * @param  {Boolean} internal parameter indicating if the parent node has been loaded
                		 * @trigger model.jstree copy_node.jstree
                		 */
                		copy_node : function (obj, par, pos, callback, is_loaded) {
                			var t1, t2, dpc, tmp, i, j, node, old_par, new_par, old_ins, is_multi;
                			if($.isArray(obj)) {
                				obj = obj.reverse().slice();
                				for(t1 = 0, t2 = obj.length; t1 < t2; t1++) {
                					this.copy_node(obj[t1], par, pos, callback, is_loaded);
                				}
                				return true;
                			}
                			obj = obj && obj.id ? obj : this.get_node(obj);
                			par = this.get_node(par);
                			pos = pos === undefined ? 0 : pos;
                
                			if(!par || !obj || obj.id === '#') { return false; }
                			if(!pos.toString().match(/^(before|after)$/) && !is_loaded && !this.is_loaded(par)) {
                				return this.load_node(par, function () { this.copy_node(obj, par, pos, callback, true); });
                			}
                
                			old_par = (obj.parent || '#').toString();
                			new_par = (!pos.toString().match(/^(before|after)$/) || par.id === '#') ? par : this.get_node(par.parent);
                			old_ins = this._model.data[obj.id] ? this : $.jstree.reference(obj.id);
                			is_multi = !old_ins || !old_ins._id || (this._id !== old_ins._id);
                			if(new_par.id === '#') {
                				if(pos === "before") { pos = "first"; }
                				if(pos === "after") { pos = "last"; }
                			}
                			switch(pos) {
                				case "before":
                					pos = $.inArray(par.id, new_par.children);
                					break;
                				case "after" :
                					pos = $.inArray(par.id, new_par.children) + 1;
                					break;
                				case "inside":
                				case "first":
                					pos = 0;
                					break;
                				case "last":
                					pos = new_par.children.length;
                					break;
                				default:
                					if(!pos) { pos = 0; }
                					break;
                			}
                			if(pos > new_par.children.length) { pos = new_par.children.length; }
                			if(!this.check("copy_node", obj, new_par, pos)) {
                				this.settings.core.error.call(this, this._data.core.last_error);
                				return false;
                			}
                			node = old_ins ? old_ins.get_json(obj, { no_id : true, no_data : true, no_state : true }) : obj;
                			if(!node) { return false; }
                			if(node.id === true) { delete node.id; }
                			node = this._parse_model_from_json(node, new_par.id, new_par.parents.concat());
                			if(!node) { return false; }
                			tmp = this.get_node(node);
                			dpc = [];
                			dpc.push(node);
                			dpc = dpc.concat(tmp.children_d);
                			this.trigger('model', { "nodes" : dpc, "parent" : new_par.id });
                
                			// insert into new parent and up
                			for(i = 0, j = new_par.parents.length; i < j; i++) {
                				this._model.data[new_par.parents[i]].children_d = this._model.data[new_par.parents[i]].children_d.concat(dpc);
                			}
                			dpc = [];
                			for(i = 0, j = new_par.children.length; i < j; i++) {
                				dpc[i >= pos ? i+1 : i] = new_par.children[i];
                			}
                			dpc[pos] = tmp.id;
                			new_par.children = dpc;
                			new_par.children_d.push(tmp.id);
                			new_par.children_d = new_par.children_d.concat(tmp.children_d);
                
                			this._node_changed(new_par.id);
                			this.redraw(new_par.id === '#');
                			if(callback) { callback.call(this, tmp, new_par, pos); }
                			/**
                			 * triggered when a node is copied
                			 * @event
                			 * @name copy_node.jstree
                			 * @param {Object} node the copied node
                			 * @param {Object} original the original node
                			 * @param {String} parent the parent's ID
                			 * @param {Number} position the position of the node among the parent's children
                			 * @param {String} old_parent the old parent of the node
                			 * @param {Boolean} is_multi do the node and new parent belong to different instances
                			 * @param {jsTree} old_instance the instance the node came from
                			 * @param {jsTree} new_instance the instance of the new parent
                			 */
                			this.trigger('copy_node', { "node" : tmp, "original" : obj, "parent" : new_par.id, "position" : pos, "old_parent" : old_par, "is_multi" : is_multi, 'old_instance' : old_ins, 'new_instance' : this });
                			return tmp.id;
                		},
                		/**
                		 * cut a node (a later call to `paste(obj)` would move the node)
                		 * @name cut(obj)
                		 * @param  {mixed} obj multiple objects can be passed using an array
                		 * @trigger cut.jstree
                		 */
                		cut : function (obj) {
                			if(!obj) { obj = this._data.core.selected.concat(); }
                			if(!$.isArray(obj)) { obj = [obj]; }
                			if(!obj.length) { return false; }
                			var tmp = [], o, t1, t2;
                			for(t1 = 0, t2 = obj.length; t1 < t2; t1++) {
                				o = this.get_node(obj[t1]);
                				if(o && o.id && o.id !== '#') { tmp.push(o); }
                			}
                			if(!tmp.length) { return false; }
                			ccp_node = tmp;
                			ccp_inst = this;
                			ccp_mode = 'move_node';
                			/**
                			 * triggered when nodes are added to the buffer for moving
                			 * @event
                			 * @name cut.jstree
                			 * @param {Array} node
                			 */
                			this.trigger('cut', { "node" : obj });
                		},
                		/**
                		 * copy a node (a later call to `paste(obj)` would copy the node)
                		 * @name copy(obj)
                		 * @param  {mixed} obj multiple objects can be passed using an array
                		 * @trigger copy.jstre
                		 */
                		copy : function (obj) {
                			if(!obj) { obj = this._data.core.selected.concat(); }
                			if(!$.isArray(obj)) { obj = [obj]; }
                			if(!obj.length) { return false; }
                			var tmp = [], o, t1, t2;
                			for(t1 = 0, t2 = obj.length; t1 < t2; t1++) {
                				o = this.get_node(obj[t1]);
                				if(o && o.id && o.id !== '#') { tmp.push(o); }
                			}
                			if(!tmp.length) { return false; }
                			ccp_node = tmp;
                			ccp_inst = this;
                			ccp_mode = 'copy_node';
                			/**
                			 * triggered when nodes are added to the buffer for copying
                			 * @event
                			 * @name copy.jstree
                			 * @param {Array} node
                			 */
                			this.trigger('copy', { "node" : obj });
                		},
                		/**
                		 * get the current buffer (any nodes that are waiting for a paste operation)
                		 * @name get_buffer()
                		 * @return {Object} an object consisting of `mode` ("copy_node" or "move_node"), `node` (an array of objects) and `inst` (the instance)
                		 */
                		get_buffer : function () {
                			return { 'mode' : ccp_mode, 'node' : ccp_node, 'inst' : ccp_inst };
                		},
                		/**
                		 * check if there is something in the buffer to paste
                		 * @name can_paste()
                		 * @return {Boolean}
                		 */
                		can_paste : function () {
                			return ccp_mode !== false && ccp_node !== false; // && ccp_inst._model.data[ccp_node];
                		},
                		/**
                		 * copy or move the previously cut or copied nodes to a new parent
                		 * @name paste(obj)
                		 * @param  {mixed} obj the new parent
                		 * @trigger paste.jstree
                		 */
                		paste : function (obj) {
                			obj = this.get_node(obj);
                			if(!obj || !ccp_mode || !ccp_mode.match(/^(copy_node|move_node)$/) || !ccp_node) { return false; }
                			if(this[ccp_mode](ccp_node, obj)) {
                				/**
                				 * triggered when paste is invoked
                				 * @event
                				 * @name paste.jstree
                				 * @param {String} parent the ID of the receiving node
                				 * @param {Array} node the nodes in the buffer
                				 * @param {String} mode the performed operation - "copy_node" or "move_node"
                				 */
                				this.trigger('paste', { "parent" : obj.id, "node" : ccp_node, "mode" : ccp_mode });
                			}
                			ccp_node = false;
                			ccp_mode = false;
                			ccp_inst = false;
                		},
                		/**
                		 * put a node in edit mode (input field to rename the node)
                		 * @name edit(obj [, default_text])
                		 * @param  {mixed} obj
                		 * @param  {String} default_text the text to populate the input with (if omitted the node text value is used)
                		 */
                		edit : function (obj, default_text) {
                			obj = this._open_to(obj);
                			if(!obj || !obj.length) { return false; }
                			var rtl = this._data.core.rtl,
                				w  = this.element.width(),
                				a  = obj.children('.jstree-anchor'),
                				s  = $('<span>'),
                				/*!
                				oi = obj.children("i:visible"),
                				ai = a.children("i:visible"),
                				w1 = oi.width() * oi.length,
                				w2 = ai.width() * ai.length,
                				*/
                				t  = typeof default_text === 'string' ? default_text : this.get_text(obj),
                				h1 = $("<"+"div />", { css : { "position" : "absolute", "top" : "-200px", "left" : (rtl ? "0px" : "-1000px"), "visibility" : "hidden" } }).appendTo("body"),
                				h2 = $("<"+"input />", {
                						"value" : t,
                						"class" : "jstree-rename-input",
                						// "size" : t.length,
                						"css" : {
                							"padding" : "0",
                							"border" : "1px solid silver",
                							"box-sizing" : "border-box",
                							"display" : "inline-block",
                							"height" : (this._data.core.li_height) + "px",
                							"lineHeight" : (this._data.core.li_height) + "px",
                							"width" : "150px" // will be set a bit further down
                						},
                						"blur" : $.proxy(function () {
                							var i = s.children(".jstree-rename-input"),
                								v = i.val();
                							if(v === "") { v = t; }
                							h1.remove();
                							s.replaceWith(a);
                							s.remove();
                							this.set_text(obj, t);
                							if(this.rename_node(obj, v) === false) {
                								this.set_text(obj, t); // move this up? and fix #483
                							}
                						}, this),
                						"keydown" : function (event) {
                							var key = event.which;
                							if(key === 27) {
                								this.value = t;
                							}
                							if(key === 27 || key === 13 || key === 37 || key === 38 || key === 39 || key === 40 || key === 32) {
                								event.stopImmediatePropagation();
                							}
                							if(key === 27 || key === 13) {
                								event.preventDefault();
                								this.blur();
                							}
                						},
                						"click" : function (e) { e.stopImmediatePropagation(); },
                						"mousedown" : function (e) { e.stopImmediatePropagation(); },
                						"keyup" : function (event) {
                							h2.width(Math.min(h1.text("pW" + this.value).width(),w));
                						},
                						"keypress" : function(event) {
                							if(event.which === 13) { return false; }
                						}
                					}),
                				fn = {
                						fontFamily		: a.css('fontFamily')		|| '',
                						fontSize		: a.css('fontSize')			|| '',
                						fontWeight		: a.css('fontWeight')		|| '',
                						fontStyle		: a.css('fontStyle')		|| '',
                						fontStretch		: a.css('fontStretch')		|| '',
                						fontVariant		: a.css('fontVariant')		|| '',
                						letterSpacing	: a.css('letterSpacing')	|| '',
                						wordSpacing		: a.css('wordSpacing')		|| ''
                				};
                			this.set_text(obj, "");
                			s.attr('class', a.attr('class')).append(a.contents().clone()).append(h2);
                			a.replaceWith(s);
                			h1.css(fn);
                			h2.css(fn).width(Math.min(h1.text("pW" + h2[0].value).width(),w))[0].select();
                		},
                
                
                		/**
                		 * changes the theme
                		 * @name set_theme(theme_name [, theme_url])
                		 * @param {String} theme_name the name of the new theme to apply
                		 * @param {mixed} theme_url  the location of the CSS file for this theme. Omit or set to `false` if you manually included the file. Set to `true` to autoload from the `core.themes.dir` directory.
                		 * @trigger set_theme.jstree
                		 */
                		set_theme : function (theme_name, theme_url) {
                			if(!theme_name) { return false; }
                			if(theme_url === true) {
                				var dir = this.settings.core.themes.dir;
                				if(!dir) { dir = $.jstree.path + '/themes'; }
                				theme_url = dir + '/' + theme_name + '/style.css';
                			}
                			if(theme_url && $.inArray(theme_url, themes_loaded) === -1) {
                				$('head').append('<'+'link rel="stylesheet" href="' + theme_url + '" type="text/css" />');
                				themes_loaded.push(theme_url);
                			}
                			if(this._data.core.themes.name) {
                				this.element.removeClass('jstree-' + this._data.core.themes.name);
                			}
                			this._data.core.themes.name = theme_name;
                			this.element.addClass('jstree-' + theme_name);
                			this.element[this.settings.core.themes.responsive ? 'addClass' : 'removeClass' ]('jstree-' + theme_name + '-responsive');
                			/**
                			 * triggered when a theme is set
                			 * @event
                			 * @name set_theme.jstree
                			 * @param {String} theme the new theme
                			 */
                			this.trigger('set_theme', { 'theme' : theme_name });
                		},
                		/**
                		 * gets the name of the currently applied theme name
                		 * @name get_theme()
                		 * @return {String}
                		 */
                		get_theme : function () { return this._data.core.themes.name; },
                		/**
                		 * changes the theme variant (if the theme has variants)
                		 * @name set_theme_variant(variant_name)
                		 * @param {String|Boolean} variant_name the variant to apply (if `false` is used the current variant is removed)
                		 */
                		set_theme_variant : function (variant_name) {
                			if(this._data.core.themes.variant) {
                				this.element.removeClass('jstree-' + this._data.core.themes.name + '-' + this._data.core.themes.variant);
                			}
                			this._data.core.themes.variant = variant_name;
                			if(variant_name) {
                				this.element.addClass('jstree-' + this._data.core.themes.name + '-' + this._data.core.themes.variant);
                			}
                		},
                		/**
                		 * gets the name of the currently applied theme variant
                		 * @name get_theme()
                		 * @return {String}
                		 */
                		get_theme_variant : function () { return this._data.core.themes.variant; },
                		/**
                		 * shows a striped background on the container (if the theme supports it)
                		 * @name show_stripes()
                		 */
                		show_stripes : function () { this._data.core.themes.stripes = true; this.get_container_ul().addClass("jstree-striped"); },
                		/**
                		 * hides the striped background on the container
                		 * @name hide_stripes()
                		 */
                		hide_stripes : function () { this._data.core.themes.stripes = false; this.get_container_ul().removeClass("jstree-striped"); },
                		/**
                		 * toggles the striped background on the container
                		 * @name toggle_stripes()
                		 */
                		toggle_stripes : function () { if(this._data.core.themes.stripes) { this.hide_stripes(); } else { this.show_stripes(); } },
                		/**
                		 * shows the connecting dots (if the theme supports it)
                		 * @name show_dots()
                		 */
                		show_dots : function () { this._data.core.themes.dots = true; this.get_container_ul().removeClass("jstree-no-dots"); },
                		/**
                		 * hides the connecting dots
                		 * @name hide_dots()
                		 */
                		hide_dots : function () { this._data.core.themes.dots = false; this.get_container_ul().addClass("jstree-no-dots"); },
                		/**
                		 * toggles the connecting dots
                		 * @name toggle_dots()
                		 */
                		toggle_dots : function () { if(this._data.core.themes.dots) { this.hide_dots(); } else { this.show_dots(); } },
                		/**
                		 * show the node icons
                		 * @name show_icons()
                		 */
                		show_icons : function () { this._data.core.themes.icons = true; this.get_container_ul().removeClass("jstree-no-icons"); },
                		/**
                		 * hide the node icons
                		 * @name hide_icons()
                		 */
                		hide_icons : function () { this._data.core.themes.icons = false; this.get_container_ul().addClass("jstree-no-icons"); },
                		/**
                		 * toggle the node icons
                		 * @name toggle_icons()
                		 */
                		toggle_icons : function () { if(this._data.core.themes.icons) { this.hide_icons(); } else { this.show_icons(); } },
                		/**
                		 * set the node icon for a node
                		 * @name set_icon(obj, icon)
                		 * @param {mixed} obj
                		 * @param {String} icon the new icon - can be a path to an icon or a className, if using an image that is in the current directory use a `./` prefix, otherwise it will be detected as a class
                		 */
                		set_icon : function (obj, icon) {
                			var t1, t2, dom, old;
                			if($.isArray(obj)) {
                				obj = obj.slice();
                				for(t1 = 0, t2 = obj.length; t1 < t2; t1++) {
                					this.set_icon(obj[t1], icon);
                				}
                				return true;
                			}
                			obj = this.get_node(obj);
                			if(!obj || obj.id === '#') { return false; }
                			old = obj.icon;
                			obj.icon = icon;
                			dom = this.get_node(obj, true).children(".jstree-anchor").children(".jstree-themeicon");
                			if(icon === false) {
                				this.hide_icon(obj);
                			}
                			else if(icon === true) {
                				dom.removeClass('jstree-themeicon-custom ' + old).css("background","").removeAttr("rel");
                			}
                			else if(icon.indexOf("/") === -1 && icon.indexOf(".") === -1) {
                				dom.removeClass(old).css("background","");
                				dom.addClass(icon + ' jstree-themeicon-custom').attr("rel",icon);
                			}
                			else {
                				dom.removeClass(old).css("background","");
                				dom.addClass('jstree-themeicon-custom').css("background", "url('" + icon + "') center center no-repeat").attr("rel",icon);
                			}
                			return true;
                		},
                		/**
                		 * get the node icon for a node
                		 * @name get_icon(obj)
                		 * @param {mixed} obj
                		 * @return {String}
                		 */
                		get_icon : function (obj) {
                			obj = this.get_node(obj);
                			return (!obj || obj.id === '#') ? false : obj.icon;
                		},
                		/**
                		 * hide the icon on an individual node
                		 * @name hide_icon(obj)
                		 * @param {mixed} obj
                		 */
                		hide_icon : function (obj) {
                			var t1, t2;
                			if($.isArray(obj)) {
                				obj = obj.slice();
                				for(t1 = 0, t2 = obj.length; t1 < t2; t1++) {
                					this.hide_icon(obj[t1]);
                				}
                				return true;
                			}
                			obj = this.get_node(obj);
                			if(!obj || obj === '#') { return false; }
                			obj.icon = false;
                			this.get_node(obj, true).children("a").children(".jstree-themeicon").addClass('jstree-themeicon-hidden');
                			return true;
                		},
                		/**
                		 * show the icon on an individual node
                		 * @name show_icon(obj)
                		 * @param {mixed} obj
                		 */
                		show_icon : function (obj) {
                			var t1, t2, dom;
                			if($.isArray(obj)) {
                				obj = obj.slice();
                				for(t1 = 0, t2 = obj.length; t1 < t2; t1++) {
                					this.show_icon(obj[t1]);
                				}
                				return true;
                			}
                			obj = this.get_node(obj);
                			if(!obj || obj === '#') { return false; }
                			dom = this.get_node(obj, true);
                			obj.icon = dom.length ? dom.children("a").children(".jstree-themeicon").attr('rel') : true;
                			if(!obj.icon) { obj.icon = true; }
                			dom.children("a").children(".jstree-themeicon").removeClass('jstree-themeicon-hidden');
                			return true;
                		}
                	};
                
                	// helpers
                	$.vakata = {};
                	// reverse
                	$.fn.vakata_reverse = [].reverse;
                	// collect attributes
                	$.vakata.attributes = function(node, with_values) {
                		node = $(node)[0];
                		var attr = with_values ? {} : [];
                		if(node && node.attributes) {
                			$.each(node.attributes, function (i, v) {
                				if($.inArray(v.nodeName.toLowerCase(),['style','contenteditable','hasfocus','tabindex']) !== -1) { return; }
                				if(v.nodeValue !== null && $.trim(v.nodeValue) !== '') {
                					if(with_values) { attr[v.nodeName] = v.nodeValue; }
                					else { attr.push(v.nodeName); }
                				}
                			});
                		}
                		return attr;
                	};
                	$.vakata.array_unique = function(array) {
                		var a = [], i, j, l;
                		for(i = 0, l = array.length; i < l; i++) {
                			for(j = 0; j <= i; j++) {
                				if(array[i] === array[j]) {
                					break;
                				}
                			}
                			if(j === i) { a.push(array[i]); }
                		}
                		return a;
                	};
                	// remove item from array
                	$.vakata.array_remove = function(array, from, to) {
                		var rest = array.slice((to || from) + 1 || array.length);
                		array.length = from < 0 ? array.length + from : from;
                		array.push.apply(array, rest);
                		return array;
                	};
                	// remove item from array
                	$.vakata.array_remove_item = function(array, item) {
                		var tmp = $.inArray(item, array);
                		return tmp !== -1 ? $.vakata.array_remove(array, tmp) : array;
                	};
                	// browser sniffing
                	(function () {
                		var browser = {},
                			b_match = function(ua) {
                			ua = ua.toLowerCase();
                
                			var match =	/(chrome)[ \/]([\w.]+)/.exec( ua ) ||
                						/(webkit)[ \/]([\w.]+)/.exec( ua ) ||
                						/(opera)(?:.*version|)[ \/]([\w.]+)/.exec( ua ) ||
                						/(msie) ([\w.]+)/.exec( ua ) ||
                						(ua.indexOf("compatible") < 0 && /(mozilla)(?:.*? rv:([\w.]+)|)/.exec( ua )) ||
                						[];
                				return {
                					browser: match[1] || "",
                					version: match[2] || "0"
                				};
                			},
                			matched = b_match(window.navigator.userAgent);
                		if(matched.browser) {
                			browser[ matched.browser ] = true;
                			browser.version = matched.version;
                		}
                		if(browser.chrome) {
                			browser.webkit = true;
                		}
                		else if(browser.webkit) {
                			browser.safari = true;
                		}
                		$.vakata.browser = browser;
                	}());
                	if($.vakata.browser.msie && $.vakata.browser.version < 8) {
                		$.jstree.defaults.core.animation = 0;
                	}
                
                /**
                 * ### Checkbox plugin
                 *
                 * This plugin renders checkbox icons in front of each node, making multiple selection much easier. 
                 * It also supports tri-state behavior, meaning that if a node has a few of its children checked it will be rendered as undetermined, and state will be propagated up.
                 */
                
                	var _i = document.createElement('I');
                	_i.className = 'jstree-icon jstree-checkbox';
                	/**
                	 * stores all defaults for the checkbox plugin
                	 * @name $.jstree.defaults.checkbox
                	 * @plugin checkbox
                	 */
                	$.jstree.defaults.checkbox = {
                		/**
                		 * a boolean indicating if checkboxes should be visible (can be changed at a later time using `show_checkboxes()` and `hide_checkboxes`). Defaults to `true`.
                		 * @name $.jstree.defaults.checkbox.visible
                		 * @plugin checkbox
                		 */
                		visible				: true,
                		/**
                		 * a boolean indicating if checkboxes should cascade down and have an undetermined state. Defaults to `true`.
                		 * @name $.jstree.defaults.checkbox.three_state
                		 * @plugin checkbox
                		 */
                		three_state			: true,
                		/**
                		 * a boolean indicating if clicking anywhere on the node should act as clicking on the checkbox. Defaults to `true`.
                		 * @name $.jstree.defaults.checkbox.whole_node
                		 * @plugin checkbox
                		 */
                		whole_node			: true,
                		/**
                		 * a boolean indicating if the selected style of a node should be kept, or removed. Defaults to `true`.
                		 * @name $.jstree.defaults.checkbox.keep_selected_style
                		 * @plugin checkbox
                		 */
                		keep_selected_style	: true
                	};
                	$.jstree.plugins.checkbox = function (options, parent) {
                		this.bind = function () {
                			parent.bind.call(this);
                			this._data.checkbox.uto = false;
                			this.element
                				.on("init.jstree", $.proxy(function () {
                						this._data.checkbox.visible = this.settings.checkbox.visible;
                						if(!this.settings.checkbox.keep_selected_style) {
                							this.element.addClass('jstree-checkbox-no-clicked');
                						}
                					}, this))
                				.on("loading.jstree", $.proxy(function () {
                						this[ this._data.checkbox.visible ? 'show_checkboxes' : 'hide_checkboxes' ]();
                					}, this));
                			if(this.settings.checkbox.three_state) {
                				this.element
                					.on('changed.jstree move_node.jstree copy_node.jstree redraw.jstree open_node.jstree', $.proxy(function () {
                							if(this._data.checkbox.uto) { clearTimeout(this._data.checkbox.uto); }
                							this._data.checkbox.uto = setTimeout($.proxy(this._undetermined, this), 50);
                						}, this))
                					.on('model.jstree', $.proxy(function (e, data) {
                							var m = this._model.data,
                								p = m[data.parent],
                								dpc = data.nodes,
                								chd = [],
                								c, i, j, k, l, tmp;
                
                							// apply down
                							if(p.state.selected) {
                								for(i = 0, j = dpc.length; i < j; i++) {
                									m[dpc[i]].state.selected = true;
                								}
                								this._data.core.selected = this._data.core.selected.concat(dpc);
                							}
                							else {
                								for(i = 0, j = dpc.length; i < j; i++) {
                									if(m[dpc[i]].state.selected) {
                										for(k = 0, l = m[dpc[i]].children_d.length; k < l; k++) {
                											m[m[dpc[i]].children_d[k]].state.selected = true;
                										}
                										this._data.core.selected = this._data.core.selected.concat(m[dpc[i]].children_d);
                									}
                								}
                							}
                
                							// apply up
                							for(i = 0, j = p.children_d.length; i < j; i++) {
                								if(!m[p.children_d[i]].children.length) {
                									chd.push(m[p.children_d[i]].parent);
                								}
                							}
                							chd = $.vakata.array_unique(chd);
                							for(k = 0, l = chd.length; k < l; k++) {
                								p = m[chd[k]];
                								while(p && p.id !== '#') {
                									c = 0;
                									for(i = 0, j = p.children.length; i < j; i++) {
                										c += m[p.children[i]].state.selected;
                									}
                									if(c === j) {
                										p.state.selected = true;
                										this._data.core.selected.push(p.id);
                										tmp = this.get_node(p, true);
                										if(tmp && tmp.length) {
                											tmp.children('.jstree-anchor').addClass('jstree-clicked');
                										}
                									}
                									else {
                										break;
                									}
                									p = this.get_node(p.parent);
                								}
                							}
                							this._data.core.selected = $.vakata.array_unique(this._data.core.selected);
                						}, this))
                					.on('select_node.jstree', $.proxy(function (e, data) {
                							var obj = data.node,
                								m = this._model.data,
                								par = this.get_node(obj.parent),
                								dom = this.get_node(obj, true),
                								i, j, c, tmp;
                							this._data.core.selected = $.vakata.array_unique(this._data.core.selected.concat(obj.children_d));
                							for(i = 0, j = obj.children_d.length; i < j; i++) {
                								m[obj.children_d[i]].state.selected = true;
                							}
                							while(par && par.id !== '#') {
                								c = 0;
                								for(i = 0, j = par.children.length; i < j; i++) {
                									c += m[par.children[i]].state.selected;
                								}
                								if(c === j) {
                									par.state.selected = true;
                									this._data.core.selected.push(par.id);
                									tmp = this.get_node(par, true);
                									if(tmp && tmp.length) {
                										tmp.children('.jstree-anchor').addClass('jstree-clicked');
                									}
                								}
                								else {
                									break;
                								}
                								par = this.get_node(par.parent);
                							}
                							if(dom.length) {
                								dom.find('.jstree-anchor').addClass('jstree-clicked');
                							}
                						}, this))
                					.on('deselect_node.jstree', $.proxy(function (e, data) {
                							var obj = data.node,
                								dom = this.get_node(obj, true),
                								i, j, tmp;
                							for(i = 0, j = obj.children_d.length; i < j; i++) {
                								this._model.data[obj.children_d[i]].state.selected = false;
                							}
                							for(i = 0, j = obj.parents.length; i < j; i++) {
                								this._model.data[obj.parents[i]].state.selected = false;
                								tmp = this.get_node(obj.parents[i], true);
                								if(tmp && tmp.length) {
                									tmp.children('.jstree-anchor').removeClass('jstree-clicked');
                								}
                							}
                							tmp = [];
                							for(i = 0, j = this._data.core.selected.length; i < j; i++) {
                								if($.inArray(this._data.core.selected[i], obj.children_d) === -1 && $.inArray(this._data.core.selected[i], obj.parents) === -1) {
                									tmp.push(this._data.core.selected[i]);
                								}
                							}
                							this._data.core.selected = $.vakata.array_unique(tmp);
                							if(dom.length) {
                								dom.find('.jstree-anchor').removeClass('jstree-clicked');
                							}
                						}, this))
                					.on('delete_node.jstree', $.proxy(function (e, data) {
                							var p = this.get_node(data.parent),
                								m = this._model.data,
                								i, j, c, tmp;
                							while(p && p.id !== '#') {
                								c = 0;
                								for(i = 0, j = p.children.length; i < j; i++) {
                									c += m[p.children[i]].state.selected;
                								}
                								if(c === j) {
                									p.state.selected = true;
                									this._data.core.selected.push(p.id);
                									tmp = this.get_node(p, true);
                									if(tmp && tmp.length) {
                										tmp.children('.jstree-anchor').addClass('jstree-clicked');
                									}
                								}
                								else {
                									break;
                								}
                								p = this.get_node(p.parent);
                							}
                						}, this))
                					.on('move_node.jstree', $.proxy(function (e, data) {
                							var is_multi = data.is_multi,
                								old_par = data.old_parent,
                								new_par = this.get_node(data.parent),
                								m = this._model.data,
                								p, c, i, j, tmp;
                							if(!is_multi) {
                								p = this.get_node(old_par);
                								while(p && p.id !== '#') {
                									c = 0;
                									for(i = 0, j = p.children.length; i < j; i++) {
                										c += m[p.children[i]].state.selected;
                									}
                									if(c === j) {
                										p.state.selected = true;
                										this._data.core.selected.push(p.id);
                										tmp = this.get_node(p, true);
                										if(tmp && tmp.length) {
                											tmp.children('.jstree-anchor').addClass('jstree-clicked');
                										}
                									}
                									else {
                										break;
                									}
                									p = this.get_node(p.parent);
                								}
                							}
                							p = new_par;
                							while(p && p.id !== '#') {
                								c = 0;
                								for(i = 0, j = p.children.length; i < j; i++) {
                									c += m[p.children[i]].state.selected;
                								}
                								if(c === j) {
                									if(!p.state.selected) {
                										p.state.selected = true;
                										this._data.core.selected.push(p.id);
                										tmp = this.get_node(p, true);
                										if(tmp && tmp.length) {
                											tmp.children('.jstree-anchor').addClass('jstree-clicked');
                										}
                									}
                								}
                								else {
                									if(p.state.selected) {
                										p.state.selected = false;
                										this._data.core.selected = $.vakata.array_remove_item(this._data.core.selected, p.id);
                										tmp = this.get_node(p, true);
                										if(tmp && tmp.length) {
                											tmp.children('.jstree-anchor').removeClass('jstree-clicked');
                										}
                									}
                									else {
                										break;
                									}
                								}
                								p = this.get_node(p.parent);
                							}
                						}, this));
                			}
                		};
                		/**
                		 * set the undetermined state where and if necessary. Used internally.
                		 * @private
                		 * @name _undetermined()
                		 * @plugin checkbox
                		 */
                		this._undetermined = function () {
                			var i, j, m = this._model.data, s = this._data.core.selected, p = [], t = this;
                			for(i = 0, j = s.length; i < j; i++) {
                				if(m[s[i]] && m[s[i]].parents) {
                					p = p.concat(m[s[i]].parents);
                				}
                			}
                			// attempt for server side undetermined state
                			this.element.find('.jstree-closed').not(':has(ul)')
                				.each(function () {
                					var tmp = t.get_node(this);
                					if(!tmp.state.loaded && tmp.original && tmp.original.state && tmp.original.state.undetermined && tmp.original.state.undetermined === true) {
                						p.push(tmp.id);
                						p = p.concat(tmp.parents);
                					}
                				});
                			p = $.vakata.array_unique(p);
                			i = $.inArray('#', p);
                			if(i !== -1) {
                				p = $.vakata.array_remove(p, i);
                			}
                
                			this.element.find('.jstree-undetermined').removeClass('jstree-undetermined');
                			for(i = 0, j = p.length; i < j; i++) {
                				if(!m[p[i]].state.selected) {
                					s = this.get_node(p[i], true);
                					if(s && s.length) {
                						s.children('a').children('.jstree-checkbox').addClass('jstree-undetermined');
                					}
                				}
                			}
                		};
                		this.redraw_node = function(obj, deep, is_callback) {
                			obj = parent.redraw_node.call(this, obj, deep, is_callback);
                			if(obj) {
                				var tmp = obj.getElementsByTagName('A')[0];
                				tmp.insertBefore(_i.cloneNode(), tmp.childNodes[0]);
                			}
                			if(!is_callback && this.settings.checkbox.three_state) {
                				if(this._data.checkbox.uto) { clearTimeout(this._data.checkbox.uto); }
                				this._data.checkbox.uto = setTimeout($.proxy(this._undetermined, this), 50);
                			}
                			return obj;
                		};
                		this.activate_node = function (obj, e) {
                			if(this.settings.checkbox.whole_node || $(e.target).hasClass('jstree-checkbox')) {
                				e.ctrlKey = true;
                			}
                			return parent.activate_node.call(this, obj, e);
                		};
                		/**
                		 * show the node checkbox icons
                		 * @name show_checkboxes()
                		 * @plugin checkbox
                		 */
                		this.show_checkboxes = function () { this._data.core.themes.checkboxes = true; this.element.children("ul").removeClass("jstree-no-checkboxes"); };
                		/**
                		 * hide the node checkbox icons
                		 * @name hide_checkboxes()
                		 * @plugin checkbox
                		 */
                		this.hide_checkboxes = function () { this._data.core.themes.checkboxes = false; this.element.children("ul").addClass("jstree-no-checkboxes"); };
                		/**
                		 * toggle the node icons
                		 * @name toggle_checkboxes()
                		 * @plugin checkbox
                		 */
                		this.toggle_checkboxes = function () { if(this._data.core.themes.checkboxes) { this.hide_checkboxes(); } else { this.show_checkboxes(); } };
                	};
                
                	// include the checkbox plugin by default
                	// $.jstree.defaults.plugins.push("checkbox");
                
                /**
                 * ### Contextmenu plugin
                 *
                 * Shows a context menu when a node is right-clicked.
                 */
                // TODO: move logic outside of function + check multiple move
                
                	/**
                	 * stores all defaults for the contextmenu plugin
                	 * @name $.jstree.defaults.contextmenu
                	 * @plugin contextmenu
                	 */
                	$.jstree.defaults.contextmenu = {
                		/**
                		 * a boolean indicating if the node should be selected when the context menu is invoked on it. Defaults to `true`.
                		 * @name $.jstree.defaults.contextmenu.select_node
                		 * @plugin contextmenu
                		 */
                		select_node : true,
                		/**
                		 * a boolean indicating if the menu should be shown aligned with the node. Defaults to `true`, otherwise the mouse coordinates are used.
                		 * @name $.jstree.defaults.contextmenu.show_at_node
                		 * @plugin contextmenu
                		 */
                		show_at_node : true,
                		/**
                		 * an object of actions, or a function that accepts a node and a callback function and calls the callback function with an object of actions available for that node (you can also return the items too).
                		 * 
                		 * Each action consists of a key (a unique name) and a value which is an object with the following properties (only label and action are required):
                		 * 
                		 * * `separator_before` - a boolean indicating if there should be a separator before this item
                		 * * `separator_after` - a boolean indicating if there should be a separator after this item
                		 * * `_disabled` - a boolean indicating if this action should be disabled
                		 * * `label` - a string - the name of the action
                		 * * `action` - a function to be executed if this item is chosen
                		 * * `icon` - a string, can be a path to an icon or a className, if using an image that is in the current directory use a `./` prefix, otherwise it will be detected as a class
                		 * * `shortcut` - keyCode which will trigger the action if the menu is open (for example `113` for rename, which equals F2)
                		 * * `shortcut_label` - shortcut label (like for example `F2` for rename)
                		 * 
                		 * @name $.jstree.defaults.contextmenu.items
                		 * @plugin contextmenu
                		 */
                		items : function (o, cb) { // Could be an object directly
                			return {
                				"create" : {
                					"separator_before"	: false,
                					"separator_after"	: true,
                					"_disabled"			: false, //(this.check("create_node", data.reference, {}, "last")),
                					"label"				: "Create",
                					"action"			: function (data) {
                						var inst = $.jstree.reference(data.reference),
                							obj = inst.get_node(data.reference);
                						inst.create_node(obj, {}, "last", function (new_node) {
                							setTimeout(function () { inst.edit(new_node); },0);
                						});
                					}
                				},
                				"rename" : {
                					"separator_before"	: false,
                					"separator_after"	: false,
                					"_disabled"			: false, //(this.check("rename_node", data.reference, this.get_parent(data.reference), "")),
                					"label"				: "Rename",
                					/*
                					"shortcut"			: 113,
                					"shortcut_label"	: 'F2',
                					"icon"				: "glyphicon glyphicon-leaf",
                					*/
                					"action"			: function (data) {
                						var inst = $.jstree.reference(data.reference),
                							obj = inst.get_node(data.reference);
                						inst.edit(obj);
                					}
                				},
                				"remove" : {
                					"separator_before"	: false,
                					"icon"				: false,
                					"separator_after"	: false,
                					"_disabled"			: false, //(this.check("delete_node", data.reference, this.get_parent(data.reference), "")),
                					"label"				: "Delete",
                					"action"			: function (data) {
                						var inst = $.jstree.reference(data.reference),
                							obj = inst.get_node(data.reference);
                						if(inst.is_selected(obj)) {
                							inst.delete_node(inst.get_selected());
                						}
                						else {
                							inst.delete_node(obj);
                						}
                					}
                				},
                				"ccp" : {
                					"separator_before"	: true,
                					"icon"				: false,
                					"separator_after"	: false,
                					"label"				: "Edit",
                					"action"			: false,
                					"submenu" : {
                						"cut" : {
                							"separator_before"	: false,
                							"separator_after"	: false,
                							"label"				: "Cut",
                							"action"			: function (data) {
                								var inst = $.jstree.reference(data.reference),
                									obj = inst.get_node(data.reference);
                								if(inst.is_selected(obj)) {
                									inst.cut(inst.get_selected());
                								}
                								else {
                									inst.cut(obj);
                								}
                							}
                						},
                						"copy" : {
                							"separator_before"	: false,
                							"icon"				: false,
                							"separator_after"	: false,
                							"label"				: "Copy",
                							"action"			: function (data) {
                								var inst = $.jstree.reference(data.reference),
                									obj = inst.get_node(data.reference);
                								if(inst.is_selected(obj)) {
                									inst.copy(inst.get_selected());
                								}
                								else {
                									inst.copy(obj);
                								}
                							}
                						},
                						"paste" : {
                							"separator_before"	: false,
                							"icon"				: false,
                							"_disabled"			: function (data) {
                								return !$.jstree.reference(data.reference).can_paste();
                							},
                							"separator_after"	: false,
                							"label"				: "Paste",
                							"action"			: function (data) {
                								var inst = $.jstree.reference(data.reference),
                									obj = inst.get_node(data.reference);
                								inst.paste(obj);
                							}
                						}
                					}
                				}
                			};
                		}
                	};
                
                	$.jstree.plugins.contextmenu = function (options, parent) {
                		this.bind = function () {
                			parent.bind.call(this);
                
                			this.element
                				.on("contextmenu.jstree", ".jstree-anchor", $.proxy(function (e) {
                						e.preventDefault();
                						if(!this.is_loading(e.currentTarget)) {
                							this.show_contextmenu(e.currentTarget, e.pageX, e.pageY, e);
                						}
                					}, this))
                				.on("click.jstree", ".jstree-anchor", $.proxy(function (e) {
                						if(this._data.contextmenu.visible) {
                							$.vakata.context.hide();
                						}
                					}, this));
                			/*
                			if(!('oncontextmenu' in document.body) && ('ontouchstart' in document.body)) {
                				var el = null, tm = null;
                				this.element
                					.on("touchstart", ".jstree-anchor", function (e) {
                						el = e.currentTarget;
                						tm = +new Date();
                						$(document).one("touchend", function (e) {
                							e.target = document.elementFromPoint(e.originalEvent.targetTouches[0].pageX - window.pageXOffset, e.originalEvent.targetTouches[0].pageY - window.pageYOffset);
                							e.currentTarget = e.target;
                							tm = ((+(new Date())) - tm);
                							if(e.target === el && tm > 600 && tm < 1000) {
                								e.preventDefault();
                								$(el).trigger('contextmenu', e);
                							}
                							el = null;
                							tm = null;
                						});
                					});
                			}
                			*/
                			$(document).on("context_hide.vakata", $.proxy(function () { this._data.contextmenu.visible = false; }, this));
                		};
                		this.teardown = function () {
                			if(this._data.contextmenu.visible) {
                				$.vakata.context.hide();
                			}
                			parent.teardown.call(this);
                		};
                
                		/**
                		 * prepare and show the context menu for a node
                		 * @name show_contextmenu(obj [, x, y])
                		 * @param {mixed} obj the node
                		 * @param {Number} x the x-coordinate relative to the document to show the menu at
                		 * @param {Number} y the y-coordinate relative to the document to show the menu at
                		 * @param {Object} e the event if available that triggered the contextmenu
                		 * @plugin contextmenu
                		 * @trigger show_contextmenu.jstree
                		 */
                		this.show_contextmenu = function (obj, x, y, e) {
                			obj = this.get_node(obj);
                			if(!obj || obj.id === '#') { return false; }
                			var s = this.settings.contextmenu,
                				d = this.get_node(obj, true),
                				a = d.children(".jstree-anchor"),
                				o = false,
                				i = false;
                			if(s.show_at_node || x === undefined || y === undefined) {
                				o = a.offset();
                				x = o.left;
                				y = o.top + this._data.core.li_height;
                			}
                			if(this.settings.contextmenu.select_node && !this.is_selected(obj)) {
                				this.deselect_all();
                				this.select_node(obj, false, false, e);
                			}
                
                			i = s.items;
                			if($.isFunction(i)) {
                				i = i.call(this, obj, $.proxy(function (i) {
                					this._show_contextmenu(obj, x, y, i);
                				}, this));
                			}
                			if($.isPlainObject(i)) {
                				this._show_contextmenu(obj, x, y, i);
                			}
                		};
                		/**
                		 * show the prepared context menu for a node
                		 * @name _show_contextmenu(obj, x, y, i)
                		 * @param {mixed} obj the node
                		 * @param {Number} x the x-coordinate relative to the document to show the menu at
                		 * @param {Number} y the y-coordinate relative to the document to show the menu at
                		 * @param {Number} i the object of items to show
                		 * @plugin contextmenu
                		 * @trigger show_contextmenu.jstree
                		 * @private
                		 */
                		this._show_contextmenu = function (obj, x, y, i) {
                			var d = this.get_node(obj, true),
                				a = d.children(".jstree-anchor");
                			$(document).one("context_show.vakata", $.proxy(function (e, data) {
                				var cls = 'jstree-contextmenu jstree-' + this.get_theme() + '-contextmenu';
                				$(data.element).addClass(cls);
                			}, this));
                			this._data.contextmenu.visible = true;
                			$.vakata.context.show(a, { 'x' : x, 'y' : y }, i);
                			/**
                			 * triggered when the contextmenu is shown for a node
                			 * @event
                			 * @name show_contextmenu.jstree
                			 * @param {Object} node the node
                			 * @param {Number} x the x-coordinate of the menu relative to the document
                			 * @param {Number} y the y-coordinate of the menu relative to the document
                			 * @plugin contextmenu
                			 */
                			this.trigger('show_contextmenu', { "node" : obj, "x" : x, "y" : y });
                		};
                	};
                
                	// contextmenu helper
                	(function ($) {
                		var right_to_left = false,
                			vakata_context = {
                				element		: false,
                				reference	: false,
                				position_x	: 0,
                				position_y	: 0,
                				items		: [],
                				html		: "",
                				is_visible	: false
                			};
                
                		$.vakata.context = {
                			settings : {
                				hide_onmouseleave	: 0,
                				icons				: true
                			},
                			_trigger : function (event_name) {
                				$(document).triggerHandler("context_" + event_name + ".vakata", {
                					"reference"	: vakata_context.reference,
                					"element"	: vakata_context.element,
                					"position"	: {
                						"x" : vakata_context.position_x,
                						"y" : vakata_context.position_y
                					}
                				});
                			},
                			_execute : function (i) {
                				i = vakata_context.items[i];
                				return i && (!i._disabled || ($.isFunction(i._disabled) && !i._disabled({ "item" : i, "reference" : vakata_context.reference, "element" : vakata_context.element }))) && i.action ? i.action.call(null, {
                							"item"		: i,
                							"reference"	: vakata_context.reference,
                							"element"	: vakata_context.element,
                							"position"	: {
                								"x" : vakata_context.position_x,
                								"y" : vakata_context.position_y
                							}
                						}) : false;
                			},
                			_parse : function (o, is_callback) {
                				if(!o) { return false; }
                				if(!is_callback) {
                					vakata_context.html		= "";
                					vakata_context.items	= [];
                				}
                				var str = "",
                					sep = false,
                					tmp;
                
                				if(is_callback) { str += "<"+"ul>"; }
                				$.each(o, function (i, val) {
                					if(!val) { return true; }
                					vakata_context.items.push(val);
                					if(!sep && val.separator_before) {
                						str += "<"+"li class='vakata-context-separator'><"+"a href='#' " + ($.vakata.context.settings.icons ? '' : 'style="margin-left:0px;"') + ">&#160;<"+"/a><"+"/li>";
                					}
                					sep = false;
                					str += "<"+"li class='" + (val._class || "") + (val._disabled === true || ($.isFunction(val._disabled) && val._disabled({ "item" : val, "reference" : vakata_context.reference, "element" : vakata_context.element })) ? " vakata-contextmenu-disabled " : "") + "' "+(val.shortcut?" data-shortcut='"+val.shortcut+"' ":'')+">";
                					str += "<"+"a href='#' rel='" + (vakata_context.items.length - 1) + "'>";
                					if($.vakata.context.settings.icons) {
                						str += "<"+"i ";
                						if(val.icon) {
                							if(val.icon.indexOf("/") !== -1 || val.icon.indexOf(".") !== -1) { str += " style='background:url(\"" + val.icon + "\") center center no-repeat' "; }
                							else { str += " class='" + val.icon + "' "; }
                						}
                						str += "><"+"/i><"+"span class='vakata-contextmenu-sep'>&#160;<"+"/span>";
                					}
                					str += val.label + (val.shortcut?' <span class="vakata-contextmenu-shortcut vakata-contextmenu-shortcut-'+val.shortcut+'">'+ (val.shortcut_label || '') +'</span>':'') + "<"+"/a>";
                					if(val.submenu) {
                						tmp = $.vakata.context._parse(val.submenu, true);
                						if(tmp) { str += tmp; }
                					}
                					str += "<"+"/li>";
                					if(val.separator_after) {
                						str += "<"+"li class='vakata-context-separator'><"+"a href='#' " + ($.vakata.context.settings.icons ? '' : 'style="margin-left:0px;"') + ">&#160;<"+"/a><"+"/li>";
                						sep = true;
                					}
                				});
                				str  = str.replace(/<li class\='vakata-context-separator'\><\/li\>$/,"");
                				if(is_callback) { str += "</ul>"; }
                				/**
                				 * triggered on the document when the contextmenu is parsed (HTML is built)
                				 * @event
                				 * @plugin contextmenu
                				 * @name context_parse.vakata
                				 * @param {jQuery} reference the element that was right clicked
                				 * @param {jQuery} element the DOM element of the menu itself
                				 * @param {Object} position the x & y coordinates of the menu
                				 */
                				if(!is_callback) { vakata_context.html = str; $.vakata.context._trigger("parse"); }
                				return str.length > 10 ? str : false;
                			},
                			_show_submenu : function (o) {
                				o = $(o);
                				if(!o.length || !o.children("ul").length) { return; }
                				var e = o.children("ul"),
                					x = o.offset().left + o.outerWidth(),
                					y = o.offset().top,
                					w = e.width(),
                					h = e.height(),
                					dw = $(window).width() + $(window).scrollLeft(),
                					dh = $(window).height() + $(window).scrollTop();
                				// може да се спести е една проверка - дали няма някой от класовете вече нагоре
                				if(right_to_left) {
                					o[x - (w + 10 + o.outerWidth()) < 0 ? "addClass" : "removeClass"]("vakata-context-left");
                				}
                				else {
                					o[x + w + 10 > dw ? "addClass" : "removeClass"]("vakata-context-right");
                				}
                				if(y + h + 10 > dh) {
                					e.css("bottom","-1px");
                				}
                				e.show();
                			},
                			show : function (reference, position, data) {
                				var o, e, x, y, w, h, dw, dh, cond = true;
                				if(vakata_context.element && vakata_context.element.length) {
                					vakata_context.element.width('');
                				}
                				switch(cond) {
                					case (!position && !reference):
                						return false;
                					case (!!position && !!reference):
                						vakata_context.reference	= reference;
                						vakata_context.position_x	= position.x;
                						vakata_context.position_y	= position.y;
                						break;
                					case (!position && !!reference):
                						vakata_context.reference	= reference;
                						o = reference.offset();
                						vakata_context.position_x	= o.left + reference.outerHeight();
                						vakata_context.position_y	= o.top;
                						break;
                					case (!!position && !reference):
                						vakata_context.position_x	= position.x;
                						vakata_context.position_y	= position.y;
                						break;
                				}
                				if(!!reference && !data && $(reference).data('vakata_contextmenu')) {
                					data = $(reference).data('vakata_contextmenu');
                				}
                				if($.vakata.context._parse(data)) {
                					vakata_context.element.html(vakata_context.html);
                				}
                				if(vakata_context.items.length) {
                					e = vakata_context.element;
                					x = vakata_context.position_x;
                					y = vakata_context.position_y;
                					w = e.width();
                					h = e.height();
                					dw = $(window).width() + $(window).scrollLeft();
                					dh = $(window).height() + $(window).scrollTop();
                					if(right_to_left) {
                						x -= e.outerWidth();
                						if(x < $(window).scrollLeft() + 20) {
                							x = $(window).scrollLeft() + 20;
                						}
                					}
                					if(x + w + 20 > dw) {
                						x = dw - (w + 20);
                					}
                					if(y + h + 20 > dh) {
                						y = dh - (h + 20);
                					}
                
                					vakata_context.element
                						.css({ "left" : x, "top" : y })
                						.show()
                						.find('a:eq(0)').focus().parent().addClass("vakata-context-hover");
                					vakata_context.is_visible = true;
                					/**
                					 * triggered on the document when the contextmenu is shown
                					 * @event
                					 * @plugin contextmenu
                					 * @name context_show.vakata
                					 * @param {jQuery} reference the element that was right clicked
                					 * @param {jQuery} element the DOM element of the menu itself
                					 * @param {Object} position the x & y coordinates of the menu
                					 */
                					$.vakata.context._trigger("show");
                				}
                			},
                			hide : function () {
                				if(vakata_context.is_visible) {
                					vakata_context.element.hide().find("ul").hide().end().find(':focus').blur();
                					vakata_context.is_visible = false;
                					/**
                					 * triggered on the document when the contextmenu is hidden
                					 * @event
                					 * @plugin contextmenu
                					 * @name context_hide.vakata
                					 * @param {jQuery} reference the element that was right clicked
                					 * @param {jQuery} element the DOM element of the menu itself
                					 * @param {Object} position the x & y coordinates of the menu
                					 */
                					$.vakata.context._trigger("hide");
                				}
                			}
                		};
                		$(function () {
                			right_to_left = $("body").css("direction") === "rtl";
                			var to = false;
                
                			vakata_context.element = $("<ul class='vakata-context'></ul>");
                			vakata_context.element
                				.on("mouseenter", "li", function (e) {
                					e.stopImmediatePropagation();
                
                					if($.contains(this, e.relatedTarget)) {
                						// премахнато заради delegate mouseleave по-долу
                						// $(this).find(".vakata-context-hover").removeClass("vakata-context-hover");
                						return;
                					}
                
                					if(to) { clearTimeout(to); }
                					vakata_context.element.find(".vakata-context-hover").removeClass("vakata-context-hover").end();
                
                					$(this)
                						.siblings().find("ul").hide().end().end()
                						.parentsUntil(".vakata-context", "li").addBack().addClass("vakata-context-hover");
                					$.vakata.context._show_submenu(this);
                				})
                				// тестово - дали не натоварва?
                				.on("mouseleave", "li", function (e) {
                					if($.contains(this, e.relatedTarget)) { return; }
                					$(this).find(".vakata-context-hover").addBack().removeClass("vakata-context-hover");
                				})
                				.on("mouseleave", function (e) {
                					$(this).find(".vakata-context-hover").removeClass("vakata-context-hover");
                					if($.vakata.context.settings.hide_onmouseleave) {
                						to = setTimeout(
                							(function (t) {
                								return function () { $.vakata.context.hide(); };
                							}(this)), $.vakata.context.settings.hide_onmouseleave);
                					}
                				})
                				.on("click", "a", function (e) {
                					e.preventDefault();
                				})
                				.on("mouseup", "a", function (e) {
                					if(!$(this).blur().parent().hasClass("vakata-context-disabled") && $.vakata.context._execute($(this).attr("rel")) !== false) {
                						$.vakata.context.hide();
                					}
                				})
                				.on('keydown', 'a', function (e) {
                						var o = null;
                						switch(e.which) {
                							case 13:
                							case 32:
                								e.type = "mouseup";
                								e.preventDefault();
                								$(e.currentTarget).trigger(e);
                								break;
                							case 37:
                								if(vakata_context.is_visible) {
                									vakata_context.element.find(".vakata-context-hover").last().parents("li:eq(0)").find("ul").hide().find(".vakata-context-hover").removeClass("vakata-context-hover").end().end().children('a').focus();
                									e.stopImmediatePropagation();
                									e.preventDefault();
                								}
                								break;
                							case 38:
                								if(vakata_context.is_visible) {
                									o = vakata_context.element.find("ul:visible").addBack().last().children(".vakata-context-hover").removeClass("vakata-context-hover").prevAll("li:not(.vakata-context-separator)").first();
                									if(!o.length) { o = vakata_context.element.find("ul:visible").addBack().last().children("li:not(.vakata-context-separator)").last(); }
                									o.addClass("vakata-context-hover").children('a').focus();
                									e.stopImmediatePropagation();
                									e.preventDefault();
                								}
                								break;
                							case 39:
                								if(vakata_context.is_visible) {
                									vakata_context.element.find(".vakata-context-hover").last().children("ul").show().children("li:not(.vakata-context-separator)").removeClass("vakata-context-hover").first().addClass("vakata-context-hover").children('a').focus();
                									e.stopImmediatePropagation();
                									e.preventDefault();
                								}
                								break;
                							case 40:
                								if(vakata_context.is_visible) {
                									o = vakata_context.element.find("ul:visible").addBack().last().children(".vakata-context-hover").removeClass("vakata-context-hover").nextAll("li:not(.vakata-context-separator)").first();
                									if(!o.length) { o = vakata_context.element.find("ul:visible").addBack().last().children("li:not(.vakata-context-separator)").first(); }
                									o.addClass("vakata-context-hover").children('a').focus();
                									e.stopImmediatePropagation();
                									e.preventDefault();
                								}
                								break;
                							case 27:
                								$.vakata.context.hide();
                								e.preventDefault();
                								break;
                							default:
                								//console.log(e.which);
                								break;
                						}
                					})
                				.on('keydown', function (e) {
                					e.preventDefault();
                					var a = vakata_context.element.find('.vakata-contextmenu-shortcut-' + e.which).parent();
                					if(a.parent().not('.vakata-context-disabled')) {
                						a.mouseup();
                					}
                				})
                				.appendTo("body");
                
                			$(document)
                				.on("mousedown", function (e) {
                					if(vakata_context.is_visible && !$.contains(vakata_context.element[0], e.target)) { $.vakata.context.hide(); }
                				})
                				.on("context_show.vakata", function (e, data) {
                					vakata_context.element.find("li:has(ul)").children("a").addClass("vakata-context-parent");
                					if(right_to_left) {
                						vakata_context.element.addClass("vakata-context-rtl").css("direction", "rtl");
                					}
                					// also apply a RTL class?
                					vakata_context.element.find("ul").hide().end();
                				});
                		});
                	}($));
                	// $.jstree.defaults.plugins.push("contextmenu");
                
                /**
                 * ### Drag'n'drop plugin
                 *
                 * Enables dragging and dropping of nodes in the tree, resulting in a move or copy operations.
                 */
                
                	/**
                	 * stores all defaults for the drag'n'drop plugin
                	 * @name $.jstree.defaults.dnd
                	 * @plugin dnd
                	 */
                	$.jstree.defaults.dnd = {
                		/**
                		 * a boolean indicating if a copy should be possible while dragging (by pressint the meta key or Ctrl). Defaults to `true`.
                		 * @name $.jstree.defaults.dnd.copy
                		 * @plugin dnd
                		 */
                		copy : true,
                		/**
                		 * a number indicating how long a node should remain hovered while dragging to be opened. Defaults to `500`.
                		 * @name $.jstree.defaults.dnd.open_timeout
                		 * @plugin dnd
                		 */
                		open_timeout : 500,
                		/**
                		 * a function invoked each time a node is about to be dragged, invoked in the tree's scope and receives the node as an argument - return `false` to prevent dragging
                		 * @name $.jstree.defaults.dnd.is_draggable
                		 * @plugin dnd
                		 */
                		is_draggable : true,
                		/**
                		 * a boolean indicating if checks should constantly be made while the user is dragging the node (as opposed to checking only on drop), default is `true`
                		 * @name $.jstree.defaults.dnd.check_while_dragging
                		 * @plugin dnd
                		 */
                		check_while_dragging : true
                	};
                	// TODO: now check works by checking for each node individually, how about max_children, unique, etc?
                	// TODO: drop somewhere else - maybe demo only?
                	$.jstree.plugins.dnd = function (options, parent) {
                		this.bind = function () {
                			parent.bind.call(this);
                
                			this.element
                				.on('mousedown touchstart', '.jstree-anchor', $.proxy(function (e) {
                					var obj = this.get_node(e.target),
                						mlt = this.is_selected(obj) ? this.get_selected().length : 1;
                					if(obj && obj.id && obj.id !== "#" && (e.which === 1 || e.type === "touchstart") &&
                						(this.settings.dnd.is_draggable === true || ($.isFunction(this.settings.dnd.is_draggable) && this.settings.dnd.is_draggable.call(this, obj)))
                					) {
                						this.element.trigger('mousedown.jstree');
                						return $.vakata.dnd.start(e, { 'jstree' : true, 'origin' : this, 'obj' : this.get_node(obj,true), 'nodes' : mlt > 1 ? this.get_selected() : [obj.id] }, '<div id="jstree-dnd" class="jstree-' + this.get_theme() + '"><i class="jstree-icon jstree-er"></i>' + (mlt > 1 ? mlt + ' ' + this.get_string('nodes') : this.get_text(e.currentTarget, true)) + '<ins class="jstree-copy" style="display:none;">+</ins></div>');
                					}
                				}, this));
                		};
                	};
                
                	$(function() {
                		// bind only once for all instances
                		var lastmv = false,
                			laster = false,
                			opento = false,
                			marker = $('<div id="jstree-marker">&#160;</div>').hide().appendTo('body');
                
                		$(document)
                			.bind('dnd_start.vakata', function (e, data) {
                				lastmv = false;
                			})
                			.bind('dnd_move.vakata', function (e, data) {
                				if(opento) { clearTimeout(opento); }
                				if(!data.data.jstree) { return; }
                
                				// if we are hovering the marker image do nothing (can happen on "inside" drags)
                				if(data.event.target.id && data.event.target.id === 'jstree-marker') {
                					return;
                				}
                
                				var ins = $.jstree.reference(data.event.target),
                					ref = false,
                					off = false,
                					rel = false,
                					l, t, h, p, i, o, ok, t1, t2, op, ps, pr;
                				// if we are over an instance
                				if(ins && ins._data && ins._data.dnd) {
                					marker.attr('class', 'jstree-' + ins.get_theme());
                					data.helper
                						.children().attr('class', 'jstree-' + ins.get_theme())
                						.find('.jstree-copy:eq(0)')[ data.data.origin && data.data.origin.settings.dnd.copy && (data.event.metaKey || data.event.ctrlKey) ? 'show' : 'hide' ]();
                
                
                					// if are hovering the container itself add a new root node
                					if( (data.event.target === ins.element[0] || data.event.target === ins.get_container_ul()[0]) && ins.get_container_ul().children().length === 0) {
                						ok = true;
                						for(t1 = 0, t2 = data.data.nodes.length; t1 < t2; t1++) {
                							ok = ok && ins.check( (data.data.origin && data.data.origin.settings.dnd.copy && (data.event.metaKey || data.event.ctrlKey) ? "copy_node" : "move_node"), (data.data.origin && data.data.origin !== ins ? data.data.origin.get_node(data.data.nodes[t1]) : data.data.nodes[t1]), '#', 'last');
                							if(!ok) { break; }
                						}
                						if(ok) {
                							lastmv = { 'ins' : ins, 'par' : '#', 'pos' : 'last' };
                							marker.hide();
                							data.helper.find('.jstree-icon:eq(0)').removeClass('jstree-er').addClass('jstree-ok');
                							return;
                						}
                					}
                					else {
                						// if we are hovering a tree node
                						ref = $(data.event.target).closest('a');
                						if(ref && ref.length && ref.parent().is('.jstree-closed, .jstree-open, .jstree-leaf')) {
                							off = ref.offset();
                							rel = data.event.pageY - off.top;
                							h = ref.height();
                							if(rel < h / 3) {
                								o = ['b', 'i', 'a'];
                							}
                							else if(rel > h - h / 3) {
                								o = ['a', 'i', 'b'];
                							}
                							else {
                								o = rel > h / 2 ? ['i', 'a', 'b'] : ['i', 'b', 'a'];
                							}
                							$.each(o, function (j, v) {
                								switch(v) {
                									case 'b':
                										l = off.left - 6;
                										t = off.top - 5;
                										p = ins.get_parent(ref);
                										i = ref.parent().index();
                										break;
                									case 'i':
                										l = off.left - 2;
                										t = off.top - 5 + h / 2 + 1;
                										p = ref.parent();
                										i = 0;
                										break;
                									case 'a':
                										l = off.left - 6;
                										t = off.top - 5 + h;
                										p = ins.get_parent(ref);
                										i = ref.parent().index() + 1;
                										break;
                								}
                								/*!
                								// TODO: moving inside, but the node is not yet loaded?
                								// the check will work anyway, as when moving the node will be loaded first and checked again
                								if(v === 'i' && !ins.is_loaded(p)) { }
                								*/
                								ok = true;
                								for(t1 = 0, t2 = data.data.nodes.length; t1 < t2; t1++) {
                									op = data.data.origin && data.data.origin.settings.dnd.copy && (data.event.metaKey || data.event.ctrlKey) ? "copy_node" : "move_node";
                									ps = i;
                									if(op === "move_node" && v === 'a' && (data.data.origin && data.data.origin === ins) && p === ins.get_parent(data.data.nodes[t1])) {
                										pr = ins.get_node(p);
                										if(ps > $.inArray(data.data.nodes[t1], pr.children)) {
                											ps -= 1;
                										}
                									}
                									ok = ok && ( (ins && ins.settings && ins.settings.dnd && ins.settings.dnd.check_while_dragging === false) || ins.check(op, (data.data.origin && data.data.origin !== ins ? data.data.origin.get_node(data.data.nodes[t1]) : data.data.nodes[t1]), p, ps) );
                									if(!ok) {
                										if(ins && ins.last_error) { laster = ins.last_error(); }
                										break;
                									}
                								}
                								if(ok) {
                									if(v === 'i' && ref.parent().is('.jstree-closed') && ins.settings.dnd.open_timeout) {
                										opento = setTimeout((function (x, z) { return function () { x.open_node(z); }; }(ins, ref)), ins.settings.dnd.open_timeout);
                									}
                									lastmv = { 'ins' : ins, 'par' : p, 'pos' : i };
                									marker.css({ 'left' : l + 'px', 'top' : t + 'px' }).show();
                									data.helper.find('.jstree-icon:eq(0)').removeClass('jstree-er').addClass('jstree-ok');
                									laster = {};
                									o = true;
                									return false;
                								}
                							});
                							if(o === true) { return; }
                						}
                					}
                				}
                				lastmv = false;
                				data.helper.find('.jstree-icon').removeClass('jstree-ok').addClass('jstree-er');
                				marker.hide();
                			})
                			.bind('dnd_scroll.vakata', function (e, data) {
                				if(!data.data.jstree) { return; }
                				marker.hide();
                				lastmv = false;
                				data.helper.find('.jstree-icon:eq(0)').removeClass('jstree-ok').addClass('jstree-er');
                			})
                			.bind('dnd_stop.vakata', function (e, data) {
                				if(opento) { clearTimeout(opento); }
                				if(!data.data.jstree) { return; }
                				marker.hide();
                				var i, j, nodes = [];
                				if(lastmv) {
                					for(i = 0, j = data.data.nodes.length; i < j; i++) {
                						nodes[i] = data.data.origin ? data.data.origin.get_node(data.data.nodes[i]) : data.data.nodes[i];
                					}
                					lastmv.ins[ data.data.origin && data.data.origin.settings.dnd.copy && (data.event.metaKey || data.event.ctrlKey) ? 'copy_node' : 'move_node' ](nodes, lastmv.par, lastmv.pos);
                				}
                				else {
                					i = $(data.event.target).closest('.jstree');
                					if(i.length && laster && laster.error && laster.error === 'check') {
                						i = i.jstree(true);
                						if(i) {
                							i.settings.core.error.call(this, laster);
                						}
                					}
                				}
                			})
                			.bind('keyup keydown', function (e, data) {
                				data = $.vakata.dnd._get();
                				if(data.data && data.data.jstree) {
                					data.helper.find('.jstree-copy:eq(0)')[ data.data.origin && data.data.origin.settings.dnd.copy && (e.metaKey || e.ctrlKey) ? 'show' : 'hide' ]();
                				}
                			});
                	});
                
                	// helpers
                	(function ($) {
                		$.fn.vakata_reverse = [].reverse;
                		// private variable
                		var vakata_dnd = {
                			element	: false,
                			is_down	: false,
                			is_drag	: false,
                			helper	: false,
                			helper_w: 0,
                			data	: false,
                			init_x	: 0,
                			init_y	: 0,
                			scroll_l: 0,
                			scroll_t: 0,
                			scroll_e: false,
                			scroll_i: false
                		};
                		$.vakata.dnd = {
                			settings : {
                				scroll_speed		: 10,
                				scroll_proximity	: 20,
                				helper_left			: 5,
                				helper_top			: 10,
                				threshold			: 5
                			},
                			_trigger : function (event_name, e) {
                				var data = $.vakata.dnd._get();
                				data.event = e;
                				$(document).triggerHandler("dnd_" + event_name + ".vakata", data);
                			},
                			_get : function () {
                				return {
                					"data"		: vakata_dnd.data,
                					"element"	: vakata_dnd.element,
                					"helper"	: vakata_dnd.helper
                				};
                			},
                			_clean : function () {
                				if(vakata_dnd.helper) { vakata_dnd.helper.remove(); }
                				if(vakata_dnd.scroll_i) { clearInterval(vakata_dnd.scroll_i); vakata_dnd.scroll_i = false; }
                				vakata_dnd = {
                					element	: false,
                					is_down	: false,
                					is_drag	: false,
                					helper	: false,
                					helper_w: 0,
                					data	: false,
                					init_x	: 0,
                					init_y	: 0,
                					scroll_l: 0,
                					scroll_t: 0,
                					scroll_e: false,
                					scroll_i: false
                				};
                				$(document).off("mousemove touchmove", $.vakata.dnd.drag);
                				$(document).off("mouseup touchend", $.vakata.dnd.stop);
                			},
                			_scroll : function (init_only) {
                				if(!vakata_dnd.scroll_e || (!vakata_dnd.scroll_l && !vakata_dnd.scroll_t)) {
                					if(vakata_dnd.scroll_i) { clearInterval(vakata_dnd.scroll_i); vakata_dnd.scroll_i = false; }
                					return false;
                				}
                				if(!vakata_dnd.scroll_i) {
                					vakata_dnd.scroll_i = setInterval($.vakata.dnd._scroll, 100);
                					return false;
                				}
                				if(init_only === true) { return false; }
                
                				var i = vakata_dnd.scroll_e.scrollTop(),
                					j = vakata_dnd.scroll_e.scrollLeft();
                				vakata_dnd.scroll_e.scrollTop(i + vakata_dnd.scroll_t * $.vakata.dnd.settings.scroll_speed);
                				vakata_dnd.scroll_e.scrollLeft(j + vakata_dnd.scroll_l * $.vakata.dnd.settings.scroll_speed);
                				if(i !== vakata_dnd.scroll_e.scrollTop() || j !== vakata_dnd.scroll_e.scrollLeft()) {
                					/**
                					 * triggered on the document when a drag causes an element to scroll
                					 * @event
                					 * @plugin dnd
                					 * @name dnd_scroll.vakata
                					 * @param {Mixed} data any data supplied with the call to $.vakata.dnd.start
                					 * @param {DOM} element the DOM element being dragged
                					 * @param {jQuery} helper the helper shown next to the mouse
                					 * @param {jQuery} event the element that is scrolling
                					 */
                					$.vakata.dnd._trigger("scroll", vakata_dnd.scroll_e);
                				}
                			},
                			start : function (e, data, html) {
                				if(e.type === "touchstart" && e.originalEvent && e.originalEvent.changedTouches && e.originalEvent.changedTouches[0]) {
                					e.pageX = e.originalEvent.changedTouches[0].pageX;
                					e.pageY = e.originalEvent.changedTouches[0].pageY;
                					e.target = document.elementFromPoint(e.originalEvent.changedTouches[0].pageX - window.pageXOffset, e.originalEvent.changedTouches[0].pageY - window.pageYOffset);
                				}
                				if(vakata_dnd.is_drag) { $.vakata.dnd.stop({}); }
                				try {
                					e.currentTarget.unselectable = "on";
                					e.currentTarget.onselectstart = function() { return false; };
                					if(e.currentTarget.style) { e.currentTarget.style.MozUserSelect = "none"; }
                				} catch(ignore) { }
                				vakata_dnd.init_x	= e.pageX;
                				vakata_dnd.init_y	= e.pageY;
                				vakata_dnd.data		= data;
                				vakata_dnd.is_down	= true;
                				vakata_dnd.element	= e.currentTarget;
                				if(html !== false) {
                					vakata_dnd.helper = $("<div id='vakata-dnd'></div>").html(html).css({
                						"display"		: "block",
                						"margin"		: "0",
                						"padding"		: "0",
                						"position"		: "absolute",
                						"top"			: "-2000px",
                						"lineHeight"	: "16px",
                						"zIndex"		: "10000"
                					});
                				}
                				$(document).bind("mousemove touchmove", $.vakata.dnd.drag);
                				$(document).bind("mouseup touchend", $.vakata.dnd.stop);
                				return false;
                			},
                			drag : function (e) {
                				if(e.type === "touchmove" && e.originalEvent && e.originalEvent.changedTouches && e.originalEvent.changedTouches[0]) {
                					e.pageX = e.originalEvent.changedTouches[0].pageX;
                					e.pageY = e.originalEvent.changedTouches[0].pageY;
                					e.target = document.elementFromPoint(e.originalEvent.changedTouches[0].pageX - window.pageXOffset, e.originalEvent.changedTouches[0].pageY - window.pageYOffset);
                				}
                				if(!vakata_dnd.is_down) { return; }
                				if(!vakata_dnd.is_drag) {
                					if(
                						Math.abs(e.pageX - vakata_dnd.init_x) > $.vakata.dnd.settings.threshold ||
                						Math.abs(e.pageY - vakata_dnd.init_y) > $.vakata.dnd.settings.threshold
                					) {
                						if(vakata_dnd.helper) {
                							vakata_dnd.helper.appendTo("body");
                							vakata_dnd.helper_w = vakata_dnd.helper.outerWidth();
                						}
                						vakata_dnd.is_drag = true;
                						/**
                						 * triggered on the document when a drag starts
                						 * @event
                						 * @plugin dnd
                						 * @name dnd_start.vakata
                						 * @param {Mixed} data any data supplied with the call to $.vakata.dnd.start
                						 * @param {DOM} element the DOM element being dragged
                						 * @param {jQuery} helper the helper shown next to the mouse
                						 * @param {Object} event the event that caused the start (probably mousemove)
                						 */
                						$.vakata.dnd._trigger("start", e);
                					}
                					else { return; }
                				}
                
                				var d  = false, w  = false,
                					dh = false, wh = false,
                					dw = false, ww = false,
                					dt = false, dl = false,
                					ht = false, hl = false;
                
                				vakata_dnd.scroll_t = 0;
                				vakata_dnd.scroll_l = 0;
                				vakata_dnd.scroll_e = false;
                				$(e.target)
                					.parentsUntil("body").addBack().vakata_reverse()
                					.filter(function () {
                						return	(/^auto|scroll$/).test($(this).css("overflow")) &&
                								(this.scrollHeight > this.offsetHeight || this.scrollWidth > this.offsetWidth);
                					})
                					.each(function () {
                						var t = $(this), o = t.offset();
                						if(this.scrollHeight > this.offsetHeight) {
                							if(o.top + t.height() - e.pageY < $.vakata.dnd.settings.scroll_proximity)	{ vakata_dnd.scroll_t = 1; }
                							if(e.pageY - o.top < $.vakata.dnd.settings.scroll_proximity)				{ vakata_dnd.scroll_t = -1; }
                						}
                						if(this.scrollWidth > this.offsetWidth) {
                							if(o.left + t.width() - e.pageX < $.vakata.dnd.settings.scroll_proximity)	{ vakata_dnd.scroll_l = 1; }
                							if(e.pageX - o.left < $.vakata.dnd.settings.scroll_proximity)				{ vakata_dnd.scroll_l = -1; }
                						}
                						if(vakata_dnd.scroll_t || vakata_dnd.scroll_l) {
                							vakata_dnd.scroll_e = $(this);
                							return false;
                						}
                					});
                
                				if(!vakata_dnd.scroll_e) {
                					d  = $(document); w = $(window);
                					dh = d.height(); wh = w.height();
                					dw = d.width(); ww = w.width();
                					dt = d.scrollTop(); dl = d.scrollLeft();
                					if(dh > wh && e.pageY - dt < $.vakata.dnd.settings.scroll_proximity)		{ vakata_dnd.scroll_t = -1;  }
                					if(dh > wh && wh - (e.pageY - dt) < $.vakata.dnd.settings.scroll_proximity)	{ vakata_dnd.scroll_t = 1; }
                					if(dw > ww && e.pageX - dl < $.vakata.dnd.settings.scroll_proximity)		{ vakata_dnd.scroll_l = -1; }
                					if(dw > ww && ww - (e.pageX - dl) < $.vakata.dnd.settings.scroll_proximity)	{ vakata_dnd.scroll_l = 1; }
                					if(vakata_dnd.scroll_t || vakata_dnd.scroll_l) {
                						vakata_dnd.scroll_e = d;
                					}
                				}
                				if(vakata_dnd.scroll_e) { $.vakata.dnd._scroll(true); }
                
                				if(vakata_dnd.helper) {
                					ht = parseInt(e.pageY + $.vakata.dnd.settings.helper_top, 10);
                					hl = parseInt(e.pageX + $.vakata.dnd.settings.helper_left, 10);
                					if(dh && ht + 25 > dh) { ht = dh - 50; }
                					if(dw && hl + vakata_dnd.helper_w > dw) { hl = dw - (vakata_dnd.helper_w + 2); }
                					vakata_dnd.helper.css({
                						left	: hl + "px",
                						top		: ht + "px"
                					});
                				}
                				/**
                				 * triggered on the document when a drag is in progress
                				 * @event
                				 * @plugin dnd
                				 * @name dnd_move.vakata
                				 * @param {Mixed} data any data supplied with the call to $.vakata.dnd.start
                				 * @param {DOM} element the DOM element being dragged
                				 * @param {jQuery} helper the helper shown next to the mouse
                				 * @param {Object} event the event that caused this to trigger (most likely mousemove)
                				 */
                				$.vakata.dnd._trigger("move", e);
                			},
                			stop : function (e) {
                				if(e.type === "touchend" && e.originalEvent && e.originalEvent.changedTouches && e.originalEvent.changedTouches[0]) {
                					e.pageX = e.originalEvent.changedTouches[0].pageX;
                					e.pageY = e.originalEvent.changedTouches[0].pageY;
                					e.target = document.elementFromPoint(e.originalEvent.changedTouches[0].pageX - window.pageXOffset, e.originalEvent.changedTouches[0].pageY - window.pageYOffset);
                				}
                				if(vakata_dnd.is_drag) {
                					/**
                					 * triggered on the document when a drag stops (the dragged element is dropped)
                					 * @event
                					 * @plugin dnd
                					 * @name dnd_stop.vakata
                					 * @param {Mixed} data any data supplied with the call to $.vakata.dnd.start
                					 * @param {DOM} element the DOM element being dragged
                					 * @param {jQuery} helper the helper shown next to the mouse
                					 * @param {Object} event the event that caused the stop
                					 */
                					$.vakata.dnd._trigger("stop", e);
                				}
                				$.vakata.dnd._clean();
                			}
                		};
                	}(jQuery));
                
                	// include the dnd plugin by default
                	// $.jstree.defaults.plugins.push("dnd");
                
                
                /**
                 * ### Search plugin
                 *
                 * Adds search functionality to jsTree.
                 */
                
                	/**
                	 * stores all defaults for the search plugin
                	 * @name $.jstree.defaults.search
                	 * @plugin search
                	 */
                	$.jstree.defaults.search = {
                		/**
                		 * a jQuery-like AJAX config, which jstree uses if a server should be queried for results. 
                		 * 
                		 * A `str` (which is the search string) parameter will be added with the request. The expected result is a JSON array with nodes that need to be opened so that matching nodes will be revealed.
                		 * Leave this setting as `false` to not query the server.
                		 * @name $.jstree.defaults.search.ajax
                		 * @plugin search
                		 */
                		ajax : false,
                		/**
                		 * Indicates if the search should be fuzzy or not (should `chnd3` match `child node 3`). Default is `true`.
                		 * @name $.jstree.defaults.search.fuzzy
                		 * @plugin search
                		 */
                		fuzzy : true,
                		/**
                		 * Indicates if the search should be case sensitive. Default is `false`.
                		 * @name $.jstree.defaults.search.case_sensitive
                		 * @plugin search
                		 */
                		case_sensitive : false,
                		/**
                		 * Indicates if the tree should be filtered to show only matching nodes (keep in mind this can be a heavy on large trees in old browsers). Default is `false`.
                		 * @name $.jstree.defaults.search.show_only_matches
                		 * @plugin search
                		 */
                		show_only_matches : false,
                		/**
                		 * Indicates if all nodes opened to reveal the search result, should be closed when the search is cleared or a new search is performed. Default is `true`.
                		 * @name $.jstree.defaults.search.close_opened_onclear
                		 * @plugin search
                		 */
                		close_opened_onclear : true
                	};
                
                	$.jstree.plugins.search = function (options, parent) {
                		this.bind = function () {
                			parent.bind.call(this);
                
                			this._data.search.str = "";
                			this._data.search.dom = $();
                			this._data.search.res = [];
                			this._data.search.opn = [];
                			this._data.search.sln = null;
                
                			if(this.settings.search.show_only_matches) {
                				this.element
                					.on("search.jstree", function (e, data) {
                						if(data.nodes.length) {
                							$(this).find("li").hide().filter('.jstree-last').filter(function() { return this.nextSibling; }).removeClass('jstree-last');
                							data.nodes.parentsUntil(".jstree").addBack().show()
                								.filter("ul").each(function () { $(this).children("li:visible").eq(-1).addClass("jstree-last"); });
                						}
                					})
                					.on("clear_search.jstree", function (e, data) {
                						if(data.nodes.length) {
                							$(this).find("li").css("display","").filter('.jstree-last').filter(function() { return this.nextSibling; }).removeClass('jstree-last');
                						}
                					});
                			}
                		};
                		/**
                		 * used to search the tree nodes for a given string
                		 * @name search(str [, skip_async])
                		 * @param {String} str the search string
                		 * @param {Boolean} skip_async if set to true server will not be queried even if configured
                		 * @plugin search
                		 * @trigger search.jstree
                		 */
                		this.search = function (str, skip_async) {
                			if(str === false || $.trim(str) === "") {
                				return this.clear_search();
                			}
                			var s = this.settings.search,
                				a = s.ajax ? $.extend({}, s.ajax) : false,
                				f = null,
                				r = [],
                				p = [], i, j;
                			if(this._data.search.res.length) {
                				this.clear_search();
                			}
                			if(!skip_async && a !== false) {
                				if(!a.data) { a.data = {}; }
                				a.data.str = str;
                				return $.ajax(a)
                					.fail($.proxy(function () {
                						this._data.core.last_error = { 'error' : 'ajax', 'plugin' : 'search', 'id' : 'search_01', 'reason' : 'Could not load search parents', 'data' : JSON.stringify(a) };
                						this.settings.core.error.call(this, this._data.core.last_error);
                					}, this))
                					.done($.proxy(function (d) {
                						if(d && d.d) { d = d.d; }
                						this._data.search.sln = !$.isArray(d) ? [] : d;
                						this._search_load(str);
                					}, this));
                			}
                			this._data.search.str = str;
                			this._data.search.dom = $();
                			this._data.search.res = [];
                			this._data.search.opn = [];
                
                			f = new $.vakata.search(str, true, { caseSensitive : s.case_sensitive, fuzzy : s.fuzzy });
                
                			$.each(this._model.data, function (i, v) {
                				if(v.text && f.search(v.text).isMatch) {
                					r.push(i);
                					p = p.concat(v.parents);
                				}
                			});
                			if(r.length) {
                				p = $.vakata.array_unique(p);
                				this._search_open(p);
                				for(i = 0, j = r.length; i < j; i++) {
                					f = this.get_node(r[i], true);
                					if(f) {
                						this._data.search.dom = this._data.search.dom.add(f);
                					}
                				}
                				this._data.search.res = r;
                				this._data.search.dom.children(".jstree-anchor").addClass('jstree-search');
                			}
                			/**
                			 * triggered after search is complete
                			 * @event
                			 * @name search.jstree
                			 * @param {jQuery} nodes a jQuery collection of matching nodes
                			 * @param {String} str the search string
                			 * @param {Array} res a collection of objects represeing the matching nodes
                			 * @plugin search
                			 */
                			this.trigger('search', { nodes : this._data.search.dom, str : str, res : this._data.search.res });
                		};
                		/**
                		 * used to clear the last search (removes classes and shows all nodes if filtering is on)
                		 * @name clear_search()
                		 * @plugin search
                		 * @trigger clear_search.jstree
                		 */
                		this.clear_search = function () {
                			this._data.search.dom.children(".jstree-anchor").removeClass("jstree-search");
                			if(this.settings.search.close_opened_onclear) {
                				this.close_node(this._data.search.opn, 0);
                			}
                			/**
                			 * triggered after search is complete
                			 * @event
                			 * @name clear_search.jstree
                			 * @param {jQuery} nodes a jQuery collection of matching nodes (the result from the last search)
                			 * @param {String} str the search string (the last search string)
                			 * @param {Array} res a collection of objects represeing the matching nodes (the result from the last search)
                			 * @plugin search
                			 */
                			this.trigger('clear_search', { 'nodes' : this._data.search.dom, str : this._data.search.str, res : this._data.search.res });
                			this._data.search.str = "";
                			this._data.search.res = [];
                			this._data.search.opn = [];
                			this._data.search.dom = $();
                		};
                		/**
                		 * opens nodes that need to be opened to reveal the search results. Used only internally.
                		 * @private
                		 * @name _search_open(d)
                		 * @param {Array} d an array of node IDs
                		 * @plugin search
                		 */
                		this._search_open = function (d) {
                			var t = this;
                			$.each(d.concat([]), function (i, v) {
                				v = document.getElementById(v);
                				if(v) {
                					if(t.is_closed(v)) {
                						t._data.search.opn.push(v.id);
                						t.open_node(v, function () { t._search_open(d); }, 0);
                					}
                				}
                			});
                		};
                		/**
                		 * loads nodes that need to be opened to reveal the search results. Used only internally.
                		 * @private
                		 * @name _search_load(d, str)
                		 * @param {String} str the search string
                		 * @plugin search
                		 */
                		this._search_load = function (str) {
                			var res = true,
                				t = this,
                				m = t._model.data;
                			if($.isArray(this._data.search.sln)) {
                				if(!this._data.search.sln.length) {
                					this._data.search.sln = null;
                					this.search(str, true);
                				}
                				else {
                					$.each(this._data.search.sln, function (i, v) {
                						if(m[v]) {
                							$.vakata.array_remove_item(t._data.search.sln, v);
                							if(!m[v].state.loaded) {
                								t.load_node(v, function (o, s) { if(s) { t._search_load(str); } });
                								res = false;
                							}
                						}
                					});
                					if(res) {
                						this._data.search.sln = [];
                						this._search_load(str);
                					}
                				}
                			}
                		};
                	};
                
                	// helpers
                	(function ($) {
                		// from http://kiro.me/projects/fuse.html
                		$.vakata.search = function(pattern, txt, options) {
                			options = options || {};
                			if(options.fuzzy !== false) {
                				options.fuzzy = true;
                			}
                			pattern = options.caseSensitive ? pattern : pattern.toLowerCase();
                			var MATCH_LOCATION	= options.location || 0,
                				MATCH_DISTANCE	= options.distance || 100,
                				MATCH_THRESHOLD	= options.threshold || 0.6,
                				patternLen = pattern.length,
                				matchmask, pattern_alphabet, match_bitapScore, search;
                			if(patternLen > 32) {
                				options.fuzzy = false;
                			}
                			if(options.fuzzy) {
                				matchmask = 1 << (patternLen - 1);
                				pattern_alphabet = (function () {
                					var mask = {},
                						i = 0;
                					for (i = 0; i < patternLen; i++) {
                						mask[pattern.charAt(i)] = 0;
                					}
                					for (i = 0; i < patternLen; i++) {
                						mask[pattern.charAt(i)] |= 1 << (patternLen - i - 1);
                					}
                					return mask;
                				}());
                				match_bitapScore = function (e, x) {
                					var accuracy = e / patternLen,
                						proximity = Math.abs(MATCH_LOCATION - x);
                					if(!MATCH_DISTANCE) {
                						return proximity ? 1.0 : accuracy;
                					}
                					return accuracy + (proximity / MATCH_DISTANCE);
                				};
                			}
                			search = function (text) {
                				text = options.caseSensitive ? text : text.toLowerCase();
                				if(pattern === text || text.indexOf(pattern) !== -1) {
                					return {
                						isMatch: true,
                						score: 0
                					};
                				}
                				if(!options.fuzzy) {
                					return {
                						isMatch: false,
                						score: 1
                					};
                				}
                				var i, j,
                					textLen = text.length,
                					scoreThreshold = MATCH_THRESHOLD,
                					bestLoc = text.indexOf(pattern, MATCH_LOCATION),
                					binMin, binMid,
                					binMax = patternLen + textLen,
                					lastRd, start, finish, rd, charMatch,
                					score = 1,
                					locations = [];
                				if (bestLoc !== -1) {
                					scoreThreshold = Math.min(match_bitapScore(0, bestLoc), scoreThreshold);
                					bestLoc = text.lastIndexOf(pattern, MATCH_LOCATION + patternLen);
                					if (bestLoc !== -1) {
                						scoreThreshold = Math.min(match_bitapScore(0, bestLoc), scoreThreshold);
                					}
                				}
                				bestLoc = -1;
                				for (i = 0; i < patternLen; i++) {
                					binMin = 0;
                					binMid = binMax;
                					while (binMin < binMid) {
                						if (match_bitapScore(i, MATCH_LOCATION + binMid) <= scoreThreshold) {
                							binMin = binMid;
                						} else {
                							binMax = binMid;
                						}
                						binMid = Math.floor((binMax - binMin) / 2 + binMin);
                					}
                					binMax = binMid;
                					start = Math.max(1, MATCH_LOCATION - binMid + 1);
                					finish = Math.min(MATCH_LOCATION + binMid, textLen) + patternLen;
                					rd = new Array(finish + 2);
                					rd[finish + 1] = (1 << i) - 1;
                					for (j = finish; j >= start; j--) {
                						charMatch = pattern_alphabet[text.charAt(j - 1)];
                						if (i === 0) {
                							rd[j] = ((rd[j + 1] << 1) | 1) & charMatch;
                						} else {
                							rd[j] = ((rd[j + 1] << 1) | 1) & charMatch | (((lastRd[j + 1] | lastRd[j]) << 1) | 1) | lastRd[j + 1];
                						}
                						if (rd[j] & matchmask) {
                							score = match_bitapScore(i, j - 1);
                							if (score <= scoreThreshold) {
                								scoreThreshold = score;
                								bestLoc = j - 1;
                								locations.push(bestLoc);
                								if (bestLoc > MATCH_LOCATION) {
                									start = Math.max(1, 2 * MATCH_LOCATION - bestLoc);
                								} else {
                									break;
                								}
                							}
                						}
                					}
                					if (match_bitapScore(i + 1, MATCH_LOCATION) > scoreThreshold) {
                						break;
                					}
                					lastRd = rd;
                				}
                				return {
                					isMatch: bestLoc >= 0,
                					score: score
                				};
                			};
                			return txt === true ? { 'search' : search } : search(txt);
                		};
                	}(jQuery));
                
                	// include the search plugin by default
                	// $.jstree.defaults.plugins.push("search");
                
                /**
                 * ### Sort plugin
                 *
                 * Autmatically sorts all siblings in the tree according to a sorting function.
                 */
                
                	/**
                	 * the settings function used to sort the nodes.
                	 * It is executed in the tree's context, accepts two nodes as arguments and should return `1` or `-1`.
                	 * @name $.jstree.defaults.sort
                	 * @plugin sort
                	 */
                	$.jstree.defaults.sort = function (a, b) {
                		//return this.get_type(a) === this.get_type(b) ? (this.get_text(a) > this.get_text(b) ? 1 : -1) : this.get_type(a) >= this.get_type(b);
                		return this.get_text(a) > this.get_text(b) ? 1 : -1;
                	};
                	$.jstree.plugins.sort = function (options, parent) {
                		this.bind = function () {
                			parent.bind.call(this);
                			this.element
                				.on("model.jstree", $.proxy(function (e, data) {
                						this.sort(data.parent, true);
                					}, this))
                				.on("rename_node.jstree create_node.jstree", $.proxy(function (e, data) {
                						this.sort(data.parent || data.node.parent, false);
                						this.redraw_node(data.parent || data.node.parent, true);
                					}, this))
                				.on("move_node.jstree copy_node.jstree", $.proxy(function (e, data) {
                						this.sort(data.parent, false);
                						this.redraw_node(data.parent, true);
                					}, this));
                		};
                		/**
                		 * used to sort a node's children
                		 * @private
                		 * @name sort(obj [, deep])
                		 * @param  {mixed} obj the node
                		 * @param {Boolean} deep if set to `true` nodes are sorted recursively.
                		 * @plugin sort
                		 * @trigger search.jstree
                		 */
                		this.sort = function (obj, deep) {
                			var i, j;
                			obj = this.get_node(obj);
                			if(obj && obj.children && obj.children.length) {
                				obj.children.sort($.proxy(this.settings.sort, this));
                				if(deep) {
                					for(i = 0, j = obj.children_d.length; i < j; i++) {
                						this.sort(obj.children_d[i], false);
                					}
                				}
                			}
                		};
                	};
                
                	// include the sort plugin by default
                	// $.jstree.defaults.plugins.push("sort");
                
                /**
                 * ### State plugin
                 *
                 * Saves the state of the tree (selected nodes, opened nodes) on the user's computer using available options (localStorage, cookies, etc)
                 */
                
                	var to = false;
                	/**
                	 * stores all defaults for the state plugin
                	 * @name $.jstree.defaults.state
                	 * @plugin state
                	 */
                	$.jstree.defaults.state = {
                		/**
                		 * A string for the key to use when saving the current tree (change if using multiple trees in your project). Defaults to `jstree`.
                		 * @name $.jstree.defaults.state.key
                		 * @plugin state
                		 */
                		key		: 'jstree',
                		/**
                		 * A space separated list of events that trigger a state save. Defaults to `changed.jstree open_node.jstree close_node.jstree`.
                		 * @name $.jstree.defaults.state.events
                		 * @plugin state
                		 */
                		events	: 'changed.jstree open_node.jstree close_node.jstree',
                		/**
                		 * Time in milliseconds after which the state will expire. Defaults to 'false' meaning - no expire.
                		 * @name $.jstree.defaults.state.ttl
                		 * @plugin state
                		 */
                		ttl		: false,
                		/**
                		 * A function that will be executed prior to restoring state with one argument - the state object. Can be used to clear unwanted parts of the state.
                		 * @name $.jstree.defaults.state.filter
                		 * @plugin state
                		 */
                		filter	: false
                	};
                	$.jstree.plugins.state = function (options, parent) {
                		this.bind = function () {
                			parent.bind.call(this);
                			var bind = $.proxy(function () {
                				this.element.on(this.settings.state.events, $.proxy(function () {
                					if(to) { clearTimeout(to); }
                					to = setTimeout($.proxy(function () { this.save_state(); }, this), 100);
                				}, this));
                			}, this);
                			this.element
                				.on("ready.jstree", $.proxy(function (e, data) {
                						this.element.one("restore_state.jstree", bind);
                						if(!this.restore_state()) { bind(); }
                					}, this));
                		};
                		/**
                		 * save the state
                		 * @name save_state()
                		 * @plugin state
                		 */
                		this.save_state = function () {
                			var st = { 'state' : this.get_state(), 'ttl' : this.settings.state.ttl, 'sec' : +(new Date()) };
                			$.vakata.storage.set(this.settings.state.key, JSON.stringify(st));
                		};
                		/**
                		 * restore the state from the user's computer
                		 * @name restore_state()
                		 * @plugin state
                		 */
                		this.restore_state = function () {
                			var k = $.vakata.storage.get(this.settings.state.key);
                			if(!!k) { try { k = JSON.parse(k); } catch(ex) { return false; } }
                			if(!!k && k.ttl && k.sec && +(new Date()) - k.sec > k.ttl) { return false; }
                			if(!!k && k.state) { k = k.state; }
                			if(!!k && $.isFunction(this.settings.state.filter)) { k = this.settings.state.filter.call(this, k); }
                			if(!!k) {
                				this.element.one("set_state.jstree", function (e, data) { data.instance.trigger('restore_state', { 'state' : $.extend(true, {}, k) }); });
                				this.set_state(k);
                				return true;
                			}
                			return false;
                		};
                		/**
                		 * clear the state on the user's computer
                		 * @name clear_state()
                		 * @plugin state
                		 */
                		this.clear_state = function () {
                			return $.vakata.storage.del(this.settings.state.key);
                		};
                	};
                
                	(function ($, undefined) {
                		$.vakata.storage = {
                			// simply specifying the functions in FF throws an error
                			set : function (key, val) { return window.localStorage.setItem(key, val); },
                			get : function (key) { return window.localStorage.getItem(key); },
                			del : function (key) { return window.localStorage.removeItem(key); }
                		};
                	}(jQuery));
                
                	// include the state plugin by default
                	// $.jstree.defaults.plugins.push("state");
                
                /**
                 * ### Types plugin
                 *
                 * Makes it possible to add predefined types for groups of nodes, which make it possible to easily control nesting rules and icon for each group.
                 */
                
                	/**
                	 * An object storing all types as key value pairs, where the key is the type name and the value is an object that could contain following keys (all optional).
                	 * 
                	 * * `max_children` the maximum number of immediate children this node type can have. Do not specify or set to `-1` for unlimited.
                	 * * `max_depth` the maximum number of nesting this node type can have. A value of `1` would mean that the node can have children, but no grandchildren. Do not specify or set to `-1` for unlimited.
                	 * * `valid_children` an array of node type strings, that nodes of this type can have as children. Do not specify or set to `-1` for no limits.
                	 * * `icon` a string - can be a path to an icon or a className, if using an image that is in the current directory use a `./` prefix, otherwise it will be detected as a class. Omit to use the default icon from your theme.
                	 *
                	 * There are two predefined types:
                	 * 
                	 * * `#` represents the root of the tree, for example `max_children` would control the maximum number of root nodes.
                	 * * `default` represents the default node - any settings here will be applied to all nodes that do not have a type specified.
                	 * 
                	 * @name $.jstree.defaults.types
                	 * @plugin types
                	 */
                	$.jstree.defaults.types = {
                		'#' : {},
                		'default' : {}
                	};
                
                	$.jstree.plugins.types = function (options, parent) {
                		this.init = function (el, options) {
                			var i, j;
                			if(options && options.types && options.types['default']) {
                				for(i in options.types) {
                					if(i !== "default" && i !== "#" && options.types.hasOwnProperty(i)) {
                						for(j in options.types['default']) {
                							if(options.types['default'].hasOwnProperty(j) && options.types[i][j] === undefined) {
                								options.types[i][j] = options.types['default'][j];
                							}
                						}
                					}
                				}
                			}
                			parent.init.call(this, el, options);
                			this._model.data['#'].type = '#';
                		};
                		this.bind = function () {
                			parent.bind.call(this);
                			this.element
                				.on('model.jstree', $.proxy(function (e, data) {
                						var m = this._model.data,
                							dpc = data.nodes,
                							t = this.settings.types,
                							i, j, c = 'default';
                						for(i = 0, j = dpc.length; i < j; i++) {
                							c = 'default';
                							if(m[dpc[i]].original && m[dpc[i]].original.type && t[m[dpc[i]].original.type]) {
                								c = m[dpc[i]].original.type;
                							}
                							if(m[dpc[i]].data && m[dpc[i]].data.jstree && m[dpc[i]].data.jstree.type && t[m[dpc[i]].data.jstree.type]) {
                								c = m[dpc[i]].data.jstree.type;
                							}
                							m[dpc[i]].type = c;
                							if(m[dpc[i]].icon === true && t[c].icon !== undefined) {
                								m[dpc[i]].icon = t[c].icon;
                							}
                						}
                					}, this));
                		};
                		this.get_json = function (obj, options, flat) {
                			var i, j,
                				m = this._model.data,
                				opt = options ? $.extend(true, {}, options, {no_id:false}) : {},
                				tmp = parent.get_json.call(this, obj, opt, flat);
                			if(tmp === false) { return false; }
                			if($.isArray(tmp)) {
                				for(i = 0, j = tmp.length; i < j; i++) {
                					tmp[i].type = tmp[i].id && m[tmp[i].id] && m[tmp[i].id].type ? m[tmp[i].id].type : "default";
                					if(options && options.no_id) {
                						delete tmp[i].id;
                						if(tmp[i].li_attr && tmp[i].li_attr.id) {
                							delete tmp[i].li_attr.id;
                						}
                					}
                				}
                			}
                			else {
                				tmp.type = tmp.id && m[tmp.id] && m[tmp.id].type ? m[tmp.id].type : "default";
                				if(options && options.no_id) {
                					tmp = this._delete_ids(tmp);
                				}
                			}
                			return tmp;
                		};
                		this._delete_ids = function (tmp) {
                			if($.isArray(tmp)) {
                				for(var i = 0, j = tmp.length; i < j; i++) {
                					tmp[i] = this._delete_ids(tmp[i]);
                				}
                				return tmp;
                			}
                			delete tmp.id;
                			if(tmp.li_attr && tmp.li_attr.id) {
                				delete tmp.li_attr.id;
                			}
                			if(tmp.children && $.isArray(tmp.children)) {
                				tmp.children = this._delete_ids(tmp.children);
                			}
                			return tmp;
                		};
                		this.check = function (chk, obj, par, pos) {
                			if(parent.check.call(this, chk, obj, par, pos) === false) { return false; }
                			obj = obj && obj.id ? obj : this.get_node(obj);
                			par = par && par.id ? par : this.get_node(par);
                			var m = obj && obj.id ? $.jstree.reference(obj.id) : null, tmp, d, i, j;
                			m = m && m._model && m._model.data ? m._model.data : null;
                			switch(chk) {
                				case "create_node":
                				case "move_node":
                				case "copy_node":
                					if(chk !== 'move_node' || $.inArray(obj.id, par.children) === -1) {
                						tmp = this.get_rules(par);
                						if(tmp.max_children !== undefined && tmp.max_children !== -1 && tmp.max_children === par.children.length) {
                							this._data.core.last_error = { 'error' : 'check', 'plugin' : 'types', 'id' : 'types_01', 'reason' : 'max_children prevents function: ' + chk, 'data' : JSON.stringify({ 'chk' : chk, 'pos' : pos, 'obj' : obj && obj.id ? obj.id : false, 'par' : par && par.id ? par.id : false }) };
                							return false;
                						}
                						if(tmp.valid_children !== undefined && tmp.valid_children !== -1 && $.inArray(obj.type, tmp.valid_children) === -1) {
                							this._data.core.last_error = { 'error' : 'check', 'plugin' : 'types', 'id' : 'types_02', 'reason' : 'valid_children prevents function: ' + chk, 'data' : JSON.stringify({ 'chk' : chk, 'pos' : pos, 'obj' : obj && obj.id ? obj.id : false, 'par' : par && par.id ? par.id : false }) };
                							return false;
                						}
                						if(m && obj.children_d && obj.parents) {
                							d = 0;
                							for(i = 0, j = obj.children_d.length; i < j; i++) {
                								d = Math.max(d, m[obj.children_d[i]].parents.length);
                							}
                							d = d - obj.parents.length + 1;
                						}
                						if(d <= 0 || d === undefined) { d = 1; }
                						do {
                							if(tmp.max_depth !== undefined && tmp.max_depth !== -1 && tmp.max_depth < d) {
                								this._data.core.last_error = { 'error' : 'check', 'plugin' : 'types', 'id' : 'types_03', 'reason' : 'max_depth prevents function: ' + chk, 'data' : JSON.stringify({ 'chk' : chk, 'pos' : pos, 'obj' : obj && obj.id ? obj.id : false, 'par' : par && par.id ? par.id : false }) };
                								return false;
                							}
                							par = this.get_node(par.parent);
                							tmp = this.get_rules(par);
                							d++;
                						} while(par);
                					}
                					break;
                			}
                			return true;
                		};
                		/**
                		 * used to retrieve the type settings object for a node
                		 * @name get_rules(obj)
                		 * @param {mixed} obj the node to find the rules for
                		 * @return {Object}
                		 * @plugin types
                		 */
                		this.get_rules = function (obj) {
                			obj = this.get_node(obj);
                			if(!obj) { return false; }
                			var tmp = this.get_type(obj, true);
                			if(tmp.max_depth === undefined) { tmp.max_depth = -1; }
                			if(tmp.max_children === undefined) { tmp.max_children = -1; }
                			if(tmp.valid_children === undefined) { tmp.valid_children = -1; }
                			return tmp;
                		};
                		/**
                		 * used to retrieve the type string or settings object for a node
                		 * @name get_type(obj [, rules])
                		 * @param {mixed} obj the node to find the rules for
                		 * @param {Boolean} rules if set to `true` instead of a string the settings object will be returned
                		 * @return {String|Object}
                		 * @plugin types
                		 */
                		this.get_type = function (obj, rules) {
                			obj = this.get_node(obj);
                			return (!obj) ? false : ( rules ? $.extend({ 'type' : obj.type }, this.settings.types[obj.type]) : obj.type);
                		};
                		/**
                		 * used to change a node's type
                		 * @name set_type(obj, type)
                		 * @param {mixed} obj the node to change
                		 * @param {String} type the new type
                		 * @plugin types
                		 */
                		this.set_type = function (obj, type) {
                			var t, t1, t2, old_type, old_icon;
                			if($.isArray(obj)) {
                				obj = obj.slice();
                				for(t1 = 0, t2 = obj.length; t1 < t2; t1++) {
                					this.set_type(obj[t1], type);
                				}
                				return true;
                			}
                			t = this.settings.types;
                			obj = this.get_node(obj);
                			if(!t[type] || !obj) { return false; }
                			old_type = obj.type;
                			old_icon = this.get_icon(obj);
                			obj.type = type;
                			if(old_icon === true || (t[old_type] && t[old_type].icon && old_icon === t[old_type].icon)) {
                				this.set_icon(obj, t[type].icon !== undefined ? t[type].icon : true);
                			}
                			return true;
                		};
                	};
                	// include the types plugin by default
                	// $.jstree.defaults.plugins.push("types");
                
                /**
                 * ### Unique plugin
                 *
                 * Enforces that no nodes with the same name can coexist as siblings.
                 */
                
                	$.jstree.plugins.unique = function (options, parent) {
                		this.check = function (chk, obj, par, pos) {
                			if(parent.check.call(this, chk, obj, par, pos) === false) { return false; }
                			obj = obj && obj.id ? obj : this.get_node(obj);
                			par = par && par.id ? par : this.get_node(par);
                			if(!par || !par.children) { return true; }
                			var n = chk === "rename_node" ? pos : obj.text,
                				c = [],
                				m = this._model.data, i, j;
                			for(i = 0, j = par.children.length; i < j; i++) {
                				c.push(m[par.children[i]].text);
                			}
                			switch(chk) {
                				case "delete_node":
                					return true;
                				case "rename_node":
                				case "copy_node":
                					i = ($.inArray(n, c) === -1);
                					if(!i) {
                						this._data.core.last_error = { 'error' : 'check', 'plugin' : 'unique', 'id' : 'unique_01', 'reason' : 'Child with name ' + n + ' already exists. Preventing: ' + chk, 'data' : JSON.stringify({ 'chk' : chk, 'pos' : pos, 'obj' : obj && obj.id ? obj.id : false, 'par' : par && par.id ? par.id : false }) };
                					}
                					return i;
                				case "move_node":
                					i = (obj.parent === par.id || $.inArray(n, c) === -1);
                					if(!i) {
                						this._data.core.last_error = { 'error' : 'check', 'plugin' : 'unique', 'id' : 'unique_01', 'reason' : 'Child with name ' + n + ' already exists. Preventing: ' + chk, 'data' : JSON.stringify({ 'chk' : chk, 'pos' : pos, 'obj' : obj && obj.id ? obj.id : false, 'par' : par && par.id ? par.id : false }) };
                					}
                					return i;
                			}
                			return true;
                		};
                	};
                
                	// include the unique plugin by default
                	// $.jstree.defaults.plugins.push("unique");
                
                
                /**
                 * ### Wholerow plugin
                 *
                 * Makes each node appear block level. Making selection easier. May cause slow down for large trees in old browsers.
                 */
                
                	var div = document.createElement('DIV');
                	div.setAttribute('unselectable','on');
                	div.className = 'jstree-wholerow';
                	div.innerHTML = '&#160;';
                	$.jstree.plugins.wholerow = function (options, parent) {
                		this.bind = function () {
                			parent.bind.call(this);
                
                			this.element
                				.on('loading', $.proxy(function () {
                						div.style.height = this._data.core.li_height + 'px';
                					}, this))
                				.on('ready.jstree set_state.jstree', $.proxy(function () {
                						this.hide_dots();
                					}, this))
                				.on("ready.jstree", $.proxy(function () {
                						this.get_container_ul().addClass('jstree-wholerow-ul');
                					}, this))
                				.on("deselect_all.jstree", $.proxy(function (e, data) {
                						this.element.find('.jstree-wholerow-clicked').removeClass('jstree-wholerow-clicked');
                					}, this))
                				.on("changed.jstree", $.proxy(function (e, data) {
                						this.element.find('.jstree-wholerow-clicked').removeClass('jstree-wholerow-clicked');
                						var tmp = false, i, j;
                						for(i = 0, j = data.selected.length; i < j; i++) {
                							tmp = this.get_node(data.selected[i], true);
                							if(tmp && tmp.length) {
                								tmp.children('.jstree-wholerow').addClass('jstree-wholerow-clicked');
                							}
                						}
                					}, this))
                				.on("open_node.jstree", $.proxy(function (e, data) {
                						this.get_node(data.node, true).find('.jstree-clicked').parent().children('.jstree-wholerow').addClass('jstree-wholerow-clicked');
                					}, this))
                				.on("hover_node.jstree dehover_node.jstree", $.proxy(function (e, data) {
                						this.get_node(data.node, true).children('.jstree-wholerow')[e.type === "hover_node"?"addClass":"removeClass"]('jstree-wholerow-hovered');
                					}, this))
                				.on("contextmenu.jstree", ".jstree-wholerow", $.proxy(function (e) {
                						e.preventDefault();
                						$(e.currentTarget).closest("li").children("a:eq(0)").trigger('contextmenu',e);
                					}, this))
                				.on("click.jstree", ".jstree-wholerow", function (e) {
                						e.stopImmediatePropagation();
                						var tmp = $.Event('click', { metaKey : e.metaKey, ctrlKey : e.ctrlKey, altKey : e.altKey, shiftKey : e.shiftKey });
                						$(e.currentTarget).closest("li").children("a:eq(0)").trigger(tmp).focus();
                					})
                				.on("click.jstree", ".jstree-leaf > .jstree-ocl", $.proxy(function (e) {
                						e.stopImmediatePropagation();
                						var tmp = $.Event('click', { metaKey : e.metaKey, ctrlKey : e.ctrlKey, altKey : e.altKey, shiftKey : e.shiftKey });
                						$(e.currentTarget).closest("li").children("a:eq(0)").trigger(tmp).focus();
                					}, this))
                				.on("mouseover.jstree", ".jstree-wholerow, .jstree-icon", $.proxy(function (e) {
                						e.stopImmediatePropagation();
                						this.hover_node(e.currentTarget);
                						return false;
                					}, this))
                				.on("mouseleave.jstree", ".jstree-node", $.proxy(function (e) {
                						this.dehover_node(e.currentTarget);
                					}, this));
                		};
                		this.teardown = function () {
                			if(this.settings.wholerow) {
                				this.element.find(".jstree-wholerow").remove();
                			}
                			parent.teardown.call(this);
                		};
                		this.redraw_node = function(obj, deep, callback) {
                			obj = parent.redraw_node.call(this, obj, deep, callback);
                			if(obj) {
                				var tmp = div.cloneNode(true);
                				//tmp.style.height = this._data.core.li_height + 'px';
                				if($.inArray(obj.id, this._data.core.selected) !== -1) { tmp.className += ' jstree-wholerow-clicked'; }
                				obj.insertBefore(tmp, obj.childNodes[0]);
                			}
                			return obj;
                		};
                	};
                	// include the wholerow plugin by default
                	// $.jstree.defaults.plugins.push("wholerow");
                
                }));
                (function() {
                  var __bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; },
                    __hasProp = {}.hasOwnProperty,
                    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };
                
                  define('widget/object_explorer',["underscore", "jquery", "jstree", "backbone", "common/has_properties", "common/continuum_view", "source/column_data_source"], function(_, $, $1, Backbone, HasProperties, ContinuumView, ColumnDataSource) {
                    var ObjectExplorer, ObjectExplorerView, ObjectExplorers, _ref, _ref1, _ref2;
                    ObjectExplorerView = (function(_super) {
                      __extends(ObjectExplorerView, _super);
                
                      function ObjectExplorerView() {
                        this.createContextMenu = __bind(this.createContextMenu, this);
                        this.onEvent = __bind(this.onEvent, this);
                        _ref = ObjectExplorerView.__super__.constructor.apply(this, arguments);
                        return _ref;
                      }
                
                      ObjectExplorerView.prototype.initialize = function(options) {
                        ObjectExplorerView.__super__.initialize.call(this, options);
                        this.onEvent = _.debounce(this.onEvent, options.debounce || 200);
                        this.showToolbar = options.showToolbar || false;
                        this.arrayLimit = options.arrayLimit || 100;
                        return this.render();
                      };
                
                      ObjectExplorerView.prototype.base = function() {
                        if (this._base == null) {
                          this._base = require("common/base");
                        }
                        return this._base;
                      };
                
                      ObjectExplorerView.prototype.resolve_ref = function(ref) {
                        return this.base().Collections(ref.type).get(ref.id);
                      };
                
                      ObjectExplorerView.prototype.delegateEvents = function(events) {
                        var type, _i, _len, _ref1, _results;
                        ObjectExplorerView.__super__.delegateEvents.call(this, events);
                        _ref1 = _.keys(this.base().locations);
                        _results = [];
                        for (_i = 0, _len = _ref1.length; _i < _len; _i++) {
                          type = _ref1[_i];
                          _results.push(this.base().Collections(type).on("all", this.onEvent));
                        }
                        return _results;
                      };
                
                      ObjectExplorerView.prototype.onEvent = function(event) {
                        return this.reRender();
                      };
                
                      ObjectExplorerView.prototype.createTree = function(nonempty) {
                        var children, collection, node, nodes, type, _i, _len, _results;
                        if (nonempty == null) {
                          nonempty = true;
                        }
                        nodes = (function() {
                          var _i, _len, _ref1, _results,
                            _this = this;
                          _ref1 = _.keys(this.base().locations);
                          _results = [];
                          for (_i = 0, _len = _ref1.length; _i < _len; _i++) {
                            type = _ref1[_i];
                            collection = this.base().Collections(type);
                            children = collection.map(function(obj, index) {
                              var visited;
                              visited = {};
                              visited[obj.id] = 1;
                              return _this.descend(index, obj, visited);
                            });
                            _results.push(this.node(type, collection, null, children));
                          }
                          return _results;
                        }).call(this);
                        if (nonempty) {
                          _results = [];
                          for (_i = 0, _len = nodes.length; _i < _len; _i++) {
                            node = nodes[_i];
                            if (node.children.length > 0) {
                              _results.push(node);
                            }
                          }
                          return _results;
                        } else {
                          return nodes;
                        }
                      };
                
                      ObjectExplorerView.prototype.descend = function(label, obj, visited) {
                        var arrayLimit, attr, children, color, html, icon, index, key, ref, truncate, type, value, _ref1;
                        if (this.isRef(obj)) {
                          ref = true;
                          if (visited[obj.id] == null) {
                            obj = this.base().Collections(obj.type).get(obj.id);
                          } else {
                            console.log("Cyclic reference to " + obj.type + ":" + obj.id);
                          }
                        }
                        if (obj instanceof HasProperties) {
                          visited = _.clone(visited);
                          visited[obj.id] = 1;
                          children = (function() {
                            var _ref1, _results;
                            _ref1 = obj.attributes;
                            _results = [];
                            for (attr in _ref1) {
                              if (!__hasProp.call(_ref1, attr)) continue;
                              value = _ref1[attr];
                              if (this.isAttr(attr)) {
                                _results.push(this.descend(attr, value, visited));
                              }
                            }
                            return _results;
                          }).call(this);
                          type = obj.type;
                          icon = "object";
                          value = null;
                          color = null;
                        } else if (_.isArray(obj)) {
                          truncate = obj.length > this.arrayLimit;
                          arrayLimit = this.arrayLimit || obj.length;
                          children = (function() {
                            var _i, _len, _ref1, _results;
                            _ref1 = obj.slice(0, +this.arrayLimit + 1 || 9e9);
                            _results = [];
                            for (index = _i = 0, _len = _ref1.length; _i < _len; index = ++_i) {
                              value = _ref1[index];
                              _results.push(this.descend(index, value, visited));
                            }
                            return _results;
                          }).call(this);
                          type = ("Array[" + obj.length + "]") + (truncate ? " (showing first " + this.arrayLimit + " items)" : "");
                          icon = "array";
                          value = null;
                          color = null;
                        } else if (_.isObject(obj)) {
                          children = (function() {
                            var _results;
                            _results = [];
                            for (key in obj) {
                              if (!__hasProp.call(obj, key)) continue;
                              value = obj[key];
                              _results.push(this.descend(key, value, visited));
                            }
                            return _results;
                          }).call(this);
                          type = "Object[" + (_.keys(obj).length) + "]";
                          icon = "object";
                          value = null;
                          color = null;
                        } else {
                          children = [];
                          _ref1 = _.isUndefined(obj) ? [null, "object", null, 'orchid'] : _.isNull(obj) ? [null, "object", null, 'teal'] : _.isBoolean(obj) ? ["Boolean", "boolean", null, 'darkmagenta'] : _.isNumber(obj) ? ["Number", "number", null, 'green'] : _.isString(obj) ? ["String", "string", "\"" + obj + "\"", 'firebrick'] : _.isFunction(obj) ? ["Function", "function", null, null] : _.isDate(obj) ? ["Date", "date", null, null] : _.isRegExp(obj) ? ["RegExp", "regexp", null, null] : _.isElement(obj) ? ["Element", "domnode", null, null] : [typeof obj, "object", null, null], type = _ref1[0], icon = _ref1[1], value = _ref1[2], color = _ref1[3];
                          if (value == null) {
                            value = "" + obj;
                          }
                          if (color == null) {
                            color = "black";
                          }
                        }
                        html = ["<span style=\"color:gray\">" + label + "</span>"];
                        if (type != null) {
                          html = html.concat([": ", "<span style=\"color:blue\">" + type + (ref ? "<span style=\"color:red\">*</span>" : "") + "</span>"]);
                        }
                        if (value != null) {
                          html = html.concat([" = ", "<span style=\"color:" + color + "\">" + value + "</span>"]);
                        }
                        return this.node(html.join(""), obj, icon, children);
                      };
                
                      ObjectExplorerView.prototype.isRef = function(obj) {
                        return _.isObject(obj) && (_.isEqual(_.keys(obj), ["id", "type"]) || _.isEqual(_.keys(obj), ["type", "id"]));
                      };
                
                      ObjectExplorerView.prototype.isAttr = function(attr) {
                        return attr.length > 0 && attr[0] !== '_';
                      };
                
                      ObjectExplorerView.prototype.node = function(text, obj, icon, children, open) {
                        return {
                          text: text,
                          data: {
                            obj: obj instanceof HasProperties ? {
                              type: obj.type,
                              id: obj.id
                            } : null
                          },
                          icon: icon ? "bk-icon-type-" + icon : null,
                          children: children || [],
                          state: {
                            open: open || false
                          }
                        };
                      };
                
                      ObjectExplorerView.prototype.renderToolbar = function() {
                        var $refresh, $toolbar,
                          _this = this;
                        $toolbar = $('<div class="bk-bs-btn-group"></div>');
                        $refresh = $('<button type="button" class="bk-bs-btn bk-bs-btn-default">Refresh</button>');
                        $refresh.click(function(event) {
                          return _this.reRender();
                        });
                        $toolbar.append($refresh);
                        if (!this.showToolbar) {
                          $toolbar.hide();
                        }
                        return $toolbar;
                      };
                
                      ObjectExplorerView.prototype.themeUrl = function() {
                        return null;
                      };
                
                      ObjectExplorerView.prototype.createContextMenu = function(node) {
                        var data, menu;
                        data = node.original;
                        menu = {};
                        return menu;
                      };
                
                      ObjectExplorerView.prototype.renderTree = function() {
                        var tree,
                          _this = this;
                        tree = $('<div/>');
                        tree.on('changed.jstree', function(event, data) {
                          var i, obj, ref, _i, _ref1, _results;
                          _results = [];
                          for (i = _i = 0, _ref1 = data.selected.length; 0 <= _ref1 ? _i < _ref1 : _i > _ref1; i = 0 <= _ref1 ? ++_i : --_i) {
                            ref = data.instance.get_node(data.selected[i]).data.ref;
                            if (ref != null) {
                              obj = _this.resolve_ref(ref);
                              if (obj instanceof ColumnDataSource.Model && (_this.mget("data_widget") != null)) {
                                _results.push(_this.mget_obj("data_widget").set_obj("source", obj));
                              } else {
                                _results.push(void 0);
                              }
                            } else {
                              _results.push(void 0);
                            }
                          }
                          return _results;
                        });
                        tree.jstree({
                          core: {
                            data: this.createTree(),
                            themes: {
                              url: this.themeUrl()
                            }
                          },
                          contextmenu: {
                            items: this.createContextMenu
                          },
                          plugins: ["contextmenu"]
                        });
                        return tree;
                      };
                
                      ObjectExplorerView.prototype.render = function() {
                        this.$toolbar = this.renderToolbar();
                        this.$tree = this.renderTree();
                        return this.$el.append([this.$toolbar, this.$tree]);
                      };
                
                      ObjectExplorerView.prototype.reRender = function() {
                        this.$tree.jstree('destroy');
                        this.$el.empty();
                        return this.render();
                      };
                
                      return ObjectExplorerView;
                
                    })(ContinuumView.View);
                    ObjectExplorer = (function(_super) {
                      __extends(ObjectExplorer, _super);
                
                      function ObjectExplorer() {
                        _ref1 = ObjectExplorer.__super__.constructor.apply(this, arguments);
                        return _ref1;
                      }
                
                      ObjectExplorer.prototype.type = 'ObjectExplorer';
                
                      ObjectExplorer.prototype.default_view = ObjectExplorerView;
                
                      ObjectExplorer.prototype.defaults = function() {
                        return {
                          data_widget: null
                        };
                      };
                
                      return ObjectExplorer;
                
                    })(HasProperties);
                    ObjectExplorers = (function(_super) {
                      __extends(ObjectExplorers, _super);
                
                      function ObjectExplorers() {
                        _ref2 = ObjectExplorers.__super__.constructor.apply(this, arguments);
                        return _ref2;
                      }
                
                      ObjectExplorers.prototype.model = ObjectExplorer;
                
                      return ObjectExplorers;
                
                    })(Backbone.Collection);
                    return {
                      Model: ObjectExplorer,
                      Collection: new ObjectExplorers(),
                      View: ObjectExplorerView
                    };
                  });
                
                }).call(this);
                
                /*
                //@ sourceMappingURL=object_explorer.js.map
                */;
                (function() {
                  var __hasProp = {}.hasOwnProperty,
                    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };
                
                  define('tool/object_explorer_tool',["underscore", "jquery", "bootstrap/modal", "backbone", "./tool", "./event_generators", "./object_explorer_tool_template", "widget/object_explorer"], function(_, $, $$1, Backbone, Tool, EventGenerators, object_explorer_tool_template, ObjectExplorer) {
                    var ButtonEventGenerator, ObjectExplorerTool, ObjectExplorerToolView, ObjectExplorerTools, _ref, _ref1, _ref2;
                    ButtonEventGenerator = EventGenerators.ButtonEventGenerator;
                    ObjectExplorerToolView = (function(_super) {
                      __extends(ObjectExplorerToolView, _super);
                
                      function ObjectExplorerToolView() {
                        _ref = ObjectExplorerToolView.__super__.constructor.apply(this, arguments);
                        return _ref;
                      }
                
                      ObjectExplorerToolView.prototype.initialize = function(options) {
                        return ObjectExplorerToolView.__super__.initialize.call(this, options);
                      };
                
                      ObjectExplorerToolView.prototype.eventGeneratorClass = ButtonEventGenerator;
                
                      ObjectExplorerToolView.prototype.evgen_options = {
                        buttonText: "Object Explorer",
                        buttonIcon: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEgAACxIB0t1+/AAAABx0RVh0U29mdHdhcmUAQWRvYmUgRmlyZXdvcmtzIENTNui8sowAAAJHSURBVEiJvZbPTlNREManQmtSvTvqI7gw4R1cQpP6ABoahKWURxBfgo0ulRfgGYA9lI1dIdEFMSo0sZLY3p+L+514eu85t7dKOskk58838+XMmTNnaoAtUu4tlM3MDLCqpwQ2KMrGPDzREwLLQJKmaU3zB2a2pu1fUjOzNaBpZpamaQ1IgOWZzLm1OrADfAQ6wCOgDfwAJsCudKK1dWGeyeYVUA/y5AmBhsh8+QqMNb4EHksvtTYRxpcdoFFKCCx5ZCOgD9xofgOcAm8UgbrGpzlMX7aOdKmMMAEGAve1tgUcA92Sa+kKs6V5Xz4GQBIl1KV3gN/AN2Azevlx8k3ZjoGOl3ThO9SmC9HJPxCeuPDm1ovPQiFtm9l9MxuZ2X7AYYssY9tAK8C5L9uGMA/zDpx2gQ/e6c4CZKvAoZeJh8BqAHfmJdF7soIxHVKm5ROwl3OyAhxp/4sUra3ksHvy4UuQcET2oJ9QfLhtYa6Ap9Irra3nsHX52OXvE4mWNqRVpAwX9hMJ6QXwOodreSH9LC0L6cWskLqkGQpwF0kzlM9ugVDARHd1C/wEngeclT4L4IVsb4WJVxrPyD2N4/D1xIV5Hr4rbWbWNLPvZvZuXkIzeyvbJl5pKzBrHCveR8B2yam2hXmpebXiTfn3NATOKX5P516iXTPP96SNBtBjWlz1h6yCuA/YVZOxML70mPUBe5uuxRiQtQ2uxbgm+9170lCLMZBttRbDAxSaKODAC7cL2wEVmqiZhJHk+O82sVaV7K5k4Z33H/QTdNyD5wyAAAAAAElFTkSuQmCC"
                      };
                
                      ObjectExplorerToolView.prototype.toolType = "ObjectExplorerTool";
                
                      ObjectExplorerToolView.prototype.tool_events = {
                        activated: "_activated",
                        deactivated: "_close_modal"
                      };
                
                      ObjectExplorerToolView.prototype._activated = function(e) {
                        var _this = this;
                        this.$modal = $(object_explorer_tool_template({}));
                        this.$object_explorer_view = new ObjectExplorer.View({
                          el: this.$modal.find(".bk-bs-modal-body")
                        });
                        $('body').append(this.$modal);
                        this.$modal.on('hidden', function() {
                          return _this.plot_view.eventSink.trigger("clear_active_tool");
                        });
                        return this.$modal.modal({
                          show: true
                        });
                      };
                
                      ObjectExplorerToolView.prototype._close_modal = function() {
                        return this.$modal.remove();
                      };
                
                      return ObjectExplorerToolView;
                
                    })(Tool.View);
                    ObjectExplorerTool = (function(_super) {
                      __extends(ObjectExplorerTool, _super);
                
                      function ObjectExplorerTool() {
                        _ref1 = ObjectExplorerTool.__super__.constructor.apply(this, arguments);
                        return _ref1;
                      }
                
                      ObjectExplorerTool.prototype.default_view = ObjectExplorerToolView;
                
                      ObjectExplorerTool.prototype.type = "ObjectExplorerTool";
                
                      ObjectExplorerTool.prototype.display_defaults = function() {
                        return ObjectExplorerTool.__super__.display_defaults.call(this);
                      };
                
                      return ObjectExplorerTool;
                
                    })(Tool.Model);
                    ObjectExplorerTools = (function(_super) {
                      __extends(ObjectExplorerTools, _super);
                
                      function ObjectExplorerTools() {
                        _ref2 = ObjectExplorerTools.__super__.constructor.apply(this, arguments);
                        return _ref2;
                      }
                
                      ObjectExplorerTools.prototype.model = ObjectExplorerTool;
                
                      return ObjectExplorerTools;
                
                    })(Backbone.Collection);
                    return {
                      Model: ObjectExplorerTool,
                      Collection: new ObjectExplorerTools(),
                      View: ObjectExplorerToolView
                    };
                  });
                
                }).call(this);
                
                /*
                //@ sourceMappingURL=object_explorer_tool.js.map
                */;
                (function() {
                  var __hasProp = {}.hasOwnProperty,
                    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };
                
                  define('widget/data_slider',["common/plot_widget", "common/has_parent"], function(PlotWidget, HasParent) {
                    var DataSlider, DataSliderView, DataSliders, _ref, _ref1, _ref2;
                    DataSliderView = (function(_super) {
                      __extends(DataSliderView, _super);
                
                      function DataSliderView() {
                        _ref = DataSliderView.__super__.constructor.apply(this, arguments);
                        return _ref;
                      }
                
                      DataSliderView.prototype.attributes = {
                        "class": "dataslider bk-bs-pull-left"
                      };
                
                      DataSliderView.prototype.initialize = function(options) {
                        DataSliderView.__super__.initialize.call(this, options);
                        this.render_init();
                        return this.select = _.throttle(this._select, 50);
                      };
                
                      DataSliderView.prototype.delegateEvents = function(events) {
                        DataSliderView.__super__.delegateEvents.call(this, events);
                        return "pass";
                      };
                
                      DataSliderView.prototype.label = function(min, max) {
                        this.$(".minlabel").text(min);
                        return this.$(".maxlabel").text(max);
                      };
                
                      DataSliderView.prototype.render_init = function() {
                        var column, max, min, _ref1,
                          _this = this;
                        this.$el.html("");
                        this.$el.append("<div class='maxlabel'></div>");
                        this.$el.append("<div class='slider'></div>");
                        this.$el.append("<div class='minlabel'></div>");
                        this.plot_view.$(".plotarea").append(this.$el);
                        column = this.mget_obj('data_source').getcolumn(this.mget('field'));
                        _ref1 = [_.min(column), _.max(column)], min = _ref1[0], max = _ref1[1];
                        this.$el.find(".slider").slider({
                          orientation: "vertical",
                          animate: "fast",
                          step: (max - min) / 50.0,
                          min: min,
                          max: max,
                          values: [min, max],
                          slide: function(event, ui) {
                            _this.set_selection_range(event, ui);
                            return _this.select(event, ui);
                          }
                        });
                        this.label(min, max);
                        return this.$el.find(".slider").height(this.plot_view.view_state.get('inner_height'));
                      };
                
                      DataSliderView.prototype.set_selection_range = function(event, ui) {
                        var data_source, field, max, min;
                        min = _.min(ui.values);
                        max = _.max(ui.values);
                        this.label(min, max);
                        data_source = this.mget_obj('data_source');
                        field = this.mget('field');
                        if (data_source.range_selections == null) {
                          data_source.range_selections = {};
                        }
                        return data_source.range_selections[field] = [min, max];
                      };
                
                      DataSliderView.prototype._select = function() {
                        var colname, columns, data_source, i, max, min, numrows, select, selected, val, value, _i, _ref1, _ref2;
                        data_source = this.mget_obj('data_source');
                        columns = {};
                        numrows = 0;
                        _ref1 = data_source.range_selections;
                        for (colname in _ref1) {
                          if (!__hasProp.call(_ref1, colname)) continue;
                          value = _ref1[colname];
                          columns[colname] = data_source.getcolumn(colname);
                          numrows = columns[colname].length;
                        }
                        selected = [];
                        for (i = _i = 0; 0 <= numrows ? _i < numrows : _i > numrows; i = 0 <= numrows ? ++_i : --_i) {
                          select = true;
                          _ref2 = data_source.range_selections;
                          for (colname in _ref2) {
                            if (!__hasProp.call(_ref2, colname)) continue;
                            value = _ref2[colname];
                            min = value[0], max = value[1];
                            val = columns[colname][i];
                            if (val < min || val > max) {
                              select = false;
                              break;
                            }
                          }
                          if (select) {
                            selected.push(i);
                          }
                        }
                        return data_source.save({
                          selected: selected
                        }, {
                          patch: true
                        });
                      };
                
                      return DataSliderView;
                
                    })(PlotWidget);
                    DataSlider = (function(_super) {
                      __extends(DataSlider, _super);
                
                      function DataSlider() {
                        _ref1 = DataSlider.__super__.constructor.apply(this, arguments);
                        return _ref1;
                      }
                
                      DataSlider.prototype.type = "DataSlider";
                
                      DataSlider.prototype.default_view = DataSliderView;
                
                      DataSlider.prototype.defaults = function() {
                        return {
                          data_source: null,
                          field: null
                        };
                      };
                
                      DataSlider.prototype.display_defaults = function() {
                        return {
                          level: 'tool'
                        };
                      };
                
                      return DataSlider;
                
                    })(HasParent);
                    DataSliders = (function(_super) {
                      __extends(DataSliders, _super);
                
                      function DataSliders() {
                        _ref2 = DataSliders.__super__.constructor.apply(this, arguments);
                        return _ref2;
                      }
                
                      DataSliders.prototype.model = DataSlider;
                
                      return DataSliders;
                
                    })(Backbone.Collection);
                    return {
                      "Model": DataSlider,
                      "Collection": new DataSliders()
                    };
                  });
                
                }).call(this);
                
                /*
                //@ sourceMappingURL=data_slider.js.map
                */;
                define('widget/data_table_template',[],function(){
                  var template = function(__obj) {
                  var _safe = function(value) {
                    if (typeof value === 'undefined' && value == null)
                      value = '';
                    var result = new String(value);
                    result.ecoSafe = true;
                    return result;
                  };
                  return (function() {
                    var __out = [], __self = this, _print = function(value) {
                      if (typeof value !== 'undefined' && value != null)
                        __out.push(value.ecoSafe ? value : __self.escape(value));
                    }, _capture = function(callback) {
                      var out = __out, result;
                      __out = [];
                      callback.call(this);
                      result = __out.join('');
                      __out = out;
                      return _safe(result);
                    };
                    (function() {
                      var column, idx, _i, _j, _k, _len, _len1, _len2, _ref, _ref1, _ref2;
                    
                      _print(_safe('<table class="bk-bs-table bk-bs-table-bordered">\n  <thead>\n    '));
                    
                      if (this.counts) {
                        _print(_safe('\n      <th>counts</th>\n    '));
                      }
                    
                      _print(_safe('\n    <th>index</th>\n    '));
                    
                      _ref = this.columns;
                      for (_i = 0, _len = _ref.length; _i < _len; _i++) {
                        column = _ref[_i];
                        _print(_safe('\n      '));
                        if (!this.skip[column]) {
                          _print(_safe('\n        <th style="white-space: nowrap;" data-cdx-column="'));
                          _print(column);
                          _print(_safe('">\n          <a class="pandascolumn">'));
                          _print(column);
                          _print(_safe('</a>\n          '));
                          if (this.sort_ascendings[column] === true) {
                            _print(_safe('\n            <i class="cdx-column-sort fa fa-sort-up"></i>\n          '));
                          } else if (this.sort_ascendings[column] === false) {
                            _print(_safe('\n            <i class="cdx-column-sort fa fa-sort-down"></i>\n          '));
                          } else {
                            _print(_safe('\n            <i class="cdx-column-sort fa fa-sort"></i>\n          '));
                          }
                          _print(_safe('\n        </th>\n      '));
                        }
                        _print(_safe('\n    '));
                      }
                    
                      _print(_safe('\n  </thead>\n  '));
                    
                      _ref1 = _.range(this.length);
                      for (_j = 0, _len1 = _ref1.length; _j < _len1; _j++) {
                        idx = _ref1[_j];
                        _print(_safe('\n  <tr class="pandasrow" rownum="'));
                        _print(idx);
                        _print(_safe('">\n    '));
                        if (this.selected && this.selected[idx]) {
                          _print(_safe('\n      <td style="background-color:'));
                          _print(this.colors[idx]);
                          _print(_safe('">\n        '));
                          _print(this.selected[idx]);
                          _print(_safe('/'));
                          _print(this.counts[idx]);
                          _print(_safe('\n      </td>\n    '));
                        } else {
                          _print(_safe('\n      <td> '));
                          _print(this.counts[idx]);
                          _print(_safe(' </td>\n    '));
                        }
                        _print(_safe('\n    <td> '));
                        _print(this.index[idx]);
                        _print(_safe(' </td>\n    '));
                        _ref2 = this.columns;
                        for (_k = 0, _len2 = _ref2.length; _k < _len2; _k++) {
                          column = _ref2[_k];
                          _print(_safe('\n      '));
                          if (!this.skip[column]) {
                            _print(_safe('\n      <td> '));
                            _print(this.data[column][idx]);
                            _print(_safe(' </td>\n      '));
                          }
                          _print(_safe('\n    '));
                        }
                        _print(_safe('\n  </tr>\n  '));
                      }
                    
                      _print(_safe('\n</table>\n<form>\n  <center>\n    <ul class="pagination">\n      <li><a href="javascript://" class="cdx-go-first">First</a></li>\n      <li><a href="javascript://" class="cdx-go-prev">Previous</a></li>\n      <li><a href="javascript://" class="cdx-go-next">Next</a></li>\n      <li><a href="javascript://" class="cdx-go-last">Last</a></li>\n    </ul>\n    <div class="paginatedisplay">\n      Show <input type="text" class="pandassize" value="'));
                    
                      _print(this.length);
                    
                      _print(_safe('"> records\n      From <input type="text" class="pandasoffset" value="'));
                    
                      _print(this.offset);
                    
                      _print(_safe('">\n      to '));
                    
                      _print(this.length + this.offset);
                    
                      _print(_safe(' -\n      Total: '));
                    
                      _print(this.totallength);
                    
                      _print(_safe('\n    </div>\n  </center>\n</form>\n'));
                    
                    }).call(this);
                    
                    return __out.join('');
                  }).call((function() {
                    var obj = {
                      escape: function(value) {
                        return ('' + value)
                          .replace(/&/g, '&amp;')
                          .replace(/</g, '&lt;')
                          .replace(/>/g, '&gt;')
                          .replace(/"/g, '&quot;');
                      },
                      safe: _safe
                    }, key;
                    for (key in __obj) obj[key] = __obj[key];
                    return obj;
                  })());
                };
                  return template;
                });
                
                (function() {
                  var __bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; },
                    __hasProp = {}.hasOwnProperty,
                    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };
                
                  define('widget/data_table',["underscore", "backbone", "common/has_parent", "common/continuum_view", "./data_table_template"], function(_, Backbone, HasParent, ContinuumView, data_table_template) {
                    var DataTable, DataTableView, DataTables, ENTER, _ref, _ref1, _ref2;
                    ENTER = 13;
                    DataTableView = (function(_super) {
                      __extends(DataTableView, _super);
                
                      function DataTableView() {
                        this.colors = __bind(this.colors, this);
                        this.go_last = __bind(this.go_last, this);
                        this.go_next = __bind(this.go_next, this);
                        this.go_prev = __bind(this.go_prev, this);
                        this.go_first = __bind(this.go_first, this);
                        this.toggle_more_controls = __bind(this.toggle_more_controls, this);
                        this.sort = __bind(this.sort, this);
                        this.rowclick = __bind(this.rowclick, this);
                        this.toggle_filterselected = __bind(this.toggle_filterselected, this);
                        this.clearselected = __bind(this.clearselected, this);
                        this.computedtxtbox = __bind(this.computedtxtbox, this);
                        this.column_del = __bind(this.column_del, this);
                        this.search = __bind(this.search, this);
                        _ref = DataTableView.__super__.constructor.apply(this, arguments);
                        return _ref;
                      }
                
                      DataTableView.prototype.template = data_table_template;
                
                      DataTableView.prototype.initialize = function(options) {
                        DataTableView.__super__.initialize.call(this, options);
                        this.listenTo(this.model, 'destroy', this.remove);
                        this.listenTo(this.model, 'change', this.render);
                        return this.render();
                      };
                
                      DataTableView.prototype.events = {
                        "keyup .pandasgroup": 'pandasgroup',
                        "keyup .pandasoffset": 'pandasoffset',
                        "keyup .pandassize": 'pandassize',
                        "change .pandasagg": 'pandasagg',
                        "click .cdx-go-first": 'go_first',
                        "click .cdx-go-prev": 'go_prev',
                        "click .cdx-go-next": 'go_next',
                        "click .cdx-go-last": 'go_last',
                        "click .controlsmore": 'toggle_more_controls',
                        "click .cdx-column-sort": 'sort',
                        "click .pandasrow": 'rowclick',
                        "click .filterselected": 'toggle_filterselected',
                        "click .clearselected": 'clearselected',
                        "keyup .computedtxtbox": 'computedtxtbox',
                        "click .column_del": "column_del",
                        "keyup .search": 'search'
                      };
                
                      DataTableView.prototype.search = function(e) {
                        var code, source;
                        if (e.keyCode === ENTER) {
                          code = $(e.currentTarget).val();
                          source = this.model.get_obj('source');
                          source.rpc('search', [code]);
                          return e.preventDefault();
                        }
                      };
                
                      DataTableView.prototype.column_del = function(e) {
                        var computed_columns, name, old, source;
                        source = this.model.get_obj('source');
                        old = source.get('computed_columns');
                        name = $(e.currentTarget).attr('name');
                        computed_columns = _.filter(old, function(x) {
                          return x.name !== name;
                        });
                        return source.rpc('set_computed_columns', [computed_columns]);
                      };
                
                      DataTableView.prototype.computedtxtbox = function(e) {
                        var code, name, old, source;
                        if (e.keyCode === ENTER) {
                          name = this.$('.computedname').val();
                          code = this.$('.computedtxtbox').val();
                          source = this.model.get_obj('source');
                          old = source.get('computed_columns');
                          old.push({
                            name: name,
                            code: code
                          });
                          source.rpc('set_computed_columns', [old]);
                          return e.preventDefault();
                        }
                      };
                
                      DataTableView.prototype.clearselected = function(e) {
                        return this.model.rpc('setselect', [[]]);
                      };
                
                      DataTableView.prototype.toggle_filterselected = function(e) {
                        var checked;
                        checked = this.$('.filterselected').is(":checked");
                        this.mset('filterselected', checked);
                        return this.model.save();
                      };
                
                      DataTableView.prototype.rowclick = function(e) {
                        var count, counts, idx, index, ratio, ratios, resp, rownum, select, selected;
                        counts = this.counts();
                        selected = this.selected();
                        ratios = (function() {
                          var _i, _len, _ref1, _ref2, _results;
                          _ref1 = _.zip(selected, counts);
                          _results = [];
                          for (_i = 0, _len = _ref1.length; _i < _len; _i++) {
                            _ref2 = _ref1[_i], select = _ref2[0], count = _ref2[1];
                            _results.push(select / count);
                          }
                          return _results;
                        })();
                        selected = (function() {
                          var _i, _len, _results;
                          _results = [];
                          for (idx = _i = 0, _len = ratios.length; _i < _len; idx = ++_i) {
                            ratio = ratios[idx];
                            if (ratio > 0.5) {
                              _results.push(idx);
                            }
                          }
                          return _results;
                        })();
                        rownum = Number($(e.currentTarget).attr('rownum'));
                        index = selected.indexOf(rownum);
                        if (index === -1) {
                          resp = this.model.rpc('select', [[rownum]]);
                        } else {
                          resp = this.model.rpc('deselect', [[rownum]]);
                        }
                        return null;
                      };
                
                      DataTableView.prototype.sort = function(event) {
                        var column;
                        column = $(event.currentTarget).parent().data("cdx-column");
                        return this.model.toggle_column_sort(column);
                      };
                
                      DataTableView.prototype.toggle_more_controls = function() {
                        if (this.controls_hide) {
                          this.controls_hide = false;
                        } else {
                          this.controls_hide = true;
                        }
                        return this.render();
                      };
                
                      DataTableView.prototype.go_first = function() {
                        return this.model.go_first();
                      };
                
                      DataTableView.prototype.go_prev = function() {
                        return this.model.go_prev();
                      };
                
                      DataTableView.prototype.go_next = function() {
                        return this.model.go_next();
                      };
                
                      DataTableView.prototype.go_last = function() {
                        return this.model.go_last();
                      };
                
                      DataTableView.prototype.pandasoffset = function(e) {
                        var offset;
                        if (e.keyCode === ENTER) {
                          offset = this.$el.find('.pandasoffset').val();
                          offset = Number(offset);
                          if (_.isNaN(offset)) {
                            offset = this.model.defaults.offset;
                          }
                          this.model.save('offset', offset, {
                            wait: true
                          });
                          return e.preventDefault();
                        }
                      };
                
                      DataTableView.prototype.pandassize = function(e) {
                        var size, sizetxt;
                        if (e.keyCode === ENTER) {
                          sizetxt = this.$el.find('.pandassize').val();
                          size = Number(sizetxt);
                          if (_.isNaN(size) || sizetxt === "") {
                            size = this.model.defaults.length;
                          }
                          if (size + this.mget('offset') > this.mget('maxlength')) {
                            size = this.mget('maxlength') - this.mget('offset');
                          }
                          this.model.save('length', size, {
                            wait: true
                          });
                          return e.preventDefault();
                        }
                      };
                
                      DataTableView.prototype.pandasagg = function() {
                        return this.model.save('agg', this.$el.find('.pandasagg').val(), {
                          'wait': true
                        });
                      };
                
                      DataTableView.prototype.fromcsv = function(str) {
                        if (!str) {
                          return [];
                        }
                        return _.map(str.split(","), function(x) {
                          return x.trim();
                        });
                      };
                
                      DataTableView.prototype.pandasgroup = function(e) {
                        if (e.keyCode === ENTER) {
                          this.model.set({
                            group: this.fromcsv(this.$el.find(".pandasgroup").val()),
                            offset: 0
                          });
                          this.model.save();
                          e.preventDefault();
                          return false;
                        }
                      };
                
                      DataTableView.prototype.counts = function() {
                        return this.mget('tabledata').data._counts;
                      };
                
                      DataTableView.prototype.selected = function() {
                        return this.mget('tabledata').data._selected;
                      };
                
                      DataTableView.prototype.colors = function() {
                        var counts, selected;
                        counts = this.counts();
                        selected = this.selected();
                        if (counts && selected) {
                          return _.map(_.zip(counts, selected), function(temp) {
                            var alpha, count;
                            count = temp[0], selected = temp[1];
                            alpha = 0.3 * selected / count;
                            return "rgba(0,0,255," + alpha + ")";
                          });
                        } else {
                          return null;
                        }
                      };
                
                      DataTableView.prototype.render = function() {
                        var colors, group, html, obj, sort, sort_ascendings, source, template_data, _i, _len, _ref1;
                        group = this.mget('group');
                        if (_.isArray(group)) {
                          group = group.join(",");
                        }
                        sort = this.mget('sort');
                        if (_.isArray(sort)) {
                          sort = sort.join(",");
                        }
                        colors = this.colors();
                        sort_ascendings = {};
                        _ref1 = this.mget('sort');
                        for (_i = 0, _len = _ref1.length; _i < _len; _i++) {
                          obj = _ref1[_i];
                          sort_ascendings[obj['column']] = obj['ascending'];
                        }
                        source = this.mget_obj('source');
                        template_data = {
                          skip: {
                            _counts: true,
                            _selected: true,
                            index: true
                          },
                          computed_columns: this.mget_obj('source').get('computed_columns'),
                          columns: this.mget('tabledata').column_names,
                          data: this.mget('tabledata').data,
                          group: group,
                          sort_ascendings: sort_ascendings,
                          offset: this.mget('offset'),
                          length: this.model.length(),
                          filterselected: this.mget('filterselected'),
                          totallength: this.mget('totallength'),
                          counts: this.mget('tabledata').data._counts,
                          selected: this.mget('tabledata').data._selected,
                          controls_hide: this.controls_hide,
                          colors: colors,
                          index: this.mget('tabledata').data.index
                        };
                        this.$el.empty();
                        html = this.template(template_data);
                        this.$el.html(html);
                        this.$(".pandasagg").find("option[value=\"" + (this.mget('agg')) + "\"]").attr('selected', 'selected');
                        return this.$el.addClass("bokehtable");
                      };
                
                      return DataTableView;
                
                    })(ContinuumView.View);
                    DataTable = (function(_super) {
                      __extends(DataTable, _super);
                
                      function DataTable() {
                        this.toggle_column_sort = __bind(this.toggle_column_sort, this);
                        this.dinitialize = __bind(this.dinitialize, this);
                        _ref1 = DataTable.__super__.constructor.apply(this, arguments);
                        return _ref1;
                      }
                
                      DataTable.prototype.type = 'DataTable';
                
                      DataTable.prototype.initialize = function(attrs, options) {
                        var _this = this;
                        DataTable.__super__.initialize.call(this, attrs, options);
                        return this.throttled_fetch = _.throttle((function() {
                          return _this.fetch();
                        }), 500);
                      };
                
                      DataTable.prototype.dinitialize = function(attrs, options) {
                        return DataTable.__super__.dinitialize.call(this, attrs, options);
                      };
                
                      DataTable.prototype.fetch = function(options) {
                        return DataTable.__super__.fetch.call(this, options);
                      };
                
                      DataTable.prototype.length = function() {
                        return _.values(this.get('tabledata').data)[0].length;
                      };
                
                      DataTable.prototype.toggle_column_sort = function(colname) {
                        var sort, sorting;
                        sorting = this.get('sort');
                        this.unset('sort', {
                          'silent': true
                        });
                        sort = _.filter(sorting, function(x) {
                          return x['column'] === colname;
                        });
                        if (sort.length > 0) {
                          sort = sort[0];
                        } else {
                          sorting = _.clone(sorting);
                          sorting.push({
                            column: colname,
                            ascending: true
                          });
                          this.save('sort', sorting, {
                            'wait': true
                          });
                          return;
                        }
                        if (sort['ascending']) {
                          sort['ascending'] = false;
                          this.save('sort', sorting, {
                            'wait': true
                          });
                        } else {
                          sorting = _.filter(sorting, function(x) {
                            return x['column'] !== colname;
                          });
                          this.save('sort', sorting, {
                            'wait': true
                          });
                        }
                      };
                
                      DataTable.prototype.go_first = function() {
                        this.set('offset', 0);
                        return this.save();
                      };
                
                      DataTable.prototype.go_prev = function() {
                        var offset;
                        offset = this.get('offset');
                        offset = offset - this.length();
                        if (offset < 0) {
                          offset = 0;
                        }
                        this.set('offset', offset);
                        return this.save();
                      };
                
                      DataTable.prototype.go_next = function() {
                        var maxoffset, offset;
                        offset = this.get('offset');
                        offset = offset + this.length();
                        maxoffset = this.get('maxlength') - this.length();
                        if (offset > maxoffset) {
                          offset = maxoffset;
                        }
                        this.set('offset', offset);
                        return this.save();
                      };
                
                      DataTable.prototype.go_last = function() {
                        var maxoffset;
                        maxoffset = this.get('maxlength') - this.length();
                        this.set('offset', maxoffset);
                        return this.save();
                      };
                
                      DataTable.prototype.default_view = DataTableView;
                
                      DataTable.prototype.defaults = function() {
                        return {
                          sort: [],
                          group: [],
                          agg: 'sum',
                          offset: 0,
                          length: 100,
                          maxlength: 1000,
                          tabledata: null,
                          columns_names: []
                        };
                      };
                
                      return DataTable;
                
                    })(HasParent);
                    DataTables = (function(_super) {
                      __extends(DataTables, _super);
                
                      function DataTables() {
                        _ref2 = DataTables.__super__.constructor.apply(this, arguments);
                        return _ref2;
                      }
                
                      DataTables.prototype.model = DataTable;
                
                      return DataTables;
                
                    })(Backbone.Collection);
                    return {
                      "Model": DataTable,
                      "Collection": new DataTables(),
                      "View": DataTableView
                    };
                  });
                
                }).call(this);
                
                /*
                //@ sourceMappingURL=data_table.js.map
                */;
                /*!
                 * numeral.js
                 * version : 1.5.3
                 * author : Adam Draper
                 * license : MIT
                 * http://adamwdraper.github.com/Numeral-js/
                 */
                
                (function () {
                
                    /************************************
                        Constants
                    ************************************/
                
                    var numeral,
                        VERSION = '1.5.3',
                        // internal storage for language config files
                        languages = {},
                        currentLanguage = 'en',
                        zeroFormat = null,
                        defaultFormat = '0,0',
                        // check for nodeJS
                        hasModule = (typeof module !== 'undefined' && module.exports);
                
                
                    /************************************
                        Constructors
                    ************************************/
                
                
                    // Numeral prototype object
                    function Numeral (number) {
                        this._value = number;
                    }
                
                    /**
                     * Implementation of toFixed() that treats floats more like decimals
                     *
                     * Fixes binary rounding issues (eg. (0.615).toFixed(2) === '0.61') that present
                     * problems for accounting- and finance-related software.
                     */
                    function toFixed (value, precision, roundingFunction, optionals) {
                        var power = Math.pow(10, precision),
                            optionalsRegExp,
                            output;
                            
                        //roundingFunction = (roundingFunction !== undefined ? roundingFunction : Math.round);
                        // Multiply up by precision, round accurately, then divide and use native toFixed():
                        output = (roundingFunction(value * power) / power).toFixed(precision);
                
                        if (optionals) {
                            optionalsRegExp = new RegExp('0{1,' + optionals + '}$');
                            output = output.replace(optionalsRegExp, '');
                        }
                
                        return output;
                    }
                
                    /************************************
                        Formatting
                    ************************************/
                
                    // determine what type of formatting we need to do
                    function formatNumeral (n, format, roundingFunction) {
                        var output;
                
                        // figure out what kind of format we are dealing with
                        if (format.indexOf('$') > -1) { // currency!!!!!
                            output = formatCurrency(n, format, roundingFunction);
                        } else if (format.indexOf('%') > -1) { // percentage
                            output = formatPercentage(n, format, roundingFunction);
                        } else if (format.indexOf(':') > -1) { // time
                            output = formatTime(n, format);
                        } else { // plain ol' numbers or bytes
                            output = formatNumber(n._value, format, roundingFunction);
                        }
                
                        // return string
                        return output;
                    }
                
                    // revert to number
                    function unformatNumeral (n, string) {
                        var stringOriginal = string,
                            thousandRegExp,
                            millionRegExp,
                            billionRegExp,
                            trillionRegExp,
                            suffixes = ['KB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB'],
                            bytesMultiplier = false,
                            power;
                
                        if (string.indexOf(':') > -1) {
                            n._value = unformatTime(string);
                        } else {
                            if (string === zeroFormat) {
                                n._value = 0;
                            } else {
                                if (languages[currentLanguage].delimiters.decimal !== '.') {
                                    string = string.replace(/\./g,'').replace(languages[currentLanguage].delimiters.decimal, '.');
                                }
                
                                // see if abbreviations are there so that we can multiply to the correct number
                                thousandRegExp = new RegExp('[^a-zA-Z]' + languages[currentLanguage].abbreviations.thousand + '(?:\\)|(\\' + languages[currentLanguage].currency.symbol + ')?(?:\\))?)?$');
                                millionRegExp = new RegExp('[^a-zA-Z]' + languages[currentLanguage].abbreviations.million + '(?:\\)|(\\' + languages[currentLanguage].currency.symbol + ')?(?:\\))?)?$');
                                billionRegExp = new RegExp('[^a-zA-Z]' + languages[currentLanguage].abbreviations.billion + '(?:\\)|(\\' + languages[currentLanguage].currency.symbol + ')?(?:\\))?)?$');
                                trillionRegExp = new RegExp('[^a-zA-Z]' + languages[currentLanguage].abbreviations.trillion + '(?:\\)|(\\' + languages[currentLanguage].currency.symbol + ')?(?:\\))?)?$');
                
                                // see if bytes are there so that we can multiply to the correct number
                                for (power = 0; power <= suffixes.length; power++) {
                                    bytesMultiplier = (string.indexOf(suffixes[power]) > -1) ? Math.pow(1024, power + 1) : false;
                
                                    if (bytesMultiplier) {
                                        break;
                                    }
                                }
                
                                // do some math to create our number
                                n._value = ((bytesMultiplier) ? bytesMultiplier : 1) * ((stringOriginal.match(thousandRegExp)) ? Math.pow(10, 3) : 1) * ((stringOriginal.match(millionRegExp)) ? Math.pow(10, 6) : 1) * ((stringOriginal.match(billionRegExp)) ? Math.pow(10, 9) : 1) * ((stringOriginal.match(trillionRegExp)) ? Math.pow(10, 12) : 1) * ((string.indexOf('%') > -1) ? 0.01 : 1) * (((string.split('-').length + Math.min(string.split('(').length-1, string.split(')').length-1)) % 2)? 1: -1) * Number(string.replace(/[^0-9\.]+/g, ''));
                
                                // round if we are talking about bytes
                                n._value = (bytesMultiplier) ? Math.ceil(n._value) : n._value;
                            }
                        }
                        return n._value;
                    }
                
                    function formatCurrency (n, format, roundingFunction) {
                        var symbolIndex = format.indexOf('$'),
                            openParenIndex = format.indexOf('('),
                            minusSignIndex = format.indexOf('-'),
                            space = '',
                            spliceIndex,
                            output;
                
                        // check for space before or after currency
                        if (format.indexOf(' $') > -1) {
                            space = ' ';
                            format = format.replace(' $', '');
                        } else if (format.indexOf('$ ') > -1) {
                            space = ' ';
                            format = format.replace('$ ', '');
                        } else {
                            format = format.replace('$', '');
                        }
                
                        // format the number
                        output = formatNumber(n._value, format, roundingFunction);
                
                        // position the symbol
                        if (symbolIndex <= 1) {
                            if (output.indexOf('(') > -1 || output.indexOf('-') > -1) {
                                output = output.split('');
                                spliceIndex = 1;
                                if (symbolIndex < openParenIndex || symbolIndex < minusSignIndex){
                                    // the symbol appears before the "(" or "-"
                                    spliceIndex = 0;
                                }
                                output.splice(spliceIndex, 0, languages[currentLanguage].currency.symbol + space);
                                output = output.join('');
                            } else {
                                output = languages[currentLanguage].currency.symbol + space + output;
                            }
                        } else {
                            if (output.indexOf(')') > -1) {
                                output = output.split('');
                                output.splice(-1, 0, space + languages[currentLanguage].currency.symbol);
                                output = output.join('');
                            } else {
                                output = output + space + languages[currentLanguage].currency.symbol;
                            }
                        }
                
                        return output;
                    }
                
                    function formatPercentage (n, format, roundingFunction) {
                        var space = '',
                            output,
                            value = n._value * 100;
                
                        // check for space before %
                        if (format.indexOf(' %') > -1) {
                            space = ' ';
                            format = format.replace(' %', '');
                        } else {
                            format = format.replace('%', '');
                        }
                
                        output = formatNumber(value, format, roundingFunction);
                        
                        if (output.indexOf(')') > -1 ) {
                            output = output.split('');
                            output.splice(-1, 0, space + '%');
                            output = output.join('');
                        } else {
                            output = output + space + '%';
                        }
                
                        return output;
                    }
                
                    function formatTime (n) {
                        var hours = Math.floor(n._value/60/60),
                            minutes = Math.floor((n._value - (hours * 60 * 60))/60),
                            seconds = Math.round(n._value - (hours * 60 * 60) - (minutes * 60));
                        return hours + ':' + ((minutes < 10) ? '0' + minutes : minutes) + ':' + ((seconds < 10) ? '0' + seconds : seconds);
                    }
                
                    function unformatTime (string) {
                        var timeArray = string.split(':'),
                            seconds = 0;
                        // turn hours and minutes into seconds and add them all up
                        if (timeArray.length === 3) {
                            // hours
                            seconds = seconds + (Number(timeArray[0]) * 60 * 60);
                            // minutes
                            seconds = seconds + (Number(timeArray[1]) * 60);
                            // seconds
                            seconds = seconds + Number(timeArray[2]);
                        } else if (timeArray.length === 2) {
                            // minutes
                            seconds = seconds + (Number(timeArray[0]) * 60);
                            // seconds
                            seconds = seconds + Number(timeArray[1]);
                        }
                        return Number(seconds);
                    }
                
                    function formatNumber (value, format, roundingFunction) {
                        var negP = false,
                            signed = false,
                            optDec = false,
                            abbr = '',
                            abbrK = false, // force abbreviation to thousands
                            abbrM = false, // force abbreviation to millions
                            abbrB = false, // force abbreviation to billions
                            abbrT = false, // force abbreviation to trillions
                            abbrForce = false, // force abbreviation
                            bytes = '',
                            ord = '',
                            abs = Math.abs(value),
                            suffixes = ['B', 'KB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB'],
                            min,
                            max,
                            power,
                            w,
                            precision,
                            thousands,
                            d = '',
                            neg = false;
                
                        // check if number is zero and a custom zero format has been set
                        if (value === 0 && zeroFormat !== null) {
                            return zeroFormat;
                        } else {
                            // see if we should use parentheses for negative number or if we should prefix with a sign
                            // if both are present we default to parentheses
                            if (format.indexOf('(') > -1) {
                                negP = true;
                                format = format.slice(1, -1);
                            } else if (format.indexOf('+') > -1) {
                                signed = true;
                                format = format.replace(/\+/g, '');
                            }
                
                            // see if abbreviation is wanted
                            if (format.indexOf('a') > -1) {
                                // check if abbreviation is specified
                                abbrK = format.indexOf('aK') >= 0;
                                abbrM = format.indexOf('aM') >= 0;
                                abbrB = format.indexOf('aB') >= 0;
                                abbrT = format.indexOf('aT') >= 0;
                                abbrForce = abbrK || abbrM || abbrB || abbrT;
                
                                // check for space before abbreviation
                                if (format.indexOf(' a') > -1) {
                                    abbr = ' ';
                                    format = format.replace(' a', '');
                                } else {
                                    format = format.replace('a', '');
                                }
                
                                if (abs >= Math.pow(10, 12) && !abbrForce || abbrT) {
                                    // trillion
                                    abbr = abbr + languages[currentLanguage].abbreviations.trillion;
                                    value = value / Math.pow(10, 12);
                                } else if (abs < Math.pow(10, 12) && abs >= Math.pow(10, 9) && !abbrForce || abbrB) {
                                    // billion
                                    abbr = abbr + languages[currentLanguage].abbreviations.billion;
                                    value = value / Math.pow(10, 9);
                                } else if (abs < Math.pow(10, 9) && abs >= Math.pow(10, 6) && !abbrForce || abbrM) {
                                    // million
                                    abbr = abbr + languages[currentLanguage].abbreviations.million;
                                    value = value / Math.pow(10, 6);
                                } else if (abs < Math.pow(10, 6) && abs >= Math.pow(10, 3) && !abbrForce || abbrK) {
                                    // thousand
                                    abbr = abbr + languages[currentLanguage].abbreviations.thousand;
                                    value = value / Math.pow(10, 3);
                                }
                            }
                
                            // see if we are formatting bytes
                            if (format.indexOf('b') > -1) {
                                // check for space before
                                if (format.indexOf(' b') > -1) {
                                    bytes = ' ';
                                    format = format.replace(' b', '');
                                } else {
                                    format = format.replace('b', '');
                                }
                
                                for (power = 0; power <= suffixes.length; power++) {
                                    min = Math.pow(1024, power);
                                    max = Math.pow(1024, power+1);
                
                                    if (value >= min && value < max) {
                                        bytes = bytes + suffixes[power];
                                        if (min > 0) {
                                            value = value / min;
                                        }
                                        break;
                                    }
                                }
                            }
                
                            // see if ordinal is wanted
                            if (format.indexOf('o') > -1) {
                                // check for space before
                                if (format.indexOf(' o') > -1) {
                                    ord = ' ';
                                    format = format.replace(' o', '');
                                } else {
                                    format = format.replace('o', '');
                                }
                
                                ord = ord + languages[currentLanguage].ordinal(value);
                            }
                
                            if (format.indexOf('[.]') > -1) {
                                optDec = true;
                                format = format.replace('[.]', '.');
                            }
                
                            w = value.toString().split('.')[0];
                            precision = format.split('.')[1];
                            thousands = format.indexOf(',');
                
                            if (precision) {
                                if (precision.indexOf('[') > -1) {
                                    precision = precision.replace(']', '');
                                    precision = precision.split('[');
                                    d = toFixed(value, (precision[0].length + precision[1].length), roundingFunction, precision[1].length);
                                } else {
                                    d = toFixed(value, precision.length, roundingFunction);
                                }
                
                                w = d.split('.')[0];
                
                                if (d.split('.')[1].length) {
                                    d = languages[currentLanguage].delimiters.decimal + d.split('.')[1];
                                } else {
                                    d = '';
                                }
                
                                if (optDec && Number(d.slice(1)) === 0) {
                                    d = '';
                                }
                            } else {
                                w = toFixed(value, null, roundingFunction);
                            }
                
                            // format number
                            if (w.indexOf('-') > -1) {
                                w = w.slice(1);
                                neg = true;
                            }
                
                            if (thousands > -1) {
                                w = w.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g, '$1' + languages[currentLanguage].delimiters.thousands);
                            }
                
                            if (format.indexOf('.') === 0) {
                                w = '';
                            }
                
                            return ((negP && neg) ? '(' : '') + ((!negP && neg) ? '-' : '') + ((!neg && signed) ? '+' : '') + w + d + ((ord) ? ord : '') + ((abbr) ? abbr : '') + ((bytes) ? bytes : '') + ((negP && neg) ? ')' : '');
                        }
                    }
                
                    /************************************
                        Top Level Functions
                    ************************************/
                
                    numeral = function (input) {
                        if (numeral.isNumeral(input)) {
                            input = input.value();
                        } else if (input === 0 || typeof input === 'undefined') {
                            input = 0;
                        } else if (!Number(input)) {
                            input = numeral.fn.unformat(input);
                        }
                
                        return new Numeral(Number(input));
                    };
                
                    // version number
                    numeral.version = VERSION;
                
                    // compare numeral object
                    numeral.isNumeral = function (obj) {
                        return obj instanceof Numeral;
                    };
                
                    // This function will load languages and then set the global language.  If
                    // no arguments are passed in, it will simply return the current global
                    // language key.
                    numeral.language = function (key, values) {
                        if (!key) {
                            return currentLanguage;
                        }
                
                        if (key && !values) {
                            if(!languages[key]) {
                                throw new Error('Unknown language : ' + key);
                            }
                            currentLanguage = key;
                        }
                
                        if (values || !languages[key]) {
                            loadLanguage(key, values);
                        }
                
                        return numeral;
                    };
                    
                    // This function provides access to the loaded language data.  If
                    // no arguments are passed in, it will simply return the current
                    // global language object.
                    numeral.languageData = function (key) {
                        if (!key) {
                            return languages[currentLanguage];
                        }
                        
                        if (!languages[key]) {
                            throw new Error('Unknown language : ' + key);
                        }
                        
                        return languages[key];
                    };
                
                    numeral.language('en', {
                        delimiters: {
                            thousands: ',',
                            decimal: '.'
                        },
                        abbreviations: {
                            thousand: 'k',
                            million: 'm',
                            billion: 'b',
                            trillion: 't'
                        },
                        ordinal: function (number) {
                            var b = number % 10;
                            return (~~ (number % 100 / 10) === 1) ? 'th' :
                                (b === 1) ? 'st' :
                                (b === 2) ? 'nd' :
                                (b === 3) ? 'rd' : 'th';
                        },
                        currency: {
                            symbol: '$'
                        }
                    });
                
                    numeral.zeroFormat = function (format) {
                        zeroFormat = typeof(format) === 'string' ? format : null;
                    };
                
                    numeral.defaultFormat = function (format) {
                        defaultFormat = typeof(format) === 'string' ? format : '0.0';
                    };
                
                    /************************************
                        Helpers
                    ************************************/
                
                    function loadLanguage(key, values) {
                        languages[key] = values;
                    }
                
                    /************************************
                        Floating-point helpers
                    ************************************/
                
                    // The floating-point helper functions and implementation
                    // borrows heavily from sinful.js: http://guipn.github.io/sinful.js/
                
                    /**
                     * Array.prototype.reduce for browsers that don't support it
                     * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/Reduce#Compatibility
                     */
                    if ('function' !== typeof Array.prototype.reduce) {
                        Array.prototype.reduce = function (callback, opt_initialValue) {
                            
                            
                            if (null === this || 'undefined' === typeof this) {
                                // At the moment all modern browsers, that support strict mode, have
                                // native implementation of Array.prototype.reduce. For instance, IE8
                                // does not support strict mode, so this check is actually useless.
                                throw new TypeError('Array.prototype.reduce called on null or undefined');
                            }
                            
                            if ('function' !== typeof callback) {
                                throw new TypeError(callback + ' is not a function');
                            }
                
                            var index,
                                value,
                                length = this.length >>> 0,
                                isValueSet = false;
                
                            if (1 < arguments.length) {
                                value = opt_initialValue;
                                isValueSet = true;
                            }
                
                            for (index = 0; length > index; ++index) {
                                if (this.hasOwnProperty(index)) {
                                    if (isValueSet) {
                                        value = callback(value, this[index], index, this);
                                    } else {
                                        value = this[index];
                                        isValueSet = true;
                                    }
                                }
                            }
                
                            if (!isValueSet) {
                                throw new TypeError('Reduce of empty array with no initial value');
                            }
                
                            return value;
                        };
                    }
                
                    
                    /**
                     * Computes the multiplier necessary to make x >= 1,
                     * effectively eliminating miscalculations caused by
                     * finite precision.
                     */
                    function multiplier(x) {
                        var parts = x.toString().split('.');
                        if (parts.length < 2) {
                            return 1;
                        }
                        return Math.pow(10, parts[1].length);
                    }
                
                    /**
                     * Given a variable number of arguments, returns the maximum
                     * multiplier that must be used to normalize an operation involving
                     * all of them.
                     */
                    function correctionFactor() {
                        var args = Array.prototype.slice.call(arguments);
                        return args.reduce(function (prev, next) {
                            var mp = multiplier(prev),
                                mn = multiplier(next);
                        return mp > mn ? mp : mn;
                        }, -Infinity);
                    }        
                
                
                    /************************************
                        Numeral Prototype
                    ************************************/
                
                
                    numeral.fn = Numeral.prototype = {
                
                        clone : function () {
                            return numeral(this);
                        },
                
                        format : function (inputString, roundingFunction) {
                            return formatNumeral(this, 
                                  inputString ? inputString : defaultFormat, 
                                  (roundingFunction !== undefined) ? roundingFunction : Math.round
                              );
                        },
                
                        unformat : function (inputString) {
                            if (Object.prototype.toString.call(inputString) === '[object Number]') { 
                                return inputString; 
                            }
                            return unformatNumeral(this, inputString ? inputString : defaultFormat);
                        },
                
                        value : function () {
                            return this._value;
                        },
                
                        valueOf : function () {
                            return this._value;
                        },
                
                        set : function (value) {
                            this._value = Number(value);
                            return this;
                        },
                
                        add : function (value) {
                            var corrFactor = correctionFactor.call(null, this._value, value);
                            function cback(accum, curr, currI, O) {
                                return accum + corrFactor * curr;
                            }
                            this._value = [this._value, value].reduce(cback, 0) / corrFactor;
                            return this;
                        },
                
                        subtract : function (value) {
                            var corrFactor = correctionFactor.call(null, this._value, value);
                            function cback(accum, curr, currI, O) {
                                return accum - corrFactor * curr;
                            }
                            this._value = [value].reduce(cback, this._value * corrFactor) / corrFactor;            
                            return this;
                        },
                
                        multiply : function (value) {
                            function cback(accum, curr, currI, O) {
                                var corrFactor = correctionFactor(accum, curr);
                                return (accum * corrFactor) * (curr * corrFactor) /
                                    (corrFactor * corrFactor);
                            }
                            this._value = [this._value, value].reduce(cback, 1);
                            return this;
                        },
                
                        divide : function (value) {
                            function cback(accum, curr, currI, O) {
                                var corrFactor = correctionFactor(accum, curr);
                                return (accum * corrFactor) / (curr * corrFactor);
                            }
                            this._value = [this._value, value].reduce(cback);            
                            return this;
                        },
                
                        difference : function (value) {
                            return Math.abs(numeral(this._value).subtract(value).value());
                        }
                
                    };
                
                    /************************************
                        Exposing Numeral
                    ************************************/
                
                    // CommonJS module is defined
                    if (hasModule) {
                        module.exports = numeral;
                    }
                
                    /*global ender:false */
                    if (typeof ender === 'undefined') {
                        // here, `this` means `window` in the browser, or `global` on the server
                        // add `numeral` as a global object via a string identifier,
                        // for Closure Compiler 'advanced' mode
                        this['numeral'] = numeral;
                    }
                
                    /*global define:false */
                    if (typeof define === 'function' && define.amd) {
                        define('numeral',[], function () {
                            return numeral;
                        });
                    }
                }).call(this);
                
                /**
                 * Handsontable 0.10.5
                 * Handsontable is a simple jQuery plugin for editable tables with basic copy-paste compatibility with Excel and Google Docs
                 *
                 * Copyright 2012, Marcin Warpechowski
                 * Licensed under the MIT license.
                 * http://handsontable.com/
                 *
                 * Date: Mon Mar 31 2014 14:19:47 GMT+0200 (CEST)
                 */
                /*jslint white: true, browser: true, plusplus: true, indent: 4, maxerr: 50 */
                
                var Handsontable = { //class namespace
                  extension: {}, //extenstion namespace
                  plugins: {}, //plugin namespace
                  helper: {} //helper namespace
                };
                
                (function ($, window, Handsontable) {
                  
                //http://stackoverflow.com/questions/3629183/why-doesnt-indexof-work-on-an-array-ie8
                if (!Array.prototype.indexOf) {
                  Array.prototype.indexOf = function (elt /*, from*/) {
                    var len = this.length >>> 0;
                
                    var from = Number(arguments[1]) || 0;
                    from = (from < 0)
                      ? Math.ceil(from)
                      : Math.floor(from);
                    if (from < 0)
                      from += len;
                
                    for (; from < len; from++) {
                      if (from in this &&
                        this[from] === elt)
                        return from;
                    }
                    return -1;
                  };
                }
                /**
                 * Array.filter() shim by Trevor Menagh (https://github.com/trevmex) with some modifications
                 */
                
                if (!Array.prototype.filter) {
                  Array.prototype.filter = function (fun, thisp) {
                    
                
                    if (typeof this === "undefined" || this === null) {
                      throw new TypeError();
                    }
                    if (typeof fun !== "function") {
                      throw new TypeError();
                    }
                
                    thisp = thisp || this;
                
                    if (isNodeList(thisp)) {
                      thisp = convertNodeListToArray(thisp);
                    }
                
                    var len = thisp.length,
                      res = [],
                      i,
                      val;
                
                    for (i = 0; i < len; i += 1) {
                      if (thisp.hasOwnProperty(i)) {
                        val = thisp[i]; // in case fun mutates this
                        if (fun.call(thisp, val, i, thisp)) {
                          res.push(val);
                        }
                      }
                    }
                
                    return res;
                
                    function isNodeList(object) {
                      return /NodeList/i.test(object.item);
                    }
                
                    function convertNodeListToArray(nodeList) {
                      var array = [];
                
                      for (var i = 0, len = nodeList.length; i < len; i++){
                        array[i] = nodeList[i]
                      }
                
                      return array;
                    }
                  };
                }
                
                /*
                 * Copyright 2012 The Polymer Authors. All rights reserved.
                 * Use of this source code is governed by a BSD-style
                 * license that can be found in the LICENSE file.
                 */
                
                if (typeof WeakMap === 'undefined') {
                  (function() {
                    var defineProperty = Object.defineProperty;
                
                    try {
                      var properDefineProperty = true;
                      defineProperty(function(){}, 'foo', {});
                    } catch (e) {
                      properDefineProperty = false;
                    }
                
                    /*
                      IE8 does not support Date.now() but IE8 compatibility mode in IE9 and IE10 does.
                      M$ deserves a high five for this one :)
                     */
                    var counter = +(new Date) % 1e9;
                
                    var WeakMap = function() {
                      this.name = '__st' + (Math.random() * 1e9 >>> 0) + (counter++ + '__');
                      if(!properDefineProperty){
                        this._wmCache = [];
                      }
                    };
                
                    if(properDefineProperty){
                      WeakMap.prototype = {
                        set: function(key, value) {
                          var entry = key[this.name];
                          if (entry && entry[0] === key)
                            entry[1] = value;
                          else
                            defineProperty(key, this.name, {value: [key, value], writable: true});
                
                        },
                        get: function(key) {
                          var entry;
                          return (entry = key[this.name]) && entry[0] === key ?
                            entry[1] : undefined;
                        },
                        'delete': function(key) {
                          this.set(key, undefined);
                        }
                      };
                    } else {
                      WeakMap.prototype = {
                        set: function(key, value) {
                
                          if(typeof key == 'undefined' || typeof value == 'undefined') return;
                
                          for(var i = 0, len = this._wmCache.length; i < len; i++){
                            if(this._wmCache[i].key == key){
                              this._wmCache[i].value = value;
                              return;
                            }
                          }
                
                          this._wmCache.push({key: key, value: value});
                
                        },
                        get: function(key) {
                
                          if(typeof key == 'undefined') return;
                
                          for(var i = 0, len = this._wmCache.length; i < len; i++){
                            if(this._wmCache[i].key == key){
                              return  this._wmCache[i].value;
                            }
                          }
                
                          return;
                
                        },
                        'delete': function(key) {
                
                          if(typeof key == 'undefined') return;
                
                          for(var i = 0, len = this._wmCache.length; i < len; i++){
                            if(this._wmCache[i].key == key){
                              Array.prototype.slice.call(this._wmCache, i, 1);
                            }
                          }
                        }
                      };
                    }
                
                    window.WeakMap = WeakMap;
                  })();
                }
                
                Handsontable.activeGuid = null;
                
                /**
                 * Handsontable constructor
                 * @param rootElement The jQuery element in which Handsontable DOM will be inserted
                 * @param userSettings
                 * @constructor
                 */
                Handsontable.Core = function (rootElement, userSettings) {
                  var priv
                    , datamap
                    , grid
                    , selection
                    , editorManager
                    , autofill
                    , instance = this
                    , GridSettings = function () {};
                
                  Handsontable.helper.extend(GridSettings.prototype, DefaultSettings.prototype); //create grid settings as a copy of default settings
                  Handsontable.helper.extend(GridSettings.prototype, userSettings); //overwrite defaults with user settings
                  Handsontable.helper.extend(GridSettings.prototype, expandType(userSettings));
                
                  this.rootElement = rootElement;
                  var $document = $(document.documentElement);
                  var $body = $(document.body);
                  this.guid = 'ht_' + Handsontable.helper.randomString(); //this is the namespace for global events
                
                  if (!this.rootElement[0].id) {
                    this.rootElement[0].id = this.guid; //if root element does not have an id, assign a random id
                  }
                
                  priv = {
                    cellSettings: [],
                    columnSettings: [],
                    columnsSettingConflicts: ['data', 'width'],
                    settings: new GridSettings(), // current settings instance
                    settingsFromDOM: {},
                    selStart: new Handsontable.SelectionPoint(),
                    selEnd: new Handsontable.SelectionPoint(),
                    isPopulated: null,
                    scrollable: null,
                    extensions: {},
                    firstRun: true
                  };
                
                  grid = {
                    /**
                     * Inserts or removes rows and columns
                     * @param {String} action Possible values: "insert_row", "insert_col", "remove_row", "remove_col"
                     * @param {Number} index
                     * @param {Number} amount
                     * @param {String} [source] Optional. Source of hook runner.
                     * @param {Boolean} [keepEmptyRows] Optional. Flag for preventing deletion of empty rows.
                     */
                    alter: function (action, index, amount, source, keepEmptyRows) {
                      var delta;
                
                      amount = amount || 1;
                
                      switch (action) {
                        case "insert_row":
                          delta = datamap.createRow(index, amount);
                
                          if (delta) {
                            if (priv.selStart.exists() && priv.selStart.row() >= index) {
                              priv.selStart.row(priv.selStart.row() + delta);
                              selection.transformEnd(delta, 0); //will call render() internally
                            }
                            else {
                              selection.refreshBorders(); //it will call render and prepare methods
                            }
                          }
                          break;
                
                        case "insert_col":
                          delta = datamap.createCol(index, amount);
                
                          if (delta) {
                
                            if(Handsontable.helper.isArray(instance.getSettings().colHeaders)){
                              var spliceArray = [index, 0];
                              spliceArray.length += delta; //inserts empty (undefined) elements at the end of an array
                              Array.prototype.splice.apply(instance.getSettings().colHeaders, spliceArray); //inserts empty (undefined) elements into the colHeader array
                            }
                
                            if (priv.selStart.exists() && priv.selStart.col() >= index) {
                              priv.selStart.col(priv.selStart.col() + delta);
                              selection.transformEnd(0, delta); //will call render() internally
                            }
                            else {
                              selection.refreshBorders(); //it will call render and prepare methods
                            }
                          }
                          break;
                
                        case "remove_row":
                          datamap.removeRow(index, amount);
                          priv.cellSettings.splice(index, amount);
                          grid.adjustRowsAndCols();
                          selection.refreshBorders(); //it will call render and prepare methods
                          break;
                
                        case "remove_col":
                          datamap.removeCol(index, amount);
                
                          for(var row = 0, len = datamap.getAll().length; row < len; row++){
                            if(row in priv.cellSettings){  //if row hasn't been rendered it wouldn't have cellSettings
                              priv.cellSettings[row].splice(index, amount);
                            }
                          }
                
                          if(Handsontable.helper.isArray(instance.getSettings().colHeaders)){
                            if(typeof index == 'undefined'){
                              index = -1;
                            }
                            instance.getSettings().colHeaders.splice(index, amount);
                          }
                
                          priv.columnSettings.splice(index, amount);
                
                          grid.adjustRowsAndCols();
                          selection.refreshBorders(); //it will call render and prepare methods
                          break;
                
                        default:
                          throw new Error('There is no such action "' + action + '"');
                          break;
                      }
                
                      if (!keepEmptyRows) {
                        grid.adjustRowsAndCols(); //makes sure that we did not add rows that will be removed in next refresh
                      }
                    },
                
                    /**
                     * Makes sure there are empty rows at the bottom of the table
                     */
                    adjustRowsAndCols: function () {
                      var r, rlen, emptyRows = instance.countEmptyRows(true), emptyCols;
                
                      //should I add empty rows to data source to meet minRows?
                      rlen = instance.countRows();
                      if (rlen < priv.settings.minRows) {
                        for (r = 0; r < priv.settings.minRows - rlen; r++) {
                          datamap.createRow(instance.countRows(), 1, true);
                        }
                      }
                
                      //should I add empty rows to meet minSpareRows?
                      if (emptyRows < priv.settings.minSpareRows) {
                        for (; emptyRows < priv.settings.minSpareRows && instance.countRows() < priv.settings.maxRows; emptyRows++) {
                          datamap.createRow(instance.countRows(), 1, true);
                        }
                      }
                
                      //count currently empty cols
                      emptyCols = instance.countEmptyCols(true);
                
                      //should I add empty cols to meet minCols?
                      if (!priv.settings.columns && instance.countCols() < priv.settings.minCols) {
                        for (; instance.countCols() < priv.settings.minCols; emptyCols++) {
                          datamap.createCol(instance.countCols(), 1, true);
                        }
                      }
                
                      //should I add empty cols to meet minSpareCols?
                      if (!priv.settings.columns && instance.dataType === 'array' && emptyCols < priv.settings.minSpareCols) {
                        for (; emptyCols < priv.settings.minSpareCols && instance.countCols() < priv.settings.maxCols; emptyCols++) {
                          datamap.createCol(instance.countCols(), 1, true);
                        }
                      }
                
                      if (priv.settings.enterBeginsEditing) {
                        for (; (((priv.settings.minRows || priv.settings.minSpareRows) && instance.countRows() > priv.settings.minRows) && (priv.settings.minSpareRows && emptyRows > priv.settings.minSpareRows)); emptyRows--) {
                          datamap.removeRow();
                        }
                      }
                
                      if (priv.settings.enterBeginsEditing && !priv.settings.columns) {
                        for (; (((priv.settings.minCols || priv.settings.minSpareCols) && instance.countCols() > priv.settings.minCols) && (priv.settings.minSpareCols && emptyCols > priv.settings.minSpareCols)); emptyCols--) {
                          datamap.removeCol();
                        }
                      }
                
                      var rowCount = instance.countRows();
                      var colCount = instance.countCols();
                
                      if (rowCount === 0 || colCount === 0) {
                        selection.deselect();
                      }
                
                      if (priv.selStart.exists()) {
                        var selectionChanged;
                        var fromRow = priv.selStart.row();
                        var fromCol = priv.selStart.col();
                        var toRow = priv.selEnd.row();
                        var toCol = priv.selEnd.col();
                
                        //if selection is outside, move selection to last row
                        if (fromRow > rowCount - 1) {
                          fromRow = rowCount - 1;
                          selectionChanged = true;
                          if (toRow > fromRow) {
                            toRow = fromRow;
                          }
                        } else if (toRow > rowCount - 1) {
                          toRow = rowCount - 1;
                          selectionChanged = true;
                          if (fromRow > toRow) {
                            fromRow = toRow;
                          }
                        }
                
                        //if selection is outside, move selection to last row
                        if (fromCol > colCount - 1) {
                          fromCol = colCount - 1;
                          selectionChanged = true;
                          if (toCol > fromCol) {
                            toCol = fromCol;
                          }
                        } else if (toCol > colCount - 1) {
                          toCol = colCount - 1;
                          selectionChanged = true;
                          if (fromCol > toCol) {
                            fromCol = toCol;
                          }
                        }
                
                        if (selectionChanged) {
                          instance.selectCell(fromRow, fromCol, toRow, toCol);
                        }
                      }
                    },
                
                    /**
                     * Populate cells at position with 2d array
                     * @param {Object} start Start selection position
                     * @param {Array} input 2d array
                     * @param {Object} [end] End selection position (only for drag-down mode)
                     * @param {String} [source="populateFromArray"]
                     * @param {String} [method="overwrite"]
                     * @return {Object|undefined} ending td in pasted area (only if any cell was changed)
                     */
                    populateFromArray: function (start, input, end, source, method) {
                      var r, rlen, c, clen, setData = [], current = {};
                      rlen = input.length;
                      if (rlen === 0) {
                        return false;
                      }
                
                      var repeatCol
                        , repeatRow
                        , cmax
                        , rmax;
                
                      // insert data with specified pasteMode method
                      switch (method) {
                        case 'shift_down' :
                          repeatCol = end ? end.col - start.col + 1 : 0;
                          repeatRow = end ? end.row - start.row + 1 : 0;
                          input = Handsontable.helper.translateRowsToColumns(input);
                          for (c = 0, clen = input.length, cmax = Math.max(clen, repeatCol); c < cmax; c++) {
                            if (c < clen) {
                              for (r = 0, rlen = input[c].length; r < repeatRow - rlen; r++) {
                                input[c].push(input[c][r % rlen]);
                              }
                              input[c].unshift(start.col + c, start.row, 0);
                              instance.spliceCol.apply(instance, input[c]);
                            }
                            else {
                              input[c % clen][0] = start.col + c;
                              instance.spliceCol.apply(instance, input[c % clen]);
                            }
                          }
                          break;
                
                        case 'shift_right' :
                          repeatCol = end ? end.col - start.col + 1 : 0;
                          repeatRow = end ? end.row - start.row + 1 : 0;
                          for (r = 0, rlen = input.length, rmax = Math.max(rlen, repeatRow); r < rmax; r++) {
                            if (r < rlen) {
                              for (c = 0, clen = input[r].length; c < repeatCol - clen; c++) {
                                input[r].push(input[r][c % clen]);
                              }
                              input[r].unshift(start.row + r, start.col, 0);
                              instance.spliceRow.apply(instance, input[r]);
                            }
                            else {
                              input[r % rlen][0] = start.row + r;
                              instance.spliceRow.apply(instance, input[r % rlen]);
                            }
                          }
                          break;
                
                        case 'overwrite' :
                        default:
                          // overwrite and other not specified options
                          current.row = start.row;
                          current.col = start.col;
                          for (r = 0; r < rlen; r++) {
                            if ((end && current.row > end.row) || (!priv.settings.minSpareRows && current.row > instance.countRows() - 1) || (current.row >= priv.settings.maxRows)) {
                              break;
                            }
                            current.col = start.col;
                            clen = input[r] ? input[r].length : 0;
                            for (c = 0; c < clen; c++) {
                              if ((end && current.col > end.col) || (!priv.settings.minSpareCols && current.col > instance.countCols() - 1) || (current.col >= priv.settings.maxCols)) {
                                break;
                              }
                              if (!instance.getCellMeta(current.row, current.col).readOnly) {
                                setData.push([current.row, current.col, input[r][c]]);
                              }
                              current.col++;
                              if (end && c === clen - 1) {
                                c = -1;
                              }
                            }
                            current.row++;
                            if (end && r === rlen - 1) {
                              r = -1;
                            }
                          }
                          instance.setDataAtCell(setData, null, null, source || 'populateFromArray');
                          break;
                      }
                    },
                
                    /**
                     * Returns the top left (TL) and bottom right (BR) selection coordinates
                     * @param {Object[]} coordsArr
                     * @returns {Object}
                     */
                    getCornerCoords: function (coordsArr) {
                      function mapProp(func, array, prop) {
                        function getProp(el) {
                          return el[prop];
                        }
                
                        if (Array.prototype.map) {
                          return func.apply(Math, array.map(getProp));
                        }
                        return func.apply(Math, $.map(array, getProp));
                      }
                
                      return {
                        TL: {
                          row: mapProp(Math.min, coordsArr, "row"),
                          col: mapProp(Math.min, coordsArr, "col")
                        },
                        BR: {
                          row: mapProp(Math.max, coordsArr, "row"),
                          col: mapProp(Math.max, coordsArr, "col")
                        }
                      };
                    },
                
                    /**
                     * Returns array of td objects given start and end coordinates
                     */
                    getCellsAtCoords: function (start, end) {
                      var corners = grid.getCornerCoords([start, end]);
                      var r, c, output = [];
                      for (r = corners.TL.row; r <= corners.BR.row; r++) {
                        for (c = corners.TL.col; c <= corners.BR.col; c++) {
                          output.push(instance.view.getCellAtCoords({
                            row: r,
                            col: c
                          }));
                        }
                      }
                      return output;
                    }
                  };
                
                  this.selection = selection = { //this public assignment is only temporary
                    inProgress: false,
                
                    /**
                     * Sets inProgress to true. This enables onSelectionEnd and onSelectionEndByProp to function as desired
                     */
                    begin: function () {
                      instance.selection.inProgress = true;
                    },
                
                    /**
                     * Sets inProgress to false. Triggers onSelectionEnd and onSelectionEndByProp
                     */
                    finish: function () {
                      var sel = instance.getSelected();
                      instance.PluginHooks.run("afterSelectionEnd", sel[0], sel[1], sel[2], sel[3]);
                      instance.PluginHooks.run("afterSelectionEndByProp", sel[0], instance.colToProp(sel[1]), sel[2], instance.colToProp(sel[3]));
                      instance.selection.inProgress = false;
                    },
                
                    isInProgress: function () {
                      return instance.selection.inProgress;
                    },
                
                    /**
                     * Starts selection range on given td object
                     * @param {Object} coords
                     */
                    setRangeStart: function (coords) {
                      priv.selStart.coords(coords);
                      selection.setRangeEnd(coords);
                    },
                
                    /**
                     * Ends selection range on given td object
                     * @param {Object} coords
                     * @param {Boolean} [scrollToCell=true] If true, viewport will be scrolled to range end
                     */
                    setRangeEnd: function (coords, scrollToCell) {
                      instance.selection.begin();
                
                      priv.selEnd.coords(coords);
                      if (!priv.settings.multiSelect) {
                        priv.selStart.coords(coords);
                      }
                
                      //set up current selection
                      instance.view.wt.selections.current.clear();
                      instance.view.wt.selections.current.add(priv.selStart.arr());
                
                      //set up area selection
                      instance.view.wt.selections.area.clear();
                      if (selection.isMultiple()) {
                        instance.view.wt.selections.area.add(priv.selStart.arr());
                        instance.view.wt.selections.area.add(priv.selEnd.arr());
                      }
                
                      //set up highlight
                      if (priv.settings.currentRowClassName || priv.settings.currentColClassName) {
                        instance.view.wt.selections.highlight.clear();
                        instance.view.wt.selections.highlight.add(priv.selStart.arr());
                        instance.view.wt.selections.highlight.add(priv.selEnd.arr());
                      }
                
                      //trigger handlers
                      instance.PluginHooks.run("afterSelection", priv.selStart.row(), priv.selStart.col(), priv.selEnd.row(), priv.selEnd.col());
                      instance.PluginHooks.run("afterSelectionByProp", priv.selStart.row(), datamap.colToProp(priv.selStart.col()), priv.selEnd.row(), datamap.colToProp(priv.selEnd.col()));
                
                      if (scrollToCell !== false) {
                        instance.view.scrollViewport(coords);
                      }
                      selection.refreshBorders();
                    },
                
                    /**
                     * Destroys editor, redraws borders around cells, prepares editor
                     * @param {Boolean} revertOriginal
                     * @param {Boolean} keepEditor
                     */
                    refreshBorders: function (revertOriginal, keepEditor) {
                      if (!keepEditor) {
                        editorManager.destroyEditor(revertOriginal);
                      }
                      instance.view.render();
                      if (selection.isSelected() && !keepEditor) {
                        editorManager.prepareEditor();
                      }
                    },
                
                    /**
                     * Returns information if we have a multiselection
                     * @return {Boolean}
                     */
                    isMultiple: function () {
                      return !(priv.selEnd.col() === priv.selStart.col() && priv.selEnd.row() === priv.selStart.row());
                    },
                
                    /**
                     * Selects cell relative to current cell (if possible)
                     */
                    transformStart: function (rowDelta, colDelta, force) {
                      if (priv.selStart.row() + rowDelta > instance.countRows() - 1) {
                        if (force && priv.settings.minSpareRows > 0) {
                          instance.alter("insert_row", instance.countRows());
                        }
                        else if (priv.settings.autoWrapCol) {
                          rowDelta = 1 - instance.countRows();
                          colDelta = priv.selStart.col() + colDelta == instance.countCols() - 1 ? 1 - instance.countCols() : 1;
                        }
                      }
                      else if (priv.settings.autoWrapCol && priv.selStart.row() + rowDelta < 0 && priv.selStart.col() + colDelta >= 0) {
                        rowDelta = instance.countRows() - 1;
                        colDelta = priv.selStart.col() + colDelta == 0 ? instance.countCols() - 1 : -1;
                      }
                
                      if (priv.selStart.col() + colDelta > instance.countCols() - 1) {
                        if (force && priv.settings.minSpareCols > 0) {
                          instance.alter("insert_col", instance.countCols());
                        }
                        else if (priv.settings.autoWrapRow) {
                          rowDelta = priv.selStart.row() + rowDelta == instance.countRows() - 1 ? 1 - instance.countRows() : 1;
                          colDelta = 1 - instance.countCols();
                        }
                      }
                      else if (priv.settings.autoWrapRow && priv.selStart.col() + colDelta < 0 && priv.selStart.row() + rowDelta >= 0) {
                        rowDelta = priv.selStart.row() + rowDelta == 0 ? instance.countRows() - 1 : -1;
                        colDelta = instance.countCols() - 1;
                      }
                
                      var totalRows = instance.countRows();
                      var totalCols = instance.countCols();
                      var coords = {
                        row: priv.selStart.row() + rowDelta,
                        col: priv.selStart.col() + colDelta
                      };
                
                      if (coords.row < 0) {
                        coords.row = 0;
                      }
                      else if (coords.row > 0 && coords.row >= totalRows) {
                        coords.row = totalRows - 1;
                      }
                
                      if (coords.col < 0) {
                        coords.col = 0;
                      }
                      else if (coords.col > 0 && coords.col >= totalCols) {
                        coords.col = totalCols - 1;
                      }
                
                      selection.setRangeStart(coords);
                    },
                
                    /**
                     * Sets selection end cell relative to current selection end cell (if possible)
                     */
                    transformEnd: function (rowDelta, colDelta) {
                      if (priv.selEnd.exists()) {
                        var totalRows = instance.countRows();
                        var totalCols = instance.countCols();
                        var coords = {
                          row: priv.selEnd.row() + rowDelta,
                          col: priv.selEnd.col() + colDelta
                        };
                
                        if (coords.row < 0) {
                          coords.row = 0;
                        }
                        else if (coords.row > 0 && coords.row >= totalRows) {
                          coords.row = totalRows - 1;
                        }
                
                        if (coords.col < 0) {
                          coords.col = 0;
                        }
                        else if (coords.col > 0 && coords.col >= totalCols) {
                          coords.col = totalCols - 1;
                        }
                
                        selection.setRangeEnd(coords);
                      }
                    },
                
                    /**
                     * Returns true if currently there is a selection on screen, false otherwise
                     * @return {Boolean}
                     */
                    isSelected: function () {
                      return priv.selEnd.exists();
                    },
                
                    /**
                     * Returns true if coords is within current selection coords
                     * @return {Boolean}
                     */
                    inInSelection: function (coords) {
                      if (!selection.isSelected()) {
                        return false;
                      }
                      var sel = grid.getCornerCoords([priv.selStart.coords(), priv.selEnd.coords()]);
                      return (sel.TL.row <= coords.row && sel.BR.row >= coords.row && sel.TL.col <= coords.col && sel.BR.col >= coords.col);
                    },
                
                    /**
                     * Deselects all selected cells
                     */
                    deselect: function () {
                      if (!selection.isSelected()) {
                        return;
                      }
                      instance.selection.inProgress = false; //needed by HT inception
                      priv.selEnd = new Handsontable.SelectionPoint(); //create new empty point to remove the existing one
                      instance.view.wt.selections.current.clear();
                      instance.view.wt.selections.area.clear();
                      editorManager.destroyEditor();
                      selection.refreshBorders();
                      instance.PluginHooks.run('afterDeselect');
                    },
                
                    /**
                     * Select all cells
                     */
                    selectAll: function () {
                      if (!priv.settings.multiSelect) {
                        return;
                      }
                      selection.setRangeStart({
                        row: 0,
                        col: 0
                      });
                      selection.setRangeEnd({
                        row: instance.countRows() - 1,
                        col: instance.countCols() - 1
                      }, false);
                    },
                
                    /**
                     * Deletes data from selected cells
                     */
                    empty: function () {
                      if (!selection.isSelected()) {
                        return;
                      }
                      var corners = grid.getCornerCoords([priv.selStart.coords(), priv.selEnd.coords()]);
                      var r, c, changes = [];
                      for (r = corners.TL.row; r <= corners.BR.row; r++) {
                        for (c = corners.TL.col; c <= corners.BR.col; c++) {
                          if (!instance.getCellMeta(r, c).readOnly) {
                            changes.push([r, c, '']);
                          }
                        }
                      }
                      instance.setDataAtCell(changes);
                    }
                  };
                
                  this.autofill = autofill = { //this public assignment is only temporary
                    handle: null,
                
                    /**
                     * Create fill handle and fill border objects
                     */
                    init: function () {
                      if (!autofill.handle) {
                        autofill.handle = {};
                      }
                      else {
                        autofill.handle.disabled = false;
                      }
                    },
                
                    /**
                     * Hide fill handle and fill border permanently
                     */
                    disable: function () {
                      autofill.handle.disabled = true;
                    },
                
                    /**
                     * Selects cells down to the last row in the left column, then fills down to that cell
                     */
                    selectAdjacent: function () {
                      var select, data, r, maxR, c;
                
                      if (selection.isMultiple()) {
                        select = instance.view.wt.selections.area.getCorners();
                      }
                      else {
                        select = instance.view.wt.selections.current.getCorners();
                      }
                
                      data = datamap.getAll();
                      rows : for (r = select[2] + 1; r < instance.countRows(); r++) {
                        for (c = select[1]; c <= select[3]; c++) {
                          if (data[r][c]) {
                            break rows;
                          }
                        }
                        if (!!data[r][select[1] - 1] || !!data[r][select[3] + 1]) {
                          maxR = r;
                        }
                      }
                      if (maxR) {
                        instance.view.wt.selections.fill.clear();
                        instance.view.wt.selections.fill.add([select[0], select[1]]);
                        instance.view.wt.selections.fill.add([maxR, select[3]]);
                        autofill.apply();
                      }
                    },
                
                    /**
                     * Apply fill values to the area in fill border, omitting the selection border
                     */
                    apply: function () {
                      var drag, select, start, end, _data;
                
                      autofill.handle.isDragged = 0;
                
                      drag = instance.view.wt.selections.fill.getCorners();
                      if (!drag) {
                        return;
                      }
                
                      instance.view.wt.selections.fill.clear();
                
                      if (selection.isMultiple()) {
                        select = instance.view.wt.selections.area.getCorners();
                      }
                      else {
                        select = instance.view.wt.selections.current.getCorners();
                      }
                
                      if (drag[0] === select[0] && drag[1] < select[1]) {
                        start = {
                          row: drag[0],
                          col: drag[1]
                        };
                        end = {
                          row: drag[2],
                          col: select[1] - 1
                        };
                      }
                      else if (drag[0] === select[0] && drag[3] > select[3]) {
                        start = {
                          row: drag[0],
                          col: select[3] + 1
                        };
                        end = {
                          row: drag[2],
                          col: drag[3]
                        };
                      }
                      else if (drag[0] < select[0] && drag[1] === select[1]) {
                        start = {
                          row: drag[0],
                          col: drag[1]
                        };
                        end = {
                          row: select[0] - 1,
                          col: drag[3]
                        };
                      }
                      else if (drag[2] > select[2] && drag[1] === select[1]) {
                        start = {
                          row: select[2] + 1,
                          col: drag[1]
                        };
                        end = {
                          row: drag[2],
                          col: drag[3]
                        };
                      }
                
                      if (start) {
                
                        _data = SheetClip.parse(datamap.getText(priv.selStart.coords(), priv.selEnd.coords()));
                        instance.PluginHooks.run('beforeAutofill', start, end, _data);
                
                        grid.populateFromArray(start, _data, end, 'autofill');
                
                        selection.setRangeStart({row: drag[0], col: drag[1]});
                        selection.setRangeEnd({row: drag[2], col: drag[3]});
                      }
                      /*else {
                       //reset to avoid some range bug
                       selection.refreshBorders();
                       }*/
                    },
                
                    /**
                     * Show fill border
                     */
                    showBorder: function (coords) {
                      coords.row = coords[0];
                      coords.col = coords[1];
                
                      var corners = grid.getCornerCoords([priv.selStart.coords(), priv.selEnd.coords()]);
                      if (priv.settings.fillHandle !== 'horizontal' && (corners.BR.row < coords.row || corners.TL.row > coords.row)) {
                        coords = [coords.row, corners.BR.col];
                      }
                      else if (priv.settings.fillHandle !== 'vertical') {
                        coords = [corners.BR.row, coords.col];
                      }
                      else {
                        return; //wrong direction
                      }
                
                      instance.view.wt.selections.fill.clear();
                      instance.view.wt.selections.fill.add([priv.selStart.coords().row, priv.selStart.coords().col]);
                      instance.view.wt.selections.fill.add([priv.selEnd.coords().row, priv.selEnd.coords().col]);
                      instance.view.wt.selections.fill.add(coords);
                      instance.view.render();
                    }
                  };
                
                  this.init = function () {
                    instance.PluginHooks.run('beforeInit');
                
                    this.view = new Handsontable.TableView(this);
                    editorManager = new Handsontable.EditorManager(instance, priv, selection, datamap);
                
                    this.updateSettings(priv.settings, true);
                    this.parseSettingsFromDOM();
                
                
                    this.forceFullRender = true; //used when data was changed
                    this.view.render();
                
                    if (typeof priv.firstRun === 'object') {
                      instance.PluginHooks.run('afterChange', priv.firstRun[0], priv.firstRun[1]);
                      priv.firstRun = false;
                    }
                    instance.PluginHooks.run('afterInit');
                  };
                
                  function ValidatorsQueue() { //moved this one level up so it can be used in any function here. Probably this should be moved to a separate file
                    var resolved = false;
                
                    return {
                      validatorsInQueue: 0,
                      addValidatorToQueue: function () {
                        this.validatorsInQueue++;
                        resolved = false;
                      },
                      removeValidatorFormQueue: function () {
                        this.validatorsInQueue = this.validatorsInQueue - 1 < 0 ? 0 : this.validatorsInQueue - 1;
                        this.checkIfQueueIsEmpty();
                      },
                      onQueueEmpty: function () {
                      },
                      checkIfQueueIsEmpty: function () {
                        if (this.validatorsInQueue == 0 && resolved == false) {
                          resolved = true;
                          this.onQueueEmpty();
                        }
                      }
                    };
                  }
                
                  function validateChanges(changes, source, callback) {
                    var waitingForValidator = new ValidatorsQueue();
                    waitingForValidator.onQueueEmpty = resolve;
                
                    for (var i = changes.length - 1; i >= 0; i--) {
                      if (changes[i] === null) {
                        changes.splice(i, 1);
                      }
                      else {
                        var row = changes[i][0];
                        var col = datamap.propToCol(changes[i][1]);
                        var logicalCol = instance.runHooksAndReturn('modifyCol', col); //column order may have changes, so we need to translate physical col index (stored in datasource) to logical (displayed to user)
                        var cellProperties = instance.getCellMeta(row, logicalCol);
                
                        if (cellProperties.type === 'numeric' && typeof changes[i][3] === 'string') {
                          if (changes[i][3].length > 0 && /^-?[\d\s]*\.?\d*$/.test(changes[i][3])) {
                            changes[i][3] = numeral().unformat(changes[i][3] || '0'); //numeral cannot unformat empty string
                          }
                        }
                
                        if (instance.getCellValidator(cellProperties)) {
                          waitingForValidator.addValidatorToQueue();
                          instance.validateCell(changes[i][3], cellProperties, (function (i, cellProperties) {
                            return function (result) {
                              if (typeof result !== 'boolean') {
                                throw new Error("Validation error: result is not boolean");
                              }
                              if (result === false && cellProperties.allowInvalid === false) {
                                changes.splice(i, 1);         // cancel the change
                                cellProperties.valid = true;  // we cancelled the change, so cell value is still valid
                                --i;
                              }
                              waitingForValidator.removeValidatorFormQueue();
                            }
                          })(i, cellProperties)
                            , source);
                        }
                      }
                    }
                    waitingForValidator.checkIfQueueIsEmpty();
                
                    function resolve() {
                      var beforeChangeResult;
                
                      if (changes.length) {
                        beforeChangeResult = instance.PluginHooks.execute("beforeChange", changes, source);
                        if (typeof beforeChangeResult === 'function') {
                          $.when(result).then(function () {
                            callback(); //called when async validators and async beforeChange are resolved
                          });
                        }
                        else if (beforeChangeResult === false) {
                          changes.splice(0, changes.length); //invalidate all changes (remove everything from array)
                        }
                      }
                      if (typeof beforeChangeResult !== 'function') {
                        callback(); //called when async validators are resolved and beforeChange was not async
                      }
                    }
                  }
                
                  /**
                   * Internal function to apply changes. Called after validateChanges
                   * @param {Array} changes Array in form of [row, prop, oldValue, newValue]
                   * @param {String} source String that identifies how this change will be described in changes array (useful in onChange callback)
                   */
                  function applyChanges(changes, source) {
                    var i = changes.length - 1;
                
                    if (i < 0) {
                      return;
                    }
                
                    for (; 0 <= i; i--) {
                      if (changes[i] === null) {
                        changes.splice(i, 1);
                        continue;
                      }
                
                      if (priv.settings.minSpareRows) {
                        while (changes[i][0] > instance.countRows() - 1) {
                          datamap.createRow();
                        }
                      }
                
                      if (instance.dataType === 'array' && priv.settings.minSpareCols) {
                        while (datamap.propToCol(changes[i][1]) > instance.countCols() - 1) {
                          datamap.createCol();
                        }
                      }
                
                      datamap.set(changes[i][0], changes[i][1], changes[i][3]);
                    }
                
                    instance.forceFullRender = true; //used when data was changed
                    grid.adjustRowsAndCols();
                    selection.refreshBorders(null, true);
                    instance.PluginHooks.run('afterChange', changes, source || 'edit');
                  }
                
                  this.validateCell = function (value, cellProperties, callback, source) {
                    var validator = instance.getCellValidator(cellProperties);
                
                    if (Object.prototype.toString.call(validator) === '[object RegExp]') {
                      validator = (function (validator) {
                        return function (value, callback) {
                          callback(validator.test(value));
                        }
                      })(validator);
                    }
                
                    if (typeof validator == 'function') {
                
                      value = instance.PluginHooks.execute("beforeValidate", value, cellProperties.row, cellProperties.prop, source);
                
                      // To provide consistent behaviour, validation should be always asynchronous
                      setTimeout(function () {
                        validator.call(cellProperties, value, function (valid) {
                          cellProperties.valid = valid;
                
                          valid = instance.PluginHooks.execute("afterValidate", valid, value, cellProperties.row, cellProperties.prop, source);
                
                          callback(valid);
                        });
                      });
                
                    } else { //resolve callback even if validator function was not found
                      cellProperties.valid = true;
                      callback(true);
                    }
                
                
                
                  };
                
                  function setDataInputToArray(row, prop_or_col, value) {
                    if (typeof row === "object") { //is it an array of changes
                      return row;
                    }
                    else if ($.isPlainObject(value)) { //backwards compatibility
                      return value;
                    }
                    else {
                      return [
                        [row, prop_or_col, value]
                      ];
                    }
                  }
                
                  /**
                   * Set data at given cell
                   * @public
                   * @param {Number|Array} row or array of changes in format [[row, col, value], ...]
                   * @param {Number|String} col or source String
                   * @param {String} value
                   * @param {String} source String that identifies how this change will be described in changes array (useful in onChange callback)
                   */
                  this.setDataAtCell = function (row, col, value, source) {
                    var input = setDataInputToArray(row, col, value)
                      , i
                      , ilen
                      , changes = []
                      , prop;
                
                    for (i = 0, ilen = input.length; i < ilen; i++) {
                      if (typeof input[i] !== 'object') {
                        throw new Error('Method `setDataAtCell` accepts row number or changes array of arrays as its first parameter');
                      }
                      if (typeof input[i][1] !== 'number') {
                        throw new Error('Method `setDataAtCell` accepts row and column number as its parameters. If you want to use object property name, use method `setDataAtRowProp`');
                      }
                      prop = datamap.colToProp(input[i][1]);
                      changes.push([
                        input[i][0],
                        prop,
                        datamap.get(input[i][0], prop),
                        input[i][2]
                      ]);
                    }
                
                    if (!source && typeof row === "object") {
                      source = col;
                    }
                
                    validateChanges(changes, source, function () {
                      applyChanges(changes, source);
                    });
                  };
                
                
                  /**
                   * Set data at given row property
                   * @public
                   * @param {Number|Array} row or array of changes in format [[row, prop, value], ...]
                   * @param {String} prop or source String
                   * @param {String} value
                   * @param {String} source String that identifies how this change will be described in changes array (useful in onChange callback)
                   */
                  this.setDataAtRowProp = function (row, prop, value, source) {
                    var input = setDataInputToArray(row, prop, value)
                      , i
                      , ilen
                      , changes = [];
                
                    for (i = 0, ilen = input.length; i < ilen; i++) {
                      changes.push([
                        input[i][0],
                        input[i][1],
                        datamap.get(input[i][0], input[i][1]),
                        input[i][2]
                      ]);
                    }
                
                    if (!source && typeof row === "object") {
                      source = prop;
                    }
                
                    validateChanges(changes, source, function () {
                      applyChanges(changes, source);
                    });
                  };
                
                  /**
                   * Listen to document body keyboard input
                   */
                  this.listen = function () {
                    Handsontable.activeGuid = instance.guid;
                
                    if (document.activeElement && document.activeElement !== document.body) {
                      document.activeElement.blur();
                    }
                    else if (!document.activeElement) { //IE
                      document.body.focus();
                    }
                  };
                
                  /**
                   * Stop listening to document body keyboard input
                   */
                  this.unlisten = function () {
                    Handsontable.activeGuid = null;
                  };
                
                  /**
                   * Returns true if current Handsontable instance is listening on document body keyboard input
                   */
                  this.isListening = function () {
                    return Handsontable.activeGuid === instance.guid;
                  };
                
                  /**
                   * Destroys current editor, renders and selects current cell. If revertOriginal != true, edited data is saved
                   * @param {Boolean} revertOriginal
                   */
                  this.destroyEditor = function (revertOriginal) {
                    selection.refreshBorders(revertOriginal);
                  };
                
                  /**
                   * Populate cells at position with 2d array
                   * @param {Number} row Start row
                   * @param {Number} col Start column
                   * @param {Array} input 2d array
                   * @param {Number=} endRow End row (use when you want to cut input when certain row is reached)
                   * @param {Number=} endCol End column (use when you want to cut input when certain column is reached)
                   * @param {String=} [source="populateFromArray"]
                   * @param {String=} [method="overwrite"]
                   * @return {Object|undefined} ending td in pasted area (only if any cell was changed)
                   */
                  this.populateFromArray = function (row, col, input, endRow, endCol, source, method) {
                    if (!(typeof input === 'object' && typeof input[0] === 'object')) {
                      throw new Error("populateFromArray parameter `input` must be an array of arrays"); //API changed in 0.9-beta2, let's check if you use it correctly
                    }
                    return grid.populateFromArray({row: row, col: col}, input, typeof endRow === 'number' ? {row: endRow, col: endCol} : null, source, method);
                  };
                
                  /**
                   * Adds/removes data from the column
                   * @param {Number} col Index of column in which do you want to do splice.
                   * @param {Number} index Index at which to start changing the array. If negative, will begin that many elements from the end
                   * @param {Number} amount An integer indicating the number of old array elements to remove. If amount is 0, no elements are removed
                   * param {...*} elements Optional. The elements to add to the array. If you don't specify any elements, spliceCol simply removes elements from the array
                   */
                  this.spliceCol = function (col, index, amount/*, elements... */) {
                    return datamap.spliceCol.apply(datamap, arguments);
                  };
                
                  /**
                   * Adds/removes data from the row
                   * @param {Number} row Index of column in which do you want to do splice.
                   * @param {Number} index Index at which to start changing the array. If negative, will begin that many elements from the end
                   * @param {Number} amount An integer indicating the number of old array elements to remove. If amount is 0, no elements are removed
                   * param {...*} elements Optional. The elements to add to the array. If you don't specify any elements, spliceCol simply removes elements from the array
                   */
                  this.spliceRow = function (row, index, amount/*, elements... */) {
                    return datamap.spliceRow.apply(datamap, arguments);
                  };
                
                  /**
                   * Returns the top left (TL) and bottom right (BR) selection coordinates
                   * @param {Object[]} coordsArr
                   * @returns {Object}
                   */
                  this.getCornerCoords = function (coordsArr) {
                    return grid.getCornerCoords(coordsArr);
                  };
                
                  /**
                   * Returns current selection. Returns undefined if there is no selection.
                   * @public
                   * @return {Array} [`startRow`, `startCol`, `endRow`, `endCol`]
                   */
                  this.getSelected = function () { //https://github.com/warpech/jquery-handsontable/issues/44  //cjl
                    if (selection.isSelected()) {
                      return [priv.selStart.row(), priv.selStart.col(), priv.selEnd.row(), priv.selEnd.col()];
                    }
                  };
                
                  /**
                   * Parse settings from DOM and CSS
                   * @public
                   */
                  this.parseSettingsFromDOM = function () {
                    var overflow = this.rootElement.css('overflow');
                    if (overflow === 'scroll' || overflow === 'auto') {
                      this.rootElement[0].style.overflow = 'visible';
                      priv.settingsFromDOM.overflow = overflow;
                    }
                    else if (priv.settings.width === void 0 || priv.settings.height === void 0) {
                      priv.settingsFromDOM.overflow = 'auto';
                    }
                
                    if (priv.settings.width === void 0) {
                      priv.settingsFromDOM.width = this.rootElement.width();
                    }
                    else {
                      priv.settingsFromDOM.width = void 0;
                    }
                
                    priv.settingsFromDOM.height = void 0;
                    if (priv.settings.height === void 0) {
                      if (priv.settingsFromDOM.overflow === 'scroll' || priv.settingsFromDOM.overflow === 'auto') {
                        //this needs to read only CSS/inline style and not actual height
                        //so we need to call getComputedStyle on cloned container
                        var clone = this.rootElement[0].cloneNode(false);
                        var parent = this.rootElement[0].parentNode;
                        if (parent) {
                          clone.removeAttribute('id');
                          parent.appendChild(clone);
                          var computedClientHeight = parseInt(clone.clientHeight, 10);
                          var computedPaddingTop = parseInt(window.getComputedStyle(clone, null).getPropertyValue('paddingTop'), 10) || 0;
                          var computedPaddingBottom = parseInt(window.getComputedStyle(clone, null).getPropertyValue('paddingBottom'), 10) || 0;
                
                          var computedHeight = computedClientHeight - computedPaddingTop - computedPaddingBottom;
                
                          if(isNaN(computedHeight) && clone.currentStyle){
                            computedHeight = parseInt(clone.currentStyle.height, 10)
                          }
                
                          if (computedHeight > 0) {
                            priv.settingsFromDOM.height = computedHeight;
                          }
                          parent.removeChild(clone);
                        }
                      }
                    }
                  };
                
                  /**
                   * Render visible data
                   * @public
                   */
                  this.render = function () {
                    if (instance.view) {
                      instance.forceFullRender = true; //used when data was changed
                      instance.parseSettingsFromDOM();
                      selection.refreshBorders(null, true);
                    }
                  };
                
                  /**
                   * Load data from array
                   * @public
                   * @param {Array} data
                   */
                  this.loadData = function (data) {
                    if (typeof data === 'object' && data !== null) {
                      if (!(data.push && data.splice)) { //check if data is array. Must use duck-type check so Backbone Collections also pass it
                        //when data is not an array, attempt to make a single-row array of it
                        data = [data];
                      }
                    }
                    else if(data === null) {
                      data = [];
                      var row;
                      for (var r = 0, rlen = priv.settings.startRows; r < rlen; r++) {
                        row = [];
                        for (var c = 0, clen = priv.settings.startCols; c < clen; c++) {
                          row.push(null);
                        }
                        data.push(row);
                      }
                    }
                    else {
                      throw new Error("loadData only accepts array of objects or array of arrays (" + typeof data + " given)");
                    }
                
                    priv.isPopulated = false;
                    GridSettings.prototype.data = data;
                
                    if (priv.settings.dataSchema instanceof Array || data[0]  instanceof Array) {
                      instance.dataType = 'array';
                    }
                    else if (typeof priv.settings.dataSchema === 'function') {
                      instance.dataType = 'function';
                    }
                    else {
                      instance.dataType = 'object';
                    }
                
                    datamap = new Handsontable.DataMap(instance, priv, GridSettings);
                
                    clearCellSettingCache();
                
                    grid.adjustRowsAndCols();
                    instance.PluginHooks.run('afterLoadData');
                
                    if (priv.firstRun) {
                      priv.firstRun = [null, 'loadData'];
                    }
                    else {
                      instance.PluginHooks.run('afterChange', null, 'loadData');
                      instance.render();
                    }
                
                    priv.isPopulated = true;
                
                
                
                    function clearCellSettingCache() {
                      priv.cellSettings.length = 0;
                    }
                  };
                
                  /**
                   * Return the current data object (the same that was passed by `data` configuration option or `loadData` method). Optionally you can provide cell range `r`, `c`, `r2`, `c2` to get only a fragment of grid data
                   * @public
                   * @param {Number} r (Optional) From row
                   * @param {Number} c (Optional) From col
                   * @param {Number} r2 (Optional) To row
                   * @param {Number} c2 (Optional) To col
                   * @return {Array|Object}
                   */
                  this.getData = function (r, c, r2, c2) {
                    if (typeof r === 'undefined') {
                      return datamap.getAll();
                    }
                    else {
                      return datamap.getRange({row: r, col: c}, {row: r2, col: c2}, datamap.DESTINATION_RENDERER);
                    }
                  };
                
                  this.getCopyableData = function (startRow, startCol, endRow, endCol) {
                    return datamap.getCopyableText({row: startRow, col: startCol}, {row: endRow, col: endCol});
                  }
                
                  /**
                   * Update settings
                   * @public
                   */
                  this.updateSettings = function (settings, init) {
                    var i, clen;
                
                    if (typeof settings.rows !== "undefined") {
                      throw new Error("'rows' setting is no longer supported. do you mean startRows, minRows or maxRows?");
                    }
                    if (typeof settings.cols !== "undefined") {
                      throw new Error("'cols' setting is no longer supported. do you mean startCols, minCols or maxCols?");
                    }
                
                    for (i in settings) {
                      if (i === 'data') {
                        continue; //loadData will be triggered later
                      }
                      else {
                        if (instance.PluginHooks.hooks[i] !== void 0 || instance.PluginHooks.legacy[i] !== void 0) {
                          if (typeof settings[i] === 'function' || Handsontable.helper.isArray(settings[i])) {
                            instance.PluginHooks.add(i, settings[i]);
                          }
                        }
                        else {
                          // Update settings
                          if (!init && settings.hasOwnProperty(i)) {
                            GridSettings.prototype[i] = settings[i];
                          }
                
                          //launch extensions
                          if (Handsontable.extension[i]) {
                            priv.extensions[i] = new Handsontable.extension[i](instance, settings[i]);
                          }
                        }
                      }
                    }
                
                    // Load data or create data map
                    if (settings.data === void 0 && priv.settings.data === void 0) {
                      instance.loadData(null); //data source created just now
                    }
                    else if (settings.data !== void 0) {
                      instance.loadData(settings.data); //data source given as option
                    }
                    else if (settings.columns !== void 0) {
                      datamap.createMap();
                    }
                
                    // Init columns constructors configuration
                    clen = instance.countCols();
                
                    //Clear cellSettings cache
                    priv.cellSettings.length = 0;
                
                    if (clen > 0) {
                      var proto, column;
                
                      for (i = 0; i < clen; i++) {
                        priv.columnSettings[i] = Handsontable.helper.columnFactory(GridSettings, priv.columnsSettingConflicts);
                
                        // shortcut for prototype
                        proto = priv.columnSettings[i].prototype;
                
                        // Use settings provided by user
                        if (GridSettings.prototype.columns) {
                          column = GridSettings.prototype.columns[i];
                          Handsontable.helper.extend(proto, column);
                          Handsontable.helper.extend(proto, expandType(column));
                        }
                      }
                    }
                
                    if (typeof settings.fillHandle !== "undefined") {
                      if (autofill.handle && settings.fillHandle === false) {
                        autofill.disable();
                      }
                      else if (!autofill.handle && settings.fillHandle !== false) {
                        autofill.init();
                      }
                    }
                
                    if (typeof settings.className !== "undefined") {
                      if (GridSettings.prototype.className) {
                        instance.rootElement.removeClass(GridSettings.prototype.className);
                      }
                      if (settings.className) {
                        instance.rootElement.addClass(settings.className);
                      }
                    }
                
                    if (!init) {
                      instance.PluginHooks.run('afterUpdateSettings');
                    }
                
                    grid.adjustRowsAndCols();
                    if (instance.view && !priv.firstRun) {
                      instance.forceFullRender = true; //used when data was changed
                      selection.refreshBorders(null, true);
                    }
                  };
                
                  this.getValue = function () {
                    var sel = instance.getSelected();
                    if (GridSettings.prototype.getValue) {
                      if (typeof GridSettings.prototype.getValue === 'function') {
                        return GridSettings.prototype.getValue.call(instance);
                      }
                      else if (sel) {
                        return instance.getData()[sel[0]][GridSettings.prototype.getValue];
                      }
                    }
                    else if (sel) {
                      return instance.getDataAtCell(sel[0], sel[1]);
                    }
                  };
                
                  function expandType(obj) {
                    if (!obj.hasOwnProperty('type')) return; //ignore obj.prototype.type
                
                
                    var type, expandedType = {};
                
                    if (typeof obj.type === 'object') {
                      type = obj.type;
                    }
                    else if (typeof obj.type === 'string') {
                      type = Handsontable.cellTypes[obj.type];
                      if (type === void 0) {
                        throw new Error('You declared cell type "' + obj.type + '" as a string that is not mapped to a known object. Cell type must be an object or a string mapped to an object in Handsontable.cellTypes');
                      }
                    }
                
                
                    for (var i in type) {
                      if (type.hasOwnProperty(i) && !obj.hasOwnProperty(i)) {
                        expandedType[i] = type[i];
                      }
                    }
                
                    return expandedType;
                
                  }
                
                  /**
                   * Returns current settings object
                   * @return {Object}
                   */
                  this.getSettings = function () {
                    return priv.settings;
                  };
                
                  /**
                   * Returns current settingsFromDOM object
                   * @return {Object}
                   */
                  this.getSettingsFromDOM = function () {
                    return priv.settingsFromDOM;
                  };
                
                  /**
                   * Clears grid
                   * @public
                   */
                  this.clear = function () {
                    selection.selectAll();
                    selection.empty();
                  };
                
                  /**
                   * Inserts or removes rows and columns
                   * @param {String} action See grid.alter for possible values
                   * @param {Number} index
                   * @param {Number} amount
                   * @param {String} [source] Optional. Source of hook runner.
                   * @param {Boolean} [keepEmptyRows] Optional. Flag for preventing deletion of empty rows.
                   * @public
                   */
                  this.alter = function (action, index, amount, source, keepEmptyRows) {
                    grid.alter(action, index, amount, source, keepEmptyRows);
                  };
                
                  /**
                   * Returns <td> element corresponding to params row, col
                   * @param {Number} row
                   * @param {Number} col
                   * @public
                   * @return {Element}
                   */
                  this.getCell = function (row, col) {
                    return instance.view.getCellAtCoords({row: row, col: col});
                  };
                
                  /**
                   * Returns property name associated with column number
                   * @param {Number} col
                   * @public
                   * @return {String}
                   */
                  this.colToProp = function (col) {
                    return datamap.colToProp(col);
                  };
                
                  /**
                   * Returns column number associated with property name
                   * @param {String} prop
                   * @public
                   * @return {Number}
                   */
                  this.propToCol = function (prop) {
                    return datamap.propToCol(prop);
                  };
                
                  /**
                   * Return value at `row`, `col`
                   * @param {Number} row
                   * @param {Number} col
                   * @public
                   * @return value (mixed data type)
                   */
                  this.getDataAtCell = function (row, col) {
                    return datamap.get(row, datamap.colToProp(col));
                  };
                
                  /**
                   * Return value at `row`, `prop`
                   * @param {Number} row
                   * @param {String} prop
                   * @public
                   * @return value (mixed data type)
                   */
                  this.getDataAtRowProp = function (row, prop) {
                    return datamap.get(row, prop);
                  };
                
                  /**
                   * Return value at `col`
                   * @param {Number} col
                   * @public
                   * @return value (mixed data type)
                   */
                  this.getDataAtCol = function (col) {
                    return [].concat.apply([], datamap.getRange({row: 0, col: col}, {row: priv.settings.data.length - 1, col: col}, datamap.DESTINATION_RENDERER));
                  };
                
                  /**
                   * Return value at `prop`
                   * @param {String} prop
                   * @public
                   * @return value (mixed data type)
                   */
                  this.getDataAtProp = function (prop) {
                    return [].concat.apply([], datamap.getRange({row: 0, col: datamap.propToCol(prop)}, {row: priv.settings.data.length - 1, col: datamap.propToCol(prop)}, datamap.DESTINATION_RENDERER));
                  };
                
                  /**
                   * Return value at `row`
                   * @param {Number} row
                   * @public
                   * @return value (mixed data type)
                   */
                  this.getDataAtRow = function (row) {
                    return priv.settings.data[row];
                  };
                
                  /**
                   * Returns cell meta data object corresponding to params row, col
                   * @param {Number} row
                   * @param {Number} col
                   * @public
                   * @return {Object}
                   */
                  this.getCellMeta = function (row, col) {
                    var prop = datamap.colToProp(col)
                      , cellProperties;
                
                    row = translateRowIndex(row);
                    col = translateColIndex(col);
                
                    if ("undefined" === typeof priv.columnSettings[col]) {
                      priv.columnSettings[col] = Handsontable.helper.columnFactory(GridSettings, priv.columnsSettingConflicts);
                    }
                
                    if (!priv.cellSettings[row]) {
                      priv.cellSettings[row] = [];
                    }
                    if (!priv.cellSettings[row][col]) {
                      priv.cellSettings[row][col] = new priv.columnSettings[col]();
                    }
                
                    cellProperties = priv.cellSettings[row][col]; //retrieve cellProperties from cache
                
                    cellProperties.row = row;
                    cellProperties.col = col;
                    cellProperties.prop = prop;
                    cellProperties.instance = instance;
                
                    instance.PluginHooks.run('beforeGetCellMeta', row, col, cellProperties);
                    Handsontable.helper.extend(cellProperties, expandType(cellProperties)); //for `type` added in beforeGetCellMeta
                
                    if (cellProperties.cells) {
                      var settings = cellProperties.cells.call(cellProperties, row, col, prop);
                
                      if (settings) {
                        Handsontable.helper.extend(cellProperties, settings);
                        Handsontable.helper.extend(cellProperties, expandType(settings)); //for `type` added in cells
                      }
                    }
                
                    instance.PluginHooks.run('afterGetCellMeta', row, col, cellProperties);
                
                    return cellProperties;
                
                    /**
                     * If displayed rows order is different than the order of rows stored in memory (i.e. sorting is applied)
                     * we need to translate logical (stored) row index to physical (displayed) index.
                     * @param row - original row index
                     * @returns {int} translated row index
                     */
                    function translateRowIndex(row){
                      var getVars  = {row: row};
                
                      instance.PluginHooks.execute('beforeGet', getVars);
                
                      return getVars.row;
                    }
                
                    /**
                     * If displayed columns order is different than the order of columns stored in memory (i.e. column were moved using manualColumnMove plugin)
                     * we need to translate logical (stored) column index to physical (displayed) index.
                     * @param col - original column index
                     * @returns {int} - translated column index
                     */
                    function translateColIndex(col){
                      return Handsontable.PluginHooks.execute(instance, 'modifyCol', col); // warning: this must be done after datamap.colToProp
                    }
                  };
                
                  var rendererLookup = Handsontable.helper.cellMethodLookupFactory('renderer');
                  this.getCellRenderer = function (row, col) {
                    var renderer = rendererLookup.call(this, row, col);
                    return Handsontable.renderers.getRenderer(renderer);
                
                  };
                
                  this.getCellEditor = Handsontable.helper.cellMethodLookupFactory('editor');
                
                  this.getCellValidator = Handsontable.helper.cellMethodLookupFactory('validator');
                
                
                  /**
                   * Validates all cells using their validator functions and calls callback when finished. Does not render the view
                   * @param callback
                   */
                  this.validateCells = function (callback) {
                    var waitingForValidator = new ValidatorsQueue();
                    waitingForValidator.onQueueEmpty = callback;
                
                    var i = instance.countRows() - 1;
                    while (i >= 0) {
                      var j = instance.countCols() - 1;
                      while (j >= 0) {
                        waitingForValidator.addValidatorToQueue();
                        instance.validateCell(instance.getDataAtCell(i, j), instance.getCellMeta(i, j), function () {
                          waitingForValidator.removeValidatorFormQueue();
                        }, 'validateCells');
                        j--;
                      }
                      i--;
                    }
                    waitingForValidator.checkIfQueueIsEmpty();
                  };
                
                  /**
                   * Return array of row headers (if they are enabled). If param `row` given, return header at given row as string
                   * @param {Number} row (Optional)
                   * @return {Array|String}
                   */
                  this.getRowHeader = function (row) {
                    if (row === void 0) {
                      var out = [];
                      for (var i = 0, ilen = instance.countRows(); i < ilen; i++) {
                        out.push(instance.getRowHeader(i));
                      }
                      return out;
                    }
                    else if (Object.prototype.toString.call(priv.settings.rowHeaders) === '[object Array]' && priv.settings.rowHeaders[row] !== void 0) {
                      return priv.settings.rowHeaders[row];
                    }
                    else if (typeof priv.settings.rowHeaders === 'function') {
                      return priv.settings.rowHeaders(row);
                    }
                    else if (priv.settings.rowHeaders && typeof priv.settings.rowHeaders !== 'string' && typeof priv.settings.rowHeaders !== 'number') {
                      return row + 1;
                    }
                    else {
                      return priv.settings.rowHeaders;
                    }
                  };
                
                  /**
                   * Returns information of this table is configured to display row headers
                   * @returns {boolean}
                   */
                  this.hasRowHeaders = function () {
                    return !!priv.settings.rowHeaders;
                  };
                
                  /**
                   * Returns information of this table is configured to display column headers
                   * @returns {boolean}
                   */
                  this.hasColHeaders = function () {
                    if (priv.settings.colHeaders !== void 0 && priv.settings.colHeaders !== null) { //Polymer has empty value = null
                      return !!priv.settings.colHeaders;
                    }
                    for (var i = 0, ilen = instance.countCols(); i < ilen; i++) {
                      if (instance.getColHeader(i)) {
                        return true;
                      }
                    }
                    return false;
                  };
                
                  /**
                   * Return array of column headers (if they are enabled). If param `col` given, return header at given column as string
                   * @param {Number} col (Optional)
                   * @return {Array|String}
                   */
                  this.getColHeader = function (col) {
                    if (col === void 0) {
                      var out = [];
                      for (var i = 0, ilen = instance.countCols(); i < ilen; i++) {
                        out.push(instance.getColHeader(i));
                      }
                      return out;
                    }
                    else {
                      col = Handsontable.PluginHooks.execute(instance, 'modifyCol', col);
                
                      if (priv.settings.columns && priv.settings.columns[col] && priv.settings.columns[col].title) {
                        return priv.settings.columns[col].title;
                      }
                      else if (Object.prototype.toString.call(priv.settings.colHeaders) === '[object Array]' && priv.settings.colHeaders[col] !== void 0) {
                        return priv.settings.colHeaders[col];
                      }
                      else if (typeof priv.settings.colHeaders === 'function') {
                        return priv.settings.colHeaders(col);
                      }
                      else if (priv.settings.colHeaders && typeof priv.settings.colHeaders !== 'string' && typeof priv.settings.colHeaders !== 'number') {
                        return Handsontable.helper.spreadsheetColumnLabel(col);
                      }
                      else {
                        return priv.settings.colHeaders;
                      }
                    }
                  };
                
                  /**
                   * Return column width from settings (no guessing). Private use intended
                   * @param {Number} col
                   * @return {Number}
                   */
                  this._getColWidthFromSettings = function (col) {
                    var cellProperties = instance.getCellMeta(0, col);
                    var width = cellProperties.width;
                    if (width === void 0 || width === priv.settings.width) {
                      width = cellProperties.colWidths;
                    }
                    if (width !== void 0 && width !== null) {
                      switch (typeof width) {
                        case 'object': //array
                          width = width[col];
                          break;
                
                        case 'function':
                          width = width(col);
                          break;
                      }
                      if (typeof width === 'string') {
                        width = parseInt(width, 10);
                      }
                    }
                    return width;
                  };
                
                  /**
                   * Return column width
                   * @param {Number} col
                   * @return {Number}
                   */
                  this.getColWidth = function (col) {
                    col = Handsontable.PluginHooks.execute(instance, 'modifyCol', col);
                    var response = {
                      width: instance._getColWidthFromSettings(col)
                    };
                    if (!response.width) {
                      response.width = 50;
                    }
                    instance.PluginHooks.run('afterGetColWidth', col, response);
                    return response.width;
                  };
                
                  /**
                   * Return total number of rows in grid
                   * @return {Number}
                   */
                  this.countRows = function () {
                    return priv.settings.data.length;
                  };
                
                  /**
                   * Return total number of columns in grid
                   * @return {Number}
                   */
                  this.countCols = function () {
                    if (instance.dataType === 'object' || instance.dataType === 'function') {
                      if (priv.settings.columns && priv.settings.columns.length) {
                        return priv.settings.columns.length;
                      }
                      else {
                        return datamap.colToPropCache.length;
                      }
                    }
                    else if (instance.dataType === 'array') {
                      if (priv.settings.columns && priv.settings.columns.length) {
                        return priv.settings.columns.length;
                      }
                      else if (priv.settings.data && priv.settings.data[0] && priv.settings.data[0].length) {
                        return priv.settings.data[0].length;
                      }
                      else {
                        return 0;
                      }
                    }
                  };
                
                  /**
                   * Return index of first visible row
                   * @return {Number}
                   */
                  this.rowOffset = function () {
                    return instance.view.wt.getSetting('offsetRow');
                  };
                
                  /**
                   * Return index of first visible column
                   * @return {Number}
                   */
                  this.colOffset = function () {
                    return instance.view.wt.getSetting('offsetColumn');
                  };
                
                  /**
                   * Return number of visible rows. Returns -1 if table is not visible
                   * @return {Number}
                   */
                  this.countVisibleRows = function () {
                    return instance.view.wt.drawn ? instance.view.wt.wtTable.rowStrategy.countVisible() : -1;
                  };
                
                  /**
                   * Return number of visible columns. Returns -1 if table is not visible
                   * @return {Number}
                   */
                  this.countVisibleCols = function () {
                    return instance.view.wt.drawn ? instance.view.wt.wtTable.columnStrategy.countVisible() : -1;
                  };
                
                  /**
                   * Return number of empty rows
                   * @return {Boolean} ending If true, will only count empty rows at the end of the data source
                   */
                  this.countEmptyRows = function (ending) {
                    var i = instance.countRows() - 1
                      , empty = 0;
                    while (i >= 0) {
                      datamap.get(i, 0);
                
                      if (instance.isEmptyRow(datamap.getVars.row)) {
                        empty++;
                      }
                      else if (ending) {
                        break;
                      }
                      i--;
                    }
                    return empty;
                  };
                
                  /**
                   * Return number of empty columns
                   * @return {Boolean} ending If true, will only count empty columns at the end of the data source row
                   */
                  this.countEmptyCols = function (ending) {
                    if (instance.countRows() < 1) {
                      return 0;
                    }
                
                    var i = instance.countCols() - 1
                      , empty = 0;
                    while (i >= 0) {
                      if (instance.isEmptyCol(i)) {
                        empty++;
                      }
                      else if (ending) {
                        break;
                      }
                      i--;
                    }
                    return empty;
                  };
                
                  /**
                   * Return true if the row at the given index is empty, false otherwise
                   * @param {Number} r Row index
                   * @return {Boolean}
                   */
                  this.isEmptyRow = function (r) {
                    return priv.settings.isEmptyRow.call(instance, r);
                  };
                
                  /**
                   * Return true if the column at the given index is empty, false otherwise
                   * @param {Number} c Column index
                   * @return {Boolean}
                   */
                  this.isEmptyCol = function (c) {
                    return priv.settings.isEmptyCol.call(instance, c);
                  };
                
                  /**
                   * Selects cell on grid. Optionally selects range to another cell
                   * @param {Number} row
                   * @param {Number} col
                   * @param {Number} [endRow]
                   * @param {Number} [endCol]
                   * @param {Boolean} [scrollToCell=true] If true, viewport will be scrolled to the selection
                   * @public
                   * @return {Boolean}
                   */
                  this.selectCell = function (row, col, endRow, endCol, scrollToCell) {
                    if (typeof row !== 'number' || row < 0 || row >= instance.countRows()) {
                      return false;
                    }
                    if (typeof col !== 'number' || col < 0 || col >= instance.countCols()) {
                      return false;
                    }
                    if (typeof endRow !== "undefined") {
                      if (typeof endRow !== 'number' || endRow < 0 || endRow >= instance.countRows()) {
                        return false;
                      }
                      if (typeof endCol !== 'number' || endCol < 0 || endCol >= instance.countCols()) {
                        return false;
                      }
                    }
                    priv.selStart.coords({row: row, col: col});
                    if (document.activeElement && document.activeElement !== document.documentElement && document.activeElement !== document.body) {
                      document.activeElement.blur(); //needed or otherwise prepare won't focus the cell. selectionSpec tests this (should move focus to selected cell)
                    }
                    instance.listen();
                    if (typeof endRow === "undefined") {
                      selection.setRangeEnd({row: row, col: col}, scrollToCell);
                    }
                    else {
                      selection.setRangeEnd({row: endRow, col: endCol}, scrollToCell);
                    }
                
                    instance.selection.finish();
                    return true;
                  };
                
                  this.selectCellByProp = function (row, prop, endRow, endProp, scrollToCell) {
                    arguments[1] = datamap.propToCol(arguments[1]);
                    if (typeof arguments[3] !== "undefined") {
                      arguments[3] = datamap.propToCol(arguments[3]);
                    }
                    return instance.selectCell.apply(instance, arguments);
                  };
                
                  /**
                   * Deselects current sell selection on grid
                   * @public
                   */
                  this.deselectCell = function () {
                    selection.deselect();
                  };
                
                  /**
                   * Remove grid from DOM
                   * @public
                   */
                  this.destroy = function () {
                    instance.clearTimeouts();
                    if (instance.view) { //in case HT is destroyed before initialization has finished
                      instance.view.wt.destroy();
                    }
                    instance.rootElement.empty();
                    instance.rootElement.removeData('handsontable');
                    instance.rootElement.off('.handsontable');
                    $(window).off('.' + instance.guid);
                    $document.off('.' + instance.guid);
                    $body.off('.' + instance.guid);
                    instance.PluginHooks.run('afterDestroy');
                  };
                
                  /**
                   * Returns active editor object
                   * @returns {Object}
                   */
                  this.getActiveEditor = function(){
                    return editorManager.getActiveEditor();
                  };
                
                  /**
                   * Return Handsontable instance
                   * @public
                   * @return {Object}
                   */
                  this.getInstance = function () {
                    return instance.rootElement.data("handsontable");
                  };
                
                  (function () {
                    // Create new instance of plugin hooks
                    instance.PluginHooks = new Handsontable.PluginHookClass();
                
                    // Upgrade methods to call of global PluginHooks instance
                    var _run = instance.PluginHooks.run
                      , _exe = instance.PluginHooks.execute;
                
                    instance.PluginHooks.run = function (key, p1, p2, p3, p4, p5) {
                      _run.call(this, instance, key, p1, p2, p3, p4, p5);
                      Handsontable.PluginHooks.run(instance, key, p1, p2, p3, p4, p5);
                    };
                
                    instance.PluginHooks.execute = function (key, p1, p2, p3, p4, p5) {
                      var globalHandlerResult = Handsontable.PluginHooks.execute(instance, key, p1, p2, p3, p4, p5);
                      var localHandlerResult = _exe.call(this, instance, key, globalHandlerResult, p2, p3, p4, p5);
                
                      return typeof localHandlerResult == 'undefined' ? globalHandlerResult : localHandlerResult;
                
                    };
                
                    // Map old API with new methods
                    instance.addHook = function () {
                      instance.PluginHooks.add.apply(instance.PluginHooks, arguments);
                    };
                    instance.addHookOnce = function () {
                      instance.PluginHooks.once.apply(instance.PluginHooks, arguments);
                    };
                
                    instance.removeHook = function () {
                      instance.PluginHooks.remove.apply(instance.PluginHooks, arguments);
                    };
                
                    instance.runHooks = function () {
                      instance.PluginHooks.run.apply(instance.PluginHooks, arguments);
                    };
                    instance.runHooksAndReturn = function () {
                      return instance.PluginHooks.execute.apply(instance.PluginHooks, arguments);
                    };
                
                  })();
                
                  this.timeouts = {};
                
                  /**
                   * Sets timeout. Purpose of this method is to clear all known timeouts when `destroy` method is called
                   * @public
                   */
                  this.registerTimeout = function (key, handle, ms) {
                    clearTimeout(this.timeouts[key]);
                    this.timeouts[key] = setTimeout(handle, ms || 0);
                  };
                
                  /**
                   * Clears all known timeouts
                   * @public
                   */
                  this.clearTimeouts = function () {
                    for (var key in this.timeouts) {
                      if (this.timeouts.hasOwnProperty(key)) {
                        clearTimeout(this.timeouts[key]);
                      }
                    }
                  };
                
                  /**
                   * Handsontable version
                   */
                  this.version = '0.10.5'; //inserted by grunt from package.json
                };
                
                var DefaultSettings = function () {};
                
                DefaultSettings.prototype = {
                  data: void 0,
                  width: void 0,
                  height: void 0,
                  startRows: 5,
                  startCols: 5,
                  rowHeaders: null,
                  colHeaders: null,
                  minRows: 0,
                  minCols: 0,
                  maxRows: Infinity,
                  maxCols: Infinity,
                  minSpareRows: 0,
                  minSpareCols: 0,
                  multiSelect: true,
                  fillHandle: true,
                  fixedRowsTop: 0,
                  fixedColumnsLeft: 0,
                  outsideClickDeselects: true,
                  enterBeginsEditing: true,
                  enterMoves: {row: 1, col: 0},
                  tabMoves: {row: 0, col: 1},
                  autoWrapRow: false,
                  autoWrapCol: false,
                  copyRowsLimit: 1000,
                  copyColsLimit: 1000,
                  pasteMode: 'overwrite',
                  currentRowClassName: void 0,
                  currentColClassName: void 0,
                  stretchH: 'hybrid',
                  isEmptyRow: function (r) {
                    var val;
                    for (var c = 0, clen = this.countCols(); c < clen; c++) {
                      val = this.getDataAtCell(r, c);
                      if (val !== '' && val !== null && typeof val !== 'undefined') {
                        return false;
                      }
                    }
                    return true;
                  },
                  isEmptyCol: function (c) {
                    var val;
                    for (var r = 0, rlen = this.countRows(); r < rlen; r++) {
                      val = this.getDataAtCell(r, c);
                      if (val !== '' && val !== null && typeof val !== 'undefined') {
                        return false;
                      }
                    }
                    return true;
                  },
                  observeDOMVisibility: true,
                  allowInvalid: true,
                  invalidCellClassName: 'htInvalid',
                  placeholderCellClassName: 'htPlaceholder',
                  readOnlyCellClassName: 'htDimmed',
                  fragmentSelection: false,
                  readOnly: false,
                  nativeScrollbars: false,
                  type: 'text',
                  copyable: true,
                  debug: false //shows debug overlays in Walkontable
                };
                Handsontable.DefaultSettings = DefaultSettings;
                
                $.fn.handsontable = function (action) {
                  var i
                    , ilen
                    , args
                    , output
                    , userSettings
                    , $this = this.first() // Use only first element from list
                    , instance = $this.data('handsontable');
                
                  // Init case
                  if (typeof action !== 'string') {
                    userSettings = action || {};
                    if (instance) {
                      instance.updateSettings(userSettings);
                    }
                    else {
                      instance = new Handsontable.Core($this, userSettings);
                      $this.data('handsontable', instance);
                      instance.init();
                    }
                
                    return $this;
                  }
                  // Action case
                  else {
                    args = [];
                    if (arguments.length > 1) {
                      for (i = 1, ilen = arguments.length; i < ilen; i++) {
                        args.push(arguments[i]);
                      }
                    }
                
                    if (instance) {
                      if (typeof instance[action] !== 'undefined') {
                        output = instance[action].apply(instance, args);
                      }
                      else {
                        throw new Error('Handsontable do not provide action: ' + action);
                      }
                    }
                
                    return output;
                  }
                };
                
                (function (window) {
                  
                
                  function MultiMap() {
                    var map = {
                      arrayMap: [],
                      weakMap: new WeakMap()
                    };
                
                    return {
                      'get': function (key) {
                        if (canBeAnArrayMapKey(key)) {
                          return map.arrayMap[key];
                        } else if (canBeAWeakMapKey(key)) {
                          return map.weakMap.get(key);
                        }
                      },
                
                      'set': function (key, value) {
                        if (canBeAnArrayMapKey(key)) {
                          map.arrayMap[key] = value;
                        } else if (canBeAWeakMapKey(key)) {
                          map.weakMap.set(key, value);
                        } else {
                          throw new Error('Invalid key type');
                        }
                
                
                      },
                
                      'delete': function (key) {
                        if (canBeAnArrayMapKey(key)) {
                          delete map.arrayMap[key];
                        } else if (canBeAWeakMapKey(key)) {
                          map.weakMap['delete'](key);  //Delete must be called using square bracket notation, because IE8 does not handle using `delete` with dot notation
                        }
                      }
                    };
                
                
                
                    function canBeAnArrayMapKey(obj){
                      return obj !== null && !isNaNSymbol(obj) && (typeof obj == 'string' || typeof obj == 'number');
                    }
                
                    function canBeAWeakMapKey(obj){
                      return obj !== null && (typeof obj == 'object' || typeof obj == 'function');
                    }
                
                    function isNaNSymbol(obj){
                      return obj !== obj; // NaN === NaN is always false
                    }
                
                  }
                
                  if (!window.MultiMap){
                    window.MultiMap = MultiMap;
                  }
                
                })(window);
                /**
                 * Handsontable TableView constructor
                 * @param {Object} instance
                 */
                Handsontable.TableView = function (instance) {
                  var that = this
                    , $window = $(window)
                    , $documentElement = $(document.documentElement);
                
                  this.instance = instance;
                  this.settings = instance.getSettings();
                  this.settingsFromDOM = instance.getSettingsFromDOM();
                
                  instance.rootElement.data('originalStyle', instance.rootElement[0].getAttribute('style')); //needed to retrieve original style in jsFiddle link generator in HT examples. may be removed in future versions
                  // in IE7 getAttribute('style') returns an object instead of a string, but we only support IE8+
                
                  instance.rootElement.addClass('handsontable');
                
                  var table = document.createElement('TABLE');
                  table.className = 'htCore';
                  this.THEAD = document.createElement('THEAD');
                  table.appendChild(this.THEAD);
                  this.TBODY = document.createElement('TBODY');
                  table.appendChild(this.TBODY);
                
                  instance.$table = $(table);
                  instance.rootElement.prepend(instance.$table);
                
                  instance.rootElement.on('mousedown.handsontable', function (event) {
                    if (!that.isTextSelectionAllowed(event.target)) {
                      clearTextSelection();
                      event.preventDefault();
                      window.focus(); //make sure that window that contains HOT is active. Important when HOT is in iframe.
                    }
                  });
                
                  $documentElement.on('keyup.' + instance.guid, function (event) {
                    if (instance.selection.isInProgress() && !event.shiftKey) {
                      instance.selection.finish();
                    }
                  });
                
                  var isMouseDown;
                
                  $documentElement.on('mouseup.' + instance.guid, function (event) {
                    if (instance.selection.isInProgress() && event.which === 1) { //is left mouse button
                      instance.selection.finish();
                    }
                
                    isMouseDown = false;
                
                    if (instance.autofill.handle && instance.autofill.handle.isDragged) {
                      if (instance.autofill.handle.isDragged > 1) {
                        instance.autofill.apply();
                      }
                      instance.autofill.handle.isDragged = 0;
                    }
                
                    if (Handsontable.helper.isOutsideInput(document.activeElement)) {
                      instance.unlisten();
                    }
                  });
                
                  $documentElement.on('mousedown.' + instance.guid, function (event) {
                    var next = event.target;
                
                    if (next !== that.wt.wtTable.spreader) { //immediate click on "spreader" means click on the right side of vertical scrollbar
                      while (next !== document.documentElement) {
                        if (next === null) {
                          return; //click on something that was a row but now is detached (possibly because your click triggered a rerender)
                        }
                        if (next === instance.rootElement[0] || next.nodeName === 'HANDSONTABLE-TABLE') {
                          return; //click inside container or Web Component (HANDSONTABLE-TABLE is the name of the custom element)
                        }
                        next = next.parentNode;
                      }
                    }
                
                    if (that.settings.outsideClickDeselects) {
                      instance.deselectCell();
                    }
                    else {
                      instance.destroyEditor();
                    }
                  });
                
                  instance.rootElement.on('mousedown.handsontable', '.dragdealer', function () {
                    instance.destroyEditor();
                  });
                
                  instance.$table.on('selectstart', function (event) {
                    if (that.settings.fragmentSelection) {
                      return;
                    }
                
                    //https://github.com/warpech/jquery-handsontable/issues/160
                    //selectstart is IE only event. Prevent text from being selected when performing drag down in IE8
                    event.preventDefault();
                  });
                
                  var clearTextSelection = function () {
                    //http://stackoverflow.com/questions/3169786/clear-text-selection-with-javascript
                    if (window.getSelection) {
                      if (window.getSelection().empty) {  // Chrome
                        window.getSelection().empty();
                      } else if (window.getSelection().removeAllRanges) {  // Firefox
                        window.getSelection().removeAllRanges();
                      }
                    } else if (document.selection) {  // IE?
                      document.selection.empty();
                    }
                  };
                
                  var walkontableConfig = {
                    debug: function () {
                      return that.settings.debug;
                    },
                    table: table,
                    stretchH: this.settings.stretchH,
                    data: instance.getDataAtCell,
                    totalRows: instance.countRows,
                    totalColumns: instance.countCols,
                    nativeScrollbars: this.settings.nativeScrollbars,
                    offsetRow: 0,
                    offsetColumn: 0,
                    width: this.getWidth(),
                    height: this.getHeight(),
                    fixedColumnsLeft: function () {
                      return that.settings.fixedColumnsLeft;
                    },
                    fixedRowsTop: function () {
                      return that.settings.fixedRowsTop;
                    },
                    rowHeaders: function () {
                      return instance.hasRowHeaders() ? [function (index, TH) {
                        that.appendRowHeader(index, TH);
                      }] : []
                    },
                    columnHeaders: function () {
                      return instance.hasColHeaders() ? [function (index, TH) {
                        that.appendColHeader(index, TH);
                      }] : []
                    },
                    columnWidth: instance.getColWidth,
                    cellRenderer: function (row, col, TD) {
                
                      var prop = that.instance.colToProp(col)
                        , cellProperties = that.instance.getCellMeta(row, col)
                        , renderer = that.instance.getCellRenderer(cellProperties);
                
                      var value = that.instance.getDataAtRowProp(row, prop);
                
                      renderer(that.instance, TD, row, col, prop, value, cellProperties);
                
                      that.instance.PluginHooks.run('afterRenderer', TD, row, col, prop, value, cellProperties);
                
                    },
                    selections: {
                      current: {
                        className: 'current',
                        border: {
                          width: 2,
                          color: '#5292F7',
                          style: 'solid',
                          cornerVisible: function () {
                            return that.settings.fillHandle && !that.isCellEdited() && !instance.selection.isMultiple()
                          }
                        }
                      },
                      area: {
                        className: 'area',
                        border: {
                          width: 1,
                          color: '#89AFF9',
                          style: 'solid',
                          cornerVisible: function () {
                            return that.settings.fillHandle && !that.isCellEdited() && instance.selection.isMultiple()
                          }
                        }
                      },
                      highlight: {
                        highlightRowClassName: that.settings.currentRowClassName,
                        highlightColumnClassName: that.settings.currentColClassName
                      },
                      fill: {
                        className: 'fill',
                        border: {
                          width: 1,
                          color: 'red',
                          style: 'solid'
                        }
                      }
                    },
                    hideBorderOnMouseDownOver: function () {
                      return that.settings.fragmentSelection;
                    },
                    onCellMouseDown: function (event, coords, TD) {
                      instance.listen();
                
                      isMouseDown = true;
                      var coordsObj = {row: coords[0], col: coords[1]};
                      if (event.button === 2 && instance.selection.inInSelection(coordsObj)) { //right mouse button
                        //do nothing
                      }
                      else if (event.shiftKey) {
                        instance.selection.setRangeEnd(coordsObj);
                      }
                      else {
                        instance.selection.setRangeStart(coordsObj);
                      }
                
                      instance.PluginHooks.run('afterOnCellMouseDown', event, coords, TD);
                    },
                    /*onCellMouseOut: function (/*event, coords, TD* /) {
                     if (isMouseDown && that.settings.fragmentSelection === 'single') {
                     clearTextSelection(); //otherwise text selection blinks during multiple cells selection
                     }
                     },*/
                    onCellMouseOver: function (event, coords, TD) {
                      var coordsObj = {row: coords[0], col: coords[1]};
                      if (isMouseDown) {
                        /*if (that.settings.fragmentSelection === 'single') {
                         clearTextSelection(); //otherwise text selection blinks during multiple cells selection
                         }*/
                        instance.selection.setRangeEnd(coordsObj);
                      }
                      else if (instance.autofill.handle && instance.autofill.handle.isDragged) {
                        instance.autofill.handle.isDragged++;
                        instance.autofill.showBorder(coords);
                      }
                      instance.PluginHooks.run('afterOnCellMouseOver', event, coords, TD);
                    },
                    onCellCornerMouseDown: function (event) {
                      instance.autofill.handle.isDragged = 1;
                      event.preventDefault();
                      instance.PluginHooks.run('afterOnCellCornerMouseDown', event);
                    },
                    onCellCornerDblClick: function () {
                      instance.autofill.selectAdjacent();
                    },
                    beforeDraw: function (force) {
                      that.beforeRender(force);
                    },
                    onDraw: function(force){
                      that.onDraw(force);
                    },
                    onScrollVertically: function () {
                      instance.runHooks('afterScrollVertically');
                    },
                    onScrollHorizontally: function () {
                      instance.runHooks('afterScrollHorizontally');
                    }
                  };
                
                  instance.PluginHooks.run('beforeInitWalkontable', walkontableConfig);
                
                  this.wt = new Walkontable(walkontableConfig);
                
                  $window.on('resize.' + instance.guid, function () {
                    instance.registerTimeout('resizeTimeout', function () {
                      instance.parseSettingsFromDOM();
                      var newWidth = that.getWidth();
                      var newHeight = that.getHeight();
                      if (walkontableConfig.width !== newWidth || walkontableConfig.height !== newHeight) {
                        instance.forceFullRender = true;
                        that.render();
                        walkontableConfig.width = newWidth;
                        walkontableConfig.height = newHeight;
                      }
                    }, 60);
                  });
                
                  $(that.wt.wtTable.spreader).on('mousedown.handsontable, contextmenu.handsontable', function (event) {
                    if (event.target === that.wt.wtTable.spreader && event.which === 3) { //right mouse button exactly on spreader means right clickon the right hand side of vertical scrollbar
                      event.stopPropagation();
                    }
                  });
                
                  $documentElement.on('click.' + instance.guid, function () {
                    if (that.settings.observeDOMVisibility) {
                      if (that.wt.drawInterrupted) {
                        that.instance.forceFullRender = true;
                        that.render();
                      }
                    }
                  });
                };
                
                Handsontable.TableView.prototype.isTextSelectionAllowed = function (el) {
                  if ( Handsontable.helper.isInput(el) ) {
                    return (true);
                  }
                  if (this.settings.fragmentSelection && this.wt.wtDom.isChildOf(el, this.TBODY)) {
                    return (true);
                  }
                  return false;
                };
                
                Handsontable.TableView.prototype.isCellEdited = function () {
                  var activeEditor = this.instance.getActiveEditor();
                  return activeEditor && activeEditor.isOpened();
                };
                
                Handsontable.TableView.prototype.getWidth = function () {
                  var val = this.settings.width !== void 0 ? this.settings.width : this.settingsFromDOM.width;
                  return typeof val === 'function' ? val() : val;
                };
                
                Handsontable.TableView.prototype.getHeight = function () {
                  var val = this.settings.height !== void 0 ? this.settings.height : this.settingsFromDOM.height;
                  return typeof val === 'function' ? val() : val;
                };
                
                Handsontable.TableView.prototype.beforeRender = function (force) {
                  if (force) { //force = did Walkontable decide to do full render
                    this.instance.PluginHooks.run('beforeRender', this.instance.forceFullRender); //this.instance.forceFullRender = did Handsontable request full render?
                    this.wt.update('width', this.getWidth());
                    this.wt.update('height', this.getHeight());
                  }
                };
                
                Handsontable.TableView.prototype.onDraw = function(force){
                  if (force) { //force = did Walkontable decide to do full render
                    this.instance.PluginHooks.run('afterRender', this.instance.forceFullRender); //this.instance.forceFullRender = did Handsontable request full render?
                  }
                };
                
                Handsontable.TableView.prototype.render = function () {
                  this.wt.draw(!this.instance.forceFullRender);
                  this.instance.forceFullRender = false;
                  this.instance.rootElement.triggerHandler('render.handsontable');
                };
                
                /**
                 * Returns td object given coordinates
                 */
                Handsontable.TableView.prototype.getCellAtCoords = function (coords) {
                  var td = this.wt.wtTable.getCell([coords.row, coords.col]);
                  if (td < 0) { //there was an exit code (cell is out of bounds)
                    return null;
                  }
                  else {
                    return td;
                  }
                };
                
                /**
                 * Scroll viewport to selection
                 * @param coords
                 */
                Handsontable.TableView.prototype.scrollViewport = function (coords) {
                  this.wt.scrollViewport([coords.row, coords.col]);
                };
                
                /**
                 * Append row header to a TH element
                 * @param row
                 * @param TH
                 */
                Handsontable.TableView.prototype.appendRowHeader = function (row, TH) {
                  if (row > -1) {
                    this.wt.wtDom.fastInnerHTML(TH, this.instance.getRowHeader(row));
                  }
                  else {
                    var DIV = document.createElement('DIV');
                    DIV.className = 'relative';
                    this.wt.wtDom.fastInnerText(DIV, '\u00A0');
                    this.wt.wtDom.empty(TH);
                    TH.appendChild(DIV);
                  }
                };
                
                /**
                 * Append column header to a TH element
                 * @param col
                 * @param TH
                 */
                Handsontable.TableView.prototype.appendColHeader = function (col, TH) {
                  var DIV = document.createElement('DIV')
                    , SPAN = document.createElement('SPAN');
                
                  DIV.className = 'relative';
                  SPAN.className = 'colHeader';
                
                  this.wt.wtDom.fastInnerHTML(SPAN, this.instance.getColHeader(col));
                  DIV.appendChild(SPAN);
                
                  this.wt.wtDom.empty(TH);
                  TH.appendChild(DIV);
                  this.instance.PluginHooks.run('afterGetColHeader', col, TH);
                };
                
                /**
                 * Given a element's left position relative to the viewport, returns maximum element width until the right edge of the viewport (before scrollbar)
                 * @param {Number} left
                 * @return {Number}
                 */
                Handsontable.TableView.prototype.maximumVisibleElementWidth = function (left) {
                  var rootWidth = this.wt.wtViewport.getWorkspaceWidth();
                  if(this.settings.nativeScrollbars) {
                    return rootWidth;
                  }
                  return rootWidth - left;
                };
                
                /**
                 * Given a element's top position relative to the viewport, returns maximum element height until the bottom edge of the viewport (before scrollbar)
                 * @param {Number} top
                 * @return {Number}
                 */
                Handsontable.TableView.prototype.maximumVisibleElementHeight = function (top) {
                  var rootHeight = this.wt.wtViewport.getWorkspaceHeight();
                  if(this.settings.nativeScrollbars) {
                    return rootHeight;
                  }
                  return rootHeight - top;
                };
                
                /**
                 * Utility to register editors and common namespace for keeping reference to all editor classes
                 */
                (function (Handsontable) {
                  
                
                  function RegisteredEditor(editorClass) {
                    var clazz, instances;
                
                    instances = {};
                    clazz = editorClass;
                
                    this.getInstance = function (hotInstance) {
                      if (!(hotInstance.guid in instances)) {
                        instances[hotInstance.guid] = new clazz(hotInstance);
                      }
                
                      return instances[hotInstance.guid];
                    }
                
                  }
                
                  var registeredEditorNames = {};
                  var registeredEditorClasses = new WeakMap();
                
                  Handsontable.editors = {
                
                    /**
                     * Registers editor under given name
                     * @param {String} editorName
                     * @param {Function} editorClass
                     */
                    registerEditor: function (editorName, editorClass) {
                      var editor = new RegisteredEditor(editorClass);
                      if (typeof editorName === "string") {
                        registeredEditorNames[editorName] = editor;
                      }
                      registeredEditorClasses.set(editorClass, editor);
                    },
                
                    /**
                     * Returns instance (singleton) of editor class
                     * @param {String|Function} editorName/editorClass
                     * @returns {Function} editorClass
                     */
                    getEditor: function (editorName, hotInstance) {
                      var editor;
                      if (typeof editorName == 'function') {
                        if (!(registeredEditorClasses.get(editorName))) {
                          this.registerEditor(null, editorName);
                        }
                        editor = registeredEditorClasses.get(editorName);
                      }
                      else if (typeof editorName == 'string') {
                        editor = registeredEditorNames[editorName];
                      }
                      else {
                        throw Error('Only strings and functions can be passed as "editor" parameter ');
                      }
                
                      if (!editor) {
                        throw Error('No editor registered under name "' + editorName + '"');
                      }
                
                      return editor.getInstance(hotInstance);
                    }
                
                  };
                
                
                })(Handsontable);
                
                (function(Handsontable){
                  
                
                  Handsontable.EditorManager = function(instance, priv, selection){
                    var that = this;
                    var $document = $(document);
                    var keyCodes = Handsontable.helper.keyCode;
                
                    var activeEditor;
                
                    var init = function () {
                
                      function onKeyDown(event) {
                
                        if (!instance.isListening()) {
                          return;
                        }
                
                        if (priv.settings.beforeOnKeyDown) { // HOT in HOT Plugin
                          priv.settings.beforeOnKeyDown.call(instance, event);
                        }
                
                        instance.PluginHooks.run('beforeKeyDown', event);
                
                        if (!event.isImmediatePropagationStopped()) {
                
                          priv.lastKeyCode = event.keyCode;
                          if (selection.isSelected()) {
                            var ctrlDown = (event.ctrlKey || event.metaKey) && !event.altKey; //catch CTRL but not right ALT (which in some systems triggers ALT+CTRL)
                
                            if (!activeEditor.isWaiting()) {
                              if (!Handsontable.helper.isMetaKey(event.keyCode) && !ctrlDown && !that.isEditorOpened()) {
                                that.openEditor('');
                                event.stopPropagation(); //required by HandsontableEditor
                                return;
                              }
                            }
                
                            var rangeModifier = event.shiftKey ? selection.setRangeEnd : selection.setRangeStart;
                
                              switch (event.keyCode) {
                
                                case keyCodes.A:
                                  if (ctrlDown) {
                                    selection.selectAll(); //select all cells
                
                                    event.preventDefault();
                                    event.stopPropagation();
                                    break;
                                  }
                
                                case keyCodes.ARROW_UP:
                
                                  if (that.isEditorOpened() && !activeEditor.isWaiting()){
                                    that.closeEditorAndSaveChanges(ctrlDown);
                                  }
                
                                  moveSelectionUp(event.shiftKey);
                
                                  event.preventDefault();
                                  event.stopPropagation(); //required by HandsontableEditor
                                  break;
                
                                case keyCodes.ARROW_DOWN:
                                  if (that.isEditorOpened() && !activeEditor.isWaiting()){
                                    that.closeEditorAndSaveChanges(ctrlDown);
                                  }
                
                                  moveSelectionDown(event.shiftKey);
                
                                  event.preventDefault();
                                  event.stopPropagation(); //required by HandsontableEditor
                                  break;
                
                                case keyCodes.ARROW_RIGHT:
                                  if(that.isEditorOpened()  && !activeEditor.isWaiting()){
                                    that.closeEditorAndSaveChanges(ctrlDown);
                                  }
                
                                  moveSelectionRight(event.shiftKey);
                
                                  event.preventDefault();
                                  event.stopPropagation(); //required by HandsontableEditor
                                  break;
                
                                case keyCodes.ARROW_LEFT:
                                  if(that.isEditorOpened() && !activeEditor.isWaiting()){
                                    that.closeEditorAndSaveChanges(ctrlDown);
                                  }
                
                                  moveSelectionLeft(event.shiftKey);
                
                                  event.preventDefault();
                                  event.stopPropagation(); //required by HandsontableEditor
                                  break;
                
                                case keyCodes.TAB:
                                  var tabMoves = typeof priv.settings.tabMoves === 'function' ? priv.settings.tabMoves(event) : priv.settings.tabMoves;
                                  if (event.shiftKey) {
                                    selection.transformStart(-tabMoves.row, -tabMoves.col); //move selection left
                                  }
                                  else {
                                    selection.transformStart(tabMoves.row, tabMoves.col, true); //move selection right (add a new column if needed)
                                  }
                                  event.preventDefault();
                                  event.stopPropagation(); //required by HandsontableEditor
                                  break;
                
                                case keyCodes.BACKSPACE:
                                case keyCodes.DELETE:
                                  selection.empty(event);
                                  that.prepareEditor();
                                  event.preventDefault();
                                  break;
                
                                case keyCodes.F2: /* F2 */
                                  that.openEditor();
                                  event.preventDefault(); //prevent Opera from opening Go to Page dialog
                                  break;
                
                                case keyCodes.ENTER: /* return/enter */
                                  if(that.isEditorOpened()){
                
                                    if (activeEditor.state !== Handsontable.EditorState.WAITING){
                                      that.closeEditorAndSaveChanges(ctrlDown);
                                    }
                
                                    moveSelectionAfterEnter(event.shiftKey);
                
                                  } else {
                
                                    if (instance.getSettings().enterBeginsEditing){
                                      that.openEditor();
                                    } else {
                                      moveSelectionAfterEnter(event.shiftKey);
                                    }
                
                                  }
                
                                  event.preventDefault(); //don't add newline to field
                                  event.stopImmediatePropagation(); //required by HandsontableEditor
                                  break;
                
                                case keyCodes.ESCAPE:
                                  if(that.isEditorOpened()){
                                    that.closeEditorAndRestoreOriginalValue(ctrlDown);
                                  }
                                  event.preventDefault();
                                  break;
                
                                case keyCodes.HOME:
                                  if (event.ctrlKey || event.metaKey) {
                                    rangeModifier({row: 0, col: priv.selStart.col()});
                                  }
                                  else {
                                    rangeModifier({row: priv.selStart.row(), col: 0});
                                  }
                                  event.preventDefault(); //don't scroll the window
                                  event.stopPropagation(); //required by HandsontableEditor
                                  break;
                
                                case keyCodes.END:
                                  if (event.ctrlKey || event.metaKey) {
                                    rangeModifier({row: instance.countRows() - 1, col: priv.selStart.col()});
                                  }
                                  else {
                                    rangeModifier({row: priv.selStart.row(), col: instance.countCols() - 1});
                                  }
                                  event.preventDefault(); //don't scroll the window
                                  event.stopPropagation(); //required by HandsontableEditor
                                  break;
                
                                case keyCodes.PAGE_UP:
                                  selection.transformStart(-instance.countVisibleRows(), 0);
                                  instance.view.wt.scrollVertical(-instance.countVisibleRows());
                                  instance.view.render();
                                  event.preventDefault(); //don't page up the window
                                  event.stopPropagation(); //required by HandsontableEditor
                                  break;
                
                                case keyCodes.PAGE_DOWN:
                                  selection.transformStart(instance.countVisibleRows(), 0);
                                  instance.view.wt.scrollVertical(instance.countVisibleRows());
                                  instance.view.render();
                                  event.preventDefault(); //don't page down the window
                                  event.stopPropagation(); //required by HandsontableEditor
                                  break;
                
                                default:
                                  break;
                              }
                
                          }
                        }
                      }
                      $document.on('keydown.handsontable.' + instance.guid, onKeyDown);
                
                      function onDblClick() {
                //        that.instance.destroyEditor();
                        that.openEditor();
                      }
                
                      instance.view.wt.update('onCellDblClick', onDblClick);
                
                      instance.addHook('afterDestroy', function(){
                        $document.off('keydown.handsontable.' + instance.guid);
                      });
                
                      function moveSelectionAfterEnter(shiftKey){
                        var enterMoves = typeof priv.settings.enterMoves === 'function' ? priv.settings.enterMoves(event) : priv.settings.enterMoves;
                
                        if (shiftKey) {
                          selection.transformStart(-enterMoves.row, -enterMoves.col); //move selection up
                        }
                        else {
                          selection.transformStart(enterMoves.row, enterMoves.col, true); //move selection down (add a new row if needed)
                        }
                      }
                
                      function moveSelectionUp(shiftKey){
                        if (shiftKey) {
                          selection.transformEnd(-1, 0);
                        }
                        else {
                          selection.transformStart(-1, 0);
                        }
                      }
                
                      function moveSelectionDown(shiftKey){
                        if (shiftKey) {
                          selection.transformEnd(1, 0); //expanding selection down with shift
                        }
                        else {
                          selection.transformStart(1, 0); //move selection down
                        }
                      }
                
                      function moveSelectionRight(shiftKey){
                        if (shiftKey) {
                          selection.transformEnd(0, 1);
                        }
                        else {
                          selection.transformStart(0, 1);
                        }
                      }
                
                      function moveSelectionLeft(shiftKey){
                        if (shiftKey) {
                          selection.transformEnd(0, -1);
                        }
                        else {
                          selection.transformStart(0, -1);
                        }
                      }
                    };
                
                    /**
                     * Destroy current editor, if exists
                     * @param {Boolean} revertOriginal
                     */
                    this.destroyEditor = function (revertOriginal) {
                      this.closeEditor(revertOriginal);
                    };
                
                    this.getActiveEditor = function () {
                      return activeEditor;
                    };
                
                    /**
                     * Prepare text input to be displayed at given grid cell
                     */
                    this.prepareEditor = function () {
                
                      if (activeEditor && activeEditor.isWaiting()){
                
                        this.closeEditor(false, false, function(dataSaved){
                          if(dataSaved){
                            that.prepareEditor();
                          }
                        });
                
                        return;
                      }
                
                      var row = priv.selStart.row();
                      var col = priv.selStart.col();
                      var prop = instance.colToProp(col);
                      var td = instance.getCell(row, col);
                      var originalValue = instance.getDataAtCell(row, col);
                      var cellProperties = instance.getCellMeta(row, col);
                
                      var editorClass = instance.getCellEditor(cellProperties);
                      activeEditor = Handsontable.editors.getEditor(editorClass, instance);
                
                      activeEditor.prepare(row, col, prop, td, originalValue, cellProperties);
                
                    };
                
                    this.isEditorOpened = function () {
                      return activeEditor.isOpened();
                    };
                
                    this.openEditor = function (initialValue) {
                      if (!activeEditor.cellProperties.readOnly){
                        activeEditor.beginEditing(initialValue);
                      }
                    };
                
                    this.closeEditor = function (restoreOriginalValue, ctrlDown, callback) {
                
                      if (!activeEditor){
                        if(callback) {
                          callback(false);
                        }
                      }
                      else {
                        activeEditor.finishEditing(restoreOriginalValue, ctrlDown, callback);
                      }
                    };
                
                    this.closeEditorAndSaveChanges = function(ctrlDown){
                      return this.closeEditor(false, ctrlDown);
                    };
                
                    this.closeEditorAndRestoreOriginalValue = function(ctrlDown){
                      return this.closeEditor(true, ctrlDown);
                    };
                
                    init();
                  };
                
                })(Handsontable);
                
                /**
                 * Utility to register renderers and common namespace for keeping reference to all renderers classes
                 */
                (function (Handsontable) {
                  
                
                  var registeredRenderers = {};
                
                  Handsontable.renderers = {
                
                    /**
                     * Registers renderer under given name
                     * @param {String} rendererName
                     * @param {Function} rendererFunction
                     */
                    registerRenderer: function (rendererName, rendererFunction) {
                      registeredRenderers[rendererName] = rendererFunction
                    },
                
                    /**
                     * @param {String|Function} rendererName/rendererFunction
                     * @returns {Function} rendererFunction
                     */
                    getRenderer: function (rendererName) {
                      if (typeof rendererName == 'function'){
                        return rendererName;
                      }
                
                      if (typeof rendererName != 'string'){
                        throw Error('Only strings and functions can be passed as "renderer" parameter ');
                      }
                
                      if (!(rendererName in registeredRenderers)) {
                        throw Error('No editor registered under name "' + rendererName + '"');
                      }
                
                      return registeredRenderers[rendererName];
                    }
                
                  };
                
                
                })(Handsontable);
                
                /**
                 * DOM helper optimized for maximum performance
                 * It is recommended for Handsontable plugins and renderers, because it is much faster than jQuery
                 * @type {WalkonableDom}
                 */
                Handsontable.Dom = new WalkontableDom();
                
                /**
                 * Returns true if keyCode represents a printable character
                 * @param {Number} keyCode
                 * @return {Boolean}
                 */
                Handsontable.helper.isPrintableChar = function (keyCode) {
                  return ((keyCode == 32) || //space
                    (keyCode >= 48 && keyCode <= 57) || //0-9
                    (keyCode >= 96 && keyCode <= 111) || //numpad
                    (keyCode >= 186 && keyCode <= 192) || //;=,-./`
                    (keyCode >= 219 && keyCode <= 222) || //[]{}\|"'
                    keyCode >= 226 || //special chars (229 for Asian chars)
                    (keyCode >= 65 && keyCode <= 90)); //a-z
                };
                
                Handsontable.helper.isMetaKey = function (keyCode) {
                  var keyCodes = Handsontable.helper.keyCode;
                  var metaKeys = [
                    keyCodes.ARROW_DOWN,
                    keyCodes.ARROW_UP,
                    keyCodes.ARROW_LEFT,
                    keyCodes.ARROW_RIGHT,
                    keyCodes.HOME,
                    keyCodes.END,
                    keyCodes.DELETE,
                    keyCodes.BACKSPACE,
                    keyCodes.F1,
                    keyCodes.F2,
                    keyCodes.F3,
                    keyCodes.F4,
                    keyCodes.F5,
                    keyCodes.F6,
                    keyCodes.F7,
                    keyCodes.F8,
                    keyCodes.F9,
                    keyCodes.F10,
                    keyCodes.F11,
                    keyCodes.F12,
                    keyCodes.TAB,
                    keyCodes.PAGE_DOWN,
                    keyCodes.PAGE_UP,
                    keyCodes.ENTER,
                    keyCodes.ESCAPE,
                    keyCodes.SHIFT,
                    keyCodes.CAPS_LOCK,
                    keyCodes.ALT
                  ];
                
                  return metaKeys.indexOf(keyCode) != -1;
                };
                
                Handsontable.helper.isCtrlKey = function (keyCode) {
                
                  var keys = Handsontable.helper.keyCode;
                
                  return [keys.CONTROL_LEFT, 224, keys.COMMAND_LEFT, keys.COMMAND_RIGHT].indexOf(keyCode) != -1;
                };
                
                /**
                 * Converts a value to string
                 * @param value
                 * @return {String}
                 */
                Handsontable.helper.stringify = function (value) {
                  switch (typeof value) {
                    case 'string':
                    case 'number':
                      return value + '';
                      break;
                
                    case 'object':
                      if (value === null) {
                        return '';
                      }
                      else {
                        return value.toString();
                      }
                      break;
                
                    case 'undefined':
                      return '';
                      break;
                
                    default:
                      return value.toString();
                  }
                };
                
                /**
                 * Generates spreadsheet-like column names: A, B, C, ..., Z, AA, AB, etc
                 * @param index
                 * @returns {String}
                 */
                Handsontable.helper.spreadsheetColumnLabel = function (index) {
                  var dividend = index + 1;
                  var columnLabel = '';
                  var modulo;
                  while (dividend > 0) {
                    modulo = (dividend - 1) % 26;
                    columnLabel = String.fromCharCode(65 + modulo) + columnLabel;
                    dividend = parseInt((dividend - modulo) / 26, 10);
                  }
                  return columnLabel;
                };
                
                /**
                 * Checks if value of n is a numeric one
                 * http://jsperf.com/isnan-vs-isnumeric/4
                 * @param n
                 * @returns {boolean}
                 */
                Handsontable.helper.isNumeric = function (n) {
                    var t = typeof n;
                    return t == 'number' ? !isNaN(n) && isFinite(n) :
                           t == 'string' ? !n.length ? false :
                           n.length == 1 ? /\d/.test(n) :
                           /^\s*[+-]?\s*(?:(?:\d+(?:\.\d+)?(?:e[+-]?\d+)?)|(?:0x[a-f\d]+))\s*$/i.test(n) :
                           t == 'object' ? !!n && typeof n.valueOf() == "number" && !(n instanceof Date) : false;
                };
                
                Handsontable.helper.isArray = function (obj) {
                  return Object.prototype.toString.call(obj).match(/array/i) !== null;
                };
                
                /**
                 * Checks if child is a descendant of given parent node
                 * http://stackoverflow.com/questions/2234979/how-to-check-in-javascript-if-one-element-is-a-child-of-another
                 * @param parent
                 * @param child
                 * @returns {boolean}
                 */
                Handsontable.helper.isDescendant = function (parent, child) {
                  var node = child.parentNode;
                  while (node != null) {
                    if (node == parent) {
                      return true;
                    }
                    node = node.parentNode;
                  }
                  return false;
                };
                
                /**
                 * Generates a random hex string. Used as namespace for Handsontable instance events.
                 * @return {String} - 16 character random string: "92b1bfc74ec4"
                 */
                Handsontable.helper.randomString = function () {
                  return walkontableRandomString();
                };
                
                /**
                 * Inherit without without calling parent constructor, and setting `Child.prototype.constructor` to `Child` instead of `Parent`.
                 * Creates temporary dummy function to call it as constructor.
                 * Described in ticket: https://github.com/warpech/jquery-handsontable/pull/516
                 * @param  {Object} Child  child class
                 * @param  {Object} Parent parent class
                 * @return {Object}        extended Child
                 */
                Handsontable.helper.inherit = function (Child, Parent) {
                  Parent.prototype.constructor = Parent;
                  Child.prototype = new Parent();
                  Child.prototype.constructor = Child;
                  return Child;
                };
                
                /**
                 * Perform shallow extend of a target object with extension's own properties
                 * @param {Object} target An object that will receive the new properties
                 * @param {Object} extension An object containing additional properties to merge into the target
                 */
                Handsontable.helper.extend = function (target, extension) {
                  for (var i in extension) {
                    if (extension.hasOwnProperty(i)) {
                      target[i] = extension[i];
                    }
                  }
                };
                
                Handsontable.helper.getPrototypeOf = function (obj) {
                  var prototype;
                
                  if(typeof obj.__proto__ == "object"){
                    prototype = obj.__proto__;
                  } else {
                    var oldConstructor,
                        constructor = obj.constructor;
                
                    if (typeof obj.constructor == "function") {
                      oldConstructor = constructor;
                
                      if (delete obj.constructor){
                        constructor = obj.constructor; // get real constructor
                        obj.constructor = oldConstructor; // restore constructor
                      }
                
                
                    }
                
                    prototype = constructor ? constructor.prototype : null; // needed for IE
                
                  }
                
                  return prototype;
                };
                
                /**
                 * Factory for columns constructors.
                 * @param {Object} GridSettings
                 * @param {Array} conflictList
                 * @return {Object} ColumnSettings
                 */
                Handsontable.helper.columnFactory = function (GridSettings, conflictList) {
                  function ColumnSettings () {}
                
                  Handsontable.helper.inherit(ColumnSettings, GridSettings);
                
                  // Clear conflict settings
                  for (var i = 0, len = conflictList.length; i < len; i++) {
                    ColumnSettings.prototype[conflictList[i]] = void 0;
                  }
                
                  return ColumnSettings;
                };
                
                Handsontable.helper.translateRowsToColumns = function (input) {
                  var i
                    , ilen
                    , j
                    , jlen
                    , output = []
                    , olen = 0;
                
                  for (i = 0, ilen = input.length; i < ilen; i++) {
                    for (j = 0, jlen = input[i].length; j < jlen; j++) {
                      if (j == olen) {
                        output.push([]);
                        olen++;
                      }
                      output[j].push(input[i][j])
                    }
                  }
                  return output;
                };
                
                Handsontable.helper.to2dArray = function (arr) {
                  var i = 0
                    , ilen = arr.length;
                  while (i < ilen) {
                    arr[i] = [arr[i]];
                    i++;
                  }
                };
                
                Handsontable.helper.extendArray = function (arr, extension) {
                  var i = 0
                    , ilen = extension.length;
                  while (i < ilen) {
                    arr.push(extension[i]);
                    i++;
                  }
                };
                
                /**
                 * Determines if the given DOM element is an input field.
                 * Notice: By 'input' we mean input, textarea and select nodes
                 * @param element - DOM element
                 * @returns {boolean}
                 */
                Handsontable.helper.isInput = function (element) {
                  var inputs = ['INPUT', 'SELECT', 'TEXTAREA'];
                
                  return inputs.indexOf(element.nodeName) > -1;
                }
                
                /**
                 * Determines if the given DOM element is an input field placed OUTSIDE of HOT.
                 * Notice: By 'input' we mean input, textarea and select nodes
                 * @param element - DOM element
                 * @returns {boolean}
                 */
                Handsontable.helper.isOutsideInput = function (element) {
                  return Handsontable.helper.isInput(element) && element.className.indexOf('handsontableInput') == -1;
                };
                
                Handsontable.helper.keyCode = {
                  MOUSE_LEFT: 1,
                  MOUSE_RIGHT: 3,
                  MOUSE_MIDDLE: 2,
                  BACKSPACE: 8,
                  COMMA: 188,
                  DELETE: 46,
                  END: 35,
                  ENTER: 13,
                  ESCAPE: 27,
                  CONTROL_LEFT: 91,
                  COMMAND_LEFT: 17,
                  COMMAND_RIGHT: 93,
                  ALT: 18,
                  HOME: 36,
                  PAGE_DOWN: 34,
                  PAGE_UP: 33,
                  PERIOD: 190,
                  SPACE: 32,
                  SHIFT: 16,
                  CAPS_LOCK: 20,
                  TAB: 9,
                  ARROW_RIGHT: 39,
                  ARROW_LEFT: 37,
                  ARROW_UP: 38,
                  ARROW_DOWN: 40,
                  F1: 112,
                  F2: 113,
                  F3: 114,
                  F4: 115,
                  F5: 116,
                  F6: 117,
                  F7: 118,
                  F8: 119,
                  F9: 120,
                  F10: 121,
                  F11: 122,
                  F12: 123,
                  A: 65,
                  X: 88,
                  C: 67,
                  V: 86
                };
                
                /**
                 * Determines whether given object is a plain Object.
                 * Note: String and Array are not plain Objects
                 * @param {*} obj
                 * @returns {boolean}
                 */
                Handsontable.helper.isObject = function (obj) {
                  return Object.prototype.toString.call(obj) == '[object Object]';
                };
                
                /**
                 * Determines whether given object is an Array.
                 * Note: String is not an Array
                 * @param {*} obj
                 * @returns {boolean}
                 */
                Handsontable.helper.isArray = function(obj){
                  return Array.isArray ? Array.isArray(obj) : Object.prototype.toString.call(obj) == '[object Array]';
                };
                
                Handsontable.helper.pivot = function (arr) {
                  var pivotedArr = [];
                
                  if(!arr || arr.length == 0 || !arr[0] || arr[0].length == 0){
                    return pivotedArr;
                  }
                
                  var rowCount = arr.length;
                  var colCount = arr[0].length;
                
                  for(var i = 0; i < rowCount; i++){
                    for(var j = 0; j < colCount; j++){
                      if(!pivotedArr[j]){
                        pivotedArr[j] = [];
                      }
                
                      pivotedArr[j][i] = arr[i][j];
                    }
                  }
                
                  return pivotedArr;
                
                };
                
                Handsontable.helper.proxy = function (fun, context) {
                  return function () {
                    return fun.apply(context, arguments);
                  };
                };
                
                /**
                 * Factory that produces a function for searching methods (or any properties) which could be defined directly in
                 * table configuration or implicitly, within cell type definition.
                 *
                 * For example: renderer can be defined explicitly using "renderer" property in column configuration or it can be
                 * defined implicitly using "type" property.
                 *
                 * Methods/properties defined explicitly always takes precedence over those defined through "type".
                 *
                 * If the method/property is not found in an object, searching is continued recursively through prototype chain, until
                 * it reaches the Object.prototype.
                 *
                 *
                 * @param methodName {String} name of the method/property to search (i.e. 'renderer', 'validator', 'copyable')
                 * @param allowUndefined {Boolean} [optional] if false, the search is continued if methodName has not been found in cell "type"
                 * @returns {Function}
                 */
                Handsontable.helper.cellMethodLookupFactory = function (methodName, allowUndefined) {
                
                  allowUndefined = typeof allowUndefined == 'undefined' ? true : allowUndefined;
                
                  return function cellMethodLookup (row, col) {
                
                    return (function getMethodFromProperties(properties) {
                
                      if (!properties){
                
                        return;                       //method not found
                
                      }
                      else if (properties.hasOwnProperty(methodName) && properties[methodName]) { //check if it is own and is not empty
                
                        return properties[methodName];  //method defined directly
                
                      } else if (properties.hasOwnProperty('type') && properties.type) { //check if it is own and is not empty
                
                        var type;
                
                        if(typeof properties.type != 'string' ){
                          throw new Error('Cell type must be a string ');
                        }
                
                        type = translateTypeNameToObject(properties.type);
                
                        if (type.hasOwnProperty(methodName)) {
                          return type[methodName]; //method defined in type.
                        } else if (allowUndefined) {
                          return; //method does not defined in type (eg. validator), returns undefined
                        }
                
                      }
                
                      return getMethodFromProperties(Handsontable.helper.getPrototypeOf(properties));
                
                    })(typeof row == 'number' ? this.getCellMeta(row, col) : row);
                
                  };
                
                  function translateTypeNameToObject(typeName) {
                    var type = Handsontable.cellTypes[typeName];
                
                    if(typeof type == 'undefined'){
                      throw new Error('You declared cell type "' + typeName + '" as a string that is not mapped to a known object. Cell type must be an object or a string mapped to an object in Handsontable.cellTypes');
                    }
                
                    return type;
                  }
                
                };
                
                Handsontable.helper.toString = function (obj) {
                  return '' + obj;
                };
                Handsontable.SelectionPoint = function () {
                  this._row = null; //private use intended
                  this._col = null;
                };
                
                Handsontable.SelectionPoint.prototype.exists = function () {
                  return (this._row !== null);
                };
                
                Handsontable.SelectionPoint.prototype.row = function (val) {
                  if (val !== void 0) {
                    this._row = val;
                  }
                  return this._row;
                };
                
                Handsontable.SelectionPoint.prototype.col = function (val) {
                  if (val !== void 0) {
                    this._col = val;
                  }
                  return this._col;
                };
                
                Handsontable.SelectionPoint.prototype.coords = function (coords) {
                  if (coords !== void 0) {
                    this._row = coords.row;
                    this._col = coords.col;
                  }
                  return {
                    row: this._row,
                    col: this._col
                  }
                };
                
                Handsontable.SelectionPoint.prototype.arr = function (arr) {
                  if (arr !== void 0) {
                    this._row = arr[0];
                    this._col = arr[1];
                  }
                  return [this._row, this._col]
                };
                (function (Handsontable) {
                  
                
                  /**
                   * Utility class that gets and saves data from/to the data source using mapping of columns numbers to object property names
                   * TODO refactor arguments of methods getRange, getText to be numbers (not objects)
                   * TODO remove priv, GridSettings from object constructor
                   *
                   * @param instance
                   * @param priv
                   * @param GridSettings
                   * @constructor
                   */
                  Handsontable.DataMap = function (instance, priv, GridSettings) {
                    this.instance = instance;
                    this.priv = priv;
                    this.GridSettings = GridSettings;
                    this.dataSource = this.instance.getSettings().data;
                
                    if (this.dataSource[0]) {
                      this.duckSchema = this.recursiveDuckSchema(this.dataSource[0]);
                    }
                    else {
                      this.duckSchema = {};
                    }
                    this.createMap();
                
                    this.getVars = {}; //used by modifier
                    this.setVars = {}; //used by modifier
                  };
                
                  Handsontable.DataMap.prototype.DESTINATION_RENDERER = 1;
                  Handsontable.DataMap.prototype.DESTINATION_CLIPBOARD_GENERATOR = 2;
                
                  Handsontable.DataMap.prototype.recursiveDuckSchema = function (obj) {
                    var schema;
                    if ($.isPlainObject(obj)) {
                      schema = {};
                      for (var i in obj) {
                        if (obj.hasOwnProperty(i)) {
                          if ($.isPlainObject(obj[i])) {
                            schema[i] = this.recursiveDuckSchema(obj[i]);
                          }
                          else {
                            schema[i] = null;
                          }
                        }
                      }
                    }
                    else {
                      schema = [];
                    }
                    return schema;
                  };
                
                  Handsontable.DataMap.prototype.recursiveDuckColumns = function (schema, lastCol, parent) {
                    var prop, i;
                    if (typeof lastCol === 'undefined') {
                      lastCol = 0;
                      parent = '';
                    }
                    if ($.isPlainObject(schema)) {
                      for (i in schema) {
                        if (schema.hasOwnProperty(i)) {
                          if (schema[i] === null) {
                            prop = parent + i;
                            this.colToPropCache.push(prop);
                            this.propToColCache.set(prop, lastCol);
                
                            lastCol++;
                          }
                          else {
                            lastCol = this.recursiveDuckColumns(schema[i], lastCol, i + '.');
                          }
                        }
                      }
                    }
                    return lastCol;
                  };
                
                  Handsontable.DataMap.prototype.createMap = function () {
                    if (typeof this.getSchema() === "undefined") {
                      throw new Error("trying to create `columns` definition but you didnt' provide `schema` nor `data`");
                    }
                    var i, ilen, schema = this.getSchema();
                    this.colToPropCache = [];
                    this.propToColCache = new MultiMap();
                    var columns = this.instance.getSettings().columns;
                    if (columns) {
                      for (i = 0, ilen = columns.length; i < ilen; i++) {
                
                        if (typeof columns[i].data != 'undefined'){
                          this.colToPropCache[i] = columns[i].data;
                          this.propToColCache.set(columns[i].data, i);
                        }
                
                      }
                    }
                    else {
                      this.recursiveDuckColumns(schema);
                    }
                  };
                
                  Handsontable.DataMap.prototype.colToProp = function (col) {
                    col = Handsontable.PluginHooks.execute(this.instance, 'modifyCol', col);
                    if (this.colToPropCache && typeof this.colToPropCache[col] !== 'undefined') {
                      return this.colToPropCache[col];
                    }
                    else {
                      return col;
                    }
                  };
                
                  Handsontable.DataMap.prototype.propToCol = function (prop) {
                    var col;
                    if (typeof this.propToColCache.get(prop) !== 'undefined') {
                      col = this.propToColCache.get(prop);
                    } else {
                      col = prop;
                    }
                    col = Handsontable.PluginHooks.execute(this.instance, 'modifyCol', col);
                    return col;
                  };
                
                  Handsontable.DataMap.prototype.getSchema = function () {
                    var schema = this.instance.getSettings().dataSchema;
                    if (schema) {
                      if (typeof schema === 'function') {
                        return schema();
                      }
                      return schema;
                    }
                    return this.duckSchema;
                  };
                
                  /**
                   * Creates row at the bottom of the data array
                   * @param {Number} [index] Optional. Index of the row before which the new row will be inserted
                   */
                  Handsontable.DataMap.prototype.createRow = function (index, amount, createdAutomatically) {
                    var row
                      , colCount = this.instance.countCols()
                      , numberOfCreatedRows = 0
                      , currentIndex;
                
                    if (!amount) {
                      amount = 1;
                    }
                
                    if (typeof index !== 'number' || index >= this.instance.countRows()) {
                      index = this.instance.countRows();
                    }
                
                    currentIndex = index;
                    var maxRows = this.instance.getSettings().maxRows;
                    while (numberOfCreatedRows < amount && this.instance.countRows() < maxRows) {
                
                      if (this.instance.dataType === 'array') {
                        row = [];
                        for (var c = 0; c < colCount; c++) {
                          row.push(null);
                        }
                      }
                      else if (this.instance.dataType === 'function') {
                        row = this.instance.getSettings().dataSchema(index);
                      }
                      else {
                        row = $.extend(true, {}, this.getSchema());
                      }
                
                      if (index === this.instance.countRows()) {
                        this.dataSource.push(row);
                      }
                      else {
                        this.dataSource.splice(index, 0, row);
                      }
                
                      numberOfCreatedRows++;
                      currentIndex++;
                    }
                
                
                    this.instance.PluginHooks.run('afterCreateRow', index, numberOfCreatedRows, createdAutomatically);
                    this.instance.forceFullRender = true; //used when data was changed
                
                    return numberOfCreatedRows;
                  };
                
                  /**
                   * Creates col at the right of the data array
                   * @param {Number} [index] Optional. Index of the column before which the new column will be inserted
                   *   * @param {Number} [amount] Optional.
                   */
                  Handsontable.DataMap.prototype.createCol = function (index, amount, createdAutomatically) {
                    if (this.instance.dataType === 'object' || this.instance.getSettings().columns) {
                      throw new Error("Cannot create new column. When data source in an object, " +
                        "you can only have as much columns as defined in first data row, data schema or in the 'columns' setting." +
                        "If you want to be able to add new columns, you have to use array datasource.");
                    }
                    var rlen = this.instance.countRows()
                      , data = this.dataSource
                      , constructor
                      , numberOfCreatedCols = 0
                      , currentIndex;
                
                    if (!amount) {
                      amount = 1;
                    }
                
                    currentIndex = index;
                
                    var maxCols = this.instance.getSettings().maxCols;
                    while (numberOfCreatedCols < amount && this.instance.countCols() < maxCols) {
                      constructor = Handsontable.helper.columnFactory(this.GridSettings, this.priv.columnsSettingConflicts);
                      if (typeof index !== 'number' || index >= this.instance.countCols()) {
                        for (var r = 0; r < rlen; r++) {
                          if (typeof data[r] === 'undefined') {
                            data[r] = [];
                          }
                          data[r].push(null);
                        }
                        // Add new column constructor
                        this.priv.columnSettings.push(constructor);
                      }
                      else {
                        for (var r = 0; r < rlen; r++) {
                          data[r].splice(currentIndex, 0, null);
                        }
                        // Add new column constructor at given index
                        this.priv.columnSettings.splice(currentIndex, 0, constructor);
                      }
                
                      numberOfCreatedCols++;
                      currentIndex++;
                    }
                
                    this.instance.PluginHooks.run('afterCreateCol', index, numberOfCreatedCols, createdAutomatically);
                    this.instance.forceFullRender = true; //used when data was changed
                
                    return numberOfCreatedCols;
                  };
                
                  /**
                   * Removes row from the data array
                   * @param {Number} [index] Optional. Index of the row to be removed. If not provided, the last row will be removed
                   * @param {Number} [amount] Optional. Amount of the rows to be removed. If not provided, one row will be removed
                   */
                  Handsontable.DataMap.prototype.removeRow = function (index, amount) {
                    if (!amount) {
                      amount = 1;
                    }
                    if (typeof index !== 'number') {
                      index = -amount;
                    }
                
                    index = (this.instance.countRows() + index) % this.instance.countRows();
                
                    // We have to map the physical row ids to logical and than perform removing with (possibly) new row id
                    var logicRows = this.physicalRowsToLogical(index, amount);
                
                    var actionWasNotCancelled = this.instance.PluginHooks.execute('beforeRemoveRow', index, amount);
                
                    if (actionWasNotCancelled === false) {
                      return;
                    }
                
                    var data = this.dataSource;
                    var newData = data.filter(function (row, index) {
                      return logicRows.indexOf(index) == -1;
                    });
                
                    data.length = 0;
                    Array.prototype.push.apply(data, newData);
                
                    this.instance.PluginHooks.run('afterRemoveRow', index, amount);
                
                    this.instance.forceFullRender = true; //used when data was changed
                  };
                
                  /**
                   * Removes column from the data array
                   * @param {Number} [index] Optional. Index of the column to be removed. If not provided, the last column will be removed
                   * @param {Number} [amount] Optional. Amount of the columns to be removed. If not provided, one column will be removed
                   */
                  Handsontable.DataMap.prototype.removeCol = function (index, amount) {
                    if (this.instance.dataType === 'object' || this.instance.getSettings().columns) {
                      throw new Error("cannot remove column with object data source or columns option specified");
                    }
                    if (!amount) {
                      amount = 1;
                    }
                    if (typeof index !== 'number') {
                      index = -amount;
                    }
                
                    index = (this.instance.countCols() + index) % this.instance.countCols();
                
                    var actionWasNotCancelled = this.instance.PluginHooks.execute('beforeRemoveCol', index, amount);
                
                    if (actionWasNotCancelled === false) {
                      return;
                    }
                
                    var data = this.dataSource;
                    for (var r = 0, rlen = this.instance.countRows(); r < rlen; r++) {
                      data[r].splice(index, amount);
                    }
                    this.priv.columnSettings.splice(index, amount);
                
                    this.instance.PluginHooks.run('afterRemoveCol', index, amount);
                    this.instance.forceFullRender = true; //used when data was changed
                  };
                
                  /**
                   * Add / removes data from the column
                   * @param {Number} col Index of column in which do you want to do splice.
                   * @param {Number} index Index at which to start changing the array. If negative, will begin that many elements from the end
                   * @param {Number} amount An integer indicating the number of old array elements to remove. If amount is 0, no elements are removed
                   * param {...*} elements Optional. The elements to add to the array. If you don't specify any elements, spliceCol simply removes elements from the array
                   */
                  Handsontable.DataMap.prototype.spliceCol = function (col, index, amount/*, elements...*/) {
                    var elements = 4 <= arguments.length ? [].slice.call(arguments, 3) : [];
                
                    var colData = this.instance.getDataAtCol(col);
                    var removed = colData.slice(index, index + amount);
                    var after = colData.slice(index + amount);
                
                    Handsontable.helper.extendArray(elements, after);
                    var i = 0;
                    while (i < amount) {
                      elements.push(null); //add null in place of removed elements
                      i++;
                    }
                    Handsontable.helper.to2dArray(elements);
                    this.instance.populateFromArray(index, col, elements, null, null, 'spliceCol');
                
                    return removed;
                  };
                
                  /**
                   * Add / removes data from the row
                   * @param {Number} row Index of row in which do you want to do splice.
                   * @param {Number} index Index at which to start changing the array. If negative, will begin that many elements from the end
                   * @param {Number} amount An integer indicating the number of old array elements to remove. If amount is 0, no elements are removed
                   * param {...*} elements Optional. The elements to add to the array. If you don't specify any elements, spliceCol simply removes elements from the array
                   */
                  Handsontable.DataMap.prototype.spliceRow = function (row, index, amount/*, elements...*/) {
                    var elements = 4 <= arguments.length ? [].slice.call(arguments, 3) : [];
                
                    var rowData = this.instance.getDataAtRow(row);
                    var removed = rowData.slice(index, index + amount);
                    var after = rowData.slice(index + amount);
                
                    Handsontable.helper.extendArray(elements, after);
                    var i = 0;
                    while (i < amount) {
                      elements.push(null); //add null in place of removed elements
                      i++;
                    }
                    this.instance.populateFromArray(row, index, [elements], null, null, 'spliceRow');
                
                    return removed;
                  };
                
                  /**
                   * Returns single value from the data array
                   * @param {Number} row
                   * @param {Number} prop
                   */
                  Handsontable.DataMap.prototype.get = function (row, prop) {
                    this.getVars.row = row;
                    this.getVars.prop = prop;
                    this.instance.PluginHooks.run('beforeGet', this.getVars);
                    if (typeof this.getVars.prop === 'string' && this.getVars.prop.indexOf('.') > -1) {
                      var sliced = this.getVars.prop.split(".");
                      var out = this.dataSource[this.getVars.row];
                      if (!out) {
                        return null;
                      }
                      for (var i = 0, ilen = sliced.length; i < ilen; i++) {
                        out = out[sliced[i]];
                        if (typeof out === 'undefined') {
                          return null;
                        }
                      }
                      return out;
                    }
                    else if (typeof this.getVars.prop === 'function') {
                      /**
                       *  allows for interacting with complex structures, for example
                       *  d3/jQuery getter/setter properties:
                       *
                       *    {columns: [{
                         *      data: function(row, value){
                         *        if(arguments.length === 1){
                         *          return row.property();
                         *        }
                         *        row.property(value);
                         *      }
                         *    }]}
                       */
                      return this.getVars.prop(this.dataSource.slice(
                        this.getVars.row,
                        this.getVars.row + 1
                      )[0]);
                    }
                    else {
                      return this.dataSource[this.getVars.row] ? this.dataSource[this.getVars.row][this.getVars.prop] : null;
                    }
                  };
                
                  var copyableLookup = Handsontable.helper.cellMethodLookupFactory('copyable', false);
                
                  /**
                   * Returns single value from the data array (intended for clipboard copy to an external application)
                   * @param {Number} row
                   * @param {Number} prop
                   * @return {String}
                   */
                  Handsontable.DataMap.prototype.getCopyable = function (row, prop) {
                    if (copyableLookup.call(this.instance, row, this.propToCol(prop))) {
                      return this.get(row, prop);
                    }
                    return '';
                  };
                
                  /**
                   * Saves single value to the data array
                   * @param {Number} row
                   * @param {Number} prop
                   * @param {String} value
                   * @param {String} [source] Optional. Source of hook runner.
                   */
                  Handsontable.DataMap.prototype.set = function (row, prop, value, source) {
                    this.setVars.row = row;
                    this.setVars.prop = prop;
                    this.setVars.value = value;
                    this.instance.PluginHooks.run('beforeSet', this.setVars, source || "datamapGet");
                    if (typeof this.setVars.prop === 'string' && this.setVars.prop.indexOf('.') > -1) {
                      var sliced = this.setVars.prop.split(".");
                      var out = this.dataSource[this.setVars.row];
                      for (var i = 0, ilen = sliced.length - 1; i < ilen; i++) {
                        out = out[sliced[i]];
                      }
                      out[sliced[i]] = this.setVars.value;
                    }
                    else if (typeof this.setVars.prop === 'function') {
                      /* see the `function` handler in `get` */
                      this.setVars.prop(this.dataSource.slice(
                        this.setVars.row,
                        this.setVars.row + 1
                      )[0], this.setVars.value);
                    }
                    else {
                      this.dataSource[this.setVars.row][this.setVars.prop] = this.setVars.value;
                    }
                  };
                
                  /**
                   * This ridiculous piece of code maps rows Id that are present in table data to those displayed for user.
                   * The trick is, the physical row id (stored in settings.data) is not necessary the same
                   * as the logical (displayed) row id (e.g. when sorting is applied).
                   */
                  Handsontable.DataMap.prototype.physicalRowsToLogical = function (index, amount) {
                    var totalRows = this.instance.countRows();
                    var physicRow = (totalRows + index) % totalRows;
                    var logicRows = [];
                    var rowsToRemove = amount;
                
                    while (physicRow < totalRows && rowsToRemove) {
                      this.get(physicRow, 0); //this performs an actual mapping and saves the result to getVars
                      logicRows.push(this.getVars.row);
                
                      rowsToRemove--;
                      physicRow++;
                    }
                
                    return logicRows;
                  };
                
                  /**
                   * Clears the data array
                   */
                  Handsontable.DataMap.prototype.clear = function () {
                    for (var r = 0; r < this.instance.countRows(); r++) {
                      for (var c = 0; c < this.instance.countCols(); c++) {
                        this.set(r, this.colToProp(c), '');
                      }
                    }
                  };
                
                  /**
                   * Returns the data array
                   * @return {Array}
                   */
                  Handsontable.DataMap.prototype.getAll = function () {
                    return this.dataSource;
                  };
                
                  /**
                   * Returns data range as array
                   * @param {Object} start Start selection position
                   * @param {Object} end End selection position
                   * @param {Number} destination Destination of datamap.get
                   * @return {Array}
                   */
                  Handsontable.DataMap.prototype.getRange = function (start, end, destination) {
                    var r, rlen, c, clen, output = [], row;
                    var getFn = destination === this.DESTINATION_CLIPBOARD_GENERATOR ? this.getCopyable : this.get;
                    rlen = Math.max(start.row, end.row);
                    clen = Math.max(start.col, end.col);
                    for (r = Math.min(start.row, end.row); r <= rlen; r++) {
                      row = [];
                      for (c = Math.min(start.col, end.col); c <= clen; c++) {
                        row.push(getFn.call(this, r, this.colToProp(c)));
                      }
                      output.push(row);
                    }
                    return output;
                  };
                
                  /**
                   * Return data as text (tab separated columns)
                   * @param {Object} start (Optional) Start selection position
                   * @param {Object} end (Optional) End selection position
                   * @return {String}
                   */
                  Handsontable.DataMap.prototype.getText = function (start, end) {
                    return SheetClip.stringify(this.getRange(start, end, this.DESTINATION_RENDERER));
                  };
                
                  /**
                   * Return data as copyable text (tab separated columns intended for clipboard copy to an external application)
                   * @param {Object} start (Optional) Start selection position
                   * @param {Object} end (Optional) End selection position
                   * @return {String}
                   */
                  Handsontable.DataMap.prototype.getCopyableText = function (start, end) {
                    return SheetClip.stringify(this.getRange(start, end, this.DESTINATION_CLIPBOARD_GENERATOR));
                  };
                
                })(Handsontable);
                
                (function (Handsontable) {
                  
                
                  /*
                    Adds appropriate CSS class to table cell, based on cellProperties
                   */
                  Handsontable.renderers.cellDecorator = function (instance, TD, row, col, prop, value, cellProperties) {
                    if (cellProperties.readOnly) {
                      instance.view.wt.wtDom.addClass(TD, cellProperties.readOnlyCellClassName);
                    }
                
                    if (cellProperties.valid === false && cellProperties.invalidCellClassName) {
                      instance.view.wt.wtDom.addClass(TD, cellProperties.invalidCellClassName);
                    }
                
                    if (!value && cellProperties.placeholder) {
                      instance.view.wt.wtDom.addClass(TD, cellProperties.placeholderCellClassName);
                    }
                  }
                
                })(Handsontable);
                /**
                 * Default text renderer
                 * @param {Object} instance Handsontable instance
                 * @param {Element} TD Table cell where to render
                 * @param {Number} row
                 * @param {Number} col
                 * @param {String|Number} prop Row object property name
                 * @param value Value to render (remember to escape unsafe HTML before inserting to DOM!)
                 * @param {Object} cellProperties Cell properites (shared by cell renderer and editor)
                 */
                (function (Handsontable) {
                  
                
                  var TextRenderer = function (instance, TD, row, col, prop, value, cellProperties) {
                
                    Handsontable.renderers.cellDecorator.apply(this, arguments);
                
                    if (!value && cellProperties.placeholder) {
                      value = cellProperties.placeholder;
                    }
                
                    var escaped = Handsontable.helper.stringify(value);
                
                    if (cellProperties.rendererTemplate) {
                      instance.view.wt.wtDom.empty(TD);
                      var TEMPLATE = document.createElement('TEMPLATE');
                      TEMPLATE.setAttribute('bind', '{{}}');
                      TEMPLATE.innerHTML = cellProperties.rendererTemplate;
                      HTMLTemplateElement.decorate(TEMPLATE);
                      TEMPLATE.model = instance.getDataAtRow(row);
                      TD.appendChild(TEMPLATE);
                    }
                    else {
                      instance.view.wt.wtDom.fastInnerText(TD, escaped); //this is faster than innerHTML. See: https://github.com/warpech/jquery-handsontable/wiki/JavaScript-&-DOM-performance-tips
                    }
                
                  };
                
                  //Handsontable.TextRenderer = TextRenderer; //Left for backward compatibility
                  Handsontable.renderers.TextRenderer = TextRenderer;
                  Handsontable.renderers.registerRenderer('text', TextRenderer);
                
                })(Handsontable);
                (function (Handsontable) {
                
                  var clonableWRAPPER = document.createElement('DIV');
                  clonableWRAPPER.className = 'htAutocompleteWrapper';
                
                  var clonableARROW = document.createElement('DIV');
                  clonableARROW.className = 'htAutocompleteArrow';
                  clonableARROW.appendChild(document.createTextNode('\u25BC'));
                //this is faster than innerHTML. See: https://github.com/warpech/jquery-handsontable/wiki/JavaScript-&-DOM-performance-tips
                
                  var wrapTdContentWithWrapper = function(TD, WRAPPER){
                    WRAPPER.innerHTML = TD.innerHTML;
                    Handsontable.Dom.empty(TD);
                    TD.appendChild(WRAPPER);
                  };
                
                  /**
                   * Autocomplete renderer
                   * @param {Object} instance Handsontable instance
                   * @param {Element} TD Table cell where to render
                   * @param {Number} row
                   * @param {Number} col
                   * @param {String|Number} prop Row object property name
                   * @param value Value to render (remember to escape unsafe HTML before inserting to DOM!)
                   * @param {Object} cellProperties Cell properites (shared by cell renderer and editor)
                   */
                  var AutocompleteRenderer = function (instance, TD, row, col, prop, value, cellProperties) {
                
                    var WRAPPER = clonableWRAPPER.cloneNode(true); //this is faster than createElement
                    var ARROW = clonableARROW.cloneNode(true); //this is faster than createElement
                
                    Handsontable.renderers.TextRenderer(instance, TD, row, col, prop, value, cellProperties);
                
                    TD.appendChild(ARROW);
                    Handsontable.Dom.addClass(TD, 'htAutocomplete');
                
                
                    if (!TD.firstChild) { //http://jsperf.com/empty-node-if-needed
                      //otherwise empty fields appear borderless in demo/renderers.html (IE)
                      TD.appendChild(document.createTextNode('\u00A0')); //\u00A0 equals &nbsp; for a text node
                      //this is faster than innerHTML. See: https://github.com/warpech/jquery-handsontable/wiki/JavaScript-&-DOM-performance-tips
                    }
                
                    if (!instance.acArrowListener) {
                      //not very elegant but easy and fast
                      instance.acArrowListener = function () {
                        instance.view.wt.getSetting('onCellDblClick');
                      };
                
                      instance.rootElement.on('mousedown.htAutocompleteArrow', '.htAutocompleteArrow', instance.acArrowListener); //this way we don't bind event listener to each arrow. We rely on propagation instead
                
                      //We need to unbind the listener after the table has been destroyed
                      instance.addHookOnce('afterDestroy', function () {
                        this.rootElement.off('mousedown.htAutocompleteArrow');
                      });
                
                    }
                  };
                
                  Handsontable.AutocompleteRenderer = AutocompleteRenderer;
                  Handsontable.renderers.AutocompleteRenderer = AutocompleteRenderer;
                  Handsontable.renderers.registerRenderer('autocomplete', AutocompleteRenderer);
                })(Handsontable);
                /**
                 * Checkbox renderer
                 * @param {Object} instance Handsontable instance
                 * @param {Element} TD Table cell where to render
                 * @param {Number} row
                 * @param {Number} col
                 * @param {String|Number} prop Row object property name
                 * @param value Value to render (remember to escape unsafe HTML before inserting to DOM!)
                 * @param {Object} cellProperties Cell properites (shared by cell renderer and editor)
                 */
                (function (Handsontable) {
                
                  
                
                  var clonableINPUT = document.createElement('INPUT');
                  clonableINPUT.className = 'htCheckboxRendererInput';
                  clonableINPUT.type = 'checkbox';
                  clonableINPUT.setAttribute('autocomplete', 'off');
                
                  var CheckboxRenderer = function (instance, TD, row, col, prop, value, cellProperties) {
                
                    if (typeof cellProperties.checkedTemplate === "undefined") {
                      cellProperties.checkedTemplate = true;
                    }
                    if (typeof cellProperties.uncheckedTemplate === "undefined") {
                      cellProperties.uncheckedTemplate = false;
                    }
                
                    instance.view.wt.wtDom.empty(TD); //TODO identify under what circumstances this line can be removed
                
                    var INPUT = clonableINPUT.cloneNode(false); //this is faster than createElement
                
                    if (value === cellProperties.checkedTemplate || value === Handsontable.helper.stringify(cellProperties.checkedTemplate)) {
                      INPUT.checked = true;
                      TD.appendChild(INPUT);
                    }
                    else if (value === cellProperties.uncheckedTemplate || value === Handsontable.helper.stringify(cellProperties.uncheckedTemplate)) {
                      TD.appendChild(INPUT);
                    }
                    else if (value === null) { //default value
                      INPUT.className += ' noValue';
                      TD.appendChild(INPUT);
                    }
                    else {
                      instance.view.wt.wtDom.fastInnerText(TD, '#bad value#'); //this is faster than innerHTML. See: https://github.com/warpech/jquery-handsontable/wiki/JavaScript-&-DOM-performance-tips
                    }
                
                    var $input = $(INPUT);
                
                    if (cellProperties.readOnly) {
                      $input.on('click', function (event) {
                        event.preventDefault();
                      });
                    }
                    else {
                      $input.on('mousedown', function (event) {
                        event.stopPropagation(); //otherwise can confuse cell mousedown handler
                      });
                
                      $input.on('mouseup', function (event) {
                        event.stopPropagation(); //otherwise can confuse cell dblclick handler
                      });
                
                      $input.on('change', function(){
                        if (this.checked) {
                          instance.setDataAtRowProp(row, prop, cellProperties.checkedTemplate);
                        }
                        else {
                          instance.setDataAtRowProp(row, prop, cellProperties.uncheckedTemplate);
                        }
                      });
                    }
                
                    if(!instance.CheckboxRenderer || !instance.CheckboxRenderer.beforeKeyDownHookBound){
                      instance.CheckboxRenderer = {
                        beforeKeyDownHookBound : true
                      };
                
                      instance.addHook('beforeKeyDown', function(event){
                        if(event.keyCode == Handsontable.helper.keyCode.SPACE){
                
                          var selection = instance.getSelected();
                          var cell, checkbox, cellProperties;
                
                          var selStart = {
                            row: Math.min(selection[0], selection[2]),
                            col: Math.min(selection[1], selection[3])
                          };
                
                          var selEnd = {
                            row: Math.max(selection[0], selection[2]),
                            col: Math.max(selection[1], selection[3])
                          };
                
                          for(var row = selStart.row; row <= selEnd.row; row++ ){
                            for(var col = selEnd.col; col <= selEnd.col; col++){
                              cell = instance.getCell(row, col);
                              cellProperties = instance.getCellMeta(row, col);
                
                              checkbox = cell.querySelectorAll('input[type=checkbox]');
                
                              if(checkbox.length > 0 && !cellProperties.readOnly){
                
                                if(!event.isImmediatePropagationStopped()){
                                  event.stopImmediatePropagation();
                                  event.preventDefault();
                                }
                
                                for(var i = 0, len = checkbox.length; i < len; i++){
                                  checkbox[i].checked = !checkbox[i].checked;
                                  $(checkbox[i]).trigger('change');
                                }
                
                              }
                
                            }
                          }
                        }
                      });
                    }
                
                  };
                
                  Handsontable.CheckboxRenderer = CheckboxRenderer;
                  Handsontable.renderers.CheckboxRenderer = CheckboxRenderer;
                  Handsontable.renderers.registerRenderer('checkbox', CheckboxRenderer);
                
                })(Handsontable);
                /**
                 * Numeric cell renderer
                 * @param {Object} instance Handsontable instance
                 * @param {Element} TD Table cell where to render
                 * @param {Number} row
                 * @param {Number} col
                 * @param {String|Number} prop Row object property name
                 * @param value Value to render (remember to escape unsafe HTML before inserting to DOM!)
                 * @param {Object} cellProperties Cell properites (shared by cell renderer and editor)
                 */
                (function (Handsontable) {
                
                  
                
                  var NumericRenderer = function (instance, TD, row, col, prop, value, cellProperties) {
                    if (Handsontable.helper.isNumeric(value)) {
                      if (typeof cellProperties.language !== 'undefined') {
                        numeral.language(cellProperties.language)
                      }
                      value = numeral(value).format(cellProperties.format || '0'); //docs: http://numeraljs.com/
                      instance.view.wt.wtDom.addClass(TD, 'htNumeric');
                    }
                    Handsontable.renderers.TextRenderer(instance, TD, row, col, prop, value, cellProperties);
                  };
                
                  Handsontable.NumericRenderer = NumericRenderer; //Left for backward compatibility with versions prior 0.10.0
                  Handsontable.renderers.NumericRenderer = NumericRenderer;
                  Handsontable.renderers.registerRenderer('numeric', NumericRenderer);
                
                })(Handsontable);
                (function(Handosntable){
                
                  
                
                  var PasswordRenderer = function (instance, TD, row, col, prop, value, cellProperties) {
                    Handsontable.renderers.TextRenderer.apply(this, arguments);
                
                    value = TD.innerHTML;
                
                    var hash;
                    var hashLength = cellProperties.hashLength || value.length;
                    var hashSymbol = cellProperties.hashSymbol || '*';
                
                    for( hash = ''; hash.split(hashSymbol).length - 1 < hashLength; hash += hashSymbol);
                
                    instance.view.wt.wtDom.fastInnerHTML(TD, hash);
                
                  };
                
                  Handosntable.PasswordRenderer = PasswordRenderer;
                  Handosntable.renderers.PasswordRenderer = PasswordRenderer;
                  Handosntable.renderers.registerRenderer('password', PasswordRenderer);
                
                })(Handsontable);
                (function (Handsontable) {
                
                  function HtmlRenderer(instance, TD, row, col, prop, value, cellProperties){
                
                    Handsontable.renderers.cellDecorator.apply(this, arguments);
                
                    Handsontable.Dom.fastInnerHTML(TD, value);
                  }
                
                  Handsontable.renderers.registerRenderer('html', HtmlRenderer);
                  Handsontable.renderers.HtmlRenderer = HtmlRenderer;
                
                })(Handsontable);
                
                (function (Handsontable) {
                  
                
                  Handsontable.EditorState = {
                    VIRGIN: 'STATE_VIRGIN', //before editing
                    EDITING: 'STATE_EDITING',
                    WAITING: 'STATE_WAITING', //waiting for async validation
                    FINISHED: 'STATE_FINISHED'
                  };
                
                  function BaseEditor(instance) {
                    this.instance = instance;
                    this.state = Handsontable.EditorState.VIRGIN;
                
                    this._opened = false;
                    this._closeCallback = null;
                
                    this.init();
                  }
                
                  BaseEditor.prototype._fireCallbacks = function(result) {
                    if(this._closeCallback){
                      this._closeCallback(result);
                      this._closeCallback = null;
                    }
                
                  }
                
                  BaseEditor.prototype.init = function(){};
                
                  BaseEditor.prototype.getValue = function(){
                    throw Error('Editor getValue() method unimplemented');
                  };
                
                  BaseEditor.prototype.setValue = function(newValue){
                    throw Error('Editor setValue() method unimplemented');
                  };
                
                  BaseEditor.prototype.open = function(){
                    throw Error('Editor open() method unimplemented');
                  };
                
                  BaseEditor.prototype.close = function(){
                    throw Error('Editor close() method unimplemented');
                  };
                
                  BaseEditor.prototype.prepare = function(row, col, prop, td, originalValue, cellProperties){
                    this.TD = td;
                    this.row = row;
                    this.col = col;
                    this.prop = prop;
                    this.originalValue = originalValue;
                    this.cellProperties = cellProperties;
                
                    this.state = Handsontable.EditorState.VIRGIN;
                  };
                
                  BaseEditor.prototype.extend = function(){
                    var baseClass = this.constructor;
                    function Editor(){
                      baseClass.apply(this, arguments);
                    }
                
                    function inherit(Child, Parent){
                      function Bridge() {
                      }
                
                      Bridge.prototype = Parent.prototype;
                      Child.prototype = new Bridge();
                      Child.prototype.constructor = Child;
                      return Child;
                    }
                
                    return inherit(Editor, baseClass);
                  };
                
                  BaseEditor.prototype.saveValue = function (val, ctrlDown) {
                    if (ctrlDown) { //if ctrl+enter and multiple cells selected, behave like Excel (finish editing and apply to all cells)
                      var sel = this.instance.getSelected();
                      this.instance.populateFromArray(sel[0], sel[1], val, sel[2], sel[3], 'edit');
                    }
                    else {
                      this.instance.populateFromArray(this.row, this.col, val, null, null, 'edit');
                    }
                  };
                
                  BaseEditor.prototype.beginEditing = function(initialValue){
                    if (this.state != Handsontable.EditorState.VIRGIN) {
                      return;
                    }
                
                    this.instance.view.scrollViewport({row: this.row, col: this.col});
                    this.instance.view.render();
                
                    this.state = Handsontable.EditorState.EDITING;
                
                    initialValue = typeof initialValue == 'string' ? initialValue : this.originalValue;
                
                    this.setValue(Handsontable.helper.stringify(initialValue));
                
                    this.open();
                    this._opened = true;
                    this.focus();
                
                    this.instance.view.render(); //only rerender the selections (FillHandle should disappear when beginediting is triggered)
                  };
                
                  BaseEditor.prototype.finishEditing = function (restoreOriginalValue, ctrlDown, callback) {
                
                    if (callback) {
                      var previousCloseCallback = this._closeCallback;
                      this._closeCallback = function (result) {
                        if(previousCloseCallback){
                          previousCloseCallback(result);
                        }
                
                        callback(result);
                      };
                    }
                
                    if (this.isWaiting()) {
                      return;
                    }
                
                    if (this.state == Handsontable.EditorState.VIRGIN) {
                      var that = this;
                      setTimeout(function () {
                        that._fireCallbacks(true);
                      });
                      return;
                    }
                
                    if (this.state == Handsontable.EditorState.EDITING) {
                
                      if (restoreOriginalValue) {
                
                        this.cancelChanges();
                        return;
                
                      }
                
                
                      var val = [
                        [String.prototype.trim.call(this.getValue())] //String.prototype.trim is defined in Walkontable polyfill.js
                      ];
                
                      this.state = Handsontable.EditorState.WAITING;
                
                      this.saveValue(val, ctrlDown);
                
                      if(this.instance.getCellValidator(this.cellProperties)){
                        var that = this;
                        this.instance.addHookOnce('afterValidate', function (result) {
                          that.state = Handsontable.EditorState.FINISHED;
                          that.discardEditor(result);
                        });
                      } else {
                        this.state = Handsontable.EditorState.FINISHED;
                        this.discardEditor(true);
                      }
                
                    }
                  };
                
                  BaseEditor.prototype.cancelChanges = function () {
                    this.state = Handsontable.EditorState.FINISHED;
                    this.discardEditor();
                  };
                
                  BaseEditor.prototype.discardEditor = function (result) {
                    if (this.state !== Handsontable.EditorState.FINISHED) {
                      return;
                    }
                
                    if (result === false && this.cellProperties.allowInvalid !== true) { //validator was defined and failed
                
                      this.instance.selectCell(this.row, this.col);
                      this.focus();
                
                      this.state = Handsontable.EditorState.EDITING;
                
                      this._fireCallbacks(false);
                    }
                    else {
                      this.close();
                      this._opened = false;
                
                      this.state = Handsontable.EditorState.VIRGIN;
                
                      this._fireCallbacks(true);
                    }
                
                  };
                
                  BaseEditor.prototype.isOpened = function(){
                    return this._opened;
                  };
                
                  BaseEditor.prototype.isWaiting = function () {
                    return this.state === Handsontable.EditorState.WAITING;
                  };
                
                  Handsontable.editors.BaseEditor = BaseEditor;
                
                })(Handsontable);
                
                (function(Handsontable){
                  var TextEditor = Handsontable.editors.BaseEditor.prototype.extend();
                
                  TextEditor.prototype.init = function(){
                    this.createElements();
                    this.bindEvents();
                  };
                
                  TextEditor.prototype.getValue = function(){
                    return this.TEXTAREA.value
                  };
                
                  TextEditor.prototype.setValue = function(newValue){
                    this.TEXTAREA.value = newValue;
                  };
                
                  var onBeforeKeyDown =  function onBeforeKeyDown(event){
                
                    var instance = this;
                    var that = instance.getActiveEditor();
                
                    var keyCodes = Handsontable.helper.keyCode;
                    var ctrlDown = (event.ctrlKey || event.metaKey) && !event.altKey; //catch CTRL but not right ALT (which in some systems triggers ALT+CTRL)
                
                
                    //Process only events that have been fired in the editor
                    if (event.target !== that.TEXTAREA || event.isImmediatePropagationStopped()){
                      return;
                    }
                
                    if (event.keyCode === 17 || event.keyCode === 224 || event.keyCode === 91 || event.keyCode === 93) {
                      //when CTRL or its equivalent is pressed and cell is edited, don't prepare selectable text in textarea
                      event.stopImmediatePropagation();
                      return;
                    }
                
                    switch (event.keyCode) {
                      case keyCodes.ARROW_RIGHT:
                        if (that.wtDom.getCaretPosition(that.TEXTAREA) !== that.TEXTAREA.value.length) {
                          event.stopImmediatePropagation();
                        }
                        break;
                
                      case keyCodes.ARROW_LEFT: /* arrow left */
                        if (that.wtDom.getCaretPosition(that.TEXTAREA) !== 0) {
                          event.stopImmediatePropagation();
                        }
                        break;
                
                      case keyCodes.ENTER:
                        var selected = that.instance.getSelected();
                        var isMultipleSelection = !(selected[0] === selected[2] && selected[1] === selected[3]);
                        if ((ctrlDown && !isMultipleSelection) || event.altKey) { //if ctrl+enter or alt+enter, add new line
                          if(that.isOpened()){
                            that.setValue(that.getValue() + '\n');
                            that.focus();
                          } else {
                            that.beginEditing(that.originalValue + '\n')
                          }
                          event.stopImmediatePropagation();
                        }
                        event.preventDefault(); //don't add newline to field
                        break;
                
                      case keyCodes.A:
                      case keyCodes.X:
                      case keyCodes.C:
                      case keyCodes.V:
                        if(ctrlDown){
                          event.stopImmediatePropagation(); //CTRL+A, CTRL+C, CTRL+V, CTRL+X should only work locally when cell is edited (not in table context)
                          break;
                        }
                      case keyCodes.BACKSPACE:
                      case keyCodes.DELETE:
                      case keyCodes.HOME:
                      case keyCodes.END:
                        event.stopImmediatePropagation(); //backspace, delete, home, end should only work locally when cell is edited (not in table context)
                        break;
                    }
                
                  };
                
                  TextEditor.prototype.open = function(){
                    this.refreshDimensions(); //need it instantly, to prevent https://github.com/warpech/jquery-handsontable/issues/348
                
                    this.instance.addHook('beforeKeyDown', onBeforeKeyDown);
                  };
                
                  TextEditor.prototype.close = function(){
                    this.textareaParentStyle.display = 'none';
                
                    if (document.activeElement === this.TEXTAREA) {
                      this.instance.listen(); //don't refocus the table if user focused some cell outside of HT on purpose
                    }
                
                    this.instance.removeHook('beforeKeyDown', onBeforeKeyDown);
                  };
                
                  TextEditor.prototype.focus = function(){
                    this.TEXTAREA.focus();
                    this.wtDom.setCaretPosition(this.TEXTAREA, this.TEXTAREA.value.length);
                  };
                
                  TextEditor.prototype.createElements = function () {
                    this.$body = $(document.body);
                    this.wtDom = new WalkontableDom();
                
                    this.TEXTAREA = document.createElement('TEXTAREA');
                    this.$textarea = $(this.TEXTAREA);
                
                    this.wtDom.addClass(this.TEXTAREA, 'handsontableInput');
                
                    this.textareaStyle = this.TEXTAREA.style;
                    this.textareaStyle.width = 0;
                    this.textareaStyle.height = 0;
                
                    this.TEXTAREA_PARENT = document.createElement('DIV');
                    this.wtDom.addClass(this.TEXTAREA_PARENT, 'handsontableInputHolder');
                
                    this.textareaParentStyle = this.TEXTAREA_PARENT.style;
                    this.textareaParentStyle.top = 0;
                    this.textareaParentStyle.left = 0;
                    this.textareaParentStyle.display = 'none';
                
                    this.TEXTAREA_PARENT.appendChild(this.TEXTAREA);
                
                    this.instance.rootElement[0].appendChild(this.TEXTAREA_PARENT);
                
                    var that = this;
                    Handsontable.PluginHooks.add('afterRender', function () {
                      that.instance.registerTimeout('refresh_editor_dimensions', function () {
                        that.refreshDimensions();
                      }, 0);
                    });
                  };
                
                  TextEditor.prototype.refreshDimensions = function () {
                    if (this.state !== Handsontable.EditorState.EDITING) {
                      return;
                    }
                
                    ///start prepare textarea position
                    this.TD = this.instance.getCell(this.row, this.col);
                    if (!this.TD) {
                      //TD is outside of the viewport. Otherwise throws exception when scrolling the table while a cell is edited
                      return;
                    }
                    var $td = $(this.TD); //because old td may have been scrolled out with scrollViewport
                    var currentOffset = this.wtDom.offset(this.TD);
                    var containerOffset = this.wtDom.offset(this.instance.rootElement[0]);
                    var scrollTop = this.instance.rootElement.scrollTop();
                    var scrollLeft = this.instance.rootElement.scrollLeft();
                    var editTop = currentOffset.top - containerOffset.top + scrollTop - 1;
                    var editLeft = currentOffset.left - containerOffset.left + scrollLeft - 1;
                
                    var settings = this.instance.getSettings();
                    var rowHeadersCount = settings.rowHeaders === false ? 0 : 1;
                    var colHeadersCount = settings.colHeaders === false ? 0 : 1;
                
                    if (editTop < 0) {
                      editTop = 0;
                    }
                    if (editLeft < 0) {
                      editLeft = 0;
                    }
                
                    if (rowHeadersCount > 0 && parseInt($td.css('border-top-width'), 10) > 0) {
                      editTop += 1;
                    }
                    if (colHeadersCount > 0 && parseInt($td.css('border-left-width'), 10) > 0) {
                      editLeft += 1;
                    }
                
                    this.textareaParentStyle.top = editTop + 'px';
                    this.textareaParentStyle.left = editLeft + 'px';
                    ///end prepare textarea position
                
                    var width = $td.width()
                      , maxWidth = this.instance.view.maximumVisibleElementWidth(editLeft) - 10 //10 is TEXTAREAs border and padding
                      , height = $td.outerHeight() - 4
                      , maxHeight = this.instance.view.maximumVisibleElementHeight(editTop) - 5; //10 is TEXTAREAs border and padding
                
                    if (parseInt($td.css('border-top-width'), 10) > 0) {
                      height -= 1;
                    }
                    if (parseInt($td.css('border-left-width'), 10) > 0) {
                      if (rowHeadersCount > 0) {
                        width -= 1;
                      }
                    }
                
                    //in future may change to pure JS http://stackoverflow.com/questions/454202/creating-a-textarea-with-auto-resize
                    this.$textarea.autoResize({
                      minHeight: Math.min(height, maxHeight),
                      maxHeight: maxHeight, //TEXTAREA should never be wider than visible part of the viewport (should not cover the scrollbar)
                      minWidth: Math.min(width, maxWidth),
                      maxWidth: maxWidth, //TEXTAREA should never be wider than visible part of the viewport (should not cover the scrollbar)
                      animate: false,
                      extraSpace: 0
                    });
                
                    this.textareaParentStyle.display = 'block';
                  };
                
                  TextEditor.prototype.bindEvents = function () {
                    this.$textarea.on('cut.editor', function (event) {
                      event.stopPropagation();
                    });
                
                    this.$textarea.on('paste.editor', function (event) {
                      event.stopPropagation();
                    });
                  };
                
                  Handsontable.editors.TextEditor = TextEditor;
                  Handsontable.editors.registerEditor('text', Handsontable.editors.TextEditor);
                
                })(Handsontable);
                
                (function(Handsontable){
                
                  //Blank editor, because all the work is done by renderer
                  var CheckboxEditor = Handsontable.editors.BaseEditor.prototype.extend();
                
                  CheckboxEditor.prototype.beginEditing = function () {
                    var checkbox = this.TD.querySelector('input[type="checkbox"]');
                
                    if (checkbox) {
                      $(checkbox).trigger('click');
                    }
                
                  };
                
                  CheckboxEditor.prototype.finishEditing = function () {};
                
                  CheckboxEditor.prototype.init = function () {};
                  CheckboxEditor.prototype.open = function () {};
                  CheckboxEditor.prototype.close = function () {};
                  CheckboxEditor.prototype.getValue = function () {};
                  CheckboxEditor.prototype.setValue = function () {};
                  CheckboxEditor.prototype.focus = function () {};
                
                  Handsontable.editors.CheckboxEditor = CheckboxEditor;
                  Handsontable.editors.registerEditor('checkbox', CheckboxEditor);
                
                })(Handsontable);
                
                
                (function (Handsontable) {
                  var DateEditor = Handsontable.editors.TextEditor.prototype.extend();
                
                  DateEditor.prototype.init = function () {
                    if (!$.datepicker) {
                      throw new Error("jQuery UI Datepicker dependency not found. Did you forget to include jquery-ui.custom.js or its substitute?");
                    }
                
                    Handsontable.editors.TextEditor.prototype.init.apply(this, arguments);
                
                    this.isCellEdited = false;
                    var that = this;
                
                    this.instance.addHook('afterDestroy', function () {
                      that.destroyElements();
                    })
                
                  };
                
                  DateEditor.prototype.createElements = function () {
                    Handsontable.editors.TextEditor.prototype.createElements.apply(this, arguments);
                
                    this.datePicker = document.createElement('DIV');
                    this.instance.view.wt.wtDom.addClass(this.datePicker, 'htDatepickerHolder');
                    this.datePickerStyle = this.datePicker.style;
                    this.datePickerStyle.position = 'absolute';
                    this.datePickerStyle.top = 0;
                    this.datePickerStyle.left = 0;
                    this.datePickerStyle.zIndex = 99;
                    document.body.appendChild(this.datePicker);
                    this.$datePicker = $(this.datePicker);
                
                    var that = this;
                    var defaultOptions = {
                      dateFormat: "yy-mm-dd",
                      showButtonPanel: true,
                      changeMonth: true,
                      changeYear: true,
                      onSelect: function (dateStr) {
                        that.setValue(dateStr);
                        that.finishEditing(false);
                      }
                    };
                    this.$datePicker.datepicker(defaultOptions);
                
                    /**
                     * Prevent recognizing clicking on jQuery Datepicker as clicking outside of table
                     */
                    this.$datePicker.on('mousedown', function (event) {
                      event.stopPropagation();
                    });
                
                    this.hideDatepicker();
                  };
                
                  DateEditor.prototype.destroyElements = function () {
                    this.$datePicker.datepicker('destroy');
                    this.$datePicker.remove();
                  };
                
                  DateEditor.prototype.open = function () {
                    Handsontable.editors.TextEditor.prototype.open.call(this);
                    this.showDatepicker();
                  };
                
                  DateEditor.prototype.finishEditing = function (isCancelled, ctrlDown) {
                    this.hideDatepicker();
                    Handsontable.editors.TextEditor.prototype.finishEditing.apply(this, arguments);
                  };
                
                  DateEditor.prototype.showDatepicker = function () {
                    var $td = $(this.TD);
                    var offset = $td.offset();
                    this.datePickerStyle.top = (offset.top + $td.height()) + 'px';
                    this.datePickerStyle.left = offset.left + 'px';
                
                    var dateOptions = {
                      defaultDate: this.originalValue || void 0
                    };
                    $.extend(dateOptions, this.cellProperties);
                    this.$datePicker.datepicker("option", dateOptions);
                    if (this.originalValue) {
                      this.$datePicker.datepicker("setDate", this.originalValue);
                    }
                    this.datePickerStyle.display = 'block';
                  };
                
                  DateEditor.prototype.hideDatepicker = function () {
                    this.datePickerStyle.display = 'none';
                  };
                
                
                  Handsontable.editors.DateEditor = DateEditor;
                  Handsontable.editors.registerEditor('date', DateEditor);
                })(Handsontable);
                /**
                 * This is inception. Using Handsontable as Handsontable editor
                 */
                (function (Handsontable) {
                  
                
                  var HandsontableEditor = Handsontable.editors.TextEditor.prototype.extend();
                
                  HandsontableEditor.prototype.createElements = function () {
                    Handsontable.editors.TextEditor.prototype.createElements.apply(this, arguments);
                
                    var DIV = document.createElement('DIV');
                    DIV.className = 'handsontableEditor';
                    this.TEXTAREA_PARENT.appendChild(DIV);
                
                    this.$htContainer = $(DIV);
                    this.$htContainer.handsontable();
                  };
                
                  HandsontableEditor.prototype.prepare = function (td, row, col, prop, value, cellProperties) {
                
                    Handsontable.editors.TextEditor.prototype.prepare.apply(this, arguments);
                
                    var parent = this;
                
                    var options = {
                      startRows: 0,
                      startCols: 0,
                      minRows: 0,
                      minCols: 0,
                      className: 'listbox',
                      copyPaste: false,
                      cells: function () {
                        return {
                          readOnly: true
                        }
                      },
                      fillHandle: false,
                      afterOnCellMouseDown: function () {
                        var value = this.getValue();
                        if (value !== void 0) { //if the value is undefined then it means we don't want to set the value
                          parent.setValue(value);
                        }
                        parent.instance.destroyEditor();
                      },
                      beforeOnKeyDown: function (event) {
                        var instance = this;
                
                        switch (event.keyCode) {
                          case Handsontable.helper.keyCode.ESCAPE:
                            parent.instance.destroyEditor(true);
                            event.stopImmediatePropagation();
                            event.preventDefault();
                            break;
                
                          case Handsontable.helper.keyCode.ENTER: //enter
                            var sel = instance.getSelected();
                            var value = this.getDataAtCell(sel[0], sel[1]);
                            if (value !== void 0) { //if the value is undefined then it means we don't want to set the value
                              parent.setValue(value);
                            }
                            parent.instance.destroyEditor();
                            break;
                
                          case Handsontable.helper.keyCode.ARROW_UP:
                            if (instance.getSelected() && instance.getSelected()[0] == 0 && !parent.cellProperties.strict){
                              instance.deselectCell();
                              parent.instance.listen();
                              parent.focus();
                              event.preventDefault();
                              event.stopImmediatePropagation();
                            }
                            break;
                        }
                      }
                    };
                
                    if (this.cellProperties.handsontable) {
                      options = $.extend(options, cellProperties.handsontable);
                    }
                    this.$htContainer.handsontable('destroy');
                    this.$htContainer.handsontable(options);
                  };
                
                  var onBeforeKeyDown = function (event) {
                
                    if (event.isImmediatePropagationStopped()) {
                      return;
                    }
                
                    var editor = this.getActiveEditor();
                    var innerHOT = editor.$htContainer.handsontable('getInstance');
                
                    if (event.keyCode == Handsontable.helper.keyCode.ARROW_DOWN) {
                
                      if (!innerHOT.getSelected()){
                        innerHOT.selectCell(0, 0);
                      } else {
                        var selectedRow = innerHOT.getSelected()[0];
                        var rowToSelect = selectedRow < innerHOT.countRows() - 1 ? selectedRow + 1 : selectedRow;
                
                        innerHOT.selectCell(rowToSelect, 0);
                      }
                
                      event.preventDefault();
                      event.stopImmediatePropagation();
                    }
                
                  };
                
                  HandsontableEditor.prototype.open = function () {
                
                    this.instance.addHook('beforeKeyDown', onBeforeKeyDown);
                
                    Handsontable.editors.TextEditor.prototype.open.apply(this, arguments);
                
                    this.$htContainer.handsontable('render');
                
                    if (this.cellProperties.strict) {
                      this.$htContainer.handsontable('selectCell', 0, 0);
                      this.$textarea[0].style.visibility = 'hidden';
                    } else {
                      this.$htContainer.handsontable('deselectCell');
                      this.$textarea[0].style.visibility = 'visible';
                    }
                
                    this.wtDom.setCaretPosition(this.$textarea[0], 0, this.$textarea[0].value.length);
                
                  };
                
                  HandsontableEditor.prototype.close = function () {
                
                    this.instance.removeHook('beforeKeyDown', onBeforeKeyDown);
                    this.instance.listen();
                
                    Handsontable.editors.TextEditor.prototype.close.apply(this, arguments);
                  };
                
                  HandsontableEditor.prototype.focus = function () {
                
                    this.instance.listen();
                
                    Handsontable.editors.TextEditor.prototype.focus.apply(this, arguments);
                  };
                
                  HandsontableEditor.prototype.beginEditing = function (initialValue) {
                    var onBeginEditing = this.instance.getSettings().onBeginEditing;
                    if (onBeginEditing && onBeginEditing() === false) {
                      return;
                    }
                
                    Handsontable.editors.TextEditor.prototype.beginEditing.apply(this, arguments);
                
                  };
                
                  HandsontableEditor.prototype.finishEditing = function (isCancelled, ctrlDown) {
                    if (this.$htContainer.handsontable('isListening')) { //if focus is still in the HOT editor
                      this.instance.listen(); //return the focus to the parent HOT instance
                    }
                
                    if (this.$htContainer.handsontable('getSelected')) {
                      var value = this.$htContainer.handsontable('getInstance').getValue();
                      if (value !== void 0) { //if the value is undefined then it means we don't want to set the value
                        this.setValue(value);
                      }
                    }
                
                    return Handsontable.editors.TextEditor.prototype.finishEditing.apply(this, arguments);
                  };
                
                  Handsontable.editors.HandsontableEditor = HandsontableEditor;
                  Handsontable.editors.registerEditor('handsontable', HandsontableEditor);
                
                })(Handsontable);
                
                
                
                
                
                
                (function (Handsontable) {
                  var AutocompleteEditor = Handsontable.editors.HandsontableEditor.prototype.extend();
                
                  AutocompleteEditor.prototype.init = function () {
                    Handsontable.editors.HandsontableEditor.prototype.init.apply(this, arguments);
                
                    this.query = null;
                    this.choices = [];
                  };
                
                  AutocompleteEditor.prototype.createElements = function(){
                    Handsontable.editors.HandsontableEditor.prototype.createElements.apply(this, arguments);
                
                    this.$htContainer.addClass('autocompleteEditor');
                
                  };
                
                  AutocompleteEditor.prototype.bindEvents = function(){
                
                    var that = this;
                    this.$textarea.on('keydown.autocompleteEditor', function(event){
                      if(!Handsontable.helper.isMetaKey(event.keyCode) || [Handsontable.helper.keyCode.BACKSPACE, Handsontable.helper.keyCode.DELETE].indexOf(event.keyCode) != -1){
                        setTimeout(function () {
                          that.queryChoices(that.$textarea.val());
                        });
                      } else if (event.keyCode == Handsontable.helper.keyCode.ENTER && that.cellProperties.strict !== true){
                        that.$htContainer.handsontable('deselectCell');
                      }
                
                    });
                
                    this.$htContainer.on('mouseleave', function () {
                      if(that.cellProperties.strict === true){
                        that.highlightBestMatchingChoice();
                      }
                    });
                
                    this.$htContainer.on('mouseenter', function () {
                      that.$htContainer.handsontable('deselectCell');
                    });
                
                    Handsontable.editors.HandsontableEditor.prototype.bindEvents.apply(this, arguments);
                
                  };
                
                  var onBeforeKeyDownInner;
                
                  AutocompleteEditor.prototype.open = function () {
                
                    Handsontable.editors.HandsontableEditor.prototype.open.apply(this, arguments);
                
                    this.$textarea[0].style.visibility = 'visible';
                    this.focus();
                
                    var choicesListHot =  this.$htContainer.handsontable('getInstance');
                    var that = this;
                    choicesListHot.updateSettings({
                      'colWidths': [this.wtDom.outerWidth(this.TEXTAREA) - 2],
                      afterRenderer: function (TD, row, col, prop, value) {
                        var caseSensitive = this.getCellMeta(row, col).filteringCaseSensitive === true;
                        var indexOfMatch =  caseSensitive ? value.indexOf(this.query) : value.toLowerCase().indexOf(that.query.toLowerCase());
                
                        if(indexOfMatch != -1){
                          var match = value.substr(indexOfMatch, that.query.length);
                          TD.innerHTML = value.replace(match, '<strong>' + match + '</strong>');
                        }
                      }
                    });
                
                    onBeforeKeyDownInner = function (event) {
                      var instance = this;
                
                      if (event.keyCode == Handsontable.helper.keyCode.ARROW_UP){
                        if (instance.getSelected() && instance.getSelected()[0] == 0){
                
                          if(!parent.cellProperties.strict){
                            instance.deselectCell();
                          }
                
                          parent.instance.listen();
                          parent.focus();
                          event.preventDefault();
                          event.stopImmediatePropagation();
                        }
                      }
                
                    };
                
                    choicesListHot.addHook('beforeKeyDown', onBeforeKeyDownInner);
                
                    this.queryChoices(this.TEXTAREA.value);
                
                
                  };
                
                  AutocompleteEditor.prototype.close = function () {
                
                    this.$htContainer.handsontable('getInstance').removeHook('beforeKeyDown', onBeforeKeyDownInner);
                
                    Handsontable.editors.HandsontableEditor.prototype.close.apply(this, arguments);
                  };
                
                  AutocompleteEditor.prototype.queryChoices = function(query){
                
                    this.query = query;
                
                    if (typeof this.cellProperties.source == 'function'){
                      var that = this;
                
                      this.cellProperties.source(query, function(choices){
                        that.updateChoicesList(choices)
                      });
                
                    } else if (Handsontable.helper.isArray(this.cellProperties.source)) {
                
                      var choices;
                
                      if(!query || this.cellProperties.filter === false){
                        choices = this.cellProperties.source;
                      } else {
                
                        var filteringCaseSensitive = this.cellProperties.filteringCaseSensitive === true;
                        var lowerCaseQuery = query.toLowerCase();
                
                        choices = this.cellProperties.source.filter(function(choice){
                
                          if (filteringCaseSensitive) {
                            return choice.indexOf(query) != -1;
                          } else {
                            return choice.toLowerCase().indexOf(lowerCaseQuery) != -1;
                          }
                
                        });
                      }
                
                      this.updateChoicesList(choices)
                
                    } else {
                      this.updateChoicesList([]);
                    }
                
                  };
                
                  AutocompleteEditor.prototype.updateChoicesList = function (choices) {
                
                     this.choices = choices;
                
                    this.$htContainer.handsontable('loadData', Handsontable.helper.pivot([choices]));
                
                    if(this.cellProperties.strict === true){
                      this.highlightBestMatchingChoice();
                    }
                
                    this.focus();
                  };
                
                  AutocompleteEditor.prototype.highlightBestMatchingChoice = function () {
                    var bestMatchingChoice = this.findBestMatchingChoice();
                
                    if ( typeof bestMatchingChoice == 'undefined' && this.cellProperties.allowInvalid === false){
                      bestMatchingChoice = 0;
                    }
                
                    if(typeof bestMatchingChoice == 'undefined'){
                      this.$htContainer.handsontable('deselectCell');
                    } else {
                      this.$htContainer.handsontable('selectCell', bestMatchingChoice, 0);
                    }
                
                  };
                
                  AutocompleteEditor.prototype.findBestMatchingChoice = function(){
                    var bestMatch = {};
                    var valueLength = this.getValue().length;
                    var currentItem;
                    var indexOfValue;
                    var charsLeft;
                
                
                    for(var i = 0, len = this.choices.length; i < len; i++){
                      currentItem = this.choices[i];
                
                      if(valueLength > 0){
                        indexOfValue = currentItem.indexOf(this.getValue())
                      } else {
                        indexOfValue = currentItem === this.getValue() ? 0 : -1;
                      }
                
                      if(indexOfValue == -1) continue;
                
                      charsLeft =  currentItem.length - indexOfValue - valueLength;
                
                      if( typeof bestMatch.indexOfValue == 'undefined'
                        || bestMatch.indexOfValue > indexOfValue
                        || ( bestMatch.indexOfValue == indexOfValue && bestMatch.charsLeft > charsLeft ) ){
                
                        bestMatch.indexOfValue = indexOfValue;
                        bestMatch.charsLeft = charsLeft;
                        bestMatch.index = i;
                
                      }
                
                    }
                
                
                    return bestMatch.index;
                  };
                
                
                  Handsontable.editors.AutocompleteEditor = AutocompleteEditor;
                  Handsontable.editors.registerEditor('autocomplete', AutocompleteEditor);
                
                })(Handsontable);
                
                (function(Handsontable){
                
                  var PasswordEditor = Handsontable.editors.TextEditor.prototype.extend();
                  var wtDom = new WalkontableDom();
                
                  PasswordEditor.prototype.createElements = function () {
                    Handsontable.editors.TextEditor.prototype.createElements.apply(this, arguments);
                
                    this.TEXTAREA = document.createElement('input');
                    this.TEXTAREA.setAttribute('type', 'password');
                    this.TEXTAREA.className = 'handsontableInput';
                    this.textareaStyle = this.TEXTAREA.style;
                    this.textareaStyle.width = 0;
                    this.textareaStyle.height = 0;
                    this.$textarea = $(this.TEXTAREA);
                
                    wtDom.empty(this.TEXTAREA_PARENT);
                    this.TEXTAREA_PARENT.appendChild(this.TEXTAREA);
                
                  };
                
                  Handsontable.editors.PasswordEditor = PasswordEditor;
                  Handsontable.editors.registerEditor('password', PasswordEditor);
                
                })(Handsontable);
                
                (function (Handsontable) {
                
                  var SelectEditor = Handsontable.editors.BaseEditor.prototype.extend();
                
                  SelectEditor.prototype.init = function(){
                    this.select = document.createElement('SELECT');
                    Handsontable.Dom.addClass(this.select, 'htSelectEditor');
                    this.select.style.display = 'none';
                    this.instance.rootElement[0].appendChild(this.select);
                  };
                
                  SelectEditor.prototype.prepare = function(){
                    Handsontable.editors.BaseEditor.prototype.prepare.apply(this, arguments);
                
                
                    var selectOptions = this.cellProperties.selectOptions;
                    var options;
                
                    if (typeof selectOptions == 'function'){
                      options =  this.prepareOptions(selectOptions(this.row, this.col, this.prop))
                    } else {
                      options =  this.prepareOptions(selectOptions);
                    }
                
                    Handsontable.Dom.empty(this.select);
                
                    for (var option in options){
                      if (options.hasOwnProperty(option)){
                        var optionElement = document.createElement('OPTION');
                        optionElement.value = option;
                        Handsontable.Dom.fastInnerHTML(optionElement, options[option]);
                        this.select.appendChild(optionElement);
                      }
                    }
                  };
                
                  SelectEditor.prototype.prepareOptions = function(optionsToPrepare){
                
                    var preparedOptions = {};
                
                    if (Handsontable.helper.isArray(optionsToPrepare)){
                      for(var i = 0, len = optionsToPrepare.length; i < len; i++){
                        preparedOptions[optionsToPrepare[i]] = optionsToPrepare[i];
                      }
                    }
                    else if (typeof optionsToPrepare == 'object') {
                      preparedOptions = optionsToPrepare;
                    }
                
                    return preparedOptions;
                
                  };
                
                  SelectEditor.prototype.getValue = function () {
                    return this.select.value;
                  };
                
                  SelectEditor.prototype.setValue = function (value) {
                    this.select.value = value;
                  };
                
                  var onBeforeKeyDown = function (event) {
                    var instance = this;
                    var editor = instance.getActiveEditor();
                
                    switch (event.keyCode){
                      case Handsontable.helper.keyCode.ARROW_UP:
                
                        var previousOption = editor.select.find('option:selected').prev();
                
                        if (previousOption.length == 1){
                          previousOption.prop('selected', true);
                        }
                
                        event.stopImmediatePropagation();
                        event.preventDefault();
                        break;
                
                      case Handsontable.helper.keyCode.ARROW_DOWN:
                
                        var nextOption = editor.select.find('option:selected').next();
                
                        if (nextOption.length == 1){
                          nextOption.prop('selected', true);
                        }
                
                        event.stopImmediatePropagation();
                        event.preventDefault();
                        break;
                    }
                  };
                
                  SelectEditor.prototype.open = function () {
                    var width = Handsontable.Dom.outerWidth(this.TD); //important - group layout reads together for better performance
                    var height = Handsontable.Dom.outerHeight(this.TD);
                    var rootOffset = Handsontable.Dom.offset(this.instance.rootElement[0]);
                    var tdOffset = Handsontable.Dom.offset(this.TD);
                
                    this.select.style.height = height + 'px';
                    this.select.style.minWidth = width + 'px';
                    this.select.style.top = tdOffset.top - rootOffset.top + 'px';
                    this.select.style.left = tdOffset.left - rootOffset.left - 2 + 'px'; //2 is cell border
                    this.select.style.display = '';
                
                    this.instance.addHook('beforeKeyDown', onBeforeKeyDown);
                  };
                
                  SelectEditor.prototype.close = function () {
                    this.select.style.display = 'none';
                    this.instance.removeHook('beforeKeyDown', onBeforeKeyDown);
                  };
                
                  SelectEditor.prototype.focus = function () {
                    this.select.focus();
                  };
                
                  Handsontable.editors.SelectEditor = SelectEditor;
                  Handsontable.editors.registerEditor('select', SelectEditor);
                
                })(Handsontable);
                
                (function (Handsontable) {
                
                  var DropdownEditor = Handsontable.editors.AutocompleteEditor.prototype.extend();
                
                  DropdownEditor.prototype.prepare = function () {
                    Handsontable.editors.AutocompleteEditor.prototype.prepare.apply(this, arguments);
                
                    this.cellProperties.filter = false;
                    this.cellProperties.strict = true;
                
                  };
                
                
                  Handsontable.editors.DropdownEditor = DropdownEditor;
                  Handsontable.editors.registerEditor('dropdown', DropdownEditor);
                
                
                })(Handsontable);
                /**
                 * Numeric cell validator
                 * @param {*} value - Value of edited cell
                 * @param {*} callback - Callback called with validation result
                 */
                Handsontable.NumericValidator = function (value, callback) {
                  if (value === null) {
                    value = '';
                  }
                  callback(/^-?\d*\.?\d*$/.test(value));
                };
                /**
                 * Function responsible for validation of autocomplete value
                 * @param {*} value - Value of edited cell
                 * @param {*} calback - Callback called with validation result
                 */
                var process = function (value, callback) {
                
                  var originalVal  = value;
                  var lowercaseVal = typeof originalVal === 'string' ? originalVal.toLowerCase() : null;
                
                  return function (source) {
                    var found = false;
                    for (var s = 0, slen = source.length; s < slen; s++) {
                      if (originalVal === source[s]) {
                        found = true; //perfect match
                        break;
                      }
                      else if (lowercaseVal === source[s].toLowerCase()) {
                        // changes[i][3] = source[s]; //good match, fix the case << TODO?
                        found = true;
                        break;
                      }
                    }
                
                    callback(found);
                  }
                };
                
                /**
                 * Autocomplete cell validator
                 * @param {*} value - Value of edited cell
                 * @param {*} calback - Callback called with validation result
                 */
                Handsontable.AutocompleteValidator = function (value, callback) {
                  if (this.strict && this.source) {
                    typeof this.source === 'function' ? this.source(value, process(value, callback)) : process(value, callback)(this.source);
                  } else {
                    callback(true);
                  }
                };
                
                /**
                 * Cell type is just a shortcut for setting bunch of cellProperties (used in getCellMeta)
                 */
                
                Handsontable.AutocompleteCell = {
                  editor: Handsontable.editors.AutocompleteEditor,
                  renderer: Handsontable.renderers.AutocompleteRenderer,
                  validator: Handsontable.AutocompleteValidator
                };
                
                Handsontable.CheckboxCell = {
                  editor: Handsontable.editors.CheckboxEditor,
                  renderer: Handsontable.renderers.CheckboxRenderer
                };
                
                Handsontable.TextCell = {
                  editor: Handsontable.editors.TextEditor,
                  renderer: Handsontable.renderers.TextRenderer
                };
                
                Handsontable.NumericCell = {
                  editor: Handsontable.editors.TextEditor,
                  renderer: Handsontable.renderers.NumericRenderer,
                  validator: Handsontable.NumericValidator,
                  dataType: 'number'
                };
                
                Handsontable.DateCell = {
                  editor: Handsontable.editors.DateEditor,
                  renderer: Handsontable.renderers.AutocompleteRenderer //displays small gray arrow on right side of the cell
                };
                
                Handsontable.HandsontableCell = {
                  editor: Handsontable.editors.HandsontableEditor,
                  renderer: Handsontable.renderers.AutocompleteRenderer //displays small gray arrow on right side of the cell
                };
                
                Handsontable.PasswordCell = {
                  editor: Handsontable.editors.PasswordEditor,
                  renderer: Handsontable.renderers.PasswordRenderer,
                  copyable: false
                };
                
                Handsontable.DropdownCell = {
                  editor: Handsontable.editors.DropdownEditor,
                  renderer: Handsontable.renderers.AutocompleteRenderer, //displays small gray arrow on right side of the cell
                  validator: Handsontable.AutocompleteValidator
                };
                
                //here setup the friendly aliases that are used by cellProperties.type
                Handsontable.cellTypes = {
                  text: Handsontable.TextCell,
                  date: Handsontable.DateCell,
                  numeric: Handsontable.NumericCell,
                  checkbox: Handsontable.CheckboxCell,
                  autocomplete: Handsontable.AutocompleteCell,
                  handsontable: Handsontable.HandsontableCell,
                  password: Handsontable.PasswordCell,
                  dropdown: Handsontable.DropdownCell
                };
                
                //here setup the friendly aliases that are used by cellProperties.renderer and cellProperties.editor
                Handsontable.cellLookup = {
                  validator: {
                    numeric: Handsontable.NumericValidator,
                    autocomplete: Handsontable.AutocompleteValidator
                  }
                };
                /*
                 * jQuery.fn.autoResize 1.1+
                 * --
                 * https://github.com/warpech/jQuery.fn.autoResize
                 *
                 * This fork differs from others in a way that it autoresizes textarea in 2-dimensions (horizontally and vertically).
                 * It was originally forked from alexbardas's repo but maybe should be merged with dpashkevich's repo in future.
                 *
                 * originally forked from:
                 * https://github.com/jamespadolsey/jQuery.fn.autoResize
                 * which is now located here:
                 * https://github.com/alexbardas/jQuery.fn.autoResize
                 * though the mostly maintained for is here:
                 * https://github.com/dpashkevich/jQuery.fn.autoResize/network
                 *
                 * --
                 * This program is free software. It comes without any warranty, to
                 * the extent permitted by applicable law. You can redistribute it
                 * and/or modify it under the terms of the Do What The Fuck You Want
                 * To Public License, Version 2, as published by Sam Hocevar. See
                 * http://sam.zoy.org/wtfpl/COPYING for more details. */
                
                (function($){
                
                  autoResize.defaults = {
                    onResize: function(){},
                    animate: {
                      duration: 200,
                      complete: function(){}
                    },
                    extraSpace: 50,
                    minHeight: 'original',
                    maxHeight: 500,
                    minWidth: 'original',
                    maxWidth: 500
                  };
                
                  autoResize.cloneCSSProperties = [
                    'lineHeight', 'textDecoration', 'letterSpacing',
                    'fontSize', 'fontFamily', 'fontStyle', 'fontWeight',
                    'textTransform', 'textAlign', 'direction', 'wordSpacing', 'fontSizeAdjust',
                    'padding'
                  ];
                
                  autoResize.cloneCSSValues = {
                    position: 'absolute',
                    top: -9999,
                    left: -9999,
                    opacity: 0,
                    overflow: 'hidden',
                    overflowX: 'hidden',
                    overflowY: 'hidden',
                    border: '1px solid black',
                    padding: '0.49em' //this must be about the width of caps W character
                  };
                
                  autoResize.resizableFilterSelector = 'textarea,input:not(input[type]),input[type=text],input[type=password]';
                
                  autoResize.AutoResizer = AutoResizer;
                
                  $.fn.autoResize = autoResize;
                
                  function autoResize(config) {
                    this.filter(autoResize.resizableFilterSelector).each(function(){
                      new AutoResizer( $(this), config );
                    });
                    return this;
                  }
                
                  function AutoResizer(el, config) {
                
                    if(this.clones) return;
                
                    this.config = $.extend({}, autoResize.defaults, config);
                
                    this.el = el;
                
                    this.nodeName = el[0].nodeName.toLowerCase();
                
                    this.previousScrollTop = null;
                
                    if (config.maxWidth === 'original') config.maxWidth = el.width();
                    if (config.minWidth === 'original') config.minWidth = el.width();
                    if (config.maxHeight === 'original') config.maxHeight = el.height();
                    if (config.minHeight === 'original') config.minHeight = el.height();
                
                    if (this.nodeName === 'textarea') {
                      el.css({
                        resize: 'none',
                        overflowY: 'none'
                      });
                    }
                
                    el.data('AutoResizer', this);
                
                    this.createClone();
                    this.injectClone();
                    this.bind();
                
                  }
                
                  AutoResizer.prototype = {
                
                    bind: function() {
                
                      var check = $.proxy(function(){
                        this.check();
                        return true;
                      }, this);
                
                      this.unbind();
                
                      this.el
                        .bind('keyup.autoResize', check)
                        //.bind('keydown.autoResize', check)
                        .bind('change.autoResize', check);
                
                      this.check(null, true);
                
                    },
                
                    unbind: function() {
                      this.el.unbind('.autoResize');
                    },
                
                    createClone: function() {
                
                      var el = this.el,
                        self = this,
                        config = this.config;
                
                      this.clones = $();
                
                      if (config.minHeight !== 'original' || config.maxHeight !== 'original') {
                        this.hClone = el.clone().height('auto');
                        this.clones = this.clones.add(this.hClone);
                      }
                      if (config.minWidth !== 'original' || config.maxWidth !== 'original') {
                        this.wClone = $('<div/>').width('auto').css({
                          whiteSpace: 'nowrap',
                          'float': 'left'
                        });
                        this.clones = this.clones.add(this.wClone);
                      }
                
                      $.each(autoResize.cloneCSSProperties, function(i, p){
                        self.clones.css(p, el.css(p));
                      });
                
                      this.clones
                        .removeAttr('name')
                        .removeAttr('id')
                        .attr('tabIndex', -1)
                        .css(autoResize.cloneCSSValues)
                        .css('overflowY', 'scroll');
                
                    },
                
                    check: function(e, immediate) {
                
                      var config = this.config,
                        wClone = this.wClone,
                        hClone = this.hClone,
                        el = this.el,
                        value = el.val();
                
                      if (wClone) {
                
                        wClone.text(value);
                
                        // Calculate new width + whether to change
                        var cloneWidth = wClone.outerWidth(),
                          newWidth = (cloneWidth + config.extraSpace) >= config.minWidth ?
                            cloneWidth + config.extraSpace : config.minWidth,
                          currentWidth = el.width();
                
                        newWidth = Math.min(newWidth, config.maxWidth);
                
                        if (
                          (newWidth < currentWidth && newWidth >= config.minWidth) ||
                            (newWidth >= config.minWidth && newWidth <= config.maxWidth)
                          ) {
                
                          config.onResize.call(el);
                
                          el.scrollLeft(0);
                
                          config.animate && !immediate ?
                            el.stop(1,1).animate({
                              width: newWidth
                            }, config.animate)
                            : el.width(newWidth);
                
                        }
                
                      }
                
                      if (hClone) {
                
                        if (newWidth) {
                          hClone.width(newWidth);
                        }
                
                        hClone.height(0).val(value).scrollTop(10000);
                
                        var scrollTop = hClone[0].scrollTop + config.extraSpace;
                
                        // Don't do anything if scrollTop hasen't changed:
                        if (this.previousScrollTop === scrollTop) {
                          return;
                        }
                
                        this.previousScrollTop = scrollTop;
                
                        if (scrollTop >= config.maxHeight) {
                          scrollTop = config.maxHeight;
                        }
                
                        if (scrollTop < config.minHeight) {
                          scrollTop = config.minHeight;
                        }
                
                        if(scrollTop == config.maxHeight && newWidth == config.maxWidth) {
                          el.css('overflowY', 'scroll');
                        }
                        else {
                          el.css('overflowY', 'hidden');
                        }
                
                        config.onResize.call(el);
                
                        // Either animate or directly apply height:
                        config.animate && !immediate ?
                          el.stop(1,1).animate({
                            height: scrollTop
                          }, config.animate)
                          : el.height(scrollTop);
                      }
                    },
                
                    destroy: function() {
                      this.unbind();
                      this.el.removeData('AutoResizer');
                      this.clones.remove();
                      delete this.el;
                      delete this.hClone;
                      delete this.wClone;
                      delete this.clones;
                    },
                
                    injectClone: function() {
                      (
                        autoResize.cloneContainer ||
                          (autoResize.cloneContainer = $('<arclones/>').appendTo('body'))
                        ).empty().append(this.clones); //this should be refactored so that a node is never cloned more than once
                    }
                
                  };
                
                })(jQuery);
                /**
                 * SheetClip - Spreadsheet Clipboard Parser
                 * version 0.2
                 *
                 * This tiny library transforms JavaScript arrays to strings that are pasteable by LibreOffice, OpenOffice,
                 * Google Docs and Microsoft Excel.
                 *
                 * Copyright 2012, Marcin Warpechowski
                 * Licensed under the MIT license.
                 * http://github.com/warpech/sheetclip/
                 */
                /*jslint white: true*/
                (function (global) {
                  
                
                  function countQuotes(str) {
                    return str.split('"').length - 1;
                  }
                
                  global.SheetClip = {
                    parse: function (str) {
                      var r, rlen, rows, arr = [], a = 0, c, clen, multiline, last;
                      rows = str.split('\n');
                      if (rows.length > 1 && rows[rows.length - 1] === '') {
                        rows.pop();
                      }
                      for (r = 0, rlen = rows.length; r < rlen; r += 1) {
                        rows[r] = rows[r].split('\t');
                        for (c = 0, clen = rows[r].length; c < clen; c += 1) {
                          if (!arr[a]) {
                            arr[a] = [];
                          }
                          if (multiline && c === 0) {
                            last = arr[a].length - 1;
                            arr[a][last] = arr[a][last] + '\n' + rows[r][0];
                            if (multiline && (countQuotes(rows[r][0]) & 1)) { //& 1 is a bitwise way of performing mod 2
                              multiline = false;
                              arr[a][last] = arr[a][last].substring(0, arr[a][last].length - 1).replace(/""/g, '"');
                            }
                          }
                          else {
                            if (c === clen - 1 && rows[r][c].indexOf('"') === 0) {
                              arr[a].push(rows[r][c].substring(1).replace(/""/g, '"'));
                              multiline = true;
                            }
                            else {
                              arr[a].push(rows[r][c].replace(/""/g, '"'));
                              multiline = false;
                            }
                          }
                        }
                        if (!multiline) {
                          a += 1;
                        }
                      }
                      return arr;
                    },
                
                    stringify: function (arr) {
                      var r, rlen, c, clen, str = '', val;
                      for (r = 0, rlen = arr.length; r < rlen; r += 1) {
                        for (c = 0, clen = arr[r].length; c < clen; c += 1) {
                          if (c > 0) {
                            str += '\t';
                          }
                          val = arr[r][c];
                          if (typeof val === 'string') {
                            if (val.indexOf('\n') > -1) {
                              str += '"' + val.replace(/"/g, '""') + '"';
                            }
                            else {
                              str += val;
                            }
                          }
                          else if (val === null || val === void 0) { //void 0 resolves to undefined
                            str += '';
                          }
                          else {
                            str += val;
                          }
                        }
                        str += '\n';
                      }
                      return str;
                    }
                  };
                }(window));
                /**
                 * CopyPaste.js
                 * Creates a textarea that stays hidden on the page and gets focused when user presses CTRL while not having a form input focused
                 * In future we may implement a better driver when better APIs are available
                 * @constructor
                 */
                var CopyPaste = (function () {
                  var instance;
                  return {
                    getInstance: function () {
                      if (!instance) {
                        instance = new CopyPasteClass();
                      } else if (instance.hasBeenDestroyed()){
                        instance.init();
                      }
                
                      instance.refCounter++;
                
                      return instance;
                    }
                  };
                })();
                
                function CopyPasteClass() {
                  this.refCounter = 0;
                  this.init();
                }
                
                CopyPasteClass.prototype.init = function () {
                  var that = this
                    , style
                    , parent;
                
                  this.copyCallbacks = [];
                  this.cutCallbacks = [];
                  this.pasteCallbacks = [];
                
                  this.listenerElement = document.documentElement;
                  parent = document.body;
                
                  if (document.getElementById('CopyPasteDiv')) {
                    this.elDiv = document.getElementById('CopyPasteDiv');
                    this.elTextarea = this.elDiv.firstChild;
                  }
                  else {
                    this.elDiv = document.createElement('DIV');
                    this.elDiv.id = 'CopyPasteDiv';
                    style = this.elDiv.style;
                    style.position = 'fixed';
                    style.top = '-10000px';
                    style.left = '-10000px';
                    parent.appendChild(this.elDiv);
                
                    this.elTextarea = document.createElement('TEXTAREA');
                    this.elTextarea.className = 'copyPaste';
                    style = this.elTextarea.style;
                    style.width = '10000px';
                    style.height = '10000px';
                    style.overflow = 'hidden';
                    this.elDiv.appendChild(this.elTextarea);
                
                    if (typeof style.opacity !== 'undefined') {
                      style.opacity = 0;
                    }
                    else {
                      /*@cc_on @if (@_jscript)
                       if(typeof style.filter === 'string') {
                       style.filter = 'alpha(opacity=0)';
                       }
                       @end @*/
                    }
                  }
                
                  this.keydownListener = function (event) {
                    var isCtrlDown = false;
                    if (event.metaKey) { //mac
                      isCtrlDown = true;
                    }
                    else if (event.ctrlKey && navigator.userAgent.indexOf('Mac') === -1) { //pc
                      isCtrlDown = true;
                    }
                
                    if (isCtrlDown) {
                      if (document.activeElement !== that.elTextarea && (that.getSelectionText() != '' || ['INPUT', 'SELECT', 'TEXTAREA'].indexOf(document.activeElement.nodeName) != -1)) {
                        return; //this is needed by fragmentSelection in Handsontable. Ignore copypaste.js behavior if fragment of cell text is selected
                      }
                
                      that.selectNodeText(that.elTextarea);
                      setTimeout(function () {
                        that.selectNodeText(that.elTextarea);
                      }, 0);
                    }
                
                    /* 67 = c
                     * 86 = v
                     * 88 = x
                     */
                    if (isCtrlDown && (event.keyCode === 67 || event.keyCode === 86 || event.keyCode === 88)) {
                      // that.selectNodeText(that.elTextarea);
                
                      if (event.keyCode === 88) { //works in all browsers, incl. Opera < 12.12
                        setTimeout(function () {
                          that.triggerCut(event);
                        }, 0);
                      }
                      else if (event.keyCode === 86) {
                        setTimeout(function () {
                          that.triggerPaste(event);
                        }, 0);
                      }
                    }
                  }
                
                  this._bindEvent(this.listenerElement, 'keydown', this.keydownListener);
                };
                
                //http://jsperf.com/textara-selection
                //http://stackoverflow.com/questions/1502385/how-can-i-make-this-code-work-in-ie
                CopyPasteClass.prototype.selectNodeText = function (el) {
                  el.select();
                };
                
                //http://stackoverflow.com/questions/5379120/get-the-highlighted-selected-text
                CopyPasteClass.prototype.getSelectionText = function () {
                  var text = "";
                  if (window.getSelection) {
                    text = window.getSelection().toString();
                  } else if (document.selection && document.selection.type != "Control") {
                    text = document.selection.createRange().text;
                  }
                  return text;
                };
                
                CopyPasteClass.prototype.copyable = function (str) {
                  if (typeof str !== 'string' && str.toString === void 0) {
                    throw new Error('copyable requires string parameter');
                  }
                  this.elTextarea.value = str;
                };
                
                /*CopyPasteClass.prototype.onCopy = function (fn) {
                  this.copyCallbacks.push(fn);
                };*/
                
                CopyPasteClass.prototype.onCut = function (fn) {
                  this.cutCallbacks.push(fn);
                };
                
                CopyPasteClass.prototype.onPaste = function (fn) {
                  this.pasteCallbacks.push(fn);
                };
                
                CopyPasteClass.prototype.removeCallback = function (fn) {
                  var i, ilen;
                  for (i = 0, ilen = this.copyCallbacks.length; i < ilen; i++) {
                    if (this.copyCallbacks[i] === fn) {
                      this.copyCallbacks.splice(i, 1);
                      return true;
                    }
                  }
                  for (i = 0, ilen = this.cutCallbacks.length; i < ilen; i++) {
                    if (this.cutCallbacks[i] === fn) {
                      this.cutCallbacks.splice(i, 1);
                      return true;
                    }
                  }
                  for (i = 0, ilen = this.pasteCallbacks.length; i < ilen; i++) {
                    if (this.pasteCallbacks[i] === fn) {
                      this.pasteCallbacks.splice(i, 1);
                      return true;
                    }
                  }
                  return false;
                };
                
                CopyPasteClass.prototype.triggerCut = function (event) {
                  var that = this;
                  if (that.cutCallbacks) {
                    setTimeout(function () {
                      for (var i = 0, ilen = that.cutCallbacks.length; i < ilen; i++) {
                        that.cutCallbacks[i](event);
                      }
                    }, 50);
                  }
                };
                
                CopyPasteClass.prototype.triggerPaste = function (event, str) {
                  var that = this;
                  if (that.pasteCallbacks) {
                    setTimeout(function () {
                      var val = (str || that.elTextarea.value).replace(/\n$/, ''); //remove trailing newline
                      for (var i = 0, ilen = that.pasteCallbacks.length; i < ilen; i++) {
                        that.pasteCallbacks[i](val, event);
                      }
                    }, 50);
                  }
                };
                
                CopyPasteClass.prototype.destroy = function () {
                
                  if(!this.hasBeenDestroyed() && --this.refCounter == 0){
                    if (this.elDiv && this.elDiv.parentNode) {
                      this.elDiv.parentNode.removeChild(this.elDiv);
                    }
                
                    this._unbindEvent(this.listenerElement, 'keydown', this.keydownListener);
                
                  }
                
                };
                
                CopyPasteClass.prototype.hasBeenDestroyed = function () {
                  return !this.refCounter;
                };
                
                //old version used this:
                // - http://net.tutsplus.com/tutorials/javascript-ajax/javascript-from-null-cross-browser-event-binding/
                // - http://stackoverflow.com/questions/4643249/cross-browser-event-object-normalization
                //but that cannot work with jQuery.trigger
                CopyPasteClass.prototype._bindEvent = (function () {
                  if (window.jQuery) { //if jQuery exists, use jQuery event (for compatibility with $.trigger and $.triggerHandler, which can only trigger jQuery events - and we use that in tests)
                    return function (elem, type, cb) {
                      $(elem).on(type + '.copypaste', cb);
                    };
                  }
                  else {
                    return function (elem, type, cb) {
                      elem.addEventListener(type, cb, false); //sorry, IE8 will only work with jQuery
                    };
                  }
                })();
                
                CopyPasteClass.prototype._unbindEvent = (function () {
                  if (window.jQuery) { //if jQuery exists, use jQuery event (for compatibility with $.trigger and $.triggerHandler, which can only trigger jQuery events - and we use that in tests)
                    return function (elem, type, cb) {
                      $(elem).off(type + '.copypaste', cb);
                    };
                  }
                  else {
                    return function (elem, type, cb) {
                      elem.removeEventListener(type, cb, false); //sorry, IE8 will only work with jQuery
                    };
                  }
                })();
                // json-patch-duplex.js 0.3.6
                // (c) 2013 Joachim Wester
                // MIT license
                var jsonpatch;
                (function (jsonpatch) {
                    var objOps = {
                        add: function (obj, key) {
                            obj[key] = this.value;
                            return true;
                        },
                        remove: function (obj, key) {
                            delete obj[key];
                            return true;
                        },
                        replace: function (obj, key) {
                            obj[key] = this.value;
                            return true;
                        },
                        move: function (obj, key, tree) {
                            var temp = { op: "_get", path: this.from };
                            apply(tree, [temp]);
                            apply(tree, [
                                { op: "remove", path: this.from }
                            ]);
                            apply(tree, [
                                { op: "add", path: this.path, value: temp.value }
                            ]);
                            return true;
                        },
                        copy: function (obj, key, tree) {
                            var temp = { op: "_get", path: this.from };
                            apply(tree, [temp]);
                            apply(tree, [
                                { op: "add", path: this.path, value: temp.value }
                            ]);
                            return true;
                        },
                        test: function (obj, key) {
                            return (JSON.stringify(obj[key]) === JSON.stringify(this.value));
                        },
                        _get: function (obj, key) {
                            this.value = obj[key];
                        }
                    };
                
                    var arrOps = {
                        add: function (arr, i) {
                            arr.splice(i, 0, this.value);
                            return true;
                        },
                        remove: function (arr, i) {
                            arr.splice(i, 1);
                            return true;
                        },
                        replace: function (arr, i) {
                            arr[i] = this.value;
                            return true;
                        },
                        move: objOps.move,
                        copy: objOps.copy,
                        test: objOps.test,
                        _get: objOps._get
                    };
                
                    var observeOps = {
                        add: function (patches, path) {
                            var patch = {
                                op: "add",
                                path: path + escapePathComponent(this.name),
                                value: this.object[this.name]
                            };
                            patches.push(patch);
                        },
                        'delete': function (patches, path) {
                            var patch = {
                                op: "remove",
                                path: path + escapePathComponent(this.name)
                            };
                            patches.push(patch);
                        },
                        update: function (patches, path) {
                            var patch = {
                                op: "replace",
                                path: path + escapePathComponent(this.name),
                                value: this.object[this.name]
                            };
                            patches.push(patch);
                        }
                    };
                
                    function escapePathComponent(str) {
                        if (str.indexOf('/') === -1 && str.indexOf('~') === -1)
                            return str;
                        return str.replace(/~/g, '~0').replace(/\//g, '~1');
                    }
                
                    function _getPathRecursive(root, obj) {
                        var found;
                        for (var key in root) {
                            if (root.hasOwnProperty(key)) {
                                if (root[key] === obj) {
                                    return escapePathComponent(key) + '/';
                                } else if (typeof root[key] === 'object') {
                                    found = _getPathRecursive(root[key], obj);
                                    if (found != '') {
                                        return escapePathComponent(key) + '/' + found;
                                    }
                                }
                            }
                        }
                        return '';
                    }
                
                    function getPath(root, obj) {
                        if (root === obj) {
                            return '/';
                        }
                        var path = _getPathRecursive(root, obj);
                        if (path === '') {
                            throw new Error("Object not found in root");
                        }
                        return '/' + path;
                    }
                
                    var beforeDict = [];
                
                    jsonpatch.intervals;
                
                    var Mirror = (function () {
                        function Mirror(obj) {
                            this.observers = [];
                            this.obj = obj;
                        }
                        return Mirror;
                    })();
                
                    var ObserverInfo = (function () {
                        function ObserverInfo(callback, observer) {
                            this.callback = callback;
                            this.observer = observer;
                        }
                        return ObserverInfo;
                    })();
                
                    function getMirror(obj) {
                        for (var i = 0, ilen = beforeDict.length; i < ilen; i++) {
                            if (beforeDict[i].obj === obj) {
                                return beforeDict[i];
                            }
                        }
                    }
                
                    function getObserverFromMirror(mirror, callback) {
                        for (var j = 0, jlen = mirror.observers.length; j < jlen; j++) {
                            if (mirror.observers[j].callback === callback) {
                                return mirror.observers[j].observer;
                            }
                        }
                    }
                
                    function removeObserverFromMirror(mirror, observer) {
                        for (var j = 0, jlen = mirror.observers.length; j < jlen; j++) {
                            if (mirror.observers[j].observer === observer) {
                                mirror.observers.splice(j, 1);
                                return;
                            }
                        }
                    }
                
                    function unobserve(root, observer) {
                        generate(observer);
                        if (Object.observe) {
                            _unobserve(observer, root);
                        } else {
                            clearTimeout(observer.next);
                        }
                
                        var mirror = getMirror(root);
                        removeObserverFromMirror(mirror, observer);
                    }
                    jsonpatch.unobserve = unobserve;
                
                    function observe(obj, callback) {
                        var patches = [];
                        var root = obj;
                        var observer;
                        var mirror = getMirror(obj);
                
                        if (!mirror) {
                            mirror = new Mirror(obj);
                            beforeDict.push(mirror);
                        } else {
                            observer = getObserverFromMirror(mirror, callback);
                        }
                
                        if (observer) {
                            return observer;
                        }
                
                        if (Object.observe) {
                            observer = function (arr) {
                                //This "refresh" is needed to begin observing new object properties
                                _unobserve(observer, obj);
                                _observe(observer, obj);
                
                                var a = 0, alen = arr.length;
                                while (a < alen) {
                                    if (!(arr[a].name === 'length' && _isArray(arr[a].object)) && !(arr[a].name === '__Jasmine_been_here_before__')) {
                                        var type = arr[a].type;
                
                                        switch (type) {
                                            case 'new':
                                                type = 'add';
                                                break;
                
                                            case 'deleted':
                                                type = 'delete';
                                                break;
                
                                            case 'updated':
                                                type = 'update';
                                                break;
                                        }
                
                                        observeOps[type].call(arr[a], patches, getPath(root, arr[a].object));
                                    }
                                    a++;
                                }
                
                                if (patches) {
                                    if (callback) {
                                        callback(patches);
                                    }
                                }
                                observer.patches = patches;
                                patches = [];
                            };
                        } else {
                            observer = {};
                
                            mirror.value = JSON.parse(JSON.stringify(obj));
                
                            if (callback) {
                                //callbacks.push(callback); this has no purpose
                                observer.callback = callback;
                                observer.next = null;
                                var intervals = this.intervals || [100, 1000, 10000, 60000];
                                var currentInterval = 0;
                
                                var dirtyCheck = function () {
                                    generate(observer);
                                };
                                var fastCheck = function () {
                                    clearTimeout(observer.next);
                                    observer.next = setTimeout(function () {
                                        dirtyCheck();
                                        currentInterval = 0;
                                        observer.next = setTimeout(slowCheck, intervals[currentInterval++]);
                                    }, 0);
                                };
                                var slowCheck = function () {
                                    dirtyCheck();
                                    if (currentInterval == intervals.length)
                                        currentInterval = intervals.length - 1;
                                    observer.next = setTimeout(slowCheck, intervals[currentInterval++]);
                                };
                                if (typeof window !== 'undefined') {
                                    if (window.addEventListener) {
                                        window.addEventListener('mousedown', fastCheck);
                                        window.addEventListener('mouseup', fastCheck);
                                        window.addEventListener('keydown', fastCheck);
                                    } else {
                                        window.attachEvent('onmousedown', fastCheck);
                                        window.attachEvent('onmouseup', fastCheck);
                                        window.attachEvent('onkeydown', fastCheck);
                                    }
                                }
                                observer.next = setTimeout(slowCheck, intervals[currentInterval++]);
                            }
                        }
                        observer.patches = patches;
                        observer.object = obj;
                
                        mirror.observers.push(new ObserverInfo(callback, observer));
                
                        return _observe(observer, obj);
                    }
                    jsonpatch.observe = observe;
                
                    /// Listen to changes on an object tree, accumulate patches
                    function _observe(observer, obj) {
                        if (Object.observe) {
                            Object.observe(obj, observer);
                            for (var key in obj) {
                                if (obj.hasOwnProperty(key)) {
                                    var v = obj[key];
                                    if (v && typeof (v) === "object") {
                                        _observe(observer, v);
                                    }
                                }
                            }
                        }
                        return observer;
                    }
                
                    function _unobserve(observer, obj) {
                        if (Object.observe) {
                            Object.unobserve(obj, observer);
                            for (var key in obj) {
                                if (obj.hasOwnProperty(key)) {
                                    var v = obj[key];
                                    if (v && typeof (v) === "object") {
                                        _unobserve(observer, v);
                                    }
                                }
                            }
                        }
                        return observer;
                    }
                
                    function generate(observer) {
                        if (Object.observe) {
                            Object.deliverChangeRecords(observer);
                        } else {
                            var mirror;
                            for (var i = 0, ilen = beforeDict.length; i < ilen; i++) {
                                if (beforeDict[i].obj === observer.object) {
                                    mirror = beforeDict[i];
                                    break;
                                }
                            }
                            _generate(mirror.value, observer.object, observer.patches, "");
                        }
                        var temp = observer.patches;
                        if (temp.length > 0) {
                            observer.patches = [];
                            if (observer.callback) {
                                observer.callback(temp);
                            }
                        }
                        return temp;
                    }
                    jsonpatch.generate = generate;
                
                    var _objectKeys;
                    if (Object.keys) {
                        _objectKeys = Object.keys;
                    } else {
                        _objectKeys = function (obj) {
                            var keys = [];
                            for (var o in obj) {
                                if (obj.hasOwnProperty(o)) {
                                    keys.push(o);
                                }
                            }
                            return keys;
                        };
                    }
                
                    // Dirty check if obj is different from mirror, generate patches and update mirror
                    function _generate(mirror, obj, patches, path) {
                        var newKeys = _objectKeys(obj);
                        var oldKeys = _objectKeys(mirror);
                        var changed = false;
                        var deleted = false;
                
                        for (var t = oldKeys.length - 1; t >= 0; t--) {
                            var key = oldKeys[t];
                            var oldVal = mirror[key];
                            if (obj.hasOwnProperty(key)) {
                                var newVal = obj[key];
                                if (oldVal instanceof Object) {
                                    _generate(oldVal, newVal, patches, path + "/" + escapePathComponent(key));
                                } else {
                                    if (oldVal != newVal) {
                                        changed = true;
                                        patches.push({ op: "replace", path: path + "/" + escapePathComponent(key), value: newVal });
                                        mirror[key] = newVal;
                                    }
                                }
                            } else {
                                patches.push({ op: "remove", path: path + "/" + escapePathComponent(key) });
                                delete mirror[key];
                                deleted = true;
                            }
                        }
                
                        if (!deleted && newKeys.length == oldKeys.length) {
                            return;
                        }
                
                        for (var t = 0; t < newKeys.length; t++) {
                            var key = newKeys[t];
                            if (!mirror.hasOwnProperty(key)) {
                                patches.push({ op: "add", path: path + "/" + escapePathComponent(key), value: obj[key] });
                                mirror[key] = JSON.parse(JSON.stringify(obj[key]));
                            }
                        }
                    }
                
                    var _isArray;
                    if (Array.isArray) {
                        _isArray = Array.isArray;
                    } else {
                        _isArray = function (obj) {
                            return obj.push && typeof obj.length === 'number';
                        };
                    }
                
                    /// Apply a json-patch operation on an object tree
                    function apply(tree, patches) {
                        var result = false, p = 0, plen = patches.length, patch;
                        while (p < plen) {
                            patch = patches[p];
                
                            // Find the object
                            var keys = patch.path.split('/');
                            var obj = tree;
                            var t = 1;
                            var len = keys.length;
                            while (true) {
                                if (_isArray(obj)) {
                                    var index = parseInt(keys[t], 10);
                                    t++;
                                    if (t >= len) {
                                        result = arrOps[patch.op].call(patch, obj, index, tree);
                                        break;
                                    }
                                    obj = obj[index];
                                } else {
                                    var key = keys[t];
                                    if (key.indexOf('~') != -1)
                                        key = key.replace(/~1/g, '/').replace(/~0/g, '~');
                                    t++;
                                    if (t >= len) {
                                        result = objOps[patch.op].call(patch, obj, key, tree);
                                        break;
                                    }
                                    obj = obj[key];
                                }
                            }
                            p++;
                        }
                        return result;
                    }
                    jsonpatch.apply = apply;
                })(jsonpatch || (jsonpatch = {}));
                
                if (typeof exports !== "undefined") {
                    exports.apply = jsonpatch.apply;
                    exports.observe = jsonpatch.observe;
                    exports.unobserve = jsonpatch.unobserve;
                    exports.generate = jsonpatch.generate;
                }
                
                Handsontable.PluginHookClass = (function () {
                
                  var Hooks = function () {
                    return {
                      // Hooks
                      beforeInitWalkontable: [],
                
                      beforeInit: [],
                      beforeRender: [],
                      beforeChange: [],
                      beforeRemoveCol: [],
                      beforeRemoveRow: [],
                      beforeValidate: [],
                      beforeGet: [],
                      beforeSet: [],
                      beforeGetCellMeta: [],
                      beforeAutofill: [],
                      beforeKeyDown: [],
                      beforeColumnSort: [],
                
                      afterInit : [],
                      afterLoadData : [],
                      afterUpdateSettings: [],
                      afterRender : [],
                      afterRenderer : [],
                      afterChange : [],
                      afterValidate: [],
                      afterGetCellMeta: [],
                      afterGetColHeader: [],
                      afterGetColWidth: [],
                      afterDestroy: [],
                      afterRemoveRow: [],
                      afterCreateRow: [],
                      afterRemoveCol: [],
                      afterCreateCol: [],
                      afterColumnResize: [],
                      afterColumnMove: [],
                      afterColumnSort: [],
                      afterDeselect: [],
                      afterSelection: [],
                      afterSelectionByProp: [],
                      afterSelectionEnd: [],
                      afterSelectionEndByProp: [],
                      afterCopyLimit: [],
                      afterOnCellMouseDown: [],
                      afterOnCellMouseOver: [],
                      afterOnCellCornerMouseDown: [],
                      afterScrollVertically: [],
                      afterScrollHorizontally: [],
                
                      // Modifiers
                      modifyCol: []
                    }
                  };
                
                  var legacy = {
                    onBeforeChange: "beforeChange",
                    onChange: "afterChange",
                    onCreateRow: "afterCreateRow",
                    onCreateCol: "afterCreateCol",
                    onSelection: "afterSelection",
                    onCopyLimit: "afterCopyLimit",
                    onSelectionEnd: "afterSelectionEnd",
                    onSelectionByProp: "afterSelectionByProp",
                    onSelectionEndByProp: "afterSelectionEndByProp"
                  };
                
                  function PluginHookClass() {
                
                    this.hooks = Hooks();
                
                    this.legacy = legacy;
                
                  }
                
                  PluginHookClass.prototype.add = function (key, fn) {
                    //if fn is array, run this for all the array items
                    if (Handsontable.helper.isArray(fn)) {
                      for (var i = 0, len = fn.length; i < len; i++) {
                        this.add(key, fn[i]);
                      }
                    }
                    else {
                      // provide support for old versions of HOT
                      if (key in legacy) {
                        key = legacy[key];
                      }
                
                      if (typeof this.hooks[key] === "undefined") {
                        this.hooks[key] = [];
                      }
                
                      if (this.hooks[key].indexOf(fn) == -1) {
                        this.hooks[key].push(fn); //only add a hook if it has not already be added (adding the same hook twice is now silently ignored)
                      }
                    }
                    return this;
                  };
                
                  PluginHookClass.prototype.once = function(key, fn){
                
                    if(Handsontable.helper.isArray(fn)){
                
                      for(var i = 0, len = fn.length; i < len; i++){
                        fn[i].runOnce = true;
                        this.add(key, fn[i]);
                      }
                
                    } else {
                      fn.runOnce = true;
                      this.add(key, fn);
                
                    }
                
                  };
                
                  PluginHookClass.prototype.remove = function (key, fn) {
                    var status = false;
                
                    // provide support for old versions of HOT
                    if (key in legacy) {
                      key = legacy[key];
                    }
                
                    if (typeof this.hooks[key] !== 'undefined') {
                
                      for (var i = 0, leni = this.hooks[key].length; i < leni; i++) {
                
                        if (this.hooks[key][i] == fn) {
                          delete this.hooks[key][i].runOnce;
                          this.hooks[key].splice(i, 1);
                          status = true;
                          break;
                        }
                
                      }
                
                    }
                
                    return status;
                  };
                
                  PluginHookClass.prototype.run = function (instance, key, p1, p2, p3, p4, p5) {
                
                    // provide support for old versions of HOT
                    if (key in legacy) {
                      key = legacy[key];
                    }
                
                    //performance considerations - http://jsperf.com/call-vs-apply-for-a-plugin-architecture
                    if (typeof this.hooks[key] !== 'undefined') {
                
                      //Make a copy of handler array
                      var handlers = Array.prototype.slice.call(this.hooks[key]);
                
                      for (var i = 0, leni = handlers.length; i < leni; i++) {
                        handlers[i].call(instance, p1, p2, p3, p4, p5);
                
                        if(handlers[i].runOnce){
                          this.remove(key, handlers[i]);
                        }
                      }
                
                    }
                
                  };
                
                  PluginHookClass.prototype.execute = function (instance, key, p1, p2, p3, p4, p5) {
                    var res, handlers;
                
                    // provide support for old versions of HOT
                    if (key in legacy) {
                      key = legacy[key];
                    }
                
                    //performance considerations - http://jsperf.com/call-vs-apply-for-a-plugin-architecture
                      if (typeof this.hooks[key] !== 'undefined') {
                
                        handlers = Array.prototype.slice.call(this.hooks[key]);
                
                        for (var i = 0, leni = handlers.length; i < leni; i++) {
                
                          res = handlers[i].call(instance, p1, p2, p3, p4, p5);
                          if (res !== void 0) {
                            p1 = res;
                          }
                
                          if(handlers[i].runOnce){
                            this.remove(key, handlers[i]);
                          }
                
                          if(res === false){ //if any handler returned false
                            return false; //event has been cancelled and further execution of handler queue is being aborted
                          }
                
                        }
                
                      }
                
                    return p1;
                  };
                
                  return PluginHookClass;
                
                })();
                
                Handsontable.PluginHooks = new Handsontable.PluginHookClass();
                
                (function (Handsontable) {
                
                  function HandsontableAutoColumnSize() {
                    var plugin = this
                      , sampleCount = 5; //number of samples to take of each value length
                
                    this.beforeInit = function () {
                      var instance = this;
                      instance.autoColumnWidths = [];
                
                      if (instance.getSettings().autoColumnSize !== false) {
                        if (!instance.autoColumnSizeTmp) {
                          instance.autoColumnSizeTmp = {
                            table: null,
                            tableStyle: null,
                            theadTh: null,
                            tbody: null,
                            container: null,
                            containerStyle: null,
                            determineBeforeNextRender: true
                          };
                
                          instance.addHook('beforeRender', htAutoColumnSize.determineIfChanged);
                          instance.addHook('afterGetColWidth', htAutoColumnSize.getColWidth);
                          instance.addHook('afterDestroy', htAutoColumnSize.afterDestroy);
                
                          instance.determineColumnWidth = plugin.determineColumnWidth;
                        }
                      } else {
                        if (instance.autoColumnSizeTmp) {
                          instance.removeHook('beforeRender', htAutoColumnSize.determineIfChanged);
                          instance.removeHook('afterGetColWidth', htAutoColumnSize.getColWidth);
                          instance.removeHook('afterDestroy', htAutoColumnSize.afterDestroy);
                
                          delete instance.determineColumnWidth;
                
                          plugin.afterDestroy.call(instance);
                        }
                      }
                    };
                
                    this.determineIfChanged = function (force) {
                      if (force) {
                        htAutoColumnSize.determineColumnsWidth.apply(this, arguments);
                      }
                    };
                
                    this.determineColumnWidth = function (col) {
                      var instance = this
                        , tmp = instance.autoColumnSizeTmp;
                
                      if (!tmp.container) {
                        createTmpContainer.call(tmp, instance);
                      }
                
                      tmp.container.className = instance.rootElement[0].className + ' htAutoColumnSize';
                      tmp.table.className = instance.$table[0].className;
                
                      var rows = instance.countRows();
                      var samples = {};
                      var maxLen = 0;
                      for (var r = 0; r < rows; r++) {
                        var value = Handsontable.helper.stringify(instance.getDataAtCell(r, col));
                        var len = value.length;
                        if (len > maxLen) {
                          maxLen = len;
                        }
                        if (!samples[len]) {
                          samples[len] = {
                            needed: sampleCount,
                            strings: []
                          };
                        }
                        if (samples[len].needed) {
                          samples[len].strings.push({value: value, row: r});
                          samples[len].needed--;
                        }
                      }
                
                      var settings = instance.getSettings();
                      if (settings.colHeaders) {
                        instance.view.appendColHeader(col, tmp.theadTh); //TH innerHTML
                      }
                
                      instance.view.wt.wtDom.empty(tmp.tbody);
                
                      for (var i in samples) {
                        if (samples.hasOwnProperty(i)) {
                          for (var j = 0, jlen = samples[i].strings.length; j < jlen; j++) {
                            var row = samples[i].strings[j].row;
                
                            var cellProperties = instance.getCellMeta(row, col);
                            cellProperties.col = col;
                            cellProperties.row = row;
                
                            var renderer = instance.getCellRenderer(cellProperties);
                
                            var tr = document.createElement('tr');
                            var td = document.createElement('td');
                
                            renderer(instance, td, row, col, instance.colToProp(col), samples[i].strings[j].value, cellProperties);
                            r++;
                            tr.appendChild(td);
                            tmp.tbody.appendChild(tr);
                          }
                        }
                      }
                
                      var parent = instance.rootElement[0].parentNode;
                      parent.appendChild(tmp.container);
                      var width = instance.view.wt.wtDom.outerWidth(tmp.table);
                      parent.removeChild(tmp.container);
                
                      if (!settings.nativeScrollbars) { //with native scrollbars a cell size can safely exceed the width of the viewport
                        var maxWidth = instance.view.wt.wtViewport.getViewportWidth() - 2; //2 is some overhead for cell border
                        if (width > maxWidth) {
                          width = maxWidth;
                        }
                      }
                
                      return width;
                    };
                
                    this.determineColumnsWidth = function () {
                      var instance = this;
                      var settings = this.getSettings();
                      if (settings.autoColumnSize || !settings.colWidths) {
                        var cols = this.countCols();
                        for (var c = 0; c < cols; c++) {
                          if (!instance._getColWidthFromSettings(c)) {
                            this.autoColumnWidths[c] = plugin.determineColumnWidth.call(instance, c);
                          }
                        }
                      }
                    };
                
                    this.getColWidth = function (col, response) {
                      if (this.autoColumnWidths[col] && this.autoColumnWidths[col] > response.width) {
                        response.width = this.autoColumnWidths[col];
                      }
                    };
                
                    this.afterDestroy = function () {
                      var instance = this;
                      if (instance.autoColumnSizeTmp && instance.autoColumnSizeTmp.container && instance.autoColumnSizeTmp.container.parentNode) {
                        instance.autoColumnSizeTmp.container.parentNode.removeChild(instance.autoColumnSizeTmp.container);
                      }
                      instance.autoColumnSizeTmp = null;
                    };
                
                    function createTmpContainer(instance) {
                      var d = document
                        , tmp = this;
                
                      tmp.table = d.createElement('table');
                      tmp.theadTh = d.createElement('th');
                      tmp.table.appendChild(d.createElement('thead')).appendChild(d.createElement('tr')).appendChild(tmp.theadTh);
                
                      tmp.tableStyle = tmp.table.style;
                      tmp.tableStyle.tableLayout = 'auto';
                      tmp.tableStyle.width = 'auto';
                
                      tmp.tbody = d.createElement('tbody');
                      tmp.table.appendChild(tmp.tbody);
                
                      tmp.container = d.createElement('div');
                      tmp.container.className = instance.rootElement[0].className + ' hidden';
                      tmp.containerStyle = tmp.container.style;
                
                      tmp.container.appendChild(tmp.table);
                    }
                  }
                
                  var htAutoColumnSize = new HandsontableAutoColumnSize();
                
                  Handsontable.PluginHooks.add('beforeInit', htAutoColumnSize.beforeInit);
                  Handsontable.PluginHooks.add('afterUpdateSettings', htAutoColumnSize.beforeInit);
                
                })(Handsontable);
                
                /**
                 * This plugin sorts the view by a column (but does not sort the data source!)
                 * @constructor
                 */
                function HandsontableColumnSorting() {
                  var plugin = this;
                
                  this.init = function (source) {
                    var instance = this;
                    var sortingSettings = instance.getSettings().columnSorting;
                    var sortingColumn, sortingOrder;
                
                    instance.sortingEnabled = !!(sortingSettings);
                
                    if (instance.sortingEnabled) {
                      instance.sortIndex = [];
                
                      var loadedSortingState = loadSortingState.call(instance);
                
                      if (typeof loadedSortingState != 'undefined') {
                        sortingColumn = loadedSortingState.sortColumn;
                        sortingOrder = loadedSortingState.sortOrder;
                      } else {
                        sortingColumn = sortingSettings.column;
                        sortingOrder = sortingSettings.sortOrder;
                      }
                      plugin.sortByColumn.call(instance, sortingColumn, sortingOrder);
                
                      instance.sort = function(){
                        var args = Array.prototype.slice.call(arguments);
                
                        return plugin.sortByColumn.apply(instance, args)
                      };
                
                      if (typeof instance.getSettings().observeChanges == 'undefined'){
                        enableObserveChangesPlugin.call(instance);
                      }
                
                      if (source == 'afterInit') {
                        bindColumnSortingAfterClick.call(instance);
                
                        instance.addHook('afterCreateRow', plugin.afterCreateRow);
                        instance.addHook('afterRemoveRow', plugin.afterRemoveRow);
                        instance.addHook('afterLoadData', plugin.init);
                      }
                    } else {
                      delete instance.sort;
                
                      instance.removeHook('afterCreateRow', plugin.afterCreateRow);
                      instance.removeHook('afterRemoveRow', plugin.afterRemoveRow);
                      instance.removeHook('afterLoadData', plugin.init);
                    }
                  };
                
                  this.setSortingColumn = function (col, order) {
                    var instance = this;
                
                    if (typeof col == 'undefined') {
                      delete instance.sortColumn;
                      delete instance.sortOrder;
                
                      return;
                    } else if (instance.sortColumn === col && typeof order == 'undefined') {
                      instance.sortOrder = !instance.sortOrder;
                    } else {
                      instance.sortOrder = typeof order != 'undefined' ? order : true;
                    }
                
                    instance.sortColumn = col;
                
                  };
                
                  this.sortByColumn = function (col, order) {
                    var instance = this;
                
                    plugin.setSortingColumn.call(instance, col, order);
                
                    if(typeof instance.sortColumn == 'undefined'){
                      return;
                    }
                
                    instance.PluginHooks.run('beforeColumnSort', instance.sortColumn, instance.sortOrder);
                
                    plugin.sort.call(instance);
                    instance.render();
                
                    saveSortingState.call(instance);
                
                    instance.PluginHooks.run('afterColumnSort', instance.sortColumn, instance.sortOrder);
                  };
                
                  var saveSortingState = function () {
                    var instance = this;
                
                    var sortingState = {};
                
                    if (typeof instance.sortColumn != 'undefined') {
                      sortingState.sortColumn = instance.sortColumn;
                    }
                
                    if (typeof instance.sortOrder != 'undefined') {
                      sortingState.sortOrder = instance.sortOrder;
                    }
                
                    if (sortingState.hasOwnProperty('sortColumn') || sortingState.hasOwnProperty('sortOrder')) {
                      instance.PluginHooks.run('persistentStateSave', 'columnSorting', sortingState);
                    }
                
                  };
                
                  var loadSortingState = function () {
                    var instance = this;
                    var storedState = {};
                    instance.PluginHooks.run('persistentStateLoad', 'columnSorting', storedState);
                
                    return storedState.value;
                  };
                
                  var bindColumnSortingAfterClick = function () {
                    var instance = this;
                
                    instance.rootElement.on('click.handsontable', '.columnSorting', function (e) {
                      if (instance.view.wt.wtDom.hasClass(e.target, 'columnSorting')) {
                        var col = getColumn(e.target);
                        plugin.sortByColumn.call(instance, col);
                      }
                    });
                
                    function countRowHeaders() {
                      var THs = instance.view.TBODY.querySelector('tr').querySelectorAll('th');
                      return THs.length;
                    }
                
                    function getColumn(target) {
                      var TH = instance.view.wt.wtDom.closest(target, 'TH');
                      return instance.view.wt.wtDom.index(TH) - countRowHeaders();
                    }
                  };
                
                  function enableObserveChangesPlugin () {
                    var instance = this;
                    instance.registerTimeout('enableObserveChanges', function(){
                      instance.updateSettings({
                        observeChanges: true
                      });
                    }, 0);
                  }
                
                  function defaultSort(sortOrder) {
                    return function (a, b) {
                      if (a[1] === b[1]) {
                        return 0;
                      }
                      if (a[1] === null) {
                        return 1;
                      }
                      if (b[1] === null) {
                        return -1;
                      }
                      if (a[1] < b[1]) return sortOrder ? -1 : 1;
                      if (a[1] > b[1]) return sortOrder ? 1 : -1;
                      return 0;
                    }
                  }
                
                  function dateSort(sortOrder) {
                    return function (a, b) {
                      if (a[1] === b[1]) {
                        return 0;
                      }
                      if (a[1] === null) {
                        return 1;
                      }
                      if (b[1] === null) {
                        return -1;
                      }
                
                      var aDate = new Date(a[1]);
                      var bDate = new Date(b[1]);
                
                      if (aDate < bDate) return sortOrder ? -1 : 1;
                      if (aDate > bDate) return sortOrder ? 1 : -1;
                
                      return 0;
                    }
                  }
                
                  this.sort = function () {
                    var instance = this;
                
                    if (typeof instance.sortOrder == 'undefined') {
                      return;
                    }
                
                    instance.sortingEnabled = false; //this is required by translateRow plugin hook
                    instance.sortIndex.length = 0;
                
                    var colOffset = this.colOffset();
                    for (var i = 0, ilen = this.countRows() - instance.getSettings()['minSpareRows']; i < ilen; i++) {
                      this.sortIndex.push([i, instance.getDataAtCell(i, this.sortColumn + colOffset)]);
                    }
                
                    var colMeta = instance.getCellMeta(0, instance.sortColumn);
                    var sortFunction;
                    switch (colMeta.type) {
                      case 'date':
                        sortFunction = dateSort;
                        break;
                      default:
                        sortFunction = defaultSort;
                    }
                
                    this.sortIndex.sort(sortFunction(instance.sortOrder));
                
                    //Append spareRows
                    for(var i = this.sortIndex.length; i < instance.countRows(); i++){
                      this.sortIndex.push([i, instance.getDataAtCell(i, this.sortColumn + colOffset)]);
                    }
                
                    instance.sortingEnabled = true; //this is required by translateRow plugin hook
                  };
                
                  this.translateRow = function (row) {
                    var instance = this;
                
                    if (instance.sortingEnabled && instance.sortIndex && instance.sortIndex.length && instance.sortIndex[row]) {
                      return instance.sortIndex[row][0];
                    }
                
                    return row;
                  };
                
                  this.onBeforeGetSet = function (getVars) {
                    var instance = this;
                    getVars.row = plugin.translateRow.call(instance, getVars.row);
                  };
                
                  this.untranslateRow = function (row) {
                    var instance = this;
                    if (instance.sortingEnabled && instance.sortIndex && instance.sortIndex.length) {
                      for (var i = 0; i < instance.sortIndex.length; i++) {
                        if (instance.sortIndex[i][0] == row) {
                          return i;
                        }
                      }
                    }
                  };
                
                  this.getColHeader = function (col, TH) {
                    if (this.getSettings().columnSorting) {
                      this.view.wt.wtDom.addClass(TH.querySelector('.colHeader'), 'columnSorting');
                    }
                  };
                
                  function isSorted(instance){
                    return typeof instance.sortColumn != 'undefined';
                  }
                
                  this.afterCreateRow = function(index, amount){
                    var instance = this;
                
                    if(!isSorted(instance)){
                      return;
                    }
                
                
                    for(var i = 0; i < instance.sortIndex.length; i++){
                      if (instance.sortIndex[i][0] >= index){
                        instance.sortIndex[i][0] += amount;
                      }
                    }
                
                    for(var i=0; i < amount; i++){
                      instance.sortIndex.splice(index+i, 0, [index+i, instance.getData()[index+i][instance.sortColumn + instance.colOffset()]]);
                    }
                
                
                
                    saveSortingState.call(instance);
                
                  };
                
                  this.afterRemoveRow = function(index, amount){
                    var instance = this;
                
                    if(!isSorted(instance)){
                      return;
                    }
                
                    var physicalRemovedIndex = plugin.translateRow.call(instance, index);
                
                    instance.sortIndex.splice(index, amount);
                
                    for(var i = 0; i < instance.sortIndex.length; i++){
                
                      if (instance.sortIndex[i][0] > physicalRemovedIndex){
                        instance.sortIndex[i][0] -= amount;
                      }
                    }
                
                    saveSortingState.call(instance);
                
                  };
                
                  this.afterChangeSort = function (changes/*, source*/) {
                    var instance = this;
                    var sortColumnChanged = false;
                    var selection = {};
                    if (!changes) {
                      return;
                    }
                
                    for (var i = 0; i < changes.length; i++) {
                      if (changes[i][1] == instance.sortColumn) {
                        sortColumnChanged = true;
                        selection.row = plugin.translateRow.call(instance, changes[i][0]);
                        selection.col = changes[i][1];
                        break;
                      }
                    }
                
                    if (sortColumnChanged) {
                      setTimeout(function () {
                        plugin.sort.call(instance);
                        instance.render();
                        instance.selectCell(plugin.untranslateRow.call(instance, selection.row), selection.col);
                      }, 0);
                    }
                  };
                }
                var htSortColumn = new HandsontableColumnSorting();
                
                Handsontable.PluginHooks.add('afterInit', function () {
                  htSortColumn.init.call(this, 'afterInit')
                });
                Handsontable.PluginHooks.add('afterUpdateSettings', function () {
                  htSortColumn.init.call(this, 'afterUpdateSettings')
                });
                Handsontable.PluginHooks.add('beforeGet', htSortColumn.onBeforeGetSet);
                Handsontable.PluginHooks.add('beforeSet', htSortColumn.onBeforeGetSet);
                Handsontable.PluginHooks.add('afterGetColHeader', htSortColumn.getColHeader);
                
                
                (function (Handsontable) {
                  
                
                  function ContextMenu(instance, customOptions){
                    this.instance = instance;
                    var contextMenu = this;
                
                    this.menu = createMenu();
                    this.enabled = true;
                
                    this.bindMouseEvents();
                    this.bindTableEvents();
                
                    this.instance.addHook('afterDestroy', function () {
                       contextMenu.destroy();
                    });
                
                    this.defaultOptions = {
                      items: {
                        'row_above': {
                          name: 'Insert row above',
                          callback: function(key, selection){
                            this.alter("insert_row", selection.start.row());
                          },
                          disabled: function () {
                            return this.countRows() >= this.getSettings().maxRows;
                          }
                        },
                        'row_below': {
                          name: 'Insert row below',
                          callback: function(key, selection){
                            this.alter("insert_row", selection.end.row() + 1);
                          },
                          disabled: function () {
                            return this.countRows() >= this.getSettings().maxRows;
                          }
                        },
                        "hsep1": ContextMenu.SEPARATOR,
                        'col_left': {
                          name: 'Insert column on the left',
                          callback: function(key, selection){
                            this.alter("insert_col", selection.start.col());
                          },
                          disabled: function () {
                            return this.countCols() >= this.getSettings().maxCols;
                          }
                        },
                        'col_right': {
                          name: 'Insert column on the right',
                          callback: function(key, selection){
                            this.alter("insert_col", selection.end.col() + 1);
                          },
                          disabled: function () {
                            return this.countCols() >= this.getSettings().maxCols;
                          }
                        },
                        "hsep2": ContextMenu.SEPARATOR,
                        'remove_row': {
                          name: 'Remove row',
                          callback: function(key, selection){
                            var amount = selection.end.row() - selection.start.row() + 1;
                            this.alter("remove_row", selection.start.row(), amount);
                          }
                        },
                        'remove_col': {
                          name: 'Remove column',
                          callback: function(key, selection){
                            var amount = selection.end.col() - selection.start.col() + 1;
                            this.alter("remove_col", selection.start.col(), amount);
                          }
                        },
                        "hsep3": ContextMenu.SEPARATOR,
                        'undo': {
                          name: 'Undo',
                          callback: function(){
                            this.undo();
                          },
                          disabled: function () {
                            return this.undoRedo && !this.undoRedo.isUndoAvailable();
                          }
                        },
                        'redo': {
                          name: 'Redo',
                          callback: function(){
                            this.redo();
                          },
                          disabled: function () {
                            return this.undoRedo && !this.undoRedo.isRedoAvailable();
                          }
                        }
                
                      }
                    };
                
                    this.options = {};
                    Handsontable.helper.extend(this.options, this.defaultOptions);
                
                    this.updateOptions(customOptions);
                
                    function createMenu(){
                
                      var menu = $('body > .htContextMenu')[0];
                
                      if(!menu){
                        menu = document.createElement('DIV');
                        Handsontable.Dom.addClass(menu, 'htContextMenu');
                        document.getElementsByTagName('body')[0].appendChild(menu);
                      }
                
                      return menu;
                    }
                  }
                
                  ContextMenu.prototype.bindMouseEvents = function (){
                
                    function contextMenuOpenListener(event){
                
                      event.preventDefault();
                
                      if(event.target.nodeName != 'TD' && !(Handsontable.Dom.hasClass(event.target, 'current') && Handsontable.Dom.hasClass(event.target, 'wtBorder'))){
                        return;
                      }
                
                      this.show(event.pageY, event.pageX);
                
                      $(document).on('mousedown.htContextMenu', Handsontable.helper.proxy(ContextMenu.prototype.close, this));
                    }
                
                    this.instance.rootElement.on('contextmenu.htContextMenu', Handsontable.helper.proxy(contextMenuOpenListener, this));
                
                  };
                
                  ContextMenu.prototype.bindTableEvents = function () {
                    var that = this;
                
                    this._afterScrollCallback = function () {
                      that.close();
                    };
                
                    this.instance.addHook('afterScrollVertically', this._afterScrollCallback);
                    this.instance.addHook('afterScrollHorizontally', this._afterScrollCallback);
                  };
                
                  ContextMenu.prototype.unbindTableEvents = function () {
                    var that = this;
                
                    if(this._afterScrollCallback){
                      this.instance.removeHook('afterScrollVertically', this._afterScrollCallback);
                      this.instance.removeHook('afterScrollHorizontally', this._afterScrollCallback);
                      this._afterScrollCallback = null;
                    }
                
                
                  };
                
                  ContextMenu.prototype.performAction = function (){
                
                    var hot = $(this.menu).handsontable('getInstance');
                    var selectedItemIndex = hot.getSelected()[0];
                    var selectedItem = hot.getData()[selectedItemIndex];
                
                    if (selectedItem.disabled === true || (typeof selectedItem.disabled == 'function' && selectedItem.disabled.call(this.instance) === true)){
                      return;
                    }
                
                    if(typeof selectedItem.callback != 'function'){
                      return;
                    }
                
                    var corners = this.instance.getSelected();
                    var normalizedSelection = ContextMenu.utils.normalizeSelection(corners);
                
                    selectedItem.callback.call(this.instance, selectedItem.key, normalizedSelection);
                
                  };
                
                  ContextMenu.prototype.unbindMouseEvents = function () {
                    this.instance.rootElement.off('contextmenu.htContextMenu');
                    $(document).off('mousedown.htContextMenu');
                  };
                
                  ContextMenu.prototype.show = function(top, left){
                
                    this.menu.style.display = 'block';
                
                    $(this.menu)
                      .off('mousedown.htContextMenu')
                      .on('mousedown.htContextMenu', Handsontable.helper.proxy(this.performAction, this));
                
                    $(this.menu).handsontable({
                      data: ContextMenu.utils.convertItemsToArray(this.getItems()),
                      colHeaders: false,
                      colWidths: [160],
                      readOnly: true,
                      copyPaste: false,
                      columns: [
                        {
                          data: 'name',
                          renderer: Handsontable.helper.proxy(this.renderer, this)
                        }
                      ],
                      beforeKeyDown: Handsontable.helper.proxy(this.onBeforeKeyDown, this)
                    });
                    this.bindTableEvents();
                
                    this.setMenuPosition(top, left);
                
                    $(this.menu).handsontable('listen');
                
                  };
                
                  ContextMenu.prototype.close = function () {
                    this.hide();
                    $(document).off('mousedown.htContextMenu');
                    this.unbindTableEvents();
                    this.instance.listen();
                  };
                
                  ContextMenu.prototype.hide = function(){
                    this.menu.style.display = 'none';
                    $(this.menu).handsontable('destroy');
                  };
                
                  ContextMenu.prototype.renderer = function(instance, TD, row, col, prop, value, cellProperties){
                    var contextMenu = this;
                    var item = instance.getData()[row];
                    var wrapper = document.createElement('DIV');
                
                    Handsontable.Dom.empty(TD);
                    TD.appendChild(wrapper);
                
                    if(itemIsSeparator(item)){
                      Handsontable.Dom.addClass(TD, 'htSeparator');
                    } else {
                      Handsontable.Dom.fastInnerText(wrapper, value);
                    }
                
                    if (itemIsDisabled(item, contextMenu.instance)){
                      Handsontable.Dom.addClass(TD, 'htDisabled');
                
                      $(wrapper).on('mouseenter', function () {
                        instance.deselectCell();
                      });
                
                    } else {
                      Handsontable.Dom.removeClass(TD, 'htDisabled');
                
                      $(wrapper).on('mouseenter', function () {
                        instance.selectCell(row, col);
                      });
                
                    }
                
                    function itemIsSeparator(item){
                      return new RegExp(ContextMenu.SEPARATOR, 'i').test(item.name);
                    }
                
                    function itemIsDisabled(item, instance){
                      return item.disabled === true || (typeof item.disabled == 'function' && item.disabled.call(contextMenu.instance) === true);
                    }
                  };
                
                  ContextMenu.prototype.onBeforeKeyDown = function (event) {
                    var contextMenu = this;
                    var instance = $(contextMenu.menu).handsontable('getInstance');
                    var selection = instance.getSelected();
                
                    switch(event.keyCode){
                
                      case Handsontable.helper.keyCode.ESCAPE:
                        contextMenu.close();
                        event.preventDefault();
                        event.stopImmediatePropagation();
                        break;
                
                      case Handsontable.helper.keyCode.ENTER:
                        if(instance.getSelected()){
                          contextMenu.performAction();
                          contextMenu.close();
                        }
                        break;
                
                      case Handsontable.helper.keyCode.ARROW_DOWN:
                        if(!selection){
                
                          selectFirstCell(instance);
                
                        } else {
                
                          selectNextCell(selection[0], selection[1], instance);
                
                        }
                
                        event.preventDefault();
                        event.stopImmediatePropagation();
                
                        break;
                
                      case Handsontable.helper.keyCode.ARROW_UP:
                        if(!selection){
                
                          selectLastCell(instance);
                
                        }  else {
                
                          selectPrevCell(selection[0], selection[1], instance);
                
                        }
                
                        event.preventDefault();
                        event.stopImmediatePropagation();
                
                        break;
                
                    }
                
                    function selectFirstCell(instance) {
                
                      var firstCell = instance.getCell(0, 0);
                
                      if(ContextMenu.utils.isSeparator(firstCell) || ContextMenu.utils.isDisabled(firstCell)){
                        selectNextCell(0, 0, instance);
                      } else {
                        instance.selectCell(0, 0);
                      }
                
                    }
                
                
                    function selectLastCell(instance) {
                
                      var lastRow = instance.countRows() - 1;
                      var lastCell = instance.getCell(lastRow, 0);
                
                      if(ContextMenu.utils.isSeparator(lastCell) || ContextMenu.utils.isDisabled(lastCell)){
                        selectPrevCell(lastRow, 0, instance);
                      } else {
                        instance.selectCell(lastRow, 0);
                      }
                
                    }
                
                    function selectNextCell(row, col, instance){
                      var nextRow = row + 1;
                      var nextCell =  nextRow < instance.countRows() ? instance.getCell(nextRow, col) : null;
                
                      if(!nextCell){
                        return;
                      }
                
                      if(ContextMenu.utils.isSeparator(nextCell) || ContextMenu.utils.isDisabled(nextCell)){
                        selectNextCell(nextRow, col, instance);
                      } else {
                        instance.selectCell(nextRow, col);
                      }
                    }
                
                    function selectPrevCell(row, col, instance) {
                
                      var prevRow = row - 1;
                      var prevCell = prevRow >= 0 ? instance.getCell(prevRow, col) : null;
                
                      if (!prevCell) {
                        return;
                      }
                
                      if(ContextMenu.utils.isSeparator(prevCell) || ContextMenu.utils.isDisabled(prevCell)){
                        selectPrevCell(prevRow, col, instance);
                      } else {
                        instance.selectCell(prevRow, col);
                      }
                
                    }
                
                  };
                
                  ContextMenu.prototype.getItems = function () {
                    var items = {};
                    function Item(rawItem){
                      if(typeof rawItem == 'string'){
                        this.name = rawItem;
                      } else {
                        Handsontable.helper.extend(this, rawItem);
                      }
                    }
                    Item.prototype = this.options;
                
                    for(var itemName in this.options.items){
                      if(this.options.items.hasOwnProperty(itemName) && (!this.itemsFilter || this.itemsFilter.indexOf(itemName) != -1)){
                        items[itemName] = new Item(this.options.items[itemName]);
                      }
                    }
                
                    return items;
                
                  };
                
                  ContextMenu.prototype.updateOptions = function(newOptions){
                    newOptions = newOptions || {};
                
                    if(newOptions.items){
                      for(var itemName in newOptions.items){
                        var item = {};
                
                        if(newOptions.items.hasOwnProperty(itemName)) {
                          if(this.defaultOptions.items.hasOwnProperty(itemName)
                            && Handsontable.helper.isObject(newOptions.items[itemName])){
                            Handsontable.helper.extend(item, this.defaultOptions.items[itemName]);
                            Handsontable.helper.extend(item, newOptions.items[itemName]);
                            newOptions.items[itemName] = item;
                          }
                        }
                
                      }
                    }
                
                    Handsontable.helper.extend(this.options, newOptions);
                  };
                
                  ContextMenu.prototype.setMenuPosition = function (cursorY, cursorX) {
                
                    var cursor = {
                      top:  cursorY,
                      topRelative: cursorY - document.documentElement.scrollTop,
                      left: cursorX,
                      leftRelative:cursorX - document.documentElement.scrollLeft
                    };
                
                    if(this.menuFitsBelowCursor(cursor)){
                      this.positionMenuBelowCursor(cursor);
                    } else {
                      this.positionMenuAboveCursor(cursor);
                    }
                
                    if(this.menuFitsOnRightOfCursor(cursor)){
                      this.positionMenuOnRightOfCursor(cursor);
                    } else {
                      this.positionMenuOnLeftOfCursor(cursor);
                    }
                
                  };
                
                  ContextMenu.prototype.menuFitsBelowCursor = function (cursor) {
                    return cursor.topRelative + this.menu.offsetHeight <= document.documentElement.scrollTop + document.documentElement.clientHeight;
                  };
                
                  ContextMenu.prototype.menuFitsOnRightOfCursor = function (cursor) {
                    return cursor.leftRelative + this.menu.offsetWidth <= document.documentElement.scrollLeft + document.documentElement.clientWidth;
                  };
                
                  ContextMenu.prototype.positionMenuBelowCursor = function (cursor) {
                    this.menu.style.top = cursor.top + 'px';
                  };
                
                  ContextMenu.prototype.positionMenuAboveCursor = function (cursor) {
                    this.menu.style.top = (cursor.top - this.menu.offsetHeight) + 'px';
                  };
                
                  ContextMenu.prototype.positionMenuOnRightOfCursor = function (cursor) {
                    this.menu.style.left = cursor.left + 'px';
                  };
                
                  ContextMenu.prototype.positionMenuOnLeftOfCursor = function (cursor) {
                    this.menu.style.left = (cursor.left - this.menu.offsetWidth) + 'px';
                  };
                
                  ContextMenu.utils = {};
                  ContextMenu.utils.convertItemsToArray = function (items) {
                    var itemArray = [];
                    var item;
                    for(var itemName in items){
                      if(items.hasOwnProperty(itemName)){
                        if(typeof items[itemName] == 'string'){
                          item = {name: items[itemName]};
                        } else if (items[itemName].visible !== false) {
                          item = items[itemName];
                        } else {
                          continue;
                        }
                
                        item.key = itemName;
                        itemArray.push(item);
                      }
                    }
                
                    return itemArray;
                  };
                
                  ContextMenu.utils.normalizeSelection = function(corners){
                    var selection = {
                      start: new Handsontable.SelectionPoint(),
                      end: new Handsontable.SelectionPoint()
                    };
                
                    selection.start.row(Math.min(corners[0], corners[2]));
                    selection.start.col(Math.min(corners[1], corners[3]));
                
                    selection.end.row(Math.max(corners[0], corners[2]));
                    selection.end.col(Math.max(corners[1], corners[3]));
                
                    return selection;
                  };
                
                  ContextMenu.utils.isSeparator = function (cell) {
                    return Handsontable.Dom.hasClass(cell, 'htSeparator');
                  };
                
                  ContextMenu.utils.isDisabled = function (cell) {
                    return Handsontable.Dom.hasClass(cell, 'htDisabled');
                  };
                
                  ContextMenu.prototype.enable = function () {
                    if(!this.enabled){
                      this.enabled = true;
                      this.bindMouseEvents();
                    }
                  };
                
                  ContextMenu.prototype.disable = function () {
                    if(this.enabled){
                      this.enabled = false;
                      this.close();
                      this.unbindMouseEvents();
                      this.unbindTableEvents();
                    }
                  };
                
                  ContextMenu.prototype.destroy = function () {
                    this.close();
                    this.unbindMouseEvents();
                    this.unbindTableEvents();
                
                    if(!this.isMenuEnabledByOtherHotInstance()){
                      this.removeMenu();
                    }
                
                  };
                
                  ContextMenu.prototype.isMenuEnabledByOtherHotInstance = function () {
                    var hotContainers = $('.handsontable');
                    var menuEnabled = false;
                
                    for(var i = 0, len = hotContainers.length; i < len; i++){
                      var instance = $(hotContainers[i]).handsontable('getInstance');
                      if(instance && instance.getSettings().contextMenu){
                        menuEnabled = true;
                        break;
                      }
                    }
                
                    return menuEnabled;
                  };
                
                  ContextMenu.prototype.removeMenu = function () {
                    if(this.menu.parentNode){
                      this.menu.parentNode.removeChild(this.menu);
                    }
                  }
                
                  ContextMenu.prototype.filterItems = function(itemsToLeave){
                    this.itemsFilter = itemsToLeave;
                  };
                
                  ContextMenu.SEPARATOR = "---------";
                
                  function init(){
                    var instance = this;
                    var contextMenuSetting = instance.getSettings().contextMenu;
                    var customOptions = Handsontable.helper.isObject(contextMenuSetting) ? contextMenuSetting : {};
                
                    if(contextMenuSetting){
                      if(!instance.contextMenu){
                        instance.contextMenu = new ContextMenu(instance, customOptions);
                      }
                
                      instance.contextMenu.enable();
                
                      if(Handsontable.helper.isArray(contextMenuSetting)){
                        instance.contextMenu.filterItems(contextMenuSetting);
                      }
                
                    }  else if(instance.contextMenu){
                      instance.contextMenu.destroy();
                      delete instance.contextMenu;
                    }
                
                
                
                  }
                
                  Handsontable.PluginHooks.add('afterInit', init);
                  Handsontable.PluginHooks.add('afterUpdateSettings', init);
                
                  Handsontable.ContextMenu = ContextMenu;
                
                })(Handsontable);
                
                /**
                 * This plugin adds support for legacy features, deprecated APIs, etc.
                 */
                
                /**
                 * Support for old autocomplete syntax
                 * For old syntax, see: https://github.com/warpech/jquery-handsontable/blob/8c9e701d090ea4620fe08b6a1a048672fadf6c7e/README.md#defining-autocomplete
                 */
                Handsontable.PluginHooks.add('beforeGetCellMeta', function (row, col, cellProperties) {
                  //isWritable - deprecated since 0.8.0
                  cellProperties.isWritable = !cellProperties.readOnly;
                
                  //autocomplete - deprecated since 0.7.1 (see CHANGELOG.md)
                  if (cellProperties.autoComplete) {
                    throw new Error("Support for legacy autocomplete syntax was removed in Handsontable 0.10.0. Please remove the property named 'autoComplete' from your config. For replacement instructions, see wiki page https://github.com/warpech/jquery-handsontable/wiki/Migration-guide-to-0.10.x");
                  }
                });
                function HandsontableManualColumnMove() {
                  var pressed
                    , startCol
                    , endCol
                    , startX
                    , startOffset;
                
                  var ghost = document.createElement('DIV')
                    , ghostStyle = ghost.style;
                
                  ghost.className = 'ghost';
                  ghostStyle.position = 'absolute';
                  ghostStyle.top = '25px';
                  ghostStyle.left = 0;
                  ghostStyle.width = '10px';
                  ghostStyle.height = '10px';
                  ghostStyle.backgroundColor = '#CCC';
                  ghostStyle.opacity = 0.7;
                
                  var saveManualColumnPositions = function () {
                    var instance = this;
                
                    instance.PluginHooks.run('persistentStateSave', 'manualColumnPositions', instance.manualColumnPositions);
                  };
                
                  var loadManualColumnPositions = function () {
                    var instance = this;
                    var storedState = {};
                    instance.PluginHooks.run('persistentStateLoad', 'manualColumnPositions', storedState);
                
                    return storedState.value;
                  };
                
                
                  var bindMoveColEvents = function () {
                    var instance = this;
                
                    instance.rootElement.on('mousemove.manualColumnMove', function (e) {
                      if (pressed) {
                        ghostStyle.left = startOffset + e.pageX - startX + 6 + 'px';
                        if (ghostStyle.display === 'none') {
                          ghostStyle.display = 'block';
                        }
                      }
                    });
                
                    instance.rootElement.on('mouseup.manualColumnMove', function () {
                      if (pressed) {
                        if (startCol < endCol) {
                          endCol--;
                        }
                        if (instance.getSettings().rowHeaders) {
                          startCol--;
                          endCol--;
                        }
                        instance.manualColumnPositions.splice(endCol, 0, instance.manualColumnPositions.splice(startCol, 1)[0]);
                        $('.manualColumnMover.active').removeClass('active');
                        pressed = false;
                        instance.forceFullRender = true;
                        instance.view.render(); //updates all
                        ghostStyle.display = 'none';
                
                        saveManualColumnPositions.call(instance);
                
                        instance.PluginHooks.run('afterColumnMove', startCol, endCol);
                      }
                    });
                
                    instance.rootElement.on('mousedown.manualColumnMove', '.manualColumnMover', function (e) {
                
                      var mover = e.currentTarget;
                      var TH = instance.view.wt.wtDom.closest(mover, 'TH');
                      startCol = instance.view.wt.wtDom.index(TH) + instance.colOffset();
                      endCol = startCol;
                      pressed = true;
                      startX = e.pageX;
                
                      var TABLE = instance.$table[0];
                      TABLE.parentNode.appendChild(ghost);
                      ghostStyle.width = instance.view.wt.wtDom.outerWidth(TH) + 'px';
                      ghostStyle.height = instance.view.wt.wtDom.outerHeight(TABLE) + 'px';
                      startOffset = parseInt(instance.view.wt.wtDom.offset(TH).left - instance.view.wt.wtDom.offset(TABLE).left, 10);
                      ghostStyle.left = startOffset + 6 + 'px';
                    });
                
                    instance.rootElement.on('mouseenter.manualColumnMove', 'td, th', function () {
                      if (pressed) {
                        var active = instance.view.THEAD.querySelector('.manualColumnMover.active');
                        if (active) {
                          instance.view.wt.wtDom.removeClass(active, 'active');
                        }
                        endCol = instance.view.wt.wtDom.index(this) + instance.colOffset();
                        var THs = instance.view.THEAD.querySelectorAll('th');
                        var mover = THs[endCol].querySelector('.manualColumnMover');
                        instance.view.wt.wtDom.addClass(mover, 'active');
                      }
                    });
                
                    instance.addHook('afterDestroy', unbindMoveColEvents);
                  };
                
                  var unbindMoveColEvents = function(){
                    var instance = this;
                    instance.rootElement.off('mouseup.manualColumnMove');
                    instance.rootElement.off('mousemove.manualColumnMove');
                    instance.rootElement.off('mousedown.manualColumnMove');
                    instance.rootElement.off('mouseenter.manualColumnMove');
                  };
                
                  this.beforeInit = function () {
                    this.manualColumnPositions = [];
                  };
                
                  this.init = function (source) {
                    var instance = this;
                
                    var manualColMoveEnabled = !!(this.getSettings().manualColumnMove);
                
                    if (manualColMoveEnabled) {
                      var initialManualColumnPositions = this.getSettings().manualColumnMove;
                
                      var loadedManualColumnPositions = loadManualColumnPositions.call(instance);
                
                      if (typeof loadedManualColumnPositions != 'undefined') {
                        this.manualColumnPositions = loadedManualColumnPositions;
                      } else if (initialManualColumnPositions instanceof Array) {
                        this.manualColumnPositions = initialManualColumnPositions;
                      } else {
                        this.manualColumnPositions = [];
                      }
                
                
                      instance.forceFullRender = true;
                
                      if (source == 'afterInit') {
                        bindMoveColEvents.call(this);
                        if (this.manualColumnPositions.length > 0) {
                          this.forceFullRender = true;
                          this.render();
                        }
                
                      }
                
                    } else {
                      unbindMoveColEvents.call(this);
                      this.manualColumnPositions = [];
                    }
                  };
                
                  this.modifyCol = function (col) {
                    //TODO test performance: http://jsperf.com/object-wrapper-vs-primitive/2
                    if (this.getSettings().manualColumnMove) {
                      if (typeof this.manualColumnPositions[col] === 'undefined') {
                        this.manualColumnPositions[col] = col;
                      }
                      return this.manualColumnPositions[col];
                    }
                    return col;
                  };
                
                  this.getColHeader = function (col, TH) {
                    if (this.getSettings().manualColumnMove) {
                      var DIV = document.createElement('DIV');
                      DIV.className = 'manualColumnMover';
                      TH.firstChild.appendChild(DIV);
                    }
                  };
                }
                var htManualColumnMove = new HandsontableManualColumnMove();
                
                Handsontable.PluginHooks.add('beforeInit', htManualColumnMove.beforeInit);
                Handsontable.PluginHooks.add('afterInit', function () {
                  htManualColumnMove.init.call(this, 'afterInit')
                });
                
                Handsontable.PluginHooks.add('afterUpdateSettings', function () {
                  htManualColumnMove.init.call(this, 'afterUpdateSettings')
                });
                Handsontable.PluginHooks.add('afterGetColHeader', htManualColumnMove.getColHeader);
                Handsontable.PluginHooks.add('modifyCol', htManualColumnMove.modifyCol);
                
                function HandsontableManualColumnResize() {
                  var pressed
                    , currentTH
                    , currentCol
                    , currentWidth
                    , instance
                    , newSize
                    , startX
                    , startWidth
                    , startOffset
                    , resizer = document.createElement('DIV')
                    , handle = document.createElement('DIV')
                    , line = document.createElement('DIV')
                    , lineStyle = line.style;
                
                  resizer.className = 'manualColumnResizer';
                
                  handle.className = 'manualColumnResizerHandle';
                  resizer.appendChild(handle);
                
                  line.className = 'manualColumnResizerLine';
                  resizer.appendChild(line);
                
                  var $document = $(document);
                
                  $document.mousemove(function (e) {
                    if (pressed) {
                      currentWidth = startWidth + (e.pageX - startX);
                      newSize = setManualSize(currentCol, currentWidth); //save col width
                      resizer.style.left = startOffset + currentWidth + 'px';
                    }
                  });
                
                  $document.mouseup(function () {
                    if (pressed) {
                      instance.view.wt.wtDom.removeClass(resizer, 'active');
                      pressed = false;
                
                      if(newSize != startWidth){
                        instance.forceFullRender = true;
                        instance.view.render(); //updates all
                
                        saveManualColumnWidths.call(instance);
                
                        instance.PluginHooks.run('afterColumnResize', currentCol, newSize);
                      }
                
                      refreshResizerPosition.call(instance, currentTH);
                    }
                  });
                
                  var saveManualColumnWidths = function () {
                    var instance = this;
                
                    instance.PluginHooks.run('persistentStateSave', 'manualColumnWidths', instance.manualColumnWidths);
                  };
                
                  var loadManualColumnWidths = function () {
                    var instance = this;
                    var storedState = {};
                    instance.PluginHooks.run('persistentStateLoad', 'manualColumnWidths', storedState);
                
                    return storedState.value;
                  };
                
                  function refreshResizerPosition(TH) {
                    instance = this;
                    currentTH = TH;
                
                    var col = this.view.wt.wtTable.getCoords(TH)[1]; //getCoords returns array [row, col]
                    if (col >= 0) { //if not row header
                      currentCol = col;
                      var rootOffset = this.view.wt.wtDom.offset(this.rootElement[0]).left;
                      var thOffset = this.view.wt.wtDom.offset(TH).left;
                      startOffset = (thOffset - rootOffset) - 6;
                      resizer.style.left = startOffset + parseInt(this.view.wt.wtDom.outerWidth(TH), 10) + 'px';
                
                      this.rootElement[0].appendChild(resizer);
                    }
                  }
                
                  function refreshLinePosition() {
                    var instance = this;
                    startWidth = parseInt(this.view.wt.wtDom.outerWidth(currentTH), 10);
                    instance.view.wt.wtDom.addClass(resizer, 'active');
                    lineStyle.height = instance.view.wt.wtDom.outerHeight(instance.$table[0]) + 'px';
                    pressed = instance;
                  }
                
                  var bindManualColumnWidthEvents = function () {
                    var instance = this;
                    var dblclick = 0;
                    var autoresizeTimeout = null;
                
                    this.rootElement.on('mouseenter.handsontable', 'th', function (e) {
                      if (!pressed) {
                        refreshResizerPosition.call(instance, e.currentTarget);
                      }
                    });
                
                    this.rootElement.on('mousedown.handsontable', '.manualColumnResizer', function () {
                      if (autoresizeTimeout == null) {
                        autoresizeTimeout = setTimeout(function () {
                          if (dblclick >= 2) {
                            newSize = instance.determineColumnWidth.call(instance, currentCol);
                            setManualSize(currentCol, newSize);
                            instance.forceFullRender = true;
                            instance.view.render(); //updates all
                            instance.PluginHooks.run('afterColumnResize', currentCol, newSize);
                          }
                          dblclick = 0;
                          autoresizeTimeout = null;
                        }, 500);
                      }
                      dblclick++;
                    });
                
                    this.rootElement.on('mousedown.handsontable', '.manualColumnResizer', function (e) {
                      startX = e.pageX;
                      refreshLinePosition.call(instance);
                      newSize = startWidth;
                    });
                  };
                
                  this.beforeInit = function () {
                    this.manualColumnWidths = [];
                  };
                
                  this.init = function (source) {
                    var instance = this;
                    var manualColumnWidthEnabled = !!(this.getSettings().manualColumnResize);
                
                    if (manualColumnWidthEnabled) {
                      var initialColumnWidths = this.getSettings().manualColumnResize;
                
                      var loadedManualColumnWidths = loadManualColumnWidths.call(instance);
                
                      if (typeof loadedManualColumnWidths != 'undefined') {
                        this.manualColumnWidths = loadedManualColumnWidths;
                      } else if (initialColumnWidths instanceof Array) {
                        this.manualColumnWidths = initialColumnWidths;
                      } else {
                        this.manualColumnWidths = [];
                      }
                
                      if (source == 'afterInit') {
                        bindManualColumnWidthEvents.call(this);
                        instance.forceFullRender = true;
                        instance.render();
                      }
                    }
                  };
                
                
                  var setManualSize = function (col, width) {
                    width = Math.max(width, 20);
                
                    /**
                     *  We need to run col through modifyCol hook, in case the order of displayed columns is different than the order
                     *  in data source. For instance, this order can be modified by manualColumnMove plugin.
                     */
                    col = instance.PluginHooks.execute('modifyCol', col);
                
                    instance.manualColumnWidths[col] = width;
                    return width;
                  };
                
                  this.getColWidth = function (col, response) {
                    if (this.getSettings().manualColumnResize && this.manualColumnWidths[col]) {
                      response.width = this.manualColumnWidths[col];
                    }
                  };
                }
                var htManualColumnResize = new HandsontableManualColumnResize();
                
                Handsontable.PluginHooks.add('beforeInit', htManualColumnResize.beforeInit);
                Handsontable.PluginHooks.add('afterInit', function () {
                  htManualColumnResize.init.call(this, 'afterInit')
                });
                Handsontable.PluginHooks.add('afterUpdateSettings', function () {
                  htManualColumnResize.init.call(this, 'afterUpdateSettings')
                });
                Handsontable.PluginHooks.add('afterGetColWidth', htManualColumnResize.getColWidth);
                
                (function HandsontableObserveChanges() {
                
                  Handsontable.PluginHooks.add('afterLoadData', init);
                  Handsontable.PluginHooks.add('afterUpdateSettings', init);
                
                  function init() {
                    var instance = this;
                    var pluginEnabled = instance.getSettings().observeChanges;
                
                    if (pluginEnabled) {
                      if(instance.observer) {
                        destroy.call(instance); //destroy observer for old data object
                      }
                      createObserver.call(instance);
                      bindEvents.call(instance);
                
                    } else if (!pluginEnabled){
                      destroy.call(instance);
                    }
                  }
                
                  function createObserver(){
                    var instance = this;
                
                    instance.observeChangesActive = true;
                
                    instance.pauseObservingChanges = function(){
                      instance.observeChangesActive = false;
                    };
                
                    instance.resumeObservingChanges = function(){
                      instance.observeChangesActive = true;
                    };
                
                    instance.observedData = instance.getData();
                    instance.observer = jsonpatch.observe(instance.observedData, function (patches) {
                      if(instance.observeChangesActive){
                        runHookForOperation.call(instance, patches);
                        instance.render();
                      }
                
                      instance.runHooks('afterChangesObserved');
                    });
                  }
                
                  function runHookForOperation(rawPatches){
                    var instance = this;
                    var patches = cleanPatches(rawPatches);
                
                    for(var i = 0, len = patches.length; i < len; i++){
                      var patch = patches[i];
                      var parsedPath = parsePath(patch.path);
                
                
                      switch(patch.op){
                        case 'add':
                          if(isNaN(parsedPath.col)){
                            instance.runHooks('afterCreateRow', parsedPath.row);
                          } else {
                            instance.runHooks('afterCreateCol', parsedPath.col);
                          }
                          break;
                
                        case 'remove':
                          if(isNaN(parsedPath.col)){
                            instance.runHooks('afterRemoveRow', parsedPath.row, 1);
                          } else {
                            instance.runHooks('afterRemoveCol', parsedPath.col, 1);
                          }
                          break;
                
                        case 'replace':
                          instance.runHooks('afterChange', [parsedPath.row, parsedPath.col, null, patch.value], 'external');
                          break;
                      }
                    }
                
                    function cleanPatches(rawPatches){
                      var patches;
                
                      patches = removeLengthRelatedPatches(rawPatches);
                      patches = removeMultipleAddOrRemoveColPatches(patches);
                
                      return patches;
                    }
                
                    /**
                     * Removing or adding column will produce one patch for each table row.
                     * This function leaves only one patch for each column add/remove operation
                     */
                    function removeMultipleAddOrRemoveColPatches(rawPatches){
                      var newOrRemovedColumns = [];
                
                      return rawPatches.filter(function(patch){
                        var parsedPath = parsePath(patch.path);
                
                        if(['add', 'remove'].indexOf(patch.op) != -1 && !isNaN(parsedPath.col)){
                          if(newOrRemovedColumns.indexOf(parsedPath.col) != -1){
                            return false;
                          } else {
                            newOrRemovedColumns.push(parsedPath.col);
                          }
                        }
                
                        return true;
                      });
                
                    }
                
                    /**
                     * If observeChanges uses native Object.observe method, then it produces patches for length property.
                     * This function removes them.
                     */
                    function removeLengthRelatedPatches(rawPatches){
                      return rawPatches.filter(function(patch){
                        return !/[/]length/ig.test(patch.path);
                      })
                    }
                
                    function parsePath(path){
                      var match = path.match(/^\/(\d+)\/?(.*)?$/);
                      return {
                        row: parseInt(match[1], 10),
                        col: /^\d*$/.test(match[2]) ? parseInt(match[2], 10) : match[2]
                      }
                    }
                  }
                
                  function destroy(){
                    var instance = this;
                
                    if (instance.observer){
                      destroyObserver.call(instance);
                      unbindEvents.call(instance);
                    }
                  }
                
                  function destroyObserver(){
                    var instance = this;
                
                    jsonpatch.unobserve(instance.observedData, instance.observer);
                    delete instance.observeChangesActive;
                    delete instance.pauseObservingChanges;
                    delete instance.resumeObservingChanges;
                  }
                
                  function bindEvents(){
                    var instance = this;
                    instance.addHook('afterDestroy', destroy);
                
                    instance.addHook('afterCreateRow', afterTableAlter);
                    instance.addHook('afterRemoveRow', afterTableAlter);
                
                    instance.addHook('afterCreateCol', afterTableAlter);
                    instance.addHook('afterRemoveCol', afterTableAlter);
                
                    instance.addHook('afterChange', function(changes, source){
                      if(source != 'loadData'){
                        afterTableAlter.call(this);
                      }
                    });
                  }
                
                  function unbindEvents(){
                    var instance = this;
                    instance.removeHook('afterDestroy', destroy);
                
                    instance.removeHook('afterCreateRow', afterTableAlter);
                    instance.removeHook('afterRemoveRow', afterTableAlter);
                
                    instance.removeHook('afterCreateCol', afterTableAlter);
                    instance.removeHook('afterRemoveCol', afterTableAlter);
                
                    instance.removeHook('afterChange', afterTableAlter);
                  }
                
                  function afterTableAlter(){
                    var instance = this;
                
                    instance.pauseObservingChanges();
                
                    instance.addHookOnce('afterChangesObserved', function(){
                      instance.resumeObservingChanges();
                    });
                
                  }
                })();
                
                
                /*
                 *
                 * Plugin enables saving table state
                 *
                 * */
                
                
                function Storage(prefix) {
                
                  var savedKeys;
                
                  var saveSavedKeys = function () {
                    window.localStorage[prefix + '__' + 'persistentStateKeys'] = JSON.stringify(savedKeys);
                  };
                
                  var loadSavedKeys = function () {
                    var keysJSON = window.localStorage[prefix + '__' + 'persistentStateKeys'];
                    var keys = typeof keysJSON == 'string' ? JSON.parse(keysJSON) : void 0;
                    savedKeys = keys ? keys : [];
                  };
                
                  var clearSavedKeys = function () {
                    savedKeys = [];
                    saveSavedKeys();
                  };
                
                  loadSavedKeys();
                
                  this.saveValue = function (key, value) {
                    window.localStorage[prefix + '_' + key] = JSON.stringify(value);
                    if (savedKeys.indexOf(key) == -1) {
                      savedKeys.push(key);
                      saveSavedKeys();
                    }
                
                  };
                
                  this.loadValue = function (key, defaultValue) {
                
                    key = typeof key != 'undefined' ? key : defaultValue;
                
                    var value = window.localStorage[prefix + '_' + key];
                
                    return typeof value == "undefined" ? void 0 : JSON.parse(value);
                
                  };
                
                  this.reset = function (key) {
                    window.localStorage.removeItem(prefix + '_' + key);
                  };
                
                  this.resetAll = function () {
                    for (var index = 0; index < savedKeys.length; index++) {
                      window.localStorage.removeItem(prefix + '_' + savedKeys[index]);
                    }
                
                    clearSavedKeys();
                  };
                
                }
                
                
                (function (StorageClass) {
                  function HandsontablePersistentState() {
                    var plugin = this;
                
                
                    this.init = function () {
                      var instance = this,
                        pluginSettings = instance.getSettings()['persistentState'];
                
                      plugin.enabled = !!(pluginSettings);
                
                      if (!plugin.enabled) {
                        removeHooks.call(instance);
                        return;
                      }
                
                      if (!instance.storage) {
                        instance.storage = new StorageClass(instance.rootElement[0].id);
                      }
                
                      instance.resetState = plugin.resetValue;
                
                      addHooks.call(instance);
                
                    };
                
                    this.saveValue = function (key, value) {
                      var instance = this;
                
                      instance.storage.saveValue(key, value);
                    };
                
                    this.loadValue = function (key, saveTo) {
                      var instance = this;
                
                      saveTo.value = instance.storage.loadValue(key);
                    };
                
                    this.resetValue = function (key) {
                      var instance = this;
                
                      if (typeof  key != 'undefined') {
                        instance.storage.reset(key);
                      } else {
                        instance.storage.resetAll();
                      }
                
                    };
                
                    var hooks = {
                      'persistentStateSave': plugin.saveValue,
                      'persistentStateLoad': plugin.loadValue,
                      'persistentStateReset': plugin.resetValue
                    };
                
                    function addHooks() {
                      var instance = this;
                
                      for (var hookName in hooks) {
                        if (hooks.hasOwnProperty(hookName) && !hookExists.call(instance, hookName)) {
                          instance.PluginHooks.add(hookName, hooks[hookName]);
                        }
                      }
                    }
                
                    function removeHooks() {
                      var instance = this;
                
                      for (var hookName in hooks) {
                        if (hooks.hasOwnProperty(hookName) && hookExists.call(instance, hookName)) {
                          instance.PluginHooks.remove(hookName, hooks[hookName]);
                        }
                      }
                    }
                
                    function hookExists(hookName) {
                      var instance = this;
                      return instance.PluginHooks.hooks.hasOwnProperty(hookName);
                    }
                  }
                
                  var htPersistentState = new HandsontablePersistentState();
                  Handsontable.PluginHooks.add('beforeInit', htPersistentState.init);
                  Handsontable.PluginHooks.add('afterUpdateSettings', htPersistentState.init);
                })(Storage);
                
                /**
                 * Handsontable UndoRedo class
                 */
                (function(Handsontable){
                  Handsontable.UndoRedo = function (instance) {
                    var plugin = this;
                    this.instance = instance;
                    this.doneActions = [];
                    this.undoneActions = [];
                    this.ignoreNewActions = false;
                    instance.addHook("afterChange", function (changes, origin) {
                      if(changes){
                        var action = new Handsontable.UndoRedo.ChangeAction(changes);
                        plugin.done(action);
                      }
                    });
                
                    instance.addHook("afterCreateRow", function (index, amount, createdAutomatically) {
                
                      if (createdAutomatically) {
                        return;
                      }
                
                      var action = new Handsontable.UndoRedo.CreateRowAction(index, amount);
                      plugin.done(action);
                    });
                
                    instance.addHook("beforeRemoveRow", function (index, amount) {
                      var originalData = plugin.instance.getData();
                      index = ( originalData.length + index ) % originalData.length;
                      var removedData = originalData.slice(index, index + amount);
                      var action = new Handsontable.UndoRedo.RemoveRowAction(index, removedData);
                      plugin.done(action);
                    });
                
                    instance.addHook("afterCreateCol", function (index, amount, createdAutomatically) {
                
                      if (createdAutomatically) {
                        return;
                      }
                
                      var action = new Handsontable.UndoRedo.CreateColumnAction(index, amount);
                      plugin.done(action);
                    });
                
                    instance.addHook("beforeRemoveCol", function (index, amount) {
                      var originalData = plugin.instance.getData();
                      index = ( plugin.instance.countCols() + index ) % plugin.instance.countCols();
                      var removedData = [];
                
                      for (var i = 0, len = originalData.length; i < len; i++) {
                        removedData[i] = originalData[i].slice(index, index + amount);
                      }
                
                      var headers;
                      if(Handsontable.helper.isArray(instance.getSettings().colHeaders)){
                        headers = instance.getSettings().colHeaders.slice(index, index + removedData.length);
                      }
                
                      var action = new Handsontable.UndoRedo.RemoveColumnAction(index, removedData, headers);
                      plugin.done(action);
                    });
                  };
                
                  Handsontable.UndoRedo.prototype.done = function (action) {
                    if (!this.ignoreNewActions) {
                      this.doneActions.push(action);
                      this.undoneActions.length = 0;
                    }
                  };
                
                  /**
                   * Undo operation from current revision
                   */
                  Handsontable.UndoRedo.prototype.undo = function () {
                    if (this.isUndoAvailable()) {
                      var action = this.doneActions.pop();
                
                      this.ignoreNewActions = true;
                      var that = this;
                      action.undo(this.instance, function () {
                        that.ignoreNewActions = false;
                        that.undoneActions.push(action);
                      });
                
                
                
                    }
                  };
                
                  /**
                   * Redo operation from current revision
                   */
                  Handsontable.UndoRedo.prototype.redo = function () {
                    if (this.isRedoAvailable()) {
                      var action = this.undoneActions.pop();
                
                      this.ignoreNewActions = true;
                      var that = this;
                      action.redo(this.instance, function () {
                        that.ignoreNewActions = false;
                        that.doneActions.push(action);
                      });
                
                
                
                    }
                  };
                
                  /**
                   * Returns true if undo point is available
                   * @return {Boolean}
                   */
                  Handsontable.UndoRedo.prototype.isUndoAvailable = function () {
                    return this.doneActions.length > 0;
                  };
                
                  /**
                   * Returns true if redo point is available
                   * @return {Boolean}
                   */
                  Handsontable.UndoRedo.prototype.isRedoAvailable = function () {
                    return this.undoneActions.length > 0;
                  };
                
                  /**
                   * Clears undo history
                   */
                  Handsontable.UndoRedo.prototype.clear = function () {
                    this.doneActions.length = 0;
                    this.undoneActions.length = 0;
                  };
                
                  Handsontable.UndoRedo.Action = function () {
                  };
                  Handsontable.UndoRedo.Action.prototype.undo = function () {
                  };
                  Handsontable.UndoRedo.Action.prototype.redo = function () {
                  };
                
                  Handsontable.UndoRedo.ChangeAction = function (changes) {
                    this.changes = changes;
                  };
                  Handsontable.helper.inherit(Handsontable.UndoRedo.ChangeAction, Handsontable.UndoRedo.Action);
                  Handsontable.UndoRedo.ChangeAction.prototype.undo = function (instance, undoneCallback) {
                    var data = $.extend(true, [], this.changes);
                    for (var i = 0, len = data.length; i < len; i++) {
                      data[i].splice(3, 1);
                    }
                
                    instance.addHookOnce('afterChange', undoneCallback);
                
                    instance.setDataAtRowProp(data, null, null, 'undo');
                
                  };
                  Handsontable.UndoRedo.ChangeAction.prototype.redo = function (instance, onFinishCallback) {
                    var data = $.extend(true, [], this.changes);
                    for (var i = 0, len = data.length; i < len; i++) {
                      data[i].splice(2, 1);
                    }
                
                    instance.addHookOnce('afterChange', onFinishCallback);
                
                    instance.setDataAtRowProp(data, null, null, 'redo');
                
                  };
                
                  Handsontable.UndoRedo.CreateRowAction = function (index, amount) {
                    this.index = index;
                    this.amount = amount;
                  };
                  Handsontable.helper.inherit(Handsontable.UndoRedo.CreateRowAction, Handsontable.UndoRedo.Action);
                  Handsontable.UndoRedo.CreateRowAction.prototype.undo = function (instance, undoneCallback) {
                    instance.addHookOnce('afterRemoveRow', undoneCallback);
                    instance.alter('remove_row', this.index, this.amount);
                  };
                  Handsontable.UndoRedo.CreateRowAction.prototype.redo = function (instance, redoneCallback) {
                    instance.addHookOnce('afterCreateRow', redoneCallback);
                    instance.alter('insert_row', this.index + 1, this.amount);
                  };
                
                  Handsontable.UndoRedo.RemoveRowAction = function (index, data) {
                    this.index = index;
                    this.data = data;
                  };
                  Handsontable.helper.inherit(Handsontable.UndoRedo.RemoveRowAction, Handsontable.UndoRedo.Action);
                  Handsontable.UndoRedo.RemoveRowAction.prototype.undo = function (instance, undoneCallback) {
                    var spliceArgs = [this.index, 0];
                    Array.prototype.push.apply(spliceArgs, this.data);
                
                    Array.prototype.splice.apply(instance.getData(), spliceArgs);
                
                    instance.addHookOnce('afterRender', undoneCallback);
                    instance.render();
                  };
                  Handsontable.UndoRedo.RemoveRowAction.prototype.redo = function (instance, redoneCallback) {
                    instance.addHookOnce('afterRemoveRow', redoneCallback);
                    instance.alter('remove_row', this.index, this.data.length);
                  };
                
                  Handsontable.UndoRedo.CreateColumnAction = function (index, amount) {
                    this.index = index;
                    this.amount = amount;
                  };
                  Handsontable.helper.inherit(Handsontable.UndoRedo.CreateColumnAction, Handsontable.UndoRedo.Action);
                  Handsontable.UndoRedo.CreateColumnAction.prototype.undo = function (instance, undoneCallback) {
                    instance.addHookOnce('afterRemoveCol', undoneCallback);
                    instance.alter('remove_col', this.index, this.amount);
                  };
                  Handsontable.UndoRedo.CreateColumnAction.prototype.redo = function (instance, redoneCallback) {
                    instance.addHookOnce('afterCreateCol', redoneCallback);
                    instance.alter('insert_col', this.index + 1, this.amount);
                  };
                
                  Handsontable.UndoRedo.RemoveColumnAction = function (index, data, headers) {
                    this.index = index;
                    this.data = data;
                    this.amount = this.data[0].length;
                    this.headers = headers;
                  };
                  Handsontable.helper.inherit(Handsontable.UndoRedo.RemoveColumnAction, Handsontable.UndoRedo.Action);
                  Handsontable.UndoRedo.RemoveColumnAction.prototype.undo = function (instance, undoneCallback) {
                    var row, spliceArgs;
                    for (var i = 0, len = instance.getData().length; i < len; i++) {
                      row = instance.getDataAtRow(i);
                
                      spliceArgs = [this.index, 0];
                      Array.prototype.push.apply(spliceArgs, this.data[i]);
                
                      Array.prototype.splice.apply(row, spliceArgs);
                
                    }
                
                    if(typeof this.headers != 'undefined'){
                      spliceArgs = [this.index, 0];
                      Array.prototype.push.apply(spliceArgs, this.headers);
                      Array.prototype.splice.apply(instance.getSettings().colHeaders, spliceArgs);
                    }
                
                    instance.addHookOnce('afterRender', undoneCallback);
                    instance.render();
                  };
                  Handsontable.UndoRedo.RemoveColumnAction.prototype.redo = function (instance, redoneCallback) {
                    instance.addHookOnce('afterRemoveCol', redoneCallback);
                    instance.alter('remove_col', this.index, this.amount);
                  };
                })(Handsontable);
                
                (function(Handsontable){
                
                  function init(){
                    var instance = this;
                    var pluginEnabled = typeof instance.getSettings().undo == 'undefined' || instance.getSettings().undo;
                
                    if(pluginEnabled){
                      if(!instance.undoRedo){
                        instance.undoRedo = new Handsontable.UndoRedo(instance);
                
                        exposeUndoRedoMethods(instance);
                
                        instance.addHook('beforeKeyDown', onBeforeKeyDown);
                        instance.addHook('afterChange', onAfterChange);
                      }
                    } else {
                      if(instance.undoRedo){
                        delete instance.undoRedo;
                
                        removeExposedUndoRedoMethods(instance);
                
                        instance.removeHook('beforeKeyDown', onBeforeKeyDown);
                        instance.removeHook('afterChange', onAfterChange);
                      }
                    }
                  }
                
                  function onBeforeKeyDown(event){
                    var instance = this;
                
                    var ctrlDown = (event.ctrlKey || event.metaKey) && !event.altKey;
                
                    if(ctrlDown){
                      if (event.keyCode === 89 || (event.shiftKey && event.keyCode === 90)) { //CTRL + Y or CTRL + SHIFT + Z
                        instance.undoRedo.redo();
                        event.stopImmediatePropagation();
                      }
                      else if (event.keyCode === 90) { //CTRL + Z
                        instance.undoRedo.undo();
                        event.stopImmediatePropagation();
                      }
                    }
                  }
                
                  function onAfterChange(changes, source){
                    var instance = this;
                    if (source == 'loadData'){
                      return instance.undoRedo.clear();
                    }
                  }
                
                  function exposeUndoRedoMethods(instance){
                    instance.undo = function(){
                      return instance.undoRedo.undo();
                    };
                
                    instance.redo = function(){
                      return instance.undoRedo.redo();
                    };
                
                    instance.isUndoAvailable = function(){
                      return instance.undoRedo.isUndoAvailable();
                    };
                
                    instance.isRedoAvailable = function(){
                      return instance.undoRedo.isRedoAvailable();
                    };
                
                    instance.clearUndo = function(){
                      return instance.undoRedo.clear();
                    };
                  }
                
                  function removeExposedUndoRedoMethods(instance){
                    delete instance.undo;
                    delete instance.redo;
                    delete instance.isUndoAvailable;
                    delete instance.isRedoAvailable;
                    delete instance.clearUndo;
                  }
                
                  Handsontable.PluginHooks.add('afterInit', init);
                  Handsontable.PluginHooks.add('afterUpdateSettings', init);
                
                })(Handsontable);
                /**
                 * Plugin used to scroll Handsontable by selecting a cell and dragging outside of visible viewport
                 * @constructor
                 */
                function DragToScroll() {
                  this.boundaries = null;
                  this.callback = null;
                }
                
                /**
                 * @param boundaries {Object} compatible with getBoundingClientRect
                 */
                DragToScroll.prototype.setBoundaries = function (boundaries) {
                  this.boundaries = boundaries;
                };
                
                /**
                 * @param callback {Function}
                 */
                DragToScroll.prototype.setCallback = function (callback) {
                  this.callback = callback;
                };
                
                /**
                 * Check if mouse position (x, y) is outside of the viewport
                 * @param x
                 * @param y
                 */
                DragToScroll.prototype.check = function (x, y) {
                  var diffX = 0;
                  var diffY = 0;
                
                  if (y < this.boundaries.top) {
                    //y is less than top
                    diffY = y - this.boundaries.top;
                  }
                  else if (y > this.boundaries.bottom) {
                    //y is more than bottom
                    diffY = y - this.boundaries.bottom;
                  }
                
                  if (x < this.boundaries.left) {
                    //x is less than left
                    diffX = x - this.boundaries.left;
                  }
                  else if (x > this.boundaries.right) {
                    //x is more than right
                    diffX = x - this.boundaries.right;
                  }
                
                  this.callback(diffX, diffY);
                };
                
                var listening = false;
                var dragToScroll;
                var instance;
                
                if (typeof Handsontable !== 'undefined') {
                  var setupListening = function (instance) {
                    var scrollHandler = instance.view.wt.wtScrollbars.vertical.scrollHandler; //native scroll
                    dragToScroll = new DragToScroll();
                    if (scrollHandler === window) {
                      //not much we can do currently
                      return;
                    }
                    else if (scrollHandler) {
                      dragToScroll.setBoundaries(scrollHandler.getBoundingClientRect());
                    }
                    else {
                      dragToScroll.setBoundaries(instance.$table[0].getBoundingClientRect());
                    }
                
                    dragToScroll.setCallback(function (scrollX, scrollY) {
                      if (scrollX < 0) {
                        if (scrollHandler) {
                          scrollHandler.scrollLeft -= 50;
                        }
                        else {
                          instance.view.wt.scrollHorizontal(-1).draw();
                        }
                      }
                      else if (scrollX > 0) {
                        if (scrollHandler) {
                          scrollHandler.scrollLeft += 50;
                        }
                        else {
                          instance.view.wt.scrollHorizontal(1).draw();
                        }
                      }
                
                      if (scrollY < 0) {
                        if (scrollHandler) {
                          scrollHandler.scrollTop -= 20;
                        }
                        else {
                          instance.view.wt.scrollVertical(-1).draw();
                        }
                      }
                      else if (scrollY > 0) {
                        if (scrollHandler) {
                          scrollHandler.scrollTop += 20;
                        }
                        else {
                          instance.view.wt.scrollVertical(1).draw();
                        }
                      }
                    });
                
                    listening = true;
                  };
                
                  Handsontable.PluginHooks.add('afterInit', function () {
                    $(document).on('mouseup.' + this.guid, function () {
                      listening = false;
                    });
                
                    $(document).on('mousemove.' + this.guid, function (event) {
                      if (listening) {
                        dragToScroll.check(event.clientX, event.clientY);
                      }
                    });
                  });
                
                  Handsontable.PluginHooks.add('destroy', function () {
                    $(document).off('.' + this.guid);
                  });
                
                  Handsontable.PluginHooks.add('afterOnCellMouseDown', function () {
                    setupListening(this);
                  });
                
                  Handsontable.PluginHooks.add('afterOnCellCornerMouseDown', function () {
                    setupListening(this);
                  });
                
                  Handsontable.plugins.DragToScroll = DragToScroll;
                }
                
                (function (Handsontable, CopyPaste, SheetClip) {
                
                  function CopyPastePlugin(instance) {
                    this.copyPasteInstance = CopyPaste.getInstance();
                
                    this.copyPasteInstance.onCut(onCut);
                    this.copyPasteInstance.onPaste(onPaste);
                    var plugin = this;
                
                    instance.addHook('beforeKeyDown', onBeforeKeyDown);
                
                    function onCut() {
                      if (!instance.isListening()) {
                        return;
                      }
                
                      instance.selection.empty();
                    }
                
                    function onPaste(str) {
                      if (!instance.isListening() || !instance.selection.isSelected()) {
                        return;
                      }
                
                      var input = str.replace(/^[\r\n]*/g, '').replace(/[\r\n]*$/g, '') //remove newline from the start and the end of the input
                        , inputArray = SheetClip.parse(input)
                        , selected = instance.getSelected()
                        , coords = instance.getCornerCoords([{row: selected[0], col: selected[1]}, {row: selected[2], col: selected[3]}])
                        , areaStart = coords.TL
                        , areaEnd = {
                          row: Math.max(coords.BR.row, inputArray.length - 1 + coords.TL.row),
                          col: Math.max(coords.BR.col, inputArray[0].length - 1 + coords.TL.col)
                        };
                
                      instance.PluginHooks.once('afterChange', function (changes, source) {
                        if (changes && changes.length) {
                          this.selectCell(areaStart.row, areaStart.col, areaEnd.row, areaEnd.col);
                        }
                      });
                
                      instance.populateFromArray(areaStart.row, areaStart.col, inputArray, areaEnd.row, areaEnd.col, 'paste', instance.getSettings().pasteMode);
                    };
                
                    function onBeforeKeyDown (event) {
                      if (Handsontable.helper.isCtrlKey(event.keyCode) && instance.getSelected()) {
                        //when CTRL is pressed, prepare selectable text in textarea
                        //http://stackoverflow.com/questions/3902635/how-does-one-capture-a-macs-command-key-via-javascript
                        plugin.setCopyableText();
                        event.stopImmediatePropagation();
                        return;
                      }
                
                      var ctrlDown = (event.ctrlKey || event.metaKey) && !event.altKey; //catch CTRL but not right ALT (which in some systems triggers ALT+CTRL)
                
                      if (event.keyCode == Handsontable.helper.keyCode.A && ctrlDown) {
                        setTimeout(Handsontable.helper.proxy(plugin.setCopyableText, plugin));
                      }
                
                    }
                
                    this.destroy = function () {
                      this.copyPasteInstance.removeCallback(onCut);
                      this.copyPasteInstance.removeCallback(onPaste);
                      this.copyPasteInstance.destroy();
                      instance.removeHook('beforeKeyDown', onBeforeKeyDown);
                    };
                
                    instance.addHook('afterDestroy', Handsontable.helper.proxy(this.destroy, this));
                
                    this.triggerPaste = Handsontable.helper.proxy(this.copyPasteInstance.triggerPaste, this.copyPasteInstance);
                    this.triggerCut = Handsontable.helper.proxy(this.copyPasteInstance.triggerCut, this.copyPasteInstance);
                
                    /**
                     * Prepares copyable text in the invisible textarea
                     */
                    this.setCopyableText = function () {
                
                      var selection = instance.getSelected();
                      var settings = instance.getSettings();
                      var copyRowsLimit = settings.copyRowsLimit;
                      var copyColsLimit = settings.copyColsLimit;
                
                      var startRow = Math.min(selection[0], selection[2]);
                      var startCol = Math.min(selection[1], selection[3]);
                      var endRow = Math.max(selection[0], selection[2]);
                      var endCol = Math.max(selection[1], selection[3]);
                      var finalEndRow = Math.min(endRow, startRow + copyRowsLimit - 1);
                      var finalEndCol = Math.min(endCol, startCol + copyColsLimit - 1);
                
                      instance.copyPaste.copyPasteInstance.copyable(instance.getCopyableData(startRow, startCol, finalEndRow, finalEndCol));
                
                      if (endRow !== finalEndRow || endCol !== finalEndCol) {
                        instance.PluginHooks.run("afterCopyLimit", endRow - startRow + 1, endCol - startCol + 1, copyRowsLimit, copyColsLimit);
                      }
                    };
                
                  }
                
                
                
                  function init() {
                    var instance  = this;
                    var pluginEnabled = instance.getSettings().copyPaste !== false;
                
                    if(pluginEnabled && !instance.copyPaste){
                
                      instance.copyPaste = new CopyPastePlugin(instance);
                
                    } else if (!pluginEnabled && instance.copyPaste) {
                
                      instance.copyPaste.destroy();
                      delete instance.copyPaste;
                
                    }
                
                  }
                
                  Handsontable.PluginHooks.add('afterInit', init);
                  Handsontable.PluginHooks.add('afterUpdateSettings', init);
                
                })(Handsontable, CopyPaste, SheetClip);
                (function (Handsontable) {
                
                  
                
                  Handsontable.Search = function Search(instance) {
                    this.query = function (queryStr, callback, queryMethod) {
                      var rowCount = instance.countRows();
                      var colCount = instance.countCols();
                      var queryResult = [];
                
                      if (!callback) {
                        callback = Handsontable.Search.global.getDefaultCallback();
                      }
                
                      if (!queryMethod) {
                        queryMethod = Handsontable.Search.global.getDefaultQueryMethod();
                      }
                
                      for (var rowIndex = 0; rowIndex < rowCount; rowIndex++) {
                        for (var colIndex = 0; colIndex < colCount; colIndex++) {
                          var cellData = instance.getDataAtCell(rowIndex, colIndex);
                          var cellProperties = instance.getCellMeta(rowIndex, colIndex);
                          var cellCallback = cellProperties.search.callback || callback;
                          var cellQueryMethod = cellProperties.search.queryMethod || queryMethod;
                          var testResult = cellQueryMethod(queryStr, cellData);
                
                          if (testResult) {
                            var singleResult = {
                              row: rowIndex,
                              col: colIndex,
                              data: cellData
                            };
                
                            queryResult.push(singleResult);
                          }
                
                          if (cellCallback) {
                            cellCallback(instance, rowIndex, colIndex, cellData, testResult);
                          }
                        }
                      }
                
                      return queryResult;
                
                    };
                
                  };
                
                  Handsontable.Search.DEFAULT_CALLBACK = function (instance, row, col, data, testResult) {
                    instance.getCellMeta(row, col).isSearchResult = testResult;
                  };
                
                  Handsontable.Search.DEFAULT_QUERY_METHOD = function (query, value) {
                
                    if (typeof query == 'undefined' || query == null || !query.toLowerCase || query.length == 0){
                      return false;
                    }
                
                    return value.toString().toLowerCase().indexOf(query.toLowerCase()) != -1;
                  };
                
                  Handsontable.Search.DEFAULT_SEARCH_RESULT_CLASS = 'htSearchResult';
                
                  Handsontable.Search.global = (function () {
                
                    var defaultCallback = Handsontable.Search.DEFAULT_CALLBACK;
                    var defaultQueryMethod = Handsontable.Search.DEFAULT_QUERY_METHOD;
                    var defaultSearchResultClass = Handsontable.Search.DEFAULT_SEARCH_RESULT_CLASS;
                
                    return {
                      getDefaultCallback: function () {
                        return defaultCallback;
                      },
                
                      setDefaultCallback: function (newDefaultCallback) {
                        defaultCallback = newDefaultCallback;
                      },
                
                      getDefaultQueryMethod: function () {
                        return defaultQueryMethod;
                      },
                
                      setDefaultQueryMethod: function (newDefaultQueryMethod) {
                        defaultQueryMethod = newDefaultQueryMethod;
                      },
                
                      getDefaultSearchResultClass: function () {
                        return defaultSearchResultClass;
                      },
                
                      setDefaultSearchResultClass: function (newSearchResultClass) {
                        defaultSearchResultClass = newSearchResultClass;
                      }
                    }
                
                  })();
                
                
                
                  Handsontable.SearchCellDecorator = function (instance, TD, row, col, prop, value, cellProperties) {
                
                    var searchResultClass = (typeof cellProperties.search == 'object' && cellProperties.search.searchResultClass) || Handsontable.Search.global.getDefaultSearchResultClass();
                
                    if(cellProperties.isSearchResult){
                      Handsontable.Dom.addClass(TD, searchResultClass);
                    } else {
                      Handsontable.Dom.removeClass(TD, searchResultClass);
                    }
                  };
                
                
                
                  var originalDecorator = Handsontable.renderers.cellDecorator;
                
                  Handsontable.renderers.cellDecorator = function (instance, TD, row, col, prop, value, cellProperties) {
                    originalDecorator.apply(this, arguments);
                    Handsontable.SearchCellDecorator.apply(this, arguments);
                  };
                
                  function init() {
                    var instance = this;
                
                    var pluginEnabled = !!instance.getSettings().search;
                
                    if (pluginEnabled) {
                      instance.search = new Handsontable.Search(instance);
                    } else {
                      delete instance.search;
                    }
                
                  }
                
                  Handsontable.PluginHooks.add('afterInit', init);
                  Handsontable.PluginHooks.add('afterUpdateSettings', init);
                
                
                })(Handsontable);
                /**
                 * Creates an overlay over the original Walkontable instance. The overlay renders the clone of the original Walkontable
                 * and (optionally) implements behavior needed for native horizontal and vertical scrolling
                 */
                function WalkontableOverlay() {
                  this.maxOuts = 10; //max outs in one direction (before and after table)
                }
                
                /*
                 Possible optimizations:
                 [x] don't rerender if scroll delta is smaller than the fragment outside of the viewport
                 [ ] move .style.top change before .draw()
                 [ ] put .draw() in requestAnimationFrame
                 [ ] don't rerender rows that remain visible after the scroll
                 */
                
                WalkontableOverlay.prototype.init = function () {
                  this.TABLE = this.instance.wtTable.TABLE;
                  this.fixed = this.instance.wtTable.hider;
                  this.fixedContainer = this.instance.wtTable.holder;
                  this.fixed.style.position = 'absolute';
                  this.fixed.style.left = '0';
                  this.scrollHandler = this.getScrollableElement(this.TABLE);
                  this.$scrollHandler = $(this.scrollHandler); //in future remove jQuery from here
                };
                
                WalkontableOverlay.prototype.makeClone = function (direction) {
                  var clone = document.createElement('DIV');
                  clone.className = 'ht_clone_' + direction + ' handsontable';
                  clone.style.position = 'fixed';
                  clone.style.overflow = 'hidden';
                
                  var table2 = document.createElement('TABLE');
                  table2.className = this.instance.wtTable.TABLE.className;
                  clone.appendChild(table2);
                
                  this.instance.wtTable.holder.parentNode.appendChild(clone);
                
                  return new Walkontable({
                    cloneSource: this.instance,
                    cloneOverlay: this,
                    table: table2
                  });
                };
                
                WalkontableOverlay.prototype.getScrollableElement = function (TABLE) {
                  var el = TABLE.parentNode;
                  while (el && el.style) {
                    if (el.style.overflow !== 'visible' && el.style.overflow !== '') {
                      return el;
                    }
                    if (this instanceof WalkontableHorizontalScrollbarNative && el.style.overflowX !== 'visible' && el.style.overflowX !== '') {
                      return el;
                    }
                    el = el.parentNode;
                  }
                  return window;
                };
                
                WalkontableOverlay.prototype.prepare = function () {
                };
                
                WalkontableOverlay.prototype.onScroll = function (forcePosition) {
                
                  this.windowScrollPosition = this.getScrollPosition();
                  this.readSettings(); //read window scroll position
                
                  if (forcePosition) {
                    this.windowScrollPosition = forcePosition;
                  }
                
                  this.resetFixedPosition(); //may be redundant
                };
                
                WalkontableOverlay.prototype.availableSize = function () {
                  var availableSize;
                
                  if (this.windowScrollPosition > this.tableParentOffset /*&& last > -1*/) { //last -1 means that viewport is scrolled behind the table
                    if (this.instance.wtTable.getLastVisibleRow() === this.total - 1) {
                      availableSize = this.instance.wtDom.outerHeight(this.TABLE);
                    }
                    else {
                      availableSize = this.windowSize;
                    }
                  }
                  else {
                    availableSize = this.windowSize - (this.tableParentOffset);
                  }
                
                  return availableSize;
                };
                
                WalkontableOverlay.prototype.refresh = function (selectionsOnly) {
                  var last = this.getLastCell();
                  this.measureBefore = this.sumCellSizes(0, this.offset);
                  if (last === -1) { //last -1 means that viewport is scrolled behind the table
                    this.measureAfter = 0;
                  }
                  else {
                    this.measureAfter = this.sumCellSizes(last, this.total - last);
                  }
                  this.applyToDOM();
                  this.clone && this.clone.draw(selectionsOnly);
                };
                
                WalkontableOverlay.prototype.destroy = function () {
                  this.$scrollHandler.off('.' + this.instance.guid);
                  $(window).off('.' + this.instance.guid);
                  $(document).off('.' + this.instance.guid);
                };
                function WalkontableBorder(instance, settings) {
                  var style;
                
                  //reference to instance
                  this.instance = instance;
                  this.settings = settings;
                  this.wtDom = this.instance.wtDom;
                
                  this.main = document.createElement("div");
                  style = this.main.style;
                  style.position = 'absolute';
                  style.top = 0;
                  style.left = 0;
                //  style.visibility = 'hidden';
                
                  for (var i = 0; i < 5; i++) {
                    var DIV = document.createElement('DIV');
                    DIV.className = 'wtBorder ' + (settings.className || '');
                    style = DIV.style;
                    style.backgroundColor = settings.border.color;
                    style.height = settings.border.width + 'px';
                    style.width = settings.border.width + 'px';
                    this.main.appendChild(DIV);
                  }
                
                  this.top = this.main.childNodes[0];
                  this.left = this.main.childNodes[1];
                  this.bottom = this.main.childNodes[2];
                  this.right = this.main.childNodes[3];
                
                
                  /*$(this.top).on(sss, function(event) {
                   event.preventDefault();
                   event.stopImmediatePropagation();
                   $(this).hide();
                   });
                   $(this.left).on(sss, function(event) {
                   event.preventDefault();
                   event.stopImmediatePropagation();
                   $(this).hide();
                   });
                   $(this.bottom).on(sss, function(event) {
                   event.preventDefault();
                   event.stopImmediatePropagation();
                   $(this).hide();
                   });
                   $(this.right).on(sss, function(event) {
                   event.preventDefault();
                   event.stopImmediatePropagation();
                   $(this).hide();
                   });*/
                
                  this.topStyle = this.top.style;
                  this.leftStyle = this.left.style;
                  this.bottomStyle = this.bottom.style;
                  this.rightStyle = this.right.style;
                
                  this.corner = this.main.childNodes[4];
                  this.corner.className += ' corner';
                  this.cornerStyle = this.corner.style;
                  this.cornerStyle.width = '5px';
                  this.cornerStyle.height = '5px';
                  this.cornerStyle.border = '2px solid #FFF';
                
                  this.disappear();
                  if (!instance.wtTable.bordersHolder) {
                    instance.wtTable.bordersHolder = document.createElement('div');
                    instance.wtTable.bordersHolder.className = 'htBorders';
                    instance.wtTable.hider.appendChild(instance.wtTable.bordersHolder);
                
                  }
                  instance.wtTable.bordersHolder.appendChild(this.main);
                
                  var down = false;
                  var $body = $(document.body);
                
                  $body.on('mousedown.walkontable.' + instance.guid, function () {
                    down = true;
                  });
                
                  $body.on('mouseup.walkontable.' + instance.guid, function () {
                    down = false
                  });
                
                  $(this.main.childNodes).on('mouseenter', function (event) {
                    if (!down || !instance.getSetting('hideBorderOnMouseDownOver')) {
                      return;
                    }
                    event.preventDefault();
                    event.stopImmediatePropagation();
                
                    var bounds = this.getBoundingClientRect();
                
                    var $this = $(this);
                    $this.hide();
                
                    var isOutside = function (event) {
                      if (event.clientY < Math.floor(bounds.top)) {
                        return true;
                      }
                      if (event.clientY > Math.ceil(bounds.top + bounds.height)) {
                        return true;
                      }
                      if (event.clientX < Math.floor(bounds.left)) {
                        return true;
                      }
                      if (event.clientX > Math.ceil(bounds.left + bounds.width)) {
                        return true;
                      }
                    };
                
                    $body.on('mousemove.border.' + instance.guid, function (event) {
                      if (isOutside(event)) {
                        $body.off('mousemove.border.' + instance.guid);
                        $this.show();
                      }
                    });
                  });
                }
                
                /**
                 * Show border around one or many cells
                 * @param {Array} corners
                 */
                WalkontableBorder.prototype.appear = function (corners) {
                  var isMultiple, fromTD, toTD, fromOffset, toOffset, containerOffset, top, minTop, left, minLeft, height, width;
                  if (this.disabled) {
                    return;
                  }
                
                  var instance = this.instance
                    , fromRow
                    , fromColumn
                    , toRow
                    , toColumn
                    , hideTop = false
                    , hideLeft = false
                    , hideBottom = false
                    , hideRight = false
                    , i
                    , ilen
                    , s;
                
                  if (!instance.wtTable.isRowInViewport(corners[0])) {
                    hideTop = true;
                  }
                
                  if (!instance.wtTable.isRowInViewport(corners[2])) {
                    hideBottom = true;
                  }
                
                  ilen = instance.wtTable.rowStrategy.countVisible();
                
                  for (i = 0; i < ilen; i++) {
                    s = instance.wtTable.rowFilter.visibleToSource(i);
                    if (s >= corners[0] && s <= corners[2]) {
                      fromRow = s;
                      break;
                    }
                  }
                
                  for (i = ilen - 1; i >= 0; i--) {
                    s = instance.wtTable.rowFilter.visibleToSource(i);
                    if (s >= corners[0] && s <= corners[2]) {
                      toRow = s;
                      break;
                    }
                  }
                
                  if (hideTop && hideBottom) {
                    hideLeft = true;
                    hideRight = true;
                  }
                  else {
                    if (!instance.wtTable.isColumnInViewport(corners[1])) {
                      hideLeft = true;
                    }
                
                    if (!instance.wtTable.isColumnInViewport(corners[3])) {
                      hideRight = true;
                    }
                
                    ilen = instance.wtTable.columnStrategy.countVisible();
                
                    for (i = 0; i < ilen; i++) {
                      s = instance.wtTable.columnFilter.visibleToSource(i);
                      if (s >= corners[1] && s <= corners[3]) {
                        fromColumn = s;
                        break;
                      }
                    }
                
                    for (i = ilen - 1; i >= 0; i--) {
                      s = instance.wtTable.columnFilter.visibleToSource(i);
                      if (s >= corners[1] && s <= corners[3]) {
                        toColumn = s;
                        break;
                      }
                    }
                  }
                
                  if (fromRow !== void 0 && fromColumn !== void 0) {
                    isMultiple = (fromRow !== toRow || fromColumn !== toColumn);
                    fromTD = instance.wtTable.getCell([fromRow, fromColumn]);
                    toTD = isMultiple ? instance.wtTable.getCell([toRow, toColumn]) : fromTD;
                    fromOffset = this.wtDom.offset(fromTD);
                    toOffset = isMultiple ? this.wtDom.offset(toTD) : fromOffset;
                    containerOffset = this.wtDom.offset(instance.wtTable.TABLE);
                
                    minTop = fromOffset.top;
                    height = toOffset.top + this.wtDom.outerHeight(toTD) - minTop;
                    minLeft = fromOffset.left;
                    width = toOffset.left + this.wtDom.outerWidth(toTD) - minLeft;
                
                    top = minTop - containerOffset.top - 1;
                    left = minLeft - containerOffset.left - 1;
                
                    var style = this.wtDom.getComputedStyle(fromTD);
                    if (parseInt(style['borderTopWidth'], 10) > 0) {
                      top += 1;
                      height = height > 0 ? height - 1 : 0;
                    }
                    if (parseInt(style['borderLeftWidth'], 10) > 0) {
                      left += 1;
                      width = width > 0 ? width - 1 : 0;
                    }
                  }
                  else {
                    this.disappear();
                    return;
                  }
                
                  if (hideTop) {
                    this.topStyle.display = 'none';
                  }
                  else {
                    this.topStyle.top = top + 'px';
                    this.topStyle.left = left + 'px';
                    this.topStyle.width = width + 'px';
                    this.topStyle.display = 'block';
                  }
                
                  if (hideLeft) {
                    this.leftStyle.display = 'none';
                  }
                  else {
                    this.leftStyle.top = top + 'px';
                    this.leftStyle.left = left + 'px';
                    this.leftStyle.height = height + 'px';
                    this.leftStyle.display = 'block';
                  }
                
                  var delta = Math.floor(this.settings.border.width / 2);
                
                  if (hideBottom) {
                    this.bottomStyle.display = 'none';
                  }
                  else {
                    this.bottomStyle.top = top + height - delta + 'px';
                    this.bottomStyle.left = left + 'px';
                    this.bottomStyle.width = width + 'px';
                    this.bottomStyle.display = 'block';
                  }
                
                  if (hideRight) {
                    this.rightStyle.display = 'none';
                  }
                  else {
                    this.rightStyle.top = top + 'px';
                    this.rightStyle.left = left + width - delta + 'px';
                    this.rightStyle.height = height + 1 + 'px';
                    this.rightStyle.display = 'block';
                  }
                
                  if (hideBottom || hideRight || !this.hasSetting(this.settings.border.cornerVisible)) {
                    this.cornerStyle.display = 'none';
                  }
                  else {
                    this.cornerStyle.top = top + height - 4 + 'px';
                    this.cornerStyle.left = left + width - 4 + 'px';
                    this.cornerStyle.display = 'block';
                  }
                };
                
                /**
                 * Hide border
                 */
                WalkontableBorder.prototype.disappear = function () {
                  this.topStyle.display = 'none';
                  this.leftStyle.display = 'none';
                  this.bottomStyle.display = 'none';
                  this.rightStyle.display = 'none';
                  this.cornerStyle.display = 'none';
                };
                
                WalkontableBorder.prototype.hasSetting = function (setting) {
                  if (typeof setting === 'function') {
                    return setting();
                  }
                  return !!setting;
                };
                /**
                 * WalkontableCellFilter
                 * @constructor
                 */
                function WalkontableCellFilter() {
                  this.offset = 0;
                  this.total = 0;
                  this.fixedCount = 0;
                }
                
                WalkontableCellFilter.prototype.source = function (n) {
                  return n;
                };
                
                WalkontableCellFilter.prototype.offsetted = function (n) {
                  return n + this.offset;
                };
                
                WalkontableCellFilter.prototype.unOffsetted = function (n) {
                  return n - this.offset;
                };
                
                WalkontableCellFilter.prototype.fixed = function (n) {
                  if (n < this.fixedCount) {
                    return n - this.offset;
                  }
                  else {
                    return n;
                  }
                };
                
                WalkontableCellFilter.prototype.unFixed = function (n) {
                  if (n < this.fixedCount) {
                    return n + this.offset;
                  }
                  else {
                    return n;
                  }
                };
                
                WalkontableCellFilter.prototype.visibleToSource = function (n) {
                  return this.source(this.offsetted(this.fixed(n)));
                };
                
                WalkontableCellFilter.prototype.sourceToVisible = function (n) {
                  return this.source(this.unOffsetted(this.unFixed(n)));
                };
                /**
                 * WalkontableCellStrategy
                 * @constructor
                 */
                function WalkontableCellStrategy(instance) {
                  this.instance = instance;
                }
                
                WalkontableCellStrategy.prototype.getSize = function (index) {
                  return this.cellSizes[index];
                };
                
                WalkontableCellStrategy.prototype.getContainerSize = function (proposedSize) {
                  return typeof this.containerSizeFn === 'function' ? this.containerSizeFn(proposedSize) : this.containerSizeFn;
                };
                
                WalkontableCellStrategy.prototype.countVisible = function () {
                  return this.cellCount;
                };
                
                WalkontableCellStrategy.prototype.isLastIncomplete = function () {
                
                  if(this.instance.getSetting('nativeScrollbars')){
                
                    var nativeScrollbar = this.instance.cloneFrom ? this.instance.cloneFrom.wtScrollbars.vertical : this.instance.wtScrollbars.vertical;
                    return this.remainingSize > nativeScrollbar.sumCellSizes(nativeScrollbar.offset, nativeScrollbar.offset + nativeScrollbar.curOuts + 1);
                
                  } else {
                    return this.remainingSize > 0;
                  }
                
                };
                /**
                 * WalkontableClassNameList
                 * @constructor
                 */
                function WalkontableClassNameCache() {
                  this.cache = [];
                }
                
                WalkontableClassNameCache.prototype.add = function (r, c, cls) {
                  if (!this.cache[r]) {
                    this.cache[r] = [];
                  }
                  if (!this.cache[r][c]) {
                    this.cache[r][c] = [];
                  }
                  this.cache[r][c][cls] = true;
                };
                
                WalkontableClassNameCache.prototype.test = function (r, c, cls) {
                  return (this.cache[r] && this.cache[r][c] && this.cache[r][c][cls]);
                };
                /**
                 * WalkontableColumnFilter
                 * @constructor
                 */
                function WalkontableColumnFilter() {
                  this.countTH = 0;
                }
                
                WalkontableColumnFilter.prototype = new WalkontableCellFilter();
                
                WalkontableColumnFilter.prototype.readSettings = function (instance) {
                  this.offset = instance.wtSettings.settings.offsetColumn;
                  this.total = instance.getSetting('totalColumns');
                  this.fixedCount = instance.getSetting('fixedColumnsLeft');
                  this.countTH = instance.getSetting('rowHeaders').length;
                };
                
                WalkontableColumnFilter.prototype.offsettedTH = function (n) {
                  return n - this.countTH;
                };
                
                WalkontableColumnFilter.prototype.unOffsettedTH = function (n) {
                  return n + this.countTH;
                };
                
                WalkontableColumnFilter.prototype.visibleRowHeadedColumnToSourceColumn = function (n) {
                  return this.visibleToSource(this.offsettedTH(n));
                };
                
                WalkontableColumnFilter.prototype.sourceColumnToVisibleRowHeadedColumn = function (n) {
                  return this.unOffsettedTH(this.sourceToVisible(n));
                };
                /**
                 * WalkontableColumnStrategy
                 * @param containerSizeFn
                 * @param sizeAtIndex
                 * @param strategy - all, last, none
                 * @constructor
                 */
                function WalkontableColumnStrategy(instance, containerSizeFn, sizeAtIndex, strategy) {
                  var size
                    , i = 0;
                
                  WalkontableCellStrategy.apply(this, arguments);
                
                  this.containerSizeFn = containerSizeFn;
                  this.cellSizesSum = 0;
                  this.cellSizes = [];
                  this.cellStretch = [];
                  this.cellCount = 0;
                  this.remainingSize = 0;
                  this.strategy = strategy;
                
                  //step 1 - determine cells that fit containerSize and cache their widths
                  while (true) {
                    size = sizeAtIndex(i);
                    if (size === void 0) {
                      break; //total columns exceeded
                    }
                    if (this.cellSizesSum >= this.getContainerSize(this.cellSizesSum + size)) {
                      break; //total width exceeded
                    }
                    this.cellSizes.push(size);
                    this.cellSizesSum += size;
                    this.cellCount++;
                
                    i++;
                  }
                
                  var containerSize = this.getContainerSize(this.cellSizesSum);
                  this.remainingSize = this.cellSizesSum - containerSize;
                  //negative value means the last cell is fully visible and there is some space left for stretching
                  //positive value means the last cell is not fully visible
                }
                
                WalkontableColumnStrategy.prototype = new WalkontableCellStrategy();
                
                WalkontableColumnStrategy.prototype.getSize = function (index) {
                  return this.cellSizes[index] + (this.cellStretch[index] || 0);
                };
                
                WalkontableColumnStrategy.prototype.stretch = function () {
                  //step 2 - apply stretching strategy
                  var containerSize = this.getContainerSize(this.cellSizesSum)
                    , i = 0;
                  this.remainingSize = this.cellSizesSum - containerSize;
                
                  this.cellStretch.length = 0; //clear previous stretch
                
                  if (this.strategy === 'all') {
                    if (this.remainingSize < 0) {
                      var ratio = containerSize / this.cellSizesSum;
                      var newSize;
                
                      while (i < this.cellCount - 1) { //"i < this.cellCount - 1" is needed because last cellSize is adjusted after the loop
                        newSize = Math.floor(ratio * this.cellSizes[i]);
                        this.remainingSize += newSize - this.cellSizes[i];
                        this.cellStretch[i] = newSize - this.cellSizes[i];
                        i++;
                      }
                      this.cellStretch[this.cellCount - 1] = -this.remainingSize;
                      this.remainingSize = 0;
                    }
                  }
                  else if (this.strategy === 'last') {
                    if (this.remainingSize < 0 && containerSize !== Infinity) { //Infinity is with native scroll when the table is wider than the viewport (TODO: test)
                      this.cellStretch[this.cellCount - 1] = -this.remainingSize;
                      this.remainingSize = 0;
                    }
                  }
                };
                function Walkontable(settings) {
                  var that = this,
                    originalHeaders = [];
                
                  this.guid = 'wt_' + walkontableRandomString(); //this is the namespace for global events
                
                  //bootstrap from settings
                  this.wtDom = new WalkontableDom();
                  if (settings.cloneSource) {
                    this.cloneSource = settings.cloneSource;
                    this.cloneOverlay = settings.cloneOverlay;
                    this.wtSettings = settings.cloneSource.wtSettings;
                    this.wtTable = new WalkontableTable(this, settings.table);
                    this.wtScroll = new WalkontableScroll(this);
                    this.wtViewport = settings.cloneSource.wtViewport;
                  }
                  else {
                    this.wtSettings = new WalkontableSettings(this, settings);
                    this.wtTable = new WalkontableTable(this, settings.table);
                    this.wtScroll = new WalkontableScroll(this);
                    this.wtViewport = new WalkontableViewport(this);
                    this.wtScrollbars = new WalkontableScrollbars(this);
                    this.wtWheel = new WalkontableWheel(this);
                    this.wtEvent = new WalkontableEvent(this);
                  }
                
                  //find original headers
                  if (this.wtTable.THEAD.childNodes.length && this.wtTable.THEAD.childNodes[0].childNodes.length) {
                    for (var c = 0, clen = this.wtTable.THEAD.childNodes[0].childNodes.length; c < clen; c++) {
                      originalHeaders.push(this.wtTable.THEAD.childNodes[0].childNodes[c].innerHTML);
                    }
                    if (!this.getSetting('columnHeaders').length) {
                      this.update('columnHeaders', [function (column, TH) {
                        that.wtDom.fastInnerText(TH, originalHeaders[column]);
                      }]);
                    }
                  }
                
                  //initialize selections
                  this.selections = {};
                  var selectionsSettings = this.getSetting('selections');
                  if (selectionsSettings) {
                    for (var i in selectionsSettings) {
                      if (selectionsSettings.hasOwnProperty(i)) {
                        this.selections[i] = new WalkontableSelection(this, selectionsSettings[i]);
                      }
                    }
                  }
                
                  this.drawn = false;
                  this.drawInterrupted = false;
                
                  //at this point the cached row heights may be invalid, but it is better not to reset the cache, which could cause scrollbar jumping when there are multiline cells outside of the rendered part of the table
                  /*if (window.Handsontable) {
                    Handsontable.PluginHooks.add('beforeChange', function () {
                      if (that.rowHeightCache) {
                        that.rowHeightCache.length = 0;
                      }
                    });
                
                  }*/
                }
                
                Walkontable.prototype.draw = function (selectionsOnly) {
                  this.drawInterrupted = false;
                  if (!selectionsOnly && !this.wtDom.isVisible(this.wtTable.TABLE)) {
                    this.drawInterrupted = true; //draw interrupted because TABLE is not visible
                    return;
                  }
                
                  this.getSetting('beforeDraw', !selectionsOnly);
                  selectionsOnly = selectionsOnly && this.getSetting('offsetRow') === this.lastOffsetRow && this.getSetting('offsetColumn') === this.lastOffsetColumn;
                  if (this.drawn) { //fix offsets that might have changed
                    this.scrollVertical(0);
                    this.scrollHorizontal(0);
                  }
                  this.lastOffsetRow = this.getSetting('offsetRow');
                  this.lastOffsetColumn = this.getSetting('offsetColumn');
                  this.wtTable.draw(selectionsOnly);
                  if (!this.cloneSource) {
                    this.getSetting('onDraw',  !selectionsOnly);
                  }
                  return this;
                };
                
                Walkontable.prototype.update = function (settings, value) {
                  return this.wtSettings.update(settings, value);
                };
                
                Walkontable.prototype.scrollVertical = function (delta) {
                  var result = this.wtScroll.scrollVertical(delta);
                
                  this.getSetting('onScrollVertically');
                
                  return result;
                };
                
                Walkontable.prototype.scrollHorizontal = function (delta) {
                  var result = this.wtScroll.scrollHorizontal(delta);
                
                  this.getSetting('onScrollHorizontally');
                
                  return result;
                };
                
                Walkontable.prototype.scrollViewport = function (coords) {
                  this.wtScroll.scrollViewport(coords);
                  return this;
                };
                
                Walkontable.prototype.getViewport = function () {
                  return [
                    this.wtTable.rowFilter.visibleToSource(0),
                    this.wtTable.columnFilter.visibleToSource(0),
                    this.wtTable.getLastVisibleRow(),
                    this.wtTable.getLastVisibleColumn()
                  ];
                };
                
                Walkontable.prototype.getSetting = function (key, param1, param2, param3) {
                  return this.wtSettings.getSetting(key, param1, param2, param3);
                };
                
                Walkontable.prototype.hasSetting = function (key) {
                  return this.wtSettings.has(key);
                };
                
                Walkontable.prototype.destroy = function () {
                  $(document.body).off('.' + this.guid);
                  this.wtScrollbars.destroy();
                  clearTimeout(this.wheelTimeout);
                  this.wtEvent && this.wtEvent.destroy();
                };
                /**
                 * A overlay that renders ALL available rows & columns positioned on top of the original Walkontable instance and all other overlays.
                 * Used for debugging purposes to see if the other overlays (that render only part of the rows & columns) are positioned correctly
                 * @param instance
                 * @constructor
                 */
                function WalkontableDebugOverlay(instance) {
                  this.instance = instance;
                  this.init();
                  this.clone = this.makeClone('debug');
                  this.clone.wtTable.holder.style.opacity = 0.4;
                  this.clone.wtTable.holder.style.textShadow = '0 0 2px #ff0000';
                
                  var that = this;
                  var lastTimeout;
                  var lastX = 0;
                  var lastY = 0;
                  var overlayContainer = that.clone.wtTable.holder.parentNode;
                
                  $(document.body).on('mousemove.' + this.instance.guid, function (event) {
                    if (!that.instance.wtTable.holder.parentNode) {
                      return; //removed from DOM
                    }
                    if ((event.clientX - lastX > -5 && event.clientX - lastX < 5) && (event.clientY - lastY > -5 && event.clientY - lastY < 5)) {
                      return; //ignore minor mouse movement
                    }
                    lastX = event.clientX;
                    lastY = event.clientY;
                    WalkontableDom.prototype.addClass(overlayContainer, 'wtDebugHidden');
                    WalkontableDom.prototype.removeClass(overlayContainer, 'wtDebugVisible');
                    clearTimeout(lastTimeout);
                    lastTimeout = setTimeout(function () {
                      WalkontableDom.prototype.removeClass(overlayContainer, 'wtDebugHidden');
                      WalkontableDom.prototype.addClass(overlayContainer, 'wtDebugVisible');
                    }, 1000);
                  });
                }
                
                WalkontableDebugOverlay.prototype = new WalkontableOverlay();
                
                WalkontableDebugOverlay.prototype.resetFixedPosition = function () {
                  if (!this.instance.wtTable.holder.parentNode) {
                    return; //removed from DOM
                  }
                  var elem = this.clone.wtTable.holder.parentNode;
                  var box = this.instance.wtTable.holder.getBoundingClientRect();
                  elem.style.top = Math.ceil(box.top, 10) + 'px';
                  elem.style.left = Math.ceil(box.left, 10) + 'px';
                };
                
                WalkontableDebugOverlay.prototype.prepare = function () {
                };
                
                WalkontableDebugOverlay.prototype.refresh = function (selectionsOnly) {
                  this.clone && this.clone.draw(selectionsOnly);
                };
                
                WalkontableDebugOverlay.prototype.getScrollPosition = function () {
                };
                
                WalkontableDebugOverlay.prototype.getLastCell = function () {
                };
                
                WalkontableDebugOverlay.prototype.applyToDOM = function () {
                };
                
                WalkontableDebugOverlay.prototype.scrollTo = function () {
                };
                
                WalkontableDebugOverlay.prototype.readWindowSize = function () {
                };
                
                WalkontableDebugOverlay.prototype.readSettings = function () {
                };
                function WalkontableDom() {
                }
                
                //goes up the DOM tree (including given element) until it finds an element that matches the nodeName
                WalkontableDom.prototype.closest = function (elem, nodeNames, until) {
                  while (elem != null && elem !== until) {
                    if (elem.nodeType === 1 && nodeNames.indexOf(elem.nodeName) > -1) {
                      return elem;
                    }
                    elem = elem.parentNode;
                  }
                  return null;
                };
                
                //goes up the DOM tree and checks if element is child of another element
                WalkontableDom.prototype.isChildOf = function (child, parent) {
                  var node = child.parentNode;
                  while (node != null) {
                    if (node == parent) {
                      return true;
                    }
                    node = node.parentNode;
                  }
                  return false;
                };
                
                /**
                 * Counts index of element within its parent
                 * WARNING: for performance reasons, assumes there are only element nodes (no text nodes). This is true for Walkotnable
                 * Otherwise would need to check for nodeType or use previousElementSibling
                 * @see http://jsperf.com/sibling-index/10
                 * @param {Element} elem
                 * @return {Number}
                 */
                WalkontableDom.prototype.index = function (elem) {
                  var i = 0;
                  while (elem = elem.previousSibling) {
                    ++i
                  }
                  return i;
                };
                
                if (document.documentElement.classList) {
                  // HTML5 classList API
                  WalkontableDom.prototype.hasClass = function (ele, cls) {
                    return ele.classList.contains(cls);
                  };
                
                  WalkontableDom.prototype.addClass = function (ele, cls) {
                    ele.classList.add(cls);
                  };
                
                  WalkontableDom.prototype.removeClass = function (ele, cls) {
                    ele.classList.remove(cls);
                  };
                }
                else {
                  //http://snipplr.com/view/3561/addclass-removeclass-hasclass/
                  WalkontableDom.prototype.hasClass = function (ele, cls) {
                    return ele.className.match(new RegExp('(\\s|^)' + cls + '(\\s|$)'));
                  };
                
                  WalkontableDom.prototype.addClass = function (ele, cls) {
                    if (!this.hasClass(ele, cls)) ele.className += " " + cls;
                  };
                
                  WalkontableDom.prototype.removeClass = function (ele, cls) {
                    if (this.hasClass(ele, cls)) { //is this really needed?
                      var reg = new RegExp('(\\s|^)' + cls + '(\\s|$)');
                      ele.className = ele.className.replace(reg, ' ').trim(); //String.prototype.trim is defined in polyfill.js
                    }
                  };
                }
                
                /*//http://net.tutsplus.com/tutorials/javascript-ajax/javascript-from-null-cross-browser-event-binding/
                 WalkontableDom.prototype.addEvent = (function () {
                 var that = this;
                 if (document.addEventListener) {
                 return function (elem, type, cb) {
                 if ((elem && !elem.length) || elem === window) {
                 elem.addEventListener(type, cb, false);
                 }
                 else if (elem && elem.length) {
                 var len = elem.length;
                 for (var i = 0; i < len; i++) {
                 that.addEvent(elem[i], type, cb);
                 }
                 }
                 };
                 }
                 else {
                 return function (elem, type, cb) {
                 if ((elem && !elem.length) || elem === window) {
                 elem.attachEvent('on' + type, function () {
                
                 //normalize
                 //http://stackoverflow.com/questions/4643249/cross-browser-event-object-normalization
                 var e = window['event'];
                 e.target = e.srcElement;
                 //e.offsetX = e.layerX;
                 //e.offsetY = e.layerY;
                 e.relatedTarget = e.relatedTarget || e.type == 'mouseover' ? e.fromElement : e.toElement;
                 if (e.target.nodeType === 3) e.target = e.target.parentNode; //Safari bug
                
                 return cb.call(elem, e)
                 });
                 }
                 else if (elem.length) {
                 var len = elem.length;
                 for (var i = 0; i < len; i++) {
                 that.addEvent(elem[i], type, cb);
                 }
                 }
                 };
                 }
                 })();
                
                 WalkontableDom.prototype.triggerEvent = function (element, eventName, target) {
                 var event;
                 if (document.createEvent) {
                 event = document.createEvent("MouseEvents");
                 event.initEvent(eventName, true, true);
                 } else {
                 event = document.createEventObject();
                 event.eventType = eventName;
                 }
                
                 event.eventName = eventName;
                 event.target = target;
                
                 if (document.createEvent) {
                 target.dispatchEvent(event);
                 } else {
                 target.fireEvent("on" + event.eventType, event);
                 }
                 };*/
                
                WalkontableDom.prototype.removeTextNodes = function (elem, parent) {
                  if (elem.nodeType === 3) {
                    parent.removeChild(elem); //bye text nodes!
                  }
                  else if (['TABLE', 'THEAD', 'TBODY', 'TFOOT', 'TR'].indexOf(elem.nodeName) > -1) {
                    var childs = elem.childNodes;
                    for (var i = childs.length - 1; i >= 0; i--) {
                      this.removeTextNodes(childs[i], elem);
                    }
                  }
                };
                
                /**
                 * Remove childs function
                 * WARNING - this doesn't unload events and data attached by jQuery
                 * http://jsperf.com/jquery-html-vs-empty-vs-innerhtml/9
                 * http://jsperf.com/jquery-html-vs-empty-vs-innerhtml/11 - no siginificant improvement with Chrome remove() method
                 * @param element
                 * @returns {void}
                 */
                //
                WalkontableDom.prototype.empty = function (element) {
                  var child;
                  while (child = element.lastChild) {
                    element.removeChild(child);
                  }
                };
                
                WalkontableDom.prototype.HTML_CHARACTERS = /(<(.*)>|&(.*);)/;
                
                /**
                 * Insert content into element trying avoid innerHTML method.
                 * @return {void}
                 */
                WalkontableDom.prototype.fastInnerHTML = function (element, content) {
                  if (this.HTML_CHARACTERS.test(content)) {
                    element.innerHTML = content;
                  }
                  else {
                    this.fastInnerText(element, content);
                  }
                };
                
                /**
                 * Insert text content into element
                 * @return {void}
                 */
                if (document.createTextNode('test').textContent) { //STANDARDS
                  WalkontableDom.prototype.fastInnerText = function (element, content) {
                    var child = element.firstChild;
                    if (child && child.nodeType === 3 && child.nextSibling === null) {
                      //fast lane - replace existing text node
                      //http://jsperf.com/replace-text-vs-reuse
                      child.textContent = content;
                    }
                    else {
                      //slow lane - empty element and insert a text node
                      this.empty(element);
                      element.appendChild(document.createTextNode(content));
                    }
                  };
                }
                else { //IE8
                  WalkontableDom.prototype.fastInnerText = function (element, content) {
                    var child = element.firstChild;
                    if (child && child.nodeType === 3 && child.nextSibling === null) {
                      //fast lane - replace existing text node
                      //http://jsperf.com/replace-text-vs-reuse
                      child.data = content;
                    }
                    else {
                      //slow lane - empty element and insert a text node
                      this.empty(element);
                      element.appendChild(document.createTextNode(content));
                    }
                  };
                }
                
                /**
                 * Returns true/false depending if element has offset parent
                 * @param elem
                 * @returns {boolean}
                 */
                /*if (document.createTextNode('test').textContent) { //STANDARDS
                  WalkontableDom.prototype.hasOffsetParent = function (elem) {
                    return !!elem.offsetParent;
                  }
                }
                else {
                  WalkontableDom.prototype.hasOffsetParent = function (elem) {
                    try {
                      if (!elem.offsetParent) {
                        return false;
                      }
                    }
                    catch (e) {
                      return false; //IE8 throws "Unspecified error" when offsetParent is not found - we catch it here
                    }
                    return true;
                  }
                }*/
                
                /**
                 * Returns true if element is attached to the DOM and visible, false otherwise
                 * @param elem
                 * @returns {boolean}
                 */
                WalkontableDom.prototype.isVisible = function (elem) {
                  //fast method according to benchmarks, but requires layout so slow in our case
                  /*
                  if (!WalkontableDom.prototype.hasOffsetParent(elem)) {
                    return false; //fixes problem with UI Bootstrap <tabs> directive
                  }
                
                //  if (elem.offsetWidth > 0 || (elem.parentNode && elem.parentNode.offsetWidth > 0)) { //IE10 was mistaken here
                  if (elem.offsetWidth > 0) {
                    return true;
                  }
                  */
                
                  //slow method
                  var next = elem;
                  while (next !== document.documentElement) { //until <html> reached
                    if (next === null) { //parent detached from DOM
                      return false;
                    }
                    else if (next.nodeType === 11) {  //nodeType == 1 -> DOCUMENT_FRAGMENT_NODE
                      if (next.host) { //this is Web Components Shadow DOM
                        //see: http://w3c.github.io/webcomponents/spec/shadow/#encapsulation
                        //according to spec, should be if (next.ownerDocument !== window.document), but that doesn't work yet
                        if (next.host.impl) { //Chrome 33.0.1723.0 canary (2013-11-29) Web Platform features disabled
                          return WalkontableDom.prototype.isVisible(next.host.impl);
                        }
                        else if (next.host) { //Chrome 33.0.1723.0 canary (2013-11-29) Web Platform features enabled
                          return WalkontableDom.prototype.isVisible(next.host);
                        }
                        else {
                          throw new Error("Lost in Web Components world");
                        }
                      }
                      else {
                        return false; //this is a node detached from document in IE8
                      }
                    }
                    else if (next.style.display === 'none') {
                      return false;
                    }
                    next = next.parentNode;
                  }
                  return true;
                };
                
                /**
                 * Returns elements top and left offset relative to the document. In our usage case compatible with jQuery but 2x faster
                 * @param {HTMLElement} elem
                 * @return {Object}
                 */
                WalkontableDom.prototype.offset = function (elem) {
                  if (this.hasCaptionProblem() && elem.firstChild && elem.firstChild.nodeName === 'CAPTION') {
                    //fixes problem with Firefox ignoring <caption> in TABLE offset (see also WalkontableDom.prototype.outerHeight)
                    //http://jsperf.com/offset-vs-getboundingclientrect/8
                    var box = elem.getBoundingClientRect();
                    return {
                      top: box.top + (window.pageYOffset || document.documentElement.scrollTop) - (document.documentElement.clientTop || 0),
                      left: box.left + (window.pageXOffset || document.documentElement.scrollLeft) - (document.documentElement.clientLeft || 0)
                    };
                  }
                
                  var offsetLeft = elem.offsetLeft
                    , offsetTop = elem.offsetTop
                    , lastElem = elem;
                
                  while (elem = elem.offsetParent) {
                    if (elem === document.body) { //from my observation, document.body always has scrollLeft/scrollTop == 0
                      break;
                    }
                    offsetLeft += elem.offsetLeft;
                    offsetTop += elem.offsetTop;
                    lastElem = elem;
                  }
                
                  if (lastElem && lastElem.style.position === 'fixed') { //slow - http://jsperf.com/offset-vs-getboundingclientrect/6
                    //if(lastElem !== document.body) { //faster but does gives false positive in Firefox
                    offsetLeft += window.pageXOffset || document.documentElement.scrollLeft;
                    offsetTop += window.pageYOffset || document.documentElement.scrollTop;
                  }
                
                  return {
                    left: offsetLeft,
                    top: offsetTop
                  };
                };
                
                WalkontableDom.prototype.getComputedStyle = function (elem) {
                  return elem.currentStyle || document.defaultView.getComputedStyle(elem);
                };
                
                WalkontableDom.prototype.outerWidth = function (elem) {
                  return elem.offsetWidth;
                };
                
                WalkontableDom.prototype.outerHeight = function (elem) {
                  if (this.hasCaptionProblem() && elem.firstChild && elem.firstChild.nodeName === 'CAPTION') {
                    //fixes problem with Firefox ignoring <caption> in TABLE.offsetHeight
                    //jQuery (1.10.1) still has this unsolved
                    //may be better to just switch to getBoundingClientRect
                    //http://bililite.com/blog/2009/03/27/finding-the-size-of-a-table/
                    //http://lists.w3.org/Archives/Public/www-style/2009Oct/0089.html
                    //http://bugs.jquery.com/ticket/2196
                    //http://lists.w3.org/Archives/Public/www-style/2009Oct/0140.html#start140
                    return elem.offsetHeight + elem.firstChild.offsetHeight;
                  }
                  else {
                    return elem.offsetHeight;
                  }
                };
                
                (function () {
                  var hasCaptionProblem;
                
                  function detectCaptionProblem() {
                    var TABLE = document.createElement('TABLE');
                    TABLE.style.borderSpacing = 0;
                    TABLE.style.borderWidth = 0;
                    TABLE.style.padding = 0;
                    var TBODY = document.createElement('TBODY');
                    TABLE.appendChild(TBODY);
                    TBODY.appendChild(document.createElement('TR'));
                    TBODY.firstChild.appendChild(document.createElement('TD'));
                    TBODY.firstChild.firstChild.innerHTML = '<tr><td>t<br>t</td></tr>';
                
                    var CAPTION = document.createElement('CAPTION');
                    CAPTION.innerHTML = 'c<br>c<br>c<br>c';
                    CAPTION.style.padding = 0;
                    CAPTION.style.margin = 0;
                    TABLE.insertBefore(CAPTION, TBODY);
                
                    document.body.appendChild(TABLE);
                    hasCaptionProblem = (TABLE.offsetHeight < 2 * TABLE.lastChild.offsetHeight); //boolean
                    document.body.removeChild(TABLE);
                  }
                
                  WalkontableDom.prototype.hasCaptionProblem = function () {
                    if (hasCaptionProblem === void 0) {
                      detectCaptionProblem();
                    }
                    return hasCaptionProblem;
                  };
                
                  /**
                   * Returns caret position in text input
                   * @author http://stackoverflow.com/questions/263743/how-to-get-caret-position-in-textarea
                   * @return {Number}
                   */
                  WalkontableDom.prototype.getCaretPosition = function (el) {
                    if (el.selectionStart) {
                      return el.selectionStart;
                    }
                    else if (document.selection) { //IE8
                      el.focus();
                      var r = document.selection.createRange();
                      if (r == null) {
                        return 0;
                      }
                      var re = el.createTextRange(),
                        rc = re.duplicate();
                      re.moveToBookmark(r.getBookmark());
                      rc.setEndPoint('EndToStart', re);
                      return rc.text.length;
                    }
                    return 0;
                  };
                
                  /**
                   * Sets caret position in text input
                   * @author http://blog.vishalon.net/index.php/javascript-getting-and-setting-caret-position-in-textarea/
                   * @param {Element} el
                   * @param {Number} pos
                   * @param {Number} endPos
                   */
                  WalkontableDom.prototype.setCaretPosition = function (el, pos, endPos) {
                    if (endPos === void 0) {
                      endPos = pos;
                    }
                    if (el.setSelectionRange) {
                      el.focus();
                      el.setSelectionRange(pos, endPos);
                    }
                    else if (el.createTextRange) { //IE8
                      var range = el.createTextRange();
                      range.collapse(true);
                      range.moveEnd('character', endPos);
                      range.moveStart('character', pos);
                      range.select();
                    }
                  };
                
                  var cachedScrollbarWidth;
                  //http://stackoverflow.com/questions/986937/how-can-i-get-the-browsers-scrollbar-sizes
                  function walkontableCalculateScrollbarWidth() {
                    var inner = document.createElement('p');
                    inner.style.width = "100%";
                    inner.style.height = "200px";
                
                    var outer = document.createElement('div');
                    outer.style.position = "absolute";
                    outer.style.top = "0px";
                    outer.style.left = "0px";
                    outer.style.visibility = "hidden";
                    outer.style.width = "200px";
                    outer.style.height = "150px";
                    outer.style.overflow = "hidden";
                    outer.appendChild(inner);
                
                    (document.body || document.documentElement).appendChild(outer);
                    var w1 = inner.offsetWidth;
                    outer.style.overflow = 'scroll';
                    var w2 = inner.offsetWidth;
                    if (w1 == w2) w2 = outer.clientWidth;
                
                    (document.body || document.documentElement).removeChild(outer);
                
                    return (w1 - w2);
                  }
                
                  /**
                   * Returns the computed width of the native browser scroll bar
                   * @return {Number} width
                   */
                  WalkontableDom.prototype.getScrollbarWidth = function () {
                    if (cachedScrollbarWidth === void 0) {
                      cachedScrollbarWidth = walkontableCalculateScrollbarWidth();
                    }
                    return cachedScrollbarWidth;
                  }
                })();
                
                function WalkontableEvent(instance) {
                  var that = this;
                
                  //reference to instance
                  this.instance = instance;
                
                  this.wtDom = this.instance.wtDom;
                
                  var dblClickOrigin = [null, null];
                  var dblClickTimeout = [null, null];
                
                  var onMouseDown = function (event) {
                    var cell = that.parentCell(event.target);
                
                    if (that.wtDom.hasClass(event.target, 'corner')) {
                      that.instance.getSetting('onCellCornerMouseDown', event, event.target);
                    }
                    else if (cell.TD && cell.TD.nodeName === 'TD') {
                      if (that.instance.hasSetting('onCellMouseDown')) {
                        that.instance.getSetting('onCellMouseDown', event, cell.coords, cell.TD);
                      }
                    }
                
                    if (event.button !== 2) { //if not right mouse button
                      if (cell.TD && cell.TD.nodeName === 'TD') {
                        dblClickOrigin[0] = cell.TD;
                        clearTimeout(dblClickTimeout[0]);
                        dblClickTimeout[0] = setTimeout(function () {
                          dblClickOrigin[0] = null;
                        }, 1000);
                      }
                    }
                  };
                
                  var lastMouseOver;
                  var onMouseOver = function (event) {
                    if (that.instance.hasSetting('onCellMouseOver')) {
                      var TABLE = that.instance.wtTable.TABLE;
                      var TD = that.wtDom.closest(event.target, ['TD', 'TH'], TABLE);
                      if (TD && TD !== lastMouseOver && that.wtDom.isChildOf(TD, TABLE)) {
                        lastMouseOver = TD;
                        if (TD.nodeName === 'TD') {
                          that.instance.getSetting('onCellMouseOver', event, that.instance.wtTable.getCoords(TD), TD);
                        }
                      }
                    }
                  };
                
                /*  var lastMouseOut;
                  var onMouseOut = function (event) {
                    if (that.instance.hasSetting('onCellMouseOut')) {
                      var TABLE = that.instance.wtTable.TABLE;
                      var TD = that.wtDom.closest(event.target, ['TD', 'TH'], TABLE);
                      if (TD && TD !== lastMouseOut && that.wtDom.isChildOf(TD, TABLE)) {
                        lastMouseOut = TD;
                        if (TD.nodeName === 'TD') {
                          that.instance.getSetting('onCellMouseOut', event, that.instance.wtTable.getCoords(TD), TD);
                        }
                      }
                    }
                  };*/
                
                  var onMouseUp = function (event) {
                    if (event.button !== 2) { //if not right mouse button
                      var cell = that.parentCell(event.target);
                
                      if (cell.TD === dblClickOrigin[0] && cell.TD === dblClickOrigin[1]) {
                        if (that.wtDom.hasClass(event.target, 'corner')) {
                          that.instance.getSetting('onCellCornerDblClick', event, cell.coords, cell.TD);
                        }
                        else if (cell.TD) {
                          that.instance.getSetting('onCellDblClick', event, cell.coords, cell.TD);
                        }
                
                        dblClickOrigin[0] = null;
                        dblClickOrigin[1] = null;
                      }
                      else if (cell.TD === dblClickOrigin[0]) {
                        dblClickOrigin[1] = cell.TD;
                        clearTimeout(dblClickTimeout[1]);
                        dblClickTimeout[1] = setTimeout(function () {
                          dblClickOrigin[1] = null;
                        }, 500);
                      }
                    }
                  };
                
                  $(this.instance.wtTable.holder).on('mousedown', onMouseDown);
                  $(this.instance.wtTable.TABLE).on('mouseover', onMouseOver);
                //  $(this.instance.wtTable.TABLE).on('mouseout', onMouseOut);
                  $(this.instance.wtTable.holder).on('mouseup', onMouseUp);
                }
                
                WalkontableEvent.prototype.parentCell = function (elem) {
                  var cell = {};
                  var TABLE = this.instance.wtTable.TABLE;
                  var TD = this.wtDom.closest(elem, ['TD', 'TH'], TABLE);
                  if (TD && this.wtDom.isChildOf(TD, TABLE)) {
                    cell.coords = this.instance.wtTable.getCoords(TD);
                    cell.TD = TD;
                  }
                  else if (this.wtDom.hasClass(elem, 'wtBorder') && this.wtDom.hasClass(elem, 'current')) {
                    cell.coords = this.instance.selections.current.selected[0];
                    cell.TD = this.instance.wtTable.getCell(cell.coords);
                  }
                  return cell;
                };
                
                WalkontableEvent.prototype.destroy = function () {
                  clearTimeout(this.dblClickTimeout0);
                  clearTimeout(this.dblClickTimeout1);
                };
                function walkontableRangesIntersect() {
                  var from = arguments[0];
                  var to = arguments[1];
                  for (var i = 1, ilen = arguments.length / 2; i < ilen; i++) {
                    if (from <= arguments[2 * i + 1] && to >= arguments[2 * i]) {
                      return true;
                    }
                  }
                  return false;
                }
                
                /**
                 * Generates a random hex string. Used as namespace for Walkontable instance events.
                 * @return {String} - 16 character random string: "92b1bfc74ec4"
                 */
                function walkontableRandomString() {
                  function s4() {
                    return Math.floor((1 + Math.random()) * 0x10000)
                      .toString(16)
                      .substring(1);
                  }
                
                  return s4() + s4() + s4() + s4();
                }
                /**
                 * http://notes.jetienne.com/2011/05/18/cancelRequestAnimFrame-for-paul-irish-requestAnimFrame.html
                 */
                window.requestAnimFrame = (function () {
                  return  window.requestAnimationFrame ||
                    window.webkitRequestAnimationFrame ||
                    window.mozRequestAnimationFrame ||
                    window.oRequestAnimationFrame ||
                    window.msRequestAnimationFrame ||
                    function (/* function */ callback, /* DOMElement */ element) {
                      return window.setTimeout(callback, 1000 / 60);
                    };
                })();
                
                window.cancelRequestAnimFrame = (function () {
                  return window.cancelAnimationFrame ||
                    window.webkitCancelRequestAnimationFrame ||
                    window.mozCancelRequestAnimationFrame ||
                    window.oCancelRequestAnimationFrame ||
                    window.msCancelRequestAnimationFrame ||
                    clearTimeout
                })();
                
                //http://snipplr.com/view/13523/
                //modified for speed
                //http://jsperf.com/getcomputedstyle-vs-style-vs-css/8
                if (!window.getComputedStyle) {
                  (function () {
                    var elem;
                
                    var styleObj = {
                      getPropertyValue: function getPropertyValue(prop) {
                        if (prop == 'float') prop = 'styleFloat';
                        return elem.currentStyle[prop.toUpperCase()] || null;
                      }
                    };
                
                    window.getComputedStyle = function (el) {
                      elem = el;
                      return styleObj;
                    }
                  })();
                }
                
                /**
                 * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/Trim
                 */
                if (!String.prototype.trim) {
                  var trimRegex = /^\s+|\s+$/g;
                  String.prototype.trim = function () {
                    return this.replace(trimRegex, '');
                  };
                }
                /**
                 * WalkontableRowFilter
                 * @constructor
                 */
                function WalkontableRowFilter() {
                }
                
                WalkontableRowFilter.prototype = new WalkontableCellFilter();
                
                WalkontableRowFilter.prototype.readSettings = function (instance) {
                  if (instance.cloneOverlay instanceof WalkontableDebugOverlay) {
                    this.offset = 0;
                  }
                  else {
                    this.offset = instance.wtSettings.settings.offsetRow;
                  }
                  this.total = instance.getSetting('totalRows');
                  this.fixedCount = instance.getSetting('fixedRowsTop');
                };
                /**
                 * WalkontableRowStrategy
                 * @param containerSizeFn
                 * @param sizeAtIndex
                 * @constructor
                 */
                function WalkontableRowStrategy(instance, containerSizeFn, sizeAtIndex) {
                
                  WalkontableCellStrategy.apply(this, arguments);
                
                  this.containerSizeFn = containerSizeFn;
                  this.sizeAtIndex = sizeAtIndex;
                  this.cellSizesSum = 0;
                  this.cellSizes = [];
                  this.cellCount = 0;
                  this.remainingSize = -Infinity;
                }
                
                WalkontableRowStrategy.prototype = new WalkontableCellStrategy();
                
                WalkontableRowStrategy.prototype.add = function (i, TD, reverse) {
                  if (!this.isLastIncomplete() && this.remainingSize != 0) {
                    var size = this.sizeAtIndex(i, TD);
                    if (size === void 0) {
                      return false; //total rows exceeded
                    }
                    var containerSize = this.getContainerSize(this.cellSizesSum + size);
                    if (reverse) {
                      this.cellSizes.unshift(size);
                    }
                    else {
                      this.cellSizes.push(size);
                    }
                    this.cellSizesSum += size;
                    this.cellCount++;
                    this.remainingSize = this.cellSizesSum - containerSize;
                
                    if (reverse && this.isLastIncomplete()) { //something is outside of the screen, maybe even some full rows?
                      return false;
                    }
                    return true;
                  }
                  return false;
                };
                
                WalkontableRowStrategy.prototype.remove = function () {
                  var size = this.cellSizes.pop();
                  this.cellSizesSum -= size;
                  this.cellCount--;
                  this.remainingSize -= size;
                };
                
                WalkontableRowStrategy.prototype.removeOutstanding = function () {
                  while (this.cellCount > 0 && this.cellSizes[this.cellCount - 1] < this.remainingSize) { //this row is completely off screen!
                    this.remove();
                  }
                };
                function WalkontableScroll(instance) {
                  this.instance = instance;
                }
                
                WalkontableScroll.prototype.scrollVertical = function (delta) {
                  if (!this.instance.drawn) {
                    throw new Error('scrollVertical can only be called after table was drawn to DOM');
                  }
                
                  var instance = this.instance
                    , newOffset
                    , offset = instance.getSetting('offsetRow')
                    , fixedCount = instance.getSetting('fixedRowsTop')
                    , total = instance.getSetting('totalRows')
                    , maxSize = instance.wtViewport.getViewportHeight();
                
                  if (total > 0) {
                    newOffset = this.scrollLogicVertical(delta, offset, total, fixedCount, maxSize, function (row) {
                      if (row - offset < fixedCount && row - offset >= 0) {
                        return instance.getSetting('rowHeight', row - offset);
                      }
                      else {
                        return instance.getSetting('rowHeight', row);
                      }
                    }, function (isReverse) {
                      instance.wtTable.verticalRenderReverse = isReverse;
                    });
                  }
                  else {
                    newOffset = 0;
                  }
                
                  if (newOffset !== offset) {
                    this.instance.wtScrollbars.vertical.scrollTo(newOffset);
                  }
                  return instance;
                };
                
                WalkontableScroll.prototype.scrollHorizontal = function (delta) {
                  if (!this.instance.drawn) {
                    throw new Error('scrollHorizontal can only be called after table was drawn to DOM');
                  }
                
                  var instance = this.instance
                    , newOffset
                    , offset = instance.getSetting('offsetColumn')
                    , fixedCount = instance.getSetting('fixedColumnsLeft')
                    , total = instance.getSetting('totalColumns')
                    , maxSize = instance.wtViewport.getViewportWidth();
                
                  if (total > 0) {
                    newOffset = this.scrollLogicHorizontal(delta, offset, total, fixedCount, maxSize, function (col) {
                      if (col - offset < fixedCount && col - offset >= 0) {
                        return instance.getSetting('columnWidth', col - offset);
                      }
                      else {
                        return instance.getSetting('columnWidth', col);
                      }
                    });
                  }
                  else {
                    newOffset = 0;
                  }
                
                  if (newOffset !== offset) {
                    this.instance.wtScrollbars.horizontal.scrollTo(newOffset);
                  }
                  return instance;
                };
                
                WalkontableScroll.prototype.scrollLogicVertical = function (delta, offset, total, fixedCount, maxSize, cellSizeFn, setReverseRenderFn) {
                  var newOffset = offset + delta;
                
                  if (newOffset >= total - fixedCount) {
                    newOffset = total - fixedCount - 1;
                    setReverseRenderFn(true);
                  }
                
                  if (newOffset < 0) {
                    newOffset = 0;
                  }
                
                  return newOffset;
                };
                
                WalkontableScroll.prototype.scrollLogicHorizontal = function (delta, offset, total, fixedCount, maxSize, cellSizeFn) {
                  var newOffset = offset + delta
                    , sum = 0
                    , col;
                
                  if (newOffset > fixedCount) {
                    if (newOffset >= total - fixedCount) {
                      newOffset = total - fixedCount - 1;
                    }
                
                    col = newOffset;
                    while (sum < maxSize && col < total) {
                      sum += cellSizeFn(col);
                      col++;
                    }
                
                    if (sum < maxSize) {
                      while (newOffset > 0) {
                        //if sum still less than available width, we cannot scroll that far (must move offset to the left)
                        sum += cellSizeFn(newOffset - 1);
                        if (sum < maxSize) {
                          newOffset--;
                        }
                        else {
                          break;
                        }
                      }
                    }
                  }
                  else if (newOffset < 0) {
                    newOffset = 0;
                  }
                
                  return newOffset;
                };
                
                /**
                 * Scrolls viewport to a cell by minimum number of cells
                 */
                WalkontableScroll.prototype.scrollViewport = function (coords) {
                  if (!this.instance.drawn) {
                    return;
                  }
                
                  var offsetRow = this.instance.getSetting('offsetRow')
                    , offsetColumn = this.instance.getSetting('offsetColumn')
                    , lastVisibleRow = this.instance.wtTable.getLastVisibleRow()
                    , totalRows = this.instance.getSetting('totalRows')
                    , totalColumns = this.instance.getSetting('totalColumns')
                    , fixedRowsTop = this.instance.getSetting('fixedRowsTop')
                    , fixedColumnsLeft = this.instance.getSetting('fixedColumnsLeft');
                
                  if (this.instance.getSetting('nativeScrollbars')) {
                    var TD = this.instance.wtTable.getCell(coords);
                    if (typeof TD === 'object') {
                      var offset = WalkontableDom.prototype.offset(TD);
                      var outerWidth = WalkontableDom.prototype.outerWidth(TD);
                      var outerHeight = WalkontableDom.prototype.outerHeight(TD);
                      var scrollX = this.instance.wtScrollbars.horizontal.getScrollPosition();
                      var scrollY = this.instance.wtScrollbars.vertical.getScrollPosition();
                      var clientWidth = WalkontableDom.prototype.outerWidth(this.instance.wtScrollbars.horizontal.scrollHandler);
                      var clientHeight = WalkontableDom.prototype.outerHeight(this.instance.wtScrollbars.vertical.scrollHandler);
                      if (this.instance.wtScrollbars.horizontal.scrollHandler !== window) {
                        offset.left = offset.left - WalkontableDom.prototype.offset(this.instance.wtScrollbars.horizontal.scrollHandler).left;
                      }
                      if (this.instance.wtScrollbars.vertical.scrollHandler !== window) {
                        offset.top = offset.top - WalkontableDom.prototype.offset(this.instance.wtScrollbars.vertical.scrollHandler).top;
                      }
                
                      clientWidth -= 20;
                      clientHeight -= 20;
                
                      if (outerWidth < clientWidth) {
                        if (offset.left < scrollX) {
                          this.instance.wtScrollbars.horizontal.setScrollPosition(offset.left);
                        }
                        else if (offset.left + outerWidth > scrollX + clientWidth) {
                          this.instance.wtScrollbars.horizontal.setScrollPosition(offset.left - clientWidth + outerWidth);
                        }
                      }
                      if (outerHeight < clientHeight) {
                        if (offset.top < scrollY) {
                          this.instance.wtScrollbars.vertical.setScrollPosition(offset.top);
                        }
                        else if (offset.top + outerHeight > scrollY + clientHeight) {
                          this.instance.wtScrollbars.vertical.setScrollPosition(offset.top - clientHeight + outerHeight);
                        }
                      }
                      return;
                    }
                  }
                
                  if (coords[0] < 0 || coords[0] > totalRows - 1) {
                    throw new Error('row ' + coords[0] + ' does not exist');
                  }
                  else if (coords[1] < 0 || coords[1] > totalColumns - 1) {
                    throw new Error('column ' + coords[1] + ' does not exist');
                  }
                
                  if (coords[0] > lastVisibleRow) {
                //    this.scrollVertical(coords[0] - lastVisibleRow + 1);
                    this.scrollVertical(coords[0] - fixedRowsTop - offsetRow);
                    this.instance.wtTable.verticalRenderReverse = true;
                  }
                  else if (coords[0] === lastVisibleRow && this.instance.wtTable.rowStrategy.isLastIncomplete()) {
                //    this.scrollVertical(coords[0] - lastVisibleRow + 1);
                    this.scrollVertical(coords[0] - fixedRowsTop - offsetRow);
                    this.instance.wtTable.verticalRenderReverse = true;
                  }
                  else if (coords[0] - fixedRowsTop < offsetRow) {
                    this.scrollVertical(coords[0] - fixedRowsTop - offsetRow);
                  }
                  else {
                    this.scrollVertical(0); //Craig's issue: remove row from the last scroll page should scroll viewport a row up if needed
                  }
                
                  if (this.instance.wtTable.isColumnBeforeViewport(coords[1])) {
                    //scroll left
                    this.instance.wtScrollbars.horizontal.scrollTo(coords[1] - fixedColumnsLeft);
                  }
                  else if (this.instance.wtTable.isColumnAfterViewport(coords[1]) || (this.instance.wtTable.getLastVisibleColumn() === coords[1] && !this.instance.wtTable.isLastColumnFullyVisible())) {
                    //scroll right
                    var sum = 0;
                    for (var i = 0; i < fixedColumnsLeft; i++) {
                      sum += this.instance.getSetting('columnWidth', i);
                    }
                    var scrollTo = coords[1];
                    sum += this.instance.getSetting('columnWidth', scrollTo);
                    var available = this.instance.wtViewport.getViewportWidth();
                    if (sum < available) {
                      var next = this.instance.getSetting('columnWidth', scrollTo - 1);
                      while (sum + next <= available && scrollTo >= fixedColumnsLeft) {
                        scrollTo--;
                        sum += next;
                        next = this.instance.getSetting('columnWidth', scrollTo - 1);
                      }
                    }
                
                    this.instance.wtScrollbars.horizontal.scrollTo(scrollTo - fixedColumnsLeft);
                  }
                  /*else {
                   //no scroll
                   }*/
                
                  return this.instance;
                };
                
                function WalkontableScrollbar() {
                }
                
                WalkontableScrollbar.prototype.init = function () {
                  var that = this;
                
                  //reference to instance
                  this.$table = $(this.instance.wtTable.TABLE);
                
                  //create elements
                  this.slider = document.createElement('DIV');
                  this.sliderStyle = this.slider.style;
                  this.sliderStyle.position = 'absolute';
                  this.sliderStyle.top = '0';
                  this.sliderStyle.left = '0';
                  this.sliderStyle.display = 'none';
                  this.slider.className = 'dragdealer ' + this.type;
                
                  this.handle = document.createElement('DIV');
                  this.handleStyle = this.handle.style;
                  this.handle.className = 'handle';
                
                  this.slider.appendChild(this.handle);
                  this.container = this.instance.wtTable.holder;
                  this.container.appendChild(this.slider);
                
                  var firstRun = true;
                  this.dragTimeout = null;
                  var dragDelta;
                  var dragRender = function () {
                    that.onScroll(dragDelta);
                  };
                
                  this.dragdealer = new Dragdealer(this.slider, {
                    vertical: (this.type === 'vertical'),
                    horizontal: (this.type === 'horizontal'),
                    slide: false,
                    speed: 100,
                    animationCallback: function (x, y) {
                      if (firstRun) {
                        firstRun = false;
                        return;
                      }
                      that.skipRefresh = true;
                      dragDelta = that.type === 'vertical' ? y : x;
                      if (that.dragTimeout === null) {
                        that.dragTimeout = setInterval(dragRender, 100);
                        dragRender();
                      }
                    },
                    callback: function (x, y) {
                      that.skipRefresh = false;
                      clearInterval(that.dragTimeout);
                      that.dragTimeout = null;
                      dragDelta = that.type === 'vertical' ? y : x;
                      that.onScroll(dragDelta);
                    }
                  });
                  this.skipRefresh = false;
                };
                
                WalkontableScrollbar.prototype.onScroll = function (delta) {
                  if (this.instance.drawn) {
                    this.readSettings();
                    if (this.total > this.visibleCount) {
                      var newOffset = Math.round(this.handlePosition * this.total / this.sliderSize);
                
                      if (delta === 1) {
                        if (this.type === 'vertical') {
                          this.instance.scrollVertical(Infinity).draw();
                        }
                        else {
                          this.instance.scrollHorizontal(Infinity).draw();
                        }
                      }
                      else if (newOffset !== this.offset) { //is new offset different than old offset
                        if (this.type === 'vertical') {
                          this.instance.scrollVertical(newOffset - this.offset).draw();
                        }
                        else {
                          this.instance.scrollHorizontal(newOffset - this.offset).draw();
                        }
                      }
                      else {
                        this.refresh();
                      }
                    }
                  }
                };
                
                /**
                 * Returns what part of the scroller should the handle take
                 * @param viewportCount {Number} number of visible rows or columns
                 * @param totalCount {Number} total number of rows or columns
                 * @return {Number} 0..1
                 */
                WalkontableScrollbar.prototype.getHandleSizeRatio = function (viewportCount, totalCount) {
                  if (!totalCount || viewportCount > totalCount || viewportCount == totalCount) {
                    return 1;
                  }
                  return 1 / totalCount;
                };
                
                WalkontableScrollbar.prototype.prepare = function () {
                  if (this.skipRefresh) {
                    return;
                  }
                  var ratio = this.getHandleSizeRatio(this.visibleCount, this.total);
                  if (((ratio === 1 || isNaN(ratio)) && this.scrollMode === 'auto') || this.scrollMode === 'none') {
                    //isNaN is needed because ratio equals NaN when totalRows/totalColumns equals 0
                    this.visible = false;
                  }
                  else {
                    this.visible = true;
                  }
                };
                
                WalkontableScrollbar.prototype.refresh = function () {
                  if (this.skipRefresh) {
                    return;
                  }
                  else if (!this.visible) {
                    this.sliderStyle.display = 'none';
                    return;
                  }
                
                  var ratio
                    , sliderSize
                    , handleSize
                    , handlePosition
                    , visibleCount = this.visibleCount
                    , tableWidth = this.instance.wtViewport.getWorkspaceWidth()
                    , tableHeight = this.instance.wtViewport.getWorkspaceHeight();
                
                  if (tableWidth === Infinity) {
                    tableWidth = this.instance.wtViewport.getWorkspaceActualWidth();
                  }
                
                  if (tableHeight === Infinity) {
                    tableHeight = this.instance.wtViewport.getWorkspaceActualHeight();
                  }
                
                  if (this.type === 'vertical') {
                    if (this.instance.wtTable.rowStrategy.isLastIncomplete()) {
                      visibleCount--;
                    }
                
                    sliderSize = tableHeight - 2; //2 is sliders border-width
                
                    this.sliderStyle.top = this.instance.wtDom.offset(this.$table[0]).top - this.instance.wtDom.offset(this.container).top + 'px';
                    this.sliderStyle.left = tableWidth - 1 + 'px'; //1 is sliders border-width
                    this.sliderStyle.height = Math.max(sliderSize, 0) + 'px';
                  }
                  else { //horizontal
                    sliderSize = tableWidth - 2; //2 is sliders border-width
                
                    this.sliderStyle.left = this.instance.wtDom.offset(this.$table[0]).left - this.instance.wtDom.offset(this.container).left + 'px';
                    this.sliderStyle.top = tableHeight - 1 + 'px'; //1 is sliders border-width
                    this.sliderStyle.width = Math.max(sliderSize, 0) + 'px';
                  }
                
                  ratio = this.getHandleSizeRatio(visibleCount, this.total);
                  handleSize = Math.round(sliderSize * ratio);
                  if (handleSize < 10) {
                    handleSize = 15;
                  }
                
                  handlePosition = Math.floor(sliderSize * (this.offset / this.total));
                  if (handleSize + handlePosition > sliderSize) {
                    handlePosition = sliderSize - handleSize;
                  }
                
                  if (this.type === 'vertical') {
                    this.handleStyle.height = handleSize + 'px';
                    this.handleStyle.top = handlePosition + 'px';
                
                  }
                  else { //horizontal
                    this.handleStyle.width = handleSize + 'px';
                    this.handleStyle.left = handlePosition + 'px';
                  }
                
                  this.sliderStyle.display = 'block';
                };
                
                WalkontableScrollbar.prototype.destroy = function () {
                  clearInterval(this.dragdealer.interval);
                };
                
                ///
                
                var WalkontableVerticalScrollbar = function (instance) {
                  this.instance = instance;
                  this.type = 'vertical';
                  this.init();
                };
                
                WalkontableVerticalScrollbar.prototype = new WalkontableScrollbar();
                
                WalkontableVerticalScrollbar.prototype.scrollTo = function (cell) {
                  this.instance.update('offsetRow', cell);
                };
                
                WalkontableVerticalScrollbar.prototype.readSettings = function () {
                  this.scrollMode = this.instance.getSetting('scrollV');
                  this.offset = this.instance.getSetting('offsetRow');
                  this.total = this.instance.getSetting('totalRows');
                  this.visibleCount = this.instance.wtTable.rowStrategy.countVisible();
                  if(this.visibleCount > 1 && this.instance.wtTable.rowStrategy.isLastIncomplete()) {
                    this.visibleCount--;
                  }
                  this.handlePosition = parseInt(this.handleStyle.top, 10);
                  this.sliderSize = parseInt(this.sliderStyle.height, 10);
                  this.fixedCount = this.instance.getSetting('fixedRowsTop');
                };
                
                ///
                
                var WalkontableHorizontalScrollbar = function (instance) {
                  this.instance = instance;
                  this.type = 'horizontal';
                  this.init();
                };
                
                WalkontableHorizontalScrollbar.prototype = new WalkontableScrollbar();
                
                WalkontableHorizontalScrollbar.prototype.scrollTo = function (cell) {
                  this.instance.update('offsetColumn', cell);
                };
                
                WalkontableHorizontalScrollbar.prototype.readSettings = function () {
                  this.scrollMode = this.instance.getSetting('scrollH');
                  this.offset = this.instance.getSetting('offsetColumn');
                  this.total = this.instance.getSetting('totalColumns');
                  this.visibleCount = this.instance.wtTable.columnStrategy.countVisible();
                  if(this.visibleCount > 1 && this.instance.wtTable.columnStrategy.isLastIncomplete()) {
                    this.visibleCount--;
                  }
                  this.handlePosition = parseInt(this.handleStyle.left, 10);
                  this.sliderSize = parseInt(this.sliderStyle.width, 10);
                  this.fixedCount = this.instance.getSetting('fixedColumnsLeft');
                };
                
                WalkontableHorizontalScrollbar.prototype.getHandleSizeRatio = function (viewportCount, totalCount) {
                  if (!totalCount || viewportCount > totalCount || viewportCount == totalCount) {
                    return 1;
                  }
                  return viewportCount / totalCount;
                };
                function WalkontableCornerScrollbarNative(instance) {
                  this.instance = instance;
                  this.init();
                  this.clone = this.makeClone('corner');
                }
                
                WalkontableCornerScrollbarNative.prototype = new WalkontableOverlay();
                
                WalkontableCornerScrollbarNative.prototype.resetFixedPosition = function () {
                  if (!this.instance.wtTable.holder.parentNode) {
                    return; //removed from DOM
                  }
                  var elem = this.clone.wtTable.holder.parentNode;
                
                  var box;
                  if (this.scrollHandler === window) {
                    box = this.instance.wtTable.hider.getBoundingClientRect();
                    var top = Math.ceil(box.top, 10);
                    var bottom = Math.ceil(box.bottom, 10);
                
                    if (top < 0 && bottom > 0) {
                      elem.style.top = '0';
                    }
                    else {
                      elem.style.top = top + 'px';
                    }
                
                    var left = Math.ceil(box.left, 10);
                    var right = Math.ceil(box.right, 10);
                
                    if (left < 0 && right > 0) {
                      elem.style.left = '0';
                    }
                    else {
                      elem.style.left = left + 'px';
                    }
                  }
                  else {
                    box = this.scrollHandler.getBoundingClientRect();
                    elem.style.top = Math.ceil(box.top, 10) + 'px';
                    elem.style.left = Math.ceil(box.left, 10) + 'px';
                  }
                
                  elem.style.width = WalkontableDom.prototype.outerWidth(this.clone.wtTable.TABLE) + 4 + 'px';
                  elem.style.height = WalkontableDom.prototype.outerHeight(this.clone.wtTable.TABLE) + 4 + 'px';
                };
                
                WalkontableCornerScrollbarNative.prototype.prepare = function () {
                };
                
                WalkontableCornerScrollbarNative.prototype.refresh = function (selectionsOnly) {
                  this.measureBefore = 0;
                  this.measureAfter = 0;
                  this.clone && this.clone.draw(selectionsOnly);
                };
                
                WalkontableCornerScrollbarNative.prototype.getScrollPosition = function () {
                };
                
                WalkontableCornerScrollbarNative.prototype.getLastCell = function () {
                };
                
                WalkontableCornerScrollbarNative.prototype.applyToDOM = function () {
                };
                
                WalkontableCornerScrollbarNative.prototype.scrollTo = function () {
                };
                
                WalkontableCornerScrollbarNative.prototype.readWindowSize = function () {
                };
                
                WalkontableCornerScrollbarNative.prototype.readSettings = function () {
                };
                function WalkontableHorizontalScrollbarNative(instance) {
                  this.instance = instance;
                  this.type = 'horizontal';
                  this.cellSize = 50;
                  this.init();
                  this.clone = this.makeClone('left');
                }
                
                WalkontableHorizontalScrollbarNative.prototype = new WalkontableOverlay();
                
                //resetFixedPosition (in future merge it with this.refresh?)
                WalkontableHorizontalScrollbarNative.prototype.resetFixedPosition = function () {
                  if (!this.instance.wtTable.holder.parentNode) {
                    return; //removed from DOM
                  }
                  var elem = this.clone.wtTable.holder.parentNode;
                
                  var box;
                  if (this.scrollHandler === window) {
                    box = this.instance.wtTable.hider.getBoundingClientRect();
                    var left = Math.ceil(box.left, 10);
                    var right = Math.ceil(box.right, 10);
                
                    if (left < 0 && right > 0) {
                      elem.style.left = '0';
                    }
                    else {
                      elem.style.left = left + 'px';
                    }
                  }
                  else {
                    box = this.scrollHandler.getBoundingClientRect();
                    elem.style.top = Math.ceil(box.top, 10) + 'px';
                    elem.style.left = Math.ceil(box.left, 10) + 'px';
                  }
                };
                
                //react on movement of the other dimension scrollbar (in future merge it with this.refresh?)
                WalkontableHorizontalScrollbarNative.prototype.react = function () {
                  if (!this.instance.wtTable.holder.parentNode) {
                    return; //removed from DOM
                  }
                  var overlayContainer = this.clone.wtTable.holder.parentNode;
                  if (this.instance.wtScrollbars.vertical.scrollHandler === window) {
                    var box = this.instance.wtTable.hider.getBoundingClientRect();
                    overlayContainer.style.top = Math.ceil(box.top, 10) + 'px';
                    overlayContainer.style.height = WalkontableDom.prototype.outerHeight(this.clone.wtTable.TABLE) + 'px';
                  }
                  else {
                    this.clone.wtTable.holder.style.top = -(this.instance.wtScrollbars.vertical.windowScrollPosition - this.instance.wtScrollbars.vertical.measureBefore) + 'px';
                    overlayContainer.style.height = this.instance.wtViewport.getWorkspaceHeight() + 'px'
                  }
                  overlayContainer.style.width = WalkontableDom.prototype.outerWidth(this.clone.wtTable.TABLE) + 4 + 'px'; //4 is for the box shadow
                };
                
                WalkontableHorizontalScrollbarNative.prototype.prepare = function () {
                };
                
                WalkontableHorizontalScrollbarNative.prototype.refresh = function (selectionsOnly) {
                  this.measureBefore = 0;
                  this.measureAfter = 0;
                  this.clone && this.clone.draw(selectionsOnly);
                };
                
                WalkontableHorizontalScrollbarNative.prototype.getScrollPosition = function () {
                  if (this.scrollHandler === window) {
                    return this.scrollHandler.scrollX;
                  }
                  else {
                    return this.scrollHandler.scrollLeft;
                  }
                };
                
                WalkontableHorizontalScrollbarNative.prototype.setScrollPosition = function (pos) {
                    this.scrollHandler.scrollLeft = pos;
                };
                
                WalkontableHorizontalScrollbarNative.prototype.onScroll = function () {
                  WalkontableOverlay.prototype.onScroll.apply(this, arguments);
                
                  this.instance.getSetting('onScrollHorizontally');
                };
                
                WalkontableHorizontalScrollbarNative.prototype.getLastCell = function () {
                  return this.instance.wtTable.getLastVisibleColumn();
                };
                
                //applyToDOM (in future merge it with this.refresh?)
                WalkontableHorizontalScrollbarNative.prototype.applyToDOM = function () {
                  this.fixedContainer.style.paddingLeft = this.measureBefore + 'px';
                  this.fixedContainer.style.paddingRight = this.measureAfter + 'px';
                };
                
                WalkontableHorizontalScrollbarNative.prototype.scrollTo = function (cell) {
                  this.$scrollHandler.scrollLeft(this.tableParentOffset + cell * this.cellSize);
                };
                
                //readWindowSize (in future merge it with this.prepare?)
                WalkontableHorizontalScrollbarNative.prototype.readWindowSize = function () {
                  if (this.scrollHandler === window) {
                    this.windowSize = document.documentElement.clientWidth;
                    this.tableParentOffset = this.instance.wtTable.holderOffset.left;
                  }
                  else {
                    this.windowSize = WalkontableDom.prototype.outerWidth(this.scrollHandler);
                    this.tableParentOffset = 0;
                  }
                  this.windowScrollPosition = this.getScrollPosition();
                };
                
                //readSettings (in future merge it with this.prepare?)
                WalkontableHorizontalScrollbarNative.prototype.readSettings = function () {
                  this.offset = this.instance.getSetting('offsetColumn');
                  this.total = this.instance.getSetting('totalColumns');
                };
                function WalkontableVerticalScrollbarNative(instance) {
                  this.instance = instance;
                  this.type = 'vertical';
                  this.cellSize = 23;
                  this.init();
                  this.clone = this.makeClone('top');
                }
                
                WalkontableVerticalScrollbarNative.prototype = new WalkontableOverlay();
                
                //resetFixedPosition (in future merge it with this.refresh?)
                WalkontableVerticalScrollbarNative.prototype.resetFixedPosition = function () {
                  if (!this.instance.wtTable.holder.parentNode) {
                    return; //removed from DOM
                  }
                  var elem = this.clone.wtTable.holder.parentNode;
                
                  var box;
                  if (this.scrollHandler === window) {
                    box = this.instance.wtTable.hider.getBoundingClientRect();
                    var top = Math.ceil(box.top, 10);
                    var bottom = Math.ceil(box.bottom, 10);
                
                    if (top < 0 && bottom > 0) {
                      elem.style.top = '0';
                    }
                    else {
                      elem.style.top = top + 'px';
                    }
                  }
                  else {
                    box = this.instance.wtScrollbars.horizontal.scrollHandler.getBoundingClientRect();
                    elem.style.top = Math.ceil(box.top, 10) + 'px';
                    elem.style.left = Math.ceil(box.left, 10) + 'px';
                  }
                
                  if (this.instance.wtScrollbars.horizontal.scrollHandler === window) {
                    elem.style.width = this.instance.wtViewport.getWorkspaceActualWidth() + 'px';
                  }
                  else {
                    elem.style.width = WalkontableDom.prototype.outerWidth(this.instance.wtTable.holder.parentNode) + 'px';
                  }
                
                  elem.style.height = WalkontableDom.prototype.outerHeight(this.clone.wtTable.TABLE) + 4 + 'px';
                };
                
                //react on movement of the other dimension scrollbar (in future merge it with this.refresh?)
                WalkontableVerticalScrollbarNative.prototype.react = function () {
                  if (!this.instance.wtTable.holder.parentNode) {
                    return; //removed from DOM
                  }
                  if (this.instance.wtScrollbars.horizontal.scrollHandler !== window) {
                    var elem = this.clone.wtTable.holder.parentNode;
                    elem.firstChild.style.left = -this.instance.wtScrollbars.horizontal.windowScrollPosition + 'px';
                  }
                };
                
                WalkontableVerticalScrollbarNative.prototype.getScrollPosition = function () {
                  if (this.scrollHandler === window) {
                    return this.scrollHandler.scrollY;
                  }
                  else {
                    return this.scrollHandler.scrollTop;
                  }
                };
                
                WalkontableVerticalScrollbarNative.prototype.setScrollPosition = function (pos) {
                  this.scrollHandler.scrollTop = pos;
                };
                
                WalkontableVerticalScrollbarNative.prototype.onScroll = function (forcePosition) {
                  WalkontableOverlay.prototype.onScroll.apply(this, arguments);
                
                  var scrollDelta;
                  var newOffset = 0;
                
                  if (1 == 1 || this.windowScrollPosition > this.tableParentOffset) {
                    scrollDelta = this.windowScrollPosition - this.tableParentOffset;
                
                    partialOffset = 0;
                    if (scrollDelta > 0) {
                      var sum = 0;
                      var last;
                      for (var i = 0; i < this.total; i++) {
                        last = this.instance.getSetting('rowHeight', i);
                        sum += last;
                        if (sum > scrollDelta) {
                          break;
                        }
                      }
                
                      if (this.offset > 0) {
                        partialOffset = (sum - scrollDelta);
                      }
                      newOffset = i;
                      newOffset = Math.min(newOffset, this.total);
                    }
                  }
                
                  this.curOuts = newOffset > this.maxOuts ? this.maxOuts : newOffset;
                  newOffset -= this.curOuts;
                
                  this.instance.update('offsetRow', newOffset);
                  this.readSettings(); //read new offset
                  this.instance.draw();
                
                  this.instance.getSetting('onScrollVertically');
                };
                
                WalkontableVerticalScrollbarNative.prototype.getLastCell = function () {
                  return this.instance.getSetting('offsetRow') + this.instance.wtTable.tbodyChildrenLength - 1;
                };
                
                var partialOffset = 0;
                
                WalkontableVerticalScrollbarNative.prototype.sumCellSizes = function (from, length) {
                  var sum = 0;
                  while (from < length) {
                    sum += this.instance.getSetting('rowHeight', from);
                    from++;
                  }
                  return sum;
                };
                
                //applyToDOM (in future merge it with this.refresh?)
                WalkontableVerticalScrollbarNative.prototype.applyToDOM = function () {
                  var headerSize = this.instance.wtViewport.getColumnHeaderHeight();
                  this.fixedContainer.style.height = headerSize + this.sumCellSizes(0, this.total) + 4 + 'px'; //+4 is needed, otherwise vertical scroll appears in Chrome (window scroll mode) - maybe because of fill handle in last row or because of box shadow
                  this.fixed.style.top = this.measureBefore + 'px';
                  this.fixed.style.bottom = '';
                };
                
                WalkontableVerticalScrollbarNative.prototype.scrollTo = function (cell) {
                  var newY = this.tableParentOffset + cell * this.cellSize;
                  this.$scrollHandler.scrollTop(newY);
                  this.onScroll(newY);
                };
                
                //readWindowSize (in future merge it with this.prepare?)
                WalkontableVerticalScrollbarNative.prototype.readWindowSize = function () {
                  if (this.scrollHandler === window) {
                    this.windowSize = document.documentElement.clientHeight;
                    this.tableParentOffset = this.instance.wtTable.holderOffset.top;
                  }
                  else {
                    //this.windowSize = WalkontableDom.prototype.outerHeight(this.scrollHandler);
                    this.windowSize = this.scrollHandler.clientHeight; //returns height without DIV scrollbar
                    this.tableParentOffset = 0;
                  }
                  this.windowScrollPosition = this.getScrollPosition();
                };
                
                //readSettings (in future merge it with this.prepare?)
                WalkontableVerticalScrollbarNative.prototype.readSettings = function () {
                  this.offset = this.instance.getSetting('offsetRow');
                  this.total = this.instance.getSetting('totalRows');
                };
                function WalkontableScrollbars(instance) {
                  this.instance = instance;
                  if (instance.getSetting('nativeScrollbars')) {
                    instance.update('scrollbarWidth', instance.wtDom.getScrollbarWidth());
                    instance.update('scrollbarHeight', instance.wtDom.getScrollbarWidth());
                    this.vertical = new WalkontableVerticalScrollbarNative(instance);
                    this.horizontal = new WalkontableHorizontalScrollbarNative(instance);
                    this.corner = new WalkontableCornerScrollbarNative(instance);
                    if (instance.getSetting('debug')) {
                      this.debug = new WalkontableDebugOverlay(instance);
                    }
                    this.registerListeners();
                  }
                  else {
                    this.vertical = new WalkontableVerticalScrollbar(instance);
                    this.horizontal = new WalkontableHorizontalScrollbar(instance);
                  }
                }
                
                WalkontableScrollbars.prototype.registerListeners = function () {
                  var that = this;
                
                  var oldVerticalScrollPosition
                    , oldHorizontalScrollPosition
                    , oldBoxTop
                    , oldBoxLeft
                    , oldBoxWidth
                    , oldBoxHeight;
                
                  function refreshAll() {
                    if (!that.instance.wtTable.holder.parentNode) {
                      //Walkontable was detached from DOM, but this handler was not removed
                      that.destroy();
                      return;
                    }
                
                    that.vertical.windowScrollPosition = that.vertical.getScrollPosition();
                    that.horizontal.windowScrollPosition = that.horizontal.getScrollPosition();
                    that.box = that.instance.wtTable.hider.getBoundingClientRect();
                
                    if((that.box.width !== oldBoxWidth || that.box.height !== oldBoxHeight) && that.instance.rowHeightCache) {
                      //that.instance.rowHeightCache.length = 0; //at this point the cached row heights may be invalid, but it is better not to reset the cache, which could cause scrollbar jumping when there are multiline cells outside of the rendered part of the table
                      oldBoxWidth = that.box.width;
                      oldBoxHeight = that.box.height;
                      that.instance.draw();
                    }
                
                    if (that.vertical.windowScrollPosition !== oldVerticalScrollPosition || that.horizontal.windowScrollPosition !== oldHorizontalScrollPosition || that.box.top !== oldBoxTop || that.box.left !== oldBoxLeft) {
                      that.vertical.onScroll();
                      that.horizontal.onScroll(); //it's done here to make sure that all onScroll's are executed before changing styles
                
                      that.vertical.react();
                      that.horizontal.react(); //it's done here to make sure that all onScroll's are executed before changing styles
                
                      oldVerticalScrollPosition = that.vertical.windowScrollPosition;
                      oldHorizontalScrollPosition = that.horizontal.windowScrollPosition;
                      oldBoxTop = that.box.top;
                      oldBoxLeft = that.box.left;
                    }
                  }
                
                  var $window = $(window);
                  this.vertical.$scrollHandler.on('scroll.' + this.instance.guid, refreshAll);
                  if (this.vertical.scrollHandler !== this.horizontal.scrollHandler) {
                    this.horizontal.$scrollHandler.on('scroll.' + this.instance.guid, refreshAll);
                  }
                
                  if (this.vertical.scrollHandler !== window && this.horizontal.scrollHandler !== window) {
                    $window.on('scroll.' + this.instance.guid, refreshAll);
                  }
                  $window.on('load.' + this.instance.guid, refreshAll);
                  $window.on('resize.' + this.instance.guid, refreshAll);
                  $(document).on('ready.' + this.instance.guid, refreshAll);
                  setInterval(refreshAll, 100); //Marcin - only idea I have to reposition scrollbars on CSS change of the container (container was moved using some styles after page was loaded)
                };
                
                WalkontableScrollbars.prototype.destroy = function () {
                  this.vertical && this.vertical.destroy();
                  this.horizontal && this.horizontal.destroy();
                };
                
                WalkontableScrollbars.prototype.refresh = function (selectionsOnly) {
                  this.horizontal && this.horizontal.readSettings();
                  this.vertical && this.vertical.readSettings();
                  this.horizontal && this.horizontal.prepare();
                  this.vertical && this.vertical.prepare();
                  this.horizontal && this.horizontal.refresh(selectionsOnly);
                  this.vertical && this.vertical.refresh(selectionsOnly);
                  this.corner && this.corner.refresh(selectionsOnly);
                  this.debug && this.debug.refresh(selectionsOnly);
                };
                function WalkontableSelection(instance, settings) {
                  this.instance = instance;
                  this.settings = settings;
                  this.selected = [];
                  if (settings.border) {
                    this.border = new WalkontableBorder(instance, settings);
                  }
                }
                
                WalkontableSelection.prototype.add = function (coords) {
                  this.selected.push(coords);
                };
                
                WalkontableSelection.prototype.clear = function () {
                  this.selected.length = 0; //http://jsperf.com/clear-arrayxxx
                };
                
                /**
                 * Returns the top left (TL) and bottom right (BR) selection coordinates
                 * @returns {Object}
                 */
                WalkontableSelection.prototype.getCorners = function () {
                  var minRow
                    , minColumn
                    , maxRow
                    , maxColumn
                    , i
                    , ilen = this.selected.length;
                
                  if (ilen > 0) {
                    minRow = maxRow = this.selected[0][0];
                    minColumn = maxColumn = this.selected[0][1];
                
                    if (ilen > 1) {
                      for (i = 1; i < ilen; i++) {
                        if (this.selected[i][0] < minRow) {
                          minRow = this.selected[i][0];
                        }
                        else if (this.selected[i][0] > maxRow) {
                          maxRow = this.selected[i][0];
                        }
                
                        if (this.selected[i][1] < minColumn) {
                          minColumn = this.selected[i][1];
                        }
                        else if (this.selected[i][1] > maxColumn) {
                          maxColumn = this.selected[i][1];
                        }
                      }
                    }
                  }
                
                  return [minRow, minColumn, maxRow, maxColumn];
                };
                
                WalkontableSelection.prototype.draw = function () {
                  var corners, r, c, source_r, source_c;
                
                  var visibleRows = this.instance.wtTable.rowStrategy.countVisible()
                    , visibleColumns = this.instance.wtTable.columnStrategy.countVisible();
                
                  if (this.selected.length) {
                    corners = this.getCorners();
                
                    for (r = 0; r < visibleRows; r++) {
                      for (c = 0; c < visibleColumns; c++) {
                        source_r = this.instance.wtTable.rowFilter.visibleToSource(r);
                        source_c = this.instance.wtTable.columnFilter.visibleToSource(c);
                
                        if (source_r >= corners[0] && source_r <= corners[2] && source_c >= corners[1] && source_c <= corners[3]) {
                          //selected cell
                          this.instance.wtTable.currentCellCache.add(r, c, this.settings.className);
                        }
                        else if (source_r >= corners[0] && source_r <= corners[2]) {
                          //selection is in this row
                          this.instance.wtTable.currentCellCache.add(r, c, this.settings.highlightRowClassName);
                        }
                        else if (source_c >= corners[1] && source_c <= corners[3]) {
                          //selection is in this column
                          this.instance.wtTable.currentCellCache.add(r, c, this.settings.highlightColumnClassName);
                        }
                      }
                    }
                
                    this.border && this.border.appear(corners); //warning! border.appear modifies corners!
                  }
                  else {
                    this.border && this.border.disappear();
                  }
                };
                
                function WalkontableSettings(instance, settings) {
                  var that = this;
                  this.instance = instance;
                
                  //default settings. void 0 means it is required, null means it can be empty
                  this.defaults = {
                    table: void 0,
                    debug: false, //shows WalkontableDebugOverlay
                
                    //presentation mode
                    scrollH: 'auto', //values: scroll (always show scrollbar), auto (show scrollbar if table does not fit in the container), none (never show scrollbar)
                    scrollV: 'auto', //values: see above
                    nativeScrollbars: false, //values: false (dragdealer), true (native)
                    stretchH: 'hybrid', //values: hybrid, all, last, none
                    currentRowClassName: null,
                    currentColumnClassName: null,
                
                    //data source
                    data: void 0,
                    offsetRow: 0,
                    offsetColumn: 0,
                    fixedColumnsLeft: 0,
                    fixedRowsTop: 0,
                    rowHeaders: function () {
                      return []
                    }, //this must be array of functions: [function (row, TH) {}]
                    columnHeaders: function () {
                      return []
                    }, //this must be array of functions: [function (column, TH) {}]
                    totalRows: void 0,
                    totalColumns: void 0,
                    width: null,
                    height: null,
                    cellRenderer: function (row, column, TD) {
                      var cellData = that.getSetting('data', row, column);
                      that.instance.wtDom.fastInnerText(TD, cellData === void 0 || cellData === null ? '' : cellData);
                    },
                    columnWidth: 50,
                    selections: null,
                    hideBorderOnMouseDownOver: false,
                
                    //callbacks
                    onCellMouseDown: null,
                    onCellMouseOver: null,
                //    onCellMouseOut: null,
                    onCellDblClick: null,
                    onCellCornerMouseDown: null,
                    onCellCornerDblClick: null,
                    beforeDraw: null,
                    onDraw: null,
                    onScrollVertically: null,
                    onScrollHorizontally: null,
                
                    //constants
                    scrollbarWidth: 10,
                    scrollbarHeight: 10
                  };
                
                  //reference to settings
                  this.settings = {};
                  for (var i in this.defaults) {
                    if (this.defaults.hasOwnProperty(i)) {
                      if (settings[i] !== void 0) {
                        this.settings[i] = settings[i];
                      }
                      else if (this.defaults[i] === void 0) {
                        throw new Error('A required setting "' + i + '" was not provided');
                      }
                      else {
                        this.settings[i] = this.defaults[i];
                      }
                    }
                  }
                }
                
                /**
                 * generic methods
                 */
                
                WalkontableSettings.prototype.update = function (settings, value) {
                  if (value === void 0) { //settings is object
                    for (var i in settings) {
                      if (settings.hasOwnProperty(i)) {
                        this.settings[i] = settings[i];
                      }
                    }
                  }
                  else { //if value is defined then settings is the key
                    this.settings[settings] = value;
                  }
                  return this.instance;
                };
                
                WalkontableSettings.prototype.getSetting = function (key, param1, param2, param3) {
                  if (this[key]) {
                    return this[key](param1, param2, param3);
                  }
                  else {
                    return this._getSetting(key, param1, param2, param3);
                  }
                };
                
                WalkontableSettings.prototype._getSetting = function (key, param1, param2, param3) {
                  if (typeof this.settings[key] === 'function') {
                    return this.settings[key](param1, param2, param3);
                  }
                  else if (param1 !== void 0 && Object.prototype.toString.call(this.settings[key]) === '[object Array]') {
                    return this.settings[key][param1];
                  }
                  else {
                    return this.settings[key];
                  }
                };
                
                WalkontableSettings.prototype.has = function (key) {
                  return !!this.settings[key]
                };
                
                /**
                 * specific methods
                 */
                WalkontableSettings.prototype.rowHeight = function (row, TD) {
                  if (!this.instance.rowHeightCache) {
                    this.instance.rowHeightCache = []; //hack. This cache is being invalidated in WOT core.js
                  }
                  if (this.instance.rowHeightCache[row] === void 0) {
                    var size = 23; //guess
                    if (TD) {
                      size = this.instance.wtDom.outerHeight(TD); //measure
                      this.instance.rowHeightCache[row] = size; //cache only something we measured
                    }
                    return size;
                  }
                  else {
                    return this.instance.rowHeightCache[row];
                  }
                };
                function WalkontableTable(instance, table) {
                  //reference to instance
                  this.instance = instance;
                  this.TABLE = table;
                  this.wtDom = this.instance.wtDom;
                  this.wtDom.removeTextNodes(this.TABLE);
                
                  //wtSpreader
                  var parent = this.TABLE.parentNode;
                  if (!parent || parent.nodeType !== 1 || !this.wtDom.hasClass(parent, 'wtHolder')) {
                    var spreader = document.createElement('DIV');
                    spreader.className = 'wtSpreader';
                    if (parent) {
                      parent.insertBefore(spreader, this.TABLE); //if TABLE is detached (e.g. in Jasmine test), it has no parentNode so we cannot attach holder to it
                    }
                    spreader.appendChild(this.TABLE);
                  }
                  this.spreader = this.TABLE.parentNode;
                
                  //wtHider
                  parent = this.spreader.parentNode;
                  if (!parent || parent.nodeType !== 1 || !this.wtDom.hasClass(parent, 'wtHolder')) {
                    var hider = document.createElement('DIV');
                    hider.className = 'wtHider';
                    if (parent) {
                      parent.insertBefore(hider, this.spreader); //if TABLE is detached (e.g. in Jasmine test), it has no parentNode so we cannot attach holder to it
                    }
                    hider.appendChild(this.spreader);
                  }
                  this.hider = this.spreader.parentNode;
                  this.hiderStyle = this.hider.style;
                  this.hiderStyle.position = 'relative';
                
                  //wtHolder
                  parent = this.hider.parentNode;
                  if (!parent || parent.nodeType !== 1 || !this.wtDom.hasClass(parent, 'wtHolder')) {
                    var holder = document.createElement('DIV');
                    holder.style.position = 'relative';
                    holder.className = 'wtHolder';
                    if (parent) {
                      parent.insertBefore(holder, this.hider); //if TABLE is detached (e.g. in Jasmine test), it has no parentNode so we cannot attach holder to it
                    }
                    holder.appendChild(this.hider);
                  }
                  this.holder = this.hider.parentNode;
                
                  //bootstrap from settings
                  this.TBODY = this.TABLE.getElementsByTagName('TBODY')[0];
                  if (!this.TBODY) {
                    this.TBODY = document.createElement('TBODY');
                    this.TABLE.appendChild(this.TBODY);
                  }
                  this.THEAD = this.TABLE.getElementsByTagName('THEAD')[0];
                  if (!this.THEAD) {
                    this.THEAD = document.createElement('THEAD');
                    this.TABLE.insertBefore(this.THEAD, this.TBODY);
                  }
                  this.COLGROUP = this.TABLE.getElementsByTagName('COLGROUP')[0];
                  if (!this.COLGROUP) {
                    this.COLGROUP = document.createElement('COLGROUP');
                    this.TABLE.insertBefore(this.COLGROUP, this.THEAD);
                  }
                
                  if (this.instance.getSetting('columnHeaders').length) {
                    if (!this.THEAD.childNodes.length) {
                      var TR = document.createElement('TR');
                      this.THEAD.appendChild(TR);
                    }
                  }
                
                  this.colgroupChildrenLength = this.COLGROUP.childNodes.length;
                  this.theadChildrenLength = this.THEAD.firstChild ? this.THEAD.firstChild.childNodes.length : 0;
                  this.tbodyChildrenLength = this.TBODY.childNodes.length;
                
                  this.oldCellCache = new WalkontableClassNameCache();
                  this.currentCellCache = new WalkontableClassNameCache();
                
                  this.rowFilter = new WalkontableRowFilter();
                  this.columnFilter = new WalkontableColumnFilter();
                
                  this.verticalRenderReverse = false;
                }
                
                WalkontableTable.prototype.refreshHiderDimensions = function () {
                  var height = this.instance.wtViewport.getWorkspaceHeight();
                  var width = this.instance.wtViewport.getWorkspaceWidth();
                
                  var spreaderStyle = this.spreader.style;
                
                  if ((height !== Infinity || width !== Infinity) && !this.instance.getSetting('nativeScrollbars')) {
                    if (height === Infinity) {
                      height = this.instance.wtViewport.getWorkspaceActualHeight();
                    }
                    if (width === Infinity) {
                      width = this.instance.wtViewport.getWorkspaceActualWidth();
                    }
                
                    this.hiderStyle.overflow = 'hidden';
                
                    spreaderStyle.position = 'absolute';
                    spreaderStyle.top = '0';
                    spreaderStyle.left = '0';
                
                    if (!this.instance.getSetting('nativeScrollbars')) {
                      spreaderStyle.height = '4000px';
                      spreaderStyle.width = '4000px';
                    }
                
                    if (height < 0) { //this happens with WalkontableOverlay and causes "Invalid argument" error in IE8
                      height = 0;
                    }
                
                    this.hiderStyle.height = height + 'px';
                    this.hiderStyle.width = width + 'px';
                  }
                  else {
                    spreaderStyle.position = 'relative';
                    spreaderStyle.width = 'auto';
                    spreaderStyle.height = 'auto';
                  }
                };
                
                WalkontableTable.prototype.refreshStretching = function () {
                  if (this.instance.cloneSource) {
                    return;
                  }
                
                  var instance = this.instance
                    , stretchH = instance.getSetting('stretchH')
                    , totalRows = instance.getSetting('totalRows')
                    , totalColumns = instance.getSetting('totalColumns')
                    , offsetColumn = instance.getSetting('offsetColumn');
                
                  var containerWidthFn = function (cacheWidth) {
                    var viewportWidth = that.instance.wtViewport.getViewportWidth(cacheWidth);
                    if (viewportWidth < cacheWidth && that.instance.getSetting('nativeScrollbars')) {
                      return Infinity; //disable stretching when viewport is bigger than sum of the cell widths
                    }
                    return viewportWidth;
                  };
                
                  var that = this;
                
                  var columnWidthFn = function (i) {
                    var source_c = that.columnFilter.visibleToSource(i);
                    if (source_c < totalColumns) {
                      return instance.getSetting('columnWidth', source_c);
                    }
                  };
                
                  if (stretchH === 'hybrid') {
                    if (offsetColumn > 0) {
                      stretchH = 'last';
                    }
                    else {
                      stretchH = 'none';
                    }
                  }
                
                  var containerHeightFn = function (cacheHeight) {
                    if (that.instance.getSetting('nativeScrollbars')) {
                      if (that.instance.cloneOverlay instanceof WalkontableDebugOverlay) {
                        return Infinity;
                      }
                      else {
                        return 2 * that.instance.wtViewport.getViewportHeight(cacheHeight);
                      }
                    }
                    return that.instance.wtViewport.getViewportHeight(cacheHeight);
                  };
                
                  var rowHeightFn = function (i, TD) {
                    if (that.instance.getSetting('nativeScrollbars')) {
                      return 20;
                    }
                    var source_r = that.rowFilter.visibleToSource(i);
                    if (source_r < totalRows) {
                      if (that.verticalRenderReverse && i === 0) {
                        return that.instance.getSetting('rowHeight', source_r, TD) - 1;
                      }
                      else {
                        return that.instance.getSetting('rowHeight', source_r, TD);
                      }
                    }
                  };
                
                  this.columnStrategy = new WalkontableColumnStrategy(instance, containerWidthFn, columnWidthFn, stretchH);
                  this.rowStrategy = new WalkontableRowStrategy(instance, containerHeightFn, rowHeightFn);
                };
                
                WalkontableTable.prototype.adjustAvailableNodes = function () {
                  var displayTds
                    , rowHeaders = this.instance.getSetting('rowHeaders')
                    , displayThs = rowHeaders.length
                    , columnHeaders = this.instance.getSetting('columnHeaders')
                    , TR
                    , TD
                    , c;
                
                  //adjust COLGROUP
                  while (this.colgroupChildrenLength < displayThs) {
                    this.COLGROUP.appendChild(document.createElement('COL'));
                    this.colgroupChildrenLength++;
                  }
                
                  this.refreshStretching(); //actually it is wrong position because it assumes rowHeader would be always 50px wide (because we measure before it is filled with text). TODO: debug
                  if (this.instance.cloneSource && (this.instance.cloneOverlay instanceof WalkontableHorizontalScrollbarNative || this.instance.cloneOverlay instanceof WalkontableCornerScrollbarNative)) {
                    displayTds = this.instance.getSetting('fixedColumnsLeft');
                  }
                  else {
                    displayTds = this.columnStrategy.cellCount;
                  }
                
                  //adjust COLGROUP
                  while (this.colgroupChildrenLength < displayTds + displayThs) {
                    this.COLGROUP.appendChild(document.createElement('COL'));
                    this.colgroupChildrenLength++;
                  }
                  while (this.colgroupChildrenLength > displayTds + displayThs) {
                    this.COLGROUP.removeChild(this.COLGROUP.lastChild);
                    this.colgroupChildrenLength--;
                  }
                
                  //adjust THEAD
                  TR = this.THEAD.firstChild;
                  if (columnHeaders.length) {
                    if (!TR) {
                      TR = document.createElement('TR');
                      this.THEAD.appendChild(TR);
                    }
                
                    this.theadChildrenLength = TR.childNodes.length;
                    while (this.theadChildrenLength < displayTds + displayThs) {
                      TR.appendChild(document.createElement('TH'));
                      this.theadChildrenLength++;
                    }
                    while (this.theadChildrenLength > displayTds + displayThs) {
                      TR.removeChild(TR.lastChild);
                      this.theadChildrenLength--;
                    }
                  }
                  else if (TR) {
                    this.wtDom.empty(TR);
                  }
                
                  //draw COLGROUP
                  for (c = 0; c < this.colgroupChildrenLength; c++) {
                    if (c < displayThs) {
                      this.wtDom.addClass(this.COLGROUP.childNodes[c], 'rowHeader');
                    }
                    else {
                      this.wtDom.removeClass(this.COLGROUP.childNodes[c], 'rowHeader');
                    }
                  }
                
                  //draw THEAD
                  if (columnHeaders.length) {
                    TR = this.THEAD.firstChild;
                    if (displayThs) {
                      TD = TR.firstChild; //actually it is TH but let's reuse single variable
                      for (c = 0; c < displayThs; c++) {
                        rowHeaders[c](-displayThs + c, TD);
                        TD = TD.nextSibling;
                      }
                    }
                  }
                
                  for (c = 0; c < displayTds; c++) {
                    if (columnHeaders.length) {
                      columnHeaders[0](this.columnFilter.visibleToSource(c), TR.childNodes[displayThs + c]);
                    }
                  }
                };
                
                WalkontableTable.prototype.adjustColumns = function (TR, desiredCount) {
                  var count = TR.childNodes.length;
                  while (count < desiredCount) {
                    var TD = document.createElement('TD');
                    TR.appendChild(TD);
                    count++;
                  }
                  while (count > desiredCount) {
                    TR.removeChild(TR.lastChild);
                    count--;
                  }
                };
                
                WalkontableTable.prototype.draw = function (selectionsOnly) {
                  if (this.instance.getSetting('nativeScrollbars')) {
                    this.verticalRenderReverse = false; //this is only supported in dragdealer mode, not in native
                  }
                
                  this.rowFilter.readSettings(this.instance);
                  this.columnFilter.readSettings(this.instance);
                
                  if (!selectionsOnly) {
                    if (this.instance.getSetting('nativeScrollbars')) {
                      if (this.instance.cloneSource) {
                        this.tableOffset = this.instance.cloneSource.wtTable.tableOffset;
                      }
                      else {
                        this.holderOffset = this.wtDom.offset(this.holder);
                        this.tableOffset = this.wtDom.offset(this.TABLE);
                        this.instance.wtScrollbars.vertical.readWindowSize();
                        this.instance.wtScrollbars.horizontal.readWindowSize();
                        this.instance.wtViewport.resetSettings();
                      }
                    }
                    else {
                      this.tableOffset = this.wtDom.offset(this.TABLE);
                      this.instance.wtViewport.resetSettings();
                    }
                    this._doDraw();
                  }
                  else {
                    this.instance.wtScrollbars && this.instance.wtScrollbars.refresh(true);
                  }
                
                  this.refreshPositions(selectionsOnly);
                
                  if (!selectionsOnly) {
                    if (this.instance.getSetting('nativeScrollbars')) {
                      if (!this.instance.cloneSource) {
                        this.instance.wtScrollbars.vertical.resetFixedPosition();
                        this.instance.wtScrollbars.horizontal.resetFixedPosition();
                        this.instance.wtScrollbars.corner.resetFixedPosition();
                        this.instance.wtScrollbars.debug && this.instance.wtScrollbars.debug.resetFixedPosition();
                      }
                    }
                  }
                
                  this.instance.drawn = true;
                  return this;
                };
                
                WalkontableTable.prototype._doDraw = function () {
                  var r = 0
                    , source_r
                    , c
                    , source_c
                    , offsetRow = this.instance.getSetting('offsetRow')
                    , totalRows = this.instance.getSetting('totalRows')
                    , totalColumns = this.instance.getSetting('totalColumns')
                    , displayTds
                    , rowHeaders = this.instance.getSetting('rowHeaders')
                    , displayThs = rowHeaders.length
                    , TR
                    , TD
                    , TH
                    , adjusted = false
                    , workspaceWidth
                    , mustBeInViewport
                    , res;
                
                  if (this.verticalRenderReverse) {
                    mustBeInViewport = offsetRow;
                  }
                
                  var noPartial = false;
                  if (this.verticalRenderReverse) {
                    if (offsetRow === totalRows - this.rowFilter.fixedCount - 1) {
                      noPartial = true;
                    }
                    else {
                      this.instance.update('offsetRow', offsetRow + 1); //if we are scrolling reverse
                      this.rowFilter.readSettings(this.instance);
                    }
                  }
                
                  if (this.instance.cloneSource) {
                    this.columnStrategy = this.instance.cloneSource.wtTable.columnStrategy;
                    this.rowStrategy = this.instance.cloneSource.wtTable.rowStrategy;
                  }
                
                  //draw TBODY
                  if (totalColumns > 0) {
                    source_r = this.rowFilter.visibleToSource(r);
                
                    var fixedRowsTop = this.instance.getSetting('fixedRowsTop');
                    var cloneLimit;
                    if (this.instance.cloneSource) { //must be run after adjustAvailableNodes because otherwise this.rowStrategy is not yet defined
                      if (this.instance.cloneOverlay instanceof WalkontableVerticalScrollbarNative || this.instance.cloneOverlay instanceof WalkontableCornerScrollbarNative) {
                        cloneLimit = fixedRowsTop;
                      }
                      else if (this.instance.cloneOverlay instanceof WalkontableHorizontalScrollbarNative) {
                        cloneLimit = this.rowStrategy.countVisible();
                      }
                      //else if WalkontableDebugOverlay do nothing. No cloneLimit means render ALL rows
                    }
                
                    this.adjustAvailableNodes();
                    adjusted = true;
                
                    if (this.instance.cloneSource && (this.instance.cloneOverlay instanceof WalkontableHorizontalScrollbarNative || this.instance.cloneOverlay instanceof WalkontableCornerScrollbarNative)) {
                      displayTds = this.instance.getSetting('fixedColumnsLeft');
                    }
                    else {
                      displayTds = this.columnStrategy.cellCount;
                    }
                
                    if (!this.instance.cloneSource) {
                      workspaceWidth = this.instance.wtViewport.getWorkspaceWidth();
                      this.columnStrategy.stretch();
                    }
                
                    for (c = 0; c < displayTds; c++) {
                      this.COLGROUP.childNodes[c + displayThs].style.width = this.columnStrategy.getSize(c) + 'px';
                    }
                
                    while (source_r < totalRows && source_r >= 0) {
                      if (r > 1000) {
                        throw new Error('Security brake: Too much TRs. Please define height for your table, which will enforce scrollbars.');
                      }
                
                      if (cloneLimit !== void 0 && r === cloneLimit) {
                        break; //we have as much rows as needed for this clone
                      }
                
                      if (r >= this.tbodyChildrenLength || (this.verticalRenderReverse && r >= this.rowFilter.fixedCount)) {
                        TR = document.createElement('TR');
                        for (c = 0; c < displayThs; c++) {
                          TR.appendChild(document.createElement('TH'));
                        }
                        if (this.verticalRenderReverse && r >= this.rowFilter.fixedCount) {
                          this.TBODY.insertBefore(TR, this.TBODY.childNodes[this.rowFilter.fixedCount] || this.TBODY.firstChild);
                        }
                        else {
                          this.TBODY.appendChild(TR);
                        }
                        this.tbodyChildrenLength++;
                      }
                      else if (r === 0) {
                        TR = this.TBODY.firstChild;
                      }
                      else {
                        TR = TR.nextSibling; //http://jsperf.com/nextsibling-vs-indexed-childnodes
                      }
                
                      //TH
                      TH = TR.firstChild;
                      for (c = 0; c < displayThs; c++) {
                
                        //If the number of row headers increased we need to replace TD with TH
                        if (TH.nodeName == 'TD') {
                          TD = TH;
                          TH = document.createElement('TH');
                          TR.insertBefore(TH, TD);
                          TR.removeChild(TD);
                        }
                
                        rowHeaders[c](source_r, TH); //actually TH
                        TH = TH.nextSibling; //http://jsperf.com/nextsibling-vs-indexed-childnodes
                      }
                
                      this.adjustColumns(TR, displayTds + displayThs);
                
                      for (c = 0; c < displayTds; c++) {
                        source_c = this.columnFilter.visibleToSource(c);
                        if (c === 0) {
                          TD = TR.childNodes[this.columnFilter.sourceColumnToVisibleRowHeadedColumn(source_c)];
                        }
                        else {
                          TD = TD.nextSibling; //http://jsperf.com/nextsibling-vs-indexed-childnodes
                        }
                
                        //If the number of headers has been reduced, we need to replace excess TH with TD
                        if (TD.nodeName == 'TH') {
                          TH = TD;
                          TD = document.createElement('TD');
                          TR.insertBefore(TD, TH);
                          TR.removeChild(TH);
                        }
                
                        TD.className = '';
                        TD.removeAttribute('style');
                        this.instance.getSetting('cellRenderer', source_r, source_c, TD);
                      }
                
                      offsetRow = this.instance.getSetting('offsetRow'); //refresh the value
                
                      //after last column is rendered, check if last cell is fully displayed
                      if (this.verticalRenderReverse && noPartial) {
                        if (-this.wtDom.outerHeight(TR.firstChild) < this.rowStrategy.remainingSize) {
                          this.TBODY.removeChild(TR);
                          this.instance.update('offsetRow', offsetRow + 1);
                          this.tbodyChildrenLength--;
                          this.rowFilter.readSettings(this.instance);
                          break;
                
                        }
                        else if (!this.instance.cloneSource) {
                          res = this.rowStrategy.add(r, TD, this.verticalRenderReverse);
                          if (res === false) {
                            this.rowStrategy.removeOutstanding();
                          }
                        }
                      }
                      else if (!this.instance.cloneSource) {
                        res = this.rowStrategy.add(r, TD, this.verticalRenderReverse);
                
                        if (res === false) {
                          if (!this.instance.getSetting('nativeScrollbars')) {
                            this.rowStrategy.removeOutstanding();
                          }
                        }
                
                        if (this.rowStrategy.isLastIncomplete()) {
                          if (this.verticalRenderReverse && !this.isRowInViewport(mustBeInViewport)) {
                            //we failed because one of the cells was by far too large. Recover by rendering from top
                            this.verticalRenderReverse = false;
                            this.instance.update('offsetRow', mustBeInViewport);
                            this.draw();
                            return;
                          }
                          break;
                        }
                      }
                
                      if (this.instance.getSetting('nativeScrollbars')) {
                        if (this.instance.cloneSource) {
                          TR.style.height = this.instance.getSetting('rowHeight', source_r) + 'px'; //if I have 2 fixed columns with one-line content and the 3rd column has a multiline content, this is the way to make sure that the overlay will has same row height
                        }
                        else {
                          this.instance.getSetting('rowHeight', source_r, TD); //this trick saves rowHeight in rowHeightCache. It is then read in WalkontableVerticalScrollbarNative.prototype.sumCellSizes and reset in Walkontable constructor
                        }
                      }
                
                      if (this.verticalRenderReverse && r >= this.rowFilter.fixedCount) {
                        if (offsetRow === 0) {
                          break;
                        }
                        this.instance.update('offsetRow', offsetRow - 1);
                        this.rowFilter.readSettings(this.instance);
                      }
                      else {
                        r++;
                      }
                
                      source_r = this.rowFilter.visibleToSource(r);
                    }
                  }
                
                  if (!adjusted) {
                    this.adjustAvailableNodes();
                  }
                
                  if (!(this.instance.cloneOverlay instanceof WalkontableDebugOverlay)) {
                    r = this.rowStrategy.countVisible();
                    while (this.tbodyChildrenLength > r) {
                      this.TBODY.removeChild(this.TBODY.lastChild);
                      this.tbodyChildrenLength--;
                    }
                  }
                
                  this.instance.wtScrollbars && this.instance.wtScrollbars.refresh(false);
                
                  if (!this.instance.cloneSource) {
                    if (workspaceWidth !== this.instance.wtViewport.getWorkspaceWidth()) {
                      //workspace width changed though to shown/hidden vertical scrollbar. Let's reapply stretching
                      this.columnStrategy.stretch();
                      for (c = 0; c < this.columnStrategy.cellCount; c++) {
                        this.COLGROUP.childNodes[c + displayThs].style.width = this.columnStrategy.getSize(c) + 'px';
                      }
                    }
                  }
                
                  this.verticalRenderReverse = false;
                };
                
                WalkontableTable.prototype.refreshPositions = function (selectionsOnly) {
                  this.refreshHiderDimensions();
                  this.refreshSelections(selectionsOnly);
                };
                
                WalkontableTable.prototype.refreshSelections = function (selectionsOnly) {
                  var vr
                    , r
                    , vc
                    , c
                    , s
                    , slen
                    , classNames = []
                    , visibleRows = this.rowStrategy.countVisible()
                    , visibleColumns = this.columnStrategy.countVisible();
                
                  this.oldCellCache = this.currentCellCache;
                  this.currentCellCache = new WalkontableClassNameCache();
                
                  if (this.instance.selections) {
                    for (r in this.instance.selections) {
                      if (this.instance.selections.hasOwnProperty(r)) {
                        this.instance.selections[r].draw();
                        if (this.instance.selections[r].settings.className) {
                          classNames.push(this.instance.selections[r].settings.className);
                        }
                        if (this.instance.selections[r].settings.highlightRowClassName) {
                          classNames.push(this.instance.selections[r].settings.highlightRowClassName);
                        }
                        if (this.instance.selections[r].settings.highlightColumnClassName) {
                          classNames.push(this.instance.selections[r].settings.highlightColumnClassName);
                        }
                      }
                    }
                  }
                
                  slen = classNames.length;
                
                  for (vr = 0; vr < visibleRows; vr++) {
                    for (vc = 0; vc < visibleColumns; vc++) {
                      r = this.rowFilter.visibleToSource(vr);
                      c = this.columnFilter.visibleToSource(vc);
                      for (s = 0; s < slen; s++) {
                        if (this.currentCellCache.test(vr, vc, classNames[s])) {
                          this.wtDom.addClass(this.getCell([r, c]), classNames[s]);
                        }
                        else if (selectionsOnly && this.oldCellCache.test(vr, vc, classNames[s])) {
                          this.wtDom.removeClass(this.getCell([r, c]), classNames[s]);
                        }
                      }
                    }
                  }
                };
                
                /**
                 * getCell
                 * @param {Array} coords
                 * @return {Object} HTMLElement on success or {Number} one of the exit codes on error:
                 *  -1 row before viewport
                 *  -2 row after viewport
                 *  -3 column before viewport
                 *  -4 column after viewport
                 *
                 */
                WalkontableTable.prototype.getCell = function (coords) {
                  if (this.isRowBeforeViewport(coords[0])) {
                    return -1; //row before viewport
                  }
                  else if (this.isRowAfterViewport(coords[0])) {
                    return -2; //row after viewport
                  }
                  else {
                    if (this.isColumnBeforeViewport(coords[1])) {
                      return -3; //column before viewport
                    }
                    else if (this.isColumnAfterViewport(coords[1])) {
                      return -4; //column after viewport
                    }
                    else {
                      return this.TBODY.childNodes[this.rowFilter.sourceToVisible(coords[0])].childNodes[this.columnFilter.sourceColumnToVisibleRowHeadedColumn(coords[1])];
                    }
                  }
                };
                
                WalkontableTable.prototype.getCoords = function (TD) {
                  return [
                    this.rowFilter.visibleToSource(this.wtDom.index(TD.parentNode)),
                    this.columnFilter.visibleRowHeadedColumnToSourceColumn(TD.cellIndex)
                  ];
                };
                
                //returns -1 if no row is visible
                WalkontableTable.prototype.getLastVisibleRow = function () {
                  return this.rowFilter.visibleToSource(this.rowStrategy.cellCount - 1);
                };
                
                //returns -1 if no column is visible
                WalkontableTable.prototype.getLastVisibleColumn = function () {
                  return this.columnFilter.visibleToSource(this.columnStrategy.cellCount - 1);
                };
                
                WalkontableTable.prototype.isRowBeforeViewport = function (r) {
                  return (this.rowFilter.sourceToVisible(r) < this.rowFilter.fixedCount && r >= this.rowFilter.fixedCount);
                };
                
                WalkontableTable.prototype.isRowAfterViewport = function (r) {
                  return (r > this.getLastVisibleRow());
                };
                
                WalkontableTable.prototype.isColumnBeforeViewport = function (c) {
                  return (this.columnFilter.sourceToVisible(c) < this.columnFilter.fixedCount && c >= this.columnFilter.fixedCount);
                };
                
                WalkontableTable.prototype.isColumnAfterViewport = function (c) {
                  return (c > this.getLastVisibleColumn());
                };
                
                WalkontableTable.prototype.isRowInViewport = function (r) {
                  return (!this.isRowBeforeViewport(r) && !this.isRowAfterViewport(r));
                };
                
                WalkontableTable.prototype.isColumnInViewport = function (c) {
                  return (!this.isColumnBeforeViewport(c) && !this.isColumnAfterViewport(c));
                };
                
                WalkontableTable.prototype.isLastRowFullyVisible = function () {
                  return (this.getLastVisibleRow() === this.instance.getSetting('totalRows') - 1 && !this.rowStrategy.isLastIncomplete());
                };
                
                WalkontableTable.prototype.isLastColumnFullyVisible = function () {
                  return (this.getLastVisibleColumn() === this.instance.getSetting('totalColumns') - 1 && !this.columnStrategy.isLastIncomplete());
                };
                
                function WalkontableViewport(instance) {
                  this.instance = instance;
                  this.resetSettings();
                
                  if (this.instance.getSetting('nativeScrollbars')) {
                    var that = this;
                    $(window).on('resize', function () {
                      that.clientHeight = that.getWorkspaceHeight();
                    });
                  }
                }
                
                /*WalkontableViewport.prototype.isInSightVertical = function () {
                  //is table outside viewport bottom edge
                  if (tableTop > windowHeight + scrollTop) {
                    return -1;
                  }
                
                  //is table outside viewport top edge
                  else if (scrollTop > tableTop + tableFakeHeight) {
                    return -2;
                  }
                
                  //table is in viewport but how much exactly?
                  else {
                
                  }
                };*/
                
                //used by scrollbar
                WalkontableViewport.prototype.getWorkspaceHeight = function (proposedHeight) {
                  if (this.instance.getSetting('nativeScrollbars')) {
                    return this.instance.wtScrollbars.vertical.windowSize;
                  }
                
                  var height = this.instance.getSetting('height');
                
                  if (height === Infinity || height === void 0 || height === null || height < 1) {
                    if (this.instance.wtScrollbars.vertical instanceof WalkontableOverlay) {
                      height = this.instance.wtScrollbars.vertical.availableSize();
                    }
                    else {
                      height = Infinity;
                    }
                  }
                
                  if (height !== Infinity) {
                    if (proposedHeight >= height) {
                      height -= this.instance.getSetting('scrollbarHeight');
                    }
                    else if (this.instance.wtScrollbars.horizontal.visible) {
                      height -= this.instance.getSetting('scrollbarHeight');
                    }
                  }
                
                  return height;
                };
                
                WalkontableViewport.prototype.getWorkspaceWidth = function (proposedWidth) {
                  var width = this.instance.getSetting('width');
                
                  if (width === Infinity || width === void 0 || width === null || width < 1) {
                    if (this.instance.wtScrollbars.horizontal instanceof WalkontableOverlay) {
                      width = this.instance.wtScrollbars.horizontal.availableSize();
                    }
                    else {
                      width = Infinity;
                    }
                  }
                
                  if (width !== Infinity) {
                    if (proposedWidth >= width) {
                      width -= this.instance.getSetting('scrollbarWidth');
                    }
                    else if (this.instance.wtScrollbars.vertical.visible) {
                      width -= this.instance.getSetting('scrollbarWidth');
                    }
                  }
                  return width;
                };
                
                WalkontableViewport.prototype.getWorkspaceActualHeight = function () {
                  return this.instance.wtDom.outerHeight(this.instance.wtTable.TABLE);
                };
                
                WalkontableViewport.prototype.getWorkspaceActualWidth = function () {
                  return this.instance.wtDom.outerWidth(this.instance.wtTable.TABLE) || this.instance.wtDom.outerWidth(this.instance.wtTable.TBODY) || this.instance.wtDom.outerWidth(this.instance.wtTable.THEAD); //IE8 reports 0 as <table> offsetWidth;
                };
                
                WalkontableViewport.prototype.getColumnHeaderHeight = function () {
                  if (isNaN(this.columnHeaderHeight)) {
                    var cellOffset = this.instance.wtDom.offset(this.instance.wtTable.TBODY)
                      , tableOffset = this.instance.wtTable.tableOffset;
                    this.columnHeaderHeight = cellOffset.top - tableOffset.top;
                  }
                  return this.columnHeaderHeight;
                };
                
                WalkontableViewport.prototype.getViewportHeight = function (proposedHeight) {
                  var containerHeight = this.getWorkspaceHeight(proposedHeight);
                
                  if (containerHeight === Infinity) {
                    return containerHeight;
                  }
                
                  var columnHeaderHeight = this.getColumnHeaderHeight();
                  if (columnHeaderHeight > 0) {
                    return containerHeight - columnHeaderHeight;
                  }
                  else {
                    return containerHeight;
                  }
                };
                
                WalkontableViewport.prototype.getRowHeaderWidth = function () {
                  if (this.instance.cloneSource) {
                    return this.instance.cloneSource.wtViewport.getRowHeaderWidth();
                  }
                  if (isNaN(this.rowHeaderWidth)) {
                    var rowHeaders = this.instance.getSetting('rowHeaders');
                    if (rowHeaders.length) {
                      var TH = this.instance.wtTable.TABLE.querySelector('TH');
                      this.rowHeaderWidth = 0;
                      for (var i = 0, ilen = rowHeaders.length; i < ilen; i++) {
                        if (TH) {
                          this.rowHeaderWidth += this.instance.wtDom.outerWidth(TH);
                          TH = TH.nextSibling;
                        }
                        else {
                          this.rowHeaderWidth += 50; //yes this is a cheat but it worked like that before, just taking assumption from CSS instead of measuring. TODO: proper fix
                        }
                      }
                    }
                    else {
                      this.rowHeaderWidth = 0;
                    }
                  }
                  return this.rowHeaderWidth;
                };
                
                WalkontableViewport.prototype.getViewportWidth = function (proposedWidth) {
                  var containerWidth = this.getWorkspaceWidth(proposedWidth);
                
                  if (containerWidth === Infinity) {
                    return containerWidth;
                  }
                
                  var rowHeaderWidth = this.getRowHeaderWidth();
                  if (rowHeaderWidth > 0) {
                    return containerWidth - rowHeaderWidth;
                  }
                  else {
                    return containerWidth;
                  }
                };
                
                WalkontableViewport.prototype.resetSettings = function () {
                  this.rowHeaderWidth = NaN;
                  this.columnHeaderHeight = NaN;
                };
                function WalkontableWheel(instance) {
                  if (instance.getSetting('nativeScrollbars')) {
                    return;
                  }
                
                  //spreader === instance.wtTable.TABLE.parentNode
                  $(instance.wtTable.spreader).on('mousewheel', function (event, delta, deltaX, deltaY) {
                    if (!deltaX && !deltaY && delta) { //we are in IE8, see https://github.com/brandonaaron/jquery-mousewheel/issues/53
                      deltaY = delta;
                    }
                
                    if (!deltaX && !deltaY) { //this happens in IE8 test case
                      return;
                    }
                
                    if (deltaY > 0 && instance.getSetting('offsetRow') === 0) {
                      return; //attempt to scroll up when it's already showing first row
                    }
                    else if (deltaY < 0 && instance.wtTable.isLastRowFullyVisible()) {
                      return; //attempt to scroll down when it's already showing last row
                    }
                    else if (deltaX < 0 && instance.getSetting('offsetColumn') === 0) {
                      return; //attempt to scroll left when it's already showing first column
                    }
                    else if (deltaX > 0 && instance.wtTable.isLastColumnFullyVisible()) {
                      return; //attempt to scroll right when it's already showing last column
                    }
                
                    //now we are sure we really want to scroll
                    clearTimeout(instance.wheelTimeout);
                    instance.wheelTimeout = setTimeout(function () { //timeout is needed because with fast-wheel scrolling mousewheel event comes dozen times per second
                      if (deltaY) {
                        //ceil is needed because jquery-mousewheel reports fractional mousewheel deltas on touchpad scroll
                        //see http://stackoverflow.com/questions/5527601/normalizing-mousewheel-speed-across-browsers
                        if (instance.wtScrollbars.vertical.visible) { // if we see scrollbar
                          instance.scrollVertical(-Math.ceil(deltaY)).draw();
                        }
                      }
                      else if (deltaX) {
                        if (instance.wtScrollbars.horizontal.visible) { // if we see scrollbar
                          instance.scrollHorizontal(Math.ceil(deltaX)).draw();
                        }
                      }
                    }, 0);
                
                    event.preventDefault();
                  });
                }
                /**
                 * Dragdealer JS v0.9.5 - patched by Walkontable at lines 66, 309-310, 339-340
                 * http://code.ovidiu.ch/dragdealer-js
                 *
                 * Copyright (c) 2010, Ovidiu Chereches
                 * MIT License
                 * http://legal.ovidiu.ch/licenses/MIT
                 */
                
                /* Cursor */
                
                var Cursor =
                {
                	x: 0, y: 0,
                	init: function()
                	{
                		this.setEvent('mouse');
                		this.setEvent('touch');
                	},
                	setEvent: function(type)
                	{
                		var moveHandler = document['on' + type + 'move'] || function(){};
                		document['on' + type + 'move'] = function(e)
                		{
                			moveHandler(e);
                			Cursor.refresh(e);
                		}
                	},
                	refresh: function(e)
                	{
                		if(!e)
                		{
                			e = window.event;
                		}
                		if(e.type == 'mousemove')
                		{
                			this.set(e);
                		}
                		else if(e.touches)
                		{
                			this.set(e.touches[0]);
                		}
                	},
                	set: function(e)
                	{
                		if(e.pageX || e.pageY)
                		{
                			this.x = e.pageX;
                			this.y = e.pageY;
                		}
                		else if(document.body && (e.clientX || e.clientY)) //need to check whether body exists, because of IE8 issue (#1084)
                		{
                			this.x = e.clientX + document.body.scrollLeft + document.documentElement.scrollLeft;
                			this.y = e.clientY + document.body.scrollTop + document.documentElement.scrollTop;
                		}
                	}
                };
                Cursor.init();
                
                /* Position */
                
                var Position =
                {
                	get: function(obj)
                	{
                		var curtop = 0, curleft = 0; //Walkontable patch. Original (var curleft = curtop = 0;) created curtop in global scope
                		if(obj.offsetParent)
                		{
                			do
                			{
                				curleft += obj.offsetLeft;
                				curtop += obj.offsetTop;
                			}
                			while((obj = obj.offsetParent));
                		}
                		return [curleft, curtop];
                	}
                };
                
                /* Dragdealer */
                
                var Dragdealer = function(wrapper, options)
                {
                	if(typeof(wrapper) == 'string')
                	{
                		wrapper = document.getElementById(wrapper);
                	}
                	if(!wrapper)
                	{
                		return;
                	}
                	var handle = wrapper.getElementsByTagName('div')[0];
                	if(!handle || handle.className.search(/(^|\s)handle(\s|$)/) == -1)
                	{
                		return;
                	}
                	this.init(wrapper, handle, options || {});
                	this.setup();
                };
                Dragdealer.prototype =
                {
                	init: function(wrapper, handle, options)
                	{
                		this.wrapper = wrapper;
                		this.handle = handle;
                		this.options = options;
                		
                		this.disabled = this.getOption('disabled', false);
                		this.horizontal = this.getOption('horizontal', true);
                		this.vertical = this.getOption('vertical', false);
                		this.slide = this.getOption('slide', true);
                		this.steps = this.getOption('steps', 0);
                		this.snap = this.getOption('snap', false);
                		this.loose = this.getOption('loose', false);
                		this.speed = this.getOption('speed', 10) / 100;
                		this.xPrecision = this.getOption('xPrecision', 0);
                		this.yPrecision = this.getOption('yPrecision', 0);
                		
                		this.callback = options.callback || null;
                		this.animationCallback = options.animationCallback || null;
                		
                		this.bounds = {
                			left: options.left || 0, right: -(options.right || 0),
                			top: options.top || 0, bottom: -(options.bottom || 0),
                			x0: 0, x1: 0, xRange: 0,
                			y0: 0, y1: 0, yRange: 0
                		};
                		this.value = {
                			prev: [-1, -1],
                			current: [options.x || 0, options.y || 0],
                			target: [options.x || 0, options.y || 0]
                		};
                		this.offset = {
                			wrapper: [0, 0],
                			mouse: [0, 0],
                			prev: [-999999, -999999],
                			current: [0, 0],
                			target: [0, 0]
                		};
                		this.change = [0, 0];
                		
                		this.activity = false;
                		this.dragging = false;
                		this.tapping = false;
                	},
                	getOption: function(name, defaultValue)
                	{
                		return this.options[name] !== undefined ? this.options[name] : defaultValue;
                	},
                	setup: function()
                	{
                		this.setWrapperOffset();
                		this.setBoundsPadding();
                		this.setBounds();
                		this.setSteps();
                		
                		this.addListeners();
                	},
                	setWrapperOffset: function()
                	{
                		this.offset.wrapper = Position.get(this.wrapper);
                	},
                	setBoundsPadding: function()
                	{
                		if(!this.bounds.left && !this.bounds.right)
                		{
                			this.bounds.left = Position.get(this.handle)[0] - this.offset.wrapper[0];
                			this.bounds.right = -this.bounds.left;
                		}
                		if(!this.bounds.top && !this.bounds.bottom)
                		{
                			this.bounds.top = Position.get(this.handle)[1] - this.offset.wrapper[1];
                			this.bounds.bottom = -this.bounds.top;
                		}
                	},
                	setBounds: function()
                	{
                		this.bounds.x0 = this.bounds.left;
                		this.bounds.x1 = this.wrapper.offsetWidth + this.bounds.right;
                		this.bounds.xRange = (this.bounds.x1 - this.bounds.x0) - this.handle.offsetWidth;
                		
                		this.bounds.y0 = this.bounds.top;
                		this.bounds.y1 = this.wrapper.offsetHeight + this.bounds.bottom;
                		this.bounds.yRange = (this.bounds.y1 - this.bounds.y0) - this.handle.offsetHeight;
                		
                		this.bounds.xStep = 1 / (this.xPrecision || Math.max(this.wrapper.offsetWidth, this.handle.offsetWidth));
                		this.bounds.yStep = 1 / (this.yPrecision || Math.max(this.wrapper.offsetHeight, this.handle.offsetHeight));
                	},
                	setSteps: function()
                	{
                		if(this.steps > 1)
                		{
                			this.stepRatios = [];
                			for(var i = 0; i <= this.steps - 1; i++)
                			{
                				this.stepRatios[i] = i / (this.steps - 1);
                			}
                		}
                	},
                	addListeners: function()
                	{
                		var self = this;
                		
                		this.wrapper.onselectstart = function()
                		{
                			return false;
                		}
                		this.handle.onmousedown = this.handle.ontouchstart = function(e)
                		{
                			self.handleDownHandler(e);
                		};
                		this.wrapper.onmousedown = this.wrapper.ontouchstart = function(e)
                		{
                			self.wrapperDownHandler(e);
                		};
                		var mouseUpHandler = document.onmouseup || function(){};
                		document.onmouseup = function(e)
                		{
                			mouseUpHandler(e);
                			self.documentUpHandler(e);
                		};
                		var touchEndHandler = document.ontouchend || function(){};
                		document.ontouchend = function(e)
                		{
                			touchEndHandler(e);
                			self.documentUpHandler(e);
                		};
                		var resizeHandler = window.onresize || function(){};
                		window.onresize = function(e)
                		{
                			resizeHandler(e);
                			self.documentResizeHandler(e);
                		};
                		this.wrapper.onmousemove = function(e)
                		{
                			self.activity = true;
                		}
                		this.wrapper.onclick = function(e)
                		{
                			return !self.activity;
                		}
                		
                		this.interval = setInterval(function(){ self.animate() }, 25);
                		self.animate(false, true);
                	},
                	handleDownHandler: function(e)
                	{
                		this.activity = false;
                		Cursor.refresh(e);
                		
                		this.preventDefaults(e, true);
                		this.startDrag();
                	},
                	wrapperDownHandler: function(e)
                	{
                		Cursor.refresh(e);
                		
                		this.preventDefaults(e, true);
                		this.startTap();
                	},
                	documentUpHandler: function(e)
                	{
                		this.stopDrag();
                		this.stopTap();
                	},
                	documentResizeHandler: function(e)
                	{
                		this.setWrapperOffset();
                		this.setBounds();
                		
                		this.update();
                	},
                	enable: function()
                	{
                		this.disabled = false;
                		this.handle.className = this.handle.className.replace(/\s?disabled/g, '');
                	},
                	disable: function()
                	{
                		this.disabled = true;
                		this.handle.className += ' disabled';
                	},
                	setStep: function(x, y, snap)
                	{
                		this.setValue(
                			this.steps && x > 1 ? (x - 1) / (this.steps - 1) : 0,
                			this.steps && y > 1 ? (y - 1) / (this.steps - 1) : 0,
                			snap
                		);
                	},
                	setValue: function(x, y, snap)
                	{
                		this.setTargetValue([x, y || 0]);
                		if(snap)
                		{
                			this.groupCopy(this.value.current, this.value.target);
                		}
                	},
                	startTap: function(target)
                	{
                		if(this.disabled)
                		{
                			return;
                		}
                		this.tapping = true;
                
                		this.setWrapperOffset();
                		this.setBounds();
                
                		if(target === undefined)
                		{
                			target = [
                				Cursor.x - this.offset.wrapper[0] - (this.handle.offsetWidth / 2),
                				Cursor.y - this.offset.wrapper[1] - (this.handle.offsetHeight / 2)
                			];
                		}
                		this.setTargetOffset(target);
                	},
                	stopTap: function()
                	{
                		if(this.disabled || !this.tapping)
                		{
                			return;
                		}
                		this.tapping = false;
                		
                		this.setTargetValue(this.value.current);
                		this.result();
                	},
                	startDrag: function()
                	{
                		if(this.disabled)
                		{
                			return;
                		}
                
                		this.setWrapperOffset();
                		this.setBounds();
                
                		this.offset.mouse = [
                			Cursor.x - Position.get(this.handle)[0],
                			Cursor.y - Position.get(this.handle)[1]
                		];
                		
                		this.dragging = true;
                	},
                	stopDrag: function()
                	{
                		if(this.disabled || !this.dragging)
                		{
                			return;
                		}
                		this.dragging = false;
                		
                		var target = this.groupClone(this.value.current);
                		if(this.slide)
                		{
                			var ratioChange = this.change;
                			target[0] += ratioChange[0] * 4;
                			target[1] += ratioChange[1] * 4;
                		}
                		this.setTargetValue(target);
                		this.result();
                	},
                	feedback: function()
                	{
                		var value = this.value.current;
                		if(this.snap && this.steps > 1)
                		{
                			value = this.getClosestSteps(value);
                		}
                		if(!this.groupCompare(value, this.value.prev))
                		{
                			if(typeof(this.animationCallback) == 'function')
                			{
                				this.animationCallback(value[0], value[1]);
                			}
                			this.groupCopy(this.value.prev, value);
                		}
                	},
                	result: function()
                	{
                		if(typeof(this.callback) == 'function')
                		{
                			this.callback(this.value.target[0], this.value.target[1]);
                		}
                	},
                	animate: function(direct, first)
                	{
                		if(direct && !this.dragging)
                		{
                			return;
                		}
                		if(this.dragging)
                		{
                			var prevTarget = this.groupClone(this.value.target);
                			
                			var offset = [
                				Cursor.x - this.offset.wrapper[0] - this.offset.mouse[0],
                				Cursor.y - this.offset.wrapper[1] - this.offset.mouse[1]
                			];
                			this.setTargetOffset(offset, this.loose);
                			
                			this.change = [
                				this.value.target[0] - prevTarget[0],
                				this.value.target[1] - prevTarget[1]
                			];
                		}
                		if(this.dragging || first)
                		{
                			this.groupCopy(this.value.current, this.value.target);
                		}
                		if(this.dragging || this.glide() || first)
                		{
                			this.update();
                			this.feedback();
                		}
                	},
                	glide: function()
                	{
                		var diff = [
                			this.value.target[0] - this.value.current[0],
                			this.value.target[1] - this.value.current[1]
                		];
                		if(!diff[0] && !diff[1])
                		{
                			return false;
                		}
                		if(Math.abs(diff[0]) > this.bounds.xStep || Math.abs(diff[1]) > this.bounds.yStep)
                		{
                			this.value.current[0] += diff[0] * this.speed;
                			this.value.current[1] += diff[1] * this.speed;
                		}
                		else
                		{
                			this.groupCopy(this.value.current, this.value.target);
                		}
                		return true;
                	},
                	update: function()
                	{
                		if(!this.snap)
                		{
                			this.offset.current = this.getOffsetsByRatios(this.value.current);
                		}
                		else
                		{
                			this.offset.current = this.getOffsetsByRatios(
                				this.getClosestSteps(this.value.current)
                			);
                		}
                		this.show();
                	},
                	show: function()
                	{
                		if(!this.groupCompare(this.offset.current, this.offset.prev))
                		{
                			if(this.horizontal)
                			{
                				this.handle.style.left = String(this.offset.current[0]) + 'px';
                			}
                			if(this.vertical)
                			{
                				this.handle.style.top = String(this.offset.current[1]) + 'px';
                			}
                			this.groupCopy(this.offset.prev, this.offset.current);
                		}
                	},
                	setTargetValue: function(value, loose)
                	{
                		var target = loose ? this.getLooseValue(value) : this.getProperValue(value);
                		
                		this.groupCopy(this.value.target, target);
                		this.offset.target = this.getOffsetsByRatios(target);
                	},
                	setTargetOffset: function(offset, loose)
                	{
                		var value = this.getRatiosByOffsets(offset);
                		var target = loose ? this.getLooseValue(value) : this.getProperValue(value);
                		
                		this.groupCopy(this.value.target, target);
                		this.offset.target = this.getOffsetsByRatios(target);
                	},
                	getLooseValue: function(value)
                	{
                		var proper = this.getProperValue(value);
                		return [
                			proper[0] + ((value[0] - proper[0]) / 4),
                			proper[1] + ((value[1] - proper[1]) / 4)
                		];
                	},
                	getProperValue: function(value)
                	{
                		var proper = this.groupClone(value);
                
                		proper[0] = Math.max(proper[0], 0);
                		proper[1] = Math.max(proper[1], 0);
                		proper[0] = Math.min(proper[0], 1);
                		proper[1] = Math.min(proper[1], 1);
                
                		if((!this.dragging && !this.tapping) || this.snap)
                		{
                			if(this.steps > 1)
                			{
                				proper = this.getClosestSteps(proper);
                			}
                		}
                		return proper;
                	},
                	getRatiosByOffsets: function(group)
                	{
                		return [
                			this.getRatioByOffset(group[0], this.bounds.xRange, this.bounds.x0),
                			this.getRatioByOffset(group[1], this.bounds.yRange, this.bounds.y0)
                		];
                	},
                	getRatioByOffset: function(offset, range, padding)
                	{
                		return range ? (offset - padding) / range : 0;
                	},
                	getOffsetsByRatios: function(group)
                	{
                		return [
                			this.getOffsetByRatio(group[0], this.bounds.xRange, this.bounds.x0),
                			this.getOffsetByRatio(group[1], this.bounds.yRange, this.bounds.y0)
                		];
                	},
                	getOffsetByRatio: function(ratio, range, padding)
                	{
                		return Math.round(ratio * range) + padding;
                	},
                	getClosestSteps: function(group)
                	{
                		return [
                			this.getClosestStep(group[0]),
                			this.getClosestStep(group[1])
                		];
                	},
                	getClosestStep: function(value)
                	{
                		var k = 0;
                		var min = 1;
                		for(var i = 0; i <= this.steps - 1; i++)
                		{
                			if(Math.abs(this.stepRatios[i] - value) < min)
                			{
                				min = Math.abs(this.stepRatios[i] - value);
                				k = i;
                			}
                		}
                		return this.stepRatios[k];
                	},
                	groupCompare: function(a, b)
                	{
                		return a[0] == b[0] && a[1] == b[1];
                	},
                	groupCopy: function(a, b)
                	{
                		a[0] = b[0];
                		a[1] = b[1];
                	},
                	groupClone: function(a)
                	{
                		return [a[0], a[1]];
                	},
                	preventDefaults: function(e, selection)
                	{
                		if(!e)
                		{
                			e = window.event;
                		}
                		if(e.preventDefault)
                		{
                			e.preventDefault();
                		}
                		e.returnValue = false;
                		
                		if(selection && document.selection)
                		{
                			document.selection.empty();
                		}
                	},
                	cancelEvent: function(e)
                	{
                		if(!e)
                		{
                			e = window.event;
                		}
                		if(e.stopPropagation)
                		{
                			e.stopPropagation();
                		}
                		e.cancelBubble = true;
                	}
                };
                
                /*! Copyright (c) 2013 Brandon Aaron (http://brandonaaron.net)
                 * Licensed under the MIT License (LICENSE.txt).
                 *
                 * Thanks to: http://adomas.org/javascript-mouse-wheel/ for some pointers.
                 * Thanks to: Mathias Bank(http://www.mathias-bank.de) for a scope bug fix.
                 * Thanks to: Seamus Leahy for adding deltaX and deltaY
                 *
                 * Version: 3.1.3
                 *
                 * Requires: 1.2.2+
                 */
                
                (function (factory) {
                    if ( typeof define === 'function' && define.amd ) {
                        // AMD. Register as an anonymous module.
                        define('handsontable',['jquery'], factory);
                    } else if (typeof exports === 'object') {
                        // Node/CommonJS style for Browserify
                        module.exports = factory;
                    } else {
                        // Browser globals
                        factory(jQuery);
                    }
                }(function ($) {
                
                    var toFix = ['wheel', 'mousewheel', 'DOMMouseScroll', 'MozMousePixelScroll'];
                    var toBind = 'onwheel' in document || document.documentMode >= 9 ? ['wheel'] : ['mousewheel', 'DomMouseScroll', 'MozMousePixelScroll'];
                    var lowestDelta, lowestDeltaXY;
                
                    if ( $.event.fixHooks ) {
                        for ( var i = toFix.length; i; ) {
                            $.event.fixHooks[ toFix[--i] ] = $.event.mouseHooks;
                        }
                    }
                
                    $.event.special.mousewheel = {
                        setup: function() {
                            if ( this.addEventListener ) {
                                for ( var i = toBind.length; i; ) {
                                    this.addEventListener( toBind[--i], handler, false );
                                }
                            } else {
                                this.onmousewheel = handler;
                            }
                        },
                
                        teardown: function() {
                            if ( this.removeEventListener ) {
                                for ( var i = toBind.length; i; ) {
                                    this.removeEventListener( toBind[--i], handler, false );
                                }
                            } else {
                                this.onmousewheel = null;
                            }
                        }
                    };
                
                    $.fn.extend({
                        mousewheel: function(fn) {
                            return fn ? this.bind("mousewheel", fn) : this.trigger("mousewheel");
                        },
                
                        unmousewheel: function(fn) {
                            return this.unbind("mousewheel", fn);
                        }
                    });
                
                
                    function handler(event) {
                        var orgEvent = event || window.event,
                            args = [].slice.call(arguments, 1),
                            delta = 0,
                            deltaX = 0,
                            deltaY = 0,
                            absDelta = 0,
                            absDeltaXY = 0,
                            fn;
                        event = $.event.fix(orgEvent);
                        event.type = "mousewheel";
                
                        // Old school scrollwheel delta
                        if ( orgEvent.wheelDelta ) { delta = orgEvent.wheelDelta; }
                        if ( orgEvent.detail )     { delta = orgEvent.detail * -1; }
                
                        // New school wheel delta (wheel event)
                        if ( orgEvent.deltaY ) {
                            deltaY = orgEvent.deltaY * -1;
                            delta  = deltaY;
                        }
                        if ( orgEvent.deltaX ) {
                            deltaX = orgEvent.deltaX;
                            delta  = deltaX * -1;
                        }
                
                        // Webkit
                        if ( orgEvent.wheelDeltaY !== undefined ) { deltaY = orgEvent.wheelDeltaY; }
                        if ( orgEvent.wheelDeltaX !== undefined ) { deltaX = orgEvent.wheelDeltaX * -1; }
                
                        // Look for lowest delta to normalize the delta values
                        absDelta = Math.abs(delta);
                        if ( !lowestDelta || absDelta < lowestDelta ) { lowestDelta = absDelta; }
                        absDeltaXY = Math.max(Math.abs(deltaY), Math.abs(deltaX));
                        if ( !lowestDeltaXY || absDeltaXY < lowestDeltaXY ) { lowestDeltaXY = absDeltaXY; }
                
                        // Get a whole value for the deltas
                        fn = delta > 0 ? 'floor' : 'ceil';
                        delta  = Math[fn](delta / lowestDelta);
                        deltaX = Math[fn](deltaX / lowestDeltaXY);
                        deltaY = Math[fn](deltaY / lowestDeltaXY);
                
                        // Add event and delta to the front of the arguments
                        args.unshift(event, delta, deltaX, deltaY);
                
                        return ($.event.dispatch || $.event.handle).apply(this, args);
                    }
                
                }));
                
                })(jQuery, window, Handsontable);
                (function() {
                  var __hasProp = {}.hasOwnProperty,
                    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };
                
                  define('widget/handson_table',["underscore", "jquery", "handsontable", "backbone", "common/has_properties", "common/continuum_view"], function(_, $, $$1, Backbone, HasProperties, ContinuumView) {
                    var HandsonTable, HandsonTableView, HandsonTables, _ref, _ref1, _ref2;
                    HandsonTableView = (function(_super) {
                      __extends(HandsonTableView, _super);
                
                      function HandsonTableView() {
                        _ref = HandsonTableView.__super__.constructor.apply(this, arguments);
                        return _ref;
                      }
                
                      HandsonTableView.prototype.initialize = function(options) {
                        HandsonTableView.__super__.initialize.call(this, options);
                        this.render();
                        return this.listenTo(this.model, 'change:source', this.render);
                      };
                
                      HandsonTableView.prototype.render = function() {
                        var column, columns, data, headers, ht, source, type, _i, _len, _ref1,
                          _this = this;
                        source = this.mget_obj("source");
                        if (source != null) {
                          headers = [];
                          columns = [];
                          _ref1 = this.mget_obj("columns");
                          for (_i = 0, _len = _ref1.length; _i < _len; _i++) {
                            column = _ref1[_i];
                            headers.push(column.get("header"));
                            data = column.get("data");
                            type = column.get("type");
                            columns.push({
                              data: data,
                              type: type
                            });
                          }
                          this.$el.handsontable({
                            data: source.datapoints(),
                            colHeaders: headers,
                            columns: columns,
                            afterChange: function(changes, source) {
                              if (source === "edit") {
                                return _this.editData(changes);
                              }
                            }
                          });
                          ht = this.$el.handsontable("getInstance");
                          return ht.view.wt.draw(true);
                        } else {
                          return this.$el.handsontable();
                        }
                      };
                
                      HandsonTableView.prototype.editData = function(changes) {
                        var array, change, column, data, i, index, new_val, old_val, source, _i, _j, _len, _ref1;
                        source = this.mget_obj("source");
                        data = source.get("data");
                        for (_i = 0, _len = changes.length; _i < _len; _i++) {
                          change = changes[_i];
                          index = change[0], column = change[1], old_val = change[2], new_val = change[3];
                          array = _.clone(data[column]);
                          if (index < array.length) {
                            array[index] = new_val;
                          } else {
                            for (i = _j = 0, _ref1 = array.length - index; 0 <= _ref1 ? _j < _ref1 : _j > _ref1; i = 0 <= _ref1 ? ++_j : --_j) {
                              array.push(NaN);
                            }
                            array.push(new_val);
                          }
                          data[column] = array;
                        }
                        return source.set(data);
                      };
                
                      return HandsonTableView;
                
                    })(ContinuumView.View);
                    HandsonTable = (function(_super) {
                      __extends(HandsonTable, _super);
                
                      function HandsonTable() {
                        _ref1 = HandsonTable.__super__.constructor.apply(this, arguments);
                        return _ref1;
                      }
                
                      HandsonTable.prototype.type = 'HandsonTable';
                
                      HandsonTable.prototype.default_view = HandsonTableView;
                
                      HandsonTable.prototype.defaults = function() {
                        return {
                          source: null,
                          columns: []
                        };
                      };
                
                      return HandsonTable;
                
                    })(HasProperties);
                    HandsonTables = (function(_super) {
                      __extends(HandsonTables, _super);
                
                      function HandsonTables() {
                        _ref2 = HandsonTables.__super__.constructor.apply(this, arguments);
                        return _ref2;
                      }
                
                      HandsonTables.prototype.model = HandsonTable;
                
                      return HandsonTables;
                
                    })(Backbone.Collection);
                    return {
                      Model: HandsonTable,
                      Collection: new HandsonTables(),
                      View: HandsonTableView
                    };
                  });
                
                }).call(this);
                
                /*
                //@ sourceMappingURL=handson_table.js.map
                */;
                (function() {
                  var __hasProp = {}.hasOwnProperty,
                    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };
                
                  define('widget/table_column',["underscore", "jquery", "backbone", "common/has_properties"], function(_, $, Backbone, HasProperties) {
                    var TableColumn, TableColumns, _ref, _ref1;
                    TableColumn = (function(_super) {
                      __extends(TableColumn, _super);
                
                      function TableColumn() {
                        _ref = TableColumn.__super__.constructor.apply(this, arguments);
                        return _ref;
                      }
                
                      TableColumn.prototype.type = 'TableColumn';
                
                      TableColumn.prototype.default_view = null;
                
                      TableColumn.prototype.defaults = function() {
                        return {};
                      };
                
                      return TableColumn;
                
                    })(HasProperties);
                    TableColumns = (function(_super) {
                      __extends(TableColumns, _super);
                
                      function TableColumns() {
                        _ref1 = TableColumns.__super__.constructor.apply(this, arguments);
                        return _ref1;
                      }
                
                      TableColumns.prototype.model = TableColumn;
                
                      return TableColumns;
                
                    })(Backbone.Collection);
                    return {
                      Model: TableColumn,
                      Collection: new TableColumns()
                    };
                  });
                
                }).call(this);
                
                /*
                //@ sourceMappingURL=table_column.js.map
                */;
                define('jquery_ui/core',['jquery'], function (jQuery) {
                /*!
                 * jQuery UI Core 1.10.0
                 * http://jqueryui.com
                 *
                 * Copyright 2013 jQuery Foundation and other contributors
                 * Released under the MIT license.
                 * http://jquery.org/license
                 *
                 * http://api.jqueryui.com/category/ui-core/
                 */
                (function( $, undefined ) {
                
                var uuid = 0,
                	runiqueId = /^ui-id-\d+$/;
                
                // prevent duplicate loading
                // this is only a problem because we proxy existing functions
                // and we don't want to double proxy them
                $.ui = $.ui || {};
                if ( $.ui.version ) {
                	return;
                }
                
                $.extend( $.ui, {
                	version: "1.10.0",
                
                	keyCode: {
                		BACKSPACE: 8,
                		COMMA: 188,
                		DELETE: 46,
                		DOWN: 40,
                		END: 35,
                		ENTER: 13,
                		ESCAPE: 27,
                		HOME: 36,
                		LEFT: 37,
                		NUMPAD_ADD: 107,
                		NUMPAD_DECIMAL: 110,
                		NUMPAD_DIVIDE: 111,
                		NUMPAD_ENTER: 108,
                		NUMPAD_MULTIPLY: 106,
                		NUMPAD_SUBTRACT: 109,
                		PAGE_DOWN: 34,
                		PAGE_UP: 33,
                		PERIOD: 190,
                		RIGHT: 39,
                		SPACE: 32,
                		TAB: 9,
                		UP: 38
                	}
                });
                
                // plugins
                $.fn.extend({
                	_focus: $.fn.focus,
                	focus: function( delay, fn ) {
                		return typeof delay === "number" ?
                			this.each(function() {
                				var elem = this;
                				setTimeout(function() {
                					$( elem ).focus();
                					if ( fn ) {
                						fn.call( elem );
                					}
                				}, delay );
                			}) :
                			this._focus.apply( this, arguments );
                	},
                
                	scrollParent: function() {
                		var scrollParent;
                		if (($.ui.ie && (/(static|relative)/).test(this.css("position"))) || (/absolute/).test(this.css("position"))) {
                			scrollParent = this.parents().filter(function() {
                				return (/(relative|absolute|fixed)/).test($.css(this,"position")) && (/(auto|scroll)/).test($.css(this,"overflow")+$.css(this,"overflow-y")+$.css(this,"overflow-x"));
                			}).eq(0);
                		} else {
                			scrollParent = this.parents().filter(function() {
                				return (/(auto|scroll)/).test($.css(this,"overflow")+$.css(this,"overflow-y")+$.css(this,"overflow-x"));
                			}).eq(0);
                		}
                
                		return (/fixed/).test(this.css("position")) || !scrollParent.length ? $(document) : scrollParent;
                	},
                
                	zIndex: function( zIndex ) {
                		if ( zIndex !== undefined ) {
                			return this.css( "zIndex", zIndex );
                		}
                
                		if ( this.length ) {
                			var elem = $( this[ 0 ] ), position, value;
                			while ( elem.length && elem[ 0 ] !== document ) {
                				// Ignore z-index if position is set to a value where z-index is ignored by the browser
                				// This makes behavior of this function consistent across browsers
                				// WebKit always returns auto if the element is positioned
                				position = elem.css( "position" );
                				if ( position === "absolute" || position === "relative" || position === "fixed" ) {
                					// IE returns 0 when zIndex is not specified
                					// other browsers return a string
                					// we ignore the case of nested elements with an explicit value of 0
                					// <div style="z-index: -10;"><div style="z-index: 0;"></div></div>
                					value = parseInt( elem.css( "zIndex" ), 10 );
                					if ( !isNaN( value ) && value !== 0 ) {
                						return value;
                					}
                				}
                				elem = elem.parent();
                			}
                		}
                
                		return 0;
                	},
                
                	uniqueId: function() {
                		return this.each(function() {
                			if ( !this.id ) {
                				this.id = "ui-id-" + (++uuid);
                			}
                		});
                	},
                
                	removeUniqueId: function() {
                		return this.each(function() {
                			if ( runiqueId.test( this.id ) ) {
                				$( this ).removeAttr( "id" );
                			}
                		});
                	}
                });
                
                // selectors
                function focusable( element, isTabIndexNotNaN ) {
                	var map, mapName, img,
                		nodeName = element.nodeName.toLowerCase();
                	if ( "area" === nodeName ) {
                		map = element.parentNode;
                		mapName = map.name;
                		if ( !element.href || !mapName || map.nodeName.toLowerCase() !== "map" ) {
                			return false;
                		}
                		img = $( "img[usemap=#" + mapName + "]" )[0];
                		return !!img && visible( img );
                	}
                	return ( /input|select|textarea|button|object/.test( nodeName ) ?
                		!element.disabled :
                		"a" === nodeName ?
                			element.href || isTabIndexNotNaN :
                			isTabIndexNotNaN) &&
                		// the element and all of its ancestors must be visible
                		visible( element );
                }
                
                function visible( element ) {
                	return $.expr.filters.visible( element ) &&
                		!$( element ).parents().addBack().filter(function() {
                			return $.css( this, "visibility" ) === "hidden";
                		}).length;
                }
                
                $.extend( $.expr[ ":" ], {
                	data: $.expr.createPseudo ?
                		$.expr.createPseudo(function( dataName ) {
                			return function( elem ) {
                				return !!$.data( elem, dataName );
                			};
                		}) :
                		// support: jQuery <1.8
                		function( elem, i, match ) {
                			return !!$.data( elem, match[ 3 ] );
                		},
                
                	focusable: function( element ) {
                		return focusable( element, !isNaN( $.attr( element, "tabindex" ) ) );
                	},
                
                	tabbable: function( element ) {
                		var tabIndex = $.attr( element, "tabindex" ),
                			isTabIndexNaN = isNaN( tabIndex );
                		return ( isTabIndexNaN || tabIndex >= 0 ) && focusable( element, !isTabIndexNaN );
                	}
                });
                
                // support: jQuery <1.8
                if ( !$( "<a>" ).outerWidth( 1 ).jquery ) {
                	$.each( [ "Width", "Height" ], function( i, name ) {
                		var side = name === "Width" ? [ "Left", "Right" ] : [ "Top", "Bottom" ],
                			type = name.toLowerCase(),
                			orig = {
                				innerWidth: $.fn.innerWidth,
                				innerHeight: $.fn.innerHeight,
                				outerWidth: $.fn.outerWidth,
                				outerHeight: $.fn.outerHeight
                			};
                
                		function reduce( elem, size, border, margin ) {
                			$.each( side, function() {
                				size -= parseFloat( $.css( elem, "padding" + this ) ) || 0;
                				if ( border ) {
                					size -= parseFloat( $.css( elem, "border" + this + "Width" ) ) || 0;
                				}
                				if ( margin ) {
                					size -= parseFloat( $.css( elem, "margin" + this ) ) || 0;
                				}
                			});
                			return size;
                		}
                
                		$.fn[ "inner" + name ] = function( size ) {
                			if ( size === undefined ) {
                				return orig[ "inner" + name ].call( this );
                			}
                
                			return this.each(function() {
                				$( this ).css( type, reduce( this, size ) + "px" );
                			});
                		};
                
                		$.fn[ "outer" + name] = function( size, margin ) {
                			if ( typeof size !== "number" ) {
                				return orig[ "outer" + name ].call( this, size );
                			}
                
                			return this.each(function() {
                				$( this).css( type, reduce( this, size, true, margin ) + "px" );
                			});
                		};
                	});
                }
                
                // support: jQuery <1.8
                if ( !$.fn.addBack ) {
                	$.fn.addBack = function( selector ) {
                		return this.add( selector == null ?
                			this.prevObject : this.prevObject.filter( selector )
                		);
                	};
                }
                
                // support: jQuery 1.6.1, 1.6.2 (http://bugs.jquery.com/ticket/9413)
                if ( $( "<a>" ).data( "a-b", "a" ).removeData( "a-b" ).data( "a-b" ) ) {
                	$.fn.removeData = (function( removeData ) {
                		return function( key ) {
                			if ( arguments.length ) {
                				return removeData.call( this, $.camelCase( key ) );
                			} else {
                				return removeData.call( this );
                			}
                		};
                	})( $.fn.removeData );
                }
                
                
                
                
                
                // deprecated
                $.ui.ie = !!/msie [\w.]+/.exec( navigator.userAgent.toLowerCase() );
                
                $.support.selectstart = "onselectstart" in document.createElement( "div" );
                $.fn.extend({
                	disableSelection: function() {
                		return this.bind( ( $.support.selectstart ? "selectstart" : "mousedown" ) +
                			".ui-disableSelection", function( event ) {
                				event.preventDefault();
                			});
                	},
                
                	enableSelection: function() {
                		return this.unbind( ".ui-disableSelection" );
                	}
                });
                
                $.extend( $.ui, {
                	// $.ui.plugin is deprecated.  Use the proxy pattern instead.
                	plugin: {
                		add: function( module, option, set ) {
                			var i,
                				proto = $.ui[ module ].prototype;
                			for ( i in set ) {
                				proto.plugins[ i ] = proto.plugins[ i ] || [];
                				proto.plugins[ i ].push( [ option, set[ i ] ] );
                			}
                		},
                		call: function( instance, name, args ) {
                			var i,
                				set = instance.plugins[ name ];
                			if ( !set || !instance.element[ 0 ].parentNode || instance.element[ 0 ].parentNode.nodeType === 11 ) {
                				return;
                			}
                
                			for ( i = 0; i < set.length; i++ ) {
                				if ( instance.options[ set[ i ][ 0 ] ] ) {
                					set[ i ][ 1 ].apply( instance.element, args );
                				}
                			}
                		}
                	},
                
                	// only used by resizable
                	hasScroll: function( el, a ) {
                
                		//If overflow is hidden, the element might have extra content, but the user wants to hide it
                		if ( $( el ).css( "overflow" ) === "hidden") {
                			return false;
                		}
                
                		var scroll = ( a && a === "left" ) ? "scrollLeft" : "scrollTop",
                			has = false;
                
                		if ( el[ scroll ] > 0 ) {
                			return true;
                		}
                
                		// TODO: determine which cases actually cause this to happen
                		// if the element doesn't have the scroll set, see if it's possible to
                		// set the scroll
                		el[ scroll ] = 1;
                		has = ( el[ scroll ] > 0 );
                		el[ scroll ] = 0;
                		return has;
                	}
                });
                
                })( jQuery );
                
                });
                define('jquery_ui/widget',['jquery'], function (jQuery) {
                /*!
                 * jQuery UI Widget 1.10.0
                 * http://jqueryui.com
                 *
                 * Copyright 2013 jQuery Foundation and other contributors
                 * Released under the MIT license.
                 * http://jquery.org/license
                 *
                 * http://api.jqueryui.com/jQuery.widget/
                 */
                (function( $, undefined ) {
                
                var uuid = 0,
                	slice = Array.prototype.slice,
                	_cleanData = $.cleanData;
                $.cleanData = function( elems ) {
                	for ( var i = 0, elem; (elem = elems[i]) != null; i++ ) {
                		try {
                			$( elem ).triggerHandler( "remove" );
                		// http://bugs.jquery.com/ticket/8235
                		} catch( e ) {}
                	}
                	_cleanData( elems );
                };
                
                $.widget = function( name, base, prototype ) {
                	var fullName, existingConstructor, constructor, basePrototype,
                		// proxiedPrototype allows the provided prototype to remain unmodified
                		// so that it can be used as a mixin for multiple widgets (#8876)
                		proxiedPrototype = {},
                		namespace = name.split( "." )[ 0 ];
                
                	name = name.split( "." )[ 1 ];
                	fullName = namespace + "-" + name;
                
                	if ( !prototype ) {
                		prototype = base;
                		base = $.Widget;
                	}
                
                	// create selector for plugin
                	$.expr[ ":" ][ fullName.toLowerCase() ] = function( elem ) {
                		return !!$.data( elem, fullName );
                	};
                
                	$[ namespace ] = $[ namespace ] || {};
                	existingConstructor = $[ namespace ][ name ];
                	constructor = $[ namespace ][ name ] = function( options, element ) {
                		// allow instantiation without "new" keyword
                		if ( !this._createWidget ) {
                			return new constructor( options, element );
                		}
                
                		// allow instantiation without initializing for simple inheritance
                		// must use "new" keyword (the code above always passes args)
                		if ( arguments.length ) {
                			this._createWidget( options, element );
                		}
                	};
                	// extend with the existing constructor to carry over any static properties
                	$.extend( constructor, existingConstructor, {
                		version: prototype.version,
                		// copy the object used to create the prototype in case we need to
                		// redefine the widget later
                		_proto: $.extend( {}, prototype ),
                		// track widgets that inherit from this widget in case this widget is
                		// redefined after a widget inherits from it
                		_childConstructors: []
                	});
                
                	basePrototype = new base();
                	// we need to make the options hash a property directly on the new instance
                	// otherwise we'll modify the options hash on the prototype that we're
                	// inheriting from
                	basePrototype.options = $.widget.extend( {}, basePrototype.options );
                	$.each( prototype, function( prop, value ) {
                		if ( !$.isFunction( value ) ) {
                			proxiedPrototype[ prop ] = value;
                			return;
                		}
                		proxiedPrototype[ prop ] = (function() {
                			var _super = function() {
                					return base.prototype[ prop ].apply( this, arguments );
                				},
                				_superApply = function( args ) {
                					return base.prototype[ prop ].apply( this, args );
                				};
                			return function() {
                				var __super = this._super,
                					__superApply = this._superApply,
                					returnValue;
                
                				this._super = _super;
                				this._superApply = _superApply;
                
                				returnValue = value.apply( this, arguments );
                
                				this._super = __super;
                				this._superApply = __superApply;
                
                				return returnValue;
                			};
                		})();
                	});
                	constructor.prototype = $.widget.extend( basePrototype, {
                		// TODO: remove support for widgetEventPrefix
                		// always use the name + a colon as the prefix, e.g., draggable:start
                		// don't prefix for widgets that aren't DOM-based
                		widgetEventPrefix: existingConstructor ? basePrototype.widgetEventPrefix : name
                	}, proxiedPrototype, {
                		constructor: constructor,
                		namespace: namespace,
                		widgetName: name,
                		widgetFullName: fullName
                	});
                
                	// If this widget is being redefined then we need to find all widgets that
                	// are inheriting from it and redefine all of them so that they inherit from
                	// the new version of this widget. We're essentially trying to replace one
                	// level in the prototype chain.
                	if ( existingConstructor ) {
                		$.each( existingConstructor._childConstructors, function( i, child ) {
                			var childPrototype = child.prototype;
                
                			// redefine the child widget using the same prototype that was
                			// originally used, but inherit from the new version of the base
                			$.widget( childPrototype.namespace + "." + childPrototype.widgetName, constructor, child._proto );
                		});
                		// remove the list of existing child constructors from the old constructor
                		// so the old child constructors can be garbage collected
                		delete existingConstructor._childConstructors;
                	} else {
                		base._childConstructors.push( constructor );
                	}
                
                	$.widget.bridge( name, constructor );
                };
                
                $.widget.extend = function( target ) {
                	var input = slice.call( arguments, 1 ),
                		inputIndex = 0,
                		inputLength = input.length,
                		key,
                		value;
                	for ( ; inputIndex < inputLength; inputIndex++ ) {
                		for ( key in input[ inputIndex ] ) {
                			value = input[ inputIndex ][ key ];
                			if ( input[ inputIndex ].hasOwnProperty( key ) && value !== undefined ) {
                				// Clone objects
                				if ( $.isPlainObject( value ) ) {
                					target[ key ] = $.isPlainObject( target[ key ] ) ?
                						$.widget.extend( {}, target[ key ], value ) :
                						// Don't extend strings, arrays, etc. with objects
                						$.widget.extend( {}, value );
                				// Copy everything else by reference
                				} else {
                					target[ key ] = value;
                				}
                			}
                		}
                	}
                	return target;
                };
                
                $.widget.bridge = function( name, object ) {
                	var fullName = object.prototype.widgetFullName || name;
                	$.fn[ name ] = function( options ) {
                		var isMethodCall = typeof options === "string",
                			args = slice.call( arguments, 1 ),
                			returnValue = this;
                
                		// allow multiple hashes to be passed on init
                		options = !isMethodCall && args.length ?
                			$.widget.extend.apply( null, [ options ].concat(args) ) :
                			options;
                
                		if ( isMethodCall ) {
                			this.each(function() {
                				var methodValue,
                					instance = $.data( this, fullName );
                				if ( !instance ) {
                					return $.error( "cannot call methods on " + name + " prior to initialization; " +
                						"attempted to call method '" + options + "'" );
                				}
                				if ( !$.isFunction( instance[options] ) || options.charAt( 0 ) === "_" ) {
                					return $.error( "no such method '" + options + "' for " + name + " widget instance" );
                				}
                				methodValue = instance[ options ].apply( instance, args );
                				if ( methodValue !== instance && methodValue !== undefined ) {
                					returnValue = methodValue && methodValue.jquery ?
                						returnValue.pushStack( methodValue.get() ) :
                						methodValue;
                					return false;
                				}
                			});
                		} else {
                			this.each(function() {
                				var instance = $.data( this, fullName );
                				if ( instance ) {
                					instance.option( options || {} )._init();
                				} else {
                					$.data( this, fullName, new object( options, this ) );
                				}
                			});
                		}
                
                		return returnValue;
                	};
                };
                
                $.Widget = function( /* options, element */ ) {};
                $.Widget._childConstructors = [];
                
                $.Widget.prototype = {
                	widgetName: "widget",
                	widgetEventPrefix: "",
                	defaultElement: "<div>",
                	options: {
                		disabled: false,
                
                		// callbacks
                		create: null
                	},
                	_createWidget: function( options, element ) {
                		element = $( element || this.defaultElement || this )[ 0 ];
                		this.element = $( element );
                		this.uuid = uuid++;
                		this.eventNamespace = "." + this.widgetName + this.uuid;
                		this.options = $.widget.extend( {},
                			this.options,
                			this._getCreateOptions(),
                			options );
                
                		this.bindings = $();
                		this.hoverable = $();
                		this.focusable = $();
                
                		if ( element !== this ) {
                			$.data( element, this.widgetFullName, this );
                			this._on( true, this.element, {
                				remove: function( event ) {
                					if ( event.target === element ) {
                						this.destroy();
                					}
                				}
                			});
                			this.document = $( element.style ?
                				// element within the document
                				element.ownerDocument :
                				// element is window or document
                				element.document || element );
                			this.window = $( this.document[0].defaultView || this.document[0].parentWindow );
                		}
                
                		this._create();
                		this._trigger( "create", null, this._getCreateEventData() );
                		this._init();
                	},
                	_getCreateOptions: $.noop,
                	_getCreateEventData: $.noop,
                	_create: $.noop,
                	_init: $.noop,
                
                	destroy: function() {
                		this._destroy();
                		// we can probably remove the unbind calls in 2.0
                		// all event bindings should go through this._on()
                		this.element
                			.unbind( this.eventNamespace )
                			// 1.9 BC for #7810
                			// TODO remove dual storage
                			.removeData( this.widgetName )
                			.removeData( this.widgetFullName )
                			// support: jquery <1.6.3
                			// http://bugs.jquery.com/ticket/9413
                			.removeData( $.camelCase( this.widgetFullName ) );
                		this.widget()
                			.unbind( this.eventNamespace )
                			.removeAttr( "aria-disabled" )
                			.removeClass(
                				this.widgetFullName + "-disabled " +
                				"ui-state-disabled" );
                
                		// clean up events and states
                		this.bindings.unbind( this.eventNamespace );
                		this.hoverable.removeClass( "ui-state-hover" );
                		this.focusable.removeClass( "ui-state-focus" );
                	},
                	_destroy: $.noop,
                
                	widget: function() {
                		return this.element;
                	},
                
                	option: function( key, value ) {
                		var options = key,
                			parts,
                			curOption,
                			i;
                
                		if ( arguments.length === 0 ) {
                			// don't return a reference to the internal hash
                			return $.widget.extend( {}, this.options );
                		}
                
                		if ( typeof key === "string" ) {
                			// handle nested keys, e.g., "foo.bar" => { foo: { bar: ___ } }
                			options = {};
                			parts = key.split( "." );
                			key = parts.shift();
                			if ( parts.length ) {
                				curOption = options[ key ] = $.widget.extend( {}, this.options[ key ] );
                				for ( i = 0; i < parts.length - 1; i++ ) {
                					curOption[ parts[ i ] ] = curOption[ parts[ i ] ] || {};
                					curOption = curOption[ parts[ i ] ];
                				}
                				key = parts.pop();
                				if ( value === undefined ) {
                					return curOption[ key ] === undefined ? null : curOption[ key ];
                				}
                				curOption[ key ] = value;
                			} else {
                				if ( value === undefined ) {
                					return this.options[ key ] === undefined ? null : this.options[ key ];
                				}
                				options[ key ] = value;
                			}
                		}
                
                		this._setOptions( options );
                
                		return this;
                	},
                	_setOptions: function( options ) {
                		var key;
                
                		for ( key in options ) {
                			this._setOption( key, options[ key ] );
                		}
                
                		return this;
                	},
                	_setOption: function( key, value ) {
                		this.options[ key ] = value;
                
                		if ( key === "disabled" ) {
                			this.widget()
                				.toggleClass( this.widgetFullName + "-disabled ui-state-disabled", !!value )
                				.attr( "aria-disabled", value );
                			this.hoverable.removeClass( "ui-state-hover" );
                			this.focusable.removeClass( "ui-state-focus" );
                		}
                
                		return this;
                	},
                
                	enable: function() {
                		return this._setOption( "disabled", false );
                	},
                	disable: function() {
                		return this._setOption( "disabled", true );
                	},
                
                	_on: function( suppressDisabledCheck, element, handlers ) {
                		var delegateElement,
                			instance = this;
                
                		// no suppressDisabledCheck flag, shuffle arguments
                		if ( typeof suppressDisabledCheck !== "boolean" ) {
                			handlers = element;
                			element = suppressDisabledCheck;
                			suppressDisabledCheck = false;
                		}
                
                		// no element argument, shuffle and use this.element
                		if ( !handlers ) {
                			handlers = element;
                			element = this.element;
                			delegateElement = this.widget();
                		} else {
                			// accept selectors, DOM elements
                			element = delegateElement = $( element );
                			this.bindings = this.bindings.add( element );
                		}
                
                		$.each( handlers, function( event, handler ) {
                			function handlerProxy() {
                				// allow widgets to customize the disabled handling
                				// - disabled as an array instead of boolean
                				// - disabled class as method for disabling individual parts
                				if ( !suppressDisabledCheck &&
                						( instance.options.disabled === true ||
                							$( this ).hasClass( "ui-state-disabled" ) ) ) {
                					return;
                				}
                				return ( typeof handler === "string" ? instance[ handler ] : handler )
                					.apply( instance, arguments );
                			}
                
                			// copy the guid so direct unbinding works
                			if ( typeof handler !== "string" ) {
                				handlerProxy.guid = handler.guid =
                					handler.guid || handlerProxy.guid || $.guid++;
                			}
                
                			var match = event.match( /^(\w+)\s*(.*)$/ ),
                				eventName = match[1] + instance.eventNamespace,
                				selector = match[2];
                			if ( selector ) {
                				delegateElement.delegate( selector, eventName, handlerProxy );
                			} else {
                				element.bind( eventName, handlerProxy );
                			}
                		});
                	},
                
                	_off: function( element, eventName ) {
                		eventName = (eventName || "").split( " " ).join( this.eventNamespace + " " ) + this.eventNamespace;
                		element.unbind( eventName ).undelegate( eventName );
                	},
                
                	_delay: function( handler, delay ) {
                		function handlerProxy() {
                			return ( typeof handler === "string" ? instance[ handler ] : handler )
                				.apply( instance, arguments );
                		}
                		var instance = this;
                		return setTimeout( handlerProxy, delay || 0 );
                	},
                
                	_hoverable: function( element ) {
                		this.hoverable = this.hoverable.add( element );
                		this._on( element, {
                			mouseenter: function( event ) {
                				$( event.currentTarget ).addClass( "ui-state-hover" );
                			},
                			mouseleave: function( event ) {
                				$( event.currentTarget ).removeClass( "ui-state-hover" );
                			}
                		});
                	},
                
                	_focusable: function( element ) {
                		this.focusable = this.focusable.add( element );
                		this._on( element, {
                			focusin: function( event ) {
                				$( event.currentTarget ).addClass( "ui-state-focus" );
                			},
                			focusout: function( event ) {
                				$( event.currentTarget ).removeClass( "ui-state-focus" );
                			}
                		});
                	},
                
                	_trigger: function( type, event, data ) {
                		var prop, orig,
                			callback = this.options[ type ];
                
                		data = data || {};
                		event = $.Event( event );
                		event.type = ( type === this.widgetEventPrefix ?
                			type :
                			this.widgetEventPrefix + type ).toLowerCase();
                		// the original event may come from any element
                		// so we need to reset the target on the new event
                		event.target = this.element[ 0 ];
                
                		// copy original event properties over to the new event
                		orig = event.originalEvent;
                		if ( orig ) {
                			for ( prop in orig ) {
                				if ( !( prop in event ) ) {
                					event[ prop ] = orig[ prop ];
                				}
                			}
                		}
                
                		this.element.trigger( event, data );
                		return !( $.isFunction( callback ) &&
                			callback.apply( this.element[0], [ event ].concat( data ) ) === false ||
                			event.isDefaultPrevented() );
                	}
                };
                
                $.each( { show: "fadeIn", hide: "fadeOut" }, function( method, defaultEffect ) {
                	$.Widget.prototype[ "_" + method ] = function( element, options, callback ) {
                		if ( typeof options === "string" ) {
                			options = { effect: options };
                		}
                		var hasOptions,
                			effectName = !options ?
                				method :
                				options === true || typeof options === "number" ?
                					defaultEffect :
                					options.effect || defaultEffect;
                		options = options || {};
                		if ( typeof options === "number" ) {
                			options = { duration: options };
                		}
                		hasOptions = !$.isEmptyObject( options );
                		options.complete = callback;
                		if ( options.delay ) {
                			element.delay( options.delay );
                		}
                		if ( hasOptions && $.effects && $.effects.effect[ effectName ] ) {
                			element[ method ]( options );
                		} else if ( effectName !== method && element[ effectName ] ) {
                			element[ effectName ]( options.duration, options.easing, callback );
                		} else {
                			element.queue(function( next ) {
                				$( this )[ method ]();
                				if ( callback ) {
                					callback.call( element[ 0 ] );
                				}
                				next();
                			});
                		}
                	};
                });
                
                })( jQuery );
                
                });
                define('jquery_ui/mouse',['jquery','./widget'], function (jQuery) {
                /*!
                 * jQuery UI Mouse 1.10.0
                 * http://jqueryui.com
                 *
                 * Copyright 2013 jQuery Foundation and other contributors
                 * Released under the MIT license.
                 * http://jquery.org/license
                 *
                 * http://api.jqueryui.com/mouse/
                 *
                 * Depends:
                 *	jquery.ui.widget.js
                 */
                (function( $, undefined ) {
                
                var mouseHandled = false;
                $( document ).mouseup( function() {
                	mouseHandled = false;
                });
                
                $.widget("ui.mouse", {
                	version: "1.10.0",
                	options: {
                		cancel: "input,textarea,button,select,option",
                		distance: 1,
                		delay: 0
                	},
                	_mouseInit: function() {
                		var that = this;
                
                		this.element
                			.bind("mousedown."+this.widgetName, function(event) {
                				return that._mouseDown(event);
                			})
                			.bind("click."+this.widgetName, function(event) {
                				if (true === $.data(event.target, that.widgetName + ".preventClickEvent")) {
                					$.removeData(event.target, that.widgetName + ".preventClickEvent");
                					event.stopImmediatePropagation();
                					return false;
                				}
                			});
                
                		this.started = false;
                	},
                
                	// TODO: make sure destroying one instance of mouse doesn't mess with
                	// other instances of mouse
                	_mouseDestroy: function() {
                		this.element.unbind("."+this.widgetName);
                		if ( this._mouseMoveDelegate ) {
                			$(document)
                				.unbind("mousemove."+this.widgetName, this._mouseMoveDelegate)
                				.unbind("mouseup."+this.widgetName, this._mouseUpDelegate);
                		}
                	},
                
                	_mouseDown: function(event) {
                		// don't let more than one widget handle mouseStart
                		if( mouseHandled ) { return; }
                
                		// we may have missed mouseup (out of window)
                		(this._mouseStarted && this._mouseUp(event));
                
                		this._mouseDownEvent = event;
                
                		var that = this,
                			btnIsLeft = (event.which === 1),
                			// event.target.nodeName works around a bug in IE 8 with
                			// disabled inputs (#7620)
                			elIsCancel = (typeof this.options.cancel === "string" && event.target.nodeName ? $(event.target).closest(this.options.cancel).length : false);
                		if (!btnIsLeft || elIsCancel || !this._mouseCapture(event)) {
                			return true;
                		}
                
                		this.mouseDelayMet = !this.options.delay;
                		if (!this.mouseDelayMet) {
                			this._mouseDelayTimer = setTimeout(function() {
                				that.mouseDelayMet = true;
                			}, this.options.delay);
                		}
                
                		if (this._mouseDistanceMet(event) && this._mouseDelayMet(event)) {
                			this._mouseStarted = (this._mouseStart(event) !== false);
                			if (!this._mouseStarted) {
                				event.preventDefault();
                				return true;
                			}
                		}
                
                		// Click event may never have fired (Gecko & Opera)
                		if (true === $.data(event.target, this.widgetName + ".preventClickEvent")) {
                			$.removeData(event.target, this.widgetName + ".preventClickEvent");
                		}
                
                		// these delegates are required to keep context
                		this._mouseMoveDelegate = function(event) {
                			return that._mouseMove(event);
                		};
                		this._mouseUpDelegate = function(event) {
                			return that._mouseUp(event);
                		};
                		$(document)
                			.bind("mousemove."+this.widgetName, this._mouseMoveDelegate)
                			.bind("mouseup."+this.widgetName, this._mouseUpDelegate);
                
                		event.preventDefault();
                
                		mouseHandled = true;
                		return true;
                	},
                
                	_mouseMove: function(event) {
                		// IE mouseup check - mouseup happened when mouse was out of window
                		if ($.ui.ie && ( !document.documentMode || document.documentMode < 9 ) && !event.button) {
                			return this._mouseUp(event);
                		}
                
                		if (this._mouseStarted) {
                			this._mouseDrag(event);
                			return event.preventDefault();
                		}
                
                		if (this._mouseDistanceMet(event) && this._mouseDelayMet(event)) {
                			this._mouseStarted =
                				(this._mouseStart(this._mouseDownEvent, event) !== false);
                			(this._mouseStarted ? this._mouseDrag(event) : this._mouseUp(event));
                		}
                
                		return !this._mouseStarted;
                	},
                
                	_mouseUp: function(event) {
                		$(document)
                			.unbind("mousemove."+this.widgetName, this._mouseMoveDelegate)
                			.unbind("mouseup."+this.widgetName, this._mouseUpDelegate);
                
                		if (this._mouseStarted) {
                			this._mouseStarted = false;
                
                			if (event.target === this._mouseDownEvent.target) {
                				$.data(event.target, this.widgetName + ".preventClickEvent", true);
                			}
                
                			this._mouseStop(event);
                		}
                
                		return false;
                	},
                
                	_mouseDistanceMet: function(event) {
                		return (Math.max(
                				Math.abs(this._mouseDownEvent.pageX - event.pageX),
                				Math.abs(this._mouseDownEvent.pageY - event.pageY)
                			) >= this.options.distance
                		);
                	},
                
                	_mouseDelayMet: function(/* event */) {
                		return this.mouseDelayMet;
                	},
                
                	// These are placeholder methods, to be overriden by extending plugin
                	_mouseStart: function(/* event */) {},
                	_mouseDrag: function(/* event */) {},
                	_mouseStop: function(/* event */) {},
                	_mouseCapture: function(/* event */) { return true; }
                });
                
                })(jQuery);
                
                });
                define('jquery_ui/sortable',['jquery','./core','./mouse','./widget'], function (jQuery) {
                /*!
                 * jQuery UI Sortable 1.10.0
                 * http://jqueryui.com
                 *
                 * Copyright 2013 jQuery Foundation and other contributors
                 * Released under the MIT license.
                 * http://jquery.org/license
                 *
                 * http://api.jqueryui.com/sortable/
                 *
                 * Depends:
                 *	jquery.ui.core.js
                 *	jquery.ui.mouse.js
                 *	jquery.ui.widget.js
                 */
                (function( $, undefined ) {
                
                /*jshint loopfunc: true */
                
                function isOverAxis( x, reference, size ) {
                	return ( x > reference ) && ( x < ( reference + size ) );
                }
                
                $.widget("ui.sortable", $.ui.mouse, {
                	version: "1.10.0",
                	widgetEventPrefix: "sort",
                	ready: false,
                	options: {
                		appendTo: "parent",
                		axis: false,
                		connectWith: false,
                		containment: false,
                		cursor: "auto",
                		cursorAt: false,
                		dropOnEmpty: true,
                		forcePlaceholderSize: false,
                		forceHelperSize: false,
                		grid: false,
                		handle: false,
                		helper: "original",
                		items: "> *",
                		opacity: false,
                		placeholder: false,
                		revert: false,
                		scroll: true,
                		scrollSensitivity: 20,
                		scrollSpeed: 20,
                		scope: "default",
                		tolerance: "intersect",
                		zIndex: 1000,
                
                		// callbacks
                		activate: null,
                		beforeStop: null,
                		change: null,
                		deactivate: null,
                		out: null,
                		over: null,
                		receive: null,
                		remove: null,
                		sort: null,
                		start: null,
                		stop: null,
                		update: null
                	},
                	_create: function() {
                
                		var o = this.options;
                		this.containerCache = {};
                		this.element.addClass("ui-sortable");
                
                		//Get the items
                		this.refresh();
                
                		//Let's determine if the items are being displayed horizontally
                		this.floating = this.items.length ? o.axis === "x" || (/left|right/).test(this.items[0].item.css("float")) || (/inline|table-cell/).test(this.items[0].item.css("display")) : false;
                
                		//Let's determine the parent's offset
                		this.offset = this.element.offset();
                
                		//Initialize mouse events for interaction
                		this._mouseInit();
                
                		//We're ready to go
                		this.ready = true;
                
                	},
                
                	_destroy: function() {
                		this.element
                			.removeClass("ui-sortable ui-sortable-disabled");
                		this._mouseDestroy();
                
                		for ( var i = this.items.length - 1; i >= 0; i-- ) {
                			this.items[i].item.removeData(this.widgetName + "-item");
                		}
                
                		return this;
                	},
                
                	_setOption: function(key, value){
                		if ( key === "disabled" ) {
                			this.options[ key ] = value;
                
                			this.widget().toggleClass( "ui-sortable-disabled", !!value );
                		} else {
                			// Don't call widget base _setOption for disable as it adds ui-state-disabled class
                			$.Widget.prototype._setOption.apply(this, arguments);
                		}
                	},
                
                	_mouseCapture: function(event, overrideHandle) {
                		var currentItem = null,
                			validHandle = false,
                			that = this;
                
                		if (this.reverting) {
                			return false;
                		}
                
                		if(this.options.disabled || this.options.type === "static") {
                			return false;
                		}
                
                		//We have to refresh the items data once first
                		this._refreshItems(event);
                
                		//Find out if the clicked node (or one of its parents) is a actual item in this.items
                		$(event.target).parents().each(function() {
                			if($.data(this, that.widgetName + "-item") === that) {
                				currentItem = $(this);
                				return false;
                			}
                		});
                		if($.data(event.target, that.widgetName + "-item") === that) {
                			currentItem = $(event.target);
                		}
                
                		if(!currentItem) {
                			return false;
                		}
                		if(this.options.handle && !overrideHandle) {
                			$(this.options.handle, currentItem).find("*").addBack().each(function() {
                				if(this === event.target) {
                					validHandle = true;
                				}
                			});
                			if(!validHandle) {
                				return false;
                			}
                		}
                
                		this.currentItem = currentItem;
                		this._removeCurrentsFromItems();
                		return true;
                
                	},
                
                	_mouseStart: function(event, overrideHandle, noActivation) {
                
                		var i,
                			o = this.options;
                
                		this.currentContainer = this;
                
                		//We only need to call refreshPositions, because the refreshItems call has been moved to mouseCapture
                		this.refreshPositions();
                
                		//Create and append the visible helper
                		this.helper = this._createHelper(event);
                
                		//Cache the helper size
                		this._cacheHelperProportions();
                
                		/*
                		 * - Position generation -
                		 * This block generates everything position related - it's the core of draggables.
                		 */
                
                		//Cache the margins of the original element
                		this._cacheMargins();
                
                		//Get the next scrolling parent
                		this.scrollParent = this.helper.scrollParent();
                
                		//The element's absolute position on the page minus margins
                		this.offset = this.currentItem.offset();
                		this.offset = {
                			top: this.offset.top - this.margins.top,
                			left: this.offset.left - this.margins.left
                		};
                
                		$.extend(this.offset, {
                			click: { //Where the click happened, relative to the element
                				left: event.pageX - this.offset.left,
                				top: event.pageY - this.offset.top
                			},
                			parent: this._getParentOffset(),
                			relative: this._getRelativeOffset() //This is a relative to absolute position minus the actual position calculation - only used for relative positioned helper
                		});
                
                		// Only after we got the offset, we can change the helper's position to absolute
                		// TODO: Still need to figure out a way to make relative sorting possible
                		this.helper.css("position", "absolute");
                		this.cssPosition = this.helper.css("position");
                
                		//Generate the original position
                		this.originalPosition = this._generatePosition(event);
                		this.originalPageX = event.pageX;
                		this.originalPageY = event.pageY;
                
                		//Adjust the mouse offset relative to the helper if "cursorAt" is supplied
                		(o.cursorAt && this._adjustOffsetFromHelper(o.cursorAt));
                
                		//Cache the former DOM position
                		this.domPosition = { prev: this.currentItem.prev()[0], parent: this.currentItem.parent()[0] };
                
                		//If the helper is not the original, hide the original so it's not playing any role during the drag, won't cause anything bad this way
                		if(this.helper[0] !== this.currentItem[0]) {
                			this.currentItem.hide();
                		}
                
                		//Create the placeholder
                		this._createPlaceholder();
                
                		//Set a containment if given in the options
                		if(o.containment) {
                			this._setContainment();
                		}
                
                		if(o.cursor) { // cursor option
                			if ($("body").css("cursor")) {
                				this._storedCursor = $("body").css("cursor");
                			}
                			$("body").css("cursor", o.cursor);
                		}
                
                		if(o.opacity) { // opacity option
                			if (this.helper.css("opacity")) {
                				this._storedOpacity = this.helper.css("opacity");
                			}
                			this.helper.css("opacity", o.opacity);
                		}
                
                		if(o.zIndex) { // zIndex option
                			if (this.helper.css("zIndex")) {
                				this._storedZIndex = this.helper.css("zIndex");
                			}
                			this.helper.css("zIndex", o.zIndex);
                		}
                
                		//Prepare scrolling
                		if(this.scrollParent[0] !== document && this.scrollParent[0].tagName !== "HTML") {
                			this.overflowOffset = this.scrollParent.offset();
                		}
                
                		//Call callbacks
                		this._trigger("start", event, this._uiHash());
                
                		//Recache the helper size
                		if(!this._preserveHelperProportions) {
                			this._cacheHelperProportions();
                		}
                
                
                		//Post "activate" events to possible containers
                		if( !noActivation ) {
                			for ( i = this.containers.length - 1; i >= 0; i-- ) {
                				this.containers[ i ]._trigger( "activate", event, this._uiHash( this ) );
                			}
                		}
                
                		//Prepare possible droppables
                		if($.ui.ddmanager) {
                			$.ui.ddmanager.current = this;
                		}
                
                		if ($.ui.ddmanager && !o.dropBehaviour) {
                			$.ui.ddmanager.prepareOffsets(this, event);
                		}
                
                		this.dragging = true;
                
                		this.helper.addClass("ui-sortable-helper");
                		this._mouseDrag(event); //Execute the drag once - this causes the helper not to be visible before getting its correct position
                		return true;
                
                	},
                
                	_mouseDrag: function(event) {
                		var i, item, itemElement, intersection,
                			o = this.options,
                			scrolled = false;
                
                		//Compute the helpers position
                		this.position = this._generatePosition(event);
                		this.positionAbs = this._convertPositionTo("absolute");
                
                		if (!this.lastPositionAbs) {
                			this.lastPositionAbs = this.positionAbs;
                		}
                
                		//Do scrolling
                		if(this.options.scroll) {
                			if(this.scrollParent[0] !== document && this.scrollParent[0].tagName !== "HTML") {
                
                				if((this.overflowOffset.top + this.scrollParent[0].offsetHeight) - event.pageY < o.scrollSensitivity) {
                					this.scrollParent[0].scrollTop = scrolled = this.scrollParent[0].scrollTop + o.scrollSpeed;
                				} else if(event.pageY - this.overflowOffset.top < o.scrollSensitivity) {
                					this.scrollParent[0].scrollTop = scrolled = this.scrollParent[0].scrollTop - o.scrollSpeed;
                				}
                
                				if((this.overflowOffset.left + this.scrollParent[0].offsetWidth) - event.pageX < o.scrollSensitivity) {
                					this.scrollParent[0].scrollLeft = scrolled = this.scrollParent[0].scrollLeft + o.scrollSpeed;
                				} else if(event.pageX - this.overflowOffset.left < o.scrollSensitivity) {
                					this.scrollParent[0].scrollLeft = scrolled = this.scrollParent[0].scrollLeft - o.scrollSpeed;
                				}
                
                			} else {
                
                				if(event.pageY - $(document).scrollTop() < o.scrollSensitivity) {
                					scrolled = $(document).scrollTop($(document).scrollTop() - o.scrollSpeed);
                				} else if($(window).height() - (event.pageY - $(document).scrollTop()) < o.scrollSensitivity) {
                					scrolled = $(document).scrollTop($(document).scrollTop() + o.scrollSpeed);
                				}
                
                				if(event.pageX - $(document).scrollLeft() < o.scrollSensitivity) {
                					scrolled = $(document).scrollLeft($(document).scrollLeft() - o.scrollSpeed);
                				} else if($(window).width() - (event.pageX - $(document).scrollLeft()) < o.scrollSensitivity) {
                					scrolled = $(document).scrollLeft($(document).scrollLeft() + o.scrollSpeed);
                				}
                
                			}
                
                			if(scrolled !== false && $.ui.ddmanager && !o.dropBehaviour) {
                				$.ui.ddmanager.prepareOffsets(this, event);
                			}
                		}
                
                		//Regenerate the absolute position used for position checks
                		this.positionAbs = this._convertPositionTo("absolute");
                
                		//Set the helper position
                		if(!this.options.axis || this.options.axis !== "y") {
                			this.helper[0].style.left = this.position.left+"px";
                		}
                		if(!this.options.axis || this.options.axis !== "x") {
                			this.helper[0].style.top = this.position.top+"px";
                		}
                
                		//Rearrange
                		for (i = this.items.length - 1; i >= 0; i--) {
                
                			//Cache variables and intersection, continue if no intersection
                			item = this.items[i];
                			itemElement = item.item[0];
                			intersection = this._intersectsWithPointer(item);
                			if (!intersection) {
                				continue;
                			}
                
                			// Only put the placeholder inside the current Container, skip all
                			// items form other containers. This works because when moving
                			// an item from one container to another the
                			// currentContainer is switched before the placeholder is moved.
                			//
                			// Without this moving items in "sub-sortables" can cause the placeholder to jitter
                			// beetween the outer and inner container.
                			if (item.instance !== this.currentContainer) {
                				continue;
                			}
                
                			// cannot intersect with itself
                			// no useless actions that have been done before
                			// no action if the item moved is the parent of the item checked
                			if (itemElement !== this.currentItem[0] &&
                				this.placeholder[intersection === 1 ? "next" : "prev"]()[0] !== itemElement &&
                				!$.contains(this.placeholder[0], itemElement) &&
                				(this.options.type === "semi-dynamic" ? !$.contains(this.element[0], itemElement) : true)
                			) {
                
                				this.direction = intersection === 1 ? "down" : "up";
                
                				if (this.options.tolerance === "pointer" || this._intersectsWithSides(item)) {
                					this._rearrange(event, item);
                				} else {
                					break;
                				}
                
                				this._trigger("change", event, this._uiHash());
                				break;
                			}
                		}
                
                		//Post events to containers
                		this._contactContainers(event);
                
                		//Interconnect with droppables
                		if($.ui.ddmanager) {
                			$.ui.ddmanager.drag(this, event);
                		}
                
                		//Call callbacks
                		this._trigger("sort", event, this._uiHash());
                
                		this.lastPositionAbs = this.positionAbs;
                		return false;
                
                	},
                
                	_mouseStop: function(event, noPropagation) {
                
                		if(!event) {
                			return;
                		}
                
                		//If we are using droppables, inform the manager about the drop
                		if ($.ui.ddmanager && !this.options.dropBehaviour) {
                			$.ui.ddmanager.drop(this, event);
                		}
                
                		if(this.options.revert) {
                			var that = this,
                				cur = this.placeholder.offset();
                
                			this.reverting = true;
                
                			$(this.helper).animate({
                				left: cur.left - this.offset.parent.left - this.margins.left + (this.offsetParent[0] === document.body ? 0 : this.offsetParent[0].scrollLeft),
                				top: cur.top - this.offset.parent.top - this.margins.top + (this.offsetParent[0] === document.body ? 0 : this.offsetParent[0].scrollTop)
                			}, parseInt(this.options.revert, 10) || 500, function() {
                				that._clear(event);
                			});
                		} else {
                			this._clear(event, noPropagation);
                		}
                
                		return false;
                
                	},
                
                	cancel: function() {
                
                		if(this.dragging) {
                
                			this._mouseUp({ target: null });
                
                			if(this.options.helper === "original") {
                				this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper");
                			} else {
                				this.currentItem.show();
                			}
                
                			//Post deactivating events to containers
                			for (var i = this.containers.length - 1; i >= 0; i--){
                				this.containers[i]._trigger("deactivate", null, this._uiHash(this));
                				if(this.containers[i].containerCache.over) {
                					this.containers[i]._trigger("out", null, this._uiHash(this));
                					this.containers[i].containerCache.over = 0;
                				}
                			}
                
                		}
                
                		if (this.placeholder) {
                			//$(this.placeholder[0]).remove(); would have been the jQuery way - unfortunately, it unbinds ALL events from the original node!
                			if(this.placeholder[0].parentNode) {
                				this.placeholder[0].parentNode.removeChild(this.placeholder[0]);
                			}
                			if(this.options.helper !== "original" && this.helper && this.helper[0].parentNode) {
                				this.helper.remove();
                			}
                
                			$.extend(this, {
                				helper: null,
                				dragging: false,
                				reverting: false,
                				_noFinalSort: null
                			});
                
                			if(this.domPosition.prev) {
                				$(this.domPosition.prev).after(this.currentItem);
                			} else {
                				$(this.domPosition.parent).prepend(this.currentItem);
                			}
                		}
                
                		return this;
                
                	},
                
                	serialize: function(o) {
                
                		var items = this._getItemsAsjQuery(o && o.connected),
                			str = [];
                		o = o || {};
                
                		$(items).each(function() {
                			var res = ($(o.item || this).attr(o.attribute || "id") || "").match(o.expression || (/(.+)[\-=_](.+)/));
                			if (res) {
                				str.push((o.key || res[1]+"[]")+"="+(o.key && o.expression ? res[1] : res[2]));
                			}
                		});
                
                		if(!str.length && o.key) {
                			str.push(o.key + "=");
                		}
                
                		return str.join("&");
                
                	},
                
                	toArray: function(o) {
                
                		var items = this._getItemsAsjQuery(o && o.connected),
                			ret = [];
                
                		o = o || {};
                
                		items.each(function() { ret.push($(o.item || this).attr(o.attribute || "id") || ""); });
                		return ret;
                
                	},
                
                	/* Be careful with the following core functions */
                	_intersectsWith: function(item) {
                
                		var x1 = this.positionAbs.left,
                			x2 = x1 + this.helperProportions.width,
                			y1 = this.positionAbs.top,
                			y2 = y1 + this.helperProportions.height,
                			l = item.left,
                			r = l + item.width,
                			t = item.top,
                			b = t + item.height,
                			dyClick = this.offset.click.top,
                			dxClick = this.offset.click.left,
                			isOverElement = (y1 + dyClick) > t && (y1 + dyClick) < b && (x1 + dxClick) > l && (x1 + dxClick) < r;
                
                		if ( this.options.tolerance === "pointer" ||
                			this.options.forcePointerForContainers ||
                			(this.options.tolerance !== "pointer" && this.helperProportions[this.floating ? "width" : "height"] > item[this.floating ? "width" : "height"])
                		) {
                			return isOverElement;
                		} else {
                
                			return (l < x1 + (this.helperProportions.width / 2) && // Right Half
                				x2 - (this.helperProportions.width / 2) < r && // Left Half
                				t < y1 + (this.helperProportions.height / 2) && // Bottom Half
                				y2 - (this.helperProportions.height / 2) < b ); // Top Half
                
                		}
                	},
                
                	_intersectsWithPointer: function(item) {
                
                		var isOverElementHeight = (this.options.axis === "x") || isOverAxis(this.positionAbs.top + this.offset.click.top, item.top, item.height),
                			isOverElementWidth = (this.options.axis === "y") || isOverAxis(this.positionAbs.left + this.offset.click.left, item.left, item.width),
                			isOverElement = isOverElementHeight && isOverElementWidth,
                			verticalDirection = this._getDragVerticalDirection(),
                			horizontalDirection = this._getDragHorizontalDirection();
                
                		if (!isOverElement) {
                			return false;
                		}
                
                		return this.floating ?
                			( ((horizontalDirection && horizontalDirection === "right") || verticalDirection === "down") ? 2 : 1 )
                			: ( verticalDirection && (verticalDirection === "down" ? 2 : 1) );
                
                	},
                
                	_intersectsWithSides: function(item) {
                
                		var isOverBottomHalf = isOverAxis(this.positionAbs.top + this.offset.click.top, item.top + (item.height/2), item.height),
                			isOverRightHalf = isOverAxis(this.positionAbs.left + this.offset.click.left, item.left + (item.width/2), item.width),
                			verticalDirection = this._getDragVerticalDirection(),
                			horizontalDirection = this._getDragHorizontalDirection();
                
                		if (this.floating && horizontalDirection) {
                			return ((horizontalDirection === "right" && isOverRightHalf) || (horizontalDirection === "left" && !isOverRightHalf));
                		} else {
                			return verticalDirection && ((verticalDirection === "down" && isOverBottomHalf) || (verticalDirection === "up" && !isOverBottomHalf));
                		}
                
                	},
                
                	_getDragVerticalDirection: function() {
                		var delta = this.positionAbs.top - this.lastPositionAbs.top;
                		return delta !== 0 && (delta > 0 ? "down" : "up");
                	},
                
                	_getDragHorizontalDirection: function() {
                		var delta = this.positionAbs.left - this.lastPositionAbs.left;
                		return delta !== 0 && (delta > 0 ? "right" : "left");
                	},
                
                	refresh: function(event) {
                		this._refreshItems(event);
                		this.refreshPositions();
                		return this;
                	},
                
                	_connectWith: function() {
                		var options = this.options;
                		return options.connectWith.constructor === String ? [options.connectWith] : options.connectWith;
                	},
                
                	_getItemsAsjQuery: function(connected) {
                
                		var i, j, cur, inst,
                			items = [],
                			queries = [],
                			connectWith = this._connectWith();
                
                		if(connectWith && connected) {
                			for (i = connectWith.length - 1; i >= 0; i--){
                				cur = $(connectWith[i]);
                				for ( j = cur.length - 1; j >= 0; j--){
                					inst = $.data(cur[j], this.widgetFullName);
                					if(inst && inst !== this && !inst.options.disabled) {
                						queries.push([$.isFunction(inst.options.items) ? inst.options.items.call(inst.element) : $(inst.options.items, inst.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"), inst]);
                					}
                				}
                			}
                		}
                
                		queries.push([$.isFunction(this.options.items) ? this.options.items.call(this.element, null, { options: this.options, item: this.currentItem }) : $(this.options.items, this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"), this]);
                
                		for (i = queries.length - 1; i >= 0; i--){
                			queries[i][0].each(function() {
                				items.push(this);
                			});
                		}
                
                		return $(items);
                
                	},
                
                	_removeCurrentsFromItems: function() {
                
                		var list = this.currentItem.find(":data(" + this.widgetName + "-item)");
                
                		this.items = $.grep(this.items, function (item) {
                			for (var j=0; j < list.length; j++) {
                				if(list[j] === item.item[0]) {
                					return false;
                				}
                			}
                			return true;
                		});
                
                	},
                
                	_refreshItems: function(event) {
                
                		this.items = [];
                		this.containers = [this];
                
                		var i, j, cur, inst, targetData, _queries, item, queriesLength,
                			items = this.items,
                			queries = [[$.isFunction(this.options.items) ? this.options.items.call(this.element[0], event, { item: this.currentItem }) : $(this.options.items, this.element), this]],
                			connectWith = this._connectWith();
                
                		if(connectWith && this.ready) { //Shouldn't be run the first time through due to massive slow-down
                			for (i = connectWith.length - 1; i >= 0; i--){
                				cur = $(connectWith[i]);
                				for (j = cur.length - 1; j >= 0; j--){
                					inst = $.data(cur[j], this.widgetFullName);
                					if(inst && inst !== this && !inst.options.disabled) {
                						queries.push([$.isFunction(inst.options.items) ? inst.options.items.call(inst.element[0], event, { item: this.currentItem }) : $(inst.options.items, inst.element), inst]);
                						this.containers.push(inst);
                					}
                				}
                			}
                		}
                
                		for (i = queries.length - 1; i >= 0; i--) {
                			targetData = queries[i][1];
                			_queries = queries[i][0];
                
                			for (j=0, queriesLength = _queries.length; j < queriesLength; j++) {
                				item = $(_queries[j]);
                
                				item.data(this.widgetName + "-item", targetData); // Data for target checking (mouse manager)
                
                				items.push({
                					item: item,
                					instance: targetData,
                					width: 0, height: 0,
                					left: 0, top: 0
                				});
                			}
                		}
                
                	},
                
                	refreshPositions: function(fast) {
                
                		//This has to be redone because due to the item being moved out/into the offsetParent, the offsetParent's position will change
                		if(this.offsetParent && this.helper) {
                			this.offset.parent = this._getParentOffset();
                		}
                
                		var i, item, t, p;
                
                		for (i = this.items.length - 1; i >= 0; i--){
                			item = this.items[i];
                
                			//We ignore calculating positions of all connected containers when we're not over them
                			if(item.instance !== this.currentContainer && this.currentContainer && item.item[0] !== this.currentItem[0]) {
                				continue;
                			}
                
                			t = this.options.toleranceElement ? $(this.options.toleranceElement, item.item) : item.item;
                
                			if (!fast) {
                				item.width = t.outerWidth();
                				item.height = t.outerHeight();
                			}
                
                			p = t.offset();
                			item.left = p.left;
                			item.top = p.top;
                		}
                
                		if(this.options.custom && this.options.custom.refreshContainers) {
                			this.options.custom.refreshContainers.call(this);
                		} else {
                			for (i = this.containers.length - 1; i >= 0; i--){
                				p = this.containers[i].element.offset();
                				this.containers[i].containerCache.left = p.left;
                				this.containers[i].containerCache.top = p.top;
                				this.containers[i].containerCache.width	= this.containers[i].element.outerWidth();
                				this.containers[i].containerCache.height = this.containers[i].element.outerHeight();
                			}
                		}
                
                		return this;
                	},
                
                	_createPlaceholder: function(that) {
                		that = that || this;
                		var className,
                			o = that.options;
                
                		if(!o.placeholder || o.placeholder.constructor === String) {
                			className = o.placeholder;
                			o.placeholder = {
                				element: function() {
                
                					var el = $(document.createElement(that.currentItem[0].nodeName))
                						.addClass(className || that.currentItem[0].className+" ui-sortable-placeholder")
                						.removeClass("ui-sortable-helper")[0];
                
                					if(!className) {
                						el.style.visibility = "hidden";
                					}
                
                					return el;
                				},
                				update: function(container, p) {
                
                					// 1. If a className is set as 'placeholder option, we don't force sizes - the class is responsible for that
                					// 2. The option 'forcePlaceholderSize can be enabled to force it even if a class name is specified
                					if(className && !o.forcePlaceholderSize) {
                						return;
                					}
                
                					//If the element doesn't have a actual height by itself (without styles coming from a stylesheet), it receives the inline height from the dragged item
                					if(!p.height()) { p.height(that.currentItem.innerHeight() - parseInt(that.currentItem.css("paddingTop")||0, 10) - parseInt(that.currentItem.css("paddingBottom")||0, 10)); }
                					if(!p.width()) { p.width(that.currentItem.innerWidth() - parseInt(that.currentItem.css("paddingLeft")||0, 10) - parseInt(that.currentItem.css("paddingRight")||0, 10)); }
                				}
                			};
                		}
                
                		//Create the placeholder
                		that.placeholder = $(o.placeholder.element.call(that.element, that.currentItem));
                
                		//Append it after the actual current item
                		that.currentItem.after(that.placeholder);
                
                		//Update the size of the placeholder (TODO: Logic to fuzzy, see line 316/317)
                		o.placeholder.update(that, that.placeholder);
                
                	},
                
                	_contactContainers: function(event) {
                		var i, j, dist, itemWithLeastDistance, posProperty, sizeProperty, base, cur, nearBottom,
                			innermostContainer = null,
                			innermostIndex = null;
                
                		// get innermost container that intersects with item
                		for (i = this.containers.length - 1; i >= 0; i--) {
                
                			// never consider a container that's located within the item itself
                			if($.contains(this.currentItem[0], this.containers[i].element[0])) {
                				continue;
                			}
                
                			if(this._intersectsWith(this.containers[i].containerCache)) {
                
                				// if we've already found a container and it's more "inner" than this, then continue
                				if(innermostContainer && $.contains(this.containers[i].element[0], innermostContainer.element[0])) {
                					continue;
                				}
                
                				innermostContainer = this.containers[i];
                				innermostIndex = i;
                
                			} else {
                				// container doesn't intersect. trigger "out" event if necessary
                				if(this.containers[i].containerCache.over) {
                					this.containers[i]._trigger("out", event, this._uiHash(this));
                					this.containers[i].containerCache.over = 0;
                				}
                			}
                
                		}
                
                		// if no intersecting containers found, return
                		if(!innermostContainer) {
                			return;
                		}
                
                		// move the item into the container if it's not there already
                		if(this.containers.length === 1) {
                			this.containers[innermostIndex]._trigger("over", event, this._uiHash(this));
                			this.containers[innermostIndex].containerCache.over = 1;
                		} else {
                
                			//When entering a new container, we will find the item with the least distance and append our item near it
                			dist = 10000;
                			itemWithLeastDistance = null;
                			posProperty = this.containers[innermostIndex].floating ? "left" : "top";
                			sizeProperty = this.containers[innermostIndex].floating ? "width" : "height";
                			base = this.positionAbs[posProperty] + this.offset.click[posProperty];
                			for (j = this.items.length - 1; j >= 0; j--) {
                				if(!$.contains(this.containers[innermostIndex].element[0], this.items[j].item[0])) {
                					continue;
                				}
                				if(this.items[j].item[0] === this.currentItem[0]) {
                					continue;
                				}
                				cur = this.items[j].item.offset()[posProperty];
                				nearBottom = false;
                				if(Math.abs(cur - base) > Math.abs(cur + this.items[j][sizeProperty] - base)){
                					nearBottom = true;
                					cur += this.items[j][sizeProperty];
                				}
                
                				if(Math.abs(cur - base) < dist) {
                					dist = Math.abs(cur - base); itemWithLeastDistance = this.items[j];
                					this.direction = nearBottom ? "up": "down";
                				}
                			}
                
                			//Check if dropOnEmpty is enabled
                			if(!itemWithLeastDistance && !this.options.dropOnEmpty) {
                				return;
                			}
                
                			this.currentContainer = this.containers[innermostIndex];
                			itemWithLeastDistance ? this._rearrange(event, itemWithLeastDistance, null, true) : this._rearrange(event, null, this.containers[innermostIndex].element, true);
                			this._trigger("change", event, this._uiHash());
                			this.containers[innermostIndex]._trigger("change", event, this._uiHash(this));
                
                			//Update the placeholder
                			this.options.placeholder.update(this.currentContainer, this.placeholder);
                
                			this.containers[innermostIndex]._trigger("over", event, this._uiHash(this));
                			this.containers[innermostIndex].containerCache.over = 1;
                		}
                
                
                	},
                
                	_createHelper: function(event) {
                
                		var o = this.options,
                			helper = $.isFunction(o.helper) ? $(o.helper.apply(this.element[0], [event, this.currentItem])) : (o.helper === "clone" ? this.currentItem.clone() : this.currentItem);
                
                		//Add the helper to the DOM if that didn't happen already
                		if(!helper.parents("body").length) {
                			$(o.appendTo !== "parent" ? o.appendTo : this.currentItem[0].parentNode)[0].appendChild(helper[0]);
                		}
                
                		if(helper[0] === this.currentItem[0]) {
                			this._storedCSS = { width: this.currentItem[0].style.width, height: this.currentItem[0].style.height, position: this.currentItem.css("position"), top: this.currentItem.css("top"), left: this.currentItem.css("left") };
                		}
                
                		if(!helper[0].style.width || o.forceHelperSize) {
                			helper.width(this.currentItem.width());
                		}
                		if(!helper[0].style.height || o.forceHelperSize) {
                			helper.height(this.currentItem.height());
                		}
                
                		return helper;
                
                	},
                
                	_adjustOffsetFromHelper: function(obj) {
                		if (typeof obj === "string") {
                			obj = obj.split(" ");
                		}
                		if ($.isArray(obj)) {
                			obj = {left: +obj[0], top: +obj[1] || 0};
                		}
                		if ("left" in obj) {
                			this.offset.click.left = obj.left + this.margins.left;
                		}
                		if ("right" in obj) {
                			this.offset.click.left = this.helperProportions.width - obj.right + this.margins.left;
                		}
                		if ("top" in obj) {
                			this.offset.click.top = obj.top + this.margins.top;
                		}
                		if ("bottom" in obj) {
                			this.offset.click.top = this.helperProportions.height - obj.bottom + this.margins.top;
                		}
                	},
                
                	_getParentOffset: function() {
                
                
                		//Get the offsetParent and cache its position
                		this.offsetParent = this.helper.offsetParent();
                		var po = this.offsetParent.offset();
                
                		// This is a special case where we need to modify a offset calculated on start, since the following happened:
                		// 1. The position of the helper is absolute, so it's position is calculated based on the next positioned parent
                		// 2. The actual offset parent is a child of the scroll parent, and the scroll parent isn't the document, which means that
                		//    the scroll is included in the initial calculation of the offset of the parent, and never recalculated upon drag
                		if(this.cssPosition === "absolute" && this.scrollParent[0] !== document && $.contains(this.scrollParent[0], this.offsetParent[0])) {
                			po.left += this.scrollParent.scrollLeft();
                			po.top += this.scrollParent.scrollTop();
                		}
                
                		// This needs to be actually done for all browsers, since pageX/pageY includes this information
                		// with an ugly IE fix
                		if( this.offsetParent[0] === document.body || (this.offsetParent[0].tagName && this.offsetParent[0].tagName.toLowerCase() === "html" && $.ui.ie)) {
                			po = { top: 0, left: 0 };
                		}
                
                		return {
                			top: po.top + (parseInt(this.offsetParent.css("borderTopWidth"),10) || 0),
                			left: po.left + (parseInt(this.offsetParent.css("borderLeftWidth"),10) || 0)
                		};
                
                	},
                
                	_getRelativeOffset: function() {
                
                		if(this.cssPosition === "relative") {
                			var p = this.currentItem.position();
                			return {
                				top: p.top - (parseInt(this.helper.css("top"),10) || 0) + this.scrollParent.scrollTop(),
                				left: p.left - (parseInt(this.helper.css("left"),10) || 0) + this.scrollParent.scrollLeft()
                			};
                		} else {
                			return { top: 0, left: 0 };
                		}
                
                	},
                
                	_cacheMargins: function() {
                		this.margins = {
                			left: (parseInt(this.currentItem.css("marginLeft"),10) || 0),
                			top: (parseInt(this.currentItem.css("marginTop"),10) || 0)
                		};
                	},
                
                	_cacheHelperProportions: function() {
                		this.helperProportions = {
                			width: this.helper.outerWidth(),
                			height: this.helper.outerHeight()
                		};
                	},
                
                	_setContainment: function() {
                
                		var ce, co, over,
                			o = this.options;
                		if(o.containment === "parent") {
                			o.containment = this.helper[0].parentNode;
                		}
                		if(o.containment === "document" || o.containment === "window") {
                			this.containment = [
                				0 - this.offset.relative.left - this.offset.parent.left,
                				0 - this.offset.relative.top - this.offset.parent.top,
                				$(o.containment === "document" ? document : window).width() - this.helperProportions.width - this.margins.left,
                				($(o.containment === "document" ? document : window).height() || document.body.parentNode.scrollHeight) - this.helperProportions.height - this.margins.top
                			];
                		}
                
                		if(!(/^(document|window|parent)$/).test(o.containment)) {
                			ce = $(o.containment)[0];
                			co = $(o.containment).offset();
                			over = ($(ce).css("overflow") !== "hidden");
                
                			this.containment = [
                				co.left + (parseInt($(ce).css("borderLeftWidth"),10) || 0) + (parseInt($(ce).css("paddingLeft"),10) || 0) - this.margins.left,
                				co.top + (parseInt($(ce).css("borderTopWidth"),10) || 0) + (parseInt($(ce).css("paddingTop"),10) || 0) - this.margins.top,
                				co.left+(over ? Math.max(ce.scrollWidth,ce.offsetWidth) : ce.offsetWidth) - (parseInt($(ce).css("borderLeftWidth"),10) || 0) - (parseInt($(ce).css("paddingRight"),10) || 0) - this.helperProportions.width - this.margins.left,
                				co.top+(over ? Math.max(ce.scrollHeight,ce.offsetHeight) : ce.offsetHeight) - (parseInt($(ce).css("borderTopWidth"),10) || 0) - (parseInt($(ce).css("paddingBottom"),10) || 0) - this.helperProportions.height - this.margins.top
                			];
                		}
                
                	},
                
                	_convertPositionTo: function(d, pos) {
                
                		if(!pos) {
                			pos = this.position;
                		}
                		var mod = d === "absolute" ? 1 : -1,
                			scroll = this.cssPosition === "absolute" && !(this.scrollParent[0] !== document && $.contains(this.scrollParent[0], this.offsetParent[0])) ? this.offsetParent : this.scrollParent,
                			scrollIsRootNode = (/(html|body)/i).test(scroll[0].tagName);
                
                		return {
                			top: (
                				pos.top	+																// The absolute mouse position
                				this.offset.relative.top * mod +										// Only for relative positioned nodes: Relative offset from element to offset parent
                				this.offset.parent.top * mod -											// The offsetParent's offset without borders (offset + border)
                				( ( this.cssPosition === "fixed" ? -this.scrollParent.scrollTop() : ( scrollIsRootNode ? 0 : scroll.scrollTop() ) ) * mod)
                			),
                			left: (
                				pos.left +																// The absolute mouse position
                				this.offset.relative.left * mod +										// Only for relative positioned nodes: Relative offset from element to offset parent
                				this.offset.parent.left * mod	-										// The offsetParent's offset without borders (offset + border)
                				( ( this.cssPosition === "fixed" ? -this.scrollParent.scrollLeft() : scrollIsRootNode ? 0 : scroll.scrollLeft() ) * mod)
                			)
                		};
                
                	},
                
                	_generatePosition: function(event) {
                
                		var top, left,
                			o = this.options,
                			pageX = event.pageX,
                			pageY = event.pageY,
                			scroll = this.cssPosition === "absolute" && !(this.scrollParent[0] !== document && $.contains(this.scrollParent[0], this.offsetParent[0])) ? this.offsetParent : this.scrollParent, scrollIsRootNode = (/(html|body)/i).test(scroll[0].tagName);
                
                		// This is another very weird special case that only happens for relative elements:
                		// 1. If the css position is relative
                		// 2. and the scroll parent is the document or similar to the offset parent
                		// we have to refresh the relative offset during the scroll so there are no jumps
                		if(this.cssPosition === "relative" && !(this.scrollParent[0] !== document && this.scrollParent[0] !== this.offsetParent[0])) {
                			this.offset.relative = this._getRelativeOffset();
                		}
                
                		/*
                		 * - Position constraining -
                		 * Constrain the position to a mix of grid, containment.
                		 */
                
                		if(this.originalPosition) { //If we are not dragging yet, we won't check for options
                
                			if(this.containment) {
                				if(event.pageX - this.offset.click.left < this.containment[0]) {
                					pageX = this.containment[0] + this.offset.click.left;
                				}
                				if(event.pageY - this.offset.click.top < this.containment[1]) {
                					pageY = this.containment[1] + this.offset.click.top;
                				}
                				if(event.pageX - this.offset.click.left > this.containment[2]) {
                					pageX = this.containment[2] + this.offset.click.left;
                				}
                				if(event.pageY - this.offset.click.top > this.containment[3]) {
                					pageY = this.containment[3] + this.offset.click.top;
                				}
                			}
                
                			if(o.grid) {
                				top = this.originalPageY + Math.round((pageY - this.originalPageY) / o.grid[1]) * o.grid[1];
                				pageY = this.containment ? ( (top - this.offset.click.top >= this.containment[1] && top - this.offset.click.top <= this.containment[3]) ? top : ((top - this.offset.click.top >= this.containment[1]) ? top - o.grid[1] : top + o.grid[1])) : top;
                
                				left = this.originalPageX + Math.round((pageX - this.originalPageX) / o.grid[0]) * o.grid[0];
                				pageX = this.containment ? ( (left - this.offset.click.left >= this.containment[0] && left - this.offset.click.left <= this.containment[2]) ? left : ((left - this.offset.click.left >= this.containment[0]) ? left - o.grid[0] : left + o.grid[0])) : left;
                			}
                
                		}
                
                		return {
                			top: (
                				pageY -																// The absolute mouse position
                				this.offset.click.top -													// Click offset (relative to the element)
                				this.offset.relative.top	-											// Only for relative positioned nodes: Relative offset from element to offset parent
                				this.offset.parent.top +												// The offsetParent's offset without borders (offset + border)
                				( ( this.cssPosition === "fixed" ? -this.scrollParent.scrollTop() : ( scrollIsRootNode ? 0 : scroll.scrollTop() ) ))
                			),
                			left: (
                				pageX -																// The absolute mouse position
                				this.offset.click.left -												// Click offset (relative to the element)
                				this.offset.relative.left	-											// Only for relative positioned nodes: Relative offset from element to offset parent
                				this.offset.parent.left +												// The offsetParent's offset without borders (offset + border)
                				( ( this.cssPosition === "fixed" ? -this.scrollParent.scrollLeft() : scrollIsRootNode ? 0 : scroll.scrollLeft() ))
                			)
                		};
                
                	},
                
                	_rearrange: function(event, i, a, hardRefresh) {
                
                		a ? a[0].appendChild(this.placeholder[0]) : i.item[0].parentNode.insertBefore(this.placeholder[0], (this.direction === "down" ? i.item[0] : i.item[0].nextSibling));
                
                		//Various things done here to improve the performance:
                		// 1. we create a setTimeout, that calls refreshPositions
                		// 2. on the instance, we have a counter variable, that get's higher after every append
                		// 3. on the local scope, we copy the counter variable, and check in the timeout, if it's still the same
                		// 4. this lets only the last addition to the timeout stack through
                		this.counter = this.counter ? ++this.counter : 1;
                		var counter = this.counter;
                
                		this._delay(function() {
                			if(counter === this.counter) {
                				this.refreshPositions(!hardRefresh); //Precompute after each DOM insertion, NOT on mousemove
                			}
                		});
                
                	},
                
                	_clear: function(event, noPropagation) {
                
                		this.reverting = false;
                		// We delay all events that have to be triggered to after the point where the placeholder has been removed and
                		// everything else normalized again
                		var i,
                			delayedTriggers = [];
                
                		// We first have to update the dom position of the actual currentItem
                		// Note: don't do it if the current item is already removed (by a user), or it gets reappended (see #4088)
                		if(!this._noFinalSort && this.currentItem.parent().length) {
                			this.placeholder.before(this.currentItem);
                		}
                		this._noFinalSort = null;
                
                		if(this.helper[0] === this.currentItem[0]) {
                			for(i in this._storedCSS) {
                				if(this._storedCSS[i] === "auto" || this._storedCSS[i] === "static") {
                					this._storedCSS[i] = "";
                				}
                			}
                			this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper");
                		} else {
                			this.currentItem.show();
                		}
                
                		if(this.fromOutside && !noPropagation) {
                			delayedTriggers.push(function(event) { this._trigger("receive", event, this._uiHash(this.fromOutside)); });
                		}
                		if((this.fromOutside || this.domPosition.prev !== this.currentItem.prev().not(".ui-sortable-helper")[0] || this.domPosition.parent !== this.currentItem.parent()[0]) && !noPropagation) {
                			delayedTriggers.push(function(event) { this._trigger("update", event, this._uiHash()); }); //Trigger update callback if the DOM position has changed
                		}
                
                		// Check if the items Container has Changed and trigger appropriate
                		// events.
                		if (this !== this.currentContainer) {
                			if(!noPropagation) {
                				delayedTriggers.push(function(event) { this._trigger("remove", event, this._uiHash()); });
                				delayedTriggers.push((function(c) { return function(event) { c._trigger("receive", event, this._uiHash(this)); };  }).call(this, this.currentContainer));
                				delayedTriggers.push((function(c) { return function(event) { c._trigger("update", event, this._uiHash(this));  }; }).call(this, this.currentContainer));
                			}
                		}
                
                
                		//Post events to containers
                		for (i = this.containers.length - 1; i >= 0; i--){
                			if(!noPropagation) {
                				delayedTriggers.push((function(c) { return function(event) { c._trigger("deactivate", event, this._uiHash(this)); };  }).call(this, this.containers[i]));
                			}
                			if(this.containers[i].containerCache.over) {
                				delayedTriggers.push((function(c) { return function(event) { c._trigger("out", event, this._uiHash(this)); };  }).call(this, this.containers[i]));
                				this.containers[i].containerCache.over = 0;
                			}
                		}
                
                		//Do what was originally in plugins
                		if(this._storedCursor) {
                			$("body").css("cursor", this._storedCursor);
                		}
                		if(this._storedOpacity) {
                			this.helper.css("opacity", this._storedOpacity);
                		}
                		if(this._storedZIndex) {
                			this.helper.css("zIndex", this._storedZIndex === "auto" ? "" : this._storedZIndex);
                		}
                
                		this.dragging = false;
                		if(this.cancelHelperRemoval) {
                			if(!noPropagation) {
                				this._trigger("beforeStop", event, this._uiHash());
                				for (i=0; i < delayedTriggers.length; i++) {
                					delayedTriggers[i].call(this, event);
                				} //Trigger all delayed events
                				this._trigger("stop", event, this._uiHash());
                			}
                
                			this.fromOutside = false;
                			return false;
                		}
                
                		if(!noPropagation) {
                			this._trigger("beforeStop", event, this._uiHash());
                		}
                
                		//$(this.placeholder[0]).remove(); would have been the jQuery way - unfortunately, it unbinds ALL events from the original node!
                		this.placeholder[0].parentNode.removeChild(this.placeholder[0]);
                
                		if(this.helper[0] !== this.currentItem[0]) {
                			this.helper.remove();
                		}
                		this.helper = null;
                
                		if(!noPropagation) {
                			for (i=0; i < delayedTriggers.length; i++) {
                				delayedTriggers[i].call(this, event);
                			} //Trigger all delayed events
                			this._trigger("stop", event, this._uiHash());
                		}
                
                		this.fromOutside = false;
                		return true;
                
                	},
                
                	_trigger: function() {
                		if ($.Widget.prototype._trigger.apply(this, arguments) === false) {
                			this.cancel();
                		}
                	},
                
                	_uiHash: function(_inst) {
                		var inst = _inst || this;
                		return {
                			helper: inst.helper,
                			placeholder: inst.placeholder || $([]),
                			position: inst.position,
                			originalPosition: inst.originalPosition,
                			offset: inst.positionAbs,
                			item: inst.currentItem,
                			sender: _inst ? _inst.element : null
                		};
                	}
                
                });
                
                })(jQuery);
                
                });
                define('bootstrap/dropdown',["jquery"], function(jQuery) {
                
                /* ========================================================================
                 * Bootstrap: dropdown.js v3.1.1
                 * http://getbootstrap.com/javascript/#dropdowns
                 * ========================================================================
                 * Copyright 2011-2014 Twitter, Inc.
                 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
                 * ======================================================================== */
                
                
                +function ($) {
                  
                
                  // DROPDOWN CLASS DEFINITION
                  // =========================
                
                  var backdrop = '.bk-bs-dropdown-backdrop'
                  var toggle   = '[data-bk-bs-toggle=dropdown]'
                  var Dropdown = function (element) {
                    $(element).on('click.bk-bs.dropdown', this.toggle)
                  }
                
                  Dropdown.prototype.toggle = function (e) {
                    var $this = $(this)
                
                    if ($this.is('.bk-bs-disabled, :disabled')) return
                
                    var $parent  = getParent($this)
                    var isActive = $parent.hasClass('bk-bs-open')
                
                    clearMenus()
                
                    if (!isActive) {
                      if ('ontouchstart' in document.documentElement && !$parent.closest('.bk-bs-navbar-nav').length) {
                        // if mobile we use a backdrop because click events don't delegate
                        $('<div class="bk-bs-dropdown-backdrop"/>').insertAfter($(this)).on('click', clearMenus)
                      }
                
                      var relatedTarget = { relatedTarget: this }
                      $parent.trigger(e = $.Event('show.bk-bs.dropdown', relatedTarget))
                
                      if (e.isDefaultPrevented()) return
                
                      $parent
                        .toggleClass('bk-bs-open')
                        .trigger('shown.bk-bs.dropdown', relatedTarget)
                
                      $this.focus()
                    }
                
                    return false
                  }
                
                  Dropdown.prototype.keydown = function (e) {
                    if (!/(38|40|27)/.test(e.keyCode)) return
                
                    var $this = $(this)
                
                    e.preventDefault()
                    e.stopPropagation()
                
                    if ($this.is('.bk-bs-disabled, :disabled')) return
                
                    var $parent  = getParent($this)
                    var isActive = $parent.hasClass('bk-bs-open')
                
                    if (!isActive || (isActive && e.keyCode == 27)) {
                      if (e.which == 27) $parent.find(toggle).focus()
                      return $this.click()
                    }
                
                    var desc = ' li:not(.bk-bs-divider):visible a'
                    var $items = $parent.find('[role=menu]' + desc + ', [role=listbox]' + desc)
                
                    if (!$items.length) return
                
                    var index = $items.index($items.filter(':focus'))
                
                    if (e.keyCode == 38 && index > 0)                 index--                        // up
                    if (e.keyCode == 40 && index < $items.length - 1) index++                        // down
                    if (!~index)                                      index = 0
                
                    $items.eq(index).focus()
                  }
                
                  function clearMenus(e) {
                    $(backdrop).remove()
                    $(toggle).each(function () {
                      var $parent = getParent($(this))
                      var relatedTarget = { relatedTarget: this }
                      if (!$parent.hasClass('bk-bs-open')) return
                      $parent.trigger(e = $.Event('hide.bk-bs.dropdown', relatedTarget))
                      if (e.isDefaultPrevented()) return
                      $parent.removeClass('bk-bs-open').trigger('hidden.bk-bs.dropdown', relatedTarget)
                    })
                  }
                
                  function getParent($this) {
                    var selector = $this.attr('data-bk-bs-target')
                
                    if (!selector) {
                      selector = $this.attr('href')
                      selector = selector && /#[A-Za-z]/.test(selector) && selector.replace(/.*(?=#[^\s]*$)/, '') //strip for ie7
                    }
                
                    var $parent = selector && $(selector)
                
                    return $parent && $parent.length ? $parent : $this.parent()
                  }
                
                
                  // DROPDOWN PLUGIN DEFINITION
                  // ==========================
                
                  var old = $.fn.dropdown
                
                  $.fn.dropdown = function (option) {
                    return this.each(function () {
                      var $this = $(this)
                      var data  = $this.data('bk-bs.dropdown')
                
                      if (!data) $this.data('bk-bs.dropdown', (data = new Dropdown(this)))
                      if (typeof option == 'string') data[option].call($this)
                    })
                  }
                
                  $.fn.dropdown.Constructor = Dropdown
                
                
                  // DROPDOWN NO CONFLICT
                  // ====================
                
                  $.fn.dropdown.noConflict = function () {
                    $.fn.dropdown = old
                    return this
                  }
                
                
                  // APPLY TO STANDARD DROPDOWN ELEMENTS
                  // ===================================
                
                  $(document)
                    .on('click.bk-bs.dropdown.data-api', clearMenus)
                    .on('click.bk-bs.dropdown.data-api', '.bk-bs-dropdown form', function (e) { e.stopPropagation() })
                    .on('click.bk-bs.dropdown.data-api', toggle, Dropdown.prototype.toggle)
                    .on('keydown.bk-bs.dropdown.data-api', toggle + ', [role=menu], [role=listbox]', Dropdown.prototype.keydown)
                
                }(jQuery);
                
                });
                
                (function() {
                  var __bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; },
                    __hasProp = {}.hasOwnProperty,
                    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };
                
                  define('widget/pivot_table',["underscore", "jquery", "jquery_ui/sortable", "bootstrap/dropdown", "backbone", "common/has_parent", "common/has_properties", "common/continuum_view"], function(_, $, $$1, $$2, Backbone, HasParent, HasProperties, ContinuumView) {
                    var PivotTable, PivotTableView, PivotTables, _ref, _ref1, _ref2;
                    PivotTableView = (function(_super) {
                      __extends(PivotTableView, _super);
                
                      function PivotTableView() {
                        this.getAggregator = __bind(this.getAggregator, this);
                        _ref = PivotTableView.__super__.constructor.apply(this, arguments);
                        return _ref;
                      }
                
                      PivotTableView.prototype.initialize = function(options) {
                        PivotTableView.__super__.initialize.call(this, options);
                        this.listenTo(this.model, 'destroy', this.remove);
                        this.listenTo(this.model, 'change', this.rerenderToolbox);
                        this.listenTo(this.model, 'change:data', this.rerenderPivotTable);
                        return this.render();
                      };
                
                      PivotTableView.prototype.mpush = function(attr, value) {
                        return this.mset(attr, this.mget(attr).concat([value]));
                      };
                
                      PivotTableView.prototype.mupdate = function(attr, fn) {
                        var value,
                          _this = this;
                        value = _.map(this.mget(attr), function(item) {
                          return _.clone(item);
                        });
                        fn(value);
                        return this.mset(attr, value);
                      };
                
                      PivotTableView.prototype.fieldNames = function() {
                        var field, _i, _len, _ref1, _results;
                        _ref1 = this.mget("fields");
                        _results = [];
                        for (_i = 0, _len = _ref1.length; _i < _len; _i++) {
                          field = _ref1[_i];
                          _results.push(field.name);
                        }
                        return _results;
                      };
                
                      PivotTableView.prototype.fieldDTypes = function() {
                        var field, _i, _len, _ref1, _results;
                        _ref1 = this.mget("fields");
                        _results = [];
                        for (_i = 0, _len = _ref1.length; _i < _len; _i++) {
                          field = _ref1[_i];
                          _results.push(field.dtype);
                        }
                        return _results;
                      };
                
                      PivotTableView.prototype.getDType = function(fieldName) {
                        return _.find(this.mget("fields"), function(field) {
                          return field.name === fieldName;
                        }).dtype;
                      };
                
                      PivotTableView.prototype.render = function() {
                        var html;
                        html = $('<table class="bk-pivot"></table>');
                        this.$description = $('<td class="bk-pivot-description" valign="center"></td>');
                        this.$toolbox = $('<td class="bk-pivot-toolbox" valign="top"></td>');
                        this.$pivot = $('<td class="bk-pivot-table" valign="top"></td>');
                        this.$description.html(this.renderDescription());
                        this.$toolbox.html(this.renderToolbox());
                        this.$pivot.html(this.renderWait());
                        html.append([$('<tr></tr>').append(this.$desciption), $('<tr></tr>').append([this.$toolbox, this.$pivot])]);
                        this.$el.html(html);
                        return this.delayRenderPivotTable();
                      };
                
                      PivotTableView.prototype.renderWait = function() {
                        return $('<span class="bk-wait">Rendering ...</span>');
                      };
                
                      PivotTableView.prototype.rerenderPivotTable = function() {
                        this.$pivot.html(this.renderWait());
                        return this.delayRenderPivotTable();
                      };
                
                      PivotTableView.prototype.delayRenderPivotTable = function() {
                        var _this = this;
                        return _.delay((function() {
                          return _this.$pivot.html(_this.renderPivotTable());
                        }), 50);
                      };
                
                      PivotTableView.prototype.rerenderToolbox = function() {
                        return this.$toolbox.html(this.renderToolbox());
                      };
                
                      PivotTableView.prototype.renderToolbox = function() {
                        var toolbox;
                        toolbox = $('<ul></ul>');
                        toolbox.append(this.renderRows());
                        toolbox.append(this.renderColumns());
                        toolbox.append(this.renderValues());
                        toolbox.append(this.renderFilters());
                        toolbox.append(this.renderUpdate());
                        return toolbox;
                      };
                
                      PivotTableView.prototype.renderAdd = function(exclude, handler) {
                        var button, dropdown;
                        dropdown = $('<div class="bk-bs-dropdown bk-bs-pull-right"></div>');
                        button = $('<button class="bk-bs-btn bk-bs-btn-link bk-bs-btn-xs" data-bk-bs-toggle="dropdown">Add</button>');
                        dropdown.append([button.dropdown(), this.renderFields(exclude, handler)]);
                        return dropdown;
                      };
                
                      PivotTableView.prototype.renderFields = function(exclude, handler) {
                        var fields, items, menu;
                        fields = _.difference(this.fieldNames(), exclude);
                        menu = $('<ul class="bk-bs-dropdown-menu"></ul>');
                        items = _.map(fields, function(field) {
                          var item, link;
                          link = $('<a tabindex="-1" href="javascript://"></a>');
                          link.text(field);
                          item = $('<li></li>');
                          return item.append(link);
                        });
                        menu.append(items);
                        return menu.click(function(event) {
                          return handler($(event.target).text());
                        });
                      };
                
                      PivotTableView.prototype.renderRemove = function(attr, field) {
                        var handler,
                          _this = this;
                        handler = function(event) {
                          return _this.mset(attr, _.reject(_this.mget(attr), function(item) {
                            return item.field === field;
                          }));
                        };
                        return $('<span class="bk-bs-close bk-bs-pull-right">&times;</span>').click(handler);
                      };
                
                      PivotTableView.prototype.renderOptions = function(options, value, handler) {
                        var button, dropdown, items, menu, text,
                          _this = this;
                        menu = $('<ul class="bk-bs-dropdown-menu"></ul>');
                        items = _.map(options, function(option) {
                          var item, link;
                          link = $('<a tabindex="-1" href="javascript://"></a>');
                          link.text(option);
                          item = $('<li></li>');
                          return item.append(link);
                        });
                        menu.append(items);
                        menu.click(function(event) {
                          return handler($(event.target).text());
                        });
                        dropdown = $('<span class="bk-bs-dropdown"></span>');
                        button = $('<button class="bk-bs-btn bk-bs-btn-link bk-bs-btn-xs" data-bk-bs-toggle="dropdown"></button>');
                        text = typeof value === 'number' ? options[value] : value;
                        button.text(text);
                        button.append('&nbsp;');
                        button.append($('<span class="bk-bs-caret"></span>'));
                        return dropdown.append([button.dropdown(), menu]);
                      };
                
                      PivotTableView.prototype.makeSortable = function(attr, $el) {
                        var _this = this;
                        return $el.sortable({
                          handle: ".bk-pivot-box-header",
                          axis: "y",
                          distance: 10
                        }).on('sortstop', function(ui) {
                          var child, fields;
                          fields = (function() {
                            var _i, _len, _ref1, _results;
                            _ref1 = $el.children();
                            _results = [];
                            for (_i = 0, _len = _ref1.length; _i < _len; _i++) {
                              child = _ref1[_i];
                              _results.push($(child).data('bk-field'));
                            }
                            return _results;
                          })();
                          return _this.mset(attr, _.sortBy(_this.mget(attr), function(item) {
                            return fields.indexOf(item.field);
                          }));
                        });
                      };
                
                      PivotTableView.prototype.renderFieldName = function(field) {
                        return $('<span class="bk-field"></span').text(field);
                      };
                
                      PivotTableView.prototype.renderDType = function(field) {
                        return $('<span class="bk-dtype"></span').text('(' + this.getDType(field) + ')');
                      };
                
                      PivotTableView.prototype.defaultRowColumn = function(field) {
                        return {
                          field: field,
                          order: "ascending",
                          sort_by: field,
                          totals: true
                        };
                      };
                
                      PivotTableView.prototype.usedFields = function() {
                        return _.map(this.mget("rows").concat(this.mget("columns")), function(item) {
                          return item.field;
                        });
                      };
                
                      PivotTableView.prototype.renderRows = function() {
                        var $rows, add, el, header,
                          _this = this;
                        el = $("<li></li>");
                        header = $("<div>Rows</div>");
                        add = this.renderAdd(this.usedFields(), function(field) {
                          return _this.mpush("rows", _this.defaultRowColumn(field));
                        });
                        header.append(add);
                        $rows = $('<ul></ul>');
                        _.each(this.mget("rows"), function(row, index) {
                          var $dtype, $field, $remove, $row, groupBy, order, sortBy, totals;
                          groupBy = $('<li class="bk-pivot-box-header">Group by:</li>');
                          $field = _this.renderFieldName(row.field);
                          $dtype = _this.renderDType(row.field);
                          $remove = _this.renderRemove("rows", row.field);
                          groupBy.append(["&nbsp;", $field, "&nbsp;", $dtype, $remove]);
                          order = $('<li>Order:&nbsp;</li>');
                          order.append(_this.renderOptions(["ascending", "descending"], row.order, function(value) {
                            return _this.mupdate("rows", function(rows) {
                              return rows[index].order = value;
                            });
                          }));
                          sortBy = $('<li>Sort by:&nbsp;</li>');
                          sortBy.append(_this.renderOptions([row.field], row.sort_by, function(value) {
                            return _this.mupdate("rows", function(rows) {
                              return rows[index].sort_by = value;
                            });
                          }));
                          totals = $('<li>Totals:&nbsp;</li>');
                          totals.append(_this.renderOptions(["on", "off"], (row.totals ? 0 : 1), function(value) {
                            return _this.mupdate("rows", function(rows) {
                              return rows[index].totals = value === "on" ? true : false;
                            });
                          }));
                          $row = $('<ul class="bk-pivot-box"></ul>');
                          $row.data('bk-field', row.field);
                          $row.append([groupBy, order, sortBy, totals]);
                          return $rows.append($row);
                        });
                        this.makeSortable("rows", $rows);
                        return el.append([header, $rows]);
                      };
                
                      PivotTableView.prototype.renderColumns = function() {
                        var $columns, add, el, header,
                          _this = this;
                        el = $("<li></li>");
                        header = $("<div>Columns</div>");
                        add = this.renderAdd(this.usedFields(), function(field) {
                          return _this.mpush("columns", _this.defaultRowColumn(field));
                        });
                        header.append(add);
                        $columns = $('<ul></ul>');
                        _.each(this.mget("columns"), function(column, index) {
                          var $column, $dtype, $field, $remove, groupBy, order, sortBy, totals;
                          groupBy = $('<li class="bk-pivot-box-header">Group by:</li>');
                          $field = _this.renderFieldName(column.field);
                          $dtype = _this.renderDType(column.field);
                          $remove = _this.renderRemove("columns", column.field);
                          groupBy.append(["&nbsp;", $field, "&nbsp;", $dtype, $remove]);
                          order = $('<li>Order:&nbsp;</li>');
                          order.append(_this.renderOptions(["ascending", "descending"], column.order, function(value) {
                            return _this.mupdate("columns", function(columns) {
                              return columns[index].order = value;
                            });
                          }));
                          sortBy = $('<li>Sort by:&nbsp;</li>');
                          sortBy.append(_this.renderOptions([column.field], column.sort_by, function(value) {
                            return _this.mupdate("columns", function(columns) {
                              return columns[index].sort_by = value;
                            });
                          }));
                          totals = $('<li>Totals:&nbsp;</li>');
                          totals.append(_this.renderOptions(["on", "off"], (column.totals ? 0 : 1), function(value) {
                            return _this.mupdate("columns", function(columns) {
                              return columns[index].totals = value === "on" ? true : false;
                            });
                          }));
                          $column = $('<ul class="bk-pivot-box"></ul>');
                          $column.data('bk-field', column.field);
                          $column.append([groupBy, order, sortBy, totals]);
                          return $columns.append($column);
                        });
                        this.makeSortable("columns", $columns);
                        return el.append([header, $columns]);
                      };
                
                      PivotTableView.prototype.defaultValue = function(field) {
                        return {
                          field: field,
                          aggregate: "count",
                          renderer: "default",
                          formatter: "none"
                        };
                      };
                
                      PivotTableView.prototype.renderValues = function() {
                        var $values, add, el, header,
                          _this = this;
                        el = $("<li></li>");
                        header = $("<div>Values</div>");
                        add = this.renderAdd([], function(field) {
                          return _this.mpush("values", _this.defaultValue(field));
                        });
                        header.append(add);
                        $values = $('<ul></ul>');
                        _.each(this.mget("values"), function(value, index) {
                          var $dtype, $field, $remove, $value, aggregate, display, formatter, renderer;
                          display = $('<li class="bk-pivot-box-header">Display:</li>');
                          $field = _this.renderFieldName(value.field);
                          $dtype = _this.renderDType(value.field);
                          $remove = _this.renderRemove("values", value.field);
                          display.append(["&nbsp;", $field, "&nbsp;", $dtype, $remove]);
                          aggregate = $('<li>Aggregate:&nbsp;</li>');
                          aggregate.append(_this.renderOptions(_this.model.aggregates, value.aggregate, function(aggregate) {
                            return _this.mupdate("values", function(values) {
                              return values[index].aggregate = aggregate;
                            });
                          }));
                          renderer = $('<li>Renderer:&nbsp;</li>');
                          renderer.append(_this.renderOptions(_this.model.renderers, value.renderer, function(renderer) {
                            return _this.mupdate("values", function(values) {
                              return values[index].renderer = renderer;
                            });
                          }));
                          formatter = $('<li>Formatter:&nbsp;</li>');
                          formatter.append(_this.renderOptions(_this.model.formatters, value.formatter, function(formatter) {
                            return _this.mupdate("values", function(values) {
                              return values[index].formatter = formatter;
                            });
                          }));
                          $value = $('<ul class="bk-pivot-box"></ul>');
                          $value.data('bk-field', value.field);
                          $value.append([display, aggregate, renderer, formatter]);
                          return $values.append($value);
                        });
                        this.makeSortable("values", $values);
                        return el.append([header, $values]);
                      };
                
                      PivotTableView.prototype.defaultFilter = function(field) {
                        return {
                          field: field
                        };
                      };
                
                      PivotTableView.prototype.renderFilters = function() {
                        var $filters, add, el, header,
                          _this = this;
                        el = $("<li></li>");
                        header = $("<div>Filters</div>");
                        add = this.renderAdd([], function(field) {
                          return _this.mpush("filters", _this.defaultFilter(field));
                        });
                        header.append(add);
                        $filters = $('<ul></ul>');
                        _.each(this.mget("filters"), function(filter) {
                          var $dtype, $field, $filter, $remove, display;
                          display = $('<li class="bk-pivot-box-header">Filter:</li>');
                          $field = _this.renderFieldName(filter.field);
                          $dtype = _this.renderDType(filter.field);
                          $remove = _this.renderRemove("filters", filter.field);
                          display.append(["&nbsp;", $field, "&nbsp;", $dtype, $remove]);
                          $filter = $('<ul class="bk-pivot-box"></ul>');
                          $filter.data('bk-field', filter.field);
                          $filter.append([display]);
                          return $filters.append($filter);
                        });
                        this.makeSortable("filters", $filters);
                        return el.append([header, $filters]);
                      };
                
                      PivotTableView.prototype.renderUpdate = function() {
                        var button, el, manual_update, update,
                          _this = this;
                        manual_update = this.mget("manual_update");
                        el = $("<li></li>");
                        update = $('<div>Update:&nbsp;</div>');
                        update.append(this.renderOptions(["Manual", "Automatic"], (manual_update ? 0 : 1), function(value) {
                          return _this.mset("manual_update", value === "Manual" ? true : false);
                        }));
                        el.append(update);
                        if (manual_update) {
                          button = $('<button type="button" class="bk-bs-btn bk-bs-btn-primary">Update</button>');
                          button.click(function(event) {
                            return _this.model.save();
                          });
                          el.append(button);
                        }
                        return el;
                      };
                
                      PivotTableView.prototype.renderDescription = function() {
                        return $('<div></div>').text(this.mget("description"));
                      };
                
                      PivotTableView.prototype.spanSize = function(arr, i, j) {
                        var len, noDraw, stop, x, _i, _j;
                        if (i !== 0) {
                          noDraw = true;
                          for (x = _i = 0; 0 <= j ? _i <= j : _i >= j; x = 0 <= j ? ++_i : --_i) {
                            if (arr[i - 1][x] !== arr[i][x]) {
                              noDraw = false;
                            }
                          }
                          if (noDraw) {
                            return -1;
                          }
                        }
                        len = 0;
                        while (i + len < arr.length) {
                          stop = false;
                          for (x = _j = 0; 0 <= j ? _j <= j : _j >= j; x = 0 <= j ? ++_j : --_j) {
                            if (arr[i][x] !== arr[i + len][x]) {
                              stop = true;
                            }
                          }
                          if (stop) {
                            break;
                          }
                          len++;
                        }
                        return len;
                      };
                
                      PivotTableView.prototype.getAggregator = function(rowKey, colKey) {
                        var col, data, row, value;
                        data = this.mget("data");
                        row = data.rows.indexOf(rowKey);
                        col = data.cols.indexOf(colKey);
                        if (row === -1) {
                          row = data.rows.length - 1;
                        }
                        if (col === -1) {
                          col = data.cols.length - 1;
                        }
                        if (row === -1 || col === -1) {
                          value = null;
                        } else {
                          value = data.values[row][col];
                        }
                        return {
                          value: (function() {
                            return value;
                          }),
                          format: (function(value) {
                            return "" + value;
                          })
                        };
                      };
                
                      PivotTableView.prototype.renderPivotTable = function() {
                        var aggregator, c, colAttrs, colKey, colKeys, i, j, r, result, rowAttrs, rowKey, rowKeys, th, totalAggregator, tr, txt, val, x;
                        rowAttrs = this.mget("rows");
                        colAttrs = this.mget("columns");
                        rowKeys = this.mget("data").rows;
                        colKeys = this.mget("data").cols;
                        result = $("<table class='bk-pivot-table pvtTable'>");
                        for (j in colAttrs) {
                          if (!__hasProp.call(colAttrs, j)) continue;
                          c = colAttrs[j];
                          tr = $("<tr>");
                          if (parseInt(j) === 0 && rowAttrs.length !== 0) {
                            tr.append($("<th>").attr("colspan", rowAttrs.length).attr("rowspan", colAttrs.length));
                          }
                          tr.append($("<th class='pvtAxisLabel'>").text(c.field));
                          for (i in colKeys) {
                            if (!__hasProp.call(colKeys, i)) continue;
                            colKey = colKeys[i];
                            x = this.spanSize(colKeys, parseInt(i), parseInt(j));
                            if (x !== -1) {
                              th = $("<th class='pvtColLabel'>").text(colKey[j]).attr("colspan", x);
                              if (parseInt(j) === colAttrs.length - 1 && rowAttrs.length !== 0) {
                                th.attr("rowspan", 2);
                              }
                              tr.append(th);
                            }
                          }
                          if (parseInt(j) === 0) {
                            tr.append($("<th class='pvtTotalLabel'>").text("Totals").attr("rowspan", colAttrs.length + (rowAttrs.length === 0 ? 0 : 1)));
                          }
                          result.append(tr);
                        }
                        if (rowAttrs.length !== 0) {
                          tr = $("<tr>");
                          for (i in rowAttrs) {
                            if (!__hasProp.call(rowAttrs, i)) continue;
                            r = rowAttrs[i];
                            tr.append($("<th class='pvtAxisLabel'>").text(r.field));
                          }
                          th = $("<th>");
                          if (colAttrs.length === 0) {
                            th.addClass("pvtTotalLabel").text("Totals");
                          }
                          tr.append(th);
                          result.append(tr);
                        }
                        for (i in rowKeys) {
                          if (!__hasProp.call(rowKeys, i)) continue;
                          rowKey = rowKeys[i];
                          tr = $("<tr>");
                          for (j in rowKey) {
                            if (!__hasProp.call(rowKey, j)) continue;
                            txt = rowKey[j];
                            x = this.spanSize(rowKeys, parseInt(i), parseInt(j));
                            if (x !== -1) {
                              th = $("<th class='pvtRowLabel'>").text(txt).attr("rowspan", x);
                              if (parseInt(j) === rowAttrs.length - 1 && colAttrs.length !== 0) {
                                th.attr("colspan", 2);
                              }
                              tr.append(th);
                            }
                          }
                          for (j in colKeys) {
                            if (!__hasProp.call(colKeys, j)) continue;
                            colKey = colKeys[j];
                            aggregator = this.getAggregator(rowKey, colKey);
                            val = aggregator.value();
                            tr.append($("<td class='pvtVal row" + i + " col" + j + "'>").text(aggregator.format(val)).data("value", val));
                          }
                          totalAggregator = this.getAggregator(rowKey, []);
                          val = totalAggregator.value();
                          tr.append($("<td class='pvtTotal rowTotal'>").text(totalAggregator.format(val)).data("value", val).data("for", "row" + i));
                          result.append(tr);
                        }
                        tr = $("<tr>");
                        th = $("<th class='pvtTotalLabel'>").text("Totals");
                        th.attr("colspan", rowAttrs.length + (colAttrs.length === 0 ? 0 : 1));
                        tr.append(th);
                        for (j in colKeys) {
                          if (!__hasProp.call(colKeys, j)) continue;
                          colKey = colKeys[j];
                          totalAggregator = this.getAggregator([], colKey);
                          val = totalAggregator.value();
                          tr.append($("<td class='pvtTotal colTotal'>").text(totalAggregator.format(val)).data("value", val).data("for", "col" + j));
                        }
                        totalAggregator = this.getAggregator([], []);
                        val = totalAggregator.value();
                        tr.append($("<td class='pvtGrandTotal'>").text(totalAggregator.format(val)).data("value", val));
                        result.append(tr);
                        return result;
                      };
                
                      return PivotTableView;
                
                    })(ContinuumView.View);
                    PivotTable = (function(_super) {
                      __extends(PivotTable, _super);
                
                      function PivotTable() {
                        _ref1 = PivotTable.__super__.constructor.apply(this, arguments);
                        return _ref1;
                      }
                
                      PivotTable.prototype.default_view = PivotTableView;
                
                      PivotTable.prototype.type = "PivotTable";
                
                      PivotTable.prototype.defaults = {
                        title: "Pivot Table",
                        description: "",
                        source: null,
                        data: {},
                        fields: [],
                        rows: [],
                        columns: [],
                        values: [],
                        filters: [],
                        manual_update: true
                      };
                
                      PivotTable.prototype.aggregates = ["count", "counta", "countunique", "average", "max", "min", "median", "sum", "product", "stdev", "stdevp", "var", "varp"];
                
                      PivotTable.prototype.renderers = ["default", "heatmap"];
                
                      PivotTable.prototype.formatters = ["none"];
                
                      PivotTable.prototype.mset = function() {
                        if (this.get("manual_update")) {
                          return this.set.apply(this, arguments);
                        } else {
                          return this.save.apply(this, arguments);
                        }
                      };
                
                      return PivotTable;
                
                    })(HasParent);
                    PivotTables = (function(_super) {
                      __extends(PivotTables, _super);
                
                      function PivotTables() {
                        _ref2 = PivotTables.__super__.constructor.apply(this, arguments);
                        return _ref2;
                      }
                
                      PivotTables.prototype.model = PivotTable;
                
                      return PivotTables;
                
                    })(Backbone.Collection);
                    return {
                      Model: PivotTable,
                      Collection: new PivotTables(),
                      View: PivotTableView
                    };
                  });
                
                }).call(this);
                
                /*
                //@ sourceMappingURL=pivot_table.js.map
                */;
                (function() {
                  var __hasProp = {}.hasOwnProperty,
                    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };
                
                  define('widget/pandas/ipython_remote_data',["backbone", "common/has_properties"], function(Backbone, HasProperties) {
                    var IPythonRemoteData, IPythonRemoteDatas, _ref, _ref1;
                    IPythonRemoteData = (function(_super) {
                      __extends(IPythonRemoteData, _super);
                
                      function IPythonRemoteData() {
                        _ref = IPythonRemoteData.__super__.constructor.apply(this, arguments);
                        return _ref;
                      }
                
                      IPythonRemoteData.prototype.type = 'IPythonRemoteData';
                
                      IPythonRemoteData.prototype.defaults = {
                        computed_columns: []
                      };
                
                      return IPythonRemoteData;
                
                    })(HasProperties);
                    IPythonRemoteDatas = (function(_super) {
                      __extends(IPythonRemoteDatas, _super);
                
                      function IPythonRemoteDatas() {
                        _ref1 = IPythonRemoteDatas.__super__.constructor.apply(this, arguments);
                        return _ref1;
                      }
                
                      IPythonRemoteDatas.prototype.model = IPythonRemoteData;
                
                      return IPythonRemoteDatas;
                
                    })(Backbone.Collection);
                    return {
                      "Model": IPythonRemoteData,
                      "Collection": new IPythonRemoteDatas()
                    };
                  });
                
                }).call(this);
                
                /*
                //@ sourceMappingURL=ipython_remote_data.js.map
                */;
                define('widget/pandas/pandas_pivot_template',[],function(){
                  var template = function(__obj) {
                  var _safe = function(value) {
                    if (typeof value === 'undefined' && value == null)
                      value = '';
                    var result = new String(value);
                    result.ecoSafe = true;
                    return result;
                  };
                  return (function() {
                    var __out = [], __self = this, _print = function(value) {
                      if (typeof value !== 'undefined' && value != null)
                        __out.push(value.ecoSafe ? value : __self.escape(value));
                    }, _capture = function(callback) {
                      var out = __out, result;
                      __out = [];
                      callback.call(this);
                      result = __out.join('');
                      __out = out;
                      return _safe(result);
                    };
                    (function() {
                      var column, computed_column, idx, _i, _j, _k, _l, _len, _len1, _len2, _len3, _ref, _ref1, _ref2, _ref3;
                    
                      _print(_safe('<form class="form-inline tablecontrolform">\n<label>Transform </label>:  <select class="tablecontrolstate">\n    <option value="groupby" selected="selected">Group By</option>\n    <option value="filtering">Filtering</option>\n    <option value="computed">Computed Columns</option>\n  </select>\n  <br/>\n  '));
                    
                      if (this.tablecontrolstate === 'groupby') {
                        _print(_safe('\n  <label>GroupBy </label>\n  <input type="text" class="pandasgroup" value="'));
                        _print(this.group);
                        _print(_safe('"/>\n  <label>Aggregation</label>\n  <select class="pandasagg">\n    <option value="sum">sum</option>\n    <option value="mean">mean</option>\n    <option value="std">std</option>\n    <option value="max">max</option>\n    <option value="min">min</option>\n  </select>\n  '));
                      }
                    
                      _print(_safe('\n  '));
                    
                      if (this.tablecontrolstate === 'filtering') {
                        _print(_safe('\n  <label class="checkbox" >\n    '));
                        if (this.filterselected) {
                          _print(_safe('\n    <input type="checkbox" class="filterselected" checked="checked"/>\n    '));
                        } else {
                          _print(_safe('\n    <input type="checkbox" class="filterselected"/>\n    '));
                        }
                        _print(_safe('\n    Filter Selection\n  </label>\n  <input type="button" class="clearselected btn btn-mini" value="Clear Selection"/>\n  <label>\n    Search\n  </label>\n  <input type="text" class="search input-large"/>\n  '));
                      }
                    
                      _print(_safe('\n  \n  '));
                    
                      if (this.tablecontrolstate === 'computed') {
                        _print(_safe('\n  <table class="table">\n    <thead>\n      <th>\n        Name\n      </th>\n      <th>\n        Value\n      </th>\n      <th>\n      </th>\n    </thead>\n    '));
                        _ref = this.computed_columns;
                        for (_i = 0, _len = _ref.length; _i < _len; _i++) {
                          computed_column = _ref[_i];
                          _print(_safe('\n    <tr>\n      <td>\n        '));
                          _print(computed_column.name);
                          _print(_safe('\n      </td>\n      <td>\n        '));
                          _print(computed_column.code);
                          _print(_safe('\n      </td>\n      <td>\n        <a class="column_del" \n           name="'));
                          _print(computed_column.name);
                          _print(_safe('" href="#">[delete]</a>\n      </td>\n    </tr>\n    '));
                        }
                        _print(_safe('\n    <tr>\n      <td>\n        <input type="text" class="computedname input-mini"/>\n      </td>\n      <td>\n        <input type="text" class="computedtxtbox input-medium"/>\n      </td>\n      <td>\n      </td>\n    </tr>\n  </table>\n  '));
                      }
                    
                      _print(_safe('\n  \n</form>\n\n<table class="bokehdatatable table table-bordered"\n'));
                    
                      if (this.width) {
                        _print(_safe('\n       style="max-height:'));
                        _print(this.height);
                        _print(_safe('px;max-width:'));
                        _print(this.width);
                        _print(_safe('px"\n'));
                      } else {
                        _print(_safe('\n       style="max-height:'));
                        _print(this.height);
                        _print(_safe('px"\n'));
                      }
                    
                      _print(_safe('\n       >\n  <thead>\n    '));
                    
                      if (this.counts) {
                        _print(_safe('\n    <th>counts</th>\n    '));
                      }
                    
                      _print(_safe('\n    <th>index</th>\n    '));
                    
                      _ref1 = this.columns;
                      for (_j = 0, _len1 = _ref1.length; _j < _len1; _j++) {
                        column = _ref1[_j];
                        _print(_safe('\n    '));
                        if (!this.skip[column]) {
                          _print(_safe('\n    <th><a class="pandascolumn">'));
                          _print(column);
                          _print(_safe('</a>\n      \n      '));
                          if (this.sort_ascendings[column] === true) {
                            _print(_safe('\n      <i class="icon-caret-up"></i>\n      '));
                          } else if (this.sort_ascendings[column] === false) {
                            _print(_safe('\n      <i class="icon-caret-down"></i>\n      '));
                          }
                          _print(_safe('\n      \n      '));
                        }
                        _print(_safe('\n    </th>\n    '));
                      }
                    
                      _print(_safe('\n  </thead>\n  '));
                    
                      _ref2 = _.range(this.length);
                      for (_k = 0, _len2 = _ref2.length; _k < _len2; _k++) {
                        idx = _ref2[_k];
                        _print(_safe('\n  <tr class="pandasrow" rownum="'));
                        _print(idx);
                        _print(_safe('">\n    '));
                        if (this.selected && this.selected[idx]) {
                          _print(_safe('\n      <td style="background-color:'));
                          _print(this.colors[idx]);
                          _print(_safe('"> \n        '));
                          _print(this.selected[idx]);
                          _print(_safe('/'));
                          _print(this.counts[idx]);
                          _print(_safe('\n      </td>      \n    '));
                        } else {
                          _print(_safe('\n      <td> '));
                          _print(this.counts[idx]);
                          _print(_safe(' </td>\n    '));
                        }
                        _print(_safe('\n    <td> '));
                        _print(this.index[idx]);
                        _print(_safe(' </td>\n    '));
                        _ref3 = this.columns;
                        for (_l = 0, _len3 = _ref3.length; _l < _len3; _l++) {
                          column = _ref3[_l];
                          _print(_safe('\n      '));
                          if (!this.skip[column]) {
                            _print(_safe('    \n      <td> '));
                            _print(this.data[column][idx]);
                            _print(_safe(' </td>\n      '));
                          }
                          _print(_safe('\n    '));
                        }
                        _print(_safe('\n  </tr>\n  '));
                      }
                    
                      _print(_safe('\n</table>\n<form>\n  <center>\n    <div class="btn-group pagination">\n      <button class="btn btn-mini">First</button>\n      <button class="btn btn-mini">Previous</button>\n      <button class="btn btn-mini">Next</button>\n      <button class="btn btn-mini">Last</button>  \n    </div>\n    <div class="paginatedisplay">\n      Show <input type="text" class="pandassize" value="'));
                    
                      _print(this.length);
                    
                      _print(_safe('"> records\n      From <input type="text" class="pandasoffset" value="'));
                    
                      _print(this.offset);
                    
                      _print(_safe('">\n      to '));
                    
                      _print(this.length + this.offset);
                    
                      _print(_safe(' - \n      Total : '));
                    
                      _print(this.totallength);
                    
                      _print(_safe('\n    </div>\n  </center>\n</form>\n'));
                    
                    }).call(this);
                    
                    return __out.join('');
                  }).call((function() {
                    var obj = {
                      escape: function(value) {
                        return ('' + value)
                          .replace(/&/g, '&amp;')
                          .replace(/</g, '&lt;')
                          .replace(/>/g, '&gt;')
                          .replace(/"/g, '&quot;');
                      },
                      safe: _safe
                    }, key;
                    for (key in __obj) obj[key] = __obj[key];
                    return obj;
                  })());
                };
                  return template;
                });
                
                (function() {
                  var __bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; },
                    __hasProp = {}.hasOwnProperty,
                    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };
                
                  define('widget/pandas/pandas_pivot_table',["underscore", "backbone", "common/has_parent", "common/continuum_view", "./pandas_pivot_template"], function(_, Backbone, HasParent, ContinuumView, pandaspivot) {
                    var ENTER, PandasPivotTable, PandasPivotTables, PandasPivotView, _ref, _ref1, _ref2;
                    ENTER = 13;
                    PandasPivotView = (function(_super) {
                      __extends(PandasPivotView, _super);
                
                      function PandasPivotView() {
                        this.colors = __bind(this.colors, this);
                        this.pandasend = __bind(this.pandasend, this);
                        this.pandasnext = __bind(this.pandasnext, this);
                        this.pandasback = __bind(this.pandasback, this);
                        this.pandasbeginning = __bind(this.pandasbeginning, this);
                        this.toggle_more_controls = __bind(this.toggle_more_controls, this);
                        this.sort = __bind(this.sort, this);
                        this.rowclick = __bind(this.rowclick, this);
                        this.toggle_filterselected = __bind(this.toggle_filterselected, this);
                        this.clearselected = __bind(this.clearselected, this);
                        this.computedtxtbox = __bind(this.computedtxtbox, this);
                        this.column_del = __bind(this.column_del, this);
                        this.search = __bind(this.search, this);
                        _ref = PandasPivotView.__super__.constructor.apply(this, arguments);
                        return _ref;
                      }
                
                      PandasPivotView.prototype.template = pandaspivot;
                
                      PandasPivotView.prototype.initialize = function(options) {
                        PandasPivotView.__super__.initialize.call(this, options);
                        this.listenTo(this.model, 'destroy', this.remove);
                        this.listenTo(this.model, 'change', this.render);
                        return this.render();
                      };
                
                      PandasPivotView.prototype.events = {
                        "keyup .pandasgroup": 'pandasgroup',
                        "keyup .pandasoffset": 'pandasoffset',
                        "keyup .pandassize": 'pandassize',
                        "change .pandasagg": 'pandasagg',
                        "change .tablecontrolstate": 'tablecontrolstate',
                        "click .pandasbeginning": 'pandasbeginning',
                        "click .pandasback": 'pandasback',
                        "click .pandasnext": 'pandasnext',
                        "click .pandasend": 'pandasend',
                        "click .controlsmore": 'toggle_more_controls',
                        "click .pandascolumn": 'sort',
                        "click .pandasrow": 'rowclick',
                        "click .filterselected": 'toggle_filterselected',
                        "click .clearselected": 'clearselected',
                        "keyup .computedtxtbox": 'computedtxtbox',
                        "click .column_del": "column_del",
                        "keyup .search": 'search'
                      };
                
                      PandasPivotView.prototype.search = function(e) {
                        var code, source;
                        if (e.keyCode === ENTER) {
                          code = $(e.currentTarget).val();
                          source = this.model.get_obj('source');
                          source.rpc('search', [code]);
                          return e.preventDefault();
                        }
                      };
                
                      PandasPivotView.prototype.column_del = function(e) {
                        var computed_columns, name, old, source;
                        source = this.model.get_obj('source');
                        old = source.get('computed_columns');
                        name = $(e.currentTarget).attr('name');
                        computed_columns = _.filter(old, function(x) {
                          return x.name !== name;
                        });
                        return source.rpc('set_computed_columns', [computed_columns]);
                      };
                
                      PandasPivotView.prototype.computedtxtbox = function(e) {
                        var code, name, old, source;
                        if (e.keyCode === ENTER) {
                          name = this.$('.computedname').val();
                          code = this.$('.computedtxtbox').val();
                          source = this.model.get_obj('source');
                          old = source.get('computed_columns');
                          old.push({
                            name: name,
                            code: code
                          });
                          source.rpc('set_computed_columns', [old]);
                          return e.preventDefault();
                        }
                      };
                
                      PandasPivotView.prototype.clearselected = function(e) {
                        return this.model.rpc('setselect', [[]]);
                      };
                
                      PandasPivotView.prototype.toggle_filterselected = function(e) {
                        var checked;
                        checked = this.$('.filterselected').is(":checked");
                        this.mset('filterselected', checked);
                        return this.model.save();
                      };
                
                      PandasPivotView.prototype.rowclick = function(e) {
                        var count, counts, idx, index, ratio, ratios, resp, rownum, select, selected;
                        counts = this.counts();
                        selected = this.selected();
                        ratios = (function() {
                          var _i, _len, _ref1, _ref2, _results;
                          _ref1 = _.zip(selected, counts);
                          _results = [];
                          for (_i = 0, _len = _ref1.length; _i < _len; _i++) {
                            _ref2 = _ref1[_i], select = _ref2[0], count = _ref2[1];
                            _results.push(select / count);
                          }
                          return _results;
                        })();
                        selected = (function() {
                          var _i, _len, _results;
                          _results = [];
                          for (idx = _i = 0, _len = ratios.length; _i < _len; idx = ++_i) {
                            ratio = ratios[idx];
                            if (ratio > 0.5) {
                              _results.push(idx);
                            }
                          }
                          return _results;
                        })();
                        rownum = Number($(e.currentTarget).attr('rownum'));
                        index = selected.indexOf(rownum);
                        if (index === -1) {
                          resp = this.model.rpc('select', [[rownum]]);
                        } else {
                          resp = this.model.rpc('deselect', [[rownum]]);
                        }
                        return null;
                      };
                
                      PandasPivotView.prototype.sort = function(e) {
                        var colname;
                        colname = $(e.currentTarget).text();
                        return this.model.toggle_column_sort(colname);
                      };
                
                      PandasPivotView.prototype.toggle_more_controls = function() {
                        if (this.controls_hide) {
                          this.controls_hide = false;
                        } else {
                          this.controls_hide = true;
                        }
                        return this.render();
                      };
                
                      PandasPivotView.prototype.pandasbeginning = function() {
                        return this.model.go_beginning();
                      };
                
                      PandasPivotView.prototype.pandasback = function() {
                        return this.model.go_back();
                      };
                
                      PandasPivotView.prototype.pandasnext = function() {
                        return this.model.go_forward();
                      };
                
                      PandasPivotView.prototype.pandasend = function() {
                        return this.model.go_end();
                      };
                
                      PandasPivotView.prototype.pandasoffset = function(e) {
                        var offset;
                        if (e.keyCode === ENTER) {
                          offset = this.$el.find('.pandasoffset').val();
                          offset = Number(offset);
                          if (_.isNaN(offset)) {
                            offset = this.model.defaults.offset;
                          }
                          this.model.save('offset', offset, {
                            wait: true
                          });
                          return e.preventDefault();
                        }
                      };
                
                      PandasPivotView.prototype.pandassize = function(e) {
                        var size, sizetxt;
                        if (e.keyCode === ENTER) {
                          sizetxt = this.$el.find('.pandassize').val();
                          size = Number(sizetxt);
                          if (_.isNaN(size) || sizetxt === "") {
                            size = this.model.defaults.length;
                          }
                          if (size + this.mget('offset') > this.mget('maxlength')) {
                            size = this.mget('maxlength') - this.mget('offset');
                          }
                          this.model.save('length', size, {
                            wait: true
                          });
                          return e.preventDefault();
                        }
                      };
                
                      PandasPivotView.prototype.tablecontrolstate = function() {
                        return this.mset('tablecontrolstate', this.$('.tablecontrolstate').val());
                      };
                
                      PandasPivotView.prototype.pandasagg = function() {
                        return this.model.save('agg', this.$el.find('.pandasagg').val(), {
                          'wait': true
                        });
                      };
                
                      PandasPivotView.prototype.fromcsv = function(str) {
                        if (!str) {
                          return [];
                        }
                        return _.map(str.split(","), function(x) {
                          return x.trim();
                        });
                      };
                
                      PandasPivotView.prototype.pandasgroup = function(e) {
                        if (e.keyCode === ENTER) {
                          this.model.set({
                            group: this.fromcsv(this.$el.find(".pandasgroup").val()),
                            offset: 0
                          });
                          this.model.save();
                          e.preventDefault();
                          return false;
                        }
                      };
                
                      PandasPivotView.prototype.counts = function() {
                        return this.mget('tabledata').data._counts;
                      };
                
                      PandasPivotView.prototype.selected = function() {
                        return this.mget('tabledata').data._selected;
                      };
                
                      PandasPivotView.prototype.colors = function() {
                        var counts, selected;
                        counts = this.counts();
                        selected = this.selected();
                        if (counts && selected) {
                          return _.map(_.zip(counts, selected), function(temp) {
                            var alpha, count;
                            count = temp[0], selected = temp[1];
                            alpha = 0.3 * selected / count;
                            return "rgba(0,0,255," + alpha + ")";
                          });
                        } else {
                          return null;
                        }
                      };
                
                      PandasPivotView.prototype.render = function() {
                        var colors, group, html, obj, sort, sort_ascendings, source, template_data, _i, _len, _ref1;
                        group = this.mget('group');
                        if (_.isArray(group)) {
                          group = group.join(",");
                        }
                        sort = this.mget('sort');
                        if (_.isArray(sort)) {
                          sort = sort.join(",");
                        }
                        colors = this.colors();
                        sort_ascendings = {};
                        _ref1 = this.mget('sort');
                        for (_i = 0, _len = _ref1.length; _i < _len; _i++) {
                          obj = _ref1[_i];
                          sort_ascendings[obj['column']] = obj['ascending'];
                        }
                        source = this.mget_obj('source');
                        template_data = {
                          skip: {
                            _counts: true,
                            _selected: true,
                            index: true
                          },
                          tablecontrolstate: this.mget('tablecontrolstate'),
                          computed_columns: this.mget_obj('source').get('computed_columns'),
                          columns: this.mget('tabledata').column_names,
                          data: this.mget('tabledata').data,
                          group: group,
                          sort_ascendings: sort_ascendings,
                          height: this.mget('height'),
                          width: this.mget('width'),
                          offset: this.mget('offset'),
                          length: this.model.length(),
                          filterselected: this.mget('filterselected'),
                          totallength: this.mget('totallength'),
                          counts: this.mget('tabledata').data._counts,
                          selected: this.mget('tabledata').data._selected,
                          controls_hide: this.controls_hide,
                          colors: colors,
                          index: this.mget('tabledata').data.index
                        };
                        this.$el.empty();
                        html = this.template(template_data);
                        this.$el.html(html);
                        this.$(".pandasagg").find("option[value=\"" + (this.mget('agg')) + "\"]").attr('selected', 'selected');
                        this.$(".tablecontrolstate").find("option[value=\"" + (this.mget('tablecontrolstate')) + "\"]").attr('selected', 'selected');
                        return this.$el.addClass("bokehtable");
                      };
                
                      return PandasPivotView;
                
                    })(ContinuumView.View);
                    PandasPivotTable = (function(_super) {
                      __extends(PandasPivotTable, _super);
                
                      function PandasPivotTable() {
                        this.toggle_column_sort = __bind(this.toggle_column_sort, this);
                        this.dinitialize = __bind(this.dinitialize, this);
                        _ref1 = PandasPivotTable.__super__.constructor.apply(this, arguments);
                        return _ref1;
                      }
                
                      PandasPivotTable.prototype.type = 'PandasPivotTable';
                
                      PandasPivotTable.prototype.initialize = function(attrs, options) {
                        var _this = this;
                        PandasPivotTable.__super__.initialize.call(this, attrs, options);
                        return this.throttled_fetch = _.throttle((function() {
                          return _this.fetch();
                        }), 500);
                      };
                
                      PandasPivotTable.prototype.dinitialize = function(attrs, options) {
                        return PandasPivotTable.__super__.dinitialize.call(this, attrs, options);
                      };
                
                      PandasPivotTable.prototype.fetch = function(options) {
                        return PandasPivotTable.__super__.fetch.call(this, options);
                      };
                
                      PandasPivotTable.prototype.length = function() {
                        return _.values(this.get('tabledata').data)[0].length;
                      };
                
                      PandasPivotTable.prototype.toggle_column_sort = function(colname) {
                        var sort, sorting;
                        sorting = this.get('sort');
                        this.unset('sort', {
                          'silent': true
                        });
                        sort = _.filter(sorting, function(x) {
                          return x['column'] === colname;
                        });
                        if (sort.length > 0) {
                          sort = sort[0];
                        } else {
                          sorting = _.clone(sorting);
                          sorting.push({
                            column: colname,
                            ascending: true
                          });
                          this.save('sort', sorting, {
                            'wait': true
                          });
                          return;
                        }
                        if (sort['ascending']) {
                          sort['ascending'] = false;
                          this.save('sort', sorting, {
                            'wait': true
                          });
                        } else {
                          sorting = _.filter(sorting, function(x) {
                            return x['column'] !== colname;
                          });
                          this.save('sort', sorting, {
                            'wait': true
                          });
                        }
                      };
                
                      PandasPivotTable.prototype.go_beginning = function() {
                        this.set('offset', 0);
                        return this.save();
                      };
                
                      PandasPivotTable.prototype.go_back = function() {
                        var offset;
                        offset = this.get('offset');
                        offset = offset - this.length();
                        if (offset < 0) {
                          offset = 0;
                        }
                        this.set('offset', offset);
                        return this.save();
                      };
                
                      PandasPivotTable.prototype.go_forward = function() {
                        var maxoffset, offset;
                        offset = this.get('offset');
                        offset = offset + this.length();
                        maxoffset = this.get('maxlength') - this.length();
                        if (offset > maxoffset) {
                          offset = maxoffset;
                        }
                        this.set('offset', offset);
                        return this.save();
                      };
                
                      PandasPivotTable.prototype.go_end = function() {
                        var maxoffset;
                        maxoffset = this.get('maxlength') - this.length();
                        this.set('offset', maxoffset);
                        return this.save();
                      };
                
                      PandasPivotTable.prototype.default_view = PandasPivotView;
                
                      PandasPivotTable.prototype.defaults = function() {
                        return {
                          sort: [],
                          group: [],
                          agg: 'sum',
                          offset: 0,
                          length: 100,
                          maxlength: 1000,
                          tabledata: null,
                          columns_names: [],
                          width: null,
                          tablecontrolstate: 'groupby'
                        };
                      };
                
                      return PandasPivotTable;
                
                    })(HasParent);
                    PandasPivotTables = (function(_super) {
                      __extends(PandasPivotTables, _super);
                
                      function PandasPivotTables() {
                        _ref2 = PandasPivotTables.__super__.constructor.apply(this, arguments);
                        return _ref2;
                      }
                
                      PandasPivotTables.prototype.model = PandasPivotTable;
                
                      return PandasPivotTables;
                
                    })(Backbone.Collection);
                    return {
                      "Model": PandasPivotTable,
                      "Collection": new PandasPivotTables(),
                      "View": PandasPivotView
                    };
                  });
                
                }).call(this);
                
                /*
                //@ sourceMappingURL=pandas_pivot_table.js.map
                */;
                (function() {
                  var __hasProp = {}.hasOwnProperty,
                    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };
                
                  define('widget/pandas/pandas_plot_source',["backbone", "source/column_data_source"], function(Backbone, ColumnDataSource) {
                    var PandasPlotSource, PandasPlotSources, _ref, _ref1;
                    PandasPlotSource = (function(_super) {
                      __extends(PandasPlotSource, _super);
                
                      function PandasPlotSource() {
                        _ref = PandasPlotSource.__super__.constructor.apply(this, arguments);
                        return _ref;
                      }
                
                      PandasPlotSource.prototype.type = 'PandasPlotSource';
                
                      return PandasPlotSource;
                
                    })(ColumnDataSource.Model);
                    PandasPlotSources = (function(_super) {
                      __extends(PandasPlotSources, _super);
                
                      function PandasPlotSources() {
                        _ref1 = PandasPlotSources.__super__.constructor.apply(this, arguments);
                        return _ref1;
                      }
                
                      PandasPlotSources.prototype.model = PandasPlotSource;
                
                      return PandasPlotSources;
                
                    })(Backbone.Collection);
                    return {
                      "Model": PandasPlotSource,
                      "Collection": new PandasPlotSources()
                    };
                  });
                
                }).call(this);
                
                /*
                //@ sourceMappingURL=pandas_plot_source.js.map
                */;
                (function() {
                  var __hasProp = {}.hasOwnProperty,
                    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };
                
                  define('widget/paragraph',["common/has_parent", "common/continuum_view", "backbone"], function(HasParent, continuum_view, Backbone) {
                    var ContinuumView, Paragraph, ParagraphView, Paragraphs, paragraphs, _ref, _ref1, _ref2;
                    ContinuumView = continuum_view.View;
                    ParagraphView = (function(_super) {
                      __extends(ParagraphView, _super);
                
                      function ParagraphView() {
                        _ref = ParagraphView.__super__.constructor.apply(this, arguments);
                        return _ref;
                      }
                
                      ParagraphView.prototype.tagName = "p";
                
                      ParagraphView.prototype.initialize = function(options) {
                        ParagraphView.__super__.initialize.call(this, options);
                        this.render();
                        return this.listenTo(this.model, 'change', this.render);
                      };
                
                      ParagraphView.prototype.render = function() {
                        return this.$el.text(this.mget('text'));
                      };
                
                      return ParagraphView;
                
                    })(ContinuumView);
                    Paragraph = (function(_super) {
                      __extends(Paragraph, _super);
                
                      function Paragraph() {
                        _ref1 = Paragraph.__super__.constructor.apply(this, arguments);
                        return _ref1;
                      }
                
                      Paragraph.prototype.type = "Paragraph";
                
                      Paragraph.prototype.default_view = ParagraphView;
                
                      Paragraph.prototype.defaults = function() {
                        return {
                          'text': ''
                        };
                      };
                
                      return Paragraph;
                
                    })(HasParent);
                    Paragraphs = (function(_super) {
                      __extends(Paragraphs, _super);
                
                      function Paragraphs() {
                        _ref2 = Paragraphs.__super__.constructor.apply(this, arguments);
                        return _ref2;
                      }
                
                      Paragraphs.prototype.model = Paragraph;
                
                      return Paragraphs;
                
                    })(Backbone.Collection);
                    paragraphs = new Paragraphs();
                    return {
                      "Model": Paragraph,
                      "Collection": paragraphs,
                      "View": ParagraphView
                    };
                  });
                
                }).call(this);
                
                /*
                //@ sourceMappingURL=paragraph.js.map
                */;
                (function() {
                  var __hasProp = {}.hasOwnProperty,
                    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };
                
                  define('widget/hbox',["common/has_parent", "common/continuum_view", "common/build_views", "backbone"], function(HasParent, continuum_view, build_views, Backbone) {
                    var ContinuumView, HBox, HBoxView, HBoxes, hboxes, _ref, _ref1, _ref2;
                    ContinuumView = continuum_view.View;
                    HBoxView = (function(_super) {
                      __extends(HBoxView, _super);
                
                      function HBoxView() {
                        _ref = HBoxView.__super__.constructor.apply(this, arguments);
                        return _ref;
                      }
                
                      HBoxView.prototype.tag = "div";
                
                      HBoxView.prototype.attributes = {
                        "class": "bk-hbox"
                      };
                
                      HBoxView.prototype.initialize = function(options) {
                        HBoxView.__super__.initialize.call(this, options);
                        this.views = {};
                        this.render();
                        return this.listenTo(this.model, 'change', this.render);
                      };
                
                      HBoxView.prototype.render = function() {
                        var child, children, key, val, _i, _len, _ref1, _results;
                        children = this.mget_obj('children');
                        build_views(this.views, children);
                        _ref1 = this.views;
                        for (key in _ref1) {
                          if (!__hasProp.call(_ref1, key)) continue;
                          val = _ref1[key];
                          val.$el.detach();
                        }
                        this.$el.empty();
                        _results = [];
                        for (_i = 0, _len = children.length; _i < _len; _i++) {
                          child = children[_i];
                          _results.push(this.$el.append(this.views[child.id].$el));
                        }
                        return _results;
                      };
                
                      return HBoxView;
                
                    })(ContinuumView);
                    HBox = (function(_super) {
                      __extends(HBox, _super);
                
                      function HBox() {
                        _ref1 = HBox.__super__.constructor.apply(this, arguments);
                        return _ref1;
                      }
                
                      HBox.prototype.type = "HBox";
                
                      HBox.prototype.default_view = HBoxView;
                
                      HBox.prototype.defaults = function() {
                        return {
                          'children': []
                        };
                      };
                
                      return HBox;
                
                    })(HasParent);
                    HBoxes = (function(_super) {
                      __extends(HBoxes, _super);
                
                      function HBoxes() {
                        _ref2 = HBoxes.__super__.constructor.apply(this, arguments);
                        return _ref2;
                      }
                
                      HBoxes.prototype.model = HBox;
                
                      return HBoxes;
                
                    })(Backbone.Collection);
                    hboxes = new HBoxes();
                    return {
                      "Model": HBox,
                      "Collection": hboxes,
                      "View": HBoxView
                    };
                  });
                
                }).call(this);
                
                /*
                //@ sourceMappingURL=hbox.js.map
                */;
                (function() {
                  var __hasProp = {}.hasOwnProperty,
                    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };
                
                  define('widget/vbox',["common/has_parent", "common/continuum_view", "common/build_views", "backbone"], function(HasParent, continuum_view, build_views, Backbone) {
                    var ContinuumView, VBox, VBoxView, VBoxes, vboxes, _ref, _ref1, _ref2;
                    ContinuumView = continuum_view.View;
                    VBoxView = (function(_super) {
                      __extends(VBoxView, _super);
                
                      function VBoxView() {
                        _ref = VBoxView.__super__.constructor.apply(this, arguments);
                        return _ref;
                      }
                
                      VBoxView.prototype.tag = "div";
                
                      VBoxView.prototype.attributes = {
                        "class": "bk-vbox"
                      };
                
                      VBoxView.prototype.initialize = function(options) {
                        VBoxView.__super__.initialize.call(this, options);
                        this.views = {};
                        this.render();
                        return this.listenTo(this.model, 'change', this.render);
                      };
                
                      VBoxView.prototype.render = function() {
                        var child, children, key, val, _i, _len, _ref1, _results;
                        children = this.mget_obj('children');
                        build_views(this.views, children);
                        _ref1 = this.views;
                        for (key in _ref1) {
                          if (!__hasProp.call(_ref1, key)) continue;
                          val = _ref1[key];
                          val.$el.detach();
                        }
                        this.$el.empty();
                        _results = [];
                        for (_i = 0, _len = children.length; _i < _len; _i++) {
                          child = children[_i];
                          _results.push(this.$el.append(this.views[child.id].$el));
                        }
                        return _results;
                      };
                
                      return VBoxView;
                
                    })(ContinuumView);
                    VBox = (function(_super) {
                      __extends(VBox, _super);
                
                      function VBox() {
                        _ref1 = VBox.__super__.constructor.apply(this, arguments);
                        return _ref1;
                      }
                
                      VBox.prototype.type = "VBox";
                
                      VBox.prototype.default_view = VBoxView;
                
                      VBox.prototype.defaults = function() {
                        return {
                          'children': []
                        };
                      };
                
                      return VBox;
                
                    })(HasParent);
                    VBoxes = (function(_super) {
                      __extends(VBoxes, _super);
                
                      function VBoxes() {
                        _ref2 = VBoxes.__super__.constructor.apply(this, arguments);
                        return _ref2;
                      }
                
                      VBoxes.prototype.model = VBox;
                
                      return VBoxes;
                
                    })(Backbone.Collection);
                    vboxes = new VBoxes();
                    return {
                      "Model": VBox,
                      "Collection": vboxes,
                      "View": VBoxView
                    };
                  });
                
                }).call(this);
                
                /*
                //@ sourceMappingURL=vbox.js.map
                */;
                define('widget/textinputtemplate',[],function(){
                  var template = function(__obj) {
                  var _safe = function(value) {
                    if (typeof value === 'undefined' && value == null)
                      value = '';
                    var result = new String(value);
                    result.ecoSafe = true;
                    return result;
                  };
                  return (function() {
                    var __out = [], __self = this, _print = function(value) {
                      if (typeof value !== 'undefined' && value != null)
                        __out.push(value.ecoSafe ? value : __self.escape(value));
                    }, _capture = function(callback) {
                      var out = __out, result;
                      __out = [];
                      callback.call(this);
                      result = __out.join('');
                      __out = out;
                      return _safe(result);
                    };
                    (function() {
                      _print(_safe('<label for="'));
                    
                      _print(this.id);
                    
                      _print(_safe('"> '));
                    
                      _print(this.title);
                    
                      _print(_safe(' </label>\n<input class="bk-widget-form-input" type="text" id="'));
                    
                      _print(this.id);
                    
                      _print(_safe('" name="'));
                    
                      _print(this.name);
                    
                      _print(_safe('" value="'));
                    
                      _print(this.value);
                    
                      _print(_safe('"/>\n'));
                    
                    }).call(this);
                    
                    return __out.join('');
                  }).call((function() {
                    var obj = {
                      escape: function(value) {
                        return ('' + value)
                          .replace(/&/g, '&amp;')
                          .replace(/</g, '&lt;')
                          .replace(/>/g, '&gt;')
                          .replace(/"/g, '&quot;');
                      },
                      safe: _safe
                    }, key;
                    for (key in __obj) obj[key] = __obj[key];
                    return obj;
                  })());
                };
                  return template;
                });
                
                (function() {
                  var __hasProp = {}.hasOwnProperty,
                    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };
                
                  define('widget/textinput',["common/has_parent", "common/continuum_view", "common/build_views", "backbone", "./textinputtemplate"], function(HasParent, continuum_view, build_views, Backbone, template) {
                    var ContinuumView, TextInput, TextInputView, TextInputs, textinputs, _ref, _ref1, _ref2;
                    ContinuumView = continuum_view.View;
                    TextInputView = (function(_super) {
                      __extends(TextInputView, _super);
                
                      function TextInputView() {
                        _ref = TextInputView.__super__.constructor.apply(this, arguments);
                        return _ref;
                      }
                
                      TextInputView.prototype.tagName = "div";
                
                      TextInputView.prototype.attributes = {
                        "class": "bk-widget-form-group"
                      };
                
                      TextInputView.prototype.template = template;
                
                      TextInputView.prototype.events = {
                        "change input": "change_input"
                      };
                
                      TextInputView.prototype.change_input = function() {
                        this.mset('value', this.$('input').val());
                        this.model.save();
                        return console.log('set', this.model.attributes);
                      };
                
                      TextInputView.prototype.initialize = function(options) {
                        TextInputView.__super__.initialize.call(this, options);
                        this.render();
                        return this.listenTo(this.model, 'change', this.render);
                      };
                
                      TextInputView.prototype.render = function() {
                        this.$el.html(this.template(this.model.attributes));
                        return this;
                      };
                
                      return TextInputView;
                
                    })(ContinuumView);
                    TextInput = (function(_super) {
                      __extends(TextInput, _super);
                
                      function TextInput() {
                        _ref1 = TextInput.__super__.constructor.apply(this, arguments);
                        return _ref1;
                      }
                
                      TextInput.prototype.type = "TextInput";
                
                      TextInput.prototype.default_view = TextInputView;
                
                      TextInput.prototype.defaults = function() {
                        var defaults;
                        defaults = {
                          name: "",
                          value: "",
                          title: ""
                        };
                        return defaults;
                      };
                
                      return TextInput;
                
                    })(HasParent);
                    TextInputs = (function(_super) {
                      __extends(TextInputs, _super);
                
                      function TextInputs() {
                        _ref2 = TextInputs.__super__.constructor.apply(this, arguments);
                        return _ref2;
                      }
                
                      TextInputs.prototype.model = TextInput;
                
                      return TextInputs;
                
                    })(Backbone.Collection);
                    textinputs = new TextInputs();
                    return {
                      Model: TextInput,
                      Collection: textinputs
                    };
                  });
                
                }).call(this);
                
                /*
                //@ sourceMappingURL=textinput.js.map
                */;
                (function() {
                  var __hasProp = {}.hasOwnProperty,
                    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };
                
                  define('widget/vboxmodelform',["common/has_parent", "common/continuum_view", "common/build_views", "backbone"], function(HasParent, continuum_view, build_views, Backbone) {
                    var ContinuumView, VBoxModelForm, VBoxModelFormView, VBoxModelFormes, vboxmodelformes, _ref, _ref1, _ref2;
                    ContinuumView = continuum_view.View;
                    VBoxModelFormView = (function(_super) {
                      __extends(VBoxModelFormView, _super);
                
                      function VBoxModelFormView() {
                        _ref = VBoxModelFormView.__super__.constructor.apply(this, arguments);
                        return _ref;
                      }
                
                      VBoxModelFormView.prototype.tagName = "form";
                
                      VBoxModelFormView.prototype.attributes = {
                        "class": "bk-widget-form",
                        role: "form"
                      };
                
                      VBoxModelFormView.prototype.initialize = function(options) {
                        VBoxModelFormView.__super__.initialize.call(this, options);
                        this.views = {};
                        this.render();
                        this.listenTo(this.model, 'change:children', this.change_children);
                        return this.bind_children();
                      };
                
                      VBoxModelFormView.prototype.change_children = function() {
                        var model, old_child_spec, old_children, _i, _len;
                        old_children = this.model.previous('children');
                        for (_i = 0, _len = old_children.length; _i < _len; _i++) {
                          old_child_spec = old_children[_i];
                          model = this.resolve_ref(old_child_spec);
                          if (model) {
                            this.stopListening(model, 'change:value');
                          }
                        }
                        return this.bind_children();
                      };
                
                      VBoxModelFormView.prototype.bind_children = function() {
                        var child, children, _i, _len, _results;
                        children = this.mget_obj('_children');
                        _results = [];
                        for (_i = 0, _len = children.length; _i < _len; _i++) {
                          child = children[_i];
                          _results.push(this.listenTo(child, {
                            'change:value': this.set_data
                          }));
                        }
                        return _results;
                      };
                
                      VBoxModelFormView.prototype.set_data = function(model, value, options) {
                        var name, _i, _len, _ref1, _ref2, _ref3;
                        if (model != null) {
                          _ref1 = [model.get('name'), model.get('value')], name = _ref1[0], value = _ref1[1];
                          value = this.model.convert_val(name, value);
                          this.mset(name, value);
                          this.model.save();
                        } else {
                          _ref2 = this.mget_obj('children');
                          for (_i = 0, _len = _ref2.length; _i < _len; _i++) {
                            model = _ref2[_i];
                            _ref3 = [model.get('name'), model.get('value')], name = _ref3[0], value = _ref3[1];
                            if ((name != null) && (value != null)) {
                              value = this.model.convert_val(name, value);
                              this.mset(name, value);
                            }
                          }
                          this.model.save();
                        }
                        return console.log(this.model.attributes);
                      };
                
                      VBoxModelFormView.prototype.render = function() {
                        var child, children, key, val, _i, _len, _ref1, _results;
                        children = this.mget_obj('_children');
                        build_views(this.views, children);
                        _ref1 = this.views;
                        for (key in _ref1) {
                          if (!__hasProp.call(_ref1, key)) continue;
                          val = _ref1[key];
                          val.$el.detach();
                        }
                        this.$el.empty();
                        _results = [];
                        for (_i = 0, _len = children.length; _i < _len; _i++) {
                          child = children[_i];
                          this.$el.append("<br/");
                          _results.push(this.$el.append(this.views[child.id].$el));
                        }
                        return _results;
                      };
                
                      return VBoxModelFormView;
                
                    })(ContinuumView);
                    VBoxModelForm = (function(_super) {
                      __extends(VBoxModelForm, _super);
                
                      function VBoxModelForm() {
                        _ref1 = VBoxModelForm.__super__.constructor.apply(this, arguments);
                        return _ref1;
                      }
                
                      VBoxModelForm.prototype.type = "VBoxModelForm";
                
                      VBoxModelForm.prototype.default_view = VBoxModelFormView;
                
                      VBoxModelForm.prototype.convert_val = function(name, value) {
                        var field_defs;
                        field_defs = this.get('_field_defs');
                        if (field_defs[name] != null) {
                          if (field_defs[name] === "Float") {
                            value = parseFloat(value);
                          } else if (field_defs[name] === "Int") {
                            value = parseInt(value);
                          }
                        }
                        return value;
                      };
                
                      VBoxModelForm.prototype.defaults = function() {
                        var defaults;
                        defaults = {
                          _children: [],
                          _field_defs: {}
                        };
                        return defaults;
                      };
                
                      return VBoxModelForm;
                
                    })(HasParent);
                    VBoxModelFormes = (function(_super) {
                      __extends(VBoxModelFormes, _super);
                
                      function VBoxModelFormes() {
                        _ref2 = VBoxModelFormes.__super__.constructor.apply(this, arguments);
                        return _ref2;
                      }
                
                      VBoxModelFormes.prototype.model = VBoxModelForm;
                
                      return VBoxModelFormes;
                
                    })(Backbone.Collection);
                    vboxmodelformes = new VBoxModelFormes();
                    return {
                      "Model": VBoxModelForm,
                      "Collection": vboxmodelformes,
                      "View": VBoxModelFormView
                    };
                  });
                
                }).call(this);
                
                /*
                //@ sourceMappingURL=vboxmodelform.js.map
                */;
                (function() {
                  var __hasProp = {}.hasOwnProperty,
                    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };
                
                  define('widget/pretext',["backbone", "./paragraph"], function(Backbone, Paragraph) {
                    var PreText, PreTextView, PreTexts, pretexts, _ref, _ref1, _ref2;
                    PreTextView = (function(_super) {
                      __extends(PreTextView, _super);
                
                      function PreTextView() {
                        _ref = PreTextView.__super__.constructor.apply(this, arguments);
                        return _ref;
                      }
                
                      PreTextView.prototype.tagName = "pre";
                
                      return PreTextView;
                
                    })(Paragraph.View);
                    PreText = (function(_super) {
                      __extends(PreText, _super);
                
                      function PreText() {
                        _ref1 = PreText.__super__.constructor.apply(this, arguments);
                        return _ref1;
                      }
                
                      PreText.prototype.type = "PreText";
                
                      PreText.prototype.default_view = PreTextView;
                
                      PreText.prototype.defaults = function() {
                        return {
                          'text': ''
                        };
                      };
                
                      return PreText;
                
                    })(Paragraph.Model);
                    PreTexts = (function(_super) {
                      __extends(PreTexts, _super);
                
                      function PreTexts() {
                        _ref2 = PreTexts.__super__.constructor.apply(this, arguments);
                        return _ref2;
                      }
                
                      PreTexts.prototype.model = PreText;
                
                      return PreTexts;
                
                    })(Backbone.Collection);
                    pretexts = new PreTexts();
                    return {
                      "Model": PreText,
                      "Collection": pretexts,
                      "View": PreTextView
                    };
                  });
                
                }).call(this);
                
                /*
                //@ sourceMappingURL=pretext.js.map
                */;
                define('widget/selecttemplate',[],function(){
                  var template = function(__obj) {
                  var _safe = function(value) {
                    if (typeof value === 'undefined' && value == null)
                      value = '';
                    var result = new String(value);
                    result.ecoSafe = true;
                    return result;
                  };
                  return (function() {
                    var __out = [], __self = this, _print = function(value) {
                      if (typeof value !== 'undefined' && value != null)
                        __out.push(value.ecoSafe ? value : __self.escape(value));
                    }, _capture = function(callback) {
                      var out = __out, result;
                      __out = [];
                      callback.call(this);
                      result = __out.join('');
                      __out = out;
                      return _safe(result);
                    };
                    (function() {
                      var option, _i, _len, _ref;
                    
                      _print(_safe('<label for="'));
                    
                      _print(this.id);
                    
                      _print(_safe('"> '));
                    
                      _print(this.title);
                    
                      _print(_safe(' </label>\n<select class="bk-widget-form-input" id="'));
                    
                      _print(this.id);
                    
                      _print(_safe('" name="'));
                    
                      _print(this.name);
                    
                      _print(_safe('">\n  '));
                    
                      _ref = this.options;
                      for (_i = 0, _len = _ref.length; _i < _len; _i++) {
                        option = _ref[_i];
                        _print(_safe('\n    '));
                        if (_.isString(option)) {
                          _print(_safe('\n      <option '));
                          _print(option === this.value ? _print(_safe('selected="selected"')) : void 0);
                          _print(_safe(' value="'));
                          _print(option);
                          _print(_safe('">'));
                          _print(option);
                          _print(_safe('</option>\n    '));
                        } else {
                          _print(_safe('\n      <option '));
                          _print(option.value === this.value ? _print(_safe('selected="selected"')) : void 0);
                          _print(_safe(' value="'));
                          _print(option.value);
                          _print(_safe('">'));
                          _print(option.name);
                          _print(_safe('</option>\n    '));
                        }
                        _print(_safe('\n  '));
                      }
                    
                      _print(_safe('\n</select>\n'));
                    
                    }).call(this);
                    
                    return __out.join('');
                  }).call((function() {
                    var obj = {
                      escape: function(value) {
                        return ('' + value)
                          .replace(/&/g, '&amp;')
                          .replace(/</g, '&lt;')
                          .replace(/>/g, '&gt;')
                          .replace(/"/g, '&quot;');
                      },
                      safe: _safe
                    }, key;
                    for (key in __obj) obj[key] = __obj[key];
                    return obj;
                  })());
                };
                  return template;
                });
                
                (function() {
                  var __hasProp = {}.hasOwnProperty,
                    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };
                
                  define('widget/selectbox',["common/has_parent", "common/continuum_view", "backbone", "underscore", "./selecttemplate"], function(HasParent, continuum_view, Backbone, _, selecttemplate) {
                    var ContinuumView, Select, SelectView, Selects, selectboxes, _ref, _ref1, _ref2;
                    ContinuumView = continuum_view.View;
                    SelectView = (function(_super) {
                      __extends(SelectView, _super);
                
                      function SelectView() {
                        _ref = SelectView.__super__.constructor.apply(this, arguments);
                        return _ref;
                      }
                
                      SelectView.prototype.events = {
                        "change select": "change_input"
                      };
                
                      SelectView.prototype.change_input = function() {
                        console.log('set', this.model.attributes);
                        this.mset('value', this.$('select').val());
                        return this.model.save();
                      };
                
                      SelectView.prototype.tagName = "div";
                
                      SelectView.prototype.template = selecttemplate;
                
                      SelectView.prototype.initialize = function(options) {
                        SelectView.__super__.initialize.call(this, options);
                        this.render();
                        return this.listenTo(this.model, 'change', this.render);
                      };
                
                      SelectView.prototype.render = function() {
                        var html;
                        this.$el.empty();
                        html = this.template(this.model.attributes);
                        this.$el.html(html);
                        return this;
                      };
                
                      return SelectView;
                
                    })(ContinuumView);
                    Select = (function(_super) {
                      __extends(Select, _super);
                
                      function Select() {
                        _ref1 = Select.__super__.constructor.apply(this, arguments);
                        return _ref1;
                      }
                
                      Select.prototype.type = "Select";
                
                      Select.prototype.default_view = SelectView;
                
                      Select.prototype.defaults = function() {
                        var def;
                        def = {
                          title: '',
                          value: '',
                          options: []
                        };
                        return def;
                      };
                
                      return Select;
                
                    })(HasParent);
                    Selects = (function(_super) {
                      __extends(Selects, _super);
                
                      function Selects() {
                        _ref2 = Selects.__super__.constructor.apply(this, arguments);
                        return _ref2;
                      }
                
                      Selects.prototype.model = Select;
                
                      return Selects;
                
                    })(Backbone.Collection);
                    selectboxes = new Selects();
                    return {
                      "Model": Select,
                      "Collection": selectboxes,
                      "View": SelectView
                    };
                  });
                
                }).call(this);
                
                /*
                //@ sourceMappingURL=selectbox.js.map
                */;
                define('widget/slidertemplate',[],function(){
                  var template = function(__obj) {
                  var _safe = function(value) {
                    if (typeof value === 'undefined' && value == null)
                      value = '';
                    var result = new String(value);
                    result.ecoSafe = true;
                    return result;
                  };
                  return (function() {
                    var __out = [], __self = this, _print = function(value) {
                      if (typeof value !== 'undefined' && value != null)
                        __out.push(value.ecoSafe ? value : __self.escape(value));
                    }, _capture = function(callback) {
                      var out = __out, result;
                      __out = [];
                      callback.call(this);
                      result = __out.join('');
                      __out = out;
                      return _safe(result);
                    };
                    (function() {
                      _print(_safe('<label for="'));
                    
                      _print(this.id);
                    
                      _print(_safe('"> '));
                    
                      _print(this.title);
                    
                      _print(_safe(' </label>\n<div class="bk-slider-'));
                    
                      _print(this.orientation);
                    
                      _print(_safe('">\n  <div class="slider " id="'));
                    
                      _print(this.id);
                    
                      _print(_safe('">\n</div>\n'));
                    
                    }).call(this);
                    
                    return __out.join('');
                  }).call((function() {
                    var obj = {
                      escape: function(value) {
                        return ('' + value)
                          .replace(/&/g, '&amp;')
                          .replace(/</g, '&lt;')
                          .replace(/>/g, '&gt;')
                          .replace(/"/g, '&quot;');
                      },
                      safe: _safe
                    }, key;
                    for (key in __obj) obj[key] = __obj[key];
                    return obj;
                  })());
                };
                  return template;
                });
                
                define('jquery_ui/slider',['jquery','./core','./mouse','./widget'], function (jQuery) {
                /*!
                 * jQuery UI Slider 1.10.0
                 * http://jqueryui.com
                 *
                 * Copyright 2013 jQuery Foundation and other contributors
                 * Released under the MIT license.
                 * http://jquery.org/license
                 *
                 * http://api.jqueryui.com/slider/
                 *
                 * Depends:
                 *	jquery.ui.core.js
                 *	jquery.ui.mouse.js
                 *	jquery.ui.widget.js
                 */
                (function( $, undefined ) {
                
                // number of pages in a slider
                // (how many times can you page up/down to go through the whole range)
                var numPages = 5;
                
                $.widget( "ui.slider", $.ui.mouse, {
                	version: "1.10.0",
                	widgetEventPrefix: "slide",
                
                	options: {
                		animate: false,
                		distance: 0,
                		max: 100,
                		min: 0,
                		orientation: "horizontal",
                		range: false,
                		step: 1,
                		value: 0,
                		values: null,
                
                		// callbacks
                		change: null,
                		slide: null,
                		start: null,
                		stop: null
                	},
                
                	_create: function() {
                		var i, handleCount,
                			o = this.options,
                			existingHandles = this.element.find( ".ui-slider-handle" ).addClass( "ui-state-default ui-corner-all" ),
                			handle = "<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>",
                			handles = [];
                
                		this._keySliding = false;
                		this._mouseSliding = false;
                		this._animateOff = true;
                		this._handleIndex = null;
                		this._detectOrientation();
                		this._mouseInit();
                
                		this.element
                			.addClass( "ui-slider" +
                				" ui-slider-" + this.orientation +
                				" ui-widget" +
                				" ui-widget-content" +
                				" ui-corner-all");
                
                		this.range = $([]);
                
                		if ( o.range ) {
                			if ( o.range === true ) {
                				if ( !o.values ) {
                					o.values = [ this._valueMin(), this._valueMin() ];
                				} else if ( o.values.length && o.values.length !== 2 ) {
                					o.values = [ o.values[0], o.values[0] ];
                				} else if ( $.isArray( o.values ) ) {
                					o.values = o.values.slice(0);
                				}
                			}
                
                			this.range = $( "<div></div>" )
                				.appendTo( this.element )
                				.addClass( "ui-slider-range" +
                				// note: this isn't the most fittingly semantic framework class for this element,
                				// but worked best visually with a variety of themes
                				" ui-widget-header" +
                				( ( o.range === "min" || o.range === "max" ) ? " ui-slider-range-" + o.range : "" ) );
                		}
                
                		handleCount = ( o.values && o.values.length ) || 1;
                
                		for ( i = existingHandles.length; i < handleCount; i++ ) {
                			handles.push( handle );
                		}
                
                		this.handles = existingHandles.add( $( handles.join( "" ) ).appendTo( this.element ) );
                
                		this.handle = this.handles.eq( 0 );
                
                		this.handles.add( this.range ).filter( "a" )
                			.click(function( event ) {
                				event.preventDefault();
                			})
                			.mouseenter(function() {
                				if ( !o.disabled ) {
                					$( this ).addClass( "ui-state-hover" );
                				}
                			})
                			.mouseleave(function() {
                				$( this ).removeClass( "ui-state-hover" );
                			})
                			.focus(function() {
                				if ( !o.disabled ) {
                					$( ".ui-slider .ui-state-focus" ).removeClass( "ui-state-focus" );
                					$( this ).addClass( "ui-state-focus" );
                				} else {
                					$( this ).blur();
                				}
                			})
                			.blur(function() {
                				$( this ).removeClass( "ui-state-focus" );
                			});
                
                		this.handles.each(function( i ) {
                			$( this ).data( "ui-slider-handle-index", i );
                		});
                
                		this._setOption( "disabled", o.disabled );
                
                		this._on( this.handles, this._handleEvents );
                
                		this._refreshValue();
                
                		this._animateOff = false;
                	},
                
                	_destroy: function() {
                		this.handles.remove();
                		this.range.remove();
                
                		this.element
                			.removeClass( "ui-slider" +
                				" ui-slider-horizontal" +
                				" ui-slider-vertical" +
                				" ui-widget" +
                				" ui-widget-content" +
                				" ui-corner-all" );
                
                		this._mouseDestroy();
                	},
                
                	_mouseCapture: function( event ) {
                		var position, normValue, distance, closestHandle, index, allowed, offset, mouseOverHandle,
                			that = this,
                			o = this.options;
                
                		if ( o.disabled ) {
                			return false;
                		}
                
                		this.elementSize = {
                			width: this.element.outerWidth(),
                			height: this.element.outerHeight()
                		};
                		this.elementOffset = this.element.offset();
                
                		position = { x: event.pageX, y: event.pageY };
                		normValue = this._normValueFromMouse( position );
                		distance = this._valueMax() - this._valueMin() + 1;
                		this.handles.each(function( i ) {
                			var thisDistance = Math.abs( normValue - that.values(i) );
                			if (( distance > thisDistance ) ||
                				( distance === thisDistance &&
                					(i === that._lastChangedValue || that.values(i) === o.min ))) {
                				distance = thisDistance;
                				closestHandle = $( this );
                				index = i;
                			}
                		});
                
                		allowed = this._start( event, index );
                		if ( allowed === false ) {
                			return false;
                		}
                		this._mouseSliding = true;
                
                		this._handleIndex = index;
                
                		closestHandle
                			.addClass( "ui-state-active" )
                			.focus();
                
                		offset = closestHandle.offset();
                		mouseOverHandle = !$( event.target ).parents().addBack().is( ".ui-slider-handle" );
                		this._clickOffset = mouseOverHandle ? { left: 0, top: 0 } : {
                			left: event.pageX - offset.left - ( closestHandle.width() / 2 ),
                			top: event.pageY - offset.top -
                				( closestHandle.height() / 2 ) -
                				( parseInt( closestHandle.css("borderTopWidth"), 10 ) || 0 ) -
                				( parseInt( closestHandle.css("borderBottomWidth"), 10 ) || 0) +
                				( parseInt( closestHandle.css("marginTop"), 10 ) || 0)
                		};
                
                		if ( !this.handles.hasClass( "ui-state-hover" ) ) {
                			this._slide( event, index, normValue );
                		}
                		this._animateOff = true;
                		return true;
                	},
                
                	_mouseStart: function() {
                		return true;
                	},
                
                	_mouseDrag: function( event ) {
                		var position = { x: event.pageX, y: event.pageY },
                			normValue = this._normValueFromMouse( position );
                
                		this._slide( event, this._handleIndex, normValue );
                
                		return false;
                	},
                
                	_mouseStop: function( event ) {
                		this.handles.removeClass( "ui-state-active" );
                		this._mouseSliding = false;
                
                		this._stop( event, this._handleIndex );
                		this._change( event, this._handleIndex );
                
                		this._handleIndex = null;
                		this._clickOffset = null;
                		this._animateOff = false;
                
                		return false;
                	},
                
                	_detectOrientation: function() {
                		this.orientation = ( this.options.orientation === "vertical" ) ? "vertical" : "horizontal";
                	},
                
                	_normValueFromMouse: function( position ) {
                		var pixelTotal,
                			pixelMouse,
                			percentMouse,
                			valueTotal,
                			valueMouse;
                
                		if ( this.orientation === "horizontal" ) {
                			pixelTotal = this.elementSize.width;
                			pixelMouse = position.x - this.elementOffset.left - ( this._clickOffset ? this._clickOffset.left : 0 );
                		} else {
                			pixelTotal = this.elementSize.height;
                			pixelMouse = position.y - this.elementOffset.top - ( this._clickOffset ? this._clickOffset.top : 0 );
                		}
                
                		percentMouse = ( pixelMouse / pixelTotal );
                		if ( percentMouse > 1 ) {
                			percentMouse = 1;
                		}
                		if ( percentMouse < 0 ) {
                			percentMouse = 0;
                		}
                		if ( this.orientation === "vertical" ) {
                			percentMouse = 1 - percentMouse;
                		}
                
                		valueTotal = this._valueMax() - this._valueMin();
                		valueMouse = this._valueMin() + percentMouse * valueTotal;
                
                		return this._trimAlignValue( valueMouse );
                	},
                
                	_start: function( event, index ) {
                		var uiHash = {
                			handle: this.handles[ index ],
                			value: this.value()
                		};
                		if ( this.options.values && this.options.values.length ) {
                			uiHash.value = this.values( index );
                			uiHash.values = this.values();
                		}
                		return this._trigger( "start", event, uiHash );
                	},
                
                	_slide: function( event, index, newVal ) {
                		var otherVal,
                			newValues,
                			allowed;
                
                		if ( this.options.values && this.options.values.length ) {
                			otherVal = this.values( index ? 0 : 1 );
                
                			if ( ( this.options.values.length === 2 && this.options.range === true ) &&
                					( ( index === 0 && newVal > otherVal) || ( index === 1 && newVal < otherVal ) )
                				) {
                				newVal = otherVal;
                			}
                
                			if ( newVal !== this.values( index ) ) {
                				newValues = this.values();
                				newValues[ index ] = newVal;
                				// A slide can be canceled by returning false from the slide callback
                				allowed = this._trigger( "slide", event, {
                					handle: this.handles[ index ],
                					value: newVal,
                					values: newValues
                				} );
                				otherVal = this.values( index ? 0 : 1 );
                				if ( allowed !== false ) {
                					this.values( index, newVal, true );
                				}
                			}
                		} else {
                			if ( newVal !== this.value() ) {
                				// A slide can be canceled by returning false from the slide callback
                				allowed = this._trigger( "slide", event, {
                					handle: this.handles[ index ],
                					value: newVal
                				} );
                				if ( allowed !== false ) {
                					this.value( newVal );
                				}
                			}
                		}
                	},
                
                	_stop: function( event, index ) {
                		var uiHash = {
                			handle: this.handles[ index ],
                			value: this.value()
                		};
                		if ( this.options.values && this.options.values.length ) {
                			uiHash.value = this.values( index );
                			uiHash.values = this.values();
                		}
                
                		this._trigger( "stop", event, uiHash );
                	},
                
                	_change: function( event, index ) {
                		if ( !this._keySliding && !this._mouseSliding ) {
                			var uiHash = {
                				handle: this.handles[ index ],
                				value: this.value()
                			};
                			if ( this.options.values && this.options.values.length ) {
                				uiHash.value = this.values( index );
                				uiHash.values = this.values();
                			}
                
                			//store the last changed value index for reference when handles overlap
                			this._lastChangedValue = index;
                
                			this._trigger( "change", event, uiHash );
                		}
                	},
                
                	value: function( newValue ) {
                		if ( arguments.length ) {
                			this.options.value = this._trimAlignValue( newValue );
                			this._refreshValue();
                			this._change( null, 0 );
                			return;
                		}
                
                		return this._value();
                	},
                
                	values: function( index, newValue ) {
                		var vals,
                			newValues,
                			i;
                
                		if ( arguments.length > 1 ) {
                			this.options.values[ index ] = this._trimAlignValue( newValue );
                			this._refreshValue();
                			this._change( null, index );
                			return;
                		}
                
                		if ( arguments.length ) {
                			if ( $.isArray( arguments[ 0 ] ) ) {
                				vals = this.options.values;
                				newValues = arguments[ 0 ];
                				for ( i = 0; i < vals.length; i += 1 ) {
                					vals[ i ] = this._trimAlignValue( newValues[ i ] );
                					this._change( null, i );
                				}
                				this._refreshValue();
                			} else {
                				if ( this.options.values && this.options.values.length ) {
                					return this._values( index );
                				} else {
                					return this.value();
                				}
                			}
                		} else {
                			return this._values();
                		}
                	},
                
                	_setOption: function( key, value ) {
                		var i,
                			valsLength = 0;
                
                		if ( $.isArray( this.options.values ) ) {
                			valsLength = this.options.values.length;
                		}
                
                		$.Widget.prototype._setOption.apply( this, arguments );
                
                		switch ( key ) {
                			case "disabled":
                				if ( value ) {
                					this.handles.filter( ".ui-state-focus" ).blur();
                					this.handles.removeClass( "ui-state-hover" );
                					this.handles.prop( "disabled", true );
                				} else {
                					this.handles.prop( "disabled", false );
                				}
                				break;
                			case "orientation":
                				this._detectOrientation();
                				this.element
                					.removeClass( "ui-slider-horizontal ui-slider-vertical" )
                					.addClass( "ui-slider-" + this.orientation );
                				this._refreshValue();
                				break;
                			case "value":
                				this._animateOff = true;
                				this._refreshValue();
                				this._change( null, 0 );
                				this._animateOff = false;
                				break;
                			case "values":
                				this._animateOff = true;
                				this._refreshValue();
                				for ( i = 0; i < valsLength; i += 1 ) {
                					this._change( null, i );
                				}
                				this._animateOff = false;
                				break;
                			case "min":
                			case "max":
                				this._animateOff = true;
                				this._refreshValue();
                				this._animateOff = false;
                				break;
                		}
                	},
                
                	//internal value getter
                	// _value() returns value trimmed by min and max, aligned by step
                	_value: function() {
                		var val = this.options.value;
                		val = this._trimAlignValue( val );
                
                		return val;
                	},
                
                	//internal values getter
                	// _values() returns array of values trimmed by min and max, aligned by step
                	// _values( index ) returns single value trimmed by min and max, aligned by step
                	_values: function( index ) {
                		var val,
                			vals,
                			i;
                
                		if ( arguments.length ) {
                			val = this.options.values[ index ];
                			val = this._trimAlignValue( val );
                
                			return val;
                		} else {
                			// .slice() creates a copy of the array
                			// this copy gets trimmed by min and max and then returned
                			vals = this.options.values.slice();
                			for ( i = 0; i < vals.length; i+= 1) {
                				vals[ i ] = this._trimAlignValue( vals[ i ] );
                			}
                
                			return vals;
                		}
                	},
                
                	// returns the step-aligned value that val is closest to, between (inclusive) min and max
                	_trimAlignValue: function( val ) {
                		if ( val <= this._valueMin() ) {
                			return this._valueMin();
                		}
                		if ( val >= this._valueMax() ) {
                			return this._valueMax();
                		}
                		var step = ( this.options.step > 0 ) ? this.options.step : 1,
                			valModStep = (val - this._valueMin()) % step,
                			alignValue = val - valModStep;
                
                		if ( Math.abs(valModStep) * 2 >= step ) {
                			alignValue += ( valModStep > 0 ) ? step : ( -step );
                		}
                
                		// Since JavaScript has problems with large floats, round
                		// the final value to 5 digits after the decimal point (see #4124)
                		return parseFloat( alignValue.toFixed(5) );
                	},
                
                	_valueMin: function() {
                		return this.options.min;
                	},
                
                	_valueMax: function() {
                		return this.options.max;
                	},
                
                	_refreshValue: function() {
                		var lastValPercent, valPercent, value, valueMin, valueMax,
                			oRange = this.options.range,
                			o = this.options,
                			that = this,
                			animate = ( !this._animateOff ) ? o.animate : false,
                			_set = {};
                
                		if ( this.options.values && this.options.values.length ) {
                			this.handles.each(function( i ) {
                				valPercent = ( that.values(i) - that._valueMin() ) / ( that._valueMax() - that._valueMin() ) * 100;
                				_set[ that.orientation === "horizontal" ? "left" : "bottom" ] = valPercent + "%";
                				$( this ).stop( 1, 1 )[ animate ? "animate" : "css" ]( _set, o.animate );
                				if ( that.options.range === true ) {
                					if ( that.orientation === "horizontal" ) {
                						if ( i === 0 ) {
                							that.range.stop( 1, 1 )[ animate ? "animate" : "css" ]( { left: valPercent + "%" }, o.animate );
                						}
                						if ( i === 1 ) {
                							that.range[ animate ? "animate" : "css" ]( { width: ( valPercent - lastValPercent ) + "%" }, { queue: false, duration: o.animate } );
                						}
                					} else {
                						if ( i === 0 ) {
                							that.range.stop( 1, 1 )[ animate ? "animate" : "css" ]( { bottom: ( valPercent ) + "%" }, o.animate );
                						}
                						if ( i === 1 ) {
                							that.range[ animate ? "animate" : "css" ]( { height: ( valPercent - lastValPercent ) + "%" }, { queue: false, duration: o.animate } );
                						}
                					}
                				}
                				lastValPercent = valPercent;
                			});
                		} else {
                			value = this.value();
                			valueMin = this._valueMin();
                			valueMax = this._valueMax();
                			valPercent = ( valueMax !== valueMin ) ?
                					( value - valueMin ) / ( valueMax - valueMin ) * 100 :
                					0;
                			_set[ this.orientation === "horizontal" ? "left" : "bottom" ] = valPercent + "%";
                			this.handle.stop( 1, 1 )[ animate ? "animate" : "css" ]( _set, o.animate );
                
                			if ( oRange === "min" && this.orientation === "horizontal" ) {
                				this.range.stop( 1, 1 )[ animate ? "animate" : "css" ]( { width: valPercent + "%" }, o.animate );
                			}
                			if ( oRange === "max" && this.orientation === "horizontal" ) {
                				this.range[ animate ? "animate" : "css" ]( { width: ( 100 - valPercent ) + "%" }, { queue: false, duration: o.animate } );
                			}
                			if ( oRange === "min" && this.orientation === "vertical" ) {
                				this.range.stop( 1, 1 )[ animate ? "animate" : "css" ]( { height: valPercent + "%" }, o.animate );
                			}
                			if ( oRange === "max" && this.orientation === "vertical" ) {
                				this.range[ animate ? "animate" : "css" ]( { height: ( 100 - valPercent ) + "%" }, { queue: false, duration: o.animate } );
                			}
                		}
                	},
                
                	_handleEvents: {
                		keydown: function( event ) {
                			/*jshint maxcomplexity:25*/
                			var allowed, curVal, newVal, step,
                				index = $( event.target ).data( "ui-slider-handle-index" );
                
                			switch ( event.keyCode ) {
                				case $.ui.keyCode.HOME:
                				case $.ui.keyCode.END:
                				case $.ui.keyCode.PAGE_UP:
                				case $.ui.keyCode.PAGE_DOWN:
                				case $.ui.keyCode.UP:
                				case $.ui.keyCode.RIGHT:
                				case $.ui.keyCode.DOWN:
                				case $.ui.keyCode.LEFT:
                					event.preventDefault();
                					if ( !this._keySliding ) {
                						this._keySliding = true;
                						$( event.target ).addClass( "ui-state-active" );
                						allowed = this._start( event, index );
                						if ( allowed === false ) {
                							return;
                						}
                					}
                					break;
                			}
                
                			step = this.options.step;
                			if ( this.options.values && this.options.values.length ) {
                				curVal = newVal = this.values( index );
                			} else {
                				curVal = newVal = this.value();
                			}
                
                			switch ( event.keyCode ) {
                				case $.ui.keyCode.HOME:
                					newVal = this._valueMin();
                					break;
                				case $.ui.keyCode.END:
                					newVal = this._valueMax();
                					break;
                				case $.ui.keyCode.PAGE_UP:
                					newVal = this._trimAlignValue( curVal + ( (this._valueMax() - this._valueMin()) / numPages ) );
                					break;
                				case $.ui.keyCode.PAGE_DOWN:
                					newVal = this._trimAlignValue( curVal - ( (this._valueMax() - this._valueMin()) / numPages ) );
                					break;
                				case $.ui.keyCode.UP:
                				case $.ui.keyCode.RIGHT:
                					if ( curVal === this._valueMax() ) {
                						return;
                					}
                					newVal = this._trimAlignValue( curVal + step );
                					break;
                				case $.ui.keyCode.DOWN:
                				case $.ui.keyCode.LEFT:
                					if ( curVal === this._valueMin() ) {
                						return;
                					}
                					newVal = this._trimAlignValue( curVal - step );
                					break;
                			}
                
                			this._slide( event, index, newVal );
                		},
                		keyup: function( event ) {
                			var index = $( event.target ).data( "ui-slider-handle-index" );
                
                			if ( this._keySliding ) {
                				this._keySliding = false;
                				this._stop( event, index );
                				this._change( event, index );
                				$( event.target ).removeClass( "ui-state-active" );
                			}
                		}
                	}
                
                });
                
                }(jQuery));
                
                });
                (function() {
                  var __bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; },
                    __hasProp = {}.hasOwnProperty,
                    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };
                
                  define('widget/slider',["common/has_parent", "common/continuum_view", "backbone", "underscore", "./slidertemplate", "jquery_ui/slider"], function(HasParent, continuum_view, Backbone, _, slidertemplate) {
                    var ContinuumView, Slider, SliderView, Sliders, sliders, _ref, _ref1, _ref2;
                    ContinuumView = continuum_view.View;
                    SliderView = (function(_super) {
                      __extends(SliderView, _super);
                
                      function SliderView() {
                        this.slide = __bind(this.slide, this);
                        _ref = SliderView.__super__.constructor.apply(this, arguments);
                        return _ref;
                      }
                
                      SliderView.prototype.tagName = "div";
                
                      SliderView.prototype.template = slidertemplate;
                
                      SliderView.prototype.initialize = function(options) {
                        SliderView.__super__.initialize.call(this, options);
                        return this.render();
                      };
                
                      SliderView.prototype.render = function() {
                        var html, max, min, step;
                        this.$el.empty();
                        html = this.template(this.model.attributes);
                        this.$el.html(html);
                        max = this.mget('end');
                        min = this.mget('start');
                        step = this.mget('step') || ((max - min) / 50);
                        console.log('sliderval', min, max, step);
                        return this.$('.slider').slider({
                          orientation: this.mget('orientation'),
                          animate: "fast",
                          slide: _.throttle(this.slide, 200),
                          value: this.mget('value'),
                          min: min,
                          max: max,
                          step: step
                        });
                      };
                
                      SliderView.prototype.slide = function(event, ui) {
                        var value;
                        value = ui.value;
                        console.log('sliding', value);
                        this.mset('value', value);
                        return this.model.save();
                      };
                
                      return SliderView;
                
                    })(ContinuumView);
                    Slider = (function(_super) {
                      __extends(Slider, _super);
                
                      function Slider() {
                        _ref1 = Slider.__super__.constructor.apply(this, arguments);
                        return _ref1;
                      }
                
                      Slider.prototype.type = "Slider";
                
                      Slider.prototype.default_view = SliderView;
                
                      Slider.prototype.defaults = function() {
                        var def;
                        def = {
                          title: '',
                          value: 0.5,
                          start: 0,
                          end: 1,
                          step: 0,
                          orientation: "horizontal"
                        };
                        return def;
                      };
                
                      return Slider;
                
                    })(HasParent);
                    Sliders = (function(_super) {
                      __extends(Sliders, _super);
                
                      function Sliders() {
                        _ref2 = Sliders.__super__.constructor.apply(this, arguments);
                        return _ref2;
                      }
                
                      Sliders.prototype.model = Slider;
                
                      return Sliders;
                
                    })(Backbone.Collection);
                    sliders = new Sliders();
                    return {
                      "Model": Slider,
                      "Collection": sliders,
                      "View": SliderView
                    };
                  });
                
                }).call(this);
                
                /*
                //@ sourceMappingURL=slider.js.map
                */;
                define('jquery_ui/draggable',['jquery','./core','./mouse','./widget'], function (jQuery) {
                /*!
                 * jQuery UI Draggable 1.10.0
                 * http://jqueryui.com
                 *
                 * Copyright 2013 jQuery Foundation and other contributors
                 * Released under the MIT license.
                 * http://jquery.org/license
                 *
                 * http://api.jqueryui.com/draggable/
                 *
                 * Depends:
                 *	jquery.ui.core.js
                 *	jquery.ui.mouse.js
                 *	jquery.ui.widget.js
                 */
                (function( $, undefined ) {
                
                $.widget("ui.draggable", $.ui.mouse, {
                	version: "1.10.0",
                	widgetEventPrefix: "drag",
                	options: {
                		addClasses: true,
                		appendTo: "parent",
                		axis: false,
                		connectToSortable: false,
                		containment: false,
                		cursor: "auto",
                		cursorAt: false,
                		grid: false,
                		handle: false,
                		helper: "original",
                		iframeFix: false,
                		opacity: false,
                		refreshPositions: false,
                		revert: false,
                		revertDuration: 500,
                		scope: "default",
                		scroll: true,
                		scrollSensitivity: 20,
                		scrollSpeed: 20,
                		snap: false,
                		snapMode: "both",
                		snapTolerance: 20,
                		stack: false,
                		zIndex: false,
                
                		// callbacks
                		drag: null,
                		start: null,
                		stop: null
                	},
                	_create: function() {
                
                		if (this.options.helper === "original" && !(/^(?:r|a|f)/).test(this.element.css("position"))) {
                			this.element[0].style.position = "relative";
                		}
                		if (this.options.addClasses){
                			this.element.addClass("ui-draggable");
                		}
                		if (this.options.disabled){
                			this.element.addClass("ui-draggable-disabled");
                		}
                
                		this._mouseInit();
                
                	},
                
                	_destroy: function() {
                		this.element.removeClass( "ui-draggable ui-draggable-dragging ui-draggable-disabled" );
                		this._mouseDestroy();
                	},
                
                	_mouseCapture: function(event) {
                
                		var o = this.options;
                
                		// among others, prevent a drag on a resizable-handle
                		if (this.helper || o.disabled || $(event.target).closest(".ui-resizable-handle").length > 0) {
                			return false;
                		}
                
                		//Quit if we're not on a valid handle
                		this.handle = this._getHandle(event);
                		if (!this.handle) {
                			return false;
                		}
                
                		$(o.iframeFix === true ? "iframe" : o.iframeFix).each(function() {
                			$("<div class='ui-draggable-iframeFix' style='background: #fff;'></div>")
                			.css({
                				width: this.offsetWidth+"px", height: this.offsetHeight+"px",
                				position: "absolute", opacity: "0.001", zIndex: 1000
                			})
                			.css($(this).offset())
                			.appendTo("body");
                		});
                
                		return true;
                
                	},
                
                	_mouseStart: function(event) {
                
                		var o = this.options;
                
                		//Create and append the visible helper
                		this.helper = this._createHelper(event);
                
                		this.helper.addClass("ui-draggable-dragging");
                
                		//Cache the helper size
                		this._cacheHelperProportions();
                
                		//If ddmanager is used for droppables, set the global draggable
                		if($.ui.ddmanager) {
                			$.ui.ddmanager.current = this;
                		}
                
                		/*
                		 * - Position generation -
                		 * This block generates everything position related - it's the core of draggables.
                		 */
                
                		//Cache the margins of the original element
                		this._cacheMargins();
                
                		//Store the helper's css position
                		this.cssPosition = this.helper.css("position");
                		this.scrollParent = this.helper.scrollParent();
                
                		//The element's absolute position on the page minus margins
                		this.offset = this.positionAbs = this.element.offset();
                		this.offset = {
                			top: this.offset.top - this.margins.top,
                			left: this.offset.left - this.margins.left
                		};
                
                		$.extend(this.offset, {
                			click: { //Where the click happened, relative to the element
                				left: event.pageX - this.offset.left,
                				top: event.pageY - this.offset.top
                			},
                			parent: this._getParentOffset(),
                			relative: this._getRelativeOffset() //This is a relative to absolute position minus the actual position calculation - only used for relative positioned helper
                		});
                
                		//Generate the original position
                		this.originalPosition = this.position = this._generatePosition(event);
                		this.originalPageX = event.pageX;
                		this.originalPageY = event.pageY;
                
                		//Adjust the mouse offset relative to the helper if "cursorAt" is supplied
                		(o.cursorAt && this._adjustOffsetFromHelper(o.cursorAt));
                
                		//Set a containment if given in the options
                		if(o.containment) {
                			this._setContainment();
                		}
                
                		//Trigger event + callbacks
                		if(this._trigger("start", event) === false) {
                			this._clear();
                			return false;
                		}
                
                		//Recache the helper size
                		this._cacheHelperProportions();
                
                		//Prepare the droppable offsets
                		if ($.ui.ddmanager && !o.dropBehaviour) {
                			$.ui.ddmanager.prepareOffsets(this, event);
                		}
                
                
                		this._mouseDrag(event, true); //Execute the drag once - this causes the helper not to be visible before getting its correct position
                
                		//If the ddmanager is used for droppables, inform the manager that dragging has started (see #5003)
                		if ( $.ui.ddmanager ) {
                			$.ui.ddmanager.dragStart(this, event);
                		}
                
                		return true;
                	},
                
                	_mouseDrag: function(event, noPropagation) {
                
                		//Compute the helpers position
                		this.position = this._generatePosition(event);
                		this.positionAbs = this._convertPositionTo("absolute");
                
                		//Call plugins and callbacks and use the resulting position if something is returned
                		if (!noPropagation) {
                			var ui = this._uiHash();
                			if(this._trigger("drag", event, ui) === false) {
                				this._mouseUp({});
                				return false;
                			}
                			this.position = ui.position;
                		}
                
                		if(!this.options.axis || this.options.axis !== "y") {
                			this.helper[0].style.left = this.position.left+"px";
                		}
                		if(!this.options.axis || this.options.axis !== "x") {
                			this.helper[0].style.top = this.position.top+"px";
                		}
                		if($.ui.ddmanager) {
                			$.ui.ddmanager.drag(this, event);
                		}
                
                		return false;
                	},
                
                	_mouseStop: function(event) {
                
                		//If we are using droppables, inform the manager about the drop
                		var element,
                			that = this,
                			elementInDom = false,
                			dropped = false;
                		if ($.ui.ddmanager && !this.options.dropBehaviour) {
                			dropped = $.ui.ddmanager.drop(this, event);
                		}
                
                		//if a drop comes from outside (a sortable)
                		if(this.dropped) {
                			dropped = this.dropped;
                			this.dropped = false;
                		}
                
                		//if the original element is no longer in the DOM don't bother to continue (see #8269)
                		element = this.element[0];
                		while ( element && (element = element.parentNode) ) {
                			if (element === document ) {
                				elementInDom = true;
                			}
                		}
                		if ( !elementInDom && this.options.helper === "original" ) {
                			return false;
                		}
                
                		if((this.options.revert === "invalid" && !dropped) || (this.options.revert === "valid" && dropped) || this.options.revert === true || ($.isFunction(this.options.revert) && this.options.revert.call(this.element, dropped))) {
                			$(this.helper).animate(this.originalPosition, parseInt(this.options.revertDuration, 10), function() {
                				if(that._trigger("stop", event) !== false) {
                					that._clear();
                				}
                			});
                		} else {
                			if(this._trigger("stop", event) !== false) {
                				this._clear();
                			}
                		}
                
                		return false;
                	},
                
                	_mouseUp: function(event) {
                		//Remove frame helpers
                		$("div.ui-draggable-iframeFix").each(function() {
                			this.parentNode.removeChild(this);
                		});
                
                		//If the ddmanager is used for droppables, inform the manager that dragging has stopped (see #5003)
                		if( $.ui.ddmanager ) {
                			$.ui.ddmanager.dragStop(this, event);
                		}
                
                		return $.ui.mouse.prototype._mouseUp.call(this, event);
                	},
                
                	cancel: function() {
                
                		if(this.helper.is(".ui-draggable-dragging")) {
                			this._mouseUp({});
                		} else {
                			this._clear();
                		}
                
                		return this;
                
                	},
                
                	_getHandle: function(event) {
                
                		var handle = !this.options.handle || !$(this.options.handle, this.element).length ? true : false;
                		$(this.options.handle, this.element)
                			.find("*")
                			.addBack()
                			.each(function() {
                				if(this === event.target) {
                					handle = true;
                				}
                			});
                
                		return handle;
                
                	},
                
                	_createHelper: function(event) {
                
                		var o = this.options,
                			helper = $.isFunction(o.helper) ? $(o.helper.apply(this.element[0], [event])) : (o.helper === "clone" ? this.element.clone().removeAttr("id") : this.element);
                
                		if(!helper.parents("body").length) {
                			helper.appendTo((o.appendTo === "parent" ? this.element[0].parentNode : o.appendTo));
                		}
                
                		if(helper[0] !== this.element[0] && !(/(fixed|absolute)/).test(helper.css("position"))) {
                			helper.css("position", "absolute");
                		}
                
                		return helper;
                
                	},
                
                	_adjustOffsetFromHelper: function(obj) {
                		if (typeof obj === "string") {
                			obj = obj.split(" ");
                		}
                		if ($.isArray(obj)) {
                			obj = {left: +obj[0], top: +obj[1] || 0};
                		}
                		if ("left" in obj) {
                			this.offset.click.left = obj.left + this.margins.left;
                		}
                		if ("right" in obj) {
                			this.offset.click.left = this.helperProportions.width - obj.right + this.margins.left;
                		}
                		if ("top" in obj) {
                			this.offset.click.top = obj.top + this.margins.top;
                		}
                		if ("bottom" in obj) {
                			this.offset.click.top = this.helperProportions.height - obj.bottom + this.margins.top;
                		}
                	},
                
                	_getParentOffset: function() {
                
                		//Get the offsetParent and cache its position
                		this.offsetParent = this.helper.offsetParent();
                		var po = this.offsetParent.offset();
                
                		// This is a special case where we need to modify a offset calculated on start, since the following happened:
                		// 1. The position of the helper is absolute, so it's position is calculated based on the next positioned parent
                		// 2. The actual offset parent is a child of the scroll parent, and the scroll parent isn't the document, which means that
                		//    the scroll is included in the initial calculation of the offset of the parent, and never recalculated upon drag
                		if(this.cssPosition === "absolute" && this.scrollParent[0] !== document && $.contains(this.scrollParent[0], this.offsetParent[0])) {
                			po.left += this.scrollParent.scrollLeft();
                			po.top += this.scrollParent.scrollTop();
                		}
                
                		//This needs to be actually done for all browsers, since pageX/pageY includes this information
                		//Ugly IE fix
                		if((this.offsetParent[0] === document.body) ||
                			(this.offsetParent[0].tagName && this.offsetParent[0].tagName.toLowerCase() === "html" && $.ui.ie)) {
                			po = { top: 0, left: 0 };
                		}
                
                		return {
                			top: po.top + (parseInt(this.offsetParent.css("borderTopWidth"),10) || 0),
                			left: po.left + (parseInt(this.offsetParent.css("borderLeftWidth"),10) || 0)
                		};
                
                	},
                
                	_getRelativeOffset: function() {
                
                		if(this.cssPosition === "relative") {
                			var p = this.element.position();
                			return {
                				top: p.top - (parseInt(this.helper.css("top"),10) || 0) + this.scrollParent.scrollTop(),
                				left: p.left - (parseInt(this.helper.css("left"),10) || 0) + this.scrollParent.scrollLeft()
                			};
                		} else {
                			return { top: 0, left: 0 };
                		}
                
                	},
                
                	_cacheMargins: function() {
                		this.margins = {
                			left: (parseInt(this.element.css("marginLeft"),10) || 0),
                			top: (parseInt(this.element.css("marginTop"),10) || 0),
                			right: (parseInt(this.element.css("marginRight"),10) || 0),
                			bottom: (parseInt(this.element.css("marginBottom"),10) || 0)
                		};
                	},
                
                	_cacheHelperProportions: function() {
                		this.helperProportions = {
                			width: this.helper.outerWidth(),
                			height: this.helper.outerHeight()
                		};
                	},
                
                	_setContainment: function() {
                
                		var over, c, ce,
                			o = this.options;
                
                		if(o.containment === "parent") {
                			o.containment = this.helper[0].parentNode;
                		}
                		if(o.containment === "document" || o.containment === "window") {
                			this.containment = [
                				o.containment === "document" ? 0 : $(window).scrollLeft() - this.offset.relative.left - this.offset.parent.left,
                				o.containment === "document" ? 0 : $(window).scrollTop() - this.offset.relative.top - this.offset.parent.top,
                				(o.containment === "document" ? 0 : $(window).scrollLeft()) + $(o.containment === "document" ? document : window).width() - this.helperProportions.width - this.margins.left,
                				(o.containment === "document" ? 0 : $(window).scrollTop()) + ($(o.containment === "document" ? document : window).height() || document.body.parentNode.scrollHeight) - this.helperProportions.height - this.margins.top
                			];
                		}
                
                		if(!(/^(document|window|parent)$/).test(o.containment) && o.containment.constructor !== Array) {
                			c = $(o.containment);
                			ce = c[0];
                
                			if(!ce) {
                				return;
                			}
                
                			over = ($(ce).css("overflow") !== "hidden");
                
                			this.containment = [
                				(parseInt($(ce).css("borderLeftWidth"),10) || 0) + (parseInt($(ce).css("paddingLeft"),10) || 0),
                				(parseInt($(ce).css("borderTopWidth"),10) || 0) + (parseInt($(ce).css("paddingTop"),10) || 0),
                				(over ? Math.max(ce.scrollWidth,ce.offsetWidth) : ce.offsetWidth) - (parseInt($(ce).css("borderLeftWidth"),10) || 0) - (parseInt($(ce).css("paddingRight"),10) || 0) - this.helperProportions.width - this.margins.left - this.margins.right,
                				(over ? Math.max(ce.scrollHeight,ce.offsetHeight) : ce.offsetHeight) - (parseInt($(ce).css("borderTopWidth"),10) || 0) - (parseInt($(ce).css("paddingBottom"),10) || 0) - this.helperProportions.height - this.margins.top  - this.margins.bottom
                			];
                			this.relative_container = c;
                
                		} else if(o.containment.constructor === Array) {
                			this.containment = o.containment;
                		}
                
                	},
                
                	_convertPositionTo: function(d, pos) {
                
                		if(!pos) {
                			pos = this.position;
                		}
                
                		var mod = d === "absolute" ? 1 : -1,
                			scroll = this.cssPosition === "absolute" && !(this.scrollParent[0] !== document && $.contains(this.scrollParent[0], this.offsetParent[0])) ? this.offsetParent : this.scrollParent, scrollIsRootNode = (/(html|body)/i).test(scroll[0].tagName);
                
                		return {
                			top: (
                				pos.top	+																// The absolute mouse position
                				this.offset.relative.top * mod +										// Only for relative positioned nodes: Relative offset from element to offset parent
                				this.offset.parent.top * mod -										// The offsetParent's offset without borders (offset + border)
                				( ( this.cssPosition === "fixed" ? -this.scrollParent.scrollTop() : ( scrollIsRootNode ? 0 : scroll.scrollTop() ) ) * mod)
                			),
                			left: (
                				pos.left +																// The absolute mouse position
                				this.offset.relative.left * mod +										// Only for relative positioned nodes: Relative offset from element to offset parent
                				this.offset.parent.left * mod	-										// The offsetParent's offset without borders (offset + border)
                				( ( this.cssPosition === "fixed" ? -this.scrollParent.scrollLeft() : scrollIsRootNode ? 0 : scroll.scrollLeft() ) * mod)
                			)
                		};
                
                	},
                
                	_generatePosition: function(event) {
                
                		var containment, co, top, left,
                			o = this.options,
                			scroll = this.cssPosition === "absolute" && !(this.scrollParent[0] !== document && $.contains(this.scrollParent[0], this.offsetParent[0])) ? this.offsetParent : this.scrollParent,
                			scrollIsRootNode = (/(html|body)/i).test(scroll[0].tagName),
                			pageX = event.pageX,
                			pageY = event.pageY;
                
                		/*
                		 * - Position constraining -
                		 * Constrain the position to a mix of grid, containment.
                		 */
                
                		if(this.originalPosition) { //If we are not dragging yet, we won't check for options
                			if(this.containment) {
                			if (this.relative_container){
                				co = this.relative_container.offset();
                				containment = [ this.containment[0] + co.left,
                					this.containment[1] + co.top,
                					this.containment[2] + co.left,
                					this.containment[3] + co.top ];
                			}
                			else {
                				containment = this.containment;
                			}
                
                				if(event.pageX - this.offset.click.left < containment[0]) {
                					pageX = containment[0] + this.offset.click.left;
                				}
                				if(event.pageY - this.offset.click.top < containment[1]) {
                					pageY = containment[1] + this.offset.click.top;
                				}
                				if(event.pageX - this.offset.click.left > containment[2]) {
                					pageX = containment[2] + this.offset.click.left;
                				}
                				if(event.pageY - this.offset.click.top > containment[3]) {
                					pageY = containment[3] + this.offset.click.top;
                				}
                			}
                
                			if(o.grid) {
                				//Check for grid elements set to 0 to prevent divide by 0 error causing invalid argument errors in IE (see ticket #6950)
                				top = o.grid[1] ? this.originalPageY + Math.round((pageY - this.originalPageY) / o.grid[1]) * o.grid[1] : this.originalPageY;
                				pageY = containment ? ((top - this.offset.click.top >= containment[1] || top - this.offset.click.top > containment[3]) ? top : ((top - this.offset.click.top >= containment[1]) ? top - o.grid[1] : top + o.grid[1])) : top;
                
                				left = o.grid[0] ? this.originalPageX + Math.round((pageX - this.originalPageX) / o.grid[0]) * o.grid[0] : this.originalPageX;
                				pageX = containment ? ((left - this.offset.click.left >= containment[0] || left - this.offset.click.left > containment[2]) ? left : ((left - this.offset.click.left >= containment[0]) ? left - o.grid[0] : left + o.grid[0])) : left;
                			}
                
                		}
                
                		return {
                			top: (
                				pageY -																	// The absolute mouse position
                				this.offset.click.top	-												// Click offset (relative to the element)
                				this.offset.relative.top -												// Only for relative positioned nodes: Relative offset from element to offset parent
                				this.offset.parent.top +												// The offsetParent's offset without borders (offset + border)
                				( ( this.cssPosition === "fixed" ? -this.scrollParent.scrollTop() : ( scrollIsRootNode ? 0 : scroll.scrollTop() ) ))
                			),
                			left: (
                				pageX -																	// The absolute mouse position
                				this.offset.click.left -												// Click offset (relative to the element)
                				this.offset.relative.left -												// Only for relative positioned nodes: Relative offset from element to offset parent
                				this.offset.parent.left +												// The offsetParent's offset without borders (offset + border)
                				( ( this.cssPosition === "fixed" ? -this.scrollParent.scrollLeft() : scrollIsRootNode ? 0 : scroll.scrollLeft() ))
                			)
                		};
                
                	},
                
                	_clear: function() {
                		this.helper.removeClass("ui-draggable-dragging");
                		if(this.helper[0] !== this.element[0] && !this.cancelHelperRemoval) {
                			this.helper.remove();
                		}
                		this.helper = null;
                		this.cancelHelperRemoval = false;
                	},
                
                	// From now on bulk stuff - mainly helpers
                
                	_trigger: function(type, event, ui) {
                		ui = ui || this._uiHash();
                		$.ui.plugin.call(this, type, [event, ui]);
                		//The absolute position has to be recalculated after plugins
                		if(type === "drag") {
                			this.positionAbs = this._convertPositionTo("absolute");
                		}
                		return $.Widget.prototype._trigger.call(this, type, event, ui);
                	},
                
                	plugins: {},
                
                	_uiHash: function() {
                		return {
                			helper: this.helper,
                			position: this.position,
                			originalPosition: this.originalPosition,
                			offset: this.positionAbs
                		};
                	}
                
                });
                
                $.ui.plugin.add("draggable", "connectToSortable", {
                	start: function(event, ui) {
                
                		var inst = $(this).data("ui-draggable"), o = inst.options,
                			uiSortable = $.extend({}, ui, { item: inst.element });
                		inst.sortables = [];
                		$(o.connectToSortable).each(function() {
                			var sortable = $.data(this, "ui-sortable");
                			if (sortable && !sortable.options.disabled) {
                				inst.sortables.push({
                					instance: sortable,
                					shouldRevert: sortable.options.revert
                				});
                				sortable.refreshPositions();	// Call the sortable's refreshPositions at drag start to refresh the containerCache since the sortable container cache is used in drag and needs to be up to date (this will ensure it's initialised as well as being kept in step with any changes that might have happened on the page).
                				sortable._trigger("activate", event, uiSortable);
                			}
                		});
                
                	},
                	stop: function(event, ui) {
                
                		//If we are still over the sortable, we fake the stop event of the sortable, but also remove helper
                		var inst = $(this).data("ui-draggable"),
                			uiSortable = $.extend({}, ui, { item: inst.element });
                
                		$.each(inst.sortables, function() {
                			if(this.instance.isOver) {
                
                				this.instance.isOver = 0;
                
                				inst.cancelHelperRemoval = true; //Don't remove the helper in the draggable instance
                				this.instance.cancelHelperRemoval = false; //Remove it in the sortable instance (so sortable plugins like revert still work)
                
                				//The sortable revert is supported, and we have to set a temporary dropped variable on the draggable to support revert: "valid/invalid"
                				if(this.shouldRevert) {
                					this.instance.options.revert = true;
                				}
                
                				//Trigger the stop of the sortable
                				this.instance._mouseStop(event);
                
                				this.instance.options.helper = this.instance.options._helper;
                
                				//If the helper has been the original item, restore properties in the sortable
                				if(inst.options.helper === "original") {
                					this.instance.currentItem.css({ top: "auto", left: "auto" });
                				}
                
                			} else {
                				this.instance.cancelHelperRemoval = false; //Remove the helper in the sortable instance
                				this.instance._trigger("deactivate", event, uiSortable);
                			}
                
                		});
                
                	},
                	drag: function(event, ui) {
                
                		var inst = $(this).data("ui-draggable"), that = this;
                
                		$.each(inst.sortables, function() {
                
                			var innermostIntersecting = false,
                				thisSortable = this;
                
                			//Copy over some variables to allow calling the sortable's native _intersectsWith
                			this.instance.positionAbs = inst.positionAbs;
                			this.instance.helperProportions = inst.helperProportions;
                			this.instance.offset.click = inst.offset.click;
                
                			if(this.instance._intersectsWith(this.instance.containerCache)) {
                				innermostIntersecting = true;
                				$.each(inst.sortables, function () {
                					this.instance.positionAbs = inst.positionAbs;
                					this.instance.helperProportions = inst.helperProportions;
                					this.instance.offset.click = inst.offset.click;
                					if (this !== thisSortable &&
                						this.instance._intersectsWith(this.instance.containerCache) &&
                						$.ui.contains(thisSortable.instance.element[0], this.instance.element[0])
                					) {
                						innermostIntersecting = false;
                					}
                					return innermostIntersecting;
                				});
                			}
                
                
                			if(innermostIntersecting) {
                				//If it intersects, we use a little isOver variable and set it once, so our move-in stuff gets fired only once
                				if(!this.instance.isOver) {
                
                					this.instance.isOver = 1;
                					//Now we fake the start of dragging for the sortable instance,
                					//by cloning the list group item, appending it to the sortable and using it as inst.currentItem
                					//We can then fire the start event of the sortable with our passed browser event, and our own helper (so it doesn't create a new one)
                					this.instance.currentItem = $(that).clone().removeAttr("id").appendTo(this.instance.element).data("ui-sortable-item", true);
                					this.instance.options._helper = this.instance.options.helper; //Store helper option to later restore it
                					this.instance.options.helper = function() { return ui.helper[0]; };
                
                					event.target = this.instance.currentItem[0];
                					this.instance._mouseCapture(event, true);
                					this.instance._mouseStart(event, true, true);
                
                					//Because the browser event is way off the new appended portlet, we modify a couple of variables to reflect the changes
                					this.instance.offset.click.top = inst.offset.click.top;
                					this.instance.offset.click.left = inst.offset.click.left;
                					this.instance.offset.parent.left -= inst.offset.parent.left - this.instance.offset.parent.left;
                					this.instance.offset.parent.top -= inst.offset.parent.top - this.instance.offset.parent.top;
                
                					inst._trigger("toSortable", event);
                					inst.dropped = this.instance.element; //draggable revert needs that
                					//hack so receive/update callbacks work (mostly)
                					inst.currentItem = inst.element;
                					this.instance.fromOutside = inst;
                
                				}
                
                				//Provided we did all the previous steps, we can fire the drag event of the sortable on every draggable drag, when it intersects with the sortable
                				if(this.instance.currentItem) {
                					this.instance._mouseDrag(event);
                				}
                
                			} else {
                
                				//If it doesn't intersect with the sortable, and it intersected before,
                				//we fake the drag stop of the sortable, but make sure it doesn't remove the helper by using cancelHelperRemoval
                				if(this.instance.isOver) {
                
                					this.instance.isOver = 0;
                					this.instance.cancelHelperRemoval = true;
                
                					//Prevent reverting on this forced stop
                					this.instance.options.revert = false;
                
                					// The out event needs to be triggered independently
                					this.instance._trigger("out", event, this.instance._uiHash(this.instance));
                
                					this.instance._mouseStop(event, true);
                					this.instance.options.helper = this.instance.options._helper;
                
                					//Now we remove our currentItem, the list group clone again, and the placeholder, and animate the helper back to it's original size
                					this.instance.currentItem.remove();
                					if(this.instance.placeholder) {
                						this.instance.placeholder.remove();
                					}
                
                					inst._trigger("fromSortable", event);
                					inst.dropped = false; //draggable revert needs that
                				}
                
                			}
                
                		});
                
                	}
                });
                
                $.ui.plugin.add("draggable", "cursor", {
                	start: function() {
                		var t = $("body"), o = $(this).data("ui-draggable").options;
                		if (t.css("cursor")) {
                			o._cursor = t.css("cursor");
                		}
                		t.css("cursor", o.cursor);
                	},
                	stop: function() {
                		var o = $(this).data("ui-draggable").options;
                		if (o._cursor) {
                			$("body").css("cursor", o._cursor);
                		}
                	}
                });
                
                $.ui.plugin.add("draggable", "opacity", {
                	start: function(event, ui) {
                		var t = $(ui.helper), o = $(this).data("ui-draggable").options;
                		if(t.css("opacity")) {
                			o._opacity = t.css("opacity");
                		}
                		t.css("opacity", o.opacity);
                	},
                	stop: function(event, ui) {
                		var o = $(this).data("ui-draggable").options;
                		if(o._opacity) {
                			$(ui.helper).css("opacity", o._opacity);
                		}
                	}
                });
                
                $.ui.plugin.add("draggable", "scroll", {
                	start: function() {
                		var i = $(this).data("ui-draggable");
                		if(i.scrollParent[0] !== document && i.scrollParent[0].tagName !== "HTML") {
                			i.overflowOffset = i.scrollParent.offset();
                		}
                	},
                	drag: function( event ) {
                
                		var i = $(this).data("ui-draggable"), o = i.options, scrolled = false;
                
                		if(i.scrollParent[0] !== document && i.scrollParent[0].tagName !== "HTML") {
                
                			if(!o.axis || o.axis !== "x") {
                				if((i.overflowOffset.top + i.scrollParent[0].offsetHeight) - event.pageY < o.scrollSensitivity) {
                					i.scrollParent[0].scrollTop = scrolled = i.scrollParent[0].scrollTop + o.scrollSpeed;
                				} else if(event.pageY - i.overflowOffset.top < o.scrollSensitivity) {
                					i.scrollParent[0].scrollTop = scrolled = i.scrollParent[0].scrollTop - o.scrollSpeed;
                				}
                			}
                
                			if(!o.axis || o.axis !== "y") {
                				if((i.overflowOffset.left + i.scrollParent[0].offsetWidth) - event.pageX < o.scrollSensitivity) {
                					i.scrollParent[0].scrollLeft = scrolled = i.scrollParent[0].scrollLeft + o.scrollSpeed;
                				} else if(event.pageX - i.overflowOffset.left < o.scrollSensitivity) {
                					i.scrollParent[0].scrollLeft = scrolled = i.scrollParent[0].scrollLeft - o.scrollSpeed;
                				}
                			}
                
                		} else {
                
                			if(!o.axis || o.axis !== "x") {
                				if(event.pageY - $(document).scrollTop() < o.scrollSensitivity) {
                					scrolled = $(document).scrollTop($(document).scrollTop() - o.scrollSpeed);
                				} else if($(window).height() - (event.pageY - $(document).scrollTop()) < o.scrollSensitivity) {
                					scrolled = $(document).scrollTop($(document).scrollTop() + o.scrollSpeed);
                				}
                			}
                
                			if(!o.axis || o.axis !== "y") {
                				if(event.pageX - $(document).scrollLeft() < o.scrollSensitivity) {
                					scrolled = $(document).scrollLeft($(document).scrollLeft() - o.scrollSpeed);
                				} else if($(window).width() - (event.pageX - $(document).scrollLeft()) < o.scrollSensitivity) {
                					scrolled = $(document).scrollLeft($(document).scrollLeft() + o.scrollSpeed);
                				}
                			}
                
                		}
                
                		if(scrolled !== false && $.ui.ddmanager && !o.dropBehaviour) {
                			$.ui.ddmanager.prepareOffsets(i, event);
                		}
                
                	}
                });
                
                $.ui.plugin.add("draggable", "snap", {
                	start: function() {
                
                		var i = $(this).data("ui-draggable"),
                			o = i.options;
                
                		i.snapElements = [];
                
                		$(o.snap.constructor !== String ? ( o.snap.items || ":data(ui-draggable)" ) : o.snap).each(function() {
                			var $t = $(this),
                				$o = $t.offset();
                			if(this !== i.element[0]) {
                				i.snapElements.push({
                					item: this,
                					width: $t.outerWidth(), height: $t.outerHeight(),
                					top: $o.top, left: $o.left
                				});
                			}
                		});
                
                	},
                	drag: function(event, ui) {
                
                		var ts, bs, ls, rs, l, r, t, b, i, first,
                			inst = $(this).data("ui-draggable"),
                			o = inst.options,
                			d = o.snapTolerance,
                			x1 = ui.offset.left, x2 = x1 + inst.helperProportions.width,
                			y1 = ui.offset.top, y2 = y1 + inst.helperProportions.height;
                
                		for (i = inst.snapElements.length - 1; i >= 0; i--){
                
                			l = inst.snapElements[i].left;
                			r = l + inst.snapElements[i].width;
                			t = inst.snapElements[i].top;
                			b = t + inst.snapElements[i].height;
                
                			//Yes, I know, this is insane ;)
                			if(!((l-d < x1 && x1 < r+d && t-d < y1 && y1 < b+d) || (l-d < x1 && x1 < r+d && t-d < y2 && y2 < b+d) || (l-d < x2 && x2 < r+d && t-d < y1 && y1 < b+d) || (l-d < x2 && x2 < r+d && t-d < y2 && y2 < b+d))) {
                				if(inst.snapElements[i].snapping) {
                					(inst.options.snap.release && inst.options.snap.release.call(inst.element, event, $.extend(inst._uiHash(), { snapItem: inst.snapElements[i].item })));
                				}
                				inst.snapElements[i].snapping = false;
                				continue;
                			}
                
                			if(o.snapMode !== "inner") {
                				ts = Math.abs(t - y2) <= d;
                				bs = Math.abs(b - y1) <= d;
                				ls = Math.abs(l - x2) <= d;
                				rs = Math.abs(r - x1) <= d;
                				if(ts) {
                					ui.position.top = inst._convertPositionTo("relative", { top: t - inst.helperProportions.height, left: 0 }).top - inst.margins.top;
                				}
                				if(bs) {
                					ui.position.top = inst._convertPositionTo("relative", { top: b, left: 0 }).top - inst.margins.top;
                				}
                				if(ls) {
                					ui.position.left = inst._convertPositionTo("relative", { top: 0, left: l - inst.helperProportions.width }).left - inst.margins.left;
                				}
                				if(rs) {
                					ui.position.left = inst._convertPositionTo("relative", { top: 0, left: r }).left - inst.margins.left;
                				}
                			}
                
                			first = (ts || bs || ls || rs);
                
                			if(o.snapMode !== "outer") {
                				ts = Math.abs(t - y1) <= d;
                				bs = Math.abs(b - y2) <= d;
                				ls = Math.abs(l - x1) <= d;
                				rs = Math.abs(r - x2) <= d;
                				if(ts) {
                					ui.position.top = inst._convertPositionTo("relative", { top: t, left: 0 }).top - inst.margins.top;
                				}
                				if(bs) {
                					ui.position.top = inst._convertPositionTo("relative", { top: b - inst.helperProportions.height, left: 0 }).top - inst.margins.top;
                				}
                				if(ls) {
                					ui.position.left = inst._convertPositionTo("relative", { top: 0, left: l }).left - inst.margins.left;
                				}
                				if(rs) {
                					ui.position.left = inst._convertPositionTo("relative", { top: 0, left: r - inst.helperProportions.width }).left - inst.margins.left;
                				}
                			}
                
                			if(!inst.snapElements[i].snapping && (ts || bs || ls || rs || first)) {
                				(inst.options.snap.snap && inst.options.snap.snap.call(inst.element, event, $.extend(inst._uiHash(), { snapItem: inst.snapElements[i].item })));
                			}
                			inst.snapElements[i].snapping = (ts || bs || ls || rs || first);
                
                		}
                
                	}
                });
                
                $.ui.plugin.add("draggable", "stack", {
                	start: function() {
                
                		var min,
                			o = $(this).data("ui-draggable").options,
                			group = $.makeArray($(o.stack)).sort(function(a,b) {
                				return (parseInt($(a).css("zIndex"),10) || 0) - (parseInt($(b).css("zIndex"),10) || 0);
                			});
                
                		if (!group.length) { return; }
                
                		min = parseInt(group[0].style.zIndex, 10) || 0;
                		$(group).each(function(i) {
                			this.style.zIndex = min + i;
                		});
                
                		this[0].style.zIndex = min + group.length;
                
                	}
                });
                
                $.ui.plugin.add("draggable", "zIndex", {
                	start: function(event, ui) {
                		var t = $(ui.helper), o = $(this).data("ui-draggable").options;
                		if(t.css("zIndex")) {
                			o._zIndex = t.css("zIndex");
                		}
                		t.css("zIndex", o.zIndex);
                	},
                	stop: function(event, ui) {
                		var o = $(this).data("ui-draggable").options;
                		if(o._zIndex) {
                			$(ui.helper).css("zIndex", o._zIndex);
                		}
                	}
                });
                
                })(jQuery);
                
                });
                define('jquery_ui/droppable',['jquery','./core','./widget','./mouse','./draggable'], function (jQuery) {
                /*!
                 * jQuery UI Droppable 1.10.0
                 * http://jqueryui.com
                 *
                 * Copyright 2013 jQuery Foundation and other contributors
                 * Released under the MIT license.
                 * http://jquery.org/license
                 *
                 * http://api.jqueryui.com/droppable/
                 *
                 * Depends:
                 *	jquery.ui.core.js
                 *	jquery.ui.widget.js
                 *	jquery.ui.mouse.js
                 *	jquery.ui.draggable.js
                 */
                (function( $, undefined ) {
                
                function isOverAxis( x, reference, size ) {
                	return ( x > reference ) && ( x < ( reference + size ) );
                }
                
                $.widget("ui.droppable", {
                	version: "1.10.0",
                	widgetEventPrefix: "drop",
                	options: {
                		accept: "*",
                		activeClass: false,
                		addClasses: true,
                		greedy: false,
                		hoverClass: false,
                		scope: "default",
                		tolerance: "intersect",
                
                		// callbacks
                		activate: null,
                		deactivate: null,
                		drop: null,
                		out: null,
                		over: null
                	},
                	_create: function() {
                
                		var o = this.options,
                			accept = o.accept;
                
                		this.isover = false;
                		this.isout = true;
                
                		this.accept = $.isFunction(accept) ? accept : function(d) {
                			return d.is(accept);
                		};
                
                		//Store the droppable's proportions
                		this.proportions = { width: this.element[0].offsetWidth, height: this.element[0].offsetHeight };
                
                		// Add the reference and positions to the manager
                		$.ui.ddmanager.droppables[o.scope] = $.ui.ddmanager.droppables[o.scope] || [];
                		$.ui.ddmanager.droppables[o.scope].push(this);
                
                		(o.addClasses && this.element.addClass("ui-droppable"));
                
                	},
                
                	_destroy: function() {
                		var i = 0,
                			drop = $.ui.ddmanager.droppables[this.options.scope];
                
                		for ( ; i < drop.length; i++ ) {
                			if ( drop[i] === this ) {
                				drop.splice(i, 1);
                			}
                		}
                
                		this.element.removeClass("ui-droppable ui-droppable-disabled");
                	},
                
                	_setOption: function(key, value) {
                
                		if(key === "accept") {
                			this.accept = $.isFunction(value) ? value : function(d) {
                				return d.is(value);
                			};
                		}
                		$.Widget.prototype._setOption.apply(this, arguments);
                	},
                
                	_activate: function(event) {
                		var draggable = $.ui.ddmanager.current;
                		if(this.options.activeClass) {
                			this.element.addClass(this.options.activeClass);
                		}
                		if(draggable){
                			this._trigger("activate", event, this.ui(draggable));
                		}
                	},
                
                	_deactivate: function(event) {
                		var draggable = $.ui.ddmanager.current;
                		if(this.options.activeClass) {
                			this.element.removeClass(this.options.activeClass);
                		}
                		if(draggable){
                			this._trigger("deactivate", event, this.ui(draggable));
                		}
                	},
                
                	_over: function(event) {
                
                		var draggable = $.ui.ddmanager.current;
                
                		// Bail if draggable and droppable are same element
                		if (!draggable || (draggable.currentItem || draggable.element)[0] === this.element[0]) {
                			return;
                		}
                
                		if (this.accept.call(this.element[0],(draggable.currentItem || draggable.element))) {
                			if(this.options.hoverClass) {
                				this.element.addClass(this.options.hoverClass);
                			}
                			this._trigger("over", event, this.ui(draggable));
                		}
                
                	},
                
                	_out: function(event) {
                
                		var draggable = $.ui.ddmanager.current;
                
                		// Bail if draggable and droppable are same element
                		if (!draggable || (draggable.currentItem || draggable.element)[0] === this.element[0]) {
                			return;
                		}
                
                		if (this.accept.call(this.element[0],(draggable.currentItem || draggable.element))) {
                			if(this.options.hoverClass) {
                				this.element.removeClass(this.options.hoverClass);
                			}
                			this._trigger("out", event, this.ui(draggable));
                		}
                
                	},
                
                	_drop: function(event,custom) {
                
                		var draggable = custom || $.ui.ddmanager.current,
                			childrenIntersection = false;
                
                		// Bail if draggable and droppable are same element
                		if (!draggable || (draggable.currentItem || draggable.element)[0] === this.element[0]) {
                			return false;
                		}
                
                		this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function() {
                			var inst = $.data(this, "ui-droppable");
                			if(
                				inst.options.greedy &&
                				!inst.options.disabled &&
                				inst.options.scope === draggable.options.scope &&
                				inst.accept.call(inst.element[0], (draggable.currentItem || draggable.element)) &&
                				$.ui.intersect(draggable, $.extend(inst, { offset: inst.element.offset() }), inst.options.tolerance)
                			) { childrenIntersection = true; return false; }
                		});
                		if(childrenIntersection) {
                			return false;
                		}
                
                		if(this.accept.call(this.element[0],(draggable.currentItem || draggable.element))) {
                			if(this.options.activeClass) {
                				this.element.removeClass(this.options.activeClass);
                			}
                			if(this.options.hoverClass) {
                				this.element.removeClass(this.options.hoverClass);
                			}
                			this._trigger("drop", event, this.ui(draggable));
                			return this.element;
                		}
                
                		return false;
                
                	},
                
                	ui: function(c) {
                		return {
                			draggable: (c.currentItem || c.element),
                			helper: c.helper,
                			position: c.position,
                			offset: c.positionAbs
                		};
                	}
                
                });
                
                $.ui.intersect = function(draggable, droppable, toleranceMode) {
                
                	if (!droppable.offset) {
                		return false;
                	}
                
                	var draggableLeft, draggableTop,
                		x1 = (draggable.positionAbs || draggable.position.absolute).left, x2 = x1 + draggable.helperProportions.width,
                		y1 = (draggable.positionAbs || draggable.position.absolute).top, y2 = y1 + draggable.helperProportions.height,
                		l = droppable.offset.left, r = l + droppable.proportions.width,
                		t = droppable.offset.top, b = t + droppable.proportions.height;
                
                	switch (toleranceMode) {
                		case "fit":
                			return (l <= x1 && x2 <= r && t <= y1 && y2 <= b);
                		case "intersect":
                			return (l < x1 + (draggable.helperProportions.width / 2) && // Right Half
                				x2 - (draggable.helperProportions.width / 2) < r && // Left Half
                				t < y1 + (draggable.helperProportions.height / 2) && // Bottom Half
                				y2 - (draggable.helperProportions.height / 2) < b ); // Top Half
                		case "pointer":
                			draggableLeft = ((draggable.positionAbs || draggable.position.absolute).left + (draggable.clickOffset || draggable.offset.click).left);
                			draggableTop = ((draggable.positionAbs || draggable.position.absolute).top + (draggable.clickOffset || draggable.offset.click).top);
                			return isOverAxis( draggableTop, t, droppable.proportions.height ) && isOverAxis( draggableLeft, l, droppable.proportions.width );
                		case "touch":
                			return (
                				(y1 >= t && y1 <= b) ||	// Top edge touching
                				(y2 >= t && y2 <= b) ||	// Bottom edge touching
                				(y1 < t && y2 > b)		// Surrounded vertically
                			) && (
                				(x1 >= l && x1 <= r) ||	// Left edge touching
                				(x2 >= l && x2 <= r) ||	// Right edge touching
                				(x1 < l && x2 > r)		// Surrounded horizontally
                			);
                		default:
                			return false;
                		}
                
                };
                
                /*
                	This manager tracks offsets of draggables and droppables
                */
                $.ui.ddmanager = {
                	current: null,
                	droppables: { "default": [] },
                	prepareOffsets: function(t, event) {
                
                		var i, j,
                			m = $.ui.ddmanager.droppables[t.options.scope] || [],
                			type = event ? event.type : null, // workaround for #2317
                			list = (t.currentItem || t.element).find(":data(ui-droppable)").addBack();
                
                		droppablesLoop: for (i = 0; i < m.length; i++) {
                
                			//No disabled and non-accepted
                			if(m[i].options.disabled || (t && !m[i].accept.call(m[i].element[0],(t.currentItem || t.element)))) {
                				continue;
                			}
                
                			// Filter out elements in the current dragged item
                			for (j=0; j < list.length; j++) {
                				if(list[j] === m[i].element[0]) {
                					m[i].proportions.height = 0;
                					continue droppablesLoop;
                				}
                			}
                
                			m[i].visible = m[i].element.css("display") !== "none";
                			if(!m[i].visible) {
                				continue;
                			}
                
                			//Activate the droppable if used directly from draggables
                			if(type === "mousedown") {
                				m[i]._activate.call(m[i], event);
                			}
                
                			m[i].offset = m[i].element.offset();
                			m[i].proportions = { width: m[i].element[0].offsetWidth, height: m[i].element[0].offsetHeight };
                
                		}
                
                	},
                	drop: function(draggable, event) {
                
                		var dropped = false;
                		$.each($.ui.ddmanager.droppables[draggable.options.scope] || [], function() {
                
                			if(!this.options) {
                				return;
                			}
                			if (!this.options.disabled && this.visible && $.ui.intersect(draggable, this, this.options.tolerance)) {
                				dropped = this._drop.call(this, event) || dropped;
                			}
                
                			if (!this.options.disabled && this.visible && this.accept.call(this.element[0],(draggable.currentItem || draggable.element))) {
                				this.isout = true;
                				this.isover = false;
                				this._deactivate.call(this, event);
                			}
                
                		});
                		return dropped;
                
                	},
                	dragStart: function( draggable, event ) {
                		//Listen for scrolling so that if the dragging causes scrolling the position of the droppables can be recalculated (see #5003)
                		draggable.element.parentsUntil( "body" ).bind( "scroll.droppable", function() {
                			if( !draggable.options.refreshPositions ) {
                				$.ui.ddmanager.prepareOffsets( draggable, event );
                			}
                		});
                	},
                	drag: function(draggable, event) {
                
                		//If you have a highly dynamic page, you might try this option. It renders positions every time you move the mouse.
                		if(draggable.options.refreshPositions) {
                			$.ui.ddmanager.prepareOffsets(draggable, event);
                		}
                
                		//Run through all droppables and check their positions based on specific tolerance options
                		$.each($.ui.ddmanager.droppables[draggable.options.scope] || [], function() {
                
                			if(this.options.disabled || this.greedyChild || !this.visible) {
                				return;
                			}
                
                			var parentInstance, scope, parent,
                				intersects = $.ui.intersect(draggable, this, this.options.tolerance),
                				c = !intersects && this.isover ? "isout" : (intersects && !this.isover ? "isover" : null);
                			if(!c) {
                				return;
                			}
                
                			if (this.options.greedy) {
                				// find droppable parents with same scope
                				scope = this.options.scope;
                				parent = this.element.parents(":data(ui-droppable)").filter(function () {
                					return $.data(this, "ui-droppable").options.scope === scope;
                				});
                
                				if (parent.length) {
                					parentInstance = $.data(parent[0], "ui-droppable");
                					parentInstance.greedyChild = (c === "isover");
                				}
                			}
                
                			// we just moved into a greedy child
                			if (parentInstance && c === "isover") {
                				parentInstance.isover = false;
                				parentInstance.isout = true;
                				parentInstance._out.call(parentInstance, event);
                			}
                
                			this[c] = true;
                			this[c === "isout" ? "isover" : "isout"] = false;
                			this[c === "isover" ? "_over" : "_out"].call(this, event);
                
                			// we just moved out of a greedy child
                			if (parentInstance && c === "isout") {
                				parentInstance.isout = false;
                				parentInstance.isover = true;
                				parentInstance._over.call(parentInstance, event);
                			}
                		});
                
                	},
                	dragStop: function( draggable, event ) {
                		draggable.element.parentsUntil( "body" ).unbind( "scroll.droppable" );
                		//Call prepareOffsets one final time since IE does not fire return scroll events when overflow was caused by drag (see #5003)
                		if( !draggable.options.refreshPositions ) {
                			$.ui.ddmanager.prepareOffsets( draggable, event );
                		}
                	}
                };
                
                })(jQuery);
                
                });
                define('widget/crossfiltertemplate',[],function(){
                  var template = function(__obj) {
                  var _safe = function(value) {
                    if (typeof value === 'undefined' && value == null)
                      value = '';
                    var result = new String(value);
                    result.ecoSafe = true;
                    return result;
                  };
                  return (function() {
                    var __out = [], __self = this, _print = function(value) {
                      if (typeof value !== 'undefined' && value != null)
                        __out.push(value.ecoSafe ? value : __self.escape(value));
                    }, _capture = function(callback) {
                      var out = __out, result;
                      __out = [];
                      callback.call(this);
                      result = __out.join('');
                      __out = out;
                      return _safe(result);
                    };
                    (function() {
                      _print(_safe('<div class="bk-crossfilter-container">\n  <table>\n    <tr>\n      <td class="aligntable">\n        <div class="bk-crossfilter-configuration bk-bs-container">\n          <div class="bk-crossfilter-row">\n            <div class="col-md-4 bk-column-list">\n            </div>\n            <div class="col-md-5 bk-filters-facets">\n              <div class="bk-bs-panel bk-bs-panel-primary bk-filters">\n                <div class="bk-bs-panel-heading bk-crossfilter-panel-heading">\n                  Filter\n                </div>\n                <div class="bk-bs-panel-body bk-filters-selections">\n                </div>\n              </div>\n              <div class="bk-bs-panel bk-bs-panel-primary bk-facet bk-facet-x">\n                <div class="bk-bs-panel-heading bk-crossfilter-panel-heading">\n                  Facet X\n                </div>\n                <div class="bk-facets-selections ">\n                </div>\n              </div>\n              <div class="bk-bs-panel bk-bs-panel-primary bk-facet bk-facet-y">\n                <div class="bk-bs-panel-heading bk-crossfilter-panel-heading">\n                  Facet Y\n                </div>\n                <div class="bk-facets-selections ">\n                </div>\n              </div>\n              <div class="bk-bs-panel bk-bs-panel-primary bk-facet bk-facet-tab">\n                <div class="bk-bs-panel-heading bk-crossfilter-panel-heading">\n                  Facet Tab (Coming Soon)\n                </div>\n                <div class="bk-facets-selections ">\n                </div>\n              </div>\n            </div>\n            <div class="col-md-3 bk-plot-selection">\n              <form class="bk-widget-form">\n                <div class="bk-plot-selector">\n                </div>\n                <div class="bk-x-selector">\n                </div>\n                <div class="bk-y-selector">\n                </div>\n                <div class="bk-agg-selector">\n                </div>\n              </form>\n            </div>\n          </div>\n        </div>\n      </td>\n      <td class="aligntable">\n        <div class="bk-plot">\n        </div>\n      </td>\n    </tr>\n  </table>\n</div>\n'));
                    
                    }).call(this);
                    
                    return __out.join('');
                  }).call((function() {
                    var obj = {
                      escape: function(value) {
                        return ('' + value)
                          .replace(/&/g, '&amp;')
                          .replace(/</g, '&lt;')
                          .replace(/>/g, '&gt;')
                          .replace(/"/g, '&quot;');
                      },
                      safe: _safe
                    }, key;
                    for (key in __obj) obj[key] = __obj[key];
                    return obj;
                  })());
                };
                  return template;
                });
                
                define('widget/discretecolumntemplate',[],function(){
                  var template = function(__obj) {
                  var _safe = function(value) {
                    if (typeof value === 'undefined' && value == null)
                      value = '';
                    var result = new String(value);
                    result.ecoSafe = true;
                    return result;
                  };
                  return (function() {
                    var __out = [], __self = this, _print = function(value) {
                      if (typeof value !== 'undefined' && value != null)
                        __out.push(value.ecoSafe ? value : __self.escape(value));
                    }, _capture = function(callback) {
                      var out = __out, result;
                      __out = [];
                      callback.call(this);
                      result = __out.join('');
                      __out = out;
                      return _safe(result);
                    };
                    (function() {
                      _print(_safe('<div class="bk-bs-panel-heading bk-crossfilter-panel-heading">\n  Factor: '));
                    
                      _print(this.name);
                    
                      _print(_safe('\n</div>\n<div class="bk-bs-panel-body">\n  <table class="bk-table">\n    <tbody>\n      <tr>\n        <td>\n          count\n        </td>\n        <td>\n          '));
                    
                      _print(this.count);
                    
                      _print(_safe('\n        </td>\n      </tr>\n      <tr>\n        <td>\n          unique\n        </td>\n        <td>\n          '));
                    
                      _print(this.unique);
                    
                      _print(_safe('\n        </td>\n      </tr>\n      <tr>\n        <td>\n          top\n        </td>\n        <td>\n          '));
                    
                      _print(this.top);
                    
                      _print(_safe('\n        </td>\n      </tr>\n      <tr>\n        <td>\n          freq\n        </td>\n        <td>\n          '));
                    
                      _print(this.freq);
                    
                      _print(_safe('\n        </td>\n      </tr>\n    </tbody>\n  </table>\n</div>\n</div>\n'));
                    
                    }).call(this);
                    
                    return __out.join('');
                  }).call((function() {
                    var obj = {
                      escape: function(value) {
                        return ('' + value)
                          .replace(/&/g, '&amp;')
                          .replace(/</g, '&lt;')
                          .replace(/>/g, '&gt;')
                          .replace(/"/g, '&quot;');
                      },
                      safe: _safe
                    }, key;
                    for (key in __obj) obj[key] = __obj[key];
                    return obj;
                  })());
                };
                  return template;
                });
                
                define('widget/continuouscolumntemplate',[],function(){
                  var template = function(__obj) {
                  var _safe = function(value) {
                    if (typeof value === 'undefined' && value == null)
                      value = '';
                    var result = new String(value);
                    result.ecoSafe = true;
                    return result;
                  };
                  return (function() {
                    var __out = [], __self = this, _print = function(value) {
                      if (typeof value !== 'undefined' && value != null)
                        __out.push(value.ecoSafe ? value : __self.escape(value));
                    }, _capture = function(callback) {
                      var out = __out, result;
                      __out = [];
                      callback.call(this);
                      result = __out.join('');
                      __out = out;
                      return _safe(result);
                    };
                    (function() {
                      _print(_safe('<div class="bk-bs-panel-heading bk-crossfilter-panel-heading">\n  Continuous: '));
                    
                      _print(this.name);
                    
                      _print(_safe('\n</div>\n<div class="bk-bs-panel-body">\n  <table class="bk-table">\n    <tbody>\n      <tr>\n        <td>\n          count\n        </td>\n        <td>\n          '));
                    
                      _print(this.count);
                    
                      _print(_safe('\n        </td>\n      </tr>\n      <tr>\n        <td>\n          mean\n        </td>\n        <td>\n          '));
                    
                      _print(this.mean);
                    
                      _print(_safe('\n        </td>\n      </tr>\n      <tr>\n        <td>\n          std\n        </td>\n        <td>\n          '));
                    
                      _print(this.std);
                    
                      _print(_safe('\n        </td>\n      </tr>\n      <tr>\n        <td>\n          max\n        </td>\n        <td>\n          '));
                    
                      _print(this.max);
                    
                      _print(_safe('\n        </td>\n      </tr>\n      <tr>\n        <td>\n          min\n        </td>\n        <td>\n          '));
                    
                      _print(this.min);
                    
                      _print(_safe('\n        </td>\n      </tr>\n    </tbody>\n  </table>\n</div>\n'));
                    
                    }).call(this);
                    
                    return __out.join('');
                  }).call((function() {
                    var obj = {
                      escape: function(value) {
                        return ('' + value)
                          .replace(/&/g, '&amp;')
                          .replace(/</g, '&lt;')
                          .replace(/>/g, '&gt;')
                          .replace(/"/g, '&quot;');
                      },
                      safe: _safe
                    }, key;
                    for (key in __obj) obj[key] = __obj[key];
                    return obj;
                  })());
                };
                  return template;
                });
                
                define('widget/facetcolumntemplate',[],function(){
                  var template = function(__obj) {
                  var _safe = function(value) {
                    if (typeof value === 'undefined' && value == null)
                      value = '';
                    var result = new String(value);
                    result.ecoSafe = true;
                    return result;
                  };
                  return (function() {
                    var __out = [], __self = this, _print = function(value) {
                      if (typeof value !== 'undefined' && value != null)
                        __out.push(value.ecoSafe ? value : __self.escape(value));
                    }, _capture = function(callback) {
                      var out = __out, result;
                      __out = [];
                      callback.call(this);
                      result = __out.join('');
                      __out = out;
                      return _safe(result);
                    };
                    (function() {
                      _print(this.name);
                    
                      _print(_safe(' &nbsp; [x]'));
                    
                    }).call(this);
                    
                    return __out.join('');
                  }).call((function() {
                    var obj = {
                      escape: function(value) {
                        return ('' + value)
                          .replace(/&/g, '&amp;')
                          .replace(/</g, '&lt;')
                          .replace(/>/g, '&gt;')
                          .replace(/"/g, '&quot;');
                      },
                      safe: _safe
                    }, key;
                    for (key in __obj) obj[key] = __obj[key];
                    return obj;
                  })());
                };
                  return template;
                });
                
                (function() {
                  var __hasProp = {}.hasOwnProperty,
                    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
                    __bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; };
                
                  define('widget/crossfilter',["common/has_parent", "common/has_properties", "common/continuum_view", "common/build_views", "backbone", "underscore", "jquery_ui/draggable", "jquery_ui/droppable", "./crossfiltertemplate", "./discretecolumntemplate", "./continuouscolumntemplate", "./facetcolumntemplate"], function(HasParent, HasProperties, continuum_view, build_views, Backbone, _, draggable, droppable, crossfiltertemplate, discretecolumntemplate, continuouscolumntemplate, facetcolumntemplate) {
                    var CloseWrapper, ColumnCollection, ColumnView, ColumnsView, ContinuousColumn, ContinuousColumnView, ContinuumView, CrossFilter, CrossFilterView, CrossFilters, DiscreteColumn, DiscreteColumnView, FacetView, FacetsView, FilterView, PlotAttributeSelector, TimeColumn, TimeColumnView, crossfilters, _ref, _ref1, _ref10, _ref11, _ref12, _ref13, _ref14, _ref15, _ref2, _ref3, _ref4, _ref5, _ref6, _ref7, _ref8, _ref9;
                    ContinuumView = continuum_view.View;
                    CloseWrapper = continuum_view.CloseWrapper;
                    CrossFilterView = (function(_super) {
                      __extends(CrossFilterView, _super);
                
                      function CrossFilterView() {
                        _ref = CrossFilterView.__super__.constructor.apply(this, arguments);
                        return _ref;
                      }
                
                      CrossFilterView.prototype.tag = "div";
                
                      CrossFilterView.prototype.attributes = {
                        "class": "bk-crossfilter"
                      };
                
                      CrossFilterView.prototype.initialize = function(options) {
                        CrossFilterView.__super__.initialize.call(this, options);
                        this.views = {};
                        this.listenTo(this.model, 'change:plot', this.render_plot);
                        this.render();
                        this.render_plot();
                        return this;
                      };
                
                      CrossFilterView.prototype.render_plot = function() {
                        var plot, plot_view;
                        plot = this.mget_obj('plot');
                        plot_view = new plot.default_view({
                          model: plot
                        });
                        this.$el.find('.bk-plot').empty();
                        return this.$el.find('.bk-plot').append(plot_view.$el);
                      };
                
                      CrossFilterView.prototype.render = function() {
                        var html;
                        if (this.columnview != null) {
                          this.columnview.$el.detach();
                        }
                        this.$el.empty();
                        html = crossfiltertemplate();
                        this.$el.html(html);
                        this.filterview = new FilterView({
                          el: this.$('.bk-filters'),
                          collection: this.model.columns,
                          model: this.model
                        });
                        this.facetsview = new FacetsView({
                          el: this.$el,
                          model: this.model
                        });
                        this.plotattributeview = new PlotAttributeSelector({
                          el: this.$el,
                          model: this.model
                        });
                        this.columnview = new ColumnsView({
                          collection: this.model.columns
                        });
                        this.$('.bk-column-list').append(this.columnview.el);
                        this.$('.bk-crossfilter-configuration').height(this.mget('height'));
                        this.$('.bk-crossfilter-configuration').width(500);
                        return this;
                      };
                
                      return CrossFilterView;
                
                    })(ContinuumView);
                    CrossFilter = (function(_super) {
                      __extends(CrossFilter, _super);
                
                      function CrossFilter() {
                        this._set_columns = __bind(this._set_columns, this);
                        _ref1 = CrossFilter.__super__.constructor.apply(this, arguments);
                        return _ref1;
                      }
                
                      CrossFilter.prototype.initialize = function(attrs, options) {
                        CrossFilter.__super__.initialize.call(this, attrs, options);
                        this.columns = new ColumnCollection();
                        this._set_columns();
                        this.listenTo(this, 'change:columns', this._set_columns);
                        return console.log(this.columns.models);
                      };
                
                      CrossFilter.prototype._set_columns = function() {
                        return this.columns.reset(this.get('columns'));
                      };
                
                      CrossFilter.prototype.type = "CrossFilter";
                
                      CrossFilter.prototype.default_view = CrossFilterView;
                
                      CrossFilter.prototype.defaults = {
                        height: 700,
                        width: 1300
                      };
                
                      return CrossFilter;
                
                    })(HasParent);
                    CrossFilters = (function(_super) {
                      __extends(CrossFilters, _super);
                
                      function CrossFilters() {
                        _ref2 = CrossFilters.__super__.constructor.apply(this, arguments);
                        return _ref2;
                      }
                
                      CrossFilters.prototype.model = CrossFilter;
                
                      return CrossFilters;
                
                    })(Backbone.Collection);
                    crossfilters = new CrossFilters();
                    PlotAttributeSelector = (function(_super) {
                      __extends(PlotAttributeSelector, _super);
                
                      function PlotAttributeSelector() {
                        _ref3 = PlotAttributeSelector.__super__.constructor.apply(this, arguments);
                        return _ref3;
                      }
                
                      PlotAttributeSelector.prototype.initialize = function(options) {
                        PlotAttributeSelector.__super__.initialize.call(this, options);
                        this.listenTo(this.model, "change:plot_selector", this.render_plot_selector);
                        this.listenTo(this.model, "change:x_selector", this.render_x_selector);
                        this.listenTo(this.model, "change:y_selector", this.render_y_selector);
                        this.listenTo(this.model, "change:agg_selector", this.render_agg_selector);
                        this.render_plot_selector();
                        this.render_x_selector();
                        this.render_y_selector();
                        return this.render_agg_selector();
                      };
                
                      PlotAttributeSelector.prototype.render_selector = function(node, model) {
                        node.empty();
                        if (model) {
                          this.plot_selector_view = new model.default_view({
                            model: model
                          });
                          return node.append(this.plot_selector_view.$el);
                        }
                      };
                
                      PlotAttributeSelector.prototype.render_plot_selector = function() {
                        var model, node;
                        node = this.$('.bk-plot-selector');
                        model = this.mget_obj('plot_selector');
                        return this.render_selector(node, model);
                      };
                
                      PlotAttributeSelector.prototype.render_x_selector = function() {
                        var model, node;
                        node = this.$('.bk-x-selector');
                        model = this.mget_obj('x_selector');
                        return this.render_selector(node, model);
                      };
                
                      PlotAttributeSelector.prototype.render_y_selector = function() {
                        var model, node;
                        node = this.$('.bk-y-selector');
                        model = this.mget_obj('y_selector');
                        return this.render_selector(node, model);
                      };
                
                      PlotAttributeSelector.prototype.render_agg_selector = function() {
                        var model, node;
                        node = this.$('.bk-agg-selector');
                        model = this.mget_obj('agg_selector');
                        return this.render_selector(node, model);
                      };
                
                      return PlotAttributeSelector;
                
                    })(ContinuumView);
                    ColumnsView = (function(_super) {
                      __extends(ColumnsView, _super);
                
                      function ColumnsView() {
                        _ref4 = ColumnsView.__super__.constructor.apply(this, arguments);
                        return _ref4;
                      }
                
                      ColumnsView.prototype.initialize = function(options) {
                        ColumnsView.__super__.initialize.call(this, options);
                        this.views = {};
                        this.listenTo(this.collection, 'all', this.render);
                        this.render();
                        return this;
                      };
                
                      ColumnsView.prototype.render = function() {
                        var _this = this;
                        _.map(this.views, function(view) {
                          return view.$el.detach();
                        });
                        build_views(this.views, this.collection.models);
                        _.map(this.collection.models, function(model) {
                          return _this.$el.append(_this.views[model.id].$el);
                        });
                        return this;
                      };
                
                      return ColumnsView;
                
                    })(Backbone.View);
                    FacetView = (function(_super) {
                      __extends(FacetView, _super);
                
                      function FacetView() {
                        _ref5 = FacetView.__super__.constructor.apply(this, arguments);
                        return _ref5;
                      }
                
                      FacetView.prototype.events = {
                        "click": "remove"
                      };
                
                      FacetView.prototype.tagName = "span";
                
                      FacetView.prototype.attributes = {
                        "class": "bk-facet-label"
                      };
                
                      FacetView.prototype.initialize = function(options) {
                        FacetView.__super__.initialize.call(this, options);
                        this.name = options.name;
                        return this.render();
                      };
                
                      FacetView.prototype.render = function() {
                        return this.$el.html(facetcolumntemplate({
                          name: this.name
                        }));
                      };
                
                      return FacetView;
                
                    })(ContinuumView);
                    FacetsView = (function(_super) {
                      __extends(FacetsView, _super);
                
                      function FacetsView() {
                        this.drop_tab = __bind(this.drop_tab, this);
                        this.drop_y = __bind(this.drop_y, this);
                        this.drop_x = __bind(this.drop_x, this);
                        this.drop = __bind(this.drop, this);
                        this.add_facet = __bind(this.add_facet, this);
                        this.remove_facet = __bind(this.remove_facet, this);
                        _ref6 = FacetsView.__super__.constructor.apply(this, arguments);
                        return _ref6;
                      }
                
                      FacetsView.prototype.initialize = function(options) {
                        FacetsView.__super__.initialize.call(this, options);
                        this.render_init();
                        this.render_all_facets();
                        this.listenTo(this.model, 'change:facet_x', this.render_all_facets);
                        this.listenTo(this.model, 'change:facet_y', this.render_all_facets);
                        return this.listenTo(this.model, 'change:facet_tab', this.render_all_facets);
                      };
                
                      FacetsView.prototype.render_init = function() {
                        this.facet_x_node = this.$('.bk-facet-x');
                        this.facet_y_node = this.$('.bk-facet-y');
                        this.facet_tab_node = this.$('.bk-facet-tab');
                        this.facet_x_node.droppable({
                          drop: this.drop_x,
                          tolerance: 'pointer',
                          hoverClass: 'bk-droppable-hover'
                        });
                        this.facet_y_node.droppable({
                          drop: this.drop_y,
                          tolerance: 'pointer',
                          hoverClass: 'bk-droppable-hover'
                        });
                        return this.facet_tab_node.droppable({
                          drop: this.drop_tab,
                          tolerance: 'pointer',
                          hoverClass: 'bk-droppable-hover'
                        });
                      };
                
                      FacetsView.prototype.render_all_facets = function() {
                        this.render_facets(this.facet_x_node, 'facet_x', this.model.get('facet_x'));
                        this.render_facets(this.facet_y_node, 'facet_y', this.model.get('facet_y'));
                        this.render_facets(this.facet_tab_node, 'facet_tab', this.model.get('facet_tab'));
                      };
                
                      FacetsView.prototype.render_facets = function(node, type, facets) {
                        var facet, view, _i, _len, _results;
                        node = node.find('.bk-facets-selections');
                        node.empty();
                        _results = [];
                        for (_i = 0, _len = facets.length; _i < _len; _i++) {
                          facet = facets[_i];
                          view = new FacetView({
                            name: facet
                          });
                          this.listenTo(view, 'remove', function() {
                            var save;
                            return this.remove_facet(facet, save = true);
                          });
                          _results.push(node.append(view.$el));
                        }
                        return _results;
                      };
                
                      FacetsView.prototype.remove_facet = function(facet, save) {
                        var facets, type, x, _i, _len, _ref7;
                        if (save == null) {
                          save = true;
                        }
                        _ref7 = ['facet_x', 'facet_y', 'facet_tab'];
                        for (_i = 0, _len = _ref7.length; _i < _len; _i++) {
                          type = _ref7[_i];
                          facets = _.clone(this.model.get(type));
                          facets = (function() {
                            var _j, _len1, _results;
                            _results = [];
                            for (_j = 0, _len1 = facets.length; _j < _len1; _j++) {
                              x = facets[_j];
                              if (x !== facet) {
                                _results.push(x);
                              }
                            }
                            return _results;
                          })();
                          this.model.set(type, facets);
                        }
                        if (save) {
                          return this.model.save();
                        }
                      };
                
                      FacetsView.prototype.add_facet = function(type, facet) {
                        var facets, save;
                        this.remove_facet(facet, save = false);
                        facets = _.clone(this.model.get(type));
                        if (facets.indexOf(facet) < 0) {
                          facets.push(facet);
                          this.model.set(type, facets);
                        }
                        return this.model.save();
                      };
                
                      FacetsView.prototype.drop = function(type, e, ui) {
                        var column_model, name;
                        column_model = ui.helper.data('model');
                        name = column_model.get('name');
                        return this.add_facet(type, name);
                      };
                
                      FacetsView.prototype.drop_x = function(e, ui) {
                        return this.drop('facet_x', e, ui);
                      };
                
                      FacetsView.prototype.drop_y = function(e, ui) {
                        return this.drop('facet_y', e, ui);
                      };
                
                      FacetsView.prototype.drop_tab = function(e, ui) {
                        return this.drop('facet_tab', e, ui);
                      };
                
                      return FacetsView;
                
                    })(ContinuumView);
                    FilterView = (function(_super) {
                      __extends(FilterView, _super);
                
                      function FilterView() {
                        this.drop = __bind(this.drop, this);
                        _ref7 = FilterView.__super__.constructor.apply(this, arguments);
                        return _ref7;
                      }
                
                      FilterView.prototype.initialize = function(options) {
                        FilterView.__super__.initialize.call(this, options);
                        this.views = {};
                        this.render();
                        this.render_columns_selectors;
                        return this.listenTo(this.model, 'change:filter_widgets', this.render_column_selectors);
                      };
                
                      FilterView.prototype.drop = function(e, ui) {
                        var column_model, filtering_columns;
                        column_model = ui.helper.data('model');
                        filtering_columns = _.clone(this.model.get('filtering_columns'));
                        filtering_columns.push(column_model.get('name'));
                        this.model.set('filtering_columns', filtering_columns);
                        return this.model.save();
                      };
                
                      FilterView.prototype.render = function() {
                        return this.$el.droppable({
                          drop: this.drop,
                          tolerance: 'pointer',
                          hoverClass: 'bk-droppable-hover'
                        });
                      };
                
                      FilterView.prototype.render_column_selectors = function() {
                        var col, filter_widget_dict, filter_widgets, filtering_columns, key, newviews, val, _ref8,
                          _this = this;
                        _.map(this.views, function(view) {
                          return view.$el.detach();
                        });
                        this.$el.find('.bk-filters-selections').empty();
                        filter_widget_dict = {};
                        _ref8 = this.mget('filter_widgets');
                        for (key in _ref8) {
                          if (!__hasProp.call(_ref8, key)) continue;
                          val = _ref8[key];
                          filter_widget_dict[key] = this.model.resolve_ref(val);
                        }
                        filtering_columns = this.mget('filtering_columns');
                        filter_widgets = (function() {
                          var _i, _len, _results;
                          _results = [];
                          for (_i = 0, _len = filtering_columns.length; _i < _len; _i++) {
                            col = filtering_columns[_i];
                            if (filter_widget_dict[col] != null) {
                              _results.push(filter_widget_dict[col]);
                            }
                          }
                          return _results;
                        })();
                        newviews = build_views(this.views, filter_widgets);
                        _.map(newviews, function(view) {
                          return _this.listenTo(view, 'remove', _this.child_remove);
                        });
                        return _.map(filter_widgets, function(model) {
                          var wrapper;
                          wrapper = new CloseWrapper({
                            view: _this.views[model.id]
                          });
                          return _this.$el.find('.bk-filters-selections').append(wrapper.$el);
                        });
                      };
                
                      FilterView.prototype.child_remove = function(view) {
                        var key, model, newcolumns, to_remove, val, _ref8;
                        _ref8 = this.mget('filter_widgets');
                        for (key in _ref8) {
                          if (!__hasProp.call(_ref8, key)) continue;
                          val = _ref8[key];
                          model = this.model.resolve_ref(val);
                          if (model === view.model) {
                            to_remove = key;
                            break;
                          }
                        }
                        newcolumns = _.filter(this.mget('filtering_columns'), function(x) {
                          return x !== to_remove;
                        });
                        this.mset('filtering_columns', newcolumns);
                        return this.model.save();
                      };
                
                      return FilterView;
                
                    })(ContinuumView);
                    ColumnCollection = (function(_super) {
                      __extends(ColumnCollection, _super);
                
                      function ColumnCollection() {
                        _ref8 = ColumnCollection.__super__.constructor.apply(this, arguments);
                        return _ref8;
                      }
                
                      ColumnCollection.prototype.model = function(attrs, options) {
                        if (attrs.type === 'DiscreteColumn') {
                          return new DiscreteColumn(attrs);
                        } else if (attrs.type === 'TimeColumn') {
                          return new TimeColumn(attrs);
                        } else {
                          return new ContinuousColumn(attrs);
                        }
                      };
                
                      return ColumnCollection;
                
                    })(Backbone.Collection);
                    ColumnView = (function(_super) {
                      __extends(ColumnView, _super);
                
                      function ColumnView() {
                        this.dragging_helper = __bind(this.dragging_helper, this);
                        _ref9 = ColumnView.__super__.constructor.apply(this, arguments);
                        return _ref9;
                      }
                
                      ColumnView.prototype.attributes = {
                        "class": "bk-crossfilter-column-entry bk-bs-panel bk-bs-panel-primary"
                      };
                
                      ColumnView.prototype.initialize = function(options) {
                        ColumnView.__super__.initialize.call(this, options);
                        return this.render();
                      };
                
                      ColumnView.prototype.dragging_helper = function() {
                        var node;
                        node = this.$el.clone();
                        return node;
                      };
                
                      ColumnView.prototype.render = function() {
                        var _this = this;
                        this.$el.html(this.template(this.model.attributes));
                        this.$el.draggable({
                          appendTo: 'body',
                          containment: 'document',
                          helper: 'clone',
                          start: function(e, ui) {
                            return ui.helper.data('model', _this.model);
                          }
                        });
                        return this;
                      };
                
                      return ColumnView;
                
                    })(ContinuumView);
                    TimeColumnView = (function(_super) {
                      __extends(TimeColumnView, _super);
                
                      function TimeColumnView() {
                        _ref10 = TimeColumnView.__super__.constructor.apply(this, arguments);
                        return _ref10;
                      }
                
                      return TimeColumnView;
                
                    })(ColumnView);
                    DiscreteColumnView = (function(_super) {
                      __extends(DiscreteColumnView, _super);
                
                      function DiscreteColumnView() {
                        _ref11 = DiscreteColumnView.__super__.constructor.apply(this, arguments);
                        return _ref11;
                      }
                
                      DiscreteColumnView.prototype.template = discretecolumntemplate;
                
                      return DiscreteColumnView;
                
                    })(ColumnView);
                    ContinuousColumnView = (function(_super) {
                      __extends(ContinuousColumnView, _super);
                
                      function ContinuousColumnView() {
                        _ref12 = ContinuousColumnView.__super__.constructor.apply(this, arguments);
                        return _ref12;
                      }
                
                      ContinuousColumnView.prototype.template = continuouscolumntemplate;
                
                      return ContinuousColumnView;
                
                    })(ColumnView);
                    TimeColumn = (function(_super) {
                      __extends(TimeColumn, _super);
                
                      function TimeColumn() {
                        _ref13 = TimeColumn.__super__.constructor.apply(this, arguments);
                        return _ref13;
                      }
                
                      TimeColumn.prototype.idAttribute = "name";
                
                      TimeColumn.prototype.default_view = TimeColumnView;
                
                      TimeColumn.prototype.defaults = {
                        type: "TimeColumn",
                        name: "",
                        count: 0,
                        unique: 0,
                        first: 0,
                        last: 0
                      };
                
                      return TimeColumn;
                
                    })(HasProperties);
                    DiscreteColumn = (function(_super) {
                      __extends(DiscreteColumn, _super);
                
                      function DiscreteColumn() {
                        _ref14 = DiscreteColumn.__super__.constructor.apply(this, arguments);
                        return _ref14;
                      }
                
                      DiscreteColumn.prototype.idAttribute = "name";
                
                      DiscreteColumn.prototype.default_view = DiscreteColumnView;
                
                      DiscreteColumn.prototype.defaults = {
                        type: "DiscreteColumn",
                        name: "",
                        count: 0,
                        unique: 0,
                        top: 0,
                        freq: 0
                      };
                
                      return DiscreteColumn;
                
                    })(HasProperties);
                    ContinuousColumn = (function(_super) {
                      __extends(ContinuousColumn, _super);
                
                      function ContinuousColumn() {
                        _ref15 = ContinuousColumn.__super__.constructor.apply(this, arguments);
                        return _ref15;
                      }
                
                      ContinuousColumn.prototype.idAttribute = "name";
                
                      ContinuousColumn.prototype.default_view = ContinuousColumnView;
                
                      ContinuousColumn.prototype.defaults = {
                        type: "ContinuousColumn",
                        name: "",
                        count: 0,
                        mean: 0,
                        std: 0,
                        min: 0,
                        max: 0
                      };
                
                      return ContinuousColumn;
                
                    })(HasProperties);
                    return {
                      "Model": CrossFilter,
                      "Collection": crossfilters,
                      "View": CrossFilterView
                    };
                  });
                
                }).call(this);
                
                /*
                //@ sourceMappingURL=crossfilter.js.map
                */;
                define('widget/multiselecttemplate',[],function(){
                  var template = function(__obj) {
                  var _safe = function(value) {
                    if (typeof value === 'undefined' && value == null)
                      value = '';
                    var result = new String(value);
                    result.ecoSafe = true;
                    return result;
                  };
                  return (function() {
                    var __out = [], __self = this, _print = function(value) {
                      if (typeof value !== 'undefined' && value != null)
                        __out.push(value.ecoSafe ? value : __self.escape(value));
                    }, _capture = function(callback) {
                      var out = __out, result;
                      __out = [];
                      callback.call(this);
                      result = __out.join('');
                      __out = out;
                      return _safe(result);
                    };
                    (function() {
                      var option, _i, _len, _ref;
                    
                      _print(_safe('<label for="'));
                    
                      _print(this.id);
                    
                      _print(_safe('"> '));
                    
                      _print(this.title);
                    
                      _print(_safe(' </label>\n<select multiple class="bk-widget-form-input" id="'));
                    
                      _print(this.id);
                    
                      _print(_safe('" name="'));
                    
                      _print(this.name);
                    
                      _print(_safe('">\n  '));
                    
                      _ref = this.options;
                      for (_i = 0, _len = _ref.length; _i < _len; _i++) {
                        option = _ref[_i];
                        _print(_safe('\n  '));
                        if (option.value === this.value) {
                          _print(_safe('\n  <option selected="selected" value="'));
                          _print(option.value);
                          _print(_safe('">'));
                          _print(option.name);
                          _print(_safe('</option>\n  '));
                        } else {
                          _print(_safe('\n  <option value="'));
                          _print(option.value);
                          _print(_safe('">'));
                          _print(option.name);
                          _print(_safe('</option> \n  '));
                        }
                        _print(_safe('\n\n  '));
                      }
                    
                      _print(_safe('\n</select>\n'));
                    
                    }).call(this);
                    
                    return __out.join('');
                  }).call((function() {
                    var obj = {
                      escape: function(value) {
                        return ('' + value)
                          .replace(/&/g, '&amp;')
                          .replace(/</g, '&lt;')
                          .replace(/>/g, '&gt;')
                          .replace(/"/g, '&quot;');
                      },
                      safe: _safe
                    }, key;
                    for (key in __obj) obj[key] = __obj[key];
                    return obj;
                  })());
                };
                  return template;
                });
                
                (function() {
                  var __hasProp = {}.hasOwnProperty,
                    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };
                
                  define('widget/multiselect',["common/has_parent", "common/continuum_view", "backbone", "underscore", "./multiselecttemplate"], function(HasParent, continuum_view, Backbone, _, multiselecttemplate) {
                    var ContinuumView, MultiSelect, MultiSelectView, MultiSelects, multiselectboxes, _ref, _ref1, _ref2;
                    ContinuumView = continuum_view.View;
                    MultiSelectView = (function(_super) {
                      __extends(MultiSelectView, _super);
                
                      function MultiSelectView() {
                        _ref = MultiSelectView.__super__.constructor.apply(this, arguments);
                        return _ref;
                      }
                
                      MultiSelectView.prototype.events = {
                        "change select": "change_input"
                      };
                
                      MultiSelectView.prototype.change_input = function() {
                        this.mset('value', this.$('select').val(), {
                          'silent': true
                        });
                        return this.model.save();
                      };
                
                      MultiSelectView.prototype.tagName = "div";
                
                      MultiSelectView.prototype.template = multiselecttemplate;
                
                      MultiSelectView.prototype.initialize = function(options) {
                        MultiSelectView.__super__.initialize.call(this, options);
                        this.render();
                        this.listenTo(this.model, 'change:value', this.render_selection);
                        this.listenTo(this.model, 'change:options', this.render);
                        this.listenTo(this.model, 'change:name', this.render);
                        return this.listenTo(this.model, 'change:title', this.render);
                      };
                
                      MultiSelectView.prototype.render = function() {
                        var html;
                        this.$el.empty();
                        html = this.template(this.model.attributes);
                        this.$el.html(html);
                        this.render_selection();
                        return this;
                      };
                
                      MultiSelectView.prototype.render_selection = function() {
                        var values;
                        values = {};
                        _.map(this.mget('value'), function(x) {
                          return values[x] = true;
                        });
                        return this.$('option').each(function(el) {
                          el = $(el);
                          if (values[el.attr('value')]) {
                            return el.attr('selected', 'selected');
                          }
                        });
                      };
                
                      return MultiSelectView;
                
                    })(ContinuumView);
                    MultiSelect = (function(_super) {
                      __extends(MultiSelect, _super);
                
                      function MultiSelect() {
                        _ref1 = MultiSelect.__super__.constructor.apply(this, arguments);
                        return _ref1;
                      }
                
                      MultiSelect.prototype.type = "MultiSelect";
                
                      MultiSelect.prototype.default_view = MultiSelectView;
                
                      MultiSelect.prototype.defaults = function() {
                        var def;
                        def = {
                          title: '',
                          value: [],
                          options: []
                        };
                        return def;
                      };
                
                      return MultiSelect;
                
                    })(HasParent);
                    MultiSelects = (function(_super) {
                      __extends(MultiSelects, _super);
                
                      function MultiSelects() {
                        _ref2 = MultiSelects.__super__.constructor.apply(this, arguments);
                        return _ref2;
                      }
                
                      MultiSelects.prototype.model = MultiSelect;
                
                      return MultiSelects;
                
                    })(Backbone.Collection);
                    multiselectboxes = new MultiSelects();
                    return {
                      "Model": MultiSelect,
                      "Collection": multiselectboxes,
                      "View": MultiSelectView
                    };
                  });
                
                }).call(this);
                
                /*
                //@ sourceMappingURL=multiselect.js.map
                */;
                /*! Copyright (c) 2013 Brandon Aaron (http://brandon.aaron.sh)
                 * Licensed under the MIT License (LICENSE.txt).
                 *
                 * Version: 3.1.9
                 *
                 * Requires: jQuery 1.2.2+
                 */
                
                (function (factory) {
                    if ( typeof define === 'function' && define.amd ) {
                        // AMD. Register as an anonymous module.
                        define('jquery_mousewheel',['jquery'], factory);
                    } else if (typeof exports === 'object') {
                        // Node/CommonJS style for Browserify
                        module.exports = factory;
                    } else {
                        // Browser globals
                        factory(jQuery);
                    }
                }(function ($) {
                
                    var toFix  = ['wheel', 'mousewheel', 'DOMMouseScroll', 'MozMousePixelScroll'],
                        toBind = ( 'onwheel' in document || document.documentMode >= 9 ) ?
                                    ['wheel'] : ['mousewheel', 'DomMouseScroll', 'MozMousePixelScroll'],
                        slice  = Array.prototype.slice,
                        nullLowestDeltaTimeout, lowestDelta;
                
                    if ( $.event.fixHooks ) {
                        for ( var i = toFix.length; i; ) {
                            $.event.fixHooks[ toFix[--i] ] = $.event.mouseHooks;
                        }
                    }
                
                    var special = $.event.special.mousewheel = {
                        version: '3.1.9',
                
                        setup: function() {
                            if ( this.addEventListener ) {
                                for ( var i = toBind.length; i; ) {
                                    this.addEventListener( toBind[--i], handler, false );
                                }
                            } else {
                                this.onmousewheel = handler;
                            }
                            // Store the line height and page height for this particular element
                            $.data(this, 'mousewheel-line-height', special.getLineHeight(this));
                            $.data(this, 'mousewheel-page-height', special.getPageHeight(this));
                        },
                
                        teardown: function() {
                            if ( this.removeEventListener ) {
                                for ( var i = toBind.length; i; ) {
                                    this.removeEventListener( toBind[--i], handler, false );
                                }
                            } else {
                                this.onmousewheel = null;
                            }
                        },
                
                        getLineHeight: function(elem) {
                            return parseInt($(elem)['offsetParent' in $.fn ? 'offsetParent' : 'parent']().css('fontSize'), 10);
                        },
                
                        getPageHeight: function(elem) {
                            return $(elem).height();
                        },
                
                        settings: {
                            adjustOldDeltas: true
                        }
                    };
                
                    $.fn.extend({
                        mousewheel: function(fn) {
                            return fn ? this.bind('mousewheel', fn) : this.trigger('mousewheel');
                        },
                
                        unmousewheel: function(fn) {
                            return this.unbind('mousewheel', fn);
                        }
                    });
                
                
                    function handler(event) {
                        var orgEvent   = event || window.event,
                            args       = slice.call(arguments, 1),
                            delta      = 0,
                            deltaX     = 0,
                            deltaY     = 0,
                            absDelta   = 0;
                        event = $.event.fix(orgEvent);
                        event.type = 'mousewheel';
                
                        // Old school scrollwheel delta
                        if ( 'detail'      in orgEvent ) { deltaY = orgEvent.detail * -1;      }
                        if ( 'wheelDelta'  in orgEvent ) { deltaY = orgEvent.wheelDelta;       }
                        if ( 'wheelDeltaY' in orgEvent ) { deltaY = orgEvent.wheelDeltaY;      }
                        if ( 'wheelDeltaX' in orgEvent ) { deltaX = orgEvent.wheelDeltaX * -1; }
                
                        // Firefox < 17 horizontal scrolling related to DOMMouseScroll event
                        if ( 'axis' in orgEvent && orgEvent.axis === orgEvent.HORIZONTAL_AXIS ) {
                            deltaX = deltaY * -1;
                            deltaY = 0;
                        }
                
                        // Set delta to be deltaY or deltaX if deltaY is 0 for backwards compatabilitiy
                        delta = deltaY === 0 ? deltaX : deltaY;
                
                        // New school wheel delta (wheel event)
                        if ( 'deltaY' in orgEvent ) {
                            deltaY = orgEvent.deltaY * -1;
                            delta  = deltaY;
                        }
                        if ( 'deltaX' in orgEvent ) {
                            deltaX = orgEvent.deltaX;
                            if ( deltaY === 0 ) { delta  = deltaX * -1; }
                        }
                
                        // No change actually happened, no reason to go any further
                        if ( deltaY === 0 && deltaX === 0 ) { return; }
                
                        // Need to convert lines and pages to pixels if we aren't already in pixels
                        // There are three delta modes:
                        //   * deltaMode 0 is by pixels, nothing to do
                        //   * deltaMode 1 is by lines
                        //   * deltaMode 2 is by pages
                        if ( orgEvent.deltaMode === 1 ) {
                            var lineHeight = $.data(this, 'mousewheel-line-height');
                            delta  *= lineHeight;
                            deltaY *= lineHeight;
                            deltaX *= lineHeight;
                        } else if ( orgEvent.deltaMode === 2 ) {
                            var pageHeight = $.data(this, 'mousewheel-page-height');
                            delta  *= pageHeight;
                            deltaY *= pageHeight;
                            deltaX *= pageHeight;
                        }
                
                        // Store lowest absolute delta to normalize the delta values
                        absDelta = Math.max( Math.abs(deltaY), Math.abs(deltaX) );
                
                        if ( !lowestDelta || absDelta < lowestDelta ) {
                            lowestDelta = absDelta;
                
                            // Adjust older deltas if necessary
                            if ( shouldAdjustOldDeltas(orgEvent, absDelta) ) {
                                lowestDelta /= 40;
                            }
                        }
                
                        // Adjust older deltas if necessary
                        if ( shouldAdjustOldDeltas(orgEvent, absDelta) ) {
                            // Divide all the things by 40!
                            delta  /= 40;
                            deltaX /= 40;
                            deltaY /= 40;
                        }
                
                        // Get a whole, normalized value for the deltas
                        delta  = Math[ delta  >= 1 ? 'floor' : 'ceil' ](delta  / lowestDelta);
                        deltaX = Math[ deltaX >= 1 ? 'floor' : 'ceil' ](deltaX / lowestDelta);
                        deltaY = Math[ deltaY >= 1 ? 'floor' : 'ceil' ](deltaY / lowestDelta);
                
                        // Add information to the event object
                        event.deltaX = deltaX;
                        event.deltaY = deltaY;
                        event.deltaFactor = lowestDelta;
                        // Go ahead and set deltaMode to 0 since we converted to pixels
                        // Although this is a little odd since we overwrite the deltaX/Y
                        // properties with normalized deltas.
                        event.deltaMode = 0;
                
                        // Add event and delta to the front of the arguments
                        args.unshift(event, delta, deltaX, deltaY);
                
                        // Clearout lowestDelta after sometime to better
                        // handle multiple device types that give different
                        // a different lowestDelta
                        // Ex: trackpad = 3 and mouse wheel = 120
                        if (nullLowestDeltaTimeout) { clearTimeout(nullLowestDeltaTimeout); }
                        nullLowestDeltaTimeout = setTimeout(nullLowestDelta, 200);
                
                        return ($.event.dispatch || $.event.handle).apply(this, args);
                    }
                
                    function nullLowestDelta() {
                        lowestDelta = null;
                    }
                
                    function shouldAdjustOldDeltas(orgEvent, absDelta) {
                        // If this is an older event and the delta is divisable by 120,
                        // then we are assuming that the browser is treating this as an
                        // older mouse wheel event and that we should divide the deltas
                        // by 40 to try and get a more usable deltaFactor.
                        // Side note, this actually impacts the reported scroll distance
                        // in older browsers and can cause scrolling to be slower than native.
                        // Turn this off by setting $.event.special.mousewheel.settings.adjustOldDeltas to false.
                        return special.settings.adjustOldDeltas && orgEvent.type === 'mousewheel' && absDelta % 120 === 0;
                    }
                
                }));
                
                (function(root) {
                define("jqrangeslider", ["jquery_ui/core","jquery_ui/widget","jquery_ui/mouse","jquery_mousewheel"], function() {
                      return (function() {
                /*! jQRangeSlider 5.7.0 - 2014-03-18 - Copyright (C) Guillaume Gautreau 2012 - MIT and GPLv3 licenses.*/!function(a){a.widget("ui.rangeSliderMouseTouch",a.ui.mouse,{enabled:!0,_mouseInit:function(){var b=this;a.ui.mouse.prototype._mouseInit.apply(this),this._mouseDownEvent=!1,this.element.bind("touchstart."+this.widgetName,function(a){return b._touchStart(a)})},_mouseDestroy:function(){a(document).unbind("touchmove."+this.widgetName,this._touchMoveDelegate).unbind("touchend."+this.widgetName,this._touchEndDelegate),a.ui.mouse.prototype._mouseDestroy.apply(this)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},destroy:function(){this._mouseDestroy(),a.ui.mouse.prototype.destroy.apply(this),this._mouseInit=null},_touchStart:function(b){if(!this.enabled)return!1;b.which=1,b.preventDefault(),this._fillTouchEvent(b);var c=this,d=this._mouseDownEvent;this._mouseDown(b),d!==this._mouseDownEvent&&(this._touchEndDelegate=function(a){c._touchEnd(a)},this._touchMoveDelegate=function(a){c._touchMove(a)},a(document).bind("touchmove."+this.widgetName,this._touchMoveDelegate).bind("touchend."+this.widgetName,this._touchEndDelegate))},_mouseDown:function(b){return this.enabled?a.ui.mouse.prototype._mouseDown.apply(this,[b]):!1},_touchEnd:function(b){this._fillTouchEvent(b),this._mouseUp(b),a(document).unbind("touchmove."+this.widgetName,this._touchMoveDelegate).unbind("touchend."+this.widgetName,this._touchEndDelegate),this._mouseDownEvent=!1,a(document).trigger("mouseup")},_touchMove:function(a){return a.preventDefault(),this._fillTouchEvent(a),this._mouseMove(a)},_fillTouchEvent:function(a){var b;b="undefined"==typeof a.targetTouches&&"undefined"==typeof a.changedTouches?a.originalEvent.targetTouches[0]||a.originalEvent.changedTouches[0]:a.targetTouches[0]||a.changedTouches[0],a.pageX=b.pageX,a.pageY=b.pageY}})}(jQuery),function(a){a.widget("ui.rangeSliderDraggable",a.ui.rangeSliderMouseTouch,{cache:null,options:{containment:null},_create:function(){a.ui.rangeSliderMouseTouch.prototype._create.apply(this),setTimeout(a.proxy(this._initElementIfNotDestroyed,this),10)},destroy:function(){this.cache=null,a.ui.rangeSliderMouseTouch.prototype.destroy.apply(this)},_initElementIfNotDestroyed:function(){this._mouseInit&&this._initElement()},_initElement:function(){this._mouseInit(),this._cache()},_setOption:function(b,c){"containment"===b&&(this.options.containment=null===c||0===a(c).length?null:a(c))},_mouseStart:function(a){return this._cache(),this.cache.click={left:a.pageX,top:a.pageY},this.cache.initialOffset=this.element.offset(),this._triggerMouseEvent("mousestart"),!0},_mouseDrag:function(a){var b=a.pageX-this.cache.click.left;return b=this._constraintPosition(b+this.cache.initialOffset.left),this._applyPosition(b),this._triggerMouseEvent("sliderDrag"),!1},_mouseStop:function(){this._triggerMouseEvent("stop")},_constraintPosition:function(a){return 0!==this.element.parent().length&&null!==this.cache.parent.offset&&(a=Math.min(a,this.cache.parent.offset.left+this.cache.parent.width-this.cache.width.outer),a=Math.max(a,this.cache.parent.offset.left)),a},_applyPosition:function(a){var b={top:this.cache.offset.top,left:a};this.element.offset({left:a}),this.cache.offset=b},_cacheIfNecessary:function(){null===this.cache&&this._cache()},_cache:function(){this.cache={},this._cacheMargins(),this._cacheParent(),this._cacheDimensions(),this.cache.offset=this.element.offset()},_cacheMargins:function(){this.cache.margin={left:this._parsePixels(this.element,"marginLeft"),right:this._parsePixels(this.element,"marginRight"),top:this._parsePixels(this.element,"marginTop"),bottom:this._parsePixels(this.element,"marginBottom")}},_cacheParent:function(){if(null!==this.options.parent){var a=this.element.parent();this.cache.parent={offset:a.offset(),width:a.width()}}else this.cache.parent=null},_cacheDimensions:function(){this.cache.width={outer:this.element.outerWidth(),inner:this.element.width()}},_parsePixels:function(a,b){return parseInt(a.css(b),10)||0},_triggerMouseEvent:function(a){var b=this._prepareEventData();this.element.trigger(a,b)},_prepareEventData:function(){return{element:this.element,offset:this.cache.offset||null}}})}(jQuery),function(a,b){a.widget("ui.rangeSlider",{options:{bounds:{min:0,max:100},defaultValues:{min:20,max:50},wheelMode:null,wheelSpeed:4,arrows:!0,valueLabels:"show",formatter:null,durationIn:0,durationOut:400,delayOut:200,range:{min:!1,max:!1},step:!1,scales:!1,enabled:!0,symmetricPositionning:!1},_values:null,_valuesChanged:!1,_initialized:!1,bar:null,leftHandle:null,rightHandle:null,innerBar:null,container:null,arrows:null,labels:null,changing:{min:!1,max:!1},changed:{min:!1,max:!1},ruler:null,_create:function(){this._setDefaultValues(),this.labels={left:null,right:null,leftDisplayed:!0,rightDisplayed:!0},this.arrows={left:null,right:null},this.changing={min:!1,max:!1},this.changed={min:!1,max:!1},this._createElements(),this._bindResize(),setTimeout(a.proxy(this.resize,this),1),setTimeout(a.proxy(this._initValues,this),1)},_setDefaultValues:function(){this._values={min:this.options.defaultValues.min,max:this.options.defaultValues.max}},_bindResize:function(){var b=this;this._resizeProxy=function(a){b.resize(a)},a(window).resize(this._resizeProxy)},_initWidth:function(){this.container.css("width",this.element.width()-this.container.outerWidth(!0)+this.container.width()),this.innerBar.css("width",this.container.width()-this.innerBar.outerWidth(!0)+this.innerBar.width())},_initValues:function(){this._initialized=!0,this.values(this._values.min,this._values.max)},_setOption:function(a,b){this._setWheelOption(a,b),this._setArrowsOption(a,b),this._setLabelsOption(a,b),this._setLabelsDurations(a,b),this._setFormatterOption(a,b),this._setBoundsOption(a,b),this._setRangeOption(a,b),this._setStepOption(a,b),this._setScalesOption(a,b),this._setEnabledOption(a,b),this._setPositionningOption(a,b)},_validProperty:function(a,b,c){return null===a||"undefined"==typeof a[b]?c:a[b]},_setStepOption:function(a,b){"step"===a&&(this.options.step=b,this._leftHandle("option","step",b),this._rightHandle("option","step",b),this._changed(!0))},_setScalesOption:function(a,b){"scales"===a&&(b===!1||null===b?(this.options.scales=!1,this._destroyRuler()):b instanceof Array&&(this.options.scales=b,this._updateRuler()))},_setRangeOption:function(a,b){"range"===a&&(this._bar("option","range",b),this.options.range=this._bar("option","range"),this._changed(!0))},_setBoundsOption:function(a,b){"bounds"===a&&"undefined"!=typeof b.min&&"undefined"!=typeof b.max&&this.bounds(b.min,b.max)},_setWheelOption:function(a,b){("wheelMode"===a||"wheelSpeed"===a)&&(this._bar("option",a,b),this.options[a]=this._bar("option",a))},_setLabelsOption:function(a,b){if("valueLabels"===a){if("hide"!==b&&"show"!==b&&"change"!==b)return;this.options.valueLabels=b,"hide"!==b?(this._createLabels(),this._leftLabel("update"),this._rightLabel("update")):this._destroyLabels()}},_setFormatterOption:function(a,b){"formatter"===a&&null!==b&&"function"==typeof b&&"hide"!==this.options.valueLabels&&(this._leftLabel("option","formatter",b),this.options.formatter=this._rightLabel("option","formatter",b))},_setArrowsOption:function(a,b){"arrows"!==a||b!==!0&&b!==!1||b===this.options.arrows||(b===!0?(this.element.removeClass("ui-rangeSlider-noArrow").addClass("ui-rangeSlider-withArrows"),this.arrows.left.css("display","block"),this.arrows.right.css("display","block"),this.options.arrows=!0):b===!1&&(this.element.addClass("ui-rangeSlider-noArrow").removeClass("ui-rangeSlider-withArrows"),this.arrows.left.css("display","none"),this.arrows.right.css("display","none"),this.options.arrows=!1),this._initWidth())},_setLabelsDurations:function(a,b){if("durationIn"===a||"durationOut"===a||"delayOut"===a){if(parseInt(b,10)!==b)return;null!==this.labels.left&&this._leftLabel("option",a,b),null!==this.labels.right&&this._rightLabel("option",a,b),this.options[a]=b}},_setEnabledOption:function(a,b){"enabled"===a&&this.toggle(b)},_setPositionningOption:function(a,b){"symmetricPositionning"===a&&(this._rightHandle("option",a,b),this.options[a]=this._leftHandle("option",a,b))},_createElements:function(){"absolute"!==this.element.css("position")&&this.element.css("position","relative"),this.element.addClass("ui-rangeSlider"),this.container=a("<div class='ui-rangeSlider-container' />").css("position","absolute").appendTo(this.element),this.innerBar=a("<div class='ui-rangeSlider-innerBar' />").css("position","absolute").css("top",0).css("left",0),this._createHandles(),this._createBar(),this.container.prepend(this.innerBar),this._createArrows(),"hide"!==this.options.valueLabels?this._createLabels():this._destroyLabels(),this._updateRuler(),this.options.enabled||this._toggle(this.options.enabled)},_createHandle:function(b){return a("<div />")[this._handleType()](b).bind("sliderDrag",a.proxy(this._changing,this)).bind("stop",a.proxy(this._changed,this))},_createHandles:function(){this.leftHandle=this._createHandle({isLeft:!0,bounds:this.options.bounds,value:this._values.min,step:this.options.step,symmetricPositionning:this.options.symmetricPositionning}).appendTo(this.container),this.rightHandle=this._createHandle({isLeft:!1,bounds:this.options.bounds,value:this._values.max,step:this.options.step,symmetricPositionning:this.options.symmetricPositionning}).appendTo(this.container)},_createBar:function(){this.bar=a("<div />").prependTo(this.container).bind("sliderDrag scroll zoom",a.proxy(this._changing,this)).bind("stop",a.proxy(this._changed,this)),this._bar({leftHandle:this.leftHandle,rightHandle:this.rightHandle,values:{min:this._values.min,max:this._values.max},type:this._handleType(),range:this.options.range,wheelMode:this.options.wheelMode,wheelSpeed:this.options.wheelSpeed}),this.options.range=this._bar("option","range"),this.options.wheelMode=this._bar("option","wheelMode"),this.options.wheelSpeed=this._bar("option","wheelSpeed")},_createArrows:function(){this.arrows.left=this._createArrow("left"),this.arrows.right=this._createArrow("right"),this.options.arrows?this.element.addClass("ui-rangeSlider-withArrows"):(this.arrows.left.css("display","none"),this.arrows.right.css("display","none"),this.element.addClass("ui-rangeSlider-noArrow"))},_createArrow:function(b){var c,d=a("<div class='ui-rangeSlider-arrow' />").append("<div class='ui-rangeSlider-arrow-inner' />").addClass("ui-rangeSlider-"+b+"Arrow").css("position","absolute").css(b,0).appendTo(this.element);return c="right"===b?a.proxy(this._scrollRightClick,this):a.proxy(this._scrollLeftClick,this),d.bind("mousedown touchstart",c),d},_proxy:function(a,b,c){var d=Array.prototype.slice.call(c);return a&&a[b]?a[b].apply(a,d):null},_handleType:function(){return"rangeSliderHandle"},_barType:function(){return"rangeSliderBar"},_bar:function(){return this._proxy(this.bar,this._barType(),arguments)},_labelType:function(){return"rangeSliderLabel"},_leftLabel:function(){return this._proxy(this.labels.left,this._labelType(),arguments)},_rightLabel:function(){return this._proxy(this.labels.right,this._labelType(),arguments)},_leftHandle:function(){return this._proxy(this.leftHandle,this._handleType(),arguments)},_rightHandle:function(){return this._proxy(this.rightHandle,this._handleType(),arguments)},_getValue:function(a,b){return b===this.rightHandle&&(a-=b.outerWidth()),a*(this.options.bounds.max-this.options.bounds.min)/(this.container.innerWidth()-b.outerWidth(!0))+this.options.bounds.min},_trigger:function(a){var b=this;setTimeout(function(){b.element.trigger(a,{label:b.element,values:b.values()})},1)},_changing:function(){this._updateValues()&&(this._trigger("valuesChanging"),this._valuesChanged=!0)},_deactivateLabels:function(){"change"===this.options.valueLabels&&(this._leftLabel("option","show","hide"),this._rightLabel("option","show","hide"))},_reactivateLabels:function(){"change"===this.options.valueLabels&&(this._leftLabel("option","show","change"),this._rightLabel("option","show","change"))},_changed:function(a){a===!0&&this._deactivateLabels(),(this._updateValues()||this._valuesChanged)&&(this._trigger("valuesChanged"),a!==!0&&this._trigger("userValuesChanged"),this._valuesChanged=!1),a===!0&&this._reactivateLabels()},_updateValues:function(){var a=this._leftHandle("value"),b=this._rightHandle("value"),c=this._min(a,b),d=this._max(a,b),e=c!==this._values.min||d!==this._values.max;return this._values.min=this._min(a,b),this._values.max=this._max(a,b),e},_min:function(a,b){return Math.min(a,b)},_max:function(a,b){return Math.max(a,b)},_createLabel:function(b,c){var d;return null===b?(d=this._getLabelConstructorParameters(b,c),b=a("<div />").appendTo(this.element)[this._labelType()](d)):(d=this._getLabelRefreshParameters(b,c),b[this._labelType()](d)),b},_getLabelConstructorParameters:function(a,b){return{handle:b,handleType:this._handleType(),formatter:this._getFormatter(),show:this.options.valueLabels,durationIn:this.options.durationIn,durationOut:this.options.durationOut,delayOut:this.options.delayOut}},_getLabelRefreshParameters:function(){return{formatter:this._getFormatter(),show:this.options.valueLabels,durationIn:this.options.durationIn,durationOut:this.options.durationOut,delayOut:this.options.delayOut}},_getFormatter:function(){return this.options.formatter===!1||null===this.options.formatter?this._defaultFormatter:this.options.formatter},_defaultFormatter:function(a){return Math.round(a)},_destroyLabel:function(a){return null!==a&&(a[this._labelType()]("destroy"),a.remove(),a=null),a},_createLabels:function(){this.labels.left=this._createLabel(this.labels.left,this.leftHandle),this.labels.right=this._createLabel(this.labels.right,this.rightHandle),this._leftLabel("pair",this.labels.right)},_destroyLabels:function(){this.labels.left=this._destroyLabel(this.labels.left),this.labels.right=this._destroyLabel(this.labels.right)},_stepRatio:function(){return this._leftHandle("stepRatio")},_scrollRightClick:function(a){return this.options.enabled?(a.preventDefault(),this._bar("startScroll"),this._bindStopScroll(),this._continueScrolling("scrollRight",4*this._stepRatio(),1),void 0):!1},_continueScrolling:function(a,b,c,d){if(!this.options.enabled)return!1;this._bar(a,c),d=d||5,d--;var e=this,f=16,g=Math.max(1,4/this._stepRatio());this._scrollTimeout=setTimeout(function(){0===d&&(b>f?b=Math.max(f,b/1.5):c=Math.min(g,2*c),d=5),e._continueScrolling(a,b,c,d)},b)},_scrollLeftClick:function(a){return this.options.enabled?(a.preventDefault(),this._bar("startScroll"),this._bindStopScroll(),this._continueScrolling("scrollLeft",4*this._stepRatio(),1),void 0):!1},_bindStopScroll:function(){var b=this;this._stopScrollHandle=function(a){a.preventDefault(),b._stopScroll()},a(document).bind("mouseup touchend",this._stopScrollHandle)},_stopScroll:function(){a(document).unbind("mouseup touchend",this._stopScrollHandle),this._stopScrollHandle=null,this._bar("stopScroll"),clearTimeout(this._scrollTimeout)},_createRuler:function(){this.ruler=a("<div class='ui-rangeSlider-ruler' />").appendTo(this.innerBar)},_setRulerParameters:function(){this.ruler.ruler({min:this.options.bounds.min,max:this.options.bounds.max,scales:this.options.scales})},_destroyRuler:function(){null!==this.ruler&&a.fn.ruler&&(this.ruler.ruler("destroy"),this.ruler.remove(),this.ruler=null)},_updateRuler:function(){this._destroyRuler(),this.options.scales!==!1&&a.fn.ruler&&(this._createRuler(),this._setRulerParameters())},values:function(a,b){var c;if("undefined"!=typeof a&&"undefined"!=typeof b){if(!this._initialized)return this._values.min=a,this._values.max=b,this._values;this._deactivateLabels(),c=this._bar("values",a,b),this._changed(!0),this._reactivateLabels()}else c=this._bar("values",a,b);return c},min:function(a){return this._values.min=this.values(a,this._values.max).min,this._values.min},max:function(a){return this._values.max=this.values(this._values.min,a).max,this._values.max},bounds:function(a,b){return this._isValidValue(a)&&this._isValidValue(b)&&b>a&&(this._setBounds(a,b),this._updateRuler(),this._changed(!0)),this.options.bounds},_isValidValue:function(a){return"undefined"!=typeof a&&parseFloat(a)===a},_setBounds:function(a,b){this.options.bounds={min:a,max:b},this._leftHandle("option","bounds",this.options.bounds),this._rightHandle("option","bounds",this.options.bounds),this._bar("option","bounds",this.options.bounds)},zoomIn:function(a){this._bar("zoomIn",a)},zoomOut:function(a){this._bar("zoomOut",a)},scrollLeft:function(a){this._bar("startScroll"),this._bar("scrollLeft",a),this._bar("stopScroll")},scrollRight:function(a){this._bar("startScroll"),this._bar("scrollRight",a),this._bar("stopScroll")},resize:function(){this._initWidth(),this._leftHandle("update"),this._rightHandle("update"),this._bar("update")},enable:function(){this.toggle(!0)},disable:function(){this.toggle(!1)},toggle:function(a){a===b&&(a=!this.options.enabled),this.options.enabled!==a&&this._toggle(a)},_toggle:function(a){this.options.enabled=a,this.element.toggleClass("ui-rangeSlider-disabled",!a);var b=a?"enable":"disable";this._bar(b),this._leftHandle(b),this._rightHandle(b),this._leftLabel(b),this._rightLabel(b)},destroy:function(){this.element.removeClass("ui-rangeSlider-withArrows ui-rangeSlider-noArrow ui-rangeSlider-disabled"),this._destroyWidgets(),this._destroyElements(),this.element.removeClass("ui-rangeSlider"),this.options=null,a(window).unbind("resize",this._resizeProxy),this._resizeProxy=null,this._bindResize=null,a.Widget.prototype.destroy.apply(this,arguments)},_destroyWidget:function(a){this["_"+a]("destroy"),this[a].remove(),this[a]=null},_destroyWidgets:function(){this._destroyWidget("bar"),this._destroyWidget("leftHandle"),this._destroyWidget("rightHandle"),this._destroyRuler(),this._destroyLabels()},_destroyElements:function(){this.container.remove(),this.container=null,this.innerBar.remove(),this.innerBar=null,this.arrows.left.remove(),this.arrows.right.remove(),this.arrows=null}})}(jQuery),function(a){a.widget("ui.rangeSliderHandle",a.ui.rangeSliderDraggable,{currentMove:null,margin:0,parentElement:null,options:{isLeft:!0,bounds:{min:0,max:100},range:!1,value:0,step:!1},_value:0,_left:0,_create:function(){a.ui.rangeSliderDraggable.prototype._create.apply(this),this.element.css("position","absolute").css("top",0).addClass("ui-rangeSlider-handle").toggleClass("ui-rangeSlider-leftHandle",this.options.isLeft).toggleClass("ui-rangeSlider-rightHandle",!this.options.isLeft),this.element.append("<div class='ui-rangeSlider-handle-inner' />"),this._value=this._constraintValue(this.options.value)},destroy:function(){this.element.empty(),a.ui.rangeSliderDraggable.prototype.destroy.apply(this)},_setOption:function(b,c){"isLeft"!==b||c!==!0&&c!==!1||c===this.options.isLeft?"step"===b&&this._checkStep(c)?(this.options.step=c,this.update()):"bounds"===b?(this.options.bounds=c,this.update()):"range"===b&&this._checkRange(c)?(this.options.range=c,this.update()):"symmetricPositionning"===b&&(this.options.symmetricPositionning=c===!0,this.update()):(this.options.isLeft=c,this.element.toggleClass("ui-rangeSlider-leftHandle",this.options.isLeft).toggleClass("ui-rangeSlider-rightHandle",!this.options.isLeft),this._position(this._value),this.element.trigger("switch",this.options.isLeft)),a.ui.rangeSliderDraggable.prototype._setOption.apply(this,[b,c])},_checkRange:function(a){return a===!1||!this._isValidValue(a.min)&&!this._isValidValue(a.max)},_isValidValue:function(a){return"undefined"!=typeof a&&a!==!1&&parseFloat(a)!==a},_checkStep:function(a){return a===!1||parseFloat(a)===a},_initElement:function(){a.ui.rangeSliderDraggable.prototype._initElement.apply(this),0===this.cache.parent.width||null===this.cache.parent.width?setTimeout(a.proxy(this._initElementIfNotDestroyed,this),500):(this._position(this._value),this._triggerMouseEvent("initialize"))},_bounds:function(){return this.options.bounds},_cache:function(){a.ui.rangeSliderDraggable.prototype._cache.apply(this),this._cacheParent()},_cacheParent:function(){var a=this.element.parent();this.cache.parent={element:a,offset:a.offset(),padding:{left:this._parsePixels(a,"paddingLeft")},width:a.width()}},_position:function(a){var b=this._getPositionForValue(a);this._applyPosition(b)},_constraintPosition:function(a){var b=this._getValueForPosition(a);return this._getPositionForValue(b)},_applyPosition:function(b){a.ui.rangeSliderDraggable.prototype._applyPosition.apply(this,[b]),this._left=b,this._setValue(this._getValueForPosition(b)),this._triggerMouseEvent("moving")},_prepareEventData:function(){var b=a.ui.rangeSliderDraggable.prototype._prepareEventData.apply(this);return b.value=this._value,b},_setValue:function(a){a!==this._value&&(this._value=a)},_constraintValue:function(a){if(a=Math.min(a,this._bounds().max),a=Math.max(a,this._bounds().min),a=this._round(a),this.options.range!==!1){var b=this.options.range.min||!1,c=this.options.range.max||!1;b!==!1&&(a=Math.max(a,this._round(b))),c!==!1&&(a=Math.min(a,this._round(c))),a=Math.min(a,this._bounds().max),a=Math.max(a,this._bounds().min)}return a},_round:function(a){return this.options.step!==!1&&this.options.step>0?Math.round(a/this.options.step)*this.options.step:a},_getPositionForValue:function(a){if(!this.cache||!this.cache.parent||null===this.cache.parent.offset)return 0;a=this._constraintValue(a);var b=(a-this.options.bounds.min)/(this.options.bounds.max-this.options.bounds.min),c=this.cache.parent.width,d=this.cache.parent.offset.left,e=this.options.isLeft?0:this.cache.width.outer;return this.options.symmetricPositionning?b*(c-2*this.cache.width.outer)+d+e:b*c+d-e},_getValueForPosition:function(a){var b=this._getRawValueForPositionAndBounds(a,this.options.bounds.min,this.options.bounds.max);return this._constraintValue(b)},_getRawValueForPositionAndBounds:function(a,b,c){var d,e,f=null===this.cache.parent.offset?0:this.cache.parent.offset.left;return this.options.symmetricPositionning?(a-=this.options.isLeft?0:this.cache.width.outer,d=this.cache.parent.width-2*this.cache.width.outer):(a+=this.options.isLeft?0:this.cache.width.outer,d=this.cache.parent.width),0===d?this._value:(e=(a-f)/d,e*(c-b)+b)},value:function(a){return"undefined"!=typeof a&&(this._cache(),a=this._constraintValue(a),this._position(a)),this._value},update:function(){this._cache();var a=this._constraintValue(this._value),b=this._getPositionForValue(a);a!==this._value?(this._triggerMouseEvent("updating"),this._position(a),this._triggerMouseEvent("update")):b!==this.cache.offset.left&&(this._triggerMouseEvent("updating"),this._position(a),this._triggerMouseEvent("update"))},position:function(a){return"undefined"!=typeof a&&(this._cache(),a=this._constraintPosition(a),this._applyPosition(a)),this._left},add:function(a,b){return a+b},substract:function(a,b){return a-b},stepsBetween:function(a,b){return this.options.step===!1?b-a:(b-a)/this.options.step},multiplyStep:function(a,b){return a*b},moveRight:function(a){var b;return this.options.step===!1?(b=this._left,this.position(this._left+a),this._left-b):(b=this._value,this.value(this.add(b,this.multiplyStep(this.options.step,a))),this.stepsBetween(b,this._value))},moveLeft:function(a){return-this.moveRight(-a)},stepRatio:function(){if(this.options.step===!1)return 1;var a=(this.options.bounds.max-this.options.bounds.min)/this.options.step;return this.cache.parent.width/a}})}(jQuery),function(a){function b(a,b){return"undefined"==typeof a?b||!1:a}a.widget("ui.rangeSliderBar",a.ui.rangeSliderDraggable,{options:{leftHandle:null,rightHandle:null,bounds:{min:0,max:100},type:"rangeSliderHandle",range:!1,drag:function(){},stop:function(){},values:{min:0,max:20},wheelSpeed:4,wheelMode:null},_values:{min:0,max:20},_waitingToInit:2,_wheelTimeout:!1,_create:function(){a.ui.rangeSliderDraggable.prototype._create.apply(this),this.element.css("position","absolute").css("top",0).addClass("ui-rangeSlider-bar"),this.options.leftHandle.bind("initialize",a.proxy(this._onInitialized,this)).bind("mousestart",a.proxy(this._cache,this)).bind("stop",a.proxy(this._onHandleStop,this)),this.options.rightHandle.bind("initialize",a.proxy(this._onInitialized,this)).bind("mousestart",a.proxy(this._cache,this)).bind("stop",a.proxy(this._onHandleStop,this)),this._bindHandles(),this._values=this.options.values,this._setWheelModeOption(this.options.wheelMode)},destroy:function(){this.options.leftHandle.unbind(".bar"),this.options.rightHandle.unbind(".bar"),this.options=null,a.ui.rangeSliderDraggable.prototype.destroy.apply(this)},_setOption:function(a,b){"range"===a?this._setRangeOption(b):"wheelSpeed"===a?this._setWheelSpeedOption(b):"wheelMode"===a&&this._setWheelModeOption(b)},_setRangeOption:function(a){if(("object"!=typeof a||null===a)&&(a=!1),a!==!1||this.options.range!==!1){if(a!==!1){var c=b(a.min,this.options.range.min),d=b(a.max,this.options.range.max);this.options.range={min:c,max:d}}else this.options.range=!1;this._setLeftRange(),this._setRightRange()}},_setWheelSpeedOption:function(a){"number"==typeof a&&a>0&&(this.options.wheelSpeed=a)},_setWheelModeOption:function(a){(null===a||a===!1||"zoom"===a||"scroll"===a)&&(this.options.wheelMode!==a&&this.element.parent().unbind("mousewheel.bar"),this._bindMouseWheel(a),this.options.wheelMode=a)},_bindMouseWheel:function(b){"zoom"===b?this.element.parent().bind("mousewheel.bar",a.proxy(this._mouseWheelZoom,this)):"scroll"===b&&this.element.parent().bind("mousewheel.bar",a.proxy(this._mouseWheelScroll,this))},_setLeftRange:function(){if(this.options.range===!1)return!1;var a=this._values.max,b={min:!1,max:!1};b.max="undefined"!=typeof this.options.range.min&&this.options.range.min!==!1?this._leftHandle("substract",a,this.options.range.min):!1,b.min="undefined"!=typeof this.options.range.max&&this.options.range.max!==!1?this._leftHandle("substract",a,this.options.range.max):!1,this._leftHandle("option","range",b)},_setRightRange:function(){var a=this._values.min,b={min:!1,max:!1};b.min="undefined"!=typeof this.options.range.min&&this.options.range.min!==!1?this._rightHandle("add",a,this.options.range.min):!1,b.max="undefined"!=typeof this.options.range.max&&this.options.range.max!==!1?this._rightHandle("add",a,this.options.range.max):!1,this._rightHandle("option","range",b)},_deactivateRange:function(){this._leftHandle("option","range",!1),this._rightHandle("option","range",!1)},_reactivateRange:function(){this._setRangeOption(this.options.range)},_onInitialized:function(){this._waitingToInit--,0===this._waitingToInit&&this._initMe()},_initMe:function(){this._cache(),this.min(this._values.min),this.max(this._values.max);var a=this._leftHandle("position"),b=this._rightHandle("position")+this.options.rightHandle.width();this.element.offset({left:a}),this.element.css("width",b-a)},_leftHandle:function(){return this._handleProxy(this.options.leftHandle,arguments)},_rightHandle:function(){return this._handleProxy(this.options.rightHandle,arguments)},_handleProxy:function(a,b){var c=Array.prototype.slice.call(b);return a[this.options.type].apply(a,c)},_cache:function(){a.ui.rangeSliderDraggable.prototype._cache.apply(this),this._cacheHandles()},_cacheHandles:function(){this.cache.rightHandle={},this.cache.rightHandle.width=this.options.rightHandle.width(),this.cache.rightHandle.offset=this.options.rightHandle.offset(),this.cache.leftHandle={},this.cache.leftHandle.offset=this.options.leftHandle.offset()},_mouseStart:function(b){a.ui.rangeSliderDraggable.prototype._mouseStart.apply(this,[b]),this._deactivateRange()},_mouseStop:function(b){a.ui.rangeSliderDraggable.prototype._mouseStop.apply(this,[b]),this._cacheHandles(),this._values.min=this._leftHandle("value"),this._values.max=this._rightHandle("value"),this._reactivateRange(),this._leftHandle().trigger("stop"),this._rightHandle().trigger("stop")},_onDragLeftHandle:function(a,b){if(this._cacheIfNecessary(),b.element[0]===this.options.leftHandle[0]){if(this._switchedValues())return this._switchHandles(),this._onDragRightHandle(a,b),void 0;this._values.min=b.value,this.cache.offset.left=b.offset.left,this.cache.leftHandle.offset=b.offset,this._positionBar()}},_onDragRightHandle:function(a,b){if(this._cacheIfNecessary(),b.element[0]===this.options.rightHandle[0]){if(this._switchedValues())return this._switchHandles(),this._onDragLeftHandle(a,b),void 0;this._values.max=b.value,this.cache.rightHandle.offset=b.offset,this._positionBar()}},_positionBar:function(){var a=this.cache.rightHandle.offset.left+this.cache.rightHandle.width-this.cache.leftHandle.offset.left;this.cache.width.inner=a,this.element.css("width",a).offset({left:this.cache.leftHandle.offset.left})},_onHandleStop:function(){this._setLeftRange(),this._setRightRange()},_switchedValues:function(){if(this.min()>this.max()){var a=this._values.min;return this._values.min=this._values.max,this._values.max=a,!0}return!1},_switchHandles:function(){var a=this.options.leftHandle;this.options.leftHandle=this.options.rightHandle,this.options.rightHandle=a,this._leftHandle("option","isLeft",!0),this._rightHandle("option","isLeft",!1),this._bindHandles(),this._cacheHandles()},_bindHandles:function(){this.options.leftHandle.unbind(".bar").bind("sliderDrag.bar update.bar moving.bar",a.proxy(this._onDragLeftHandle,this)),this.options.rightHandle.unbind(".bar").bind("sliderDrag.bar update.bar moving.bar",a.proxy(this._onDragRightHandle,this))},_constraintPosition:function(b){var c,d={};return d.left=a.ui.rangeSliderDraggable.prototype._constraintPosition.apply(this,[b]),d.left=this._leftHandle("position",d.left),c=this._rightHandle("position",d.left+this.cache.width.outer-this.cache.rightHandle.width),d.width=c-d.left+this.cache.rightHandle.width,d},_applyPosition:function(b){a.ui.rangeSliderDraggable.prototype._applyPosition.apply(this,[b.left]),this.element.width(b.width)},_mouseWheelZoom:function(b,c,d,e){if(!this.enabled)return!1;var f=this._values.min+(this._values.max-this._values.min)/2,g={},h={};return this.options.range===!1||this.options.range.min===!1?(g.max=f,h.min=f):(g.max=f-this.options.range.min/2,h.min=f+this.options.range.min/2),this.options.range!==!1&&this.options.range.max!==!1&&(g.min=f-this.options.range.max/2,h.max=f+this.options.range.max/2),this._leftHandle("option","range",g),this._rightHandle("option","range",h),clearTimeout(this._wheelTimeout),this._wheelTimeout=setTimeout(a.proxy(this._wheelStop,this),200),this.zoomIn(e*this.options.wheelSpeed),!1},_mouseWheelScroll:function(b,c,d,e){return this.enabled?(this._wheelTimeout===!1?this.startScroll():clearTimeout(this._wheelTimeout),this._wheelTimeout=setTimeout(a.proxy(this._wheelStop,this),200),this.scrollLeft(e*this.options.wheelSpeed),!1):!1},_wheelStop:function(){this.stopScroll(),this._wheelTimeout=!1},min:function(a){return this._leftHandle("value",a)},max:function(a){return this._rightHandle("value",a)},startScroll:function(){this._deactivateRange()},stopScroll:function(){this._reactivateRange(),this._triggerMouseEvent("stop"),this._leftHandle().trigger("stop"),this._rightHandle().trigger("stop")},scrollLeft:function(a){return a=a||1,0>a?this.scrollRight(-a):(a=this._leftHandle("moveLeft",a),this._rightHandle("moveLeft",a),this.update(),this._triggerMouseEvent("scroll"),void 0)},scrollRight:function(a){return a=a||1,0>a?this.scrollLeft(-a):(a=this._rightHandle("moveRight",a),this._leftHandle("moveRight",a),this.update(),this._triggerMouseEvent("scroll"),void 0)},zoomIn:function(a){if(a=a||1,0>a)return this.zoomOut(-a);var b=this._rightHandle("moveLeft",a);a>b&&(b/=2,this._rightHandle("moveRight",b)),this._leftHandle("moveRight",b),this.update(),this._triggerMouseEvent("zoom")},zoomOut:function(a){if(a=a||1,0>a)return this.zoomIn(-a);var b=this._rightHandle("moveRight",a);a>b&&(b/=2,this._rightHandle("moveLeft",b)),this._leftHandle("moveLeft",b),this.update(),this._triggerMouseEvent("zoom")},values:function(a,b){if("undefined"!=typeof a&&"undefined"!=typeof b){var c=Math.min(a,b),d=Math.max(a,b);this._deactivateRange(),this.options.leftHandle.unbind(".bar"),this.options.rightHandle.unbind(".bar"),this._values.min=this._leftHandle("value",c),this._values.max=this._rightHandle("value",d),this._bindHandles(),this._reactivateRange(),this.update()
                }return{min:this._values.min,max:this._values.max}},update:function(){this._values.min=this.min(),this._values.max=this.max(),this._cache(),this._positionBar()}})}(jQuery),function(a){function b(b,c,d,e){this.label1=b,this.label2=c,this.type=d,this.options=e,this.handle1=this.label1[this.type]("option","handle"),this.handle2=this.label2[this.type]("option","handle"),this.cache=null,this.left=b,this.right=c,this.moving=!1,this.initialized=!1,this.updating=!1,this.Init=function(){this.BindHandle(this.handle1),this.BindHandle(this.handle2),"show"===this.options.show?(setTimeout(a.proxy(this.PositionLabels,this),1),this.initialized=!0):setTimeout(a.proxy(this.AfterInit,this),1e3),this._resizeProxy=a.proxy(this.onWindowResize,this),a(window).resize(this._resizeProxy)},this.Destroy=function(){this._resizeProxy&&(a(window).unbind("resize",this._resizeProxy),this._resizeProxy=null,this.handle1.unbind(".positionner"),this.handle1=null,this.handle2.unbind(".positionner"),this.handle2=null,this.label1=null,this.label2=null,this.left=null,this.right=null),this.cache=null},this.AfterInit=function(){this.initialized=!0},this.Cache=function(){"none"!==this.label1.css("display")&&(this.cache={},this.cache.label1={},this.cache.label2={},this.cache.handle1={},this.cache.handle2={},this.cache.offsetParent={},this.CacheElement(this.label1,this.cache.label1),this.CacheElement(this.label2,this.cache.label2),this.CacheElement(this.handle1,this.cache.handle1),this.CacheElement(this.handle2,this.cache.handle2),this.CacheElement(this.label1.offsetParent(),this.cache.offsetParent))},this.CacheIfNecessary=function(){null===this.cache?this.Cache():(this.CacheWidth(this.label1,this.cache.label1),this.CacheWidth(this.label2,this.cache.label2),this.CacheHeight(this.label1,this.cache.label1),this.CacheHeight(this.label2,this.cache.label2),this.CacheWidth(this.label1.offsetParent(),this.cache.offsetParent))},this.CacheElement=function(a,b){this.CacheWidth(a,b),this.CacheHeight(a,b),b.offset=a.offset(),b.margin={left:this.ParsePixels("marginLeft",a),right:this.ParsePixels("marginRight",a)},b.border={left:this.ParsePixels("borderLeftWidth",a),right:this.ParsePixels("borderRightWidth",a)}},this.CacheWidth=function(a,b){b.width=a.width(),b.outerWidth=a.outerWidth()},this.CacheHeight=function(a,b){b.outerHeightMargin=a.outerHeight(!0)},this.ParsePixels=function(a,b){return parseInt(b.css(a),10)||0},this.BindHandle=function(b){b.bind("updating.positionner",a.proxy(this.onHandleUpdating,this)),b.bind("update.positionner",a.proxy(this.onHandleUpdated,this)),b.bind("moving.positionner",a.proxy(this.onHandleMoving,this)),b.bind("stop.positionner",a.proxy(this.onHandleStop,this))},this.PositionLabels=function(){if(this.CacheIfNecessary(),null!==this.cache){var a=this.GetRawPosition(this.cache.label1,this.cache.handle1),b=this.GetRawPosition(this.cache.label2,this.cache.handle2);this.label1[d]("option","isLeft")?this.ConstraintPositions(a,b):this.ConstraintPositions(b,a),this.PositionLabel(this.label1,a.left,this.cache.label1),this.PositionLabel(this.label2,b.left,this.cache.label2)}},this.PositionLabel=function(a,b,c){var d,e,f,g=this.cache.offsetParent.offset.left+this.cache.offsetParent.border.left;g-b>=0?(a.css("right",""),a.offset({left:b})):(d=g+this.cache.offsetParent.width,e=b+c.margin.left+c.outerWidth+c.margin.right,f=d-e,a.css("left",""),a.css("right",f))},this.ConstraintPositions=function(a,b){(a.center<b.center&&a.outerRight>b.outerLeft||a.center>b.center&&b.outerRight>a.outerLeft)&&(a=this.getLeftPosition(a,b),b=this.getRightPosition(a,b))},this.getLeftPosition=function(a,b){var c=(b.center+a.center)/2,d=c-a.cache.outerWidth-a.cache.margin.right+a.cache.border.left;return a.left=d,a},this.getRightPosition=function(a,b){var c=(b.center+a.center)/2;return b.left=c+b.cache.margin.left+b.cache.border.left,b},this.ShowIfNecessary=function(){"show"===this.options.show||this.moving||!this.initialized||this.updating||(this.label1.stop(!0,!0).fadeIn(this.options.durationIn||0),this.label2.stop(!0,!0).fadeIn(this.options.durationIn||0),this.moving=!0)},this.HideIfNeeded=function(){this.moving===!0&&(this.label1.stop(!0,!0).delay(this.options.delayOut||0).fadeOut(this.options.durationOut||0),this.label2.stop(!0,!0).delay(this.options.delayOut||0).fadeOut(this.options.durationOut||0),this.moving=!1)},this.onHandleMoving=function(a,b){this.ShowIfNecessary(),this.CacheIfNecessary(),this.UpdateHandlePosition(b),this.PositionLabels()},this.onHandleUpdating=function(){this.updating=!0},this.onHandleUpdated=function(){this.updating=!1,this.cache=null},this.onHandleStop=function(){this.HideIfNeeded()},this.onWindowResize=function(){this.cache=null},this.UpdateHandlePosition=function(a){null!==this.cache&&(a.element[0]===this.handle1[0]?this.UpdatePosition(a,this.cache.handle1):this.UpdatePosition(a,this.cache.handle2))},this.UpdatePosition=function(a,b){b.offset=a.offset,b.value=a.value},this.GetRawPosition=function(a,b){var c=b.offset.left+b.outerWidth/2,d=c-a.outerWidth/2,e=d+a.outerWidth-a.border.left-a.border.right,f=d-a.margin.left-a.border.left,g=b.offset.top-a.outerHeightMargin;return{left:d,outerLeft:f,top:g,right:e,outerRight:f+a.outerWidth+a.margin.left+a.margin.right,cache:a,center:c}},this.Init()}a.widget("ui.rangeSliderLabel",a.ui.rangeSliderMouseTouch,{options:{handle:null,formatter:!1,handleType:"rangeSliderHandle",show:"show",durationIn:0,durationOut:500,delayOut:500,isLeft:!1},cache:null,_positionner:null,_valueContainer:null,_innerElement:null,_value:null,_create:function(){this.options.isLeft=this._handle("option","isLeft"),this.element.addClass("ui-rangeSlider-label").css("position","absolute").css("display","block"),this._createElements(),this._toggleClass(),this.options.handle.bind("moving.label",a.proxy(this._onMoving,this)).bind("update.label",a.proxy(this._onUpdate,this)).bind("switch.label",a.proxy(this._onSwitch,this)),"show"!==this.options.show&&this.element.hide(),this._mouseInit()},destroy:function(){this.options.handle.unbind(".label"),this.options.handle=null,this._valueContainer=null,this._innerElement=null,this.element.empty(),this._positionner&&(this._positionner.Destroy(),this._positionner=null),a.ui.rangeSliderMouseTouch.prototype.destroy.apply(this)},_createElements:function(){this._valueContainer=a("<div class='ui-rangeSlider-label-value' />").appendTo(this.element),this._innerElement=a("<div class='ui-rangeSlider-label-inner' />").appendTo(this.element)},_handle:function(){var a=Array.prototype.slice.apply(arguments);return this.options.handle[this.options.handleType].apply(this.options.handle,a)},_setOption:function(a,b){"show"===a?this._updateShowOption(b):("durationIn"===a||"durationOut"===a||"delayOut"===a)&&this._updateDurations(a,b),this._setFormatterOption(a,b)},_setFormatterOption:function(a,b){"formatter"===a&&("function"==typeof b||b===!1)&&(this.options.formatter=b,this._display(this._value))},_updateShowOption:function(a){this.options.show=a,"show"!==this.options.show?(this.element.hide(),this._positionner.moving=!1):(this.element.show(),this._display(this.options.handle[this.options.handleType]("value")),this._positionner.PositionLabels()),this._positionner.options.show=this.options.show},_updateDurations:function(a,b){parseInt(b,10)===b&&(this._positionner.options[a]=b,this.options[a]=b)},_display:function(a){this.options.formatter===!1?this._displayText(Math.round(a)):this._displayText(this.options.formatter(a)),this._value=a},_displayText:function(a){this._valueContainer.text(a)},_toggleClass:function(){this.element.toggleClass("ui-rangeSlider-leftLabel",this.options.isLeft).toggleClass("ui-rangeSlider-rightLabel",!this.options.isLeft)},_positionLabels:function(){this._positionner.PositionLabels()},_mouseDown:function(a){this.options.handle.trigger(a)},_mouseUp:function(a){this.options.handle.trigger(a)},_mouseMove:function(a){this.options.handle.trigger(a)},_onMoving:function(a,b){this._display(b.value)},_onUpdate:function(){"show"===this.options.show&&this.update()},_onSwitch:function(a,b){this.options.isLeft=b,this._toggleClass(),this._positionLabels()},pair:function(a){null===this._positionner&&(this._positionner=new b(this.element,a,this.widgetName,{show:this.options.show,durationIn:this.options.durationIn,durationOut:this.options.durationOut,delayOut:this.options.delayOut}),a[this.widgetName]("positionner",this._positionner))},positionner:function(a){return"undefined"!=typeof a&&(this._positionner=a),this._positionner},update:function(){this._positionner.cache=null,this._display(this._handle("value")),"show"===this.options.show&&this._positionLabels()}})}(jQuery),function(a){a.widget("ui.dateRangeSlider",a.ui.rangeSlider,{options:{bounds:{min:new Date(2010,0,1).valueOf(),max:new Date(2012,0,1).valueOf()},defaultValues:{min:new Date(2010,1,11).valueOf(),max:new Date(2011,1,11).valueOf()}},_create:function(){a.ui.rangeSlider.prototype._create.apply(this),this.element.addClass("ui-dateRangeSlider")},destroy:function(){this.element.removeClass("ui-dateRangeSlider"),a.ui.rangeSlider.prototype.destroy.apply(this)},_setDefaultValues:function(){this._values={min:this.options.defaultValues.min.valueOf(),max:this.options.defaultValues.max.valueOf()}},_setRulerParameters:function(){this.ruler.ruler({min:new Date(this.options.bounds.min),max:new Date(this.options.bounds.max),scales:this.options.scales})},_setOption:function(b,c){("defaultValues"===b||"bounds"===b)&&"undefined"!=typeof c&&null!==c&&this._isValidDate(c.min)&&this._isValidDate(c.max)?a.ui.rangeSlider.prototype._setOption.apply(this,[b,{min:c.min.valueOf(),max:c.max.valueOf()}]):a.ui.rangeSlider.prototype._setOption.apply(this,this._toArray(arguments))},_handleType:function(){return"dateRangeSliderHandle"},option:function(b){if("bounds"===b||"defaultValues"===b){var c=a.ui.rangeSlider.prototype.option.apply(this,arguments);return{min:new Date(c.min),max:new Date(c.max)}}return a.ui.rangeSlider.prototype.option.apply(this,this._toArray(arguments))},_defaultFormatter:function(a){var b=a.getMonth()+1,c=a.getDate();return""+a.getFullYear()+"-"+(10>b?"0"+b:b)+"-"+(10>c?"0"+c:c)},_getFormatter:function(){var a=this.options.formatter;return(this.options.formatter===!1||null===this.options.formatter)&&(a=this._defaultFormatter),function(a){return function(b){return a(new Date(b))}}(a)},values:function(b,c){var d=null;return d=this._isValidDate(b)&&this._isValidDate(c)?a.ui.rangeSlider.prototype.values.apply(this,[b.valueOf(),c.valueOf()]):a.ui.rangeSlider.prototype.values.apply(this,this._toArray(arguments)),{min:new Date(d.min),max:new Date(d.max)}},min:function(b){return this._isValidDate(b)?new Date(a.ui.rangeSlider.prototype.min.apply(this,[b.valueOf()])):new Date(a.ui.rangeSlider.prototype.min.apply(this))},max:function(b){return this._isValidDate(b)?new Date(a.ui.rangeSlider.prototype.max.apply(this,[b.valueOf()])):new Date(a.ui.rangeSlider.prototype.max.apply(this))},bounds:function(b,c){var d;return d=this._isValidDate(b)&&this._isValidDate(c)?a.ui.rangeSlider.prototype.bounds.apply(this,[b.valueOf(),c.valueOf()]):a.ui.rangeSlider.prototype.bounds.apply(this,this._toArray(arguments)),{min:new Date(d.min),max:new Date(d.max)}},_isValidDate:function(a){return"undefined"!=typeof a&&a instanceof Date},_toArray:function(a){return Array.prototype.slice.call(a)}})}(jQuery),function(a){a.widget("ui.dateRangeSliderHandle",a.ui.rangeSliderHandle,{_steps:!1,_boundsValues:{},_create:function(){this._createBoundsValues(),a.ui.rangeSliderHandle.prototype._create.apply(this)},_getValueForPosition:function(a){var b=this._getRawValueForPositionAndBounds(a,this.options.bounds.min.valueOf(),this.options.bounds.max.valueOf());return this._constraintValue(new Date(b))},_setOption:function(b,c){return"step"===b?(this.options.step=c,this._createSteps(),this.update(),void 0):(a.ui.rangeSliderHandle.prototype._setOption.apply(this,[b,c]),"bounds"===b&&this._createBoundsValues(),void 0)},_createBoundsValues:function(){this._boundsValues={min:this.options.bounds.min.valueOf(),max:this.options.bounds.max.valueOf()}},_bounds:function(){return this._boundsValues},_createSteps:function(){if(this.options.step===!1||!this._isValidStep())return this._steps=!1,void 0;var a=new Date(this.options.bounds.min),b=new Date(this.options.bounds.max),c=a,d=0,e=new Date;for(this._steps=[];b>=c&&(1===d||e.valueOf()!==c.valueOf());)e=c,this._steps.push(c.valueOf()),c=this._addStep(a,d,this.options.step),d++;e.valueOf()===c.valueOf()&&(this._steps=!1)},_isValidStep:function(){return"object"==typeof this.options.step},_addStep:function(a,b,c){var d=new Date(a.valueOf());return d=this._addThing(d,"FullYear",b,c.years),d=this._addThing(d,"Month",b,c.months),d=this._addThing(d,"Date",b,7*c.weeks),d=this._addThing(d,"Date",b,c.days),d=this._addThing(d,"Hours",b,c.hours),d=this._addThing(d,"Minutes",b,c.minutes),d=this._addThing(d,"Seconds",b,c.seconds)},_addThing:function(a,b,c,d){return 0===c||0===(d||0)?a:(a["set"+b](a["get"+b]()+c*(d||0)),a)},_round:function(a){if(this._steps===!1)return a;for(var b,c,d=this.options.bounds.max.valueOf(),e=this.options.bounds.min.valueOf(),f=Math.max(0,(a-e)/(d-e)),g=Math.floor(this._steps.length*f);this._steps[g]>a;)g--;for(;g+1<this._steps.length&&this._steps[g+1]<=a;)g++;return g>=this._steps.length-1?this._steps[this._steps.length-1]:0===g?this._steps[0]:(b=this._steps[g],c=this._steps[g+1],c-a>a-b?b:c)},update:function(){this._createBoundsValues(),this._createSteps(),a.ui.rangeSliderHandle.prototype.update.apply(this)},add:function(a,b){return this._addStep(new Date(a),1,b).valueOf()},substract:function(a,b){return this._addStep(new Date(a),-1,b).valueOf()},stepsBetween:function(a,b){if(this.options.step===!1)return b-a;var c=Math.min(a,b),d=Math.max(a,b),e=0,f=!1,g=a>b;for(this.add(c,this.options.step)-c<0&&(f=!0);d>c;)f?d=this.add(d,this.options.step):c=this.add(c,this.options.step),e++;return g?-e:e},multiplyStep:function(a,b){var c={};for(var d in a)a.hasOwnProperty(d)&&(c[d]=a[d]*b);return c},stepRatio:function(){if(this.options.step===!1)return 1;var a=this._steps.length;return this.cache.parent.width/a}})}(jQuery),function(a){a.widget("ui.editRangeSlider",a.ui.rangeSlider,{options:{type:"text",round:1},_create:function(){a.ui.rangeSlider.prototype._create.apply(this),this.element.addClass("ui-editRangeSlider")},destroy:function(){this.element.removeClass("ui-editRangeSlider"),a.ui.rangeSlider.prototype.destroy.apply(this)},_setOption:function(b,c){("type"===b||"step"===b)&&this._setLabelOption(b,c),"type"===b&&(this.options[b]=null===this.labels.left?c:this._leftLabel("option",b)),a.ui.rangeSlider.prototype._setOption.apply(this,[b,c])},_setLabelOption:function(a,b){null!==this.labels.left&&(this._leftLabel("option",a,b),this._rightLabel("option",a,b))},_labelType:function(){return"editRangeSliderLabel"},_createLabel:function(b,c){var d=a.ui.rangeSlider.prototype._createLabel.apply(this,[b,c]);return null===b&&d.bind("valueChange",a.proxy(this._onValueChange,this)),d},_addPropertiesToParameter:function(a){return a.type=this.options.type,a.step=this.options.step,a.id=this.element.attr("id"),a},_getLabelConstructorParameters:function(b,c){var d=a.ui.rangeSlider.prototype._getLabelConstructorParameters.apply(this,[b,c]);return this._addPropertiesToParameter(d)},_getLabelRefreshParameters:function(b,c){var d=a.ui.rangeSlider.prototype._getLabelRefreshParameters.apply(this,[b,c]);return this._addPropertiesToParameter(d)},_onValueChange:function(a,b){var c=!1;c=b.isLeft?this._values.min!==this.min(b.value):this._values.max!==this.max(b.value),c&&this._trigger("userValuesChanged")}})}(jQuery),function(a){a.widget("ui.editRangeSliderLabel",a.ui.rangeSliderLabel,{options:{type:"text",step:!1,id:""},_input:null,_text:"",_create:function(){a.ui.rangeSliderLabel.prototype._create.apply(this),this._createInput()},_setOption:function(b,c){"type"===b?this._setTypeOption(c):"step"===b&&this._setStepOption(c),a.ui.rangeSliderLabel.prototype._setOption.apply(this,[b,c])},_createInput:function(){this._input=a("<input type='"+this.options.type+"' />").addClass("ui-editRangeSlider-inputValue").appendTo(this._valueContainer),this._setInputName(),this._input.bind("keyup",a.proxy(this._onKeyUp,this)),this._input.blur(a.proxy(this._onChange,this)),"number"===this.options.type&&(this.options.step!==!1&&this._input.attr("step",this.options.step),this._input.click(a.proxy(this._onChange,this))),this._input.val(this._text)},_setInputName:function(){var a=this.options.isLeft?"left":"right";this._input.attr("name",this.options.id+a)},_onSwitch:function(b,c){a.ui.rangeSliderLabel.prototype._onSwitch.apply(this,[b,c]),this._setInputName()},_destroyInput:function(){this._input.remove(),this._input=null},_onKeyUp:function(a){return 13===a.which?(this._onChange(a),!1):void 0},_onChange:function(){var a=this._returnCheckedValue(this._input.val());a!==!1&&this._triggerValue(a)},_triggerValue:function(a){var b=this.options.handle[this.options.handleType]("option","isLeft");this.element.trigger("valueChange",[{isLeft:b,value:a}])},_returnCheckedValue:function(a){var b=parseFloat(a);return isNaN(b)||isNaN(Number(a))?!1:b},_setTypeOption:function(a){"text"!==a&&"number"!==a||this.options.type===a||(this._destroyInput(),this.options.type=a,this._createInput())},_setStepOption:function(a){this.options.step=a,"number"===this.options.type&&this._input.attr("step",a!==!1?a:"any")},_displayText:function(a){this._input.val(a),this._text=a},enable:function(){a.ui.rangeSliderLabel.prototype.enable.apply(this),this._input.attr("disabled",null)},disable:function(){a.ui.rangeSliderLabel.prototype.disable.apply(this),this._input.attr("disabled","disabled")}})}(jQuery),function(a){var b={first:function(a){return a},next:function(a){return a+1},format:function(){},label:function(a){return Math.round(a)},stop:function(){return!1}};a.widget("ui.ruler",{options:{min:0,max:100,scales:[]},_create:function(){this.element.addClass("ui-ruler"),this._createScales()},destroy:function(){this.element.removeClass("ui-ruler"),this.element.empty()},_regenerate:function(){this.element.empty(),this._createScales()},_setOption:function(a,b){return"min"===a||"max"===a&&b!==this.options[a]?(this.options[a]=b,this._regenerate(),void 0):"scales"===a&&b instanceof Array?(this.options.scales=b,this._regenerate(),void 0):void 0},_createScales:function(){if(this.options.max!==this.options.min)for(var a=0;a<this.options.scales.length;a++)this._createScale(this.options.scales[a],a)},_createScale:function(c,d){var e=a.extend({},b,c),f=a("<div class='ui-ruler-scale' />").appendTo(this.element);f.addClass("ui-ruler-scale"+d),this._createTicks(f,e)},_createTicks:function(a,b){var c,d,e,f=b.first(this.options.min,this.options.max),g=this.options.max-this.options.min,h=!0;do c=f,f=b.next(c),d=(Math.min(f,this.options.max)-Math.max(c,this.options.min))/g,e=this._createTick(c,f,b),a.append(e),e.css("width",100*d+"%"),h&&c>this.options.min&&e.css("margin-left",100*(c-this.options.min)/g+"%"),h=!1;while(!this._stop(b,f))},_stop:function(a,b){return a.stop(b)||b>=this.options.max},_createTick:function(b,c,d){var e=a("<div class='ui-ruler-tick' style='display:inline-block' />"),f=a("<div class='ui-ruler-tick-inner' />").appendTo(e),g=a("<span class='ui-ruler-tick-label' />").appendTo(f);return g.text(d.label(b,c)),d.format(e,b,c),e}})}(jQuery);return $.fn.rangeSlider;      }).apply(root, arguments);
                    });
                }(this));
                
                (function() {
                  var __hasProp = {}.hasOwnProperty,
                    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };
                
                  define('widget/date_range_slider',["underscore", "jquery", "jqrangeslider", "backbone", "common/continuum_view", "common/has_properties"], function(_, $, $1, Backbone, continuum_view, HasProperties) {
                    var DateRangeSlider, DateRangeSliderView, DateRangeSliders, _ref, _ref1, _ref2;
                    DateRangeSliderView = (function(_super) {
                      __extends(DateRangeSliderView, _super);
                
                      function DateRangeSliderView() {
                        _ref = DateRangeSliderView.__super__.constructor.apply(this, arguments);
                        return _ref;
                      }
                
                      DateRangeSliderView.prototype.initialize = function(options) {
                        var _this = this;
                        DateRangeSliderView.__super__.initialize.call(this, options);
                        this.render();
                        return this.listenTo(this.model, 'change', function() {
                          return _this.render;
                        });
                      };
                
                      DateRangeSliderView.prototype.render = function() {
                        var bounds_max, bounds_min, range_max, range_min, value_max, value_min, _ref1, _ref2, _ref3,
                          _this = this;
                        this.$el.empty();
                        _ref1 = this.mget("value"), value_min = _ref1[0], value_max = _ref1[1];
                        _ref2 = this.mget("range"), range_min = _ref2[0], range_max = _ref2[1];
                        _ref3 = this.mget("bounds"), bounds_min = _ref3[0], bounds_max = _ref3[1];
                        this.$el.dateRangeSlider({
                          defaultValues: {
                            min: new Date(value_min),
                            max: new Date(value_max)
                          },
                          bounds: {
                            min: new Date(bounds_min),
                            max: new Date(bounds_max)
                          },
                          range: {
                            min: _.isObject(range_min) ? range_min : false,
                            max: _.isObject(range_max) ? range_max : false
                          },
                          step: this.mget("step") || {},
                          enabled: this.mget("enabled"),
                          arrows: this.mget("arrows"),
                          valueLabels: this.mget("value_labels"),
                          wheelMode: this.mget("wheel_mode")
                        });
                        return this.$el.on("userValuesChanged", function(event, data) {
                          _this.mset('value', [data.values.min, data.values.max]);
                          return _this.model.save();
                        });
                      };
                
                      return DateRangeSliderView;
                
                    })(continuum_view.View);
                    DateRangeSlider = (function(_super) {
                      __extends(DateRangeSlider, _super);
                
                      function DateRangeSlider() {
                        _ref1 = DateRangeSlider.__super__.constructor.apply(this, arguments);
                        return _ref1;
                      }
                
                      DateRangeSlider.prototype.type = "DateRangeSlider";
                
                      DateRangeSlider.prototype.default_view = DateRangeSliderView;
                
                      DateRangeSlider.prototype.defaults = function() {
                        return _.extend({}, DateRangeSlider.__super__.defaults.call(this), {
                          /*
                          value
                          range
                          bounds
                          step
                          formatter
                          scales
                          enabled
                          arrows
                          value_labels
                          wheel_mode
                          */
                
                        });
                      };
                
                      return DateRangeSlider;
                
                    })(HasProperties);
                    DateRangeSliders = (function(_super) {
                      __extends(DateRangeSliders, _super);
                
                      function DateRangeSliders() {
                        _ref2 = DateRangeSliders.__super__.constructor.apply(this, arguments);
                        return _ref2;
                      }
                
                      DateRangeSliders.prototype.model = DateRangeSlider;
                
                      return DateRangeSliders;
                
                    })(Backbone.Collection);
                    return {
                      Model: DateRangeSlider,
                      Collection: new DateRangeSliders(),
                      View: DateRangeSliderView
                    };
                  });
                
                }).call(this);
                
                /*
                //@ sourceMappingURL=date_range_slider.js.map
                */;
                define('jquery_ui/datepicker',['jquery','./core'], function (jQuery) {
                /*!
                 * jQuery UI Datepicker 1.10.0
                 * http://jqueryui.com
                 *
                 * Copyright 2013 jQuery Foundation and other contributors
                 * Released under the MIT license.
                 * http://jquery.org/license
                 *
                 * http://api.jqueryui.com/datepicker/
                 *
                 * Depends:
                 *	jquery.ui.core.js
                 */
                (function( $, undefined ) {
                
                $.extend($.ui, { datepicker: { version: "1.10.0" } });
                
                var PROP_NAME = "datepicker",
                	dpuuid = new Date().getTime(),
                	instActive;
                
                /* Date picker manager.
                   Use the singleton instance of this class, $.datepicker, to interact with the date picker.
                   Settings for (groups of) date pickers are maintained in an instance object,
                   allowing multiple different settings on the same page. */
                
                function Datepicker() {
                	this._curInst = null; // The current instance in use
                	this._keyEvent = false; // If the last event was a key event
                	this._disabledInputs = []; // List of date picker inputs that have been disabled
                	this._datepickerShowing = false; // True if the popup picker is showing , false if not
                	this._inDialog = false; // True if showing within a "dialog", false if not
                	this._mainDivId = "ui-datepicker-div"; // The ID of the main datepicker division
                	this._inlineClass = "ui-datepicker-inline"; // The name of the inline marker class
                	this._appendClass = "ui-datepicker-append"; // The name of the append marker class
                	this._triggerClass = "ui-datepicker-trigger"; // The name of the trigger marker class
                	this._dialogClass = "ui-datepicker-dialog"; // The name of the dialog marker class
                	this._disableClass = "ui-datepicker-disabled"; // The name of the disabled covering marker class
                	this._unselectableClass = "ui-datepicker-unselectable"; // The name of the unselectable cell marker class
                	this._currentClass = "ui-datepicker-current-day"; // The name of the current day marker class
                	this._dayOverClass = "ui-datepicker-days-cell-over"; // The name of the day hover marker class
                	this.regional = []; // Available regional settings, indexed by language code
                	this.regional[""] = { // Default regional settings
                		closeText: "Done", // Display text for close link
                		prevText: "Prev", // Display text for previous month link
                		nextText: "Next", // Display text for next month link
                		currentText: "Today", // Display text for current month link
                		monthNames: ["January","February","March","April","May","June",
                			"July","August","September","October","November","December"], // Names of months for drop-down and formatting
                		monthNamesShort: ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"], // For formatting
                		dayNames: ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"], // For formatting
                		dayNamesShort: ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"], // For formatting
                		dayNamesMin: ["Su","Mo","Tu","We","Th","Fr","Sa"], // Column headings for days starting at Sunday
                		weekHeader: "Wk", // Column header for week of the year
                		dateFormat: "mm/dd/yy", // See format options on parseDate
                		firstDay: 0, // The first day of the week, Sun = 0, Mon = 1, ...
                		isRTL: false, // True if right-to-left language, false if left-to-right
                		showMonthAfterYear: false, // True if the year select precedes month, false for month then year
                		yearSuffix: "" // Additional text to append to the year in the month headers
                	};
                	this._defaults = { // Global defaults for all the date picker instances
                		showOn: "focus", // "focus" for popup on focus,
                			// "button" for trigger button, or "both" for either
                		showAnim: "fadeIn", // Name of jQuery animation for popup
                		showOptions: {}, // Options for enhanced animations
                		defaultDate: null, // Used when field is blank: actual date,
                			// +/-number for offset from today, null for today
                		appendText: "", // Display text following the input box, e.g. showing the format
                		buttonText: "...", // Text for trigger button
                		buttonImage: "", // URL for trigger button image
                		buttonImageOnly: false, // True if the image appears alone, false if it appears on a button
                		hideIfNoPrevNext: false, // True to hide next/previous month links
                			// if not applicable, false to just disable them
                		navigationAsDateFormat: false, // True if date formatting applied to prev/today/next links
                		gotoCurrent: false, // True if today link goes back to current selection instead
                		changeMonth: false, // True if month can be selected directly, false if only prev/next
                		changeYear: false, // True if year can be selected directly, false if only prev/next
                		yearRange: "c-10:c+10", // Range of years to display in drop-down,
                			// either relative to today's year (-nn:+nn), relative to currently displayed year
                			// (c-nn:c+nn), absolute (nnnn:nnnn), or a combination of the above (nnnn:-n)
                		showOtherMonths: false, // True to show dates in other months, false to leave blank
                		selectOtherMonths: false, // True to allow selection of dates in other months, false for unselectable
                		showWeek: false, // True to show week of the year, false to not show it
                		calculateWeek: this.iso8601Week, // How to calculate the week of the year,
                			// takes a Date and returns the number of the week for it
                		shortYearCutoff: "+10", // Short year values < this are in the current century,
                			// > this are in the previous century,
                			// string value starting with "+" for current year + value
                		minDate: null, // The earliest selectable date, or null for no limit
                		maxDate: null, // The latest selectable date, or null for no limit
                		duration: "fast", // Duration of display/closure
                		beforeShowDay: null, // Function that takes a date and returns an array with
                			// [0] = true if selectable, false if not, [1] = custom CSS class name(s) or "",
                			// [2] = cell title (optional), e.g. $.datepicker.noWeekends
                		beforeShow: null, // Function that takes an input field and
                			// returns a set of custom settings for the date picker
                		onSelect: null, // Define a callback function when a date is selected
                		onChangeMonthYear: null, // Define a callback function when the month or year is changed
                		onClose: null, // Define a callback function when the datepicker is closed
                		numberOfMonths: 1, // Number of months to show at a time
                		showCurrentAtPos: 0, // The position in multipe months at which to show the current month (starting at 0)
                		stepMonths: 1, // Number of months to step back/forward
                		stepBigMonths: 12, // Number of months to step back/forward for the big links
                		altField: "", // Selector for an alternate field to store selected dates into
                		altFormat: "", // The date format to use for the alternate field
                		constrainInput: true, // The input is constrained by the current date format
                		showButtonPanel: false, // True to show button panel, false to not show it
                		autoSize: false, // True to size the input for the date format, false to leave as is
                		disabled: false // The initial disabled state
                	};
                	$.extend(this._defaults, this.regional[""]);
                	this.dpDiv = bindHover($("<div id='" + this._mainDivId + "' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"));
                }
                
                $.extend(Datepicker.prototype, {
                	/* Class name added to elements to indicate already configured with a date picker. */
                	markerClassName: "hasDatepicker",
                
                	//Keep track of the maximum number of rows displayed (see #7043)
                	maxRows: 4,
                
                	// TODO rename to "widget" when switching to widget factory
                	_widgetDatepicker: function() {
                		return this.dpDiv;
                	},
                
                	/* Override the default settings for all instances of the date picker.
                	 * @param  settings  object - the new settings to use as defaults (anonymous object)
                	 * @return the manager object
                	 */
                	setDefaults: function(settings) {
                		extendRemove(this._defaults, settings || {});
                		return this;
                	},
                
                	/* Attach the date picker to a jQuery selection.
                	 * @param  target	element - the target input field or division or span
                	 * @param  settings  object - the new settings to use for this date picker instance (anonymous)
                	 */
                	_attachDatepicker: function(target, settings) {
                		var nodeName, inline, inst;
                		nodeName = target.nodeName.toLowerCase();
                		inline = (nodeName === "div" || nodeName === "span");
                		if (!target.id) {
                			this.uuid += 1;
                			target.id = "dp" + this.uuid;
                		}
                		inst = this._newInst($(target), inline);
                		inst.settings = $.extend({}, settings || {});
                		if (nodeName === "input") {
                			this._connectDatepicker(target, inst);
                		} else if (inline) {
                			this._inlineDatepicker(target, inst);
                		}
                	},
                
                	/* Create a new instance object. */
                	_newInst: function(target, inline) {
                		var id = target[0].id.replace(/([^A-Za-z0-9_\-])/g, "\\\\$1"); // escape jQuery meta chars
                		return {id: id, input: target, // associated target
                			selectedDay: 0, selectedMonth: 0, selectedYear: 0, // current selection
                			drawMonth: 0, drawYear: 0, // month being drawn
                			inline: inline, // is datepicker inline or not
                			dpDiv: (!inline ? this.dpDiv : // presentation div
                			bindHover($("<div class='" + this._inlineClass + " ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")))};
                	},
                
                	/* Attach the date picker to an input field. */
                	_connectDatepicker: function(target, inst) {
                		var input = $(target);
                		inst.append = $([]);
                		inst.trigger = $([]);
                		if (input.hasClass(this.markerClassName)) {
                			return;
                		}
                		this._attachments(input, inst);
                		input.addClass(this.markerClassName).keydown(this._doKeyDown).
                			keypress(this._doKeyPress).keyup(this._doKeyUp);
                		this._autoSize(inst);
                		$.data(target, PROP_NAME, inst);
                		//If disabled option is true, disable the datepicker once it has been attached to the input (see ticket #5665)
                		if( inst.settings.disabled ) {
                			this._disableDatepicker( target );
                		}
                	},
                
                	/* Make attachments based on settings. */
                	_attachments: function(input, inst) {
                		var showOn, buttonText, buttonImage,
                			appendText = this._get(inst, "appendText"),
                			isRTL = this._get(inst, "isRTL");
                
                		if (inst.append) {
                			inst.append.remove();
                		}
                		if (appendText) {
                			inst.append = $("<span class='" + this._appendClass + "'>" + appendText + "</span>");
                			input[isRTL ? "before" : "after"](inst.append);
                		}
                
                		input.unbind("focus", this._showDatepicker);
                
                		if (inst.trigger) {
                			inst.trigger.remove();
                		}
                
                		showOn = this._get(inst, "showOn");
                		if (showOn === "focus" || showOn === "both") { // pop-up date picker when in the marked field
                			input.focus(this._showDatepicker);
                		}
                		if (showOn === "button" || showOn === "both") { // pop-up date picker when button clicked
                			buttonText = this._get(inst, "buttonText");
                			buttonImage = this._get(inst, "buttonImage");
                			inst.trigger = $(this._get(inst, "buttonImageOnly") ?
                				$("<img/>").addClass(this._triggerClass).
                					attr({ src: buttonImage, alt: buttonText, title: buttonText }) :
                				$("<button type='button'></button>").addClass(this._triggerClass).
                					html(!buttonImage ? buttonText : $("<img/>").attr(
                					{ src:buttonImage, alt:buttonText, title:buttonText })));
                			input[isRTL ? "before" : "after"](inst.trigger);
                			inst.trigger.click(function() {
                				if ($.datepicker._datepickerShowing && $.datepicker._lastInput === input[0]) {
                					$.datepicker._hideDatepicker();
                				} else if ($.datepicker._datepickerShowing && $.datepicker._lastInput !== input[0]) {
                					$.datepicker._hideDatepicker();
                					$.datepicker._showDatepicker(input[0]);
                				} else {
                					$.datepicker._showDatepicker(input[0]);
                				}
                				return false;
                			});
                		}
                	},
                
                	/* Apply the maximum length for the date format. */
                	_autoSize: function(inst) {
                		if (this._get(inst, "autoSize") && !inst.inline) {
                			var findMax, max, maxI, i,
                				date = new Date(2009, 12 - 1, 20), // Ensure double digits
                				dateFormat = this._get(inst, "dateFormat");
                
                			if (dateFormat.match(/[DM]/)) {
                				findMax = function(names) {
                					max = 0;
                					maxI = 0;
                					for (i = 0; i < names.length; i++) {
                						if (names[i].length > max) {
                							max = names[i].length;
                							maxI = i;
                						}
                					}
                					return maxI;
                				};
                				date.setMonth(findMax(this._get(inst, (dateFormat.match(/MM/) ?
                					"monthNames" : "monthNamesShort"))));
                				date.setDate(findMax(this._get(inst, (dateFormat.match(/DD/) ?
                					"dayNames" : "dayNamesShort"))) + 20 - date.getDay());
                			}
                			inst.input.attr("size", this._formatDate(inst, date).length);
                		}
                	},
                
                	/* Attach an inline date picker to a div. */
                	_inlineDatepicker: function(target, inst) {
                		var divSpan = $(target);
                		if (divSpan.hasClass(this.markerClassName)) {
                			return;
                		}
                		divSpan.addClass(this.markerClassName).append(inst.dpDiv);
                		$.data(target, PROP_NAME, inst);
                		this._setDate(inst, this._getDefaultDate(inst), true);
                		this._updateDatepicker(inst);
                		this._updateAlternate(inst);
                		//If disabled option is true, disable the datepicker before showing it (see ticket #5665)
                		if( inst.settings.disabled ) {
                			this._disableDatepicker( target );
                		}
                		// Set display:block in place of inst.dpDiv.show() which won't work on disconnected elements
                		// http://bugs.jqueryui.com/ticket/7552 - A Datepicker created on a detached div has zero height
                		inst.dpDiv.css( "display", "block" );
                	},
                
                	/* Pop-up the date picker in a "dialog" box.
                	 * @param  input element - ignored
                	 * @param  date	string or Date - the initial date to display
                	 * @param  onSelect  function - the function to call when a date is selected
                	 * @param  settings  object - update the dialog date picker instance's settings (anonymous object)
                	 * @param  pos int[2] - coordinates for the dialog's position within the screen or
                	 *					event - with x/y coordinates or
                	 *					leave empty for default (screen centre)
                	 * @return the manager object
                	 */
                	_dialogDatepicker: function(input, date, onSelect, settings, pos) {
                		var id, browserWidth, browserHeight, scrollX, scrollY,
                			inst = this._dialogInst; // internal instance
                
                		if (!inst) {
                			this.uuid += 1;
                			id = "dp" + this.uuid;
                			this._dialogInput = $("<input type='text' id='" + id +
                				"' style='position: absolute; top: -100px; width: 0px;'/>");
                			this._dialogInput.keydown(this._doKeyDown);
                			$("body").append(this._dialogInput);
                			inst = this._dialogInst = this._newInst(this._dialogInput, false);
                			inst.settings = {};
                			$.data(this._dialogInput[0], PROP_NAME, inst);
                		}
                		extendRemove(inst.settings, settings || {});
                		date = (date && date.constructor === Date ? this._formatDate(inst, date) : date);
                		this._dialogInput.val(date);
                
                		this._pos = (pos ? (pos.length ? pos : [pos.pageX, pos.pageY]) : null);
                		if (!this._pos) {
                			browserWidth = document.documentElement.clientWidth;
                			browserHeight = document.documentElement.clientHeight;
                			scrollX = document.documentElement.scrollLeft || document.body.scrollLeft;
                			scrollY = document.documentElement.scrollTop || document.body.scrollTop;
                			this._pos = // should use actual width/height below
                				[(browserWidth / 2) - 100 + scrollX, (browserHeight / 2) - 150 + scrollY];
                		}
                
                		// move input on screen for focus, but hidden behind dialog
                		this._dialogInput.css("left", (this._pos[0] + 20) + "px").css("top", this._pos[1] + "px");
                		inst.settings.onSelect = onSelect;
                		this._inDialog = true;
                		this.dpDiv.addClass(this._dialogClass);
                		this._showDatepicker(this._dialogInput[0]);
                		if ($.blockUI) {
                			$.blockUI(this.dpDiv);
                		}
                		$.data(this._dialogInput[0], PROP_NAME, inst);
                		return this;
                	},
                
                	/* Detach a datepicker from its control.
                	 * @param  target	element - the target input field or division or span
                	 */
                	_destroyDatepicker: function(target) {
                		var nodeName,
                			$target = $(target),
                			inst = $.data(target, PROP_NAME);
                
                		if (!$target.hasClass(this.markerClassName)) {
                			return;
                		}
                
                		nodeName = target.nodeName.toLowerCase();
                		$.removeData(target, PROP_NAME);
                		if (nodeName === "input") {
                			inst.append.remove();
                			inst.trigger.remove();
                			$target.removeClass(this.markerClassName).
                				unbind("focus", this._showDatepicker).
                				unbind("keydown", this._doKeyDown).
                				unbind("keypress", this._doKeyPress).
                				unbind("keyup", this._doKeyUp);
                		} else if (nodeName === "div" || nodeName === "span") {
                			$target.removeClass(this.markerClassName).empty();
                		}
                	},
                
                	/* Enable the date picker to a jQuery selection.
                	 * @param  target	element - the target input field or division or span
                	 */
                	_enableDatepicker: function(target) {
                		var nodeName, inline,
                			$target = $(target),
                			inst = $.data(target, PROP_NAME);
                
                		if (!$target.hasClass(this.markerClassName)) {
                			return;
                		}
                
                		nodeName = target.nodeName.toLowerCase();
                		if (nodeName === "input") {
                			target.disabled = false;
                			inst.trigger.filter("button").
                				each(function() { this.disabled = false; }).end().
                				filter("img").css({opacity: "1.0", cursor: ""});
                		} else if (nodeName === "div" || nodeName === "span") {
                			inline = $target.children("." + this._inlineClass);
                			inline.children().removeClass("ui-state-disabled");
                			inline.find("select.ui-datepicker-month, select.ui-datepicker-year").
                				prop("disabled", false);
                		}
                		this._disabledInputs = $.map(this._disabledInputs,
                			function(value) { return (value === target ? null : value); }); // delete entry
                	},
                
                	/* Disable the date picker to a jQuery selection.
                	 * @param  target	element - the target input field or division or span
                	 */
                	_disableDatepicker: function(target) {
                		var nodeName, inline,
                			$target = $(target),
                			inst = $.data(target, PROP_NAME);
                
                		if (!$target.hasClass(this.markerClassName)) {
                			return;
                		}
                
                		nodeName = target.nodeName.toLowerCase();
                		if (nodeName === "input") {
                			target.disabled = true;
                			inst.trigger.filter("button").
                				each(function() { this.disabled = true; }).end().
                				filter("img").css({opacity: "0.5", cursor: "default"});
                		} else if (nodeName === "div" || nodeName === "span") {
                			inline = $target.children("." + this._inlineClass);
                			inline.children().addClass("ui-state-disabled");
                			inline.find("select.ui-datepicker-month, select.ui-datepicker-year").
                				prop("disabled", true);
                		}
                		this._disabledInputs = $.map(this._disabledInputs,
                			function(value) { return (value === target ? null : value); }); // delete entry
                		this._disabledInputs[this._disabledInputs.length] = target;
                	},
                
                	/* Is the first field in a jQuery collection disabled as a datepicker?
                	 * @param  target	element - the target input field or division or span
                	 * @return boolean - true if disabled, false if enabled
                	 */
                	_isDisabledDatepicker: function(target) {
                		if (!target) {
                			return false;
                		}
                		for (var i = 0; i < this._disabledInputs.length; i++) {
                			if (this._disabledInputs[i] === target) {
                				return true;
                			}
                		}
                		return false;
                	},
                
                	/* Retrieve the instance data for the target control.
                	 * @param  target  element - the target input field or division or span
                	 * @return  object - the associated instance data
                	 * @throws  error if a jQuery problem getting data
                	 */
                	_getInst: function(target) {
                		try {
                			return $.data(target, PROP_NAME);
                		}
                		catch (err) {
                			throw "Missing instance data for this datepicker";
                		}
                	},
                
                	/* Update or retrieve the settings for a date picker attached to an input field or division.
                	 * @param  target  element - the target input field or division or span
                	 * @param  name	object - the new settings to update or
                	 *				string - the name of the setting to change or retrieve,
                	 *				when retrieving also "all" for all instance settings or
                	 *				"defaults" for all global defaults
                	 * @param  value   any - the new value for the setting
                	 *				(omit if above is an object or to retrieve a value)
                	 */
                	_optionDatepicker: function(target, name, value) {
                		var settings, date, minDate, maxDate,
                			inst = this._getInst(target);
                
                		if (arguments.length === 2 && typeof name === "string") {
                			return (name === "defaults" ? $.extend({}, $.datepicker._defaults) :
                				(inst ? (name === "all" ? $.extend({}, inst.settings) :
                				this._get(inst, name)) : null));
                		}
                
                		settings = name || {};
                		if (typeof name === "string") {
                			settings = {};
                			settings[name] = value;
                		}
                
                		if (inst) {
                			if (this._curInst === inst) {
                				this._hideDatepicker();
                			}
                
                			date = this._getDateDatepicker(target, true);
                			minDate = this._getMinMaxDate(inst, "min");
                			maxDate = this._getMinMaxDate(inst, "max");
                			extendRemove(inst.settings, settings);
                			// reformat the old minDate/maxDate values if dateFormat changes and a new minDate/maxDate isn't provided
                			if (minDate !== null && settings.dateFormat !== undefined && settings.minDate === undefined) {
                				inst.settings.minDate = this._formatDate(inst, minDate);
                			}
                			if (maxDate !== null && settings.dateFormat !== undefined && settings.maxDate === undefined) {
                				inst.settings.maxDate = this._formatDate(inst, maxDate);
                			}
                			if ( "disabled" in settings ) {
                				if ( settings.disabled ) {
                					this._disableDatepicker(target);
                				} else {
                					this._enableDatepicker(target);
                				}
                			}
                			this._attachments($(target), inst);
                			this._autoSize(inst);
                			this._setDate(inst, date);
                			this._updateAlternate(inst);
                			this._updateDatepicker(inst);
                		}
                	},
                
                	// change method deprecated
                	_changeDatepicker: function(target, name, value) {
                		this._optionDatepicker(target, name, value);
                	},
                
                	/* Redraw the date picker attached to an input field or division.
                	 * @param  target  element - the target input field or division or span
                	 */
                	_refreshDatepicker: function(target) {
                		var inst = this._getInst(target);
                		if (inst) {
                			this._updateDatepicker(inst);
                		}
                	},
                
                	/* Set the dates for a jQuery selection.
                	 * @param  target element - the target input field or division or span
                	 * @param  date	Date - the new date
                	 */
                	_setDateDatepicker: function(target, date) {
                		var inst = this._getInst(target);
                		if (inst) {
                			this._setDate(inst, date);
                			this._updateDatepicker(inst);
                			this._updateAlternate(inst);
                		}
                	},
                
                	/* Get the date(s) for the first entry in a jQuery selection.
                	 * @param  target element - the target input field or division or span
                	 * @param  noDefault boolean - true if no default date is to be used
                	 * @return Date - the current date
                	 */
                	_getDateDatepicker: function(target, noDefault) {
                		var inst = this._getInst(target);
                		if (inst && !inst.inline) {
                			this._setDateFromField(inst, noDefault);
                		}
                		return (inst ? this._getDate(inst) : null);
                	},
                
                	/* Handle keystrokes. */
                	_doKeyDown: function(event) {
                		var onSelect, dateStr, sel,
                			inst = $.datepicker._getInst(event.target),
                			handled = true,
                			isRTL = inst.dpDiv.is(".ui-datepicker-rtl");
                
                		inst._keyEvent = true;
                		if ($.datepicker._datepickerShowing) {
                			switch (event.keyCode) {
                				case 9: $.datepicker._hideDatepicker();
                						handled = false;
                						break; // hide on tab out
                				case 13: sel = $("td." + $.datepicker._dayOverClass + ":not(." +
                									$.datepicker._currentClass + ")", inst.dpDiv);
                						if (sel[0]) {
                							$.datepicker._selectDay(event.target, inst.selectedMonth, inst.selectedYear, sel[0]);
                						}
                
                						onSelect = $.datepicker._get(inst, "onSelect");
                						if (onSelect) {
                							dateStr = $.datepicker._formatDate(inst);
                
                							// trigger custom callback
                							onSelect.apply((inst.input ? inst.input[0] : null), [dateStr, inst]);
                						} else {
                							$.datepicker._hideDatepicker();
                						}
                
                						return false; // don't submit the form
                				case 27: $.datepicker._hideDatepicker();
                						break; // hide on escape
                				case 33: $.datepicker._adjustDate(event.target, (event.ctrlKey ?
                							-$.datepicker._get(inst, "stepBigMonths") :
                							-$.datepicker._get(inst, "stepMonths")), "M");
                						break; // previous month/year on page up/+ ctrl
                				case 34: $.datepicker._adjustDate(event.target, (event.ctrlKey ?
                							+$.datepicker._get(inst, "stepBigMonths") :
                							+$.datepicker._get(inst, "stepMonths")), "M");
                						break; // next month/year on page down/+ ctrl
                				case 35: if (event.ctrlKey || event.metaKey) {
                							$.datepicker._clearDate(event.target);
                						}
                						handled = event.ctrlKey || event.metaKey;
                						break; // clear on ctrl or command +end
                				case 36: if (event.ctrlKey || event.metaKey) {
                							$.datepicker._gotoToday(event.target);
                						}
                						handled = event.ctrlKey || event.metaKey;
                						break; // current on ctrl or command +home
                				case 37: if (event.ctrlKey || event.metaKey) {
                							$.datepicker._adjustDate(event.target, (isRTL ? +1 : -1), "D");
                						}
                						handled = event.ctrlKey || event.metaKey;
                						// -1 day on ctrl or command +left
                						if (event.originalEvent.altKey) {
                							$.datepicker._adjustDate(event.target, (event.ctrlKey ?
                								-$.datepicker._get(inst, "stepBigMonths") :
                								-$.datepicker._get(inst, "stepMonths")), "M");
                						}
                						// next month/year on alt +left on Mac
                						break;
                				case 38: if (event.ctrlKey || event.metaKey) {
                							$.datepicker._adjustDate(event.target, -7, "D");
                						}
                						handled = event.ctrlKey || event.metaKey;
                						break; // -1 week on ctrl or command +up
                				case 39: if (event.ctrlKey || event.metaKey) {
                							$.datepicker._adjustDate(event.target, (isRTL ? -1 : +1), "D");
                						}
                						handled = event.ctrlKey || event.metaKey;
                						// +1 day on ctrl or command +right
                						if (event.originalEvent.altKey) {
                							$.datepicker._adjustDate(event.target, (event.ctrlKey ?
                								+$.datepicker._get(inst, "stepBigMonths") :
                								+$.datepicker._get(inst, "stepMonths")), "M");
                						}
                						// next month/year on alt +right
                						break;
                				case 40: if (event.ctrlKey || event.metaKey) {
                							$.datepicker._adjustDate(event.target, +7, "D");
                						}
                						handled = event.ctrlKey || event.metaKey;
                						break; // +1 week on ctrl or command +down
                				default: handled = false;
                			}
                		} else if (event.keyCode === 36 && event.ctrlKey) { // display the date picker on ctrl+home
                			$.datepicker._showDatepicker(this);
                		} else {
                			handled = false;
                		}
                
                		if (handled) {
                			event.preventDefault();
                			event.stopPropagation();
                		}
                	},
                
                	/* Filter entered characters - based on date format. */
                	_doKeyPress: function(event) {
                		var chars, chr,
                			inst = $.datepicker._getInst(event.target);
                
                		if ($.datepicker._get(inst, "constrainInput")) {
                			chars = $.datepicker._possibleChars($.datepicker._get(inst, "dateFormat"));
                			chr = String.fromCharCode(event.charCode == null ? event.keyCode : event.charCode);
                			return event.ctrlKey || event.metaKey || (chr < " " || !chars || chars.indexOf(chr) > -1);
                		}
                	},
                
                	/* Synchronise manual entry and field/alternate field. */
                	_doKeyUp: function(event) {
                		var date,
                			inst = $.datepicker._getInst(event.target);
                
                		if (inst.input.val() !== inst.lastVal) {
                			try {
                				date = $.datepicker.parseDate($.datepicker._get(inst, "dateFormat"),
                					(inst.input ? inst.input.val() : null),
                					$.datepicker._getFormatConfig(inst));
                
                				if (date) { // only if valid
                					$.datepicker._setDateFromField(inst);
                					$.datepicker._updateAlternate(inst);
                					$.datepicker._updateDatepicker(inst);
                				}
                			}
                			catch (err) {
                			}
                		}
                		return true;
                	},
                
                	/* Pop-up the date picker for a given input field.
                	 * If false returned from beforeShow event handler do not show.
                	 * @param  input  element - the input field attached to the date picker or
                	 *					event - if triggered by focus
                	 */
                	_showDatepicker: function(input) {
                		input = input.target || input;
                		if (input.nodeName.toLowerCase() !== "input") { // find from button/image trigger
                			input = $("input", input.parentNode)[0];
                		}
                
                		if ($.datepicker._isDisabledDatepicker(input) || $.datepicker._lastInput === input) { // already here
                			return;
                		}
                
                		var inst, beforeShow, beforeShowSettings, isFixed,
                			offset, showAnim, duration;
                
                		inst = $.datepicker._getInst(input);
                		if ($.datepicker._curInst && $.datepicker._curInst !== inst) {
                			$.datepicker._curInst.dpDiv.stop(true, true);
                			if ( inst && $.datepicker._datepickerShowing ) {
                				$.datepicker._hideDatepicker( $.datepicker._curInst.input[0] );
                			}
                		}
                
                		beforeShow = $.datepicker._get(inst, "beforeShow");
                		beforeShowSettings = beforeShow ? beforeShow.apply(input, [input, inst]) : {};
                		if(beforeShowSettings === false){
                			return;
                		}
                		extendRemove(inst.settings, beforeShowSettings);
                
                		inst.lastVal = null;
                		$.datepicker._lastInput = input;
                		$.datepicker._setDateFromField(inst);
                
                		if ($.datepicker._inDialog) { // hide cursor
                			input.value = "";
                		}
                		if (!$.datepicker._pos) { // position below input
                			$.datepicker._pos = $.datepicker._findPos(input);
                			$.datepicker._pos[1] += input.offsetHeight; // add the height
                		}
                
                		isFixed = false;
                		$(input).parents().each(function() {
                			isFixed |= $(this).css("position") === "fixed";
                			return !isFixed;
                		});
                
                		offset = {left: $.datepicker._pos[0], top: $.datepicker._pos[1]};
                		$.datepicker._pos = null;
                		//to avoid flashes on Firefox
                		inst.dpDiv.empty();
                		// determine sizing offscreen
                		inst.dpDiv.css({position: "absolute", display: "block", top: "-1000px"});
                		$.datepicker._updateDatepicker(inst);
                		// fix width for dynamic number of date pickers
                		// and adjust position before showing
                		offset = $.datepicker._checkOffset(inst, offset, isFixed);
                		inst.dpDiv.css({position: ($.datepicker._inDialog && $.blockUI ?
                			"static" : (isFixed ? "fixed" : "absolute")), display: "none",
                			left: offset.left + "px", top: offset.top + "px"});
                
                		if (!inst.inline) {
                			showAnim = $.datepicker._get(inst, "showAnim");
                			duration = $.datepicker._get(inst, "duration");
                			inst.dpDiv.zIndex($(input).zIndex()+1);
                			$.datepicker._datepickerShowing = true;
                
                			if ( $.effects && $.effects.effect[ showAnim ] ) {
                				inst.dpDiv.show(showAnim, $.datepicker._get(inst, "showOptions"), duration);
                			} else {
                				inst.dpDiv[showAnim || "show"](showAnim ? duration : null);
                			}
                
                			if (inst.input.is(":visible") && !inst.input.is(":disabled")) {
                				inst.input.focus();
                			}
                			$.datepicker._curInst = inst;
                		}
                	},
                
                	/* Generate the date picker content. */
                	_updateDatepicker: function(inst) {
                		this.maxRows = 4; //Reset the max number of rows being displayed (see #7043)
                		instActive = inst; // for delegate hover events
                		inst.dpDiv.empty().append(this._generateHTML(inst));
                		this._attachHandlers(inst);
                		inst.dpDiv.find("." + this._dayOverClass + " a").mouseover();
                
                		var origyearshtml,
                			numMonths = this._getNumberOfMonths(inst),
                			cols = numMonths[1],
                			width = 17;
                
                		inst.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width("");
                		if (cols > 1) {
                			inst.dpDiv.addClass("ui-datepicker-multi-" + cols).css("width", (width * cols) + "em");
                		}
                		inst.dpDiv[(numMonths[0] !== 1 || numMonths[1] !== 1 ? "add" : "remove") +
                			"Class"]("ui-datepicker-multi");
                		inst.dpDiv[(this._get(inst, "isRTL") ? "add" : "remove") +
                			"Class"]("ui-datepicker-rtl");
                
                		// #6694 - don't focus the input if it's already focused
                		// this breaks the change event in IE
                		if (inst === $.datepicker._curInst && $.datepicker._datepickerShowing && inst.input &&
                			inst.input.is(":visible") && !inst.input.is(":disabled") && inst.input[0] !== document.activeElement) {
                			inst.input.focus();
                		}
                
                		// deffered render of the years select (to avoid flashes on Firefox)
                		if( inst.yearshtml ){
                			origyearshtml = inst.yearshtml;
                			setTimeout(function(){
                				//assure that inst.yearshtml didn't change.
                				if( origyearshtml === inst.yearshtml && inst.yearshtml ){
                					inst.dpDiv.find("select.ui-datepicker-year:first").replaceWith(inst.yearshtml);
                				}
                				origyearshtml = inst.yearshtml = null;
                			}, 0);
                		}
                	},
                
                	/* Retrieve the size of left and top borders for an element.
                	 * @param  elem  (jQuery object) the element of interest
                	 * @return  (number[2]) the left and top borders
                	 */
                	_getBorders: function(elem) {
                		var convert = function(value) {
                			return {thin: 1, medium: 2, thick: 3}[value] || value;
                		};
                		return [parseFloat(convert(elem.css("border-left-width"))),
                			parseFloat(convert(elem.css("border-top-width")))];
                	},
                
                	/* Check positioning to remain on screen. */
                	_checkOffset: function(inst, offset, isFixed) {
                		var dpWidth = inst.dpDiv.outerWidth(),
                			dpHeight = inst.dpDiv.outerHeight(),
                			inputWidth = inst.input ? inst.input.outerWidth() : 0,
                			inputHeight = inst.input ? inst.input.outerHeight() : 0,
                			viewWidth = document.documentElement.clientWidth + (isFixed ? 0 : $(document).scrollLeft()),
                			viewHeight = document.documentElement.clientHeight + (isFixed ? 0 : $(document).scrollTop());
                
                		offset.left -= (this._get(inst, "isRTL") ? (dpWidth - inputWidth) : 0);
                		offset.left -= (isFixed && offset.left === inst.input.offset().left) ? $(document).scrollLeft() : 0;
                		offset.top -= (isFixed && offset.top === (inst.input.offset().top + inputHeight)) ? $(document).scrollTop() : 0;
                
                		// now check if datepicker is showing outside window viewport - move to a better place if so.
                		offset.left -= Math.min(offset.left, (offset.left + dpWidth > viewWidth && viewWidth > dpWidth) ?
                			Math.abs(offset.left + dpWidth - viewWidth) : 0);
                		offset.top -= Math.min(offset.top, (offset.top + dpHeight > viewHeight && viewHeight > dpHeight) ?
                			Math.abs(dpHeight + inputHeight) : 0);
                
                		return offset;
                	},
                
                	/* Find an object's position on the screen. */
                	_findPos: function(obj) {
                		var position,
                			inst = this._getInst(obj),
                			isRTL = this._get(inst, "isRTL");
                
                		while (obj && (obj.type === "hidden" || obj.nodeType !== 1 || $.expr.filters.hidden(obj))) {
                			obj = obj[isRTL ? "previousSibling" : "nextSibling"];
                		}
                
                		position = $(obj).offset();
                		return [position.left, position.top];
                	},
                
                	/* Hide the date picker from view.
                	 * @param  input  element - the input field attached to the date picker
                	 */
                	_hideDatepicker: function(input) {
                		var showAnim, duration, postProcess, onClose,
                			inst = this._curInst;
                
                		if (!inst || (input && inst !== $.data(input, PROP_NAME))) {
                			return;
                		}
                
                		if (this._datepickerShowing) {
                			showAnim = this._get(inst, "showAnim");
                			duration = this._get(inst, "duration");
                			postProcess = function() {
                				$.datepicker._tidyDialog(inst);
                			};
                
                			// DEPRECATED: after BC for 1.8.x $.effects[ showAnim ] is not needed
                			if ( $.effects && ( $.effects.effect[ showAnim ] || $.effects[ showAnim ] ) ) {
                				inst.dpDiv.hide(showAnim, $.datepicker._get(inst, "showOptions"), duration, postProcess);
                			} else {
                				inst.dpDiv[(showAnim === "slideDown" ? "slideUp" :
                					(showAnim === "fadeIn" ? "fadeOut" : "hide"))]((showAnim ? duration : null), postProcess);
                			}
                
                			if (!showAnim) {
                				postProcess();
                			}
                			this._datepickerShowing = false;
                
                			onClose = this._get(inst, "onClose");
                			if (onClose) {
                				onClose.apply((inst.input ? inst.input[0] : null), [(inst.input ? inst.input.val() : ""), inst]);
                			}
                
                			this._lastInput = null;
                			if (this._inDialog) {
                				this._dialogInput.css({ position: "absolute", left: "0", top: "-100px" });
                				if ($.blockUI) {
                					$.unblockUI();
                					$("body").append(this.dpDiv);
                				}
                			}
                			this._inDialog = false;
                		}
                	},
                
                	/* Tidy up after a dialog display. */
                	_tidyDialog: function(inst) {
                		inst.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar");
                	},
                
                	/* Close date picker if clicked elsewhere. */
                	_checkExternalClick: function(event) {
                		if (!$.datepicker._curInst) {
                			return;
                		}
                
                		var $target = $(event.target),
                			inst = $.datepicker._getInst($target[0]);
                
                		if ( ( ( $target[0].id !== $.datepicker._mainDivId &&
                				$target.parents("#" + $.datepicker._mainDivId).length === 0 &&
                				!$target.hasClass($.datepicker.markerClassName) &&
                				!$target.closest("." + $.datepicker._triggerClass).length &&
                				$.datepicker._datepickerShowing && !($.datepicker._inDialog && $.blockUI) ) ) ||
                			( $target.hasClass($.datepicker.markerClassName) && $.datepicker._curInst !== inst ) ) {
                				$.datepicker._hideDatepicker();
                		}
                	},
                
                	/* Adjust one of the date sub-fields. */
                	_adjustDate: function(id, offset, period) {
                		var target = $(id),
                			inst = this._getInst(target[0]);
                
                		if (this._isDisabledDatepicker(target[0])) {
                			return;
                		}
                		this._adjustInstDate(inst, offset +
                			(period === "M" ? this._get(inst, "showCurrentAtPos") : 0), // undo positioning
                			period);
                		this._updateDatepicker(inst);
                	},
                
                	/* Action for current link. */
                	_gotoToday: function(id) {
                		var date,
                			target = $(id),
                			inst = this._getInst(target[0]);
                
                		if (this._get(inst, "gotoCurrent") && inst.currentDay) {
                			inst.selectedDay = inst.currentDay;
                			inst.drawMonth = inst.selectedMonth = inst.currentMonth;
                			inst.drawYear = inst.selectedYear = inst.currentYear;
                		} else {
                			date = new Date();
                			inst.selectedDay = date.getDate();
                			inst.drawMonth = inst.selectedMonth = date.getMonth();
                			inst.drawYear = inst.selectedYear = date.getFullYear();
                		}
                		this._notifyChange(inst);
                		this._adjustDate(target);
                	},
                
                	/* Action for selecting a new month/year. */
                	_selectMonthYear: function(id, select, period) {
                		var target = $(id),
                			inst = this._getInst(target[0]);
                
                		inst["selected" + (period === "M" ? "Month" : "Year")] =
                		inst["draw" + (period === "M" ? "Month" : "Year")] =
                			parseInt(select.options[select.selectedIndex].value,10);
                
                		this._notifyChange(inst);
                		this._adjustDate(target);
                	},
                
                	/* Action for selecting a day. */
                	_selectDay: function(id, month, year, td) {
                		var inst,
                			target = $(id);
                
                		if ($(td).hasClass(this._unselectableClass) || this._isDisabledDatepicker(target[0])) {
                			return;
                		}
                
                		inst = this._getInst(target[0]);
                		inst.selectedDay = inst.currentDay = $("a", td).html();
                		inst.selectedMonth = inst.currentMonth = month;
                		inst.selectedYear = inst.currentYear = year;
                		this._selectDate(id, this._formatDate(inst,
                			inst.currentDay, inst.currentMonth, inst.currentYear));
                	},
                
                	/* Erase the input field and hide the date picker. */
                	_clearDate: function(id) {
                		var target = $(id);
                		this._selectDate(target, "");
                	},
                
                	/* Update the input field with the selected date. */
                	_selectDate: function(id, dateStr) {
                		var onSelect,
                			target = $(id),
                			inst = this._getInst(target[0]);
                
                		dateStr = (dateStr != null ? dateStr : this._formatDate(inst));
                		if (inst.input) {
                			inst.input.val(dateStr);
                		}
                		this._updateAlternate(inst);
                
                		onSelect = this._get(inst, "onSelect");
                		if (onSelect) {
                			onSelect.apply((inst.input ? inst.input[0] : null), [dateStr, inst]);  // trigger custom callback
                		} else if (inst.input) {
                			inst.input.trigger("change"); // fire the change event
                		}
                
                		if (inst.inline){
                			this._updateDatepicker(inst);
                		} else {
                			this._hideDatepicker();
                			this._lastInput = inst.input[0];
                			if (typeof(inst.input[0]) !== "object") {
                				inst.input.focus(); // restore focus
                			}
                			this._lastInput = null;
                		}
                	},
                
                	/* Update any alternate field to synchronise with the main field. */
                	_updateAlternate: function(inst) {
                		var altFormat, date, dateStr,
                			altField = this._get(inst, "altField");
                
                		if (altField) { // update alternate field too
                			altFormat = this._get(inst, "altFormat") || this._get(inst, "dateFormat");
                			date = this._getDate(inst);
                			dateStr = this.formatDate(altFormat, date, this._getFormatConfig(inst));
                			$(altField).each(function() { $(this).val(dateStr); });
                		}
                	},
                
                	/* Set as beforeShowDay function to prevent selection of weekends.
                	 * @param  date  Date - the date to customise
                	 * @return [boolean, string] - is this date selectable?, what is its CSS class?
                	 */
                	noWeekends: function(date) {
                		var day = date.getDay();
                		return [(day > 0 && day < 6), ""];
                	},
                
                	/* Set as calculateWeek to determine the week of the year based on the ISO 8601 definition.
                	 * @param  date  Date - the date to get the week for
                	 * @return  number - the number of the week within the year that contains this date
                	 */
                	iso8601Week: function(date) {
                		var time,
                			checkDate = new Date(date.getTime());
                
                		// Find Thursday of this week starting on Monday
                		checkDate.setDate(checkDate.getDate() + 4 - (checkDate.getDay() || 7));
                
                		time = checkDate.getTime();
                		checkDate.setMonth(0); // Compare with Jan 1
                		checkDate.setDate(1);
                		return Math.floor(Math.round((time - checkDate) / 86400000) / 7) + 1;
                	},
                
                	/* Parse a string value into a date object.
                	 * See formatDate below for the possible formats.
                	 *
                	 * @param  format string - the expected format of the date
                	 * @param  value string - the date in the above format
                	 * @param  settings Object - attributes include:
                	 *					shortYearCutoff  number - the cutoff year for determining the century (optional)
                	 *					dayNamesShort	string[7] - abbreviated names of the days from Sunday (optional)
                	 *					dayNames		string[7] - names of the days from Sunday (optional)
                	 *					monthNamesShort string[12] - abbreviated names of the months (optional)
                	 *					monthNames		string[12] - names of the months (optional)
                	 * @return  Date - the extracted date value or null if value is blank
                	 */
                	parseDate: function (format, value, settings) {
                		if (format == null || value == null) {
                			throw "Invalid arguments";
                		}
                
                		value = (typeof value === "object" ? value.toString() : value + "");
                		if (value === "") {
                			return null;
                		}
                
                		var iFormat, dim, extra,
                			iValue = 0,
                			shortYearCutoffTemp = (settings ? settings.shortYearCutoff : null) || this._defaults.shortYearCutoff,
                			shortYearCutoff = (typeof shortYearCutoffTemp !== "string" ? shortYearCutoffTemp :
                				new Date().getFullYear() % 100 + parseInt(shortYearCutoffTemp, 10)),
                			dayNamesShort = (settings ? settings.dayNamesShort : null) || this._defaults.dayNamesShort,
                			dayNames = (settings ? settings.dayNames : null) || this._defaults.dayNames,
                			monthNamesShort = (settings ? settings.monthNamesShort : null) || this._defaults.monthNamesShort,
                			monthNames = (settings ? settings.monthNames : null) || this._defaults.monthNames,
                			year = -1,
                			month = -1,
                			day = -1,
                			doy = -1,
                			literal = false,
                			date,
                			// Check whether a format character is doubled
                			lookAhead = function(match) {
                				var matches = (iFormat + 1 < format.length && format.charAt(iFormat + 1) === match);
                				if (matches) {
                					iFormat++;
                				}
                				return matches;
                			},
                			// Extract a number from the string value
                			getNumber = function(match) {
                				var isDoubled = lookAhead(match),
                					size = (match === "@" ? 14 : (match === "!" ? 20 :
                					(match === "y" && isDoubled ? 4 : (match === "o" ? 3 : 2)))),
                					digits = new RegExp("^\\d{1," + size + "}"),
                					num = value.substring(iValue).match(digits);
                				if (!num) {
                					throw "Missing number at position " + iValue;
                				}
                				iValue += num[0].length;
                				return parseInt(num[0], 10);
                			},
                			// Extract a name from the string value and convert to an index
                			getName = function(match, shortNames, longNames) {
                				var index = -1,
                					names = $.map(lookAhead(match) ? longNames : shortNames, function (v, k) {
                						return [ [k, v] ];
                					}).sort(function (a, b) {
                						return -(a[1].length - b[1].length);
                					});
                
                				$.each(names, function (i, pair) {
                					var name = pair[1];
                					if (value.substr(iValue, name.length).toLowerCase() === name.toLowerCase()) {
                						index = pair[0];
                						iValue += name.length;
                						return false;
                					}
                				});
                				if (index !== -1) {
                					return index + 1;
                				} else {
                					throw "Unknown name at position " + iValue;
                				}
                			},
                			// Confirm that a literal character matches the string value
                			checkLiteral = function() {
                				if (value.charAt(iValue) !== format.charAt(iFormat)) {
                					throw "Unexpected literal at position " + iValue;
                				}
                				iValue++;
                			};
                
                		for (iFormat = 0; iFormat < format.length; iFormat++) {
                			if (literal) {
                				if (format.charAt(iFormat) === "'" && !lookAhead("'")) {
                					literal = false;
                				} else {
                					checkLiteral();
                				}
                			} else {
                				switch (format.charAt(iFormat)) {
                					case "d":
                						day = getNumber("d");
                						break;
                					case "D":
                						getName("D", dayNamesShort, dayNames);
                						break;
                					case "o":
                						doy = getNumber("o");
                						break;
                					case "m":
                						month = getNumber("m");
                						break;
                					case "M":
                						month = getName("M", monthNamesShort, monthNames);
                						break;
                					case "y":
                						year = getNumber("y");
                						break;
                					case "@":
                						date = new Date(getNumber("@"));
                						year = date.getFullYear();
                						month = date.getMonth() + 1;
                						day = date.getDate();
                						break;
                					case "!":
                						date = new Date((getNumber("!") - this._ticksTo1970) / 10000);
                						year = date.getFullYear();
                						month = date.getMonth() + 1;
                						day = date.getDate();
                						break;
                					case "'":
                						if (lookAhead("'")){
                							checkLiteral();
                						} else {
                							literal = true;
                						}
                						break;
                					default:
                						checkLiteral();
                				}
                			}
                		}
                
                		if (iValue < value.length){
                			extra = value.substr(iValue);
                			if (!/^\s+/.test(extra)) {
                				throw "Extra/unparsed characters found in date: " + extra;
                			}
                		}
                
                		if (year === -1) {
                			year = new Date().getFullYear();
                		} else if (year < 100) {
                			year += new Date().getFullYear() - new Date().getFullYear() % 100 +
                				(year <= shortYearCutoff ? 0 : -100);
                		}
                
                		if (doy > -1) {
                			month = 1;
                			day = doy;
                			do {
                				dim = this._getDaysInMonth(year, month - 1);
                				if (day <= dim) {
                					break;
                				}
                				month++;
                				day -= dim;
                			} while (true);
                		}
                
                		date = this._daylightSavingAdjust(new Date(year, month - 1, day));
                		if (date.getFullYear() !== year || date.getMonth() + 1 !== month || date.getDate() !== day) {
                			throw "Invalid date"; // E.g. 31/02/00
                		}
                		return date;
                	},
                
                	/* Standard date formats. */
                	ATOM: "yy-mm-dd", // RFC 3339 (ISO 8601)
                	COOKIE: "D, dd M yy",
                	ISO_8601: "yy-mm-dd",
                	RFC_822: "D, d M y",
                	RFC_850: "DD, dd-M-y",
                	RFC_1036: "D, d M y",
                	RFC_1123: "D, d M yy",
                	RFC_2822: "D, d M yy",
                	RSS: "D, d M y", // RFC 822
                	TICKS: "!",
                	TIMESTAMP: "@",
                	W3C: "yy-mm-dd", // ISO 8601
                
                	_ticksTo1970: (((1970 - 1) * 365 + Math.floor(1970 / 4) - Math.floor(1970 / 100) +
                		Math.floor(1970 / 400)) * 24 * 60 * 60 * 10000000),
                
                	/* Format a date object into a string value.
                	 * The format can be combinations of the following:
                	 * d  - day of month (no leading zero)
                	 * dd - day of month (two digit)
                	 * o  - day of year (no leading zeros)
                	 * oo - day of year (three digit)
                	 * D  - day name short
                	 * DD - day name long
                	 * m  - month of year (no leading zero)
                	 * mm - month of year (two digit)
                	 * M  - month name short
                	 * MM - month name long
                	 * y  - year (two digit)
                	 * yy - year (four digit)
                	 * @ - Unix timestamp (ms since 01/01/1970)
                	 * ! - Windows ticks (100ns since 01/01/0001)
                	 * "..." - literal text
                	 * '' - single quote
                	 *
                	 * @param  format string - the desired format of the date
                	 * @param  date Date - the date value to format
                	 * @param  settings Object - attributes include:
                	 *					dayNamesShort	string[7] - abbreviated names of the days from Sunday (optional)
                	 *					dayNames		string[7] - names of the days from Sunday (optional)
                	 *					monthNamesShort string[12] - abbreviated names of the months (optional)
                	 *					monthNames		string[12] - names of the months (optional)
                	 * @return  string - the date in the above format
                	 */
                	formatDate: function (format, date, settings) {
                		if (!date) {
                			return "";
                		}
                
                		var iFormat,
                			dayNamesShort = (settings ? settings.dayNamesShort : null) || this._defaults.dayNamesShort,
                			dayNames = (settings ? settings.dayNames : null) || this._defaults.dayNames,
                			monthNamesShort = (settings ? settings.monthNamesShort : null) || this._defaults.monthNamesShort,
                			monthNames = (settings ? settings.monthNames : null) || this._defaults.monthNames,
                			// Check whether a format character is doubled
                			lookAhead = function(match) {
                				var matches = (iFormat + 1 < format.length && format.charAt(iFormat + 1) === match);
                				if (matches) {
                					iFormat++;
                				}
                				return matches;
                			},
                			// Format a number, with leading zero if necessary
                			formatNumber = function(match, value, len) {
                				var num = "" + value;
                				if (lookAhead(match)) {
                					while (num.length < len) {
                						num = "0" + num;
                					}
                				}
                				return num;
                			},
                			// Format a name, short or long as requested
                			formatName = function(match, value, shortNames, longNames) {
                				return (lookAhead(match) ? longNames[value] : shortNames[value]);
                			},
                			output = "",
                			literal = false;
                
                		if (date) {
                			for (iFormat = 0; iFormat < format.length; iFormat++) {
                				if (literal) {
                					if (format.charAt(iFormat) === "'" && !lookAhead("'")) {
                						literal = false;
                					} else {
                						output += format.charAt(iFormat);
                					}
                				} else {
                					switch (format.charAt(iFormat)) {
                						case "d":
                							output += formatNumber("d", date.getDate(), 2);
                							break;
                						case "D":
                							output += formatName("D", date.getDay(), dayNamesShort, dayNames);
                							break;
                						case "o":
                							output += formatNumber("o",
                								Math.round((new Date(date.getFullYear(), date.getMonth(), date.getDate()).getTime() - new Date(date.getFullYear(), 0, 0).getTime()) / 86400000), 3);
                							break;
                						case "m":
                							output += formatNumber("m", date.getMonth() + 1, 2);
                							break;
                						case "M":
                							output += formatName("M", date.getMonth(), monthNamesShort, monthNames);
                							break;
                						case "y":
                							output += (lookAhead("y") ? date.getFullYear() :
                								(date.getYear() % 100 < 10 ? "0" : "") + date.getYear() % 100);
                							break;
                						case "@":
                							output += date.getTime();
                							break;
                						case "!":
                							output += date.getTime() * 10000 + this._ticksTo1970;
                							break;
                						case "'":
                							if (lookAhead("'")) {
                								output += "'";
                							} else {
                								literal = true;
                							}
                							break;
                						default:
                							output += format.charAt(iFormat);
                					}
                				}
                			}
                		}
                		return output;
                	},
                
                	/* Extract all possible characters from the date format. */
                	_possibleChars: function (format) {
                		var iFormat,
                			chars = "",
                			literal = false,
                			// Check whether a format character is doubled
                			lookAhead = function(match) {
                				var matches = (iFormat + 1 < format.length && format.charAt(iFormat + 1) === match);
                				if (matches) {
                					iFormat++;
                				}
                				return matches;
                			};
                
                		for (iFormat = 0; iFormat < format.length; iFormat++) {
                			if (literal) {
                				if (format.charAt(iFormat) === "'" && !lookAhead("'")) {
                					literal = false;
                				} else {
                					chars += format.charAt(iFormat);
                				}
                			} else {
                				switch (format.charAt(iFormat)) {
                					case "d": case "m": case "y": case "@":
                						chars += "0123456789";
                						break;
                					case "D": case "M":
                						return null; // Accept anything
                					case "'":
                						if (lookAhead("'")) {
                							chars += "'";
                						} else {
                							literal = true;
                						}
                						break;
                					default:
                						chars += format.charAt(iFormat);
                				}
                			}
                		}
                		return chars;
                	},
                
                	/* Get a setting value, defaulting if necessary. */
                	_get: function(inst, name) {
                		return inst.settings[name] !== undefined ?
                			inst.settings[name] : this._defaults[name];
                	},
                
                	/* Parse existing date and initialise date picker. */
                	_setDateFromField: function(inst, noDefault) {
                		if (inst.input.val() === inst.lastVal) {
                			return;
                		}
                
                		var dateFormat = this._get(inst, "dateFormat"),
                			dates = inst.lastVal = inst.input ? inst.input.val() : null,
                			defaultDate = this._getDefaultDate(inst),
                			date = defaultDate,
                			settings = this._getFormatConfig(inst);
                
                		try {
                			date = this.parseDate(dateFormat, dates, settings) || defaultDate;
                		} catch (event) {
                			dates = (noDefault ? "" : dates);
                		}
                		inst.selectedDay = date.getDate();
                		inst.drawMonth = inst.selectedMonth = date.getMonth();
                		inst.drawYear = inst.selectedYear = date.getFullYear();
                		inst.currentDay = (dates ? date.getDate() : 0);
                		inst.currentMonth = (dates ? date.getMonth() : 0);
                		inst.currentYear = (dates ? date.getFullYear() : 0);
                		this._adjustInstDate(inst);
                	},
                
                	/* Retrieve the default date shown on opening. */
                	_getDefaultDate: function(inst) {
                		return this._restrictMinMax(inst,
                			this._determineDate(inst, this._get(inst, "defaultDate"), new Date()));
                	},
                
                	/* A date may be specified as an exact value or a relative one. */
                	_determineDate: function(inst, date, defaultDate) {
                		var offsetNumeric = function(offset) {
                				var date = new Date();
                				date.setDate(date.getDate() + offset);
                				return date;
                			},
                			offsetString = function(offset) {
                				try {
                					return $.datepicker.parseDate($.datepicker._get(inst, "dateFormat"),
                						offset, $.datepicker._getFormatConfig(inst));
                				}
                				catch (e) {
                					// Ignore
                				}
                
                				var date = (offset.toLowerCase().match(/^c/) ?
                					$.datepicker._getDate(inst) : null) || new Date(),
                					year = date.getFullYear(),
                					month = date.getMonth(),
                					day = date.getDate(),
                					pattern = /([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,
                					matches = pattern.exec(offset);
                
                				while (matches) {
                					switch (matches[2] || "d") {
                						case "d" : case "D" :
                							day += parseInt(matches[1],10); break;
                						case "w" : case "W" :
                							day += parseInt(matches[1],10) * 7; break;
                						case "m" : case "M" :
                							month += parseInt(matches[1],10);
                							day = Math.min(day, $.datepicker._getDaysInMonth(year, month));
                							break;
                						case "y": case "Y" :
                							year += parseInt(matches[1],10);
                							day = Math.min(day, $.datepicker._getDaysInMonth(year, month));
                							break;
                					}
                					matches = pattern.exec(offset);
                				}
                				return new Date(year, month, day);
                			},
                			newDate = (date == null || date === "" ? defaultDate : (typeof date === "string" ? offsetString(date) :
                				(typeof date === "number" ? (isNaN(date) ? defaultDate : offsetNumeric(date)) : new Date(date.getTime()))));
                
                		newDate = (newDate && newDate.toString() === "Invalid Date" ? defaultDate : newDate);
                		if (newDate) {
                			newDate.setHours(0);
                			newDate.setMinutes(0);
                			newDate.setSeconds(0);
                			newDate.setMilliseconds(0);
                		}
                		return this._daylightSavingAdjust(newDate);
                	},
                
                	/* Handle switch to/from daylight saving.
                	 * Hours may be non-zero on daylight saving cut-over:
                	 * > 12 when midnight changeover, but then cannot generate
                	 * midnight datetime, so jump to 1AM, otherwise reset.
                	 * @param  date  (Date) the date to check
                	 * @return  (Date) the corrected date
                	 */
                	_daylightSavingAdjust: function(date) {
                		if (!date) {
                			return null;
                		}
                		date.setHours(date.getHours() > 12 ? date.getHours() + 2 : 0);
                		return date;
                	},
                
                	/* Set the date(s) directly. */
                	_setDate: function(inst, date, noChange) {
                		var clear = !date,
                			origMonth = inst.selectedMonth,
                			origYear = inst.selectedYear,
                			newDate = this._restrictMinMax(inst, this._determineDate(inst, date, new Date()));
                
                		inst.selectedDay = inst.currentDay = newDate.getDate();
                		inst.drawMonth = inst.selectedMonth = inst.currentMonth = newDate.getMonth();
                		inst.drawYear = inst.selectedYear = inst.currentYear = newDate.getFullYear();
                		if ((origMonth !== inst.selectedMonth || origYear !== inst.selectedYear) && !noChange) {
                			this._notifyChange(inst);
                		}
                		this._adjustInstDate(inst);
                		if (inst.input) {
                			inst.input.val(clear ? "" : this._formatDate(inst));
                		}
                	},
                
                	/* Retrieve the date(s) directly. */
                	_getDate: function(inst) {
                		var startDate = (!inst.currentYear || (inst.input && inst.input.val() === "") ? null :
                			this._daylightSavingAdjust(new Date(
                			inst.currentYear, inst.currentMonth, inst.currentDay)));
                			return startDate;
                	},
                
                	/* Attach the onxxx handlers.  These are declared statically so
                	 * they work with static code transformers like Caja.
                	 */
                	_attachHandlers: function(inst) {
                		var stepMonths = this._get(inst, "stepMonths"),
                			id = "#" + inst.id.replace( /\\\\/g, "\\" );
                		inst.dpDiv.find("[data-handler]").map(function () {
                			var handler = {
                				prev: function () {
                					window["DP_jQuery_" + dpuuid].datepicker._adjustDate(id, -stepMonths, "M");
                				},
                				next: function () {
                					window["DP_jQuery_" + dpuuid].datepicker._adjustDate(id, +stepMonths, "M");
                				},
                				hide: function () {
                					window["DP_jQuery_" + dpuuid].datepicker._hideDatepicker();
                				},
                				today: function () {
                					window["DP_jQuery_" + dpuuid].datepicker._gotoToday(id);
                				},
                				selectDay: function () {
                					window["DP_jQuery_" + dpuuid].datepicker._selectDay(id, +this.getAttribute("data-month"), +this.getAttribute("data-year"), this);
                					return false;
                				},
                				selectMonth: function () {
                					window["DP_jQuery_" + dpuuid].datepicker._selectMonthYear(id, this, "M");
                					return false;
                				},
                				selectYear: function () {
                					window["DP_jQuery_" + dpuuid].datepicker._selectMonthYear(id, this, "Y");
                					return false;
                				}
                			};
                			$(this).bind(this.getAttribute("data-event"), handler[this.getAttribute("data-handler")]);
                		});
                	},
                
                	/* Generate the HTML for the current state of the date picker. */
                	_generateHTML: function(inst) {
                		var maxDraw, prevText, prev, nextText, next, currentText, gotoDate,
                			controls, buttonPanel, firstDay, showWeek, dayNames, dayNamesMin,
                			monthNames, monthNamesShort, beforeShowDay, showOtherMonths,
                			selectOtherMonths, defaultDate, html, dow, row, group, col, selectedDate,
                			cornerClass, calender, thead, day, daysInMonth, leadDays, curRows, numRows,
                			printDate, dRow, tbody, daySettings, otherMonth, unselectable,
                			tempDate = new Date(),
                			today = this._daylightSavingAdjust(
                				new Date(tempDate.getFullYear(), tempDate.getMonth(), tempDate.getDate())), // clear time
                			isRTL = this._get(inst, "isRTL"),
                			showButtonPanel = this._get(inst, "showButtonPanel"),
                			hideIfNoPrevNext = this._get(inst, "hideIfNoPrevNext"),
                			navigationAsDateFormat = this._get(inst, "navigationAsDateFormat"),
                			numMonths = this._getNumberOfMonths(inst),
                			showCurrentAtPos = this._get(inst, "showCurrentAtPos"),
                			stepMonths = this._get(inst, "stepMonths"),
                			isMultiMonth = (numMonths[0] !== 1 || numMonths[1] !== 1),
                			currentDate = this._daylightSavingAdjust((!inst.currentDay ? new Date(9999, 9, 9) :
                				new Date(inst.currentYear, inst.currentMonth, inst.currentDay))),
                			minDate = this._getMinMaxDate(inst, "min"),
                			maxDate = this._getMinMaxDate(inst, "max"),
                			drawMonth = inst.drawMonth - showCurrentAtPos,
                			drawYear = inst.drawYear;
                
                		if (drawMonth < 0) {
                			drawMonth += 12;
                			drawYear--;
                		}
                		if (maxDate) {
                			maxDraw = this._daylightSavingAdjust(new Date(maxDate.getFullYear(),
                				maxDate.getMonth() - (numMonths[0] * numMonths[1]) + 1, maxDate.getDate()));
                			maxDraw = (minDate && maxDraw < minDate ? minDate : maxDraw);
                			while (this._daylightSavingAdjust(new Date(drawYear, drawMonth, 1)) > maxDraw) {
                				drawMonth--;
                				if (drawMonth < 0) {
                					drawMonth = 11;
                					drawYear--;
                				}
                			}
                		}
                		inst.drawMonth = drawMonth;
                		inst.drawYear = drawYear;
                
                		prevText = this._get(inst, "prevText");
                		prevText = (!navigationAsDateFormat ? prevText : this.formatDate(prevText,
                			this._daylightSavingAdjust(new Date(drawYear, drawMonth - stepMonths, 1)),
                			this._getFormatConfig(inst)));
                
                		prev = (this._canAdjustMonth(inst, -1, drawYear, drawMonth) ?
                			"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click'" +
                			" title='" + prevText + "'><span class='ui-icon ui-icon-circle-triangle-" + ( isRTL ? "e" : "w") + "'>" + prevText + "</span></a>" :
                			(hideIfNoPrevNext ? "" : "<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+ prevText +"'><span class='ui-icon ui-icon-circle-triangle-" + ( isRTL ? "e" : "w") + "'>" + prevText + "</span></a>"));
                
                		nextText = this._get(inst, "nextText");
                		nextText = (!navigationAsDateFormat ? nextText : this.formatDate(nextText,
                			this._daylightSavingAdjust(new Date(drawYear, drawMonth + stepMonths, 1)),
                			this._getFormatConfig(inst)));
                
                		next = (this._canAdjustMonth(inst, +1, drawYear, drawMonth) ?
                			"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click'" +
                			" title='" + nextText + "'><span class='ui-icon ui-icon-circle-triangle-" + ( isRTL ? "w" : "e") + "'>" + nextText + "</span></a>" :
                			(hideIfNoPrevNext ? "" : "<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+ nextText + "'><span class='ui-icon ui-icon-circle-triangle-" + ( isRTL ? "w" : "e") + "'>" + nextText + "</span></a>"));
                
                		currentText = this._get(inst, "currentText");
                		gotoDate = (this._get(inst, "gotoCurrent") && inst.currentDay ? currentDate : today);
                		currentText = (!navigationAsDateFormat ? currentText :
                			this.formatDate(currentText, gotoDate, this._getFormatConfig(inst)));
                
                		controls = (!inst.inline ? "<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>" +
                			this._get(inst, "closeText") + "</button>" : "");
                
                		buttonPanel = (showButtonPanel) ? "<div class='ui-datepicker-buttonpane ui-widget-content'>" + (isRTL ? controls : "") +
                			(this._isInRange(inst, gotoDate) ? "<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'" +
                			">" + currentText + "</button>" : "") + (isRTL ? "" : controls) + "</div>" : "";
                
                		firstDay = parseInt(this._get(inst, "firstDay"),10);
                		firstDay = (isNaN(firstDay) ? 0 : firstDay);
                
                		showWeek = this._get(inst, "showWeek");
                		dayNames = this._get(inst, "dayNames");
                		dayNamesMin = this._get(inst, "dayNamesMin");
                		monthNames = this._get(inst, "monthNames");
                		monthNamesShort = this._get(inst, "monthNamesShort");
                		beforeShowDay = this._get(inst, "beforeShowDay");
                		showOtherMonths = this._get(inst, "showOtherMonths");
                		selectOtherMonths = this._get(inst, "selectOtherMonths");
                		defaultDate = this._getDefaultDate(inst);
                		html = "";
                		dow;
                		for (row = 0; row < numMonths[0]; row++) {
                			group = "";
                			this.maxRows = 4;
                			for (col = 0; col < numMonths[1]; col++) {
                				selectedDate = this._daylightSavingAdjust(new Date(drawYear, drawMonth, inst.selectedDay));
                				cornerClass = " ui-corner-all";
                				calender = "";
                				if (isMultiMonth) {
                					calender += "<div class='ui-datepicker-group";
                					if (numMonths[1] > 1) {
                						switch (col) {
                							case 0: calender += " ui-datepicker-group-first";
                								cornerClass = " ui-corner-" + (isRTL ? "right" : "left"); break;
                							case numMonths[1]-1: calender += " ui-datepicker-group-last";
                								cornerClass = " ui-corner-" + (isRTL ? "left" : "right"); break;
                							default: calender += " ui-datepicker-group-middle"; cornerClass = ""; break;
                						}
                					}
                					calender += "'>";
                				}
                				calender += "<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix" + cornerClass + "'>" +
                					(/all|left/.test(cornerClass) && row === 0 ? (isRTL ? next : prev) : "") +
                					(/all|right/.test(cornerClass) && row === 0 ? (isRTL ? prev : next) : "") +
                					this._generateMonthYearHeader(inst, drawMonth, drawYear, minDate, maxDate,
                					row > 0 || col > 0, monthNames, monthNamesShort) + // draw month headers
                					"</div><table class='ui-datepicker-calendar'><thead>" +
                					"<tr>";
                				thead = (showWeek ? "<th class='ui-datepicker-week-col'>" + this._get(inst, "weekHeader") + "</th>" : "");
                				for (dow = 0; dow < 7; dow++) { // days of the week
                					day = (dow + firstDay) % 7;
                					thead += "<th" + ((dow + firstDay + 6) % 7 >= 5 ? " class='ui-datepicker-week-end'" : "") + ">" +
                						"<span title='" + dayNames[day] + "'>" + dayNamesMin[day] + "</span></th>";
                				}
                				calender += thead + "</tr></thead><tbody>";
                				daysInMonth = this._getDaysInMonth(drawYear, drawMonth);
                				if (drawYear === inst.selectedYear && drawMonth === inst.selectedMonth) {
                					inst.selectedDay = Math.min(inst.selectedDay, daysInMonth);
                				}
                				leadDays = (this._getFirstDayOfMonth(drawYear, drawMonth) - firstDay + 7) % 7;
                				curRows = Math.ceil((leadDays + daysInMonth) / 7); // calculate the number of rows to generate
                				numRows = (isMultiMonth ? this.maxRows > curRows ? this.maxRows : curRows : curRows); //If multiple months, use the higher number of rows (see #7043)
                				this.maxRows = numRows;
                				printDate = this._daylightSavingAdjust(new Date(drawYear, drawMonth, 1 - leadDays));
                				for (dRow = 0; dRow < numRows; dRow++) { // create date picker rows
                					calender += "<tr>";
                					tbody = (!showWeek ? "" : "<td class='ui-datepicker-week-col'>" +
                						this._get(inst, "calculateWeek")(printDate) + "</td>");
                					for (dow = 0; dow < 7; dow++) { // create date picker days
                						daySettings = (beforeShowDay ?
                							beforeShowDay.apply((inst.input ? inst.input[0] : null), [printDate]) : [true, ""]);
                						otherMonth = (printDate.getMonth() !== drawMonth);
                						unselectable = (otherMonth && !selectOtherMonths) || !daySettings[0] ||
                							(minDate && printDate < minDate) || (maxDate && printDate > maxDate);
                						tbody += "<td class='" +
                							((dow + firstDay + 6) % 7 >= 5 ? " ui-datepicker-week-end" : "") + // highlight weekends
                							(otherMonth ? " ui-datepicker-other-month" : "") + // highlight days from other months
                							((printDate.getTime() === selectedDate.getTime() && drawMonth === inst.selectedMonth && inst._keyEvent) || // user pressed key
                							(defaultDate.getTime() === printDate.getTime() && defaultDate.getTime() === selectedDate.getTime()) ?
                							// or defaultDate is current printedDate and defaultDate is selectedDate
                							" " + this._dayOverClass : "") + // highlight selected day
                							(unselectable ? " " + this._unselectableClass + " ui-state-disabled": "") +  // highlight unselectable days
                							(otherMonth && !showOtherMonths ? "" : " " + daySettings[1] + // highlight custom dates
                							(printDate.getTime() === currentDate.getTime() ? " " + this._currentClass : "") + // highlight selected day
                							(printDate.getTime() === today.getTime() ? " ui-datepicker-today" : "")) + "'" + // highlight today (if different)
                							((!otherMonth || showOtherMonths) && daySettings[2] ? " title='" + daySettings[2] + "'" : "") + // cell title
                							(unselectable ? "" : " data-handler='selectDay' data-event='click' data-month='" + printDate.getMonth() + "' data-year='" + printDate.getFullYear() + "'") + ">" + // actions
                							(otherMonth && !showOtherMonths ? "&#xa0;" : // display for other months
                							(unselectable ? "<span class='ui-state-default'>" + printDate.getDate() + "</span>" : "<a class='ui-state-default" +
                							(printDate.getTime() === today.getTime() ? " ui-state-highlight" : "") +
                							(printDate.getTime() === currentDate.getTime() ? " ui-state-active" : "") + // highlight selected day
                							(otherMonth ? " ui-priority-secondary" : "") + // distinguish dates from other months
                							"' href='#'>" + printDate.getDate() + "</a>")) + "</td>"; // display selectable date
                						printDate.setDate(printDate.getDate() + 1);
                						printDate = this._daylightSavingAdjust(printDate);
                					}
                					calender += tbody + "</tr>";
                				}
                				drawMonth++;
                				if (drawMonth > 11) {
                					drawMonth = 0;
                					drawYear++;
                				}
                				calender += "</tbody></table>" + (isMultiMonth ? "</div>" +
                							((numMonths[0] > 0 && col === numMonths[1]-1) ? "<div class='ui-datepicker-row-break'></div>" : "") : "");
                				group += calender;
                			}
                			html += group;
                		}
                		html += buttonPanel;
                		inst._keyEvent = false;
                		return html;
                	},
                
                	/* Generate the month and year header. */
                	_generateMonthYearHeader: function(inst, drawMonth, drawYear, minDate, maxDate,
                			secondary, monthNames, monthNamesShort) {
                
                		var inMinYear, inMaxYear, month, years, thisYear, determineYear, year, endYear,
                			changeMonth = this._get(inst, "changeMonth"),
                			changeYear = this._get(inst, "changeYear"),
                			showMonthAfterYear = this._get(inst, "showMonthAfterYear"),
                			html = "<div class='ui-datepicker-title'>",
                			monthHtml = "";
                
                		// month selection
                		if (secondary || !changeMonth) {
                			monthHtml += "<span class='ui-datepicker-month'>" + monthNames[drawMonth] + "</span>";
                		} else {
                			inMinYear = (minDate && minDate.getFullYear() === drawYear);
                			inMaxYear = (maxDate && maxDate.getFullYear() === drawYear);
                			monthHtml += "<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>";
                			for ( month = 0; month < 12; month++) {
                				if ((!inMinYear || month >= minDate.getMonth()) && (!inMaxYear || month <= maxDate.getMonth())) {
                					monthHtml += "<option value='" + month + "'" +
                						(month === drawMonth ? " selected='selected'" : "") +
                						">" + monthNamesShort[month] + "</option>";
                				}
                			}
                			monthHtml += "</select>";
                		}
                
                		if (!showMonthAfterYear) {
                			html += monthHtml + (secondary || !(changeMonth && changeYear) ? "&#xa0;" : "");
                		}
                
                		// year selection
                		if ( !inst.yearshtml ) {
                			inst.yearshtml = "";
                			if (secondary || !changeYear) {
                				html += "<span class='ui-datepicker-year'>" + drawYear + "</span>";
                			} else {
                				// determine range of years to display
                				years = this._get(inst, "yearRange").split(":");
                				thisYear = new Date().getFullYear();
                				determineYear = function(value) {
                					var year = (value.match(/c[+\-].*/) ? drawYear + parseInt(value.substring(1), 10) :
                						(value.match(/[+\-].*/) ? thisYear + parseInt(value, 10) :
                						parseInt(value, 10)));
                					return (isNaN(year) ? thisYear : year);
                				};
                				year = determineYear(years[0]);
                				endYear = Math.max(year, determineYear(years[1] || ""));
                				year = (minDate ? Math.max(year, minDate.getFullYear()) : year);
                				endYear = (maxDate ? Math.min(endYear, maxDate.getFullYear()) : endYear);
                				inst.yearshtml += "<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";
                				for (; year <= endYear; year++) {
                					inst.yearshtml += "<option value='" + year + "'" +
                						(year === drawYear ? " selected='selected'" : "") +
                						">" + year + "</option>";
                				}
                				inst.yearshtml += "</select>";
                
                				html += inst.yearshtml;
                				inst.yearshtml = null;
                			}
                		}
                
                		html += this._get(inst, "yearSuffix");
                		if (showMonthAfterYear) {
                			html += (secondary || !(changeMonth && changeYear) ? "&#xa0;" : "") + monthHtml;
                		}
                		html += "</div>"; // Close datepicker_header
                		return html;
                	},
                
                	/* Adjust one of the date sub-fields. */
                	_adjustInstDate: function(inst, offset, period) {
                		var year = inst.drawYear + (period === "Y" ? offset : 0),
                			month = inst.drawMonth + (period === "M" ? offset : 0),
                			day = Math.min(inst.selectedDay, this._getDaysInMonth(year, month)) + (period === "D" ? offset : 0),
                			date = this._restrictMinMax(inst, this._daylightSavingAdjust(new Date(year, month, day)));
                
                		inst.selectedDay = date.getDate();
                		inst.drawMonth = inst.selectedMonth = date.getMonth();
                		inst.drawYear = inst.selectedYear = date.getFullYear();
                		if (period === "M" || period === "Y") {
                			this._notifyChange(inst);
                		}
                	},
                
                	/* Ensure a date is within any min/max bounds. */
                	_restrictMinMax: function(inst, date) {
                		var minDate = this._getMinMaxDate(inst, "min"),
                			maxDate = this._getMinMaxDate(inst, "max"),
                			newDate = (minDate && date < minDate ? minDate : date);
                		return (maxDate && newDate > maxDate ? maxDate : newDate);
                	},
                
                	/* Notify change of month/year. */
                	_notifyChange: function(inst) {
                		var onChange = this._get(inst, "onChangeMonthYear");
                		if (onChange) {
                			onChange.apply((inst.input ? inst.input[0] : null),
                				[inst.selectedYear, inst.selectedMonth + 1, inst]);
                		}
                	},
                
                	/* Determine the number of months to show. */
                	_getNumberOfMonths: function(inst) {
                		var numMonths = this._get(inst, "numberOfMonths");
                		return (numMonths == null ? [1, 1] : (typeof numMonths === "number" ? [1, numMonths] : numMonths));
                	},
                
                	/* Determine the current maximum date - ensure no time components are set. */
                	_getMinMaxDate: function(inst, minMax) {
                		return this._determineDate(inst, this._get(inst, minMax + "Date"), null);
                	},
                
                	/* Find the number of days in a given month. */
                	_getDaysInMonth: function(year, month) {
                		return 32 - this._daylightSavingAdjust(new Date(year, month, 32)).getDate();
                	},
                
                	/* Find the day of the week of the first of a month. */
                	_getFirstDayOfMonth: function(year, month) {
                		return new Date(year, month, 1).getDay();
                	},
                
                	/* Determines if we should allow a "next/prev" month display change. */
                	_canAdjustMonth: function(inst, offset, curYear, curMonth) {
                		var numMonths = this._getNumberOfMonths(inst),
                			date = this._daylightSavingAdjust(new Date(curYear,
                			curMonth + (offset < 0 ? offset : numMonths[0] * numMonths[1]), 1));
                
                		if (offset < 0) {
                			date.setDate(this._getDaysInMonth(date.getFullYear(), date.getMonth()));
                		}
                		return this._isInRange(inst, date);
                	},
                
                	/* Is the given date in the accepted range? */
                	_isInRange: function(inst, date) {
                		var yearSplit, currentYear,
                			minDate = this._getMinMaxDate(inst, "min"),
                			maxDate = this._getMinMaxDate(inst, "max"),
                			minYear = null,
                			maxYear = null,
                			years = this._get(inst, "yearRange");
                			if (years){
                				yearSplit = years.split(":");
                				currentYear = new Date().getFullYear();
                				minYear = parseInt(yearSplit[0], 10) + currentYear;
                				maxYear = parseInt(yearSplit[1], 10) + currentYear;
                			}
                
                		return ((!minDate || date.getTime() >= minDate.getTime()) &&
                			(!maxDate || date.getTime() <= maxDate.getTime()) &&
                			(!minYear || date.getFullYear() >= minYear) &&
                			(!maxYear || date.getFullYear() <= maxYear));
                	},
                
                	/* Provide the configuration settings for formatting/parsing. */
                	_getFormatConfig: function(inst) {
                		var shortYearCutoff = this._get(inst, "shortYearCutoff");
                		shortYearCutoff = (typeof shortYearCutoff !== "string" ? shortYearCutoff :
                			new Date().getFullYear() % 100 + parseInt(shortYearCutoff, 10));
                		return {shortYearCutoff: shortYearCutoff,
                			dayNamesShort: this._get(inst, "dayNamesShort"), dayNames: this._get(inst, "dayNames"),
                			monthNamesShort: this._get(inst, "monthNamesShort"), monthNames: this._get(inst, "monthNames")};
                	},
                
                	/* Format the given date for display. */
                	_formatDate: function(inst, day, month, year) {
                		if (!day) {
                			inst.currentDay = inst.selectedDay;
                			inst.currentMonth = inst.selectedMonth;
                			inst.currentYear = inst.selectedYear;
                		}
                		var date = (day ? (typeof day === "object" ? day :
                			this._daylightSavingAdjust(new Date(year, month, day))) :
                			this._daylightSavingAdjust(new Date(inst.currentYear, inst.currentMonth, inst.currentDay)));
                		return this.formatDate(this._get(inst, "dateFormat"), date, this._getFormatConfig(inst));
                	}
                });
                
                /*
                 * Bind hover events for datepicker elements.
                 * Done via delegate so the binding only occurs once in the lifetime of the parent div.
                 * Global instActive, set by _updateDatepicker allows the handlers to find their way back to the active picker.
                 */
                function bindHover(dpDiv) {
                	var selector = "button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";
                	return dpDiv.delegate(selector, "mouseout", function() {
                			$(this).removeClass("ui-state-hover");
                			if (this.className.indexOf("ui-datepicker-prev") !== -1) {
                				$(this).removeClass("ui-datepicker-prev-hover");
                			}
                			if (this.className.indexOf("ui-datepicker-next") !== -1) {
                				$(this).removeClass("ui-datepicker-next-hover");
                			}
                		})
                		.delegate(selector, "mouseover", function(){
                			if (!$.datepicker._isDisabledDatepicker( instActive.inline ? dpDiv.parent()[0] : instActive.input[0])) {
                				$(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover");
                				$(this).addClass("ui-state-hover");
                				if (this.className.indexOf("ui-datepicker-prev") !== -1) {
                					$(this).addClass("ui-datepicker-prev-hover");
                				}
                				if (this.className.indexOf("ui-datepicker-next") !== -1) {
                					$(this).addClass("ui-datepicker-next-hover");
                				}
                			}
                		});
                }
                
                /* jQuery extend now ignores nulls! */
                function extendRemove(target, props) {
                	$.extend(target, props);
                	for (var name in props) {
                		if (props[name] == null) {
                			target[name] = props[name];
                		}
                	}
                	return target;
                }
                
                /* Invoke the datepicker functionality.
                   @param  options  string - a command, optionally followed by additional parameters or
                					Object - settings for attaching new datepicker functionality
                   @return  jQuery object */
                $.fn.datepicker = function(options){
                
                	/* Verify an empty collection wasn't passed - Fixes #6976 */
                	if ( !this.length ) {
                		return this;
                	}
                
                	/* Initialise the date picker. */
                	if (!$.datepicker.initialized) {
                		$(document).mousedown($.datepicker._checkExternalClick);
                		$.datepicker.initialized = true;
                	}
                
                	/* Append datepicker main container to body if not exist. */
                	if ($("#"+$.datepicker._mainDivId).length === 0) {
                		$("body").append($.datepicker.dpDiv);
                	}
                
                	var otherArgs = Array.prototype.slice.call(arguments, 1);
                	if (typeof options === "string" && (options === "isDisabled" || options === "getDate" || options === "widget")) {
                		return $.datepicker["_" + options + "Datepicker"].
                			apply($.datepicker, [this[0]].concat(otherArgs));
                	}
                	if (options === "option" && arguments.length === 2 && typeof arguments[1] === "string") {
                		return $.datepicker["_" + options + "Datepicker"].
                			apply($.datepicker, [this[0]].concat(otherArgs));
                	}
                	return this.each(function() {
                		typeof options === "string" ?
                			$.datepicker["_" + options + "Datepicker"].
                				apply($.datepicker, [this].concat(otherArgs)) :
                			$.datepicker._attachDatepicker(this, options);
                	});
                };
                
                $.datepicker = new Datepicker(); // singleton instance
                $.datepicker.initialized = false;
                $.datepicker.uuid = new Date().getTime();
                $.datepicker.version = "1.10.0";
                
                // Workaround for #4055
                // Add another global to avoid noConflict issues with inline event handlers
                window["DP_jQuery_" + dpuuid] = $;
                
                })(jQuery);
                
                });
                (function() {
                  var __bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; },
                    __hasProp = {}.hasOwnProperty,
                    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };
                
                  define('widget/date_picker',["underscore", "jquery", "jquery_ui/datepicker", "backbone", "common/continuum_view", "common/has_properties"], function(_, $, $1, Backbone, continuum_view, HasProperties) {
                    var DatePicker, DatePickerView, DatePickers, _ref, _ref1, _ref2;
                    DatePickerView = (function(_super) {
                      __extends(DatePickerView, _super);
                
                      function DatePickerView() {
                        this.onSelect = __bind(this.onSelect, this);
                        _ref = DatePickerView.__super__.constructor.apply(this, arguments);
                        return _ref;
                      }
                
                      DatePickerView.prototype.initialize = function(options) {
                        DatePickerView.__super__.initialize.call(this, options);
                        return this.render();
                      };
                
                      DatePickerView.prototype.render = function() {
                        var $datepicker, $label;
                        this.$el.empty();
                        $label = $('<label>').text(this.mget("title"));
                        $datepicker = $("<div>").datepicker({
                          defaultDate: new Date(this.mget('value')),
                          minDate: this.mget('min_date') != null ? new Date(this.mget('min_date')) : null,
                          maxDate: this.mget('max_date') != null ? new Date(this.mget('max_date')) : null,
                          onSelect: this.onSelect
                        });
                        return this.$el.append([$label, $datepicker]);
                      };
                
                      DatePickerView.prototype.onSelect = function(dateText, ui) {
                        this.mset('value', new Date(dateText));
                        return this.model.save();
                      };
                
                      return DatePickerView;
                
                    })(continuum_view.View);
                    DatePicker = (function(_super) {
                      __extends(DatePicker, _super);
                
                      function DatePicker() {
                        _ref1 = DatePicker.__super__.constructor.apply(this, arguments);
                        return _ref1;
                      }
                
                      DatePicker.prototype.type = "DatePicker";
                
                      DatePicker.prototype.default_view = DatePickerView;
                
                      DatePicker.prototype.defaults = function() {
                        return {
                          value: Date.now()
                        };
                      };
                
                      return DatePicker;
                
                    })(HasProperties);
                    DatePickers = (function(_super) {
                      __extends(DatePickers, _super);
                
                      function DatePickers() {
                        _ref2 = DatePickers.__super__.constructor.apply(this, arguments);
                        return _ref2;
                      }
                
                      DatePickers.prototype.model = DatePicker;
                
                      return DatePickers;
                
                    })(Backbone.Collection);
                    return {
                      Model: DatePicker,
                      Collection: new DatePickers(),
                      View: DatePickerView
                    };
                  });
                
                }).call(this);
                
                /*
                //@ sourceMappingURL=date_picker.js.map
                */;
                (function() {
                  var __hasProp = {}.hasOwnProperty,
                    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };
                
                  define('widget/panel',["underscore", "jquery", "backbone", "common/continuum_view", "common/has_properties"], function(_, $, Backbone, continuum_view, HasProperties) {
                    var Panel, PanelView, Panels, _ref, _ref1, _ref2;
                    PanelView = (function(_super) {
                      __extends(PanelView, _super);
                
                      function PanelView() {
                        _ref = PanelView.__super__.constructor.apply(this, arguments);
                        return _ref;
                      }
                
                      PanelView.prototype.initialize = function(options) {
                        PanelView.__super__.initialize.call(this, options);
                        return this.render();
                      };
                
                      PanelView.prototype.render = function() {
                        return this.$el.empty();
                      };
                
                      return PanelView;
                
                    })(continuum_view.View);
                    Panel = (function(_super) {
                      __extends(Panel, _super);
                
                      function Panel() {
                        _ref1 = Panel.__super__.constructor.apply(this, arguments);
                        return _ref1;
                      }
                
                      Panel.prototype.type = "Panel";
                
                      Panel.prototype.default_view = PanelView;
                
                      Panel.prototype.defaults = function() {
                        return {
                          title: "",
                          child: null,
                          closable: false
                        };
                      };
                
                      return Panel;
                
                    })(HasProperties);
                    Panels = (function(_super) {
                      __extends(Panels, _super);
                
                      function Panels() {
                        _ref2 = Panels.__super__.constructor.apply(this, arguments);
                        return _ref2;
                      }
                
                      Panels.prototype.model = Panel;
                
                      return Panels;
                
                    })(Backbone.Collection);
                    return {
                      Model: Panel,
                      Collection: new Panels(),
                      View: PanelView
                    };
                  });
                
                }).call(this);
                
                /*
                //@ sourceMappingURL=panel.js.map
                */;
                define('bootstrap/tab',["jquery"], function(jQuery) {
                
                /* ========================================================================
                 * Bootstrap: tab.js v3.1.1
                 * http://getbootstrap.com/javascript/#tabs
                 * ========================================================================
                 * Copyright 2011-2014 Twitter, Inc.
                 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
                 * ======================================================================== */
                
                
                +function ($) {
                  
                
                  // TAB CLASS DEFINITION
                  // ====================
                
                  var Tab = function (element) {
                    this.element = $(element)
                  }
                
                  Tab.prototype.show = function () {
                    var $this    = this.element
                    var $ul      = $this.closest('ul:not(.bk-bs-dropdown-menu)')
                    var selector = $this.data('bk-bs-target')
                
                    if (!selector) {
                      selector = $this.attr('href')
                      selector = selector && selector.replace(/.*(?=#[^\s]*$)/, '') //strip for ie7
                    }
                
                    if ($this.parent('li').hasClass('bk-bs-active')) return
                
                    var previous = $ul.find('.bk-bs-active:last a')[0]
                    var e        = $.Event('show.bk-bs.tab', {
                      relatedTarget: previous
                    })
                
                    $this.trigger(e)
                
                    if (e.isDefaultPrevented()) return
                
                    var $target = $(selector)
                
                    this.activate($this.parent('li'), $ul)
                    this.activate($target, $target.parent(), function () {
                      $this.trigger({
                        type: 'shown.bk-bs.tab',
                        relatedTarget: previous
                      })
                    })
                  }
                
                  Tab.prototype.activate = function (element, container, callback) {
                    var $active    = container.find('> .bk-bs-active')
                    var transition = callback
                      && $.support.transition
                      && $active.hasClass('bk-bs-fade')
                
                    function next() {
                      $active
                        .removeClass('bk-bs-active')
                        .find('> .bk-bs-dropdown-menu > .bk-bs-active')
                        .removeClass('bk-bs-active')
                
                      element.addClass('bk-bs-active')
                
                      if (transition) {
                        element[0].offsetWidth // reflow for transition
                        element.addClass('bk-bs-in')
                      } else {
                        element.removeClass('bk-bs-fade')
                      }
                
                      if (element.parent('.bk-bs-dropdown-menu')) {
                        element.closest('li.bk-bs-dropdown').addClass('bk-bs-active')
                      }
                
                      callback && callback()
                    }
                
                    transition ?
                      $active
                        .one($.support.transition.end, next)
                        .emulateTransitionEnd(150) :
                      next()
                
                    $active.removeClass('bk-bs-in')
                  }
                
                
                  // TAB PLUGIN DEFINITION
                  // =====================
                
                  var old = $.fn.tab
                
                  $.fn.tab = function ( option ) {
                    return this.each(function () {
                      var $this = $(this)
                      var data  = $this.data('bk-bs.tab')
                
                      if (!data) $this.data('bk-bs.tab', (data = new Tab(this)))
                      if (typeof option == 'string') data[option]()
                    })
                  }
                
                  $.fn.tab.Constructor = Tab
                
                
                  // TAB NO CONFLICT
                  // ===============
                
                  $.fn.tab.noConflict = function () {
                    $.fn.tab = old
                    return this
                  }
                
                
                  // TAB DATA-API
                  // ============
                
                  $(document).on('click.bk-bs.tab.data-api', '[data-bk-bs-toggle="tab"], [data-bk-bs-toggle="pill"]', function (e) {
                    e.preventDefault()
                    $(this).tab('show')
                  })
                
                }(jQuery);
                
                });
                
                define('widget/tabs_template',[],function(){
                  var template = function(__obj) {
                  var _safe = function(value) {
                    if (typeof value === 'undefined' && value == null)
                      value = '';
                    var result = new String(value);
                    result.ecoSafe = true;
                    return result;
                  };
                  return (function() {
                    var __out = [], __self = this, _print = function(value) {
                      if (typeof value !== 'undefined' && value != null)
                        __out.push(value.ecoSafe ? value : __self.escape(value));
                    }, _capture = function(callback) {
                      var out = __out, result;
                      __out = [];
                      callback.call(this);
                      result = __out.join('');
                      __out = out;
                      return _safe(result);
                    };
                    (function() {
                      var i, tab, _i, _j, _len, _len1, _ref, _ref1;
                    
                      _print(_safe('<ul class="bk-bs-nav bk-bs-nav-tabs">\n  '));
                    
                      _ref = this.tabs;
                      for (i = _i = 0, _len = _ref.length; _i < _len; i = ++_i) {
                        tab = _ref[i];
                        _print(_safe('\n    <li class="'));
                        _print(this.active(i));
                        _print(_safe('">\n      <a href="#tab-'));
                        _print(tab.get('id'));
                        _print(_safe('">'));
                        _print(tab.get('title'));
                        _print(_safe('</a>\n    </li>\n  '));
                      }
                    
                      _print(_safe('\n</ul>\n<div class="bk-bs-tab-content">\n  '));
                    
                      _ref1 = this.tabs;
                      for (i = _j = 0, _len1 = _ref1.length; _j < _len1; i = ++_j) {
                        tab = _ref1[i];
                        _print(_safe('\n    <div class="bk-bs-tab-pane '));
                        _print(this.active(i));
                        _print(_safe('" id="tab-'));
                        _print(tab.get('id'));
                        _print(_safe('"></div>\n  '));
                      }
                    
                      _print(_safe('\n</div>\n'));
                    
                    }).call(this);
                    
                    return __out.join('');
                  }).call((function() {
                    var obj = {
                      escape: function(value) {
                        return ('' + value)
                          .replace(/&/g, '&amp;')
                          .replace(/</g, '&lt;')
                          .replace(/>/g, '&gt;')
                          .replace(/"/g, '&quot;');
                      },
                      safe: _safe
                    }, key;
                    for (key in __obj) obj[key] = __obj[key];
                    return obj;
                  })());
                };
                  return template;
                });
                
                (function() {
                  var __hasProp = {}.hasOwnProperty,
                    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };
                
                  define('widget/tabs',["underscore", "jquery", "bootstrap/tab", "backbone", "common/continuum_view", "common/has_properties", "common/build_views", "./tabs_template"], function(_, $, $1, Backbone, continuum_view, HasProperties, build_views, tabs_template) {
                    var Tabs, TabsView, Tabses, _ref, _ref1, _ref2;
                    TabsView = (function(_super) {
                      __extends(TabsView, _super);
                
                      function TabsView() {
                        _ref = TabsView.__super__.constructor.apply(this, arguments);
                        return _ref;
                      }
                
                      TabsView.prototype.initialize = function(options) {
                        TabsView.__super__.initialize.call(this, options);
                        this.views = {};
                        return this.render();
                      };
                
                      TabsView.prototype.render = function() {
                        var $panels, active, child, children, html, key, panel, tab, tabs, val, _i, _len, _ref1, _ref2, _ref3;
                        _ref1 = this.views;
                        for (key in _ref1) {
                          if (!__hasProp.call(_ref1, key)) continue;
                          val = _ref1[key];
                          val.$el.detach();
                        }
                        this.$el.empty();
                        tabs = this.mget_obj('tabs');
                        active = this.mget("active");
                        children = (function() {
                          var _i, _len, _results;
                          _results = [];
                          for (_i = 0, _len = tabs.length; _i < _len; _i++) {
                            tab = tabs[_i];
                            _results.push(tab.get_obj("child"));
                          }
                          return _results;
                        })();
                        build_views(this.views, children);
                        html = $(tabs_template({
                          tabs: tabs,
                          active: function(i) {
                            if (i === active) {
                              return 'bk-bs-active';
                            } else {
                              return '';
                            }
                          }
                        }));
                        html.find("> li > a").click(function(event) {
                          event.preventDefault();
                          return $(this).tab('show');
                        });
                        $panels = html.children(".bk-bs-tab-pane");
                        _ref2 = _.zip(children, $panels);
                        for (_i = 0, _len = _ref2.length; _i < _len; _i++) {
                          _ref3 = _ref2[_i], child = _ref3[0], panel = _ref3[1];
                          $(panel).html(this.views[child.id].$el);
                        }
                        this.$el.append(html);
                        return this.$el.tabs;
                      };
                
                      return TabsView;
                
                    })(continuum_view.View);
                    Tabs = (function(_super) {
                      __extends(Tabs, _super);
                
                      function Tabs() {
                        _ref1 = Tabs.__super__.constructor.apply(this, arguments);
                        return _ref1;
                      }
                
                      Tabs.prototype.type = "Tabs";
                
                      Tabs.prototype.default_view = TabsView;
                
                      Tabs.prototype.defaults = function() {
                        return {
                          tabs: [],
                          active: 0
                        };
                      };
                
                      return Tabs;
                
                    })(HasProperties);
                    Tabses = (function(_super) {
                      __extends(Tabses, _super);
                
                      function Tabses() {
                        _ref2 = Tabses.__super__.constructor.apply(this, arguments);
                        return _ref2;
                      }
                
                      Tabses.prototype.model = Tabs;
                
                      return Tabses;
                
                    })(Backbone.Collection);
                    return {
                      Model: Tabs,
                      Collection: new Tabses(),
                      View: TabsView
                    };
                  });
                
                }).call(this);
                
                /*
                //@ sourceMappingURL=tabs.js.map
                */;
                define('widget/dialog_template',[],function(){
                  var template = function(__obj) {
                  var _safe = function(value) {
                    if (typeof value === 'undefined' && value == null)
                      value = '';
                    var result = new String(value);
                    result.ecoSafe = true;
                    return result;
                  };
                  return (function() {
                    var __out = [], __self = this, _print = function(value) {
                      if (typeof value !== 'undefined' && value != null)
                        __out.push(value.ecoSafe ? value : __self.escape(value));
                    }, _capture = function(callback) {
                      var out = __out, result;
                      __out = [];
                      callback.call(this);
                      result = __out.join('');
                      __out = out;
                      return _safe(result);
                    };
                    (function() {
                      var button, i, _i, _len, _ref;
                    
                      _print(_safe('<div class="bk-bs-modal" tabindex="-1">\n  <div class="bk-bs-modal-dialog">\n    <div class="bk-bs-modal-content">\n      <div class="bk-bs-modal-header">\n        '));
                    
                      if (this.closable) {
                        _print(_safe('\n          <button type="button" class="bk-bs-close" data-bk-bs-dismiss="modal">&times;</button>\n        '));
                      }
                    
                      _print(_safe('\n        <h4 class="bk-bs-modal-title">'));
                    
                      _print(this.title);
                    
                      _print(_safe('</h4>\n      </div>\n      <div class="bk-bs-modal-body">\n        '));
                    
                      _print(this.content);
                    
                      _print(_safe('\n      </div>\n      <div class="bk-bs-modal-footer">\n        '));
                    
                      _ref = this.buttons;
                      for (i = _i = 0, _len = _ref.length; _i < _len; i = ++_i) {
                        button = _ref[i];
                        _print(_safe('\n          '));
                        if (i === 0) {
                          _print(_safe('\n            <button type="button" class="bk-bs-btn bk-bs-btn-primary" data-bk-bs-dismiss="modal">'));
                          _print(button);
                          _print(_safe('</button>\n          '));
                        } else {
                          _print(_safe('\n            <button type="button" class="bk-bs-btn bk-bs-btn-default">'));
                          _print(button);
                          _print(_safe('</button>\n          '));
                        }
                        _print(_safe('\n        '));
                      }
                    
                      _print(_safe('\n      </div>\n    </div>\n  </div>\n</div>\n'));
                    
                    }).call(this);
                    
                    return __out.join('');
                  }).call((function() {
                    var obj = {
                      escape: function(value) {
                        return ('' + value)
                          .replace(/&/g, '&amp;')
                          .replace(/</g, '&lt;')
                          .replace(/>/g, '&gt;')
                          .replace(/"/g, '&quot;');
                      },
                      safe: _safe
                    }, key;
                    for (key in __obj) obj[key] = __obj[key];
                    return obj;
                  })());
                };
                  return template;
                });
                
                (function() {
                  var __bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; },
                    __hasProp = {}.hasOwnProperty,
                    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };
                
                  define('widget/dialog',["underscore", "backbone", "jquery", "bootstrap/modal", "common/has_properties", "common/continuum_view", "./dialog_template"], function(_, Backbone, $, $1, HasProperties, continuum_view, dialog_template) {
                    var Dialog, DialogView, Dialogs, _ref, _ref1, _ref2;
                    DialogView = (function(_super) {
                      __extends(DialogView, _super);
                
                      function DialogView() {
                        this.changeContent = __bind(this.changeContent, this);
                        this.changeVisibility = __bind(this.changeVisibility, this);
                        this.onHide = __bind(this.onHide, this);
                        _ref = DialogView.__super__.constructor.apply(this, arguments);
                        return _ref;
                      }
                
                      DialogView.prototype.initialize = function(options) {
                        DialogView.__super__.initialize.call(this, options);
                        this.render();
                        this.listenTo(this.model, 'destroy', this.remove);
                        this.listenTo(this.model, 'change:visible', this.changeVisibility);
                        return this.listenTo(this.model, 'change:content', this.changeContent);
                      };
                
                      DialogView.prototype.render = function() {
                        this.$modal = $(dialog_template(this.model.attributes));
                        this.$modal.modal({
                          show: this.mget("visible")
                        });
                        this.$modal.on('hidden.bk-bs.modal', this.onHide);
                        return this.$el.html(this.$modal);
                      };
                
                      DialogView.prototype.onHide = function(event) {
                        return this.mset("visible", false, {
                          silent: true
                        });
                      };
                
                      DialogView.prototype.changeVisibility = function() {
                        return this.$modal.modal(this.mget("visible") ? "show" : "hide");
                      };
                
                      DialogView.prototype.changeContent = function() {
                        return this.$modal.find(".bk-bs-modal-body").text(this.mget("content"));
                      };
                
                      return DialogView;
                
                    })(continuum_view.View);
                    Dialog = (function(_super) {
                      __extends(Dialog, _super);
                
                      function Dialog() {
                        _ref1 = Dialog.__super__.constructor.apply(this, arguments);
                        return _ref1;
                      }
                
                      Dialog.prototype.type = "Dialog";
                
                      Dialog.prototype.default_view = DialogView;
                
                      Dialog.prototype.defaults = function() {
                        return {
                          visible: false,
                          closable: true,
                          title: "",
                          content: "",
                          buttons: []
                        };
                      };
                
                      return Dialog;
                
                    })(HasProperties);
                    Dialogs = (function(_super) {
                      __extends(Dialogs, _super);
                
                      function Dialogs() {
                        _ref2 = Dialogs.__super__.constructor.apply(this, arguments);
                        return _ref2;
                      }
                
                      Dialogs.prototype.model = Dialog;
                
                      return Dialogs;
                
                    })(Backbone.Collection);
                    return {
                      Model: Dialog,
                      Collection: new Dialogs(),
                      View: DialogView
                    };
                  });
                
                }).call(this);
                
                /*
                //@ sourceMappingURL=dialog.js.map
                */;
                (function() {
                  var __hasProp = {}.hasOwnProperty,
                    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };
                
                  define('transforms/const',["common/continuum_view", "backbone", "common/has_parent"], function(continuum_view, Backbone, HasParent) {
                    var Const, ConstView, Consts, _ref, _ref1, _ref2;
                    ConstView = (function(_super) {
                      __extends(ConstView, _super);
                
                      function ConstView() {
                        _ref = ConstView.__super__.constructor.apply(this, arguments);
                        return _ref;
                      }
                
                      ConstView.prototype.attributes = {
                        "class": "ConstView"
                      };
                
                      ConstView.prototype.initialize = function(options) {
                        ConstView.__super__.initialize.call(this, options);
                        return this.render_init();
                      };
                
                      ConstView.prototype.delegateEvents = function(events) {
                        ConstView.__super__.delegateEvents.call(this, events);
                        return "pass";
                      };
                
                      ConstView.prototype.render_init = function() {
                        return this.$el.html("");
                      };
                
                      return ConstView;
                
                    })(continuum_view.View);
                    Const = (function(_super) {
                      __extends(Const, _super);
                
                      function Const() {
                        _ref1 = Const.__super__.constructor.apply(this, arguments);
                        return _ref1;
                      }
                
                      Const.prototype.type = "Const";
                
                      Const.prototype.default_view = ConstView;
                
                      return Const;
                
                    })(HasParent);
                    Consts = (function(_super) {
                      __extends(Consts, _super);
                
                      function Consts() {
                        _ref2 = Consts.__super__.constructor.apply(this, arguments);
                        return _ref2;
                      }
                
                      Consts.prototype.model = Const;
                
                      return Consts;
                
                    })(Backbone.Collection);
                    return {
                      "Model": Const,
                      "Collection": new Consts()
                    };
                  });
                
                }).call(this);
                
                /*
                //@ sourceMappingURL=const.js.map
                */;
                (function() {
                  var __hasProp = {}.hasOwnProperty,
                    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };
                
                  define('transforms/count',["common/continuum_view", "backbone", "common/has_parent"], function(continuum_view, Backbone, HasParent) {
                    var Count, CountView, Counts, _ref, _ref1, _ref2;
                    CountView = (function(_super) {
                      __extends(CountView, _super);
                
                      function CountView() {
                        _ref = CountView.__super__.constructor.apply(this, arguments);
                        return _ref;
                      }
                
                      CountView.prototype.attributes = {
                        "class": "CountView"
                      };
                
                      CountView.prototype.initialize = function(options) {
                        CountView.__super__.initialize.call(this, options);
                        return this.render_init();
                      };
                
                      CountView.prototype.delegateEvents = function(events) {
                        CountView.__super__.delegateEvents.call(this, events);
                        return "pass";
                      };
                
                      CountView.prototype.render_init = function() {
                        return this.$el.html("");
                      };
                
                      return CountView;
                
                    })(continuum_view.View);
                    Count = (function(_super) {
                      __extends(Count, _super);
                
                      function Count() {
                        _ref1 = Count.__super__.constructor.apply(this, arguments);
                        return _ref1;
                      }
                
                      Count.prototype.type = "Count";
                
                      Count.prototype.default_view = CountView;
                
                      return Count;
                
                    })(HasParent);
                    Counts = (function(_super) {
                      __extends(Counts, _super);
                
                      function Counts() {
                        _ref2 = Counts.__super__.constructor.apply(this, arguments);
                        return _ref2;
                      }
                
                      Counts.prototype.model = Count;
                
                      return Counts;
                
                    })(Backbone.Collection);
                    return {
                      "Model": Count,
                      "Collection": new Counts()
                    };
                  });
                
                }).call(this);
                
                /*
                //@ sourceMappingURL=count.js.map
                */;
                (function() {
                  var __hasProp = {}.hasOwnProperty,
                    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };
                
                  define('transforms/cuberoot',["common/continuum_view", "backbone", "common/has_parent"], function(continuum_view, Backbone, HasParent) {
                    var Cuberoot, CuberootView, Cuberoots, _ref, _ref1, _ref2;
                    CuberootView = (function(_super) {
                      __extends(CuberootView, _super);
                
                      function CuberootView() {
                        _ref = CuberootView.__super__.constructor.apply(this, arguments);
                        return _ref;
                      }
                
                      CuberootView.prototype.attributes = {
                        "class": "CuberootView"
                      };
                
                      CuberootView.prototype.initialize = function(options) {
                        CuberootView.__super__.initialize.call(this, options);
                        return this.render_init();
                      };
                
                      CuberootView.prototype.delegateEvents = function(events) {
                        CuberootView.__super__.delegateEvents.call(this, events);
                        return "pass";
                      };
                
                      CuberootView.prototype.render_init = function() {
                        return this.$el.html("");
                      };
                
                      return CuberootView;
                
                    })(continuum_view.View);
                    Cuberoot = (function(_super) {
                      __extends(Cuberoot, _super);
                
                      function Cuberoot() {
                        _ref1 = Cuberoot.__super__.constructor.apply(this, arguments);
                        return _ref1;
                      }
                
                      Cuberoot.prototype.type = "Cuberoot";
                
                      Cuberoot.prototype.default_view = CuberootView;
                
                      return Cuberoot;
                
                    })(HasParent);
                    Cuberoots = (function(_super) {
                      __extends(Cuberoots, _super);
                
                      function Cuberoots() {
                        _ref2 = Cuberoots.__super__.constructor.apply(this, arguments);
                        return _ref2;
                      }
                
                      Cuberoots.prototype.model = Cuberoot;
                
                      return Cuberoots;
                
                    })(Backbone.Collection);
                    return {
                      "Model": Cuberoot,
                      "Collection": new Cuberoots()
                    };
                  });
                
                }).call(this);
                
                /*
                //@ sourceMappingURL=cuberoot.js.map
                */;
                (function() {
                  var __hasProp = {}.hasOwnProperty,
                    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };
                
                  define('transforms/id',["common/continuum_view", "backbone", "common/has_parent"], function(continuum_view, Backbone, HasParent) {
                    var Id, IdView, Ids, _ref, _ref1, _ref2;
                    IdView = (function(_super) {
                      __extends(IdView, _super);
                
                      function IdView() {
                        _ref = IdView.__super__.constructor.apply(this, arguments);
                        return _ref;
                      }
                
                      IdView.prototype.attributes = {
                        "class": "IdView"
                      };
                
                      IdView.prototype.initialize = function(options) {
                        IdView.__super__.initialize.call(this, options);
                        return this.render_init();
                      };
                
                      IdView.prototype.delegateEvents = function(events) {
                        IdView.__super__.delegateEvents.call(this, events);
                        return "pass";
                      };
                
                      IdView.prototype.render_init = function() {
                        return this.$el.html("");
                      };
                
                      return IdView;
                
                    })(continuum_view.View);
                    Id = (function(_super) {
                      __extends(Id, _super);
                
                      function Id() {
                        _ref1 = Id.__super__.constructor.apply(this, arguments);
                        return _ref1;
                      }
                
                      Id.prototype.type = "Id";
                
                      Id.prototype.default_view = IdView;
                
                      return Id;
                
                    })(HasParent);
                    Ids = (function(_super) {
                      __extends(Ids, _super);
                
                      function Ids() {
                        _ref2 = Ids.__super__.constructor.apply(this, arguments);
                        return _ref2;
                      }
                
                      Ids.prototype.model = Id;
                
                      return Ids;
                
                    })(Backbone.Collection);
                    return {
                      "Model": Id,
                      "Collection": new Ids()
                    };
                  });
                
                }).call(this);
                
                /*
                //@ sourceMappingURL=id.js.map
                */;
                (function() {
                  var __hasProp = {}.hasOwnProperty,
                    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };
                
                  define('transforms/interpolate',["common/continuum_view", "backbone", "common/has_parent"], function(continuum_view, Backbone, HasParent) {
                    var Interpolate, InterpolateView, Interpolates, _ref, _ref1, _ref2;
                    InterpolateView = (function(_super) {
                      __extends(InterpolateView, _super);
                
                      function InterpolateView() {
                        _ref = InterpolateView.__super__.constructor.apply(this, arguments);
                        return _ref;
                      }
                
                      InterpolateView.prototype.attributes = {
                        "class": "InterpolateView"
                      };
                
                      InterpolateView.prototype.initialize = function(options) {
                        InterpolateView.__super__.initialize.call(this, options);
                        return this.render_init();
                      };
                
                      InterpolateView.prototype.delegateEvents = function(events) {
                        InterpolateView.__super__.delegateEvents.call(this, events);
                        return "pass";
                      };
                
                      InterpolateView.prototype.render_init = function() {
                        return this.$el.html("");
                      };
                
                      return InterpolateView;
                
                    })(continuum_view.View);
                    Interpolate = (function(_super) {
                      __extends(Interpolate, _super);
                
                      function Interpolate() {
                        _ref1 = Interpolate.__super__.constructor.apply(this, arguments);
                        return _ref1;
                      }
                
                      Interpolate.prototype.type = "Interpolate";
                
                      Interpolate.prototype.default_view = InterpolateView;
                
                      return Interpolate;
                
                    })(HasParent);
                    Interpolates = (function(_super) {
                      __extends(Interpolates, _super);
                
                      function Interpolates() {
                        _ref2 = Interpolates.__super__.constructor.apply(this, arguments);
                        return _ref2;
                      }
                
                      Interpolates.prototype.model = Interpolate;
                
                      return Interpolates;
                
                    })(Backbone.Collection);
                    return {
                      "Model": Interpolate,
                      "Collection": new Interpolates()
                    };
                  });
                
                }).call(this);
                
                /*
                //@ sourceMappingURL=interpolate.js.map
                */;
                (function() {
                  var __hasProp = {}.hasOwnProperty,
                    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };
                
                  define('transforms/seq',["common/continuum_view", "backbone", "common/has_parent"], function(continuum_view, Backbone, HasParent) {
                    var Seq, SeqView, Seqs, _ref, _ref1, _ref2;
                    SeqView = (function(_super) {
                      __extends(SeqView, _super);
                
                      function SeqView() {
                        _ref = SeqView.__super__.constructor.apply(this, arguments);
                        return _ref;
                      }
                
                      SeqView.prototype.attributes = {
                        "class": "SeqView"
                      };
                
                      SeqView.prototype.initialize = function(options) {
                        SeqView.__super__.initialize.call(this, options);
                        return this.render_init();
                      };
                
                      SeqView.prototype.delegateEvents = function(events) {
                        SeqView.__super__.delegateEvents.call(this, events);
                        return "pass";
                      };
                
                      SeqView.prototype.render_init = function() {
                        return this.$el.html("");
                      };
                
                      return SeqView;
                
                    })(continuum_view.View);
                    Seq = (function(_super) {
                      __extends(Seq, _super);
                
                      function Seq() {
                        _ref1 = Seq.__super__.constructor.apply(this, arguments);
                        return _ref1;
                      }
                
                      Seq.prototype.type = "Seq";
                
                      Seq.prototype.default_view = SeqView;
                
                      return Seq;
                
                    })(HasParent);
                    Seqs = (function(_super) {
                      __extends(Seqs, _super);
                
                      function Seqs() {
                        _ref2 = Seqs.__super__.constructor.apply(this, arguments);
                        return _ref2;
                      }
                
                      Seqs.prototype.model = Seq;
                
                      return Seqs;
                
                    })(Backbone.Collection);
                    return {
                      "Model": Seq,
                      "Collection": new Seqs()
                    };
                  });
                
                }).call(this);
                
                /*
                //@ sourceMappingURL=seq.js.map
                */;
                (function() {
                  var __hasProp = {}.hasOwnProperty,
                    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };
                
                  define('transforms/spread',["common/continuum_view", "backbone", "common/has_parent"], function(continuum_view, Backbone, HasParent) {
                    var Spread, SpreadView, Spreads, _ref, _ref1, _ref2;
                    SpreadView = (function(_super) {
                      __extends(SpreadView, _super);
                
                      function SpreadView() {
                        _ref = SpreadView.__super__.constructor.apply(this, arguments);
                        return _ref;
                      }
                
                      SpreadView.prototype.attributes = {
                        "class": "SpreadView"
                      };
                
                      SpreadView.prototype.initialize = function(options) {
                        SpreadView.__super__.initialize.call(this, options);
                        return this.render_init();
                      };
                
                      SpreadView.prototype.delegateEvents = function(events) {
                        SpreadView.__super__.delegateEvents.call(this, events);
                        return "pass";
                      };
                
                      SpreadView.prototype.render_init = function() {
                        return this.$el.html("");
                      };
                
                      return SpreadView;
                
                    })(continuum_view.View);
                    Spread = (function(_super) {
                      __extends(Spread, _super);
                
                      function Spread() {
                        _ref1 = Spread.__super__.constructor.apply(this, arguments);
                        return _ref1;
                      }
                
                      Spread.prototype.type = "Spread";
                
                      Spread.prototype.default_view = SpreadView;
                
                      return Spread;
                
                    })(HasParent);
                    Spreads = (function(_super) {
                      __extends(Spreads, _super);
                
                      function Spreads() {
                        _ref2 = Spreads.__super__.constructor.apply(this, arguments);
                        return _ref2;
                      }
                
                      Spreads.prototype.model = Spread;
                
                      return Spreads;
                
                    })(Backbone.Collection);
                    return {
                      "Model": Spread,
                      "Collection": new Spreads()
                    };
                  });
                
                }).call(this);
                
                /*
                //@ sourceMappingURL=spread.js.map
                */;
                (function() {
                  define('common/base',["underscore", "require", "common/custom", "common/gmap_plot", "common/grid_plot", "common/plot", "common/plot_context", "mapper/1d/categorical_mapper", "mapper/1d/linear_mapper", "mapper/1d/log_mapper", "mapper/2d/grid_mapper", "mapper/color/linear_color_mapper", "range/data_factor_range", "range/data_range1d", "range/factor_range", "range/range1d", "renderer/annotation/legend", "renderer/glyph/glyph_factory", "renderer/guide/categorical_axis", "renderer/guide/datetime_axis", "renderer/guide/grid", "renderer/guide/linear_axis", "renderer/guide/log_axis", "renderer/overlay/box_selection", "source/column_data_source", "source/server_data_source", "ticking/abstract_ticker", "ticking/adaptive_ticker", "ticking/basic_tick_formatter", "ticking/basic_ticker", "ticking/log_ticker", "ticking/log_tick_formatter", "ticking/categorical_tick_formatter", "ticking/categorical_ticker", "ticking/composite_ticker", "ticking/datetime_tick_formatter", "ticking/datetime_ticker", "ticking/days_ticker", "ticking/months_ticker", "ticking/single_interval_ticker", "ticking/years_ticker", "tool/box_select_tool", "tool/box_zoom_tool", "tool/click_tool", "tool/crosshair_tool", "tool/data_range_box_select_tool", "tool/embed_tool", "tool/hover_tool", "tool/pan_tool", "tool/preview_save_tool", "tool/reset_tool", "tool/resize_tool", "tool/wheel_zoom_tool", "tool/object_explorer_tool", "widget/data_slider", "widget/data_table", "widget/handson_table", "widget/table_column", "widget/pivot_table", "widget/object_explorer", "widget/pandas/ipython_remote_data", "widget/pandas/pandas_pivot_table", "widget/pandas/pandas_plot_source", 'widget/paragraph', 'widget/hbox', 'widget/vbox', 'widget/textinput', 'widget/vboxmodelform', 'widget/pretext', 'widget/selectbox', 'widget/slider', 'widget/crossfilter', 'widget/multiselect', 'widget/date_range_slider', 'widget/date_picker', 'widget/panel', 'widget/tabs', 'widget/dialog', 'transforms/const', 'transforms/count', 'transforms/cuberoot', 'transforms/id', 'transforms/interpolate', 'transforms/seq', 'transforms/spread'], function(_, require) {
                    var Collections, Config, collection_overrides, locations, mod_cache, url;
                    require("common/custom").monkey_patch();
                    Config = {};
                    url = window.location.href;
                    if (url.indexOf('/bokeh') > 0) {
                      Config.prefix = url.slice(0, url.indexOf('/bokeh')) + "/";
                    } else {
                      Config.prefix = '/';
                    }
                    console.log('setting prefix to', Config.prefix);
                    locations = {
                      Plot: 'common/plot',
                      GMapPlot: 'common/gmap_plot',
                      GridPlot: 'common/grid_plot',
                      PlotContext: 'common/plot_context',
                      PlotList: 'common/plot_context',
                      DataFactorRange: 'range/data_factor_range',
                      DataRange1d: 'range/data_range1d',
                      FactorRange: 'range/factor_range',
                      Range1d: 'range/range1d',
                      Glyph: 'renderer/glyph/glyph_factory',
                      LinearAxis: 'renderer/guide/linear_axis',
                      LogAxis: 'renderer/guide/log_axis',
                      CategoricalAxis: 'renderer/guide/categorical_axis',
                      DatetimeAxis: 'renderer/guide/datetime_axis',
                      Grid: 'renderer/guide/grid',
                      Legend: 'renderer/annotation/legend',
                      BoxSelection: 'renderer/overlay/box_selection',
                      ColumnDataSource: 'source/column_data_source',
                      ServerDataSource: 'source/server_data_source',
                      AbstractTicker: 'ticking/abstract_ticker',
                      AdaptiveTicker: 'ticking/adaptive_ticker',
                      BasicTicker: 'ticking/basic_ticker',
                      BasicTickFormatter: 'ticking/basic_tick_formatter',
                      LogTicker: 'ticking/log_ticker',
                      LogTickFormatter: 'ticking/log_tick_formatter',
                      CategoricalTicker: 'ticking/categorical_ticker',
                      CategoricalTickFormatter: 'ticking/categorical_tick_formatter',
                      CompositeTicker: 'ticking/composite_ticker',
                      DatetimeTicker: 'ticking/datetime_ticker',
                      DatetimeTickFormatter: 'ticking/datetime_tick_formatter',
                      DaysTicker: 'ticking/days_ticker',
                      MonthsTicker: 'ticking/months_ticker',
                      SingleIntervalTicker: 'ticking/single_interval_ticker',
                      YearsTicker: 'ticking/years_ticker',
                      PanTool: 'tool/pan_tool',
                      WheelZoomTool: 'tool/wheel_zoom_tool',
                      ResizeTool: 'tool/resize_tool',
                      ClickTool: 'tool/click_tool',
                      CrosshairTool: 'tool/crosshair_tool',
                      BoxSelectTool: 'tool/box_select_tool',
                      BoxZoomTool: 'tool/box_zoom_tool',
                      HoverTool: 'tool/hover_tool',
                      DataRangeBoxSelectTool: 'tool/data_range_box_select_tool',
                      PreviewSaveTool: 'tool/preview_save_tool',
                      EmbedTool: 'tool/embed_tool',
                      ResetTool: 'tool/reset_tool',
                      ObjectExplorerTool: 'tool/object_explorer_tool',
                      DataSlider: 'widget/data_slider',
                      DataTable: 'widget/data_table',
                      HandsonTable: 'widget/handson_table',
                      TableColumn: 'widget/table_column',
                      PivotTable: 'widget/pivot_table',
                      ObjectExplorer: 'widget/object_explorer',
                      IPythonRemoteData: 'widget/pandas/ipython_remote_data',
                      PandasPivotTable: 'widget/pandas/pandas_pivot_table',
                      PandasPlotSource: 'widget/pandas/pandas_plot_source',
                      Paragraph: 'widget/paragraph',
                      HBox: 'widget/hbox',
                      VBox: 'widget/vbox',
                      VBoxModelForm: 'widget/vboxmodelform',
                      TextInput: 'widget/textinput',
                      PreText: 'widget/pretext',
                      Select: 'widget/selectbox',
                      Slider: 'widget/slider',
                      CrossFilter: 'widget/crossfilter',
                      MultiSelect: 'widget/multiselect',
                      DateRangeSlider: 'widget/date_range_slider',
                      DatePicker: 'widget/date_picker',
                      Panel: 'widget/panel',
                      Tabs: 'widget/tabs',
                      Dialog: 'widget/dialog',
                      Const: 'transforms/const',
                      Count: 'transforms/count',
                      Cuberoot: 'transforms/cuberoot',
                      Id: 'transforms/id',
                      Interpolate: 'transforms/interpolate',
                      Seq: 'transforms/seq',
                      Spread: 'transforms/spread'
                    };
                    mod_cache = {};
                    collection_overrides = {};
                    Collections = function(typename) {
                      var mod, modulename;
                      if (collection_overrides[typename]) {
                        return collection_overrides[typename];
                      }
                      if (!locations[typename]) {
                        throw "./base: Unknown Collection " + typename;
                      }
                      modulename = locations[typename];
                      if (mod_cache[modulename] == null) {
                        mod = require(modulename);
                        if (mod != null) {
                          mod_cache[modulename] = mod;
                        } else {
                          throw Error("improperly implemented collection: " + modulename);
                        }
                      }
                      return mod_cache[modulename].Collection;
                    };
                    Collections.register = function(name, collection) {
                      return collection_overrides[name] = collection;
                    };
                    return {
                      "collection_overrides": collection_overrides,
                      "mod_cache": mod_cache,
                      "locations": locations,
                      "Collections": Collections,
                      "Config": Config
                    };
                  });
                
                }).call(this);
                
                /*
                //@ sourceMappingURL=base.js.map
                */;
                (function() {
                  define('common/plotting',["underscore", "jquery", "./plot", "range/data_range1d", "range/factor_range", "range/range1d", "renderer/annotation/legend", "renderer/glyph/glyph_factory", "renderer/guide/categorical_axis", "renderer/guide/linear_axis", "renderer/guide/grid", "renderer/overlay/box_selection", "source/column_data_source", "tool/box_select_tool", "tool/box_zoom_tool", "tool/hover_tool", "tool/pan_tool", "tool/preview_save_tool", "tool/resize_tool", "tool/wheel_zoom_tool", "tool/reset_tool", "renderer/guide/datetime_axis"], function(_, $, Plot, DataRange1d, FactorRange, Range1d, Legend, GlyphFactory, CategoricalAxis, LinearAxis, Grid, BoxSelection, ColumnDataSource, BoxSelectTool, BoxZoomTool, HoverTool, PanTool, PreviewSaveTool, ResizeTool, WheelZoomTool, ResetTool, DatetimeAxis) {
                    var add_axes, add_grids, add_legend, add_tools, create_glyphs, create_range, create_sources, make_plot, show;
                    create_sources = function(data) {
                      var d, sources, _i, _len;
                      if (!_.isArray(data)) {
                        data = [data];
                      }
                      sources = [];
                      for (_i = 0, _len = data.length; _i < _len; _i++) {
                        d = data[_i];
                        if (d instanceof ColumnDataSource.Model) {
                          sources.push(d);
                        } else {
                          sources.push(ColumnDataSource.Collection.create({
                            data: d
                          }));
                        }
                      }
                      return sources;
                    };
                    create_range = function(range, sources, columns) {
                      var s;
                      if (range === 'auto') {
                        return DataRange1d.Collection.create({
                          sources: (function() {
                            var _i, _len, _results;
                            _results = [];
                            for (_i = 0, _len = sources.length; _i < _len; _i++) {
                              s = sources[_i];
                              _results.push({
                                source: s.ref(),
                                columns: columns
                              });
                            }
                            return _results;
                          })()
                        });
                      } else if ((range instanceof Range1d.Model) || (range instanceof FactorRange.Model)) {
                        return range;
                      } else {
                        if (typeof range[0] === "string") {
                          return FactorRange.Collection.create({
                            factors: range
                          });
                        } else {
                          return Range1d.Collection.create({
                            start: range[0],
                            end: range[1]
                          });
                        }
                      }
                    };
                    create_glyphs = function(plot, glyphspecs, sources, nonselection_glyphspecs) {
                      var glyph, glyphs, non_spec, source, spec, val, x, _i, _len, _ref;
                      glyphs = [];
                      if (!_.isArray(glyphspecs)) {
                        glyphspecs = [glyphspecs];
                      }
                      if (sources.length === 1) {
                        sources = (function() {
                          var _i, _len, _results;
                          _results = [];
                          for (_i = 0, _len = glyphspecs.length; _i < _len; _i++) {
                            x = glyphspecs[_i];
                            _results.push(sources[0]);
                          }
                          return _results;
                        })();
                      }
                      if (nonselection_glyphspecs == null) {
                        nonselection_glyphspecs = {
                          fill_alpha: 0.1,
                          line_alpha: 0.1
                        };
                      }
                      if (!_.isArray(nonselection_glyphspecs)) {
                        nonselection_glyphspecs = (function() {
                          var _i, _len, _results;
                          _results = [];
                          for (_i = 0, _len = glyphspecs.length; _i < _len; _i++) {
                            x = glyphspecs[_i];
                            _results.push(nonselection_glyphspecs);
                          }
                          return _results;
                        })();
                      }
                      _ref = _.zip(glyphspecs, nonselection_glyphspecs, sources);
                      for (_i = 0, _len = _ref.length; _i < _len; _i++) {
                        val = _ref[_i];
                        spec = val[0], non_spec = val[1], source = val[2];
                        glyph = GlyphFactory.Collection.create({
                          parent: plot.ref(),
                          data_source: source.ref(),
                          glyphspec: spec,
                          nonselection_glyphspec: non_spec
                        });
                        glyphs.push(glyph);
                      }
                      return glyphs;
                    };
                    add_axes = function(plot, xaxes_spec, yaxes_spec, xdr, ydr) {
                      var a, axis, loc, xaxes, yaxes, _i, _j, _k, _l, _len, _len1, _len2, _len3;
                      xaxes = [];
                      if (xaxes_spec) {
                        if (xaxes_spec === true) {
                          xaxes_spec = ['min', 'max'];
                        }
                        if (!_.isArray(xaxes_spec)) {
                          xaxes_spec = [xaxes_spec];
                        }
                        if (xaxes_spec[0] === "datetime") {
                          axis = DatetimeAxis.Collection.create({
                            dimension: 0,
                            axis_label: 'x',
                            location: 'min',
                            parent: plot.ref(),
                            plot: plot.ref()
                          });
                          xaxes.push(axis);
                        } else if (xdr.type === "FactorRange") {
                          for (_i = 0, _len = xaxes_spec.length; _i < _len; _i++) {
                            loc = xaxes_spec[_i];
                            axis = CategoricalAxis.Collection.create({
                              dimension: 0,
                              axis_label: 'x',
                              location: loc,
                              parent: plot.ref(),
                              plot: plot.ref()
                            });
                            xaxes.push(axis);
                          }
                        } else {
                          for (_j = 0, _len1 = xaxes_spec.length; _j < _len1; _j++) {
                            loc = xaxes_spec[_j];
                            axis = LinearAxis.Collection.create({
                              dimension: 0,
                              axis_label: 'x',
                              location: loc,
                              parent: plot.ref(),
                              plot: plot.ref()
                            });
                            xaxes.push(axis);
                          }
                        }
                      }
                      yaxes = [];
                      if (yaxes_spec) {
                        if (yaxes_spec === true) {
                          yaxes_spec = ['min', 'max'];
                        }
                        if (!_.isArray(yaxes_spec)) {
                          yaxes_spec = [yaxes_spec];
                        }
                        if (yaxes_spec[0] === "datetime") {
                          axis = DatetimeAxis.Collection.create({
                            dimension: 1,
                            axis_label: 'y',
                            location: 'min',
                            parent: plot.ref(),
                            plot: plot.ref()
                          });
                          yaxes.push(axis);
                        } else if (ydr.type === "FactorRange") {
                          for (_k = 0, _len2 = yaxes_spec.length; _k < _len2; _k++) {
                            loc = yaxes_spec[_k];
                            axis = CategoricalAxis.Collection.create({
                              dimension: 1,
                              axis_label: 'y',
                              location: loc,
                              parent: plot.ref(),
                              plot: plot.ref()
                            });
                            yaxes.push(axis);
                          }
                        } else {
                          for (_l = 0, _len3 = yaxes_spec.length; _l < _len3; _l++) {
                            loc = yaxes_spec[_l];
                            axis = LinearAxis.Collection.create({
                              dimension: 1,
                              axis_label: 'y',
                              location: loc,
                              parent: plot.ref(),
                              plot: plot.ref()
                            });
                            yaxes.push(axis);
                          }
                        }
                      }
                      plot.add_renderers((function() {
                        var _len4, _m, _results;
                        _results = [];
                        for (_m = 0, _len4 = xaxes.length; _m < _len4; _m++) {
                          a = xaxes[_m];
                          _results.push(a.ref());
                        }
                        return _results;
                      })());
                      plot.add_renderers((function() {
                        var _len4, _m, _results;
                        _results = [];
                        for (_m = 0, _len4 = yaxes.length; _m < _len4; _m++) {
                          a = yaxes[_m];
                          _results.push(a.ref());
                        }
                        return _results;
                      })());
                      return [xaxes, yaxes];
                    };
                    add_grids = function(plot, xgrid, ygrid, xaxes, yaxes) {
                      var g, grid, grids;
                      grids = [];
                      if (xgrid && xaxes.length > 0) {
                        grid = Grid.Collection.create({
                          dimension: 0,
                          parent: plot.ref(),
                          plot: plot.ref(),
                          axis: xaxes[0].ref()
                        });
                        grids.push(grid);
                      }
                      if (ygrid && yaxes.length > 0) {
                        grid = Grid.Collection.create({
                          dimension: 1,
                          parent: plot.ref(),
                          plot: plot.ref(),
                          axis: yaxes[0].ref()
                        });
                        grids.push(grid);
                        return plot.add_renderers((function() {
                          var _i, _len, _results;
                          _results = [];
                          for (_i = 0, _len = grids.length; _i < _len; _i++) {
                            g = grids[_i];
                            _results.push(g.ref());
                          }
                          return _results;
                        })());
                      }
                    };
                    add_tools = function(plot, tools, glyphs, xdr, ydr) {
                      var added_tools, box_zoom_overlay, box_zoom_tool, g, hover_tool, pan_tool, preview_tool, reset_tool, resize_tool, select_overlay, select_tool, wheel_zoom_tool;
                      if (tools === false) {
                        return;
                      }
                      if (tools === true) {
                        tools = "pan,wheel_zoom,select,resize,preview,reset,box_zoom";
                      }
                      added_tools = [];
                      if (tools.indexOf("pan") > -1) {
                        pan_tool = PanTool.Collection.create({
                          dataranges: [xdr.ref(), ydr.ref()],
                          dimensions: ['width', 'height']
                        });
                        added_tools.push(pan_tool);
                      }
                      if (tools.indexOf("wheel_zoom") > -1) {
                        wheel_zoom_tool = WheelZoomTool.Collection.create({
                          dataranges: [xdr.ref(), ydr.ref()],
                          dimensions: ['width', 'height']
                        });
                        added_tools.push(wheel_zoom_tool);
                      }
                      if (tools.indexOf("hover") > -1) {
                        hover_tool = HoverTool.Collection.create({
                          plot: plot.ref()
                        });
                        added_tools.push(hover_tool);
                      }
                      if (tools.indexOf("select") > -1) {
                        select_tool = BoxSelectTool.Collection.create({
                          renderers: (function() {
                            var _i, _len, _results;
                            _results = [];
                            for (_i = 0, _len = glyphs.length; _i < _len; _i++) {
                              g = glyphs[_i];
                              _results.push(g.ref());
                            }
                            return _results;
                          })()
                        });
                        select_overlay = BoxSelection.Collection.create({
                          tool: select_tool.ref()
                        });
                        added_tools.push(select_tool);
                        plot.add_renderers([select_overlay.ref()]);
                      }
                      if (tools.indexOf("resize") > -1) {
                        resize_tool = ResizeTool.Collection.create();
                        added_tools.push(resize_tool);
                      }
                      if (tools.indexOf("preview") > -1) {
                        preview_tool = PreviewSaveTool.Collection.create();
                        added_tools.push(preview_tool);
                      }
                      if (tools.indexOf("reset") > -1) {
                        reset_tool = ResetTool.Collection.create();
                        added_tools.push(reset_tool);
                      }
                      if (tools.indexOf("box_zoom") > -1) {
                        box_zoom_tool = BoxZoomTool.Collection.create();
                        box_zoom_overlay = BoxSelection.Collection.create({
                          tool: box_zoom_tool.ref()
                        });
                        added_tools.push(box_zoom_tool);
                        plot.add_renderers([box_zoom_overlay.ref()]);
                      }
                      return plot.set_obj('tools', added_tools);
                    };
                    add_legend = function(plot, legend, glyphs) {
                      var g, idx, legend_renderer, legends, _i, _len;
                      if (legend) {
                        legends = {};
                        for (idx = _i = 0, _len = glyphs.length; _i < _len; idx = ++_i) {
                          g = glyphs[idx];
                          legends[legend + String(idx)] = [g.ref()];
                        }
                        legend_renderer = Legend.Collection.create({
                          parent: plot.ref(),
                          plot: plot.ref(),
                          orientation: "top_right",
                          legends: legends
                        });
                        return plot.add_renderers([legend_renderer.ref()]);
                      }
                    };
                    make_plot = function(glyphspecs, data, _arg) {
                      var dims, g, glyphs, legend, nonselected, plot, sources, title, tools, xaxes, xdr, xgrid, xrange, yaxes, ydr, ygrid, yrange, _ref;
                      nonselected = _arg.nonselected, title = _arg.title, dims = _arg.dims, xrange = _arg.xrange, yrange = _arg.yrange, xaxes = _arg.xaxes, yaxes = _arg.yaxes, xgrid = _arg.xgrid, ygrid = _arg.ygrid, xdr = _arg.xdr, ydr = _arg.ydr, tools = _arg.tools, legend = _arg.legend;
                      if (nonselected == null) {
                        nonselected = null;
                      }
                      if (title == null) {
                        title = "";
                      }
                      if (dims == null) {
                        dims = [400, 400];
                      }
                      if (xrange == null) {
                        xrange = 'auto';
                      }
                      if (yrange == null) {
                        yrange = 'auto';
                      }
                      if (xaxes == null) {
                        xaxes = true;
                      }
                      if (yaxes == null) {
                        yaxes = true;
                      }
                      if (xgrid == null) {
                        xgrid = true;
                      }
                      if (ygrid == null) {
                        ygrid = true;
                      }
                      if (tools == null) {
                        tools = true;
                      }
                      if (legend == null) {
                        legend = false;
                      }
                      sources = create_sources(data);
                      xdr = create_range(xrange, sources, ['x']);
                      ydr = create_range(yrange, sources, ['y']);
                      plot = Plot.Collection.create({
                        x_range: xdr.ref(),
                        y_range: ydr.ref(),
                        canvas_width: dims[0],
                        canvas_height: dims[1],
                        outer_width: dims[0],
                        outer_height: dims[1],
                        title: title
                      });
                      glyphs = create_glyphs(plot, glyphspecs, sources, nonselected);
                      plot.add_renderers((function() {
                        var _i, _len, _results;
                        _results = [];
                        for (_i = 0, _len = glyphs.length; _i < _len; _i++) {
                          g = glyphs[_i];
                          _results.push(g.ref());
                        }
                        return _results;
                      })());
                      _ref = add_axes(plot, xaxes, yaxes, xdr, ydr), xaxes = _ref[0], yaxes = _ref[1];
                      add_grids(plot, xgrid, ygrid, xaxes, yaxes);
                      add_tools(plot, tools, glyphs, xdr, ydr);
                      add_legend(plot, legend, glyphs);
                      return plot;
                    };
                    show = function(plot, target_div) {
                      var div, myrender;
                      if (target_div == null) {
                        target_div = false;
                      }
                      div = $('<div class="plotdiv"></div>');
                      if (target_div) {
                        target_div = $(target_div);
                      } else {
                        target_div = $('body');
                      }
                      target_div.append(div);
                      myrender = function() {
                        var view;
                        view = new plot.default_view({
                          model: plot
                        });
                        window.pview = view;
                        div.append(view.$el);
                        return console.log("added plot: " + plot.get('title'));
                      };
                      return _.defer(myrender);
                    };
                    return {
                      "make_plot": make_plot,
                      "create_glyphs": create_glyphs,
                      "show": show
                    };
                  });
                
                }).call(this);
                
                /*
                //@ sourceMappingURL=plotting.js.map
                */;
                (function() {
                  define('common/affine',[], function() {
                    var Affine;
                    return Affine = (function() {
                      function Affine(a, b, c, d, tx, ty) {
                        this.a = a != null ? a : 1;
                        this.b = b != null ? b : 0;
                        this.c = c != null ? c : 0;
                        this.d = d != null ? d : 1;
                        this.tx = tx != null ? tx : 0;
                        this.ty = ty != null ? ty : 0;
                      }
                
                      Affine.prototype.apply = function(x, y) {
                        return [this.a * x + this.b * y + this.tx, this.c * x + this.d * y + this.ty];
                      };
                
                      Affine.prototype.v_apply = function(xs, ys) {
                        var i, xres, yres, _i, _ref;
                        xres = new Float32Array(xs.length);
                        yres = new Float32Array(ys.length);
                        for (i = _i = 0, _ref = xs.length; 0 <= _ref ? _i < _ref : _i > _ref; i = 0 <= _ref ? ++_i : --_i) {
                          xres[i] = this.a * xs[i] + this.b * ys[i] + this.tx;
                          yres[i] = this.c * xs[i] + this.d * ys[i] + this.ty;
                        }
                        return [xres, yres];
                      };
                
                      Affine.prototype.is_identity = function() {
                        return this.a === 1 && this.b === 0 && this.c === 0 && this.d === 1 && this.tx === 0 && this.ty === 0;
                      };
                
                      Affine.prototype.translate = function(tx, ty) {
                        this.tx = this.a * tx + this.b * ty;
                        return this.ty = this.c * tx + this.d * ty;
                      };
                
                      Affine.prototype.scale = function(sx, sy) {
                        this.a *= sx;
                        this.b *= sy;
                        this.c *= sx;
                        return this.d *= sy;
                      };
                
                      Affine.prototype.rotate = function(alpha) {
                        var C, S, a, b, c, d;
                        C = Math.cos(alpha);
                        S = Math.sin(alpha);
                        a = C * this.a + S * this.b;
                        b = C * this.b - S * this.a;
                        c = C * this.c + S * this.d;
                        d = C * this.d - S * this.c;
                        this.a = a;
                        this.b = b;
                        this.c = c;
                        return this.d = d;
                      };
                
                      Affine.prototype.shear = function(kx, ky) {
                        var a, b, c, d;
                        a = this.a + kx * this.c;
                        b = this.b + kx * this.d;
                        c = this.c + ky * this.a;
                        d = this.d + ky * this.b;
                        this.a = a;
                        this.b = b;
                        this.c = c;
                        return this.d = d;
                      };
                
                      Affine.prototype.reflect_x = function(x0) {
                        this.tx = 2 * this.a * x0 + this.tx;
                        this.ty = 2 * this.c * x0 + this.ty;
                        this.a = -this.a;
                        return this.c = -this.c;
                      };
                
                      Affine.prototype.reflect_y = function(y0) {
                        this.tx = 2 * this.b * y0 + this.tx;
                        this.ty = 2 * this.d * y0 + this.ty;
                        this.b = -this.b;
                        return this.d = -this.d;
                      };
                
                      Affine.prototype.reflect_xy = function(x0, y0) {
                        this.tx = 2 * (this.a * x0 + this.b * y0) + this.tx;
                        this.ty = 2 * (this.c * x0 + this.d * y0) + this.ty;
                        this.a = -this.a;
                        this.b = -this.b;
                        this.c = -this.c;
                        return this.d = -this.d;
                      };
                
                      Affine.prototype.compose_right = function(m) {
                        var a, b, c, d, tx, ty;
                        a = this.a * m.a + this.b * m.c;
                        b = this.a * m.b + this.b * m.d;
                        c = this.c * m.a + this.d * m.c;
                        d = this.c * m.b + this.d * m.d;
                        tx = this.a * m.tx + this.b * m.ty + this.tx;
                        ty = this.c * m.tx + this.d * m.ty + this.ty;
                        this.a = a;
                        this.b = b;
                        this.c = c;
                        this.d = d;
                        this.tx = tx;
                        return this.ty = ty;
                      };
                
                      Affine.prototype.compose_left = function(m) {
                        var a, b, c, d, tx, ty;
                        a = m.a * this.a + m.b * this.c;
                        b = m.a * this.b + m.b * this.d;
                        c = m.c * this.a + m.d * this.c;
                        d = m.c * this.b + m.d * this.d;
                        tx = m.a * this.tx + m.b * this.ty + m.tx;
                        ty = m.c * this.tx + m.d * this.ty + m.ty;
                        this.a = a;
                        this.b = b;
                        this.c = c;
                        this.d = d;
                        this.tx = tx;
                        return this.ty = ty;
                      };
                
                      return Affine;
                
                    })();
                  });
                
                }).call(this);
                
                /*
                //@ sourceMappingURL=affine.js.map
                */;
                (function() {
                  var __hasProp = {}.hasOwnProperty,
                    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };
                
                  define('common/png_view',["./continuum_view"], function(ContinuumView) {
                    var PNGView, _ref;
                    return PNGView = (function(_super) {
                      __extends(PNGView, _super);
                
                      function PNGView() {
                        _ref = PNGView.__super__.constructor.apply(this, arguments);
                        return _ref;
                      }
                
                      PNGView.prototype.initialize = function(options) {
                        PNGView.__super__.initialize.call(this, options);
                        this.thumb_x = options.thumb_x || 40;
                        this.thumb_y = options.thumb_y || 40;
                        this.render();
                        return this;
                      };
                
                      PNGView.prototype.render = function() {
                        var png;
                        this.$el.html('');
                        png = this.model.get('png');
                        this.$el.append($("<p> " + (this.model.get('title')) + " </p>"));
                        return this.$el.append($("<img modeltype='" + this.model.type + "' modelid='" + (this.model.get('id')) + "' class='pngview' width='" + this.thumb_x + "'  height='" + this.thumb_y + "'  src='" + png + "'/>"));
                      };
                
                      return PNGView;
                
                    })(ContinuumView.View);
                  });
                
                }).call(this);
                
                /*
                //@ sourceMappingURL=png_view.js.map
                */;
                (function() {
                  define('common/random',[], function() {
                    var Random;
                    return Random = (function() {
                      function Random(seed) {
                        this.seed = seed;
                        this.multiplier = 1664525;
                        this.modulo = 4294967296;
                        this.offset = 1013904223;
                        if (!((this.seed != null) && (0 <= seed && seed < this.modulo))) {
                          this.seed = (new Date().valueOf() * new Date().getMilliseconds()) % this.modulo;
                        }
                      }
                
                      Random.prototype.seed = function(seed) {
                        return this.seed = seed;
                      };
                
                      Random.prototype.randn = function() {
                        return this.seed = (this.multiplier * this.seed + this.offset) % this.modulo;
                      };
                
                      Random.prototype.randf = function() {
                        return this.randn() / this.modulo;
                      };
                
                      Random.prototype.rand = function(n) {
                        return Math.floor(this.randf() * n);
                      };
                
                      Random.prototype.rand2 = function(min, max) {
                        return min + this.rand(max - min);
                      };
                
                      return Random;
                
                    })();
                  });
                
                }).call(this);
                
                /*
                //@ sourceMappingURL=random.js.map
                */;
                (function() {
                  var __bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; };
                
                  define('common/socket',["backbone", "underscore", "common/base", "common/load_models"], function(Backbone, _, base, load_models) {
                    var Config, WebSocketWrapper, result, submodels;
                    Config = base.Config;
                    WebSocketWrapper = (function() {
                      _.extend(WebSocketWrapper.prototype, Backbone.Events);
                
                      function WebSocketWrapper(ws_conn_string) {
                        this.onmessage = __bind(this.onmessage, this);
                        var _this = this;
                        this.auth = {};
                        this.ws_conn_string = ws_conn_string;
                        this._connected = $.Deferred();
                        this.connected = this._connected.promise();
                        if (window.MozWebSocket) {
                          this.s = new MozWebSocket(ws_conn_string);
                        } else {
                          this.s = new WebSocket(ws_conn_string);
                        }
                        this.s.onopen = function() {
                          return _this._connected.resolve();
                        };
                        this.s.onmessage = this.onmessage;
                      }
                
                      WebSocketWrapper.prototype.onmessage = function(msg) {
                        var data, index, topic;
                        data = msg.data;
                        index = data.indexOf(":");
                        index = data.indexOf(":", index + 1);
                        topic = data.substring(0, index);
                        data = data.substring(index + 1);
                        this.trigger("msg:" + topic, data);
                        return null;
                      };
                
                      WebSocketWrapper.prototype.send = function(msg) {
                        var _this = this;
                        return $.when(this.connected).done(function() {
                          return _this.s.send(msg);
                        });
                      };
                
                      WebSocketWrapper.prototype.subscribe = function(topic, auth) {
                        var msg;
                        this.auth[topic] = auth;
                        msg = JSON.stringify({
                          msgtype: 'subscribe',
                          topic: topic,
                          auth: auth
                        });
                        return this.send(msg);
                      };
                
                      return WebSocketWrapper;
                
                    })();
                    submodels = function(wswrapper, topic, apikey) {
                      wswrapper.subscribe(topic, apikey);
                      return wswrapper.on("msg:" + topic, function(msg) {
                        var clientid, model, msgobj, ref, _i, _len, _ref;
                        msgobj = JSON.parse(msg);
                        if (msgobj['msgtype'] === 'modelpush') {
                          load_models(msgobj['modelspecs']);
                        } else if (msgobj['msgtype'] === 'modeldel') {
                          _ref = msgobj['modelspecs'];
                          for (_i = 0, _len = _ref.length; _i < _len; _i++) {
                            ref = _ref[_i];
                            model = resolve_ref(ref['type'], ref['id']);
                            if (model) {
                              model.destroy({
                                'local': true
                              });
                            }
                          }
                        } else if (msgobj['msgtype'] === 'status' && msgobj['status'][0] === 'subscribesuccess') {
                          clientid = msgobj['status'][2];
                          Config.clientid = clientid;
                          $.ajaxSetup({
                            'headers': {
                              'Continuum-Clientid': clientid
                            }
                          });
                        } else {
                          console.log(msgobj);
                        }
                        return null;
                      });
                    };
                    result = {
                      WebSocketWrapper: WebSocketWrapper,
                      submodels: submodels
                    };
                    return result;
                  });
                
                }).call(this);
                
                /*
                //@ sourceMappingURL=socket.js.map
                */;
                (function() {
                  define('server/serverutils',["common/base", "server/serverutils", "common/socket", "common/load_models", "backbone", "common/has_properties"], function(base, serverutils, socket, load_models, Backbone, HasProperties) {
                    var Deferreds, Promises, WebSocketWrapper, exports, submodels, utility;
                    Deferreds = {};
                    Promises = {};
                    exports = {};
                    WebSocketWrapper = socket.WebSocketWrapper;
                    submodels = socket.submodels;
                    Deferreds._doc_loaded = $.Deferred();
                    Deferreds._doc_requested = $.Deferred();
                    Promises.doc_loaded = Deferreds._doc_loaded.promise();
                    Promises.doc_requested = Deferreds._doc_requested.promise();
                    Promises.doc_promises = {};
                    exports.wswrapper = null;
                    exports.plotcontext = null;
                    exports.plotcontextview = null;
                    exports.Promises = Promises;
                    utility = {
                      load_one_object_chain: function(docid, objid) {
                        var Config, resp, url;
                        if (exports.wswrapper == null) {
                          utility.make_websocket();
                          HasProperties.prototype.sync = Backbone.sync;
                        }
                        Config = require("common/base").Config;
                        url = "" + Config.prefix + "bokeh/objinfo/" + docid + "/" + objid;
                        console.log(url);
                        resp = $.get(url);
                        resp.done(function(data) {
                          var all_models, apikey;
                          all_models = data['all_models'];
                          load_models(all_models);
                          apikey = data['apikey'];
                          return submodels(exports.wswrapper, "bokehplot:" + docid, apikey);
                        });
                        return resp;
                      },
                      load_user: function() {
                        var response;
                        response = $.get('/bokeh/userinfo/', {});
                        return response;
                      },
                      load_doc_once: function(docid) {
                        var doc_prom;
                        if (_.has(Promises.doc_promises, docid)) {
                          console.log("already found " + docid + " in promises");
                          return Promises.doc_promises[docid];
                        } else {
                          console.log("" + docid + " not in promises, loading it");
                          doc_prom = utility.load_doc(docid);
                          Promises.doc_promises[docid] = doc_prom;
                          return doc_prom;
                        }
                      },
                      load_doc_by_title: function(title) {
                        var Config, response;
                        Config = require("common/base").Config;
                        response = $.get(Config.prefix + "bokeh/doc", {
                          title: title
                        }).done(function(data) {
                          var all_models, apikey, docid;
                          all_models = data['all_models'];
                          load_models(all_models);
                          apikey = data['apikey'];
                          docid = data['docid'];
                          return submodels(exports.wswrapper, "bokehplot:" + docid, apikey);
                        });
                        return response;
                      },
                      load_doc_static: function(docid, data) {
                        " loads data without making a websocket connection ";
                        var promise;
                        load_data(data['all_models']);
                        promise = jQuery.Deferred();
                        promise.resolve();
                        return promise;
                      },
                      load_doc: function(docid) {
                        var Config, response, wswrapper;
                        wswrapper = utility.make_websocket();
                        Config = require("common/base").Config;
                        response = $.get(Config.prefix + ("bokeh/bokehinfo/" + docid + "/"), {}).done(function(data) {
                          var all_models, apikey;
                          all_models = data['all_models'];
                          load_models(all_models);
                          apikey = data['apikey'];
                          return submodels(exports.wswrapper, "bokehplot:" + docid, apikey);
                        });
                        return response;
                      },
                      make_websocket: function() {
                        var Config, wswrapper;
                        Config = require("common/base").Config;
                        wswrapper = new WebSocketWrapper(Config.ws_conn_string);
                        exports.wswrapper = wswrapper;
                        return wswrapper;
                      },
                      render_plots: function(plot_context_ref, viewclass, viewoptions) {
                        var Collections, options, plotcontext, plotcontextview;
                        if (viewclass == null) {
                          viewclass = null;
                        }
                        if (viewoptions == null) {
                          viewoptions = {};
                        }
                        Collections = require("common/base").Collections;
                        plotcontext = Collections(plot_context_ref.type).get(plot_context_ref.id);
                        if (!viewclass) {
                          viewclass = plotcontext.default_view;
                        }
                        options = _.extend(viewoptions, {
                          model: plotcontext
                        });
                        plotcontextview = new viewclass(options);
                        plotcontext = plotcontext;
                        plotcontextview = plotcontextview;
                        plotcontextview.render();
                        exports.plotcontext = plotcontext;
                        return exports.plotcontextview = plotcontextview;
                      },
                      bokeh_connection: function(host, docid, protocol) {
                        if (_.isUndefined(protocol)) {
                          protocol = "https";
                        }
                        if (Promises.doc_requested.state() === "pending") {
                          Deferreds._doc_requested.resolve();
                          return $.get("" + protocol + "://" + host + "/bokeh/publicbokehinfo/" + docid, {}, function(data) {
                            console.log('instatiate_doc_single, docid', docid);
                            data = JSON.parse(data);
                            load_models(data['all_models']);
                            return Deferreds._doc_loaded.resolve(data);
                          });
                        }
                      }
                    };
                    exports.utility = utility;
                    return exports;
                  });
                
                }).call(this);
                
                /*
                //@ sourceMappingURL=serverutils.js.map
                */;
                (function() {
                  var __indexOf = [].indexOf || function(item) { for (var i = 0, l = this.length; i < l; i++) { if (i in this && this[i] === item) return i; } return -1; };
                
                  define('server/embed_core',["common/base", "common/load_models", "server/serverutils"], function(base, load_models, serverutils) {
                    var addDirectPlot, addDirectPlotWrap, addPlot, addPlotWrap, exports, find_injections, foundEls, injectCss, parse_el, search_and_plot, serverLoad, unsatisfied_els, utility;
                    utility = serverutils.utility;
                    addPlotWrap = function(settings, dd) {
                      return addPlot(settings.bokeh_modelid, settings.bokeh_modeltype, settings.element, dd);
                    };
                    addPlot = function(modelid, modeltype, element, data) {
                      var data_plot_id, model, view;
                      data_plot_id = _.keys(data)[0];
                      if (!data_plot_id === modelid) {
                        return;
                      }
                      console.log("addPlot");
                      console.log(modelid, modeltype, element);
                      load_models(data[data_plot_id]);
                      model = base.Collections(modeltype).get(modelid);
                      view = new model.default_view({
                        model: model
                      });
                      view.render();
                      return _.delay(function() {
                        return $(element).replaceWith(view.$el);
                      });
                    };
                    addDirectPlotWrap = function(settings) {
                      console.log("addDirectPlotWrap");
                      return addDirectPlot(settings.bokeh_docid, settings.bokeh_ws_conn_string, settings.bokeh_docapikey, settings.bokeh_root_url, settings.bokeh_modelid, settings.bokeh_modeltype, settings.element);
                    };
                    serverLoad = function(docid, ws_conn_string, docapikey, root_url) {
                      var BokehConfig, headers;
                      console.log("serverLoad");
                      headers = {
                        'BOKEH-API-KEY': docapikey
                      };
                      $.ajaxSetup({
                        'headers': headers
                      });
                      BokehConfig = base.Config;
                      BokehConfig.prefix = root_url;
                      BokehConfig.ws_conn_string = ws_conn_string;
                      return utility.load_doc_once(docid);
                    };
                    addDirectPlot = function(docid, ws_conn_string, docapikey, root_url, modelid, modeltype, element) {
                      return serverLoad(docid, ws_conn_string, docapikey, root_url).done(function() {
                        var model, plot_collection, view;
                        console.log("addPlot");
                        console.log(modelid, modeltype, element);
                        plot_collection = base.Collections(modeltype);
                        model = plot_collection.get(modelid);
                        view = new model.default_view({
                          model: model
                        });
                        return _.delay(function() {
                          return $(element).replaceWith(view.$el);
                        });
                      });
                    };
                    injectCss = function(static_root_url) {
                      var css_urls, load_css;
                      css_urls = ["" + static_root_url + "css/bokeh.css"];
                      load_css = function(url) {
                        var link;
                        link = document.createElement('link');
                        link.href = url;
                        link.rel = "stylesheet";
                        link.type = "text/css";
                        return document.body.appendChild(link);
                      };
                      return _.map(css_urls, load_css);
                    };
                    foundEls = [];
                    parse_el = function(el) {
                      "this takes a bokeh embed script element and returns the relvant\nattributes through to a dictionary, ";
                      var attr, attrs, bokehCount, bokehRe, info, _i, _len;
                      attrs = el.attributes;
                      bokehRe = /bokeh.*/;
                      info = {};
                      bokehCount = 0;
                      for (_i = 0, _len = attrs.length; _i < _len; _i++) {
                        attr = attrs[_i];
                        if (attr.name.match(bokehRe)) {
                          info[attr.name] = attr.value;
                          bokehCount++;
                        }
                      }
                      if (bokehCount > 0) {
                        return info;
                      } else {
                        return false;
                      }
                    };
                    unsatisfied_els = {};
                    find_injections = function() {
                      var container, d, el, els, info, is_new_el, matches, new_settings, re, _i, _len;
                      els = document.getElementsByTagName('script');
                      re = /.*embed.js.*/;
                      new_settings = [];
                      for (_i = 0, _len = els.length; _i < _len; _i++) {
                        el = els[_i];
                        is_new_el = __indexOf.call(foundEls, el) < 0;
                        matches = el.src.match(re);
                        if (is_new_el && matches) {
                          foundEls.push(el);
                          info = parse_el(el);
                          d = document.createElement('div');
                          container = document.createElement('div');
                          container.className = "bokeh-container";
                          el.parentNode.insertBefore(container, el);
                          info['element'] = container;
                          new_settings.push(info);
                        }
                      }
                      return new_settings;
                    };
                    search_and_plot = function(dd) {
                      var new_plot_dicts, plot_from_dict;
                      plot_from_dict = function(info_dict, key) {
                        var dd_id;
                        if (info_dict.bokeh_plottype === 'embeddata') {
                          dd_id = _.keys(dd)[0];
                          if (key === dd_id) {
                            addPlotWrap(info_dict, dd);
                            return delete unsatisfied_els[key];
                          }
                        } else {
                          addDirectPlotWrap(info_dict);
                          return delete unsatisfied_els[key];
                        }
                      };
                      new_plot_dicts = find_injections();
                      _.each(new_plot_dicts, function(plotdict) {
                        return unsatisfied_els[plotdict['bokeh_modelid']] = plotdict;
                      });
                      return _.map(unsatisfied_els, plot_from_dict);
                    };
                    exports = {
                      search_and_plot: search_and_plot,
                      injectCss: injectCss
                    };
                    return exports;
                  });
                
                }).call(this);
                
                /*
                //@ sourceMappingURL=embed_core.js.map
                */;
                (function() {
                  define('server/embed',["jquery", "common/base", "common/load_models", "server/serverutils"], function($, base, load_models, serverutils) {
                    var add_plot_server, add_plot_static, inject_css, inject_plot;
                    inject_css = function(url) {
                      var link;
                      link = $("<link href='" + url + "' rel='stylesheet' type='text/css'>");
                      return $('body').append(link);
                    };
                    add_plot_static = function(element, info, all_models) {
                      var model, modelid, modeltype, view;
                      modelid = info['bokehModelid'];
                      load_models(all_models);
                      modeltype = info['bokehModeltype'];
                      model = base.Collections(modeltype).get(modelid);
                      view = new model.default_view({
                        model: model
                      });
                      return _.delay(function() {
                        return $(element).replaceWith(view.$el);
                      });
                    };
                    add_plot_server = function(element, info) {
                      var resp;
                      resp = serverutils.utility.load_one_object_chain(info["bokehDocid"], info["bokehModelid"]);
                      return resp.done(function(data) {
                        var model, view;
                        model = base.Collections(info["bokehModeltype"]).get(info["bokehModelid"]);
                        view = new model.default_view({
                          model: model
                        });
                        return _.delay(function() {
                          return $(element).replaceWith(view.$el);
                        });
                      });
                    };
                    inject_plot = function(element_id, all_models) {
                      var container, info, script;
                      console.log("Injecting plot for script tag with id: #" + element_id);
                      script = $("#" + element_id);
                      if (script.length === 0) {
                        throw "Error injecting plot: could not find script tag with id: " + element_id;
                      }
                      if (script.length > 1) {
                        throw "Error injecting plot: found too many script tags with id: " + element_id;
                      }
                      if (!document.body.contains(script[0])) {
                        throw "Error injecting plot: autoload script tag may only be under <body>";
                      }
                      info = script.data();
                      base.Config.ws_conn_string = info['bokehConnString'];
                      base.Config.prefix = info['bokehRootUrl'];
                      container = $('<div>', {
                        "class": 'bokeh-container'
                      });
                      container.insertBefore(script);
                      if (info.bokehData === "static") {
                        console.log(" - using static data");
                        return add_plot_static(container, info, all_models);
                      } else if (info.bokehData === "server") {
                        console.log(" - using server data");
                        return add_plot_server(container, info);
                      } else {
                        throw "Unknown bokehData value for inject_plot: " + info.bokehData;
                      }
                    };
                    return {
                      "inject_plot": inject_plot,
                      "add_plot_server": add_plot_server,
                      "add_plot_static": add_plot_static,
                      "inject_css": inject_css
                    };
                  });
                
                }).call(this);
                
                /*
                //@ sourceMappingURL=embed.js.map
                */;
                define('server/usercontext/userdocstemplate',[],function(){
                  var template = function(__obj) {
                  var _safe = function(value) {
                    if (typeof value === 'undefined' && value == null)
                      value = '';
                    var result = new String(value);
                    result.ecoSafe = true;
                    return result;
                  };
                  return (function() {
                    var __out = [], __self = this, _print = function(value) {
                      if (typeof value !== 'undefined' && value != null)
                        __out.push(value.ecoSafe ? value : __self.escape(value));
                    }, _capture = function(callback) {
                      var out = __out, result;
                      __out = [];
                      callback.call(this);
                      result = __out.join('');
                      __out = out;
                      return _safe(result);
                    };
                    (function() {
                      _print(_safe('<div class="accordion">\n</div>\n'));
                    
                    }).call(this);
                    
                    return __out.join('');
                  }).call((function() {
                    var obj = {
                      escape: function(value) {
                        return ('' + value)
                          .replace(/&/g, '&amp;')
                          .replace(/</g, '&lt;')
                          .replace(/>/g, '&gt;')
                          .replace(/"/g, '&quot;');
                      },
                      safe: _safe
                    }, key;
                    for (key in __obj) obj[key] = __obj[key];
                    return obj;
                  })());
                };
                  return template;
                });
                
                define('server/usercontext/documentationtemplate',[],function(){
                  var template = function(__obj) {
                  var _safe = function(value) {
                    if (typeof value === 'undefined' && value == null)
                      value = '';
                    var result = new String(value);
                    result.ecoSafe = true;
                    return result;
                  };
                  return (function() {
                    var __out = [], __self = this, _print = function(value) {
                      if (typeof value !== 'undefined' && value != null)
                        __out.push(value.ecoSafe ? value : __self.escape(value));
                    }, _capture = function(callback) {
                      var out = __out, result;
                      __out = [];
                      callback.call(this);
                      result = __out.join('');
                      __out = out;
                      return _safe(result);
                    };
                    (function() {
                      _print(_safe('<p>\n  <b>\n    You have no Plots. Follow the instructions below to create some.\n  </b>\n</p>\n'));
                    
                    }).call(this);
                    
                    return __out.join('');
                  }).call((function() {
                    var obj = {
                      escape: function(value) {
                        return ('' + value)
                          .replace(/&/g, '&amp;')
                          .replace(/</g, '&lt;')
                          .replace(/>/g, '&gt;')
                          .replace(/"/g, '&quot;');
                      },
                      safe: _safe
                    }, key;
                    for (key in __obj) obj[key] = __obj[key];
                    return obj;
                  })());
                };
                  return template;
                });
                
                define('server/usercontext/wrappertemplate',[],function(){
                  var template = function(__obj) {
                  var _safe = function(value) {
                    if (typeof value === 'undefined' && value == null)
                      value = '';
                    var result = new String(value);
                    result.ecoSafe = true;
                    return result;
                  };
                  return (function() {
                    var __out = [], __self = this, _print = function(value) {
                      if (typeof value !== 'undefined' && value != null)
                        __out.push(value.ecoSafe ? value : __self.escape(value));
                    }, _capture = function(callback) {
                      var out = __out, result;
                      __out = [];
                      callback.call(this);
                      result = __out.join('');
                      __out = out;
                      return _safe(result);
                    };
                    (function() {
                      _print(_safe('<div class="panel panel-default">\n  <div class="panel-heading">\n    <h4 class="panel-title">\n      <a class="bokehdoclabel" href="#'));
                    
                      _print(this.bodyid);
                    
                      _print(_safe('" data-toggle="collapse">\n        Document: '));
                    
                      _print(this.model.get('title'));
                    
                      _print(_safe(' <span class="bokehdelete glyphicon glyphicon-trash"></i>\n      </a>\n    </h4>\n  </div>\n  <div id="'));
                    
                      _print(this.bodyid);
                    
                      _print(_safe('" class="panel-collapse collapse">\n    <div class="panel-body plots"></div>\n  </div>\n</div>\n'));
                    
                    }).call(this);
                    
                    return __out.join('');
                  }).call((function() {
                    var obj = {
                      escape: function(value) {
                        return ('' + value)
                          .replace(/&/g, '&amp;')
                          .replace(/</g, '&lt;')
                          .replace(/>/g, '&gt;')
                          .replace(/"/g, '&quot;');
                      },
                      safe: _safe
                    }, key;
                    for (key in __obj) obj[key] = __obj[key];
                    return obj;
                  })());
                };
                  return template;
                });
                
                (function() {
                  var __hasProp = {}.hasOwnProperty,
                    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };
                
                  define('server/usercontext/usercontext',["underscore", "jquery", "common/base", "../serverutils", "common/continuum_view", "./userdocstemplate", "./documentationtemplate", "./wrappertemplate", "common/has_parent", "common/build_views", "common/load_models"], function(_, $, base, serverutils, continuum_view, userdocstemplate, documentationtemplate, wrappertemplate, HasParent, build_views, load_models) {
                    var ContinuumView, Doc, DocView, UserDocs, UserDocsView, exports, utility, _ref, _ref1, _ref2, _ref3;
                    exports = {};
                    ContinuumView = continuum_view.View;
                    utility = serverutils.utility;
                    DocView = (function(_super) {
                      __extends(DocView, _super);
                
                      function DocView() {
                        _ref = DocView.__super__.constructor.apply(this, arguments);
                        return _ref;
                      }
                
                      DocView.prototype.template = wrappertemplate;
                
                      DocView.prototype.attributes = {
                        "class": 'panel-group'
                      };
                
                      DocView.prototype.events = {
                        "click .bokehdoclabel": "loaddoc",
                        "click .bokehdelete": "deldoc"
                      };
                
                      DocView.prototype.deldoc = function(e) {
                        e.preventDefault();
                        this.model.destroy();
                        return false;
                      };
                
                      DocView.prototype.loaddoc = function() {
                        return this.model.load();
                      };
                
                      DocView.prototype.initialize = function(options) {
                        DocView.__super__.initialize.call(this, options);
                        return this.render_init();
                      };
                
                      DocView.prototype.delegateEvents = function(events) {
                        DocView.__super__.delegateEvents.call(this, events);
                        return this.listenTo(this.model, 'loaded', this.render);
                      };
                
                      DocView.prototype.render_init = function() {
                        var html;
                        html = this.template({
                          model: this.model,
                          bodyid: _.uniqueId()
                        });
                        return this.$el.html(html);
                      };
                
                      DocView.prototype.render = function() {
                        var plot_context;
                        plot_context = this.model.get_obj('plot_context');
                        this.plot_context_view = new plot_context.default_view({
                          model: plot_context
                        });
                        this.$el.find('.plots').append(this.plot_context_view.el);
                        return true;
                      };
                
                      return DocView;
                
                    })(ContinuumView);
                    UserDocsView = (function(_super) {
                      __extends(UserDocsView, _super);
                
                      function UserDocsView() {
                        _ref1 = UserDocsView.__super__.constructor.apply(this, arguments);
                        return _ref1;
                      }
                
                      UserDocsView.prototype.initialize = function(options) {
                        this.docs = options.docs;
                        this.collection = options.collection;
                        this.views = {};
                        UserDocsView.__super__.initialize.call(this, options);
                        return this.render();
                      };
                
                      UserDocsView.prototype.attributes = {
                        "class": 'usercontext'
                      };
                
                      UserDocsView.prototype.events = {
                        'click .bokehrefresh': function() {
                          return this.collection.fetch({
                            update: true
                          });
                        }
                      };
                
                      UserDocsView.prototype.delegateEvents = function(events) {
                        var _this = this;
                        UserDocsView.__super__.delegateEvents.call(this, events);
                        this.listenTo(this.collection, 'add', this.render);
                        this.listenTo(this.collection, 'remove', this.render);
                        this.listenTo(this.collection, 'add', function(model, collection, options) {
                          return _this.listenTo(model, 'loaded', function() {
                            return _this.listenTo(model.get_obj('plot_context'), 'change', function() {
                              return _this.trigger('show');
                            });
                          });
                        });
                        return this.listenTo(this.collection, 'remove', function(model, collection, options) {
                          return _this.stopListening(model);
                        });
                      };
                
                      UserDocsView.prototype.render_docs = function() {
                        this.$el.html(documentationtemplate());
                        return this.$el.append(this.docs);
                      };
                
                      UserDocsView.prototype.render = function() {
                        var html, model, models, _i, _len;
                        if (this.collection.models.length === 0 && this.docs) {
                          return this.render_docs();
                        }
                        html = userdocstemplate();
                        _.map(_.values(this.views), function(view) {
                          return view.$el.detach();
                        });
                        models = this.collection.models.slice().reverse();
                        build_views(this.views, models, {});
                        this.$el.html(html);
                        for (_i = 0, _len = models.length; _i < _len; _i++) {
                          model = models[_i];
                          this.$el.find(".accordion").append(this.views[model.id].el);
                        }
                        return this;
                      };
                
                      return UserDocsView;
                
                    })(ContinuumView);
                    Doc = (function(_super) {
                      __extends(Doc, _super);
                
                      function Doc() {
                        _ref2 = Doc.__super__.constructor.apply(this, arguments);
                        return _ref2;
                      }
                
                      Doc.prototype.default_view = DocView;
                
                      Doc.prototype.idAttribute = 'docid';
                
                      Doc.prototype.defaults = {
                        docid: null,
                        title: null,
                        plot_context: null,
                        apikey: null
                      };
                
                      Doc.prototype.sync = function() {};
                
                      Doc.prototype.destroy = function(options) {
                        Doc.__super__.destroy.call(this, options);
                        return $.ajax({
                          url: "/bokeh/doc/" + (this.get('docid')) + "/",
                          type: 'delete'
                        });
                      };
                
                      Doc.prototype.load = function(use_title) {
                        var docid, resp, title,
                          _this = this;
                        if (this.loaded) {
                          return;
                        }
                        if (use_title) {
                          title = this.get('title');
                          resp = utility.load_doc_by_title(title);
                        } else {
                          docid = this.get('docid');
                          resp = utility.load_doc(docid);
                        }
                        return resp.done(function(data) {
                          _this.set('docid', data.docid);
                          _this.set('apikey', data['apikey']);
                          _this.set('plot_context', data['plot_context_ref']);
                          _this.trigger('loaded');
                          return _this.loaded = true;
                        });
                      };
                
                      return Doc;
                
                    })(HasParent);
                    UserDocs = (function(_super) {
                      __extends(UserDocs, _super);
                
                      function UserDocs() {
                        _ref3 = UserDocs.__super__.constructor.apply(this, arguments);
                        return _ref3;
                      }
                
                      UserDocs.prototype.model = Doc;
                
                      UserDocs.prototype.subscribe = function(wswrapper, username) {
                        wswrapper.subscribe("bokehuser:" + username, null);
                        return this.listenTo(wswrapper, "msg:bokehuser:" + username, function(msg) {
                          msg = JSON.parse(msg);
                          if (msg['msgtype'] === 'docchange') {
                            return this.fetch({
                              update: true
                            });
                          }
                        });
                      };
                
                      UserDocs.prototype.fetch = function(options) {
                        var resp, response, url,
                          _this = this;
                        if (_.isUndefined(options)) {
                          options = {};
                        }
                        url = base.Config.prefix + "bokeh/userinfo/";
                        resp = response = $.get(url, {});
                        resp.done(function(data) {
                          var docs;
                          docs = data['docs'];
                          if (options.update) {
                            return _this.set(docs, options);
                          } else {
                            return _this.reset(docs, options);
                          }
                        });
                        return resp;
                      };
                
                      return UserDocs;
                
                    })(Backbone.Collection);
                    exports.UserDocs = UserDocs;
                    exports.UserDocsView = UserDocsView;
                    exports.Doc = Doc;
                    exports.DocView = DocView;
                    return exports;
                  });
                
                }).call(this);
                
                /*
                //@ sourceMappingURL=usercontext.js.map
                */;
                (function() {
                  define('server/serverrun',["common/base", "./serverutils", "./usercontext/usercontext", "common/has_properties"], function(base, serverutils, usercontext, HasProperties) {
                    var Config, Promises, load, load_one_object, reload, _render, _render_all, _render_one;
                    Config = base.Config;
                    Promises = serverutils.Promises;
                    Config.ws_conn_string = "ws://" + window.location.host + "/bokeh/sub";
                    reload = function() {
                      var ping_url;
                      Config = require("common/base").Config;
                      ping_url = "" + Config.prefix + "bokeh/ping";
                      $.get(ping_url).success(function() {
                        console.log('reloading');
                        return window.location.reload();
                      }).fail(_.delay((function() {
                        return reload();
                      }), 1000));
                      return null;
                    };
                    load_one_object = function(docid, objid) {
                      HasProperties.prototype.sync = Backbone.sync;
                      return $(function() {
                        var resp, wswrapper;
                        wswrapper = serverutils.utility.make_websocket();
                        resp = serverutils.utility.load_one_object_chain(docid, objid);
                        resp.done(function(data) {
                          var model, view;
                          model = base.Collections(data.type).get(objid);
                          view = new model.default_view({
                            model: model
                          });
                          return _render(view.el);
                        });
                        wswrapper.subscribe("debug:debug", "");
                        return wswrapper.on('msg:debug:debug', function(msg) {
                          if (msg === 'reload') {
                            return reload();
                          }
                        });
                      });
                    };
                    load = function(title) {
                      HasProperties.prototype.sync = Backbone.sync;
                      return $(function() {
                        var userdocs, wswrapper;
                        wswrapper = serverutils.utility.make_websocket();
                        userdocs = new usercontext.UserDocs();
                        userdocs.subscribe(wswrapper, 'defaultuser');
                        window.userdocs = userdocs;
                        load = userdocs.fetch();
                        load.done(function() {
                          if (title != null) {
                            return _render_one(userdocs, title);
                          } else {
                            return _render_all(userdocs);
                          }
                        });
                        console.log('subscribing to debug');
                        wswrapper.subscribe("debug:debug", "");
                        return wswrapper.on('msg:debug:debug', function(msg) {
                          if (msg === 'reload') {
                            return reload();
                          }
                        });
                      });
                    };
                    _render_all = function(userdocs) {
                      var userdocsview;
                      userdocsview = new usercontext.UserDocsView({
                        collection: userdocs
                      });
                      return _render(userdocsview.el);
                    };
                    _render_one = function(userdocs, title) {
                      var doc, msg;
                      doc = userdocs.find(function(doc) {
                        return doc.get('title') === title;
                      });
                      if (doc != null) {
                        doc.on('loaded', function() {
                          var plot_context, plot_context_view;
                          plot_context = doc.get_obj('plot_context');
                          plot_context_view = new plot_context.default_view({
                            model: plot_context
                          });
                          return _render(plot_context_view.el);
                        });
                        return doc.load();
                      } else {
                        msg = "Document '" + title + "' wasn't found on this server.";
                        _render(msg);
                        return console.error(msg);
                      }
                    };
                    _render = function(html) {
                      return $('#PlotPane').append(html);
                    };
                    return {
                      load: load,
                      load_one_object: load_one_object
                    };
                  });
                
                }).call(this);
                
                /*
                //@ sourceMappingURL=serverrun.js.map
                */;
                (function() {
                  define('main',['require','exports','module','underscore','jquery','backbone','common/base','common/base','common/gmap_plot','common/grid_plot','common/has_parent','common/has_properties','common/plot','common/plotting','common/affine','common/build_views','common/bulk_save','common/continuum_view','common/grid_view_state','common/load_models','common/plot_context','common/plot_widget','common/png_view','common/random','common/safebind','common/svg_colors','common/view_state','mapper/1d/linear_mapper','mapper/1d/log_mapper','mapper/1d/categorical_mapper','mapper/2d/grid_mapper','mapper/color/linear_color_mapper','palettes/palettes','renderer/annotation/legend','renderer/glyph/glyph','renderer/glyph/glyph_factory','renderer/guide/categorical_axis','renderer/guide/datetime_axis','renderer/guide/grid','renderer/guide/linear_axis','renderer/guide/log_axis','renderer/overlay/box_selection','renderer/properties','server/embed_core','server/embed','server/serverrun','server/serverutils','source/column_data_source','ticking/abstract_ticker','ticking/adaptive_ticker','ticking/basic_ticker','ticking/basic_tick_formatter','ticking/log_ticker','ticking/log_tick_formatter','ticking/categorical_ticker','ticking/categorical_tick_formatter','ticking/composite_ticker','ticking/datetime_ticker','ticking/datetime_tick_formatter','ticking/days_ticker','ticking/months_ticker','ticking/single_interval_ticker','ticking/years_ticker','tool/box_select_tool','tool/box_zoom_tool','tool/click_tool','tool/crosshair_tool','tool/data_range_box_select_tool','tool/embed_tool','tool/hover_tool','tool/pan_tool','tool/preview_save_tool','tool/reset_tool','tool/resize_tool','tool/wheel_zoom_tool','tool/object_explorer_tool','server/serverrun','server/serverrun','widget/data_slider','widget/hbox','widget/vbox','widget/vboxmodelform','widget/textinput','widget/crossfilter','widget/object_explorer'],function(require, exports, module) {
                    var Bokeh, glyph_factory, _oldJQ;
                    if (!window.Float64Array) {
                      console.warn("Float64Array is not supported. Using generic Array instead.");
                      window.Float64Array = Array;
                    }
                    Bokeh = {};
                    Bokeh.require = require;
                    Bokeh.version = '0.5.0';
                    Bokeh._ = require("underscore");
                    Bokeh.$ = require("jquery");
                    Bokeh.Backbone = require("backbone");
                    _oldJQ = window.$;
                    window.jQuery.noConflict();
                    if (typeof $ === "undefined") {
                      window.$ = _oldJQ;
                    }
                    Bokeh.Collections = require("common/base").Collections;
                    Bokeh.Config = require("common/base").Config;
                    Bokeh.GMapPlot = require("common/gmap_plot");
                    Bokeh.GridPlot = require("common/grid_plot");
                    Bokeh.HasParent = require("common/has_parent");
                    Bokeh.HasProperties = require("common/has_properties");
                    Bokeh.Plot = require("common/plot");
                    Bokeh.Plotting = require("common/plotting");
                    Bokeh.Affine = require("common/affine");
                    Bokeh.build_views = require("common/build_views");
                    Bokeh.bulk_save = require("common/bulk_save");
                    Bokeh.ContinuumView = require("common/continuum_view");
                    Bokeh.GridViewState = require("common/grid_view_state");
                    Bokeh.load_models = require("common/load_models");
                    Bokeh.PlotContext = require("common/plot_context");
                    Bokeh.PlotWidget = require("common/plot_widget");
                    Bokeh.PNGView = require("common/png_view");
                    Bokeh.Random = require("common/random");
                    Bokeh.safebind = require("common/safebind");
                    Bokeh.SVGColors = require("common/svg_colors");
                    Bokeh.ViewState = require("common/view_state");
                    Bokeh.LinearMapper = require("mapper/1d/linear_mapper");
                    Bokeh.LogMapper = require("mapper/1d/log_mapper");
                    Bokeh.CategoricalMapper = require("mapper/1d/categorical_mapper");
                    Bokeh.GridMapper = require("mapper/2d/grid_mapper");
                    Bokeh.LinearColorMapper = require("mapper/color/linear_color_mapper");
                    Bokeh.Palettes = require("palettes/palettes");
                    Bokeh.Legend = require("renderer/annotation/legend");
                    Bokeh.Glyph = require("renderer/glyph/glyph");
                    glyph_factory = require("renderer/glyph/glyph_factory");
                    Bokeh.AnnularWedge = glyph_factory.annular_wedge;
                    Bokeh.Annulus = glyph_factory.annulus;
                    Bokeh.Arc = glyph_factory.arc;
                    Bokeh.Asterisk = glyph_factory.asterisk;
                    Bokeh.Bezier = glyph_factory.bezier;
                    Bokeh.Circle = glyph_factory.circle;
                    Bokeh.CircleCross = glyph_factory.circle_cross;
                    Bokeh.CircleX = glyph_factory.circle_x;
                    Bokeh.Cross = glyph_factory.cross;
                    Bokeh.Diamond = glyph_factory.diamond;
                    Bokeh.DiamondCross = glyph_factory.diamond_cross;
                    Bokeh.Image = glyph_factory.image;
                    Bokeh.ImageRGBA = glyph_factory.image_rgba;
                    Bokeh.ImageURL = glyph_factory.image_url;
                    Bokeh.InvertedTriangle = glyph_factory.inverted_triangle;
                    Bokeh.Line = glyph_factory.line;
                    Bokeh.MultiLine = glyph_factory.multi_line;
                    Bokeh.Oval = glyph_factory.oval;
                    Bokeh.Patch = glyph_factory.patch;
                    Bokeh.Patches = glyph_factory.patches;
                    Bokeh.Quad = glyph_factory.quad;
                    Bokeh.Quadratic = glyph_factory.quadratic;
                    Bokeh.Ray = glyph_factory.ray;
                    Bokeh.Rect = glyph_factory.rect;
                    Bokeh.Segment = glyph_factory.segment;
                    Bokeh.Square = glyph_factory.square;
                    Bokeh.SquareCross = glyph_factory.square_cross;
                    Bokeh.SquareX = glyph_factory.square_x;
                    Bokeh.Text = glyph_factory.text;
                    Bokeh.Triangle = glyph_factory.triangle;
                    Bokeh.Wedge = glyph_factory.wedge;
                    Bokeh.X = glyph_factory.x;
                    Bokeh.CategoricalAxis = require("renderer/guide/categorical_axis");
                    Bokeh.DatetimeAxis = require("renderer/guide/datetime_axis");
                    Bokeh.Grid = require("renderer/guide/grid");
                    Bokeh.LinearAxis = require("renderer/guide/linear_axis");
                    Bokeh.LogAxis = require("renderer/guide/log_axis");
                    Bokeh.BoxSelection = require("renderer/overlay/box_selection");
                    Bokeh.Properties = require("renderer/properties");
                    Bokeh.embed_core = require("server/embed_core");
                    Bokeh.embed = require("server/embed");
                    Bokeh.serverrun = require("server/serverrun");
                    Bokeh.serverutils = require("server/serverutils");
                    Bokeh.ColumnDataSource = require("source/column_data_source");
                    Bokeh.AbstractTicker = require("ticking/abstract_ticker");
                    Bokeh.AdaptiveTicker = require("ticking/adaptive_ticker");
                    Bokeh.BasicTicker = require("ticking/basic_ticker");
                    Bokeh.BasicTickFormatter = require("ticking/basic_tick_formatter");
                    Bokeh.LogTicker = require("ticking/log_ticker");
                    Bokeh.LogTickFormatter = require("ticking/log_tick_formatter");
                    Bokeh.CategoricalTicker = require("ticking/categorical_ticker");
                    Bokeh.CategoricalTickFormatter = require("ticking/categorical_tick_formatter");
                    Bokeh.CompositeTicker = require("ticking/composite_ticker");
                    Bokeh.DatetimeTicker = require("ticking/datetime_ticker");
                    Bokeh.DatetimeTickFormatter = require("ticking/datetime_tick_formatter");
                    Bokeh.DaysTicker = require("ticking/days_ticker");
                    Bokeh.MonthsTicker = require("ticking/months_ticker");
                    Bokeh.SingleIntervalTicker = require("ticking/single_interval_ticker");
                    Bokeh.YearsTicker = require("ticking/years_ticker");
                    Bokeh.BoxSelectTool = require("tool/box_select_tool");
                    Bokeh.BoxZoomTool = require("tool/box_zoom_tool");
                    Bokeh.ClickTool = require("tool/click_tool");
                    Bokeh.CrosshairTool = require("tool/crosshair_tool");
                    Bokeh.DataRangeBoxSelectTool = require("tool/data_range_box_select_tool");
                    Bokeh.EmbedTool = require("tool/embed_tool");
                    Bokeh.HoverTool = require("tool/hover_tool");
                    Bokeh.PanTool = require("tool/pan_tool");
                    Bokeh.PreviewSaveTool = require("tool/preview_save_tool");
                    Bokeh.ResetTool = require("tool/reset_tool");
                    Bokeh.ResizeTool = require("tool/resize_tool");
                    Bokeh.WheelZoomTool = require("tool/wheel_zoom_tool");
                    Bokeh.ObjectExplorerTool = require("tool/object_explorer_tool");
                    Bokeh.one_object_page = require("server/serverrun").load_one_object;
                    Bokeh.server_page = require("server/serverrun").load;
                    Bokeh.DataSlider = require("widget/data_slider");
                    Bokeh.HBox = require("widget/hbox");
                    Bokeh.VBox = require("widget/vbox");
                    Bokeh.VBoxModelForm = require("widget/vboxmodelform");
                    Bokeh.TextInput = require("widget/textinput");
                    Bokeh.CrossFilter = require("widget/crossfilter");
                    Bokeh.ObjectExplorer = require("widget/object_explorer");
                    exports.Bokeh = Bokeh;
                    return Bokeh;
                  });
                
                }).call(this);
                
                /*
                //@ sourceMappingURL=main.js.map
                */;
                
                  //The modules for your project will be inlined above
                  //this snippet. Ask almond to synchronously require the
                  //module value for 'main' here and return it as the
                  //value to use for the public API for the built file.
                  return require('main');
                }));
                
                /* END /usr/local/lib/python3.4/dist-packages/bokeh/server/static/js/bokeh.js */
        </script>

        <script type="text/javascript">
            $(function() {
                var modelid = "8eff0786-8f20-4487-af1b-6ef20cc21fcc";
                var modeltype = "PlotContext";
                var elementid = "66076f04-c804-4634-a5cc-5abfa74afa57";
                console.log("  modeltype:", modeltype);
                console.log("  modelid:", modelid);
                console.log("  elementid:", elementid);
                var all_models = [{"type": "BasicTickFormatter", "attributes": {"doc": "b0e5ddd7-c6b3-4637-9b38-c8f81794246d", "id": "f66badce-c8aa-4670-930c-5616e576382f"}, "id": "f66badce-c8aa-4670-930c-5616e576382f"}, {"type": "Grid", "attributes": {"axis": {"type": "LinearAxis", "id": "23acb296-8a99-4070-8de0-7ba7fc5426b9"}, "doc": "b0e5ddd7-c6b3-4637-9b38-c8f81794246d", "dimension": 0, "plot": {"type": "Plot", "id": "d6926d79-8fb0-4a36-ae40-e2ef2bbda895"}, "id": "375bbd1d-f3d4-4954-8fca-32c62c0c88b5"}, "id": "375bbd1d-f3d4-4954-8fca-32c62c0c88b5"}, {"type": "BoxSelectTool", "attributes": {"renderers": [{"type": "Glyph", "id": "4e74e851-1e52-4260-a910-64a60d2b3ec0"}], "doc": "b0e5ddd7-c6b3-4637-9b38-c8f81794246d", "plot": null, "id": "91e304d7-1c1a-4682-9d08-a13112ba4d11"}, "id": "91e304d7-1c1a-4682-9d08-a13112ba4d11"}, {"type": "DataRange1d", "attributes": {"sources": [{"source": {"type": "ColumnDataSource", "id": "ccba5595-af37-4870-acad-c01ab8da20c2"}, "columns": ["y"]}], "doc": "b0e5ddd7-c6b3-4637-9b38-c8f81794246d", "id": "7b54b5ca-7b35-405c-b6a1-9fc7452808c6"}, "id": "7b54b5ca-7b35-405c-b6a1-9fc7452808c6"}, {"type": "Legend", "attributes": {"doc": "b0e5ddd7-c6b3-4637-9b38-c8f81794246d", "plot": {"type": "Plot", "id": "d6926d79-8fb0-4a36-ae40-e2ef2bbda895"}, "legends": {"Archimedean": [{"type": "Glyph", "id": "4e74e851-1e52-4260-a910-64a60d2b3ec0"}]}, "id": "2b980927-5d11-4837-afc2-92f6df9d0be4"}, "id": "2b980927-5d11-4837-afc2-92f6df9d0be4"}, {"type": "LinearAxis", "attributes": {"location": "min", "formatter": {"type": "BasicTickFormatter", "id": "f66badce-c8aa-4670-930c-5616e576382f"}, "ticker": {"type": "BasicTicker", "id": "bc91736b-45d6-477f-b44a-8162d0b87287"}, "dimension": 0, "plot": {"type": "Plot", "id": "d6926d79-8fb0-4a36-ae40-e2ef2bbda895"}, "bounds": "auto", "id": "23acb296-8a99-4070-8de0-7ba7fc5426b9", "doc": "b0e5ddd7-c6b3-4637-9b38-c8f81794246d"}, "id": "23acb296-8a99-4070-8de0-7ba7fc5426b9"}, {"type": "BasicTicker", "attributes": {"num_minor_ticks": 5, "doc": "b0e5ddd7-c6b3-4637-9b38-c8f81794246d", "id": "bc91736b-45d6-477f-b44a-8162d0b87287"}, "id": "bc91736b-45d6-477f-b44a-8162d0b87287"}, {"type": "BoxZoomTool", "attributes": {"plot": {"type": "Plot", "id": "d6926d79-8fb0-4a36-ae40-e2ef2bbda895"}, "doc": "b0e5ddd7-c6b3-4637-9b38-c8f81794246d", "id": "3b394d88-ce9b-4e28-bf02-8be42d9666b0"}, "id": "3b394d88-ce9b-4e28-bf02-8be42d9666b0"}, {"type": "DataRange1d", "attributes": {"sources": [{"source": {"type": "ColumnDataSource", "id": "ccba5595-af37-4870-acad-c01ab8da20c2"}, "columns": ["x"]}], "doc": "b0e5ddd7-c6b3-4637-9b38-c8f81794246d", "id": "8f3b7ed7-2e15-4401-8d20-f85c986571b9"}, "id": "8f3b7ed7-2e15-4401-8d20-f85c986571b9"}, {"type": "BasicTicker", "attributes": {"num_minor_ticks": 5, "doc": "b0e5ddd7-c6b3-4637-9b38-c8f81794246d", "id": "ba9b591a-6026-4b8c-a618-a4687b318763"}, "id": "ba9b591a-6026-4b8c-a618-a4687b318763"}, {"type": "LinearAxis", "attributes": {"location": "min", "formatter": {"type": "BasicTickFormatter", "id": "e2e48c8a-0756-4c6b-9937-ee1e89520e43"}, "ticker": {"type": "BasicTicker", "id": "ba9b591a-6026-4b8c-a618-a4687b318763"}, "dimension": 1, "plot": {"type": "Plot", "id": "d6926d79-8fb0-4a36-ae40-e2ef2bbda895"}, "bounds": "auto", "id": "113ee9b3-25d5-4587-88e8-bf18f413b265", "doc": "b0e5ddd7-c6b3-4637-9b38-c8f81794246d"}, "id": "113ee9b3-25d5-4587-88e8-bf18f413b265"}, {"type": "BoxSelection", "attributes": {"tool": {"type": "BoxZoomTool", "id": "3b394d88-ce9b-4e28-bf02-8be42d9666b0"}, "doc": "b0e5ddd7-c6b3-4637-9b38-c8f81794246d", "id": "f450d972-bf49-419e-9bd4-36ad97814ffb"}, "id": "f450d972-bf49-419e-9bd4-36ad97814ffb"}, {"type": "ResetTool", "attributes": {"plot": {"type": "Plot", "id": "d6926d79-8fb0-4a36-ae40-e2ef2bbda895"}, "doc": "b0e5ddd7-c6b3-4637-9b38-c8f81794246d", "id": "c91bb616-de4a-49cb-95a3-f226f411db42"}, "id": "c91bb616-de4a-49cb-95a3-f226f411db42"}, {"type": "BoxSelection", "attributes": {"tool": {"type": "BoxSelectTool", "id": "91e304d7-1c1a-4682-9d08-a13112ba4d11"}, "doc": "b0e5ddd7-c6b3-4637-9b38-c8f81794246d", "id": "c39a74e7-b181-4e16-92d9-58923c46aa19"}, "id": "c39a74e7-b181-4e16-92d9-58923c46aa19"}, {"type": "BasicTickFormatter", "attributes": {"doc": "b0e5ddd7-c6b3-4637-9b38-c8f81794246d", "id": "e2e48c8a-0756-4c6b-9937-ee1e89520e43"}, "id": "e2e48c8a-0756-4c6b-9937-ee1e89520e43"}, {"type": "PlotContext", "attributes": {"children": [{"type": "Plot", "id": "d6926d79-8fb0-4a36-ae40-e2ef2bbda895"}], "doc": "b0e5ddd7-c6b3-4637-9b38-c8f81794246d", "id": "8eff0786-8f20-4487-af1b-6ef20cc21fcc"}, "id": "8eff0786-8f20-4487-af1b-6ef20cc21fcc"}, {"type": "PreviewSaveTool", "attributes": {"plot": {"type": "Plot", "id": "d6926d79-8fb0-4a36-ae40-e2ef2bbda895"}, "doc": "b0e5ddd7-c6b3-4637-9b38-c8f81794246d", "id": "1b20d25d-25f5-4e19-b57e-d32f4334a129"}, "id": "1b20d25d-25f5-4e19-b57e-d32f4334a129"}, {"type": "Glyph", "attributes": {"nonselection_glyphspec": {"length_units": "screen", "type": "line", "angle_units": "deg", "margin": null, "x": {"units": "data", "field": "x"}, "radius_units": "screen", "y": {"units": "data", "field": "y"}, "line_dash_offset": 0, "line_join": "miter", "start_angle_units": "deg", "line_cap": "butt", "visible": null, "halign": null, "line_color": {"value": "#1f77b4"}, "end_angle_units": "deg", "line_alpha": {"units": "data", "value": 0.1}, "line_width": {"units": "data", "value": 2}, "valign": null, "line_dash": []}, "xdata_range": null, "name": null, "doc": "b0e5ddd7-c6b3-4637-9b38-c8f81794246d", "data_source": {"type": "ColumnDataSource", "id": "ccba5595-af37-4870-acad-c01ab8da20c2"}, "server_data_source": null, "ydata_range": null, "id": "4e74e851-1e52-4260-a910-64a60d2b3ec0", "glyphspec": {"type": "line", "line_color": {"value": "red"}, "x": {"units": "data", "field": "x"}, "line_width": {"units": "data", "value": 2}, "line_alpha": {"units": "data", "value": 1.0}, "y": {"units": "data", "field": "y"}}}, "id": "4e74e851-1e52-4260-a910-64a60d2b3ec0"}, {"type": "WheelZoomTool", "attributes": {"doc": "b0e5ddd7-c6b3-4637-9b38-c8f81794246d", "plot": {"type": "Plot", "id": "d6926d79-8fb0-4a36-ae40-e2ef2bbda895"}, "dimensions": ["width", "height"], "id": "d078413e-10d0-41e2-a80c-0a552e9894b5"}, "id": "d078413e-10d0-41e2-a80c-0a552e9894b5"}, {"type": "ResizeTool", "attributes": {"plot": {"type": "Plot", "id": "d6926d79-8fb0-4a36-ae40-e2ef2bbda895"}, "doc": "b0e5ddd7-c6b3-4637-9b38-c8f81794246d", "id": "8e69188f-4240-4d42-996a-e75e2c99cf85"}, "id": "8e69188f-4240-4d42-996a-e75e2c99cf85"}, {"type": "Plot", "attributes": {"doc": "b0e5ddd7-c6b3-4637-9b38-c8f81794246d", "y_range": {"type": "DataRange1d", "id": "7b54b5ca-7b35-405c-b6a1-9fc7452808c6"}, "outer_width": 600, "id": "d6926d79-8fb0-4a36-ae40-e2ef2bbda895", "renderers": [{"type": "LinearAxis", "id": "23acb296-8a99-4070-8de0-7ba7fc5426b9"}, {"type": "Grid", "id": "375bbd1d-f3d4-4954-8fca-32c62c0c88b5"}, {"type": "LinearAxis", "id": "113ee9b3-25d5-4587-88e8-bf18f413b265"}, {"type": "Grid", "id": "5f811c11-736d-4e2a-8c6a-1569e6bd4702"}, {"type": "BoxSelection", "id": "f450d972-bf49-419e-9bd4-36ad97814ffb"}, {"type": "BoxSelection", "id": "c39a74e7-b181-4e16-92d9-58923c46aa19"}, {"type": "Legend", "id": "2b980927-5d11-4837-afc2-92f6df9d0be4"}, {"type": "Glyph", "id": "4e74e851-1e52-4260-a910-64a60d2b3ec0"}], "outer_height": 600, "data_sources": [], "canvas_height": 600, "tools": [{"type": "PanTool", "id": "845c9281-261f-41c9-a17e-b01e5ef19169"}, {"type": "WheelZoomTool", "id": "d078413e-10d0-41e2-a80c-0a552e9894b5"}, {"type": "BoxZoomTool", "id": "3b394d88-ce9b-4e28-bf02-8be42d9666b0"}, {"type": "PreviewSaveTool", "id": "1b20d25d-25f5-4e19-b57e-d32f4334a129"}, {"type": "ResizeTool", "id": "8e69188f-4240-4d42-996a-e75e2c99cf85"}, {"type": "BoxSelectTool", "id": "91e304d7-1c1a-4682-9d08-a13112ba4d11"}, {"type": "ResetTool", "id": "c91bb616-de4a-49cb-95a3-f226f411db42"}], "x_range": {"type": "DataRange1d", "id": "8f3b7ed7-2e15-4401-8d20-f85c986571b9"}, "title": "Archimean", "canvas_width": 600}, "id": "d6926d79-8fb0-4a36-ae40-e2ef2bbda895"}, {"type": "PanTool", "attributes": {"doc": "b0e5ddd7-c6b3-4637-9b38-c8f81794246d", "plot": {"type": "Plot", "id": "d6926d79-8fb0-4a36-ae40-e2ef2bbda895"}, "dimensions": ["width", "height"], "id": "845c9281-261f-41c9-a17e-b01e5ef19169"}, "id": "845c9281-261f-41c9-a17e-b01e5ef19169"}, {"type": "Grid", "attributes": {"axis": {"type": "LinearAxis", "id": "113ee9b3-25d5-4587-88e8-bf18f413b265"}, "doc": "b0e5ddd7-c6b3-4637-9b38-c8f81794246d", "dimension": 1, "plot": {"type": "Plot", "id": "d6926d79-8fb0-4a36-ae40-e2ef2bbda895"}, "id": "5f811c11-736d-4e2a-8c6a-1569e6bd4702"}, "id": "5f811c11-736d-4e2a-8c6a-1569e6bd4702"}, {"type": "ColumnDataSource", "attributes": {"selected": [], "data": {"x": [0.0025135175354349683, 0.005026987431063814, 0.007540362047582045, 0.01005359374668843, 0.012566634891586617, 0.015079437847486735, 0.017591954982106982, 0.0201041386661752, 0.022615941273930396, 0.02512731518362427, 0.027638212778022666, 0.03014858644490703, 0.03265838857757577, 0.03516757157534561, 0.03767608784405289, 0.04018388979655474, 0.042690929853230336, 0.04519716044248191, 0.04770253400123585, 0.05020700297544357, 0.05271051982058247, 0.0552130370021567, 0.05771450699619781, 0.06021488228976543, 0.06271411538144774, 0.06521215878186185, 0.0677089650141542, 0.07020448661450061, 0.07269867613260651, 0.07519148613220676, 0.07768286919156554, 0.08017277790397609, 0.08266116487826021, 0.08514798273926773, 0.08763318412837584, 0.09011672170398807, 0.09259854814203355, 0.09507861613646562, 0.09755687839976057, 0.10003328766341626, 0.10250779667845035, 0.10498035821589848, 0.10745092506731235, 0.10991945004525741, 0.11238588598381065, 0.11485018573905792, 0.1173123021895912, 0.11977218823700564, 0.12222979680639649, 0.12468508084685558, 0.1271379933319679, 0.12958848726030767, 0.13203651565593444, 0.13448203156888872, 0.13692498807568768, 0.13936533827982028, 0.14180303531224245, 0.1442380323318718, 0.14667028252608227, 0.1490997391111984, 0.15152635533298933, 0.15395008446716285, 0.1563708798198585, 0.1587886947281413, 0.16120348256049444, 0.16361519671731198, 0.16602379063139153, 0.16842921776842612, 0.1708314316274962, 0.17323038574156122, 0.17562603367795065, 0.17801832903885537, 0.18040722546181784, 0.1827926766202227, 0.18517463622378674, 0.18755305801904862, 0.18992789578985808, 0.19229910335786524, 0.19466663458300898, 0.19703044336400563, 0.1993904836388367, 0.20174670938523678, 0.20409907462118068, 0.20644753340537053, 0.20879203983772232, 0.2111325480598521, 0.21346901225556195, 0.2158013866513254, 0.2181296255167725, 0.22045368316517472, 0.22277351395392916, 0.22508907228504255, 0.22740031260561475, 0.2297071894083221, 0.2320096572318999, 0.2343076706616251, 0.2366011843297979, 0.2388901529162235, 0.24117453114869317, 0.24345427380346474, 0.2457293357057433, 0.2479996717301604, 0.250265236801254, 0.25252598589394687, 0.25478187403402575, 0.2570328562986187, 0.2592788878166731, 0.2615199237694326, 0.26375591939091403, 0.26598682996838313, 0.2682126108428309, 0.2704332174094482, 0.27264860511810096, 0.2748587294738044, 0.2770635460371965, 0.27926301042501195, 0.28145707831055417, 0.2836457054241683, 0.2858288475537124, 0.2880064605450294, 0.2901785003024171, 0.29234492278909935, 0.2945056840276949, 0.29666074010068705, 0.2988100471508924, 0.30095356138192864, 0.3030912390586827, 0.30522303650777716, 0.3073489101180374, 0.30946881634095696, 0.3115827116911634, 0.3136905527468831, 0.31579229615040527, 0.31788789860854594, 0.3199773168931109, 0.32206050784135837, 0.32413742835646125, 0.326208035407968, 0.3282722860322638, 0.3303301373330307, 0.3323815464817073, 0.33442647071794757, 0.33646486735007963, 0.3384966937555633, 0.3405219073814473, 0.34254046574482583, 0.34455232643329464, 0.34655744710540654, 0.34855578549112554, 0.3505472993922816, 0.3525319466830234, 0.3545096853102717, 0.35648047329417126, 0.3584442687285423, 0.3604010297813313, 0.3623507146950614, 0.3642932817872818, 0.36622868945101655, 0.36815689615521296, 0.3700778604451888, 0.3719915409430795, 0.3738978963482841, 0.3757968854379105, 0.3776884670672209, 0.3795726001700753, 0.38144924375937506, 0.38331835692750565, 0.3851798988467786, 0.3870338287698729, 0.3888801060302753, 0.39071869004272036, 0.39254954030362954, 0.3943726163915495, 0.3961878779675901, 0.3979952847758608, 0.3997947966439073, 0.4015863734831469, 0.40336997528930313, 0.4051455621428397, 0.40691309420939387, 0.4086725317402088, 0.41042383507256536, 0.41216696463021274, 0.413901880923799, 0.4156285445513004, 0.4173469161984498, 0.41905695663916476, 0.42075862673597436, 0.4224518874404457, 0.4241366997936091, 0.4258130249263832, 0.4274808240599984, 0.42914005850642006, 0.43079068966877127, 0.43243267904175337, 0.4340659882120676, 0.4356905788588342, 0.43730641275401183, 0.4389134517628155, 0.4405116578441342, 0.44210099305094724, 0.44368141953074, 0.4452528995259187, 0.4468153953742245, 0.4483688695091468, 0.44991328446033524, 0.45144860285401134, 0.45297478741337893, 0.4544918009590344, 0.4559996064093748, 0.45749816678100635, 0.4589874451891514, 0.4604674048480548, 0.4619380090713892, 0.4633992212726593, 0.46485100496560594, 0.4662933237646082, 0.46772614138508584, 0.46914942164389967, 0.47056312845975196, 0.47196722585358514, 0.4733616779489804, 0.47474644897255464, 0.4761215032543571, 0.47748680522826453, 0.478842319432376, 0.480188010509406, 0.4815238432070779, 0.4828497823785147, 0.48416579298263074, 0.48547184008452077, 0.48676788885584943, 0.48805390457523873, 0.4893298526286554, 0.4905956985097969, 0.4918514078204761, 0.4930969462710059, 0.49433227968058213, 0.4955573739776658, 0.49677219520036414, 0.49797670949681105, 0.49917088312554636, 0.5003546824558939, 0.5015280739683389, 0.5026910242549042, 0.5038435000195256, 0.5049854680784264, 0.5061168953604902, 0.5072377489076335, 0.508347995875177, 0.5094476035322157, 0.5105365392619885, 0.5116147705622459, 0.5126822650456179, 0.5137389904399795, 0.5147849145888163, 0.5158200054515885, 0.5168442311040943, 0.5178575597388313, 0.5188599596653585, 0.5198513993106549, 0.5208318472194802, 0.5218012720547308, 0.5227596425977984, 0.5237069277489244, 0.5246430965275553, 0.5255681180726961, 0.5264819616432632, 0.5273845966184356, 0.5282759924980053, 0.5291561189027268, 0.5300249455746655, 0.5308824423775448, 0.5317285792970917, 0.5325633264413832, 0.5333866540411883, 0.5341985324503126, 0.5349989321459389, 0.5357878237289684, 0.5365651779243601, 0.537330965581469, 0.5380851576743836, 0.5388277253022623, 0.5395586396896681, 0.5402778721869026, 0.5409853942703391, 0.541681177542754, 0.5423651937336579, 0.5430374146996242, 0.5436978124246179, 0.5443463590203232, 0.5449830267264687, 0.5456077879111525, 0.5462206150711666, 0.5468214808323185, 0.5474103579497532, 0.5479872193082737, 0.5485520379226593, 0.5491047869379841, 0.5496454396299343, 0.5501739694051224, 0.5506903498014029, 0.5511945544881852, 0.5516865572667455, 0.5521663320705378, 0.5526338529655038, 0.5530890941503812, 0.5535320299570115, 0.5539626348506451, 0.5543808834302478, 0.5547867504288033, 0.5551802107136166, 0.5555612392866144, 0.5559298112846466, 0.5562859019797838, 0.5566294867796165, 0.5569605412275505, 0.5572790410031022, 0.557584961922194, 0.5578782799374454, 0.5581589711384661, 0.5584270117521456, 0.5586823781429424, 0.5589250468131725, 0.5591549944032954, 0.5593721976922003, 0.5595766335974897, 0.5597682791757628, 0.5599471116228971, 0.5601131082743289, 0.5602662466053326, 0.5604065042312983, 0.5605338589080096, 0.5606482885319174, 0.5607497711404158, 0.5608382849121138, 0.5609138081671079, 0.5609763193672518, 0.5610257971164256, 0.5610622201608044, 0.561085567389124, 0.5610958178329465, 0.5610929506669244, 0.5610769452090635, 0.561047780920984, 0.5610054374081804, 0.5609498944202816, 0.560881131851307, 0.5607991297399233, 0.5607038682697, 0.5605953277693623, 0.5604734887130438, 0.5603383317205378, 0.5601898375575466, 0.5600279871359298, 0.5598527615139524, 0.5596641418965291, 0.5594621096354705, 0.5592466462297248, 0.5590177333256201, 0.5587753527171055, 0.5585194863459896, 0.5582501163021781, 0.5579672248239116, 0.5576707942979994, 0.5573608072600539, 0.5570372463947232, 0.5567000945359224, 0.5563493346670626, 0.5559849499212804, 0.5556069235816646, 0.5552152390814818, 0.554809880004401, 0.5543908300847165, 0.55395807320757, 0.5535115934091703, 0.5530513748770135, 0.5525774019500986, 0.5520896591191459, 0.5515881310268106, 0.5510728024678965, 0.5505436583895688, 0.5500006838915636, 0.5494438642263988, 0.5488731847995812, 0.548288631169813, 0.5476901890491975, 0.5470778443034433, 0.5464515829520656, 0.5458113911685887, 0.5451572552807444, 0.5444891617706712, 0.5438070972751111, 0.543111048585605, 0.5424010026486863, 0.5416769465660746, 0.5409388675948661, 0.5401867531477247, 0.5394205907930688, 0.5386403682552601, 0.537846073414788, 0.5370376943084548, 0.5362152191295579, 0.535378636228072, 0.5345279341108282, 0.5336631014416932, 0.5327841270417466, 0.5318909998894562, 0.5309837091208528, 0.5300622440297026, 0.5291265940676796, 0.5281767488445345, 0.5272126981282642, 0.5262344318452788, 0.5252419400805671, 0.5242352130778613, 0.5232142412397992, 0.5221790151280868, 0.5211295254636575, 0.5200657631268307, 0.5189877191574689, 0.517895384755134, 0.5167887512792406, 0.5156678102492096, 0.5145325533446189, 0.5133829724053538, 0.5122190594317548, 0.5110408065847654, 0.5098482061860767, 0.5086412507182723, 0.5074199328249701, 0.5061842453109642, 0.5049341811423637, 0.5036697334467317, 0.5023908955132217, 0.5010976607927129, 0.4997900228979437, 0.4984679756036447, 0.4971315128466686, 0.4957806287261207, 0.49441531750348594, 0.49303557360275563, 0.4916413916105524, 0.4902327662762539, 0.48880969251211415, 0.4873721653933848, 0.4859201801584337, 0.4844537322088626, 0.4829728171096232, 0.4814774305891315, 0.47996756853938144, 0.47844322701605585, 0.47690440223863695, 0.4753510905905148, 0.47378328861909463, 0.4722009930359022, 0.4706042007166879, 0.4689929087015298, 0.4673671141949346, 0.46572681456593656, 0.4640720073481968, 0.46240269024009933, 0.4607188611048461, 0.459020517970551, 0.45730765903033144, 0.4555802826423995, 0.4538383873301508, 0.4520819717822521, 0.45031103485272755, 0.44852557556104306, 0.44672559309218945, 0.4449110867967641, 0.443082056191051, 0.4412385009570992, 0.43938042094279967, 0.4375078161619613, 0.4356206867943844, 0.43371903318593347, 0.431802855848608, 0.4298721554606119, 0.42792693286642175, 0.4259671890768523, 0.4239929252691225, 0.42200414278691817, 0.42000084314045394, 0.41798302800653353, 0.41595069922860844, 0.4139038588168355, 0.41184250894813235, 0.4097666519662317, 0.40767629038173386, 0.40557142687215814, 0.40345206428199226, 0.40131820562274034, 0.39916985407296984, 0.39700701297835606, 0.39482968585172595, 0.3926378763731, 0.39043158838973246, 0.3882108259161506, 0.38597559313419144, 0.38372589439303856, 0.38146173420925483, 0.37918311726681664, 0.37689004841714446, 0.3745825326791323, 0.3722605752391761, 0.3699241814512003, 0.3675733568366827, 0.36520810708467805, 0.3628284380518401, 0.3604343557624418, 0.3580258664083943, 0.35560297634926413, 0.3531656921122894, 0.3507140203923932, 0.34824796805219727, 0.3457675421220324, 0.34327274979994854, 0.34076359845172244, 0.33824009561086427, 0.33570224897862283, 0.333150066423989, 0.3305835559836966, 0.3280027258622242, 0.3254075844317931, 0.32279814023236447, 0.3201744019716353, 0.31753637852503247, 0.31488407893570525, 0.31221751241451634, 0.3095366883400314, 0.30684161625850703, 0.304132305883877, 0.3014087670977373, 0.2986710099493291, 0.2959190446555208, 0.2931528816007881, 0.2903725313371925, 0.28757800458435856, 0.2847693122294494, 0.28194646532714057, 0.27910947509959255, 0.2762583529364218, 0.2733931103946693, 0.2705137591987696, 0.267620311240516, 0.26471277857902575, 0.26179117344070285, 0.25885550821919984, 0.25590579547537773, 0.25294204793726444, 0.24996427850001168, 0.24697250022585046, 0.24396672634404473, 0.24094697025084377, 0.2379132455094328, 0.2348655658498821, 0.2318039451690948, 0.22872839753075272, 0.22563893716526098, 0.22253557846969094, 0.21941833600772154, 0.21628722450957924, 0.21314225887197627, 0.20998345415804767, 0.2068108255972853, 0.20362438858547335, 0.2004241586846191, 0.19721015162288383, 0.1939823832945119, 0.19074086975975812, 0.1874856272448137, 0.18421667214173054, 0.1809340210083441, 0.17763769056819467, 0.17432769771044698, 0.17100405948980854, 0.16766679312644608, 0.16431591600590076, 0.1609514456790016, 0.15757339986177757, 0.15418179643536792, 0.15077665344593114, 0.1473579891045523, 0.14392582178714883, 0.14048017003437516, 0.1370210525515241, 0.13354848820842996, 0.13006249603936695, 0.12656309524294748, 0.12305030518201891, 0.11952414538355838, 0.11598463553856635, 0.11243179550195857, 0.10886564529245644, 0.10528620509247594, 0.10169349524801481, 0.09808753626853851, 0.09446834882686436, 0.09083595375904428, 0.08719037206424599, 0.08353162490463263, 0.07985973360524096, 0.0761747196538578, 0.07247660470089522, 0.06876541055926394, 0.06504115920424543, 0.061303872773362605, 0.05755357356624754, 0.053790284044510715, 0.050014026831605704, 0.046224824712693784, 0.042422700634506774, 0.038607677705208315, 0.03477977919425369, 0.030939028532248045, 0.027085449310803096, 0.023219065282392377, 0.01933990036020493, 0.015447978617997427, 0.011543324289944867, 0.0076259617704896795, 0.0036959156141893493, -0.00024678946443749044, -0.0042021285910664695, -0.008170076731724416, -0.012150608692947793, -0.016143699121942665, -0.020149322506745795, -0.024167453176389055, -0.028198065301061774, -0.032241132892278146, -0.03629662980304439, -0.04036452972802775, -0.044444806203726976, -0.0485374326086444, -0.05264238216345938, -0.056759627931203385, -0.060889142817436445, -0.06503089957042524, -0.06918487078132256, -0.07335102888434832, -0.07752934615697206, -0.08171979472009704, -0.08592234653824558, -0.09013697341974615, -0.09436364701692185, -0.09860233882628025, -0.10285302018870505, -0.10711566228964843, -0.11139023615932715, -0.11567671267291608, -0.11997506255074719, -0.12428525635850796, -0.12860726450744178, -0.13294105725454983, -0.13728660470279427, -0.14164387680130316, -0.1460128433455766, -0.15039347397769454, -0.1547857381865259, -0.1591896053079395, -0.16360504452501576, -0.16803202486826074, -0.17247051521582094, -0.17692048429370003, -0.18138190067597668, -0.18585473278502418, -0.19033894889173128, -0.1948345171157246, -0.19934140542559203, -0.20385958163910978, -0.20838901342346647, -0.21292966829549317, -0.21748151362189252, -0.22204451661946997, -0.22661864435536613, -0.23120386374729088, -0.23580014156375892, -0.2404074444243264, -0.24502573879982945, -0.2496549910126238, -0.2542951672368262, -0.25894623349855683, -0.26360815567618334, -0.26828089950056666, -0.2729644305553075, -0.27765871427699523, -0.2823637159554571, -0.28707940073400995, -0.2918057336097125, -0.29654267943361956, -0.3012902029110372, -0.30604826860178097, -0.31081684092043205, -0.3155958841365986, -0.32038536237517623, -0.32518523961661083, -0.3299954796971624, -0.33481604630917056, -0.33964690300132094, -0.3444880131789138, -0.34933934010413337, -0.3542008468963189, -0.35907249653223694, -0.3639542518463552, -0.36884607553111776, -0.37374793013722135, -0.37865977807389356, -0.3835815816091722, -0.3885133028701857, -0.39345490384343557, -0.3984063463750796, -0.4033675921712163, -0.4083386027981733, -0.4133193396827915, -0.41830976411271675, -0.42330983723668897, -0.4283195200648344, -0.43333877346895855, -0.4383675581828403, -0.44340583480252826, -0.44845356378663753, -0.4535107054566485, -0.4585772199972066, -0.46365306745642326, -0.46873820774617925, -0.4738326006424279, -0.47893620578550056, -0.4840489826804135, -0.4891708906971756, -0.49430188907109784, -0.4994419369031035, -0.5045909931600409, -0.5097490166749963, -0.5149159661476077, -0.5200918001443836, -0.5252764770990165, -0.5304699553127041, -0.5356721929544686, -0.5408831480614779, -0.5461027785393677, -0.5513310421625669, -0.5565678965746208, -0.5618132992885189, -0.5670672076870228, -0.5723295790229944, -0.5776003704197273, -0.5828795388712779, -0.5881670412427987, -0.5934628342708725, -0.5987668745638481, -0.6040791186021772, -0.6093995227387523, -0.614728043199247, -0.6200646360824554, -0.6254092573606351, -0.6307618628798514, -0.6361224083603194, -0.6414908493967517, -0.6468671414587053, -0.6522512398909296, -0.6576430999137162, -0.6630426766232499, -0.6684499249919605, -0.6738647998688774, -0.6792872559799823, -0.684717247928567, -0.6901547301955896, -0.6955996571400332, -0.7010519829992654, -0.7065116618893995, -0.7119786478056563, -0.7174528946227279, -0.7229343560951417, -0.7284229858576268, -0.733918737425481, -0.7394215641949382, -0.7449314194435401, -0.7504482563305043, -0.7559720278970977, -0.7615026870670092, -0.7670401866467247, -0.7725844793259015, -0.7781355176777464, -0.7836932541593926, -0.7892576411122794, -0.7948286307625326, -0.8004061752213457, -0.8059902264853629, -0.8115807364370629, -0.8171776568451442, -0.8227809393649111, -0.8283905355386617, -0.8340063967960749, -0.8396284744546043, -0.8452567197198624, -0.8508910836860207, -0.8565315173361954, -0.8621779715428488, -0.867830397068178, -0.8734887445645194, -0.8791529645747382, -0.8848230075326358, -0.890498823763342, -0.8961803634837244, -0.9018675768027828, -0.9075604137220608, -0.9132588241360423, -0.9189627578325653, -0.9246721644932248, -0.9303869936937786, -0.9361071949045636, -0.9418327174908974, -0.9475635107134988, -0.9532995237288918, -0.9590407055898272, -0.96478700524569, -0.9705383715429228, -0.9762947532254345, -0.9820560989350274, -0.9878223572118072, -0.9935934764946125, -0.9993694051214267, -1.00515009132981, -1.0109354832573132, -1.0167255289419124, -1.022520176322424, -1.0283193732389428, -1.0341230674332575, -1.039931206549291, -1.0457437381335237, -1.0515606096354237, -1.057381768407885, -1.0632071617076522, -1.0690367366957636, -1.0748704404379774, -1.0807082199052156, -1.0865500219739948, -1.0923957934268709, -1.098245480952871, -1.1040990311479415, -1.1099563905153818, -1.1158175054662935, -1.1216823223200176, -1.1275507873045851, -1.1334228465571552, -1.1392984461244693, -1.1451775319632909, -1.1510600499408614, -1.1569459458353417, -1.16283516533627, -1.1687276540450064, -1.1746233574751905, -1.180522221053193, -1.1864241901185661, -1.1923292099245069, -1.1982372256383038, -1.2041481823418032, -1.2100620250318588, -1.2159786986207992, -1.221898147936879, -1.2278203177247486, -1.233745152645909, -1.2396725972791796, -1.2456025961211572, -1.2515350935866871, -1.2574700340093214, -1.2634073616417933, -1.269347020656476, -1.2752889551458604, -1.2812331091230154, -1.287179426522067, -1.2931278511986604, -1.2990783269304402, -1.3050307974175195, -1.3109852062829517, -1.3169414970732114, -1.322899613258662, -1.3288594982340407, -1.3348210953189286, -1.3407843477582355, -1.3467491987226714, -1.3527155913092366, -1.3586834685416913, -1.3646527733710478, -1.3706234486760442, -1.3765954372636369, -1.382568681869475, -1.388543125158395, -1.394518709724899, -1.4004953780936489, -1.406473072719946, -1.4124517359902278, -1.41843131022255, -1.4244117376670835, -1.4303929605066008, -1.4363749208569667, -1.442357560767638, -1.448340822222148, -1.4543246471386089, -1.4603089773701994, -1.4662937547056683, -1.472278920869823, -1.4782644175240358, -1.4842501862667328, -1.4902361686339016, -1.4962223060995836, -1.5022085400763823, -1.5081948119159556, -1.5141810629095278, -1.5201672342883827, -1.5261532672243765, -1.5321391028304334, -1.5381246821610595, -1.5441099462128396, -1.5500948359249518, -1.5560792921796718, -1.5620632558028777, -1.5680466675645655, -1.574029468179351, -1.580011598306989, -1.5859929985528742, -1.5919736094685633, -1.5979533715522773, -1.6039322252494244, -1.609910110953104, -1.6158869690046318, -1.6218627396940435, -1.6278373632606224, -1.6338107798934052, -1.6397829297317092, -1.64575375286564, -1.6517231893366213, -1.6576911791379028, -1.6636576622150907, -1.6696225784666592, -1.6755858677444786, -1.681547469854335, -1.687507324556449, -1.6934653715660062, -1.6994215505536738, -1.7053758011461329, -1.7113280629265932, -1.7172782754353308, -1.7232263781702033, -1.7291723105871863, -1.735116012100893, -1.7410574220851096, -1.7469964798733166, -1.7529331247592264, -1.7588672959973048, -1.7647989328033105, -1.770727974354817, -1.7766543597917535, -1.7825780282169277, -1.7884989186965699, -1.7944169702608546, -1.8003321219044448, -1.806244312587019, -1.812153481233811, -1.8180595667361459, -1.8239625079519706, -1.8298622437063992, -1.8357587127922412, -1.8416518539705493, -1.8475416059711476, -1.8534279074931799, -1.8593106972056408, -1.8651899137479242, -1.8710654957303545, -1.876937381734738, -1.882805510314893, -1.8886698199972036, -1.8945302492811515, -1.900386736639868, -1.9062392205206697, -1.91208763934561, -1.9179319315120162, -1.923772035393042, -1.9296078893382047, -1.9354394316739385, -1.941266600704138, -1.9470893347107014, -1.9529075719540854, -1.9587212506738447, -1.9645303090891877, -1.9703346853995174, -1.9761343177849888, -1.98192914440705, -1.9877191034089998, -1.9935041329165302, -1.9992841710382858, -2.005059155866406, -2.0108290254770846, -2.0165937179311144, -2.022353171274447, -2.0281073235387375, -2.033856112741906, -2.039599476888684, -2.0453373539711723, -2.051069681969393, -2.056796398851847, -2.0625174425760675, -2.0682327510891723, -2.073942262328426, -2.0796459142217887, -2.0853436446884803, -2.091035391639529, -2.096721092978337, -2.1024006866012286, -2.1080741103980176, -2.1137413022525564, -2.119402200043303, -2.1250567416438706, -2.1307048649235965, -2.136346507748092, -2.141981607979811, -2.1476101034786, -2.1532319321022695, -2.1588470317071446, -2.1644553401486335, -2.170056795281781, -2.1756513349618385, -2.1812388970448198, -2.186819419388062, -2.192392839850794, -2.1979590962946918, -2.203518126584448, -2.209069868588327, -2.2146142601787373, -2.2201512392327847, -2.2256807436328465, -2.2312027112671253, -2.236717080030223, -2.242223787823696, -2.247722772556627, -2.2532139721461832, -2.258697324518189, -2.2641727676076826, -2.2696402393594894, -2.27509967772878, -2.2805510206816444, -2.2859942061956486, -2.2914291722604077, -2.296855856878151, -2.3022741980642847, -2.3076841338479626, -2.3130856022726505, -2.318478541396696, -2.3238628892938906, -2.3292385840540426, -2.3346055637835392, -2.33996376660592, -2.3453131306624364, -2.350653594112629, -2.355985095134887, -2.3613075719270222, -2.3666209627068326, -2.3719252057126754, -2.377220239204028, -2.382506001462067, -2.387782430790226, -2.3930494655147716, -2.3983070439853673, -2.4035551045756454, -2.408793585683777, -2.414022425733034, -2.419241563172367, -2.4244509364769673, -2.429650484148841, -2.434840144717374, -2.4400198567399043, -2.4451895588022885, -2.4503491895194753, -2.455498687536069, -2.4606379915269043, -2.465767040197611, -2.470885772285189, -2.475994126558569, -2.4810920418191933, -2.486179456901573, -2.4912563106738683, -2.4963225420384494, -2.501378089932473, -2.5064228933284434, -2.5114568912347908, -2.516480022696435, -2.521492226795354, -2.526493442651159, -2.531483609421656, -2.5364626663034215, -2.541430552532367, -2.546387207384312, -2.551332570175548, -2.5562665802634146, -2.5611891770468596, -2.5661002999670157, -2.570999888507763, -2.5758878821963043, -2.580764220603726, -2.5856288433455727, -2.5904816900824112, -2.5953227005204043, -2.6001518144118707, -2.604968971555863, -2.609774111798725, -2.6145671750346704, -2.6193481012063398, -2.624116830305377, -2.628873302372992, -2.633617457500528, -2.638349235830031, -2.643068577554814, -2.647775422920028, -2.652469712223222, -2.6571513858149176, -2.6618203840991668, -2.6664766475341266, -2.671120116632618, -2.675750731962697, -2.6803684341482152, -2.6849731638693917, -2.68956486186337, -2.694143468924792, -2.698708925906355, -2.7032611737193823, -2.7078001533343836, -2.7123258057816213, -2.7168380721516723, -2.7213368935959954, -2.725822211327492, -2.7302939666210673, -2.7347521008142004, -2.739196555307498, -2.743627271565265, -2.7480441911160605, -2.7524472555532653, -2.7568364065356374, -2.7612115857878794, -2.7655727351011956, -2.769919796333856, -2.774252711411752, -2.7785714223289637, -2.782875871148313, -2.7871660000019287, -2.791441751091801, -2.795703066690346, -2.7999498891409593, -2.804182160858579, -2.808399824330237, -2.812602822115627, -2.8167910968476533, -2.8209645912329906, -2.825123248052642, -2.8292670101624937, -2.8333958204938727, -2.8375096220541005, -2.841608357927051, -2.8456919712737014, -2.8497604053326935, -2.853813603420879, -2.8578515089338827, -2.861874065346648, -2.865881216213995, -2.869872905171171, -2.873849075934404, -2.8778096723014523, -2.88175463815216, -2.8856839174490023, -2.8895974542376424, -2.8934951926474763, -2.8973770768921856, -2.901243051270287, -2.9050930601656786, -2.9089270480481924, -2.9127449594741357, -2.9165467390868476, -2.9203323316172374, -2.924101681884338, -2.927854734795847, -2.931591435348676, -2.9353117286294927, -2.9390155598152687, -2.9427028741738215, -2.9463736170643595, -2.950027733938023, -2.9536651703384322, -2.9572858719022213, -2.9608897843595896, -2.964476853534833, -2.9680470253468942, -2.971600245809895, -2.9751364610336815, -2.9786556172243595, -2.982157660684835, -2.9856425378153517, -2.989110195114028, -2.9925605791773964, -2.995993636700935, -2.9994093144796086, -3.002807559408401, -3.00618831848285, -3.0095515387995815, -3.0128971675568446, -3.0162251520550414, -3.019535439697263, -3.022827977989817, -3.0261027145427652, -3.0293595970704454, -3.03259857339201, -3.0358195914319483, -3.039022599220621, -3.0422075448947825, -3.045374376698115, -3.0485230429817487, -3.0516534922047933, -3.0547656729348605, -3.057859533848589, -3.060935023732172, -3.063992091481876, -3.0670306861045677, -3.0700507567182336, -3.073052252552505, -3.076035122949173, -3.078999317362718, -3.0819447853608186, -3.0848714766248797, -3.087779340950544, -3.090668328248216, -3.093538388543571, -3.09638947197808, -3.099221528809516, -3.1020345094124786, -3.104828364278897, -3.1076030440185547, -3.110358499359592, -3.113094681149025, -3.115811540353254, -3.118509028058571, -3.1211870954716763, -3.123845693920179, -3.1264847748531133, -3.1291042898414383, -3.1317041905785508, -3.134284428880787, -3.1368449566879297, -3.1393857260637117, -3.14190668919632, -3.144407798398897, -3.1468890061100447, -3.1493502648943235, -3.151791527442755, -3.1542127465733185, -3.1566138752314536, -3.158994866490553, -3.1613556735524653, -3.163696249747987, -3.166016548537361, -3.168316523510767, -3.1705961283888207, -3.1728553170230636, -3.175094043396454, -3.1773122616238627, -3.179509925952557, -3.1816869907626977, -3.183843410567821, -3.185979140015332, -3.188094133886986, -3.1901883470993813, -3.192261734704437, -3.1943142518898844, -3.1963458539797447, -3.198356496434817, -3.200346134853154, -3.2023147249705484, -3.204262222661008, -3.2061885839372395, -3.208093764951122, -3.209977721994187, -3.2118404114980947, -3.213681790035107, -3.215501814318564, -3.2173004412033563, -3.2190776276863997, -3.220833330907103, -3.2225675081478418, -3.224280116834427, -3.225971114536574, -3.2276404589683687, -3.2292881079887383, -3.230914019601912, -3.23251815195789, -3.234100463352905, -3.2356609122298874, -3.237199457178924, -3.2387160569377222, -3.240210670392067, -3.241683256576284, -3.2431337746736926, -3.2445621840170658, -3.2459684440890864, -3.247352514522801, -3.248714355102073, -3.2500539257620376, -3.2513711865895534, -3.2526660978236506, -3.2539386198559836, -3.25518871323128, -3.2564163386477856, -3.2576214569577147, -3.2588040291676923, -3.2599640164392008, -3.2611013800890234, -3.2622160815896857, -3.263308082569898, -3.2643773448149953, -3.2654238302673755, -3.2664475010269407, -3.26744831935153, -3.2684262476573602, -3.269381248519456, -3.270313284672089, -3.271222319009204, -3.272108314584857, -3.2729712346136433, -3.2738110424711255, -3.2746277016942633, -3.2754211759818403, -3.276191429194891, -3.276938425357125, -3.27766212865535, -3.278362503439895, -3.2790395142250346, -3.2796931256894055, -3.2803233026764262, -3.2809300101947185, -3.281513213418521, -3.282072877688106, -3.282608968510196, -3.2831214515583733, -3.2836102926734965, -3.2840754578641085, -3.2845169133068493, -3.2849346253468608, -3.2853285604981997, -3.285698685444239, -3.2860449670380767, -3.286367372302938, -3.2866658684325794, -3.2869404227916883, -3.287191002916286, -3.2874175765141254, -3.2876201114650896, -3.2877985758215886, -3.2879529378089543, -3.288083165825836, -3.2881892284445917, -3.2882710944116837, -3.288328732648064, -3.288362112249569, -3.2883712024873026, -3.2883559728080285, -3.288316392834551, -3.2882524323661038, -3.2881640613787284, -3.288051250025661, -3.2879139686377092, -3.2877521877236338, -3.287565877970526, -3.287355010244184, -3.287119555589489, -3.28685948523078, -3.286574770572226, -3.286265383198197, -3.285931294873636, -3.2855724775444277, -3.2851889033377653, -3.2847805445625182, -3.2843473737095974, -3.2838893634523174, -3.283406486646761, -3.2828987163321397, -3.2823660257311533, -3.281808388250349, -3.2812257774804783, -3.280618167196854, -3.279985531359703, -3.279327844114521, -3.278645079792424, -3.2779372129104996, -3.2772042181721543, -3.276446070467464, -3.275662744873518, -3.2748542166547656, -3.2740204612633605, -3.273161454339502, -3.2722771717117762, -3.2713675893974963, -3.2704326836030404, -3.26947243072419, -3.268486807346462, -3.267475790245447, -3.266439356387139, -3.2653774829282702, -3.2642901472166357, -3.263177326791428, -3.2620389993835603, -3.2608751429159932, -3.259685735504061, -3.2584707554557903, -3.2572301812722277, -3.255963991647753, -3.254672165470405, -3.253354681822193, -3.252011519979415, -3.2506426594129736, -3.249248079788686, -3.2478277609675983, -3.246381683006294, -3.244909826157203, -3.243412170868909, -3.2418886977864547, -3.240339387751648, -3.238764221803363, -3.2371631811778414, -3.2355362473089935, -3.2338834018286975, -3.232204626567093, -3.2304999035528805, -3.228769215013613, -3.22701254337599, -3.225229871266149, -3.223421181509952, -3.2215864571332773, -3.2197256813623047, -3.217838837623801, -3.2159259095454025, -3.213986880955899, -3.212021735885513, -3.2100304585661807, -3.2080130334318264, -3.205969445118643, -3.203899678465362, -3.2018037185135317, -3.199681550507784, -3.197533159896108, -3.1953585323301157, -3.1931576536653132, -3.1909305099613614, -3.188677087482342, -3.1863973726970225, -3.1840913522791117, -3.1817590131075253, -3.179400342266638, -3.177015327046544, -3.1746039549433096, -3.172166213659227, -3.1697020911030656, -3.1672115753903234, -3.1646946548434727, -3.1621513179922105, -3.159581553573701, -3.1569853505328216, -3.1543626980224033, -3.151713585403474, -3.1490380022454936, -3.146335938326596, -3.143607383633821, -3.1408523283633523, -3.138070762920747, -3.1352626779211703, -3.132428064189621, -3.129566912761163, -3.126679214881151, -3.123764962005452, -3.120824145800676, -3.117856758144387, -3.1148627911253337, -3.111842237043661, -3.1087950884111293, -3.1057213379513287, -3.1026209785998944, -3.0994940035047156, -3.0963404060261497, -3.093160179737227, -3.0899533184238615, -3.086719816085052, -3.0834596669330927, -3.080172865393766, -3.0768594061065535, -3.073519283924825, -3.0701524939160443, -3.0667590313619573, -3.063338891758793, -3.059892070817452, -3.0564185644636943, -3.052918368838338, -3.0493914802974342, -3.0458378954124643, -3.0422576109705157, -3.038650623974468, -3.035016931643174, -3.031356531411638, -3.0276694209311916, -3.0239555980696746, -3.0202150609116005, -3.0164478077583405, -3.0126538371282816, -3.0088331477570067, -3.0049857385974543, -3.0011116088200893, -2.997210757813063, -2.993283185182379, -2.9893288907520517, -2.985347874564265, -2.9813401368795325, -2.9773056781768488, -2.9732444991538483, -2.9691566007269516, -2.965041984031523, -2.960900650422012, -2.956732601472107, -2.952537838974875, -2.9483163649429107, -2.944068181608473, -2.939793291423631, -2.9354916970603973, -2.931163401410869, -2.9268084075873597, -2.922426718922536, -2.9180183389695453, -2.913583271502151, -2.909121520514855, -2.9046330902230286, -2.9001179850630363, -2.8955762096923556, -2.8910077689897062, -2.886412668055159, -2.8817909122102643, -2.87714250699816, -2.8724674581836918, -2.867765771753521, -2.863037453916241, -2.8582825111024794, -2.853500949965014, -2.8486927773788695, -2.8438580004414304, -2.8389966264725346, -2.834108663014582, -2.829194117832626, -2.8242529989144773, -2.8192853144707914, -2.8142910729351707, -2.8092702829642486, -2.8042229534377854, -2.7991490934587517, -2.794048712353417, -2.7889218196714367, -2.7837684251859294, -2.7785885388935645, -2.773382171014636, -2.7681493319931447, -2.762890032496869, -2.757604283417445, -2.7522920958704318, -2.746953481195391, -2.7415884509559447, -2.7361970169398537, -2.7307791911590718, -2.7253349858498193, -2.7198644134726346, -2.714367486712445, -2.708844218478614, -2.703294621905007, -2.6977187103500375, -2.6921164973967278, -2.686487996852753, -2.6808332227504916, -2.6751521893470804, -2.6694449111244474, -2.6637114027893674, -2.657951679273493, -2.6521657557334075, -2.646353647550649, -2.640515370331761, -2.634650939908315, -2.628760372336953, -2.622843683899411, -2.6169008911025564, -2.6109320106784075, -2.6049370595841617, -2.5989160550022277, -2.5928690143402355, -2.5867959552310618, -2.580696895532848, -2.5745718533290245, -2.568420846928312, -2.5622438948647432, -2.5560410158976734, -2.5498122290117866, -2.5435575534171115, -2.5372770085490166, -2.5309706140682198, -2.524638389860789, -2.518280356038149, -2.5118965329370706, -2.5054869411196714, -2.499051601373409, -2.492590534711084, -2.486103762370817, -2.4795913058160455, -2.473053186735509, -2.466489427043244, -2.459900048878554, -2.4532850746059998, -2.4466445268153767, -2.4399784283217025, -2.433286802165179, -2.4265696716111775, -2.4198270601502094, -2.4130589914978953, -2.406265489594941, -2.399446578607096, -2.392602282925126, -2.385732627164771, -2.37883763616672, -2.3719173349965534, -2.3649717489447153, -2.358000903526461, -2.3510048244818247, -2.3439835377755562, -2.336937069597083, -2.3298654463604547, -2.322768694704298, -2.31564684149175, -2.3084999138104125, -2.3013279389722867, -2.294130944513724, -2.286908958195352, -2.279662008002015, -2.2723901221427134, -2.2650933290505293, -2.257771657382569, -2.2504251360198753, -2.2430537940673694, -2.2356576608537657, -2.228236765931509, -2.220791139076682, -2.213320810288931, -2.2058258097913828, -2.1983061680305704, -2.1907619156763323, -2.183193083621733, -2.175599702982972, -2.1679818050993007, -2.160339421532916, -2.1526725840688727, -2.1449813247149856, -2.137265675701739, -2.129525669482171, -2.1217613387317833, -2.1139727163484325, -2.106159835452223, -2.0983227293854103, -2.0904614317122756, -2.0825759762190232, -2.0746663969136647, -2.066732728025913, -2.0587750040070505, -2.0507932595298195, -2.042787529488299, -2.0347578489977907, -2.02670425339468, -2.0186267782363196, -2.010525459300898, -2.00240033258732, -1.994251434315058, -1.9860788009240296, -1.9778824690744585, -1.9696624756467478, -1.9614188577413232, -1.9531516526785053, -1.9448608979983601, -1.9365466314605677, -1.9282088910442563, -1.9198477149478685, -1.9114631415890062, -1.9030552096042783, -1.8946239578491562, -1.8861694253978034, -1.8776916515429283, -1.86919067579562, -1.8606665378851992, -1.8521192777590378, -1.8435489355824062, -1.8349555517383007, -1.8263391668272875, -1.817699821667315, -1.8090375572935533, -1.8003524149582155, -1.791644436130393, -1.7829136624958613, -1.774160135956912, -1.7653838986321664, -1.7565849928564048, -1.7477634611803625, -1.7389193463705572, -1.7300526914090972, -1.7211635394934872, -1.71225193403645, -1.7033179186657135, -1.6943615372238279, -1.6853828337679613, -1.6763818525697147, -1.6673586381149004, -1.6583132351033523, -1.6492456884487154, -1.6401560432782518, -1.631044344932613, -1.6219106389656432, -1.6127549711441598, -1.603577387447754, -1.5943779340685547, -1.5851566574110254, -1.5759136040917372, -1.5666488209391614, -1.5573623549934275, -1.548054253506111, -1.5387245639400047, -1.5293733339688858, -1.520000611477301, -1.510606444560313, -1.501190881523281, -1.491753970881619, -1.4822957613605714, -1.4728163018949538, -1.4633156416289264, -1.4537938299157436, -1.4442509163175241, -1.4346869506049837, -1.4251019827572016, -1.4154960629613629, -1.4058692416125211, -1.396221569313325, -1.386553096873776, -1.376863875310965, -1.3671539558488273, -1.3574233899178614, -1.3476722291548804, -1.3379005254027454, -1.3281083307100943, -1.3182956973310895, -1.308462677725128, -1.2986093245565828, -1.2887356906945229, -1.278841829212455, -1.2689277933880225, -1.2589936367027441, -1.2490394128417246, -1.2390651756933888, -1.229070979349176, -1.2190568781032687, -1.2090229264522985, -1.1989691790950714, -1.1888956909322559, -1.1788025170661052, -1.1686897128001548, -1.1585573336389416, -1.1484054352876856, -1.1382340736520025, -1.1280433048376015, -1.1178331851499772, -1.1076037710941196, -1.0973551193741855, -1.0870872868932067, -1.07680033075277, -1.0664943082527232, -1.0561692768908362, -1.0458252943625042, -1.0354624185604206, -1.0250807075742747, -1.0146802196904086, -1.0042610133915095, -0.9938231473562797, -0.9833666804591243, -0.9728916717698031, -0.9623981805531151, -0.9518862662685619, -0.9413559885700282, -0.9308074073054272, -0.920240582516378, -0.9096555744378653, -0.899052443497896, -0.888431250317173, -0.8777920557087299, -0.8671349206776021, -0.8564599064204722, -0.8457670743253382, -0.8350564859711403, -0.8243282031274255, -0.8135822877539867, -0.802818802000523, -0.7920378082062611, -0.7812393688996118, -0.7704235467978031, -0.7595904048065336, -0.748740006019587, -0.7378724137184818, -0.7269876913720978, -0.7160859026363231, -0.705167111353661, -0.6942313815528738, -0.6832787774486059, -0.672309363441005, -0.6613232041153613, -0.6503203642417053, -0.6393009087744441, -0.6282649028519717, -0.6172124117963014, -0.6061435011126577, -0.5950582364891052, -0.5839566837961526, -0.5728389090863787, -0.561704978594017, -0.5505549587345787, -0.5393889161044496, -0.5282069174805099, -0.5170090298197119, -0.5057953202586964, -0.4945658561133839, -0.4833207048785863, -0.47205993422757964, -0.46078361201171303, -0.449491806259997, -0.43818458517869024, -0.42686201715090416, -0.41552417073616615, -0.4041711146700214, -0.39280291786360905, -0.38141964940326006, -0.3700213785500548, -0.3586081747394176, -0.3471801075806865, -0.3357372468567056, -0.32427966252337503, -0.3128074247092399, -0.3013206037150536, -0.28981927001336333, -0.2783034942480542, -0.2667733472339314, -0.25522889995627746, -0.24367022357043144, -0.2320973894013263, -0.22051046894306542, -0.20890953385847688, -0.19729465597866655, -0.1856659073025898, -0.17402335999658083, -0.1623670863939212, -0.1506971589943825, -0.13901365046379194, -0.1273166336335553, -0.11560618150021942, -0.10388236722500854, -0.09214526413338375, -0.08039494571455968, -0.06863148562106094, -0.056854957668252125, -0.04506543583389133, -0.033262994257640545, -0.02144770724061597, -0.009619649244912001, 0.002221105106851367, 0.014074481032024373, 0.0259404035883831, 0.037818797674607454, 0.04970958803076074, 0.061612699238749596, 0.07352805572282763, 0.08545558175005841, 0.09739520143080521, 0.109346838719197, 0.12131041741363804, 0.13328586115727684, 0.1452730934385019, 0.15727203759141348, 0.16928261679633944, 0.18130475408030983, 0.19333837231755865, 0.20538339423000165, 0.2174397423877577, 0.22950733920962962, 0.2415861069636117, 0.25367596776737317, 0.2657768435887855, 0.2778886562464093, 0.2900113274100029, 0.3021447786010334, 0.31428893119316675, 0.3264437064128034, 0.338609025339571, 0.3507848089068455, 0.36297097790224725, 0.3751674529681821, 0.3873741546023397, 0.39959100315822066, 0.4118179188456382, 0.42405482173126435, 0.4363016317391349, 0.4485582686511815, 0.46082465210773893, 0.4731007016080973, 0.4853863365110124, 0.49768147603524304, 0.5099860392600645, 0.522299945125826, 0.5346231124344663, 0.5469554598500571, 0.5592969058993218, 0.571647368972198, 0.5840067673223592, 0.5963750190677596, 0.6087520421911784, 0.6211377545407466, 0.633532073830516, 0.6459349176409878, 0.6583462034196674, 0.6707658484815958, 0.6831937700099245, 0.6956298850564492, 0.7080741105421698, 0.7205263632578276, 0.7329865598644851, 0.745454616894065, 0.757930450749916, 0.7704139777073544, 0.7829051139142498, 0.7954037753915689, 0.8079098780339476, 0.820423337610236, 0.8329440697640907, 0.8454719900145237, 0.8580070137564739, 0.8705490562613813, 0.883098032677739, 0.8956538580316914, 0.9082164472275894, 0.9207857150485734, 0.9333615761571306, 0.9459439450956986, 0.958532736287225, 0.9711278640357561, 0.9837292425269988, 0.9963367858289289, 1.008950407892357, 1.0215700225515199, 1.03419554352465, 1.0468268844145863, 1.0594639587093466, 1.072106679782724, 1.084754960894859, 1.097408715192859, 1.110067855711372, 1.1227322953731842, 1.1354019469898218, 1.1480767232621265, 1.1607565367808819, 1.1734413000273927, 1.1861309253740948, 1.1988253250851368, 1.2115244113170096, 1.2242280961191325, 1.2369362914344655, 1.249648909100097, 1.2623658608478783, 1.2750870583050133, 1.2878124129946753, 1.300541836336602, 1.3132752396477299, 1.3260125341427926, 1.3387536309349408, 1.3514984410363404, 1.364246875358815, 1.3769988447144448, 1.3897542598161883, 1.4025130312785081, 1.4152750696179717, 1.4280402852539, 1.4408085885089719, 1.4535798896098573, 1.4663540986878238, 1.479131125779389, 1.4919108808269292, 1.5046932736793177, 1.517478214092534, 1.5302656117303224, 1.5430553761648036, 1.5558474168771175, 1.568641643258038, 1.5814379646086332, 1.5942362901408844, 1.6070365289783306, 1.619838590156688, 1.6326423826245149, 1.6454478152438348, 1.6582547967907801, 1.6710632359562385, 1.6838730413464775, 1.6966841214838153, 1.709496384807247, 1.7223097396730989, 1.7351240943556587, 1.747939357047847, 1.7607554358618513, 1.773572238829782, 1.7863896739043068, 1.7992076489593274, 1.812026071790615, 1.8248448501164727, 1.837663891578372, 1.8504831037416345, 1.863302394096071, 1.8761216700566468, 1.8889408389641231, 1.9017598080857416, 1.9145784846158689, 1.9273967756766588, 1.9402145883187216, 1.9530318295217675, 1.9658484061952974, 1.9786642251792503, 1.991479193244677, 2.0042932170943883, 2.017106203363651, 2.029918058620837, 2.0427286893681007, 2.0555380020420335, 2.0683459030143583, 2.081152298592586, 2.0939570950206963, 2.1067601984797926, 2.119561515088804, 2.1323609509051438, 2.14515841192539, 2.1579538040859507, 2.170747033263763, 2.1835380052769575, 2.1963266258855403, 2.209112800792078, 2.2218964356423623, 2.234677436026115, 2.2474557074776573, 2.2602311554765993, 2.273003685448508, 2.285773202765617, 2.298539612747498, 2.3113028206617523, 2.3240627317246836, 2.336819251102012, 2.3495722839095436, 2.362321735213872, 2.3750675100330487, 2.387809513337302, 2.4005476500497105, 2.413281825046907, 2.426011943159751, 2.4387379091740518, 2.4514596278312446, 2.4641770038290924, 2.4768899418223835, 2.4895983464236147, 2.5023021222037136, 2.515001173692719, 2.527695405380491, 2.5403847217173916, 2.553069027115012, 2.565748225946857, 2.5784222225490554, 2.5910909212210456, 2.603754226226304, 2.616412041793033, 2.6290642721148734, 2.6417108213515927, 2.654351593629817, 2.666986493043721, 2.6796154236557435, 2.6922382894972765, 2.704854994569403, 2.7174654428435843, 2.7300695382623803, 2.742667184740158, 2.7552582861637878, 2.7678427463933826, 2.7804204692629906, 2.7929913585813178, 2.805555318132423, 2.8181122516764594, 2.83066206295037, 2.8432046556686124, 2.8557399335238585, 2.868267800187733, 2.880788159311517, 2.8933009145268733, 2.905805969446543, 2.918303227665094, 2.9307925927596243, 2.9432739682904834, 2.955747257801982, 2.9682123648231356, 2.980669192868367, 2.9931176454382347, 3.005557626020158, 3.017989038089123, 3.0304117851084307, 3.042825770530405, 3.0552308977971228, 3.067627070341125, 3.0800141915861614, 3.092392164947908, 3.1047608938346936, 3.1171202816482104, 3.129470231784271, 3.1418106476335144, 3.1541414325821435, 3.166462490012637, 3.1787737233045017, 3.1910750358349875, 3.203366330979823, 3.2156475121139287, 3.227918482612173, 3.240179145850088, 3.2524294052046003, 3.264669164054772, 3.276898325782511, 3.2891167937733323, 3.3013244714170717, 3.313521262108628, 3.3257070692486788, 3.33788179624444, 3.3500453465103845, 3.3621976234689837, 3.3743385305514226, 3.3864679711983667, 3.3985858488606757, 3.410692067000148, 3.422786529090243, 3.43486913861684, 3.4469397990789594, 3.458998413989507, 3.471044886875996, 3.4830791212813104, 3.495101020764423, 3.5071104889011417, 3.519107429284848, 3.5310917455272253, 3.5430633412590153, 3.5550221201307477, 3.566967985813483, 3.5789008419995376, 3.5908205924032504, 3.6027271407617047, 3.6146203908354773, 3.626500246409361, 3.6383666112931357, 3.6502193893222863, 3.662058484358759, 3.673883800291681, 3.68569524103813, 3.697492710543859, 3.709276112784048, 3.721045351764028, 3.732800331520048, 3.744540956120006, 3.7562671296641903, 3.7679787562860283, 3.7796757401528165, 3.791357985466484, 3.8030253964643235, 3.814677877419741, 3.8263153326429844, 3.83793766648191, 3.8495447833227137, 3.861136587590681, 3.872712983750915, 3.8842738763091056, 3.8958191698122597, 3.9073487688494506, 3.9188625780525497, 3.930360502096992, 3.9418424457025094, 3.95330831363388, 3.96475801070166, 3.9761914417629485, 3.9876085117221223, 3.999009125531585, 4.010393188192499, 4.02176060475555, 4.033111280321684, 4.04444512004285, 4.055762029122753, 4.0670619128175804, 4.078344676436776, 4.089610225343765, 4.10085846495671, 4.112089300749239, 4.123302638251215, 4.134498383049468, 4.145676440788545, 4.156836717171441, 4.167979117960365, 4.179103548977478, 4.190209916105635, 4.201298125289124, 4.212368082534429, 4.22341969391096, 4.234452865551806, 4.245467503654472, 4.256463514481631, 4.267440804361869, 4.278399279690426, 4.289338846929945, 4.300259412611201, 4.31116088333387, 4.322043165767259, 4.332906166651054, 4.34374979279605, 4.354573951084922, 4.365378548472946, 4.3761634919887555, 4.386928688735073, 4.397674045889465, 4.40839947070508, 4.419104870511397, 4.429790152714951, 4.440455224800097, 4.451099994329744, 4.461724368946099, 4.472328256371394, 4.482911564408655, 4.493474200942424, 4.504016073939504, 4.5145370914497125, 4.525037161606596, 4.5355161926282, 4.545974092817793, 4.556410770564615, 4.566826134344603, 4.577220092721151, 4.587592554345837, 4.597943427959169, 4.6082726223913095, 4.618580046562837, 4.628865609485467, 4.639129220262801, 4.649370788091051, 4.6595902222597925, 4.669787432152695, 4.679962327248262, 4.690114817120553, 4.700244811439944, 4.710352219973847, 4.720436952587452, 4.7304989192444635, 4.740538030007824, 4.750554195040464, 4.7605473246060335, 4.770517329069631, 4.78046411889853, 4.790387604662935, 4.8002876970366914, 4.810164306798038, 4.820017344830313, 4.829846722122714, 4.839652349771015, 4.8494341389783, 4.8591920010556855, 4.8689258474230686, 4.878635589609841, 4.888321139255629, 4.897982408111006, 4.907619308038244, 4.917231751012025, 4.926819649120175, 4.93638291456439, 4.945921459660956, 4.95543519684149, 4.964924038653654, 4.974387897761889, 4.983826686948119, 4.993240319112508, 5.002628707274156, 5.011991764571843, 5.021329404264726, 5.03064153973309, 5.039928084479053, 5.049188952127294, 5.058424056425761, 5.067633311246411, 5.076816630585915, 5.0859739285663865, 5.095105119436085, 5.104210117570156, 5.11328883747133, 5.122341193770648, 5.13136710122818, 5.1403664747337245, 5.149339229307549, 5.158285280101087, 5.167204542397656, 5.1760969316131655, 5.184962363296847, 5.1938007531319474, 5.202612016936451, 5.21139607066378, 5.2201528304035225, 5.228882212382124, 5.237584132963612, 5.246258508650282, 5.254905256083435, 5.263524292044061, 5.27211553345356, 5.28067889737443, 5.289214301010992, 5.297721661710086, 5.306200896961772, 5.314651924400038, 5.323074661803491, 5.331469027096078, 5.339834938347771, 5.348172313775277, 5.3564810717427225, 5.364761130762372, 5.373012409495315, 5.3812348267521655, 5.3894283014937505, 5.397592752831822, 5.405728100029738, 5.413834262503169, 5.421911159820771, 5.429958711704907, 5.437976838032312, 5.445965458834806, 5.4539244942999625, 5.461853864771819, 5.469753490751554, 5.477623292898178, 5.485463192029224, 5.493273109121418, 5.501052965311391, 5.508802681896343, 5.516522180334738, 5.524211382246975, 5.531870209416082, 5.539498583788396, 5.5470964274742425, 5.554663662748602, 5.562200212051812, 5.569705997990231, 5.577180943336918, 5.584624971032303, 5.592038004184875, 5.599419966071847, 5.6067707801398345, 5.61409037000552, 5.621378659456334, 5.628635572451124, 5.635861033120822, 5.643054965769113, 5.650217294873101, 5.657347945083986, 5.664446841227719, 5.671513908305677, 5.678549071495314, 5.685552256150838, 5.6925233878038695, 5.699462392164099, 5.706369195119946, 5.713243722739228, 5.720085901269811, 5.726895657140272, 5.733672916960545, 5.740417607522594, 5.747129655801052, 5.7538089889538835, 5.760455534323028, 5.767069219435063, 5.773649972001849, 5.7801977199211745, 5.786712391277415, 5.793193914342164, 5.799642217574898, 5.80605722962361, 5.812438879325458, 5.8187870957074015, 5.825101807986855, 5.83138294557232, 5.837630438064031, 5.8438442152545855, 5.850024207129589, 5.856170343868295, 5.862282555844232, 5.868360773625839, 5.874404927977103, 5.880414949858193, 5.886390770426085, 5.892332321035192, 5.898239533238, 5.904112338785688, 5.9099506696287625, 5.915754457917675, 5.921523636003445, 5.927258136438296, 5.932957891976265, 5.938622835573829, 5.94425290039052, 5.949848019789549, 5.955408127338422, 5.960933156809553, 5.966423042180879, 5.97187771763648, 5.977297117567183, 5.982681176571183, 5.9880298294546375, 5.993343011232294, 5.998620657128086, 6.003862702575744, 6.009069083219394, 6.01423973491417, 6.019374593726814, 6.024473595936278, 6.029536678034314, 6.034563776726092, 6.039554828930781, 6.044509771782155, 6.049428542629186, 6.05431107903663, 6.059157318785633, 6.063967199874314, 6.068740660518359, 6.0734776391516, 6.0781780744266145, 6.082841905215308, 6.087469070609498, 6.092059509921493, 6.096613162684681, 6.101129968654109, 6.105609867807061, 6.1100528003436345, 6.114458706687321, 6.118827527485579, 6.123159203610414, 6.127453676158936, 6.13171088645395, 6.135930776044515, 6.140113286706511, 6.144258360443216, 6.14836593948586, 6.152435966294198, 6.156468383557072, 6.160463134192969, 6.164420161350582, 6.1683394084093734, 6.172220818980129, 6.176064336905515, 6.179869906260628, 6.183637471353558, 6.187366976725931, 6.191058367153465, 6.194711587646514, 6.198326583450624, 6.201903300047066, 6.205441683153395, 6.20894167872398, 6.2124032329505585, 6.215826292262765, 6.219210803328675, 6.222556713055345, 6.225863968589343, 6.229132517317286, 6.23236230686637, 6.235553285104906, 6.238705400142845, 6.241818600332308, 6.244892834268115, 6.247928050788309, 6.250924198974673, 6.253881228153265, 6.2567990878949304, 6.259677728015821, 6.262517098577914, 6.265317149889532, 6.268077832505851, 6.270799097229418, 6.2734808951106595, 6.276123177448394, 6.278725895790339, 6.281289001933618, 6.283812447925266, 6.286296186062729, 6.288740168894376, 6.291144349219988, 6.293508680091265, 6.295833114812319, 6.29811760694017, 6.300362110285243, 6.302566578911858, 6.304730967138719, 6.306855229539409, 6.308939320942873, 6.310983196433903, 6.312986811353626, 6.314950121299985, 6.316873082128222, 6.318755649951352, 6.320597781140647, 6.322399432326108, 6.324160560396943, 6.325881122502037, 6.327561076050423, 6.329200378711754, 6.330798988416766, 6.332356863357752, 6.333873961989021, 6.33535024302736, 6.336785665452496, 6.3381801885075575, 6.339533771699533, 6.340846374799719, 6.342117957844188, 6.3433484811342264, 6.344537905236796, 6.345686190984977, 6.346793299478419, 6.347859192083785, 6.348883830435198, 6.349867176434677, 6.350809192252585, 6.351709840328062, 6.352569083369464, 6.353386884354802, 6.354163206532169, 6.354898013420175, 6.355591268808376, 6.356242936757708, 6.3568529816009, 6.357421367942914, 6.357948060661358, 6.358433024906913, 6.358876226103742, 6.359277629949925, 6.359637202417856, 6.359954909754672, 6.360230718482653, 6.360464595399645, 6.360656507579453, 6.360806422372263, 6.360914307405038, 6.360980130581922, 6.361003860084646, 6.36098546437292, 6.360924912184836, 6.360822172537262, 6.360677214726237, 6.3604900083273614, 6.360260523196189, 6.359988729468612, 6.359674597561253, 6.359318098171846, 6.3589192022796155, 6.358477881145667, 6.35799410631336, 6.357467849608682, 6.356899083140632, 6.356287779301587, 6.355633910767678, 6.354937450499156, 6.354198371740764, 6.353416648022097, 6.352592253157972, 6.351725161248788, 6.350815346680884, 6.349862784126898, 6.348867448546129, 6.347829315184881, 6.346748359576824, 6.345624557543341, 6.344457885193879, 6.3432483189262925, 6.3419958354271895, 6.340700411672277, 6.339362024926698, 6.337980652745372, 6.3365562729733345, 6.335088863746066, 6.333578403489833, 6.332024870922013, 6.330428245051425, 6.32878850517866, 6.327105630896401, 6.325379602089752, 6.323610398936554, 6.32179800190771, 6.319942391767494, 6.3180435495738765, 6.316101456678831, 6.31411609472865, 6.312087445664245, 6.31001549172147, 6.30790021543141, 6.305741599620697, 6.303539627411804, 6.301294282223349, 6.299005547770389, 6.296673408064717, 6.294297847415155, 6.291878850427848, 6.289416402006546, 6.286910487352902, 6.284361091966745, 6.2817682016463765, 6.27913180248884, 6.276451880890207, 6.273728423545852, 6.270961417450725, 6.2681508498996354, 6.265296708487504, 6.262398981109653, 6.259457655962054, 6.256472721541607, 6.253444166646397, 6.250371980375954, 6.247256152131512, 6.244096671616269, 6.240893528835638, 6.237646714097501, 6.234356218012455, 6.231022031494072, 6.227644145759127, 6.22422255232786, 6.220757243024206, 6.217248209976041, 6.213695445615416, 6.210098942678798, 6.206458694207295, 6.202774693546895, 6.199046934348696, 6.195275410569124, 6.191460116470171, 6.187601046619603, 6.1836981958912, 6.179751559464955, 6.175761132827305, 6.171726911771335, 6.167648892397005, 6.163527071111342, 6.1593614446286615, 6.155152009970768, 6.150898764467162, 6.14660170575524, 6.14226083178049, 6.1378761407966955, 6.133447631366134, 6.128975302359755, 6.124459152957386, 6.1198991826479165, 6.1152953912294805, 6.110647778809649, 6.105956345805606, 6.101221092944332, 6.096442021262775, 6.091619132108045, 6.086752427137563, 6.081841908319251, 6.076887577931691, 6.071889438564302, 6.0668474931174945, 6.061761744802839, 6.056632197143225, 6.051458853973026, 6.046241719438242, 6.040980797996668, 6.035676094418034, 6.030327613784166, 6.024935361489127, 6.019499343239357, 6.01401956505383, 6.008496033264182, 6.002928754514858, 5.9973177357632474, 5.991662984279809, 5.985964507648215, 5.98022231376548, 5.974436410842079, 5.9686068074020815, 5.962733512283269, 5.956816534637268, 5.95085588392965, 5.944851569940061, 5.938803602762334, 5.932711992804602, 5.926576750789402, 5.920397887753788, 5.914175415049433, 5.907909344342739, 5.90159968761493, 5.895246457162153, 5.888849665595573, 5.882409325841477, 5.875925451141354, 5.869398055051988, 5.862827151445548, 5.856212754509671, 5.849554878747551, 5.842853538978008, 5.836108750335578, 5.829320528270579, 5.8224888885492, 5.815613847253556, 5.808695420781764, 5.801733625848012, 5.79472847948263, 5.787679999032136, 5.78058820215931, 5.773453106843244, 5.766274731379414, 5.75905309437971, 5.7517882147725015, 5.744480111802684, 5.737128805031731, 5.729734314337729, 5.722296659915424, 5.714815862276261, 5.707291942248423, 5.6997249209768714, 5.692114819923366, 5.684461660866505, 5.676765465901752, 5.66902625744147, 5.661244058214924, 5.653418891268326, 5.6455507799648394, 5.637639747984609, 5.629685819324761, 5.621689018299424, 5.613649369539738, 5.605566897993868, 5.597441628926998, 5.589273587921344, 5.581062800876145, 5.57280929400768, 5.564513093849243, 5.556174227251151, 5.5477927213807305, 5.539368603722307, 5.5309019020772014, 5.522392644563698, 5.513840859617042, 5.505246575989407, 5.4966098227498925, 5.487930629284478, 5.479209025296009, 5.47044504080416, 5.46163870614542, 5.452790051973037, 5.443899109256994, 5.434965909283968, 5.425990483657301, 5.416972864296937, 5.407913083439388, 5.398811173637684, 5.389667167761337, 5.380481098996263, 5.371253000844748, 5.361982907125383, 5.352670851973004, 5.343316869838644, 5.33392099548945, 5.324483264008627, 5.3150037107953665, 5.30548237156479, 5.2959192823478505, 5.286314479491278, 5.27666799965749, 5.266979879824526, 5.257250157285949, 5.247478869650765, 5.237666054843343, 5.227811751103327, 5.217915996985532, 5.207978831359859, 5.1980002934111935, 5.187980422639324, 5.177919258858816, 5.167816842198923, 5.1576732131034815, 5.147488412330796, 5.137262480953543, 5.12699546035864, 5.116687392247143, 5.106338318634123, 5.095948281848559, 5.085517324533197, 5.07504548964444, 5.064532820452213, 5.0539793605398495, 5.04338515380394, 5.032750244454211, 5.0220746770133795, 5.0113584963170394, 5.000601747513488, 4.989804476063601, 4.978966727740688, 4.968088548630345, 4.957169985130298, 4.946211083950254, 4.935211892111749, 4.924172456947985, 4.91309282610369, 4.901973047534929, 4.890813169508956, 4.879613240604044, 4.8683733097093285, 4.857093426024615, 4.845773639060222, 4.834413998636796, 4.823014554885151, 4.811575358246067, 4.800096459470116, 4.78857790961748, 4.7770197600577715, 4.7654220624698205, 4.753784868841506, 4.742108231469547, 4.730392202959325, 4.718636836224662, 4.706842184487631, 4.695008301278357, 4.6831352404348, 4.671223056102566, 4.659271802734671, 4.647281535091349, 4.6352523082398225, 4.6231841775541085, 4.611077198714768, 4.598931427708705, 4.586746920828932, 4.574523734674361, 4.562261926149548, 4.54996155246448, 4.537622671134336, 4.525245339979262, 4.512829617124112, 4.500375560998222, 4.487883230335161, 4.475352684172503, 4.46278398185155, 4.450177183017106, 4.437532347617215, 4.424849535902905, 4.412128808427949, 4.399370226048577, 4.38657384992324, 4.373739741512325, 4.36086796257792, 4.347958575183512, 4.3350116416937325, 4.322027224774085, 4.309005387390677, 4.295946192809922, 4.282849704598277, 4.269715986621952, 4.2565451030466415, 4.243337118337213, 4.230092097257435, 4.216810104869675, 4.2034912065346335, 4.190135467911006, 4.176742954955214, 4.163313733921101, 4.149847871359617, 4.136345434118537, 4.122806489342129, 4.109231104470858, 4.095619347241065, 4.081971285684675, 4.068286988128853, 4.054566523195699, 4.040809959801922, 4.027017367158536, 4.013188814770502, 3.999324372436426, 3.985424110248211, 3.9714880985907532, 3.9575164081415695, 3.943509109870487, 3.929466275039291, 3.9153879752014036, 3.9012742822015123, 3.8871252681752395, 3.8729410055487947, 3.8587215670386152, 3.844467025651038, 3.830177454681907, 3.8158529277162447, 3.801493518627877, 3.7870993015790932, 3.7726703510202535, 3.75820674168944, 3.74370854861208, 3.7291758471005956, 3.7146087127539995, 3.7000072214575415, 3.6853714493823184, 3.670701472984918, 3.6559973690070042, 3.6412592144749545, 3.626487086699462, 3.6116810632751695, 3.5968412220802453, 3.5819676412760133, 3.5670603993065515, 3.5521195748982866, 3.53714524705962, 3.522137495080492, 3.5070963985319974, 3.492022037265971, 3.4769144914145977, 3.461773841389973, 3.446600167883706, 3.4313935518665013, 3.416154074587755, 3.400881817575107, 3.3855768626340423, 3.37023929184745, 3.354869187575225, 3.3394666324538034, 3.3240317093957557, 3.3085645015893403, 3.2930650924980935, 3.277533565860357, 3.261970005688861, 3.2463744962702727, 3.2307471221647734, 3.2150879682055793, 3.199397119498516, 3.183674661421563, 3.1679206796243937, 3.152135260027947, 3.1363184888239317, 3.1204704524743936, 3.1045912377112423, 3.08868093153581, 3.0727396212183518, 3.056767394297601, 3.040764338580289, 3.024730542140695, 3.0086660933201363, 2.9925710807265182, 2.976445593233842, 2.960289719981747, 2.944103550374994, 2.9278871740830046, 2.9116406810393616, 2.895364161441342, 2.879057705749393, 2.862721404686661, 2.8463553492384897, 2.8299596306519175, 2.8135343404352025, 2.79707957035728, 2.780595412447291, 2.7640819589940557, 2.7475393025455945, 2.730967535908579, 2.714366752147845, 2.6977370445858675, 2.681078506802264, 2.664391232633243, 2.647675316171107, 2.630930851763717, 2.614157934013992, 2.597356657779344, 2.5805271181711764, 2.563669410554338, 2.546783630546616, 2.5298698740181615, 2.51292823709098, 2.4959588161383817, 2.478961707784439, 2.461937008903463, 2.4448848166194224, 2.4278052283054206, 2.410698341583135, 2.3935642543222873, 2.376403064640054, 2.3592148709005363, 2.3419997717141867, 2.3247578659372783, 2.3074892526713007, 2.290194031262425, 2.272872301300923, 2.2555241626206235, 2.2381497152983085, 2.2207490596531616, 2.2033222962461836, 2.1858695258796415, 2.168390849596453, 2.15088636867963, 2.133356184651691, 2.1158003992740726, 2.0982191145465645, 2.0806124327066877, 2.062980456229127, 2.0453232878251275, 2.0276410304419255, 2.009933787262114, 1.9922016617030711, 1.9744447574163466, 1.9566631782870862, 1.9388570284333888, 1.921026412205725, 1.9031714341863195, 1.8852921991885645, 1.86738881225637, 1.8494613786635772, 1.8315100039133274, 1.813534793737473, 1.7955358540959176, 1.7775132911760212, 1.7594672113919698, 1.7413977213841447, 1.7233049280185198, 1.7051889383859948, 1.6870498598017907, 1.6688877998048013, 1.650702866156987, 1.6324951668426984, 1.6142648100680632, 1.596011904260333, 1.5777365580672669, 1.559438880356448, 1.5411189802146645, 1.5227769669472462, 1.5044129500774428, 1.4860270393457324, 1.4676193447091936, 1.4491899763408378, 1.430739044628976, 1.4122666601765232, 1.393772933800361, 1.3752579765306696, 1.356721899610256, 1.3381648144939131, 1.3195868328477134, 1.300988066548363, 1.2823686276825184, 1.2637286285461367, 1.2450681816437628, 1.2263873996878758, 1.2076863955981985, 1.1889652825010413, 1.17022417372858, 1.1514631828181974, 1.1326824235117838, 1.1138820097550746, 1.0950620556969213, 1.0762226756886248, 1.0573639842832292, 1.0384860962348537, 1.019589126497953, 1.000673190226648, 0.9817384027740156, 0.9627848796913817, 0.9438127367276421, 0.924822089828517, 0.9058130551358698, 0.8867857489869848, 0.8677402879138815, 0.8486767886425626, 0.8295953680923254, 0.8104961433750323, 0.7913792317944195, 0.7722447508453365, 0.7530928182130517, 0.7339235517725157, 0.714737069587663, 0.6955334899106452, 0.6763129311811295, 0.6570755120255547, 0.6378213512564272, 0.6185505678715469, 0.5992632810532985, 0.579959610167909, 0.5606396747647014, 0.541303594575383, 0.5219514895132615, 0.5025834796725301, 0.48319968532750807, 0.46380022693192163, 0.44438522511811457, 0.4249548006963259, 0.4055090746539242, 0.38604816815468224, 0.36657220253798056, 0.3470812993180791, 0.3275755801833448, 0.30805516699552005, 0.28852018178891964, 0.26897074676969596, 0.24940698431506036, 0.22982901697254512, 0.21023696745919415, 0.19063095866082172, 0.17101111363123458, 0.1513775555914529, 0.1317304079289641, 0.11206979419690584, 0.09239583811331677, 0.07270866356034417, 0.053008394583491714, 0.033295155390796166, 0.013569070352072056, -0.006169736001886878, -0.02592113898006594, -0.04568501373205902, -0.0654612352488299, -0.08524967836351682, -0.10505021775219689, -0.12486272793472158, -0.14468708327548396, -0.1645231579842295, -0.184370826116826, -0.2042299615761054, -0.22410043811263683, -0.24398212932553612, -0.263874908663277, -0.28377864942446834, -0.3036932247587032, -0.3236185076673394, -0.34355437100432296, -0.3635006874769716, -0.38345732964682955, -0.40342416993045327, -0.42340108060024145, -0.4433879337852234, -0.46338460147192, -0.4833909555051352, -0.5034068675887909, -0.5234322092867222, -0.5434668520235424, -0.5635106670854411, -0.5835635256210246, -0.6036252986421162, -0.6236958570246269, -0.6437750715093595, -0.6638628127028464, -0.6839589510781909, -0.7040633569758741, -0.7241759006046324, -0.7442964520422682, -0.7644248812365014, -0.7845610580057826, -0.8047048520401759, -0.8248561329021746, -0.8450147700275585, -0.8651806327262117, -0.8853535901830111, -0.9055335114586466, -0.9257202654904846, -0.94591372109339, -0.9661137469606207, -0.9863202116646521, -1.0065329836580463, -1.026751931274279, -1.0469769227286383, -1.0672078261190554, -1.0874445094269718, -1.1076868405182048, -1.127934687143782, -1.1481879169408487, -1.1684463974335078, -1.1887099960336593, -1.2089785800419441, -1.2292520166485197, -1.249530172933972, -1.269812915870229, -1.290100112321331, -1.3103916290444186, -1.3306873326905069, -1.3509870898054022, -1.3712907668306218, -1.3915982301041852, -1.4119093458615362, -1.432223980236464, -1.4525419992618862, -1.4728632688708425, -1.4931876548972793, -1.513515023076976, -1.533845239048474, -1.5541781683538618, -1.574513676439778, -1.5948516286581986, -1.6151918902673714, -1.6355343264327475, -1.6558788022277888, -1.6762251826349035, -1.6965733325463823, -1.7169231167651946, -1.737274400005998, -1.7576270468959359, -1.7779809219755782, -1.7983358896998638, -1.8186918144389144, -1.8390485604789801, -1.8594059920233827, -1.8797639731933211, -1.9001223680288886, -1.9204810404898776, -1.9408398544567307, -1.9611986737314897, -1.9815573620386044, -2.001915783025956, -2.0222738002656664, -2.0426312772550537, -2.0629880774175886, -2.0833440641037173, -2.1036991005918226, -2.124053050089181, -2.144405775732777, -2.164757140590337, -2.185107007661143, -2.205455239877, -2.225801700103194, -2.246146251139327, -2.2664887557202844, -2.286829076517198, -2.307167076138269, -2.327502617129809, -2.347835561977061, -2.3681657731051713, -2.3884931128801585, -2.40881744360974, -2.429138627544376, -2.4494565268780986, -2.469771003749484, -2.4900819202426274, -2.510389138387988, -2.530692520163365, -2.550991927494875, -2.5712872222577845, -2.591578266277559, -2.6118649213307017, -2.63214704914573, -2.6524245114041562, -2.672697169741342, -2.692964885747478, -2.713227520968567, -2.733484936907265, -2.753736995023937, -2.773983556737497, -2.7942244834263965, -2.814459636429607, -2.834688877047469, -2.854912066542746, -2.8751290661414743, -2.8953397370339493, -2.9155439403757173, -2.9357415372884357, -2.9559323888608664, -2.9761163561498662, -2.9962933001812355, -3.0164630819507856, -3.0366255624251877, -3.056780602542969, -3.0769280632155067, -3.097067805327895, -3.117199689739943, -3.137323577287171, -3.1574393287816647, -3.1775468050131463, -3.1976458667498306, -3.217736374739422, -3.237818189710118, -3.2578911723714667, -3.2779551834154366, -3.2980100835172768, -3.3180557333365233, -3.338091993517996, -3.358118724692678, -3.3781357874787195, -3.398143042482438, -3.4181403502991876, -3.43812757151443, -3.4581045667046015, -3.478071196438119, -3.4980273212763864, -3.5179728017746745, -3.5379074984831296, -3.557831271947781, -3.57774398271141, -3.597645491314628, -3.6175356582967444, -3.6374143441967806, -3.657281409554476, -3.677136714911161, -3.6969801208108377, -3.716811487801052, -3.7366306764339026, -3.7564375472670584, -3.7762319608646426, -3.796013777798245, -3.815782858647937, -3.835539064003147, -3.855282254463741, -3.875012290640903, -3.8947290331581437, -3.914432342652322, -3.9341220797745313, -3.9537981051911166, -3.973460279584693, -3.993108463655019, -4.0127425181200875, -4.032362303717003, -4.051967681202995, -4.071558511356443, -4.091134654977751, -4.110695972890438, -4.130242325942016, -4.149773575005008, -4.169289580977974, -4.188790204786398, -4.208275307383712, -4.227744749752315, -4.247198392904457, -4.2666360978833255, -4.2860577257639285, -4.305463137654121, -4.324852194695614, -4.344224758064887, -4.3635806889742, -4.382919848672613, -4.402242098446882, -4.421547299622536, -4.440835313564771, -4.46010600167947, -4.479359225414223, -4.4985948462592305, -4.517812725748323, -4.537012725459984, -4.556194707018241, -4.575358532093748, -4.594504062404681, -4.613631159717756, -4.632739685849255, -4.65182950266591, -4.670900472086, -4.689952456080233, -4.708985316672772, -4.72799891594226, -4.746993116022718, -4.7659677791045745, -4.784922767435684, -4.803857943322216, -4.822773169129749, -4.841668307284159, -4.860543220272642, -4.8793977706447365, -4.898231821013229, -4.917045234055177, -4.93583787251293, -4.954609599195025, -4.973360276977269, -4.992089768803636, -5.010797937687286, -5.029484646711591, -5.048149759031022, -5.06679313787224, -5.085414646534992, -5.104014148393123, -5.122591506895606, -5.141146585567444, -5.159679248010695, -5.17818935790549, -5.196676779010924, -5.215141375166151, -5.2335830102912615, -5.25200154838832, -5.270396853542372, -5.288768789922358, -5.307117221782131, -5.325442013461478, -5.343743029387005, -5.3620201340732345, -5.380273192123487, -5.398502068230903, -5.416706627179464, -5.434886733844882, -5.453042253195687, -5.471173050294109, -5.489278990297107, -5.507359938457381, -5.525415760124278, -5.543446320744809, -5.561451485864665, -5.5794311211291125, -5.5973850922840676, -5.615313265176988, -5.633215505757896, -5.651091680080381, -5.668941654302518, -5.686765294687867, -5.704562467606503, -5.722333039535893, -5.7400768770619806, -5.7577938468800705, -5.7754838157958455, -5.79314665072638, -5.8107822187010205, -5.828390386862473, -5.845971022467682, -5.863523992888842, -5.881049165614414, -5.89854640825002, -5.916015588519459, -5.933456574265709, -5.950869233451821, -5.968253434161988, -5.985609044602423, -6.002935933102381, -6.020233968115157, -6.037503018218983, -6.054742952118039, -6.071953638643459, -6.089134946754212, -6.106286745538172, -6.1234089042129956, -6.140501292127133, -6.157563778760826, -6.174596233726997, -6.191598526772303, -6.208570527778025, -6.225512106761068, -6.242423133874956, -6.259303479410734, -6.2761530137979635, -6.292971607605717, -6.3097591315434665, -6.326515456462134, -6.343240453354973, -6.359933993358564, -6.376595947753815, -6.393226187966843, -6.409824585569977, -6.426391012282745, -6.442925339972759, -6.459427440656756, -6.475897186501481, -6.492334449824677, -6.5087391030960715, -6.525111018938261, -6.541450070127743, -6.557756129595804, -6.5740290704295, -6.590268765872642, -6.606475089326687, -6.622647914351714, -6.638787114667418, -6.6548925641539745, -6.670964136853082, -6.687001706968833, -6.703005148868691, -6.718974337084474, -6.734909146313241, -6.750809451418257, -6.766675127429983, -6.78250604954694, -6.798302093136738, -6.814063133736945, -6.829789047056062, -6.845479708974495, -6.861134995545421, -6.876754782995816, -6.892338947727314, -6.907887366317182, -6.923399915519288, -6.938876472264973, -6.954316913664021, -6.969721117005623, -6.985088959759238, -7.000420319575612, -7.015715074287637, -7.030973101911311, -7.046194280646707, -7.061378488878829, -7.0765256051785865, -7.091635508303743, -7.106708077199775, -7.121743191000881, -7.136740729030837, -7.151700570803945, -7.166622596025996, -7.181506684595115, -7.196352716602773, -7.211160572334623, -7.225930132271463, -7.240661277090181, -7.2553538876646115, -7.270007845066484, -7.284623030566371, -7.299199325634531, -7.313736611941901, -7.328234771360948, -7.342693685966599, -7.357113238037194, -7.37149331005533, -7.385833784708804, -7.400134544891542, -7.414395473704453, -7.4286164544563995, -7.442797370665041, -7.456938106057767, -7.471038544572628, -7.485098570359169, -7.499118067779409, -7.5130969214086765, -7.527035016036533, -7.5409322366676985, -7.554788468522897, -7.568603597039774, -7.582377507873822, -7.59611008689921, -7.609801220209752, -7.62345079411972, -7.637058695164781, -7.6506248101029035, -7.664149025915184, -7.677631229806775, -7.691071309207788, -7.7044691517741155, -7.71782464538839, -7.731137678160799, -7.7444081384299945, -7.757635914764001, -7.770820895961026, -7.783962971050416, -7.797062029293461, -7.810117960184307, -7.823130653450844, -7.8360999990555325, -7.849025887196302, -7.861908208307445, -7.874746853060418, -7.887541712364791, -7.900292677369043, -7.912999639461455, -7.925662490271001, -7.938281121668156, -7.950855425765789, -7.963385294920036, -7.9758706217311115, -7.988311299044226, -8.000707219950383, -8.01305827778726, -8.02536436614009, -8.037625378842446, -8.049841209977163, -8.062011753877135, -8.074136905126172, -8.086216558559888, -8.098250609266486, -8.110238952587626, -8.122181484119295, -8.134078099712593, -8.145928695474634, -8.157733167769322, -8.169491413218225, -8.181203328701418, -8.192868811358284, -8.204487758588359, -8.216060068052194, -8.22758563767212, -8.239064365633151, -8.250496150383746, -8.261880890636661, -8.273218485369794, -8.284508833826958, -8.295751835518757, -8.306947390223351, -8.318095397987307, -8.329195759126424, -8.340248374226512, -8.35125314414422, -8.36220997000788, -8.373118753218254, -8.383979395449414, -8.39479179864948, -8.405555865041466, -8.416271497124097, -8.426938597672565, -8.437557069739356, -8.448126816655073, -8.458647742029171, -8.469119749750835, -8.479542743989693, -8.489916629196657, -8.500241310104714, -8.510516691729691, -8.520742679371075, -8.530919178612764, -8.541046095323868, -8.551123335659517, -8.561150806061598, -8.571128413259554, -8.581056064271188, -8.590933666403387, -8.600761127252955, -8.610538354707336, -8.620265256945405, -8.629941742438268, -8.639567719949971, -8.649143098538309, -8.65866778755559, -8.668141696649368, -8.67756473576325, -8.686936815137607, -8.696257845310361, -8.70552773711775, -8.714746401695047, -8.723913750477355, -8.733029695200319, -8.742094147900898, -8.751107020918123, -8.76006822689381, -8.768977678773323, -8.777835289806335, -8.786640973547517, -8.795394643857344, -8.804096214902772, -8.812745601158, -8.821342717405214, -8.829887478735296, -8.838379800548559, -8.846819598555497, -8.855206788777469, -8.863541287547474, -8.871823011510827, -8.8800518776259, -8.88822780316486, -8.89635070571434, -8.904420503176206, -8.912437113768222, -8.920400456024792, -8.92831044879767, -8.936167011256648, -8.943970062890267, -8.951719523506544, -8.959415313233636, -8.967057352520579, -8.974645562137951, -8.982179863178581, -8.98966017705827, -8.997086425516432, -9.004458530616821, -9.01177641474822, -9.019040000625097, -9.026249211288329, -9.033403970105857, -9.040504200773363, -9.047549827314986, -9.054540774083947, -9.061476965763267, -9.068358327366417, -9.075184784237981, -9.081956262054364, -9.088672686824408, -9.095333984890086, -9.101940082927172, -9.108490907945868, -9.114986387291506, -9.121426448645167, -9.127811020024346, -9.13414002978363, -9.140413406615309, -9.146631079550046, -9.152792977957528, -9.158899031547094, -9.164949170368391, -9.170943324812008, -9.176881425610109, -9.182763403837086, -9.188589190910168, -9.194358718590085, -9.200071918981662, -9.205728724534467, -9.211329068043444, -9.216872882649517, -9.222360101840215, -9.227790659450314, -9.233164489662418, -9.238481527007602, -9.243741706366015, -9.24894496296748, -9.25409123239213, -9.259180450570984, -9.264212553786566, -9.269187478673512, -9.274105162219156, -9.27896554176414, -9.283768555003004, -9.28851413998477, -9.293202235113558, -9.297832779149147, -9.30240571120758, -9.306920970761745, -9.311378497641943, -9.315778232036497, -9.3201201144923, -9.324404085915404, -9.328630087571604, -9.332798061086981, -9.336907948448507, -9.34095969200458, -9.344953234465596, -9.348888518904532, -9.352765488757479, -9.35658408782421, -9.360344260268745, -9.364045950619884, -9.36768910377178, -9.37127366498447, -9.374799579884423, -9.3782667944651, -9.381675255087474, -9.385024908480592, -9.388315701742087, -9.391547582338731, -9.394720498106963, -9.39783439725342, -9.400889228355455, -9.40388494036168, -9.406821482592472, -9.409698804740506, -9.412516856871267, -9.415275589423569, -9.417974953210065, -9.420614899417764, -9.423195379608533, -9.425716345719614, -9.428177750064119, -9.430579545331533, -9.43292168458822, -9.435204121277906, -9.437426809222197, -9.43958970262105, -9.441692756053271, -9.443735924477004, -9.445719163230216, -9.447642428031173, -9.449505674978933, -9.451308860553812, -9.453051941617867, -9.454734875415362, -9.456357619573247, -9.457920132101625, -9.459422371394206, -9.460864296228786, -9.462245865767704, -9.46356703955829, -9.464827777533333, -9.466028040011533, -9.467167787697944, -9.46824698168443, -9.469265583450113, -9.470223554861805, -9.471120858174466, -9.471957456031626, -9.472733311465833, -9.473448387899081, -9.474102649143246, -9.474696059400507, -9.475228583263778, -9.475700185717132, -9.476110832136222, -9.476460488288692, -9.47674912033461, -9.476976694826858, -9.477143178711568, -9.47724853932851, -9.477292744411516, -9.477275762088862, -9.477197560883695, -9.477058109714408, -9.476857377895048, -9.476595335135707, -9.476271951542914, -9.475887197620024, -9.47544104426759, -9.474933462783774, -9.474364424864698, -9.47373390260484, -9.473041868497404, -9.472288295434693, -9.471473156708477, -9.470596426010363, -9.469658077432163, -9.468658085466247, -9.467596425005915, -9.466473071345742, -9.46528800018194, -9.464041187612716, -9.4627326101386, -9.461362244662814, -9.459930068491605, -9.45843605933459, -9.456880195305093, -9.455262454920481, -9.453582817102502, -9.451841261177602, -9.450037766877276, -9.448172314338375, -9.446244884103438, -9.444255457121002, -9.442204014745938, -9.440090538739746, -9.437915011270883, -9.435677414915059, -9.433377732655556, -9.43101594788353, -9.428592044398304, -9.426106006407677, -9.423557818528213, -9.420947465785542, -9.418274933614644, -9.41554020786014, -9.412743274776577, -9.40988412102872, -9.406962733691808, -9.40397910025186, -9.400933208605935, -9.397825047062398, -9.394654604341207, -9.391421869574161, -9.388126832305177, -9.384769482490551, -9.381349810499204, -9.377867807112949, -9.37432346352674, -9.370716771348926, -9.367047722601496, -9.363316309720316, -9.359522525555388, -9.355666363371075, -9.351747816846338, -9.347766880074984, -9.343723547565874, -9.339617814243176, -9.335449675446577, -9.3312191269315, -9.326926164869338, -9.322570785847667, -9.318152986870448, -9.313672765358262, -9.309130119148493, -9.304525046495558, -9.299857546071097, -9.295127616964168, -9.290335258681464, -9.285480471147487, -9.280563254704758, -9.275583610113998, -9.270541538554307, -9.265437041623363, -9.2602701213376, -9.25504078013237, -9.249749020862147, -9.244394846800663, -9.238978261641119, -9.233499269496322, -9.227957874898856, -9.222354082801248, -9.216687898576133, -9.210959328016386, -9.205168377335308, -9.199315053166739, -9.193399362565241, -9.187421313006224, -9.18138091238608, -9.175278169022347, -9.169113091653813, -9.162885689440678, -9.156595971964673, -9.150243949229178, -9.143829631659361, -9.1373530301023, -9.130814155827084, -9.124213020524953, -9.117549636309388, -9.110824015716242, -9.104036171703843, -9.097186117653077, -9.090273867367525, -9.08329943507354, -9.076262835420337, -9.069164083480114, -9.062003194748106, -9.054780185142706, -9.047495071005535, -9.040147869101512, -9.032738596618962, -9.025267271169655, -9.017733910788918, -9.010138533935685, -9.002481159492547, -8.994761806765858, -8.98698049548577, -8.979137245806282, -8.971232078305329, -8.9632650139848, -8.955236074270617, -8.94714528101277, -8.938992656485343, -8.930778223386593, -8.922502004838968, -8.91416402438913, -8.905764306008018, -8.897302874090844, -8.888779753457152, -8.88019496935083, -8.871548547440113, -8.862840513817632, -8.854070895000403, -8.84523971792986, -8.836347009971863, -8.827392798916675, -8.818377112979004, -8.809299980797993, -8.800161431437196, -8.79096149438461, -8.78170019955263, -8.77237757727806, -8.762993658322117, -8.753548473870353, -8.744042055532706, -8.73447443534344, -8.724845645761114, -8.715155719668587, -8.705404690372939, -8.695592591605486, -8.685719457521722, -8.675785322701255, -8.665790222147814, -8.65573419128915, -8.645617265977036, -8.63543948248719, -8.625200877519202, -8.61490148819652, -8.60454135206637, -8.594120507099666, -8.583638991690997, -8.573096844658497, -8.562494105243834, -8.5518308131121, -8.541107008351714, -8.530322731474392, -8.519478023415038, -8.50857292553163, -8.497607479605184, -8.486581727839612, -8.475495712861663, -8.464349477720813, -8.453143065889135, -8.441876521261252, -8.430549888154166, -8.4191632113072, -8.40771653588187, -8.39620990746173, -8.384643372052318, -8.373016976080995, -8.361330766396806, -8.349584790270406, -8.337779095393858, -8.325913729880567, -8.31398874226511, -8.302004181503078, -8.289960096970976, -8.27785653846606, -8.265693556206157, -8.253471200829578, -8.241189523394894, -8.22884857538083, -8.216448408686096, -8.203989075629185, -8.191470628948268, -8.178893121800964, -8.166256607764222, -8.153561140834118, -8.140806775425656, -8.127993566372638, -8.115121568927455, -8.10219083876087, -8.089201431961898, -8.076153405037532, -8.063046814912617, -8.049881718929624, -8.03665817484842, -8.023376240846112, -8.01003597551683, -7.996637437871472, -7.983180687337562, -7.969665783758958, -7.9560927873957, -7.94246175892376, -7.928772759434788, -7.915025850435951, -7.901221093849625, -7.887358552013227, -7.873438287678953, -7.8594603640135094, -7.845424844597924, -7.831331793427276, -7.817181274910417, -7.802973353869787, -7.7887080955410815, -7.774385565573066, -7.760005830027286, -7.745568955377768, -7.731075008510819, -7.716524056724731, -7.701916167729472, -7.687251409646481, -7.672529851008318, -7.657751560758446, -7.64291660825092, -7.628025063250073, -7.6130769959302915, -7.598072476875648, -7.583011577079671, -7.567894367945025, -7.552720921283166, -7.537491309314115, -7.522205604666104, -7.506863880375247, -7.491466209885296, -7.476012667047237, -7.460503326119055, -7.444938261765374, -7.4293175490570995, -7.41364126347116, -7.397909480890142, -7.382122277601926, -7.366279730299426, -7.350381916080158, -7.334428912445986, -7.318420797302735, -7.302357648959811, -7.286239546129934, -7.27006656792869, -7.253838793874254, -7.237556303887002, -7.221219178289102, -7.204827497804237, -7.188381343557181, -7.171880797073413, -7.155325940278811, -7.1387168554991876, -7.122053625459993, -7.105336333285899, -7.088565062500368, -7.071739897025352, -7.054860921180852, -7.037928219684496, -7.020941877651224, -7.003901980592793, -6.9868086144174555, -6.969661865429525, -6.9524618203289235, -6.935208566210858, -6.9179021905653135, -6.900542781276715, -6.883130426623477, -6.865665215277541, -6.848147236304021, -6.830576579160745, -6.81295333369778, -6.7952775901570925, -6.777549439172004, -6.759768971766844, -6.7419362793564686, -6.7240514537457745, -6.706114587129333, -6.688125772090894, -6.670085101602899, -6.651992669026109, -6.633848568109047, -6.615652892987626, -6.597405738184636, -6.579107198609253, -6.560757369556639, -6.542356346707385, -6.523904226127109, -6.505401104265947, -6.48684707795803, -6.468242244421071, -6.449586701255848, -6.430880546445667, -6.412123878355963, -6.393316795733699, -6.374459397706956, -6.355551783784395, -6.3365940538547125, -6.317586308186209, -6.298528647426244, -6.279421172600679, -6.260263985113458, -6.241057186745975, -6.2218008796566595, -6.202495166380399, -6.183140149827979, -6.163735933285645, -6.144282620414462, -6.124780315249873, -6.105229122201126, -6.085629146050682, -6.0659804919537645, -6.046283265437765, -6.026537572401651, -6.00674351911552, -5.986901212219922, -5.9670107587254115, -5.9470722660119355, -5.927085841828232, -5.907051594291352, -5.886969631886045, -5.866840063464147, -5.8466629982441045, -5.826438545810286, -5.806166816112502, -5.785847919465378, -5.76548196654773, -5.745069068402078, -5.724609336433933, -5.704102882411318, -5.683549818464115, -5.662950257083436, -5.642304311121099, -5.621612093788985, -5.6008737186583915, -5.580089299659517, -5.55925895108074, -5.538382787568102, -5.5174609241246495, -5.496493476109768, -5.475480559238649, -5.45442228958162, -5.433318783563473, -5.412170157962934, -5.390976529911918, -5.369738016894991, -5.348454736748691, -5.327126807660835, -5.30575434816999, -5.2843374771647005, -5.262876313882941, -5.241370977911431, -5.21982158918492, -5.198228267985633, -5.176591134942562, -5.154910311030755, -5.133185917570762, -5.111418076227839, -5.089606909011393, -5.067752538274261, -5.045855086711982, -5.023914677362219, -5.001931433604029, -4.979905479157133, -4.95783693808134, -4.935725934775733, -4.913572593978088, -4.891377040764134, -4.869139400546808, -4.846859799075666, -4.824538362436061, -4.802175217048542, -4.7797704896681035, -4.757324307383432, -4.734836797616285, -4.71230808812073, -4.689738306982385, -4.6671275826178, -4.644476043773622, -4.621783819525971, -4.59905103927967, -4.576277832767467, -4.5534643300493975, -4.530610661512007, -4.507716957867559, -4.484783350153413, -4.461809969731155, -4.438796948285957, -4.415744417825795, -4.39265251068064, -4.369521359501823, -4.346351097261153, -4.3231418572502704, -4.299893773079843, -4.276606978678748, -4.253281608293415, -4.229917796487004, -4.206515678138586, -4.183075388442493, -4.159597062907403, -4.136080837355687, -4.112526847922575, -4.088935231055327, -4.065306123512551, -4.041639662363361, -4.017935984986541, -3.994195229069874, -3.9704175326092086, -3.9466030339077856, -3.9227518715753837, -3.8988641845274747, -3.874940111984531, -3.850979793471092, -3.8269833688150685, -3.802950978146885, -3.7788827618986147, -3.754778860803266, -3.7306394158939153, -3.7064645685028346, -3.682254460260788, -3.658009233096072, -3.6337290292338085, -3.6094139911950616, -3.5850642617959574, -3.56067998414695, -3.536261301651937, -3.511808358007366, -3.487321297201515, -3.4628002635135138, -3.438245401512613, -3.413656856057293, -3.389034772294353, -3.3643792956581864, -3.3396905718697805, -3.31496874693599, -3.290213967148616, -3.2654263790834976, -3.2406061295997515, -3.2157533658388533, -3.1908682352237143, -3.165950885457938, -3.141001464524801, -3.1160201206865064, -3.091007002483248, -3.065962258732283, -3.040886038527151, -3.0157784912367402, -2.9906397665043465, -2.9654700142469084, -2.9402693846539756, -2.9150380281869395, -2.8897760955780822, -2.864483737829632, -2.839161106212981, -2.8138083522676443, -2.788425627800482, -2.7630130848847365, -2.7375708758590718, -2.712099153326772, -2.686598070154771, -2.6610677794726865, -2.63550843467203, -2.6099201894051394, -2.5843031975843886, -2.5586576133812056, -2.5329835912250966, -2.507281285802824, -2.4815508520574237, -2.4557924451872184, -2.4300062206450117, -2.4041923341370035, -2.3783509416219832, -2.3524821993103324, -2.326586263663028, -2.3006632913908263, -2.274713439453169, -2.2487368650573654, -2.2227337256575828, -2.1967041789538415, -2.1706483828911716, -2.144566495658596, -2.118458675688123, -2.092325081653908, -2.066165872471148, -2.0399812072952432, -2.013771245520776, -1.9875361467804855, -1.961276070944409, -1.934991178118853, -1.9086816286453616, -1.8823475830998708, -1.8559892022915818, -1.8296066472621078, -1.8032000792844376, -1.7767696598618945, -1.750315550727279, -1.723837913841733, -1.6973369113938777, -1.6708127057987667, -1.644265459696835, -1.6176953359530133, -1.591102497655677, -1.5644871081155867, -1.5378493308650185, -1.5111893296566097, -1.4845072684624854, -1.4578033114731928, -1.4310776230966358, -1.4043303679571768, -1.3775617108945664, -1.3507718169628713, -1.3239608514295904, -1.297128979774483, -1.2702763676886824, -1.2434031810736144, -1.216509586039918, -1.1895957489065507, -1.1626618361996084, -1.1357080146514293, -1.1087344511995048, -1.081741312985388, -1.0547287673537744, -1.027696981851407, -1.000646124225979, -0.9735763624252285, -0.9464878645957423, -0.9193807990820456, -0.8922553344254993, -0.8651116393631944, -0.8379498828270173, -0.8107702339425421, -0.7835728620279196, -0.7563579365929567, -0.7291256273379072, -0.7018761041525481, -0.6746095371150617, -0.6473260964909174, -0.6200259527319428, -0.5927092764751051, -0.565376238541579, -0.5380270099356218, -0.5106617618434448, -0.48328066563225813, -0.45588389284914, -0.4284716152199034, -0.40104400464815565, -0.3736012332140655, -0.346143473173419, -0.3186708969564803, -0.2911836771668506, -0.2636819865805003, -0.2361659981446246, -0.2086358849764978, -0.1810918203625201, -0.15353397775697133, -0.12596253078105493, -0.09837765322174556, -0.07077951903063541, -0.0431683023229541, -0.015544177376411753, 0.012092681369959602, 0.039742099316770876, 0.06740390170553526, 0.09507791361963597, 0.122763959985491, 0.15046186557371927, 0.17817145500011286, 0.205892552726904, 0.23362498306374005, 0.26136857016885584, 0.2891231380502472, 0.31688851056666995, 0.3446645114288164, 0.37245096420049345, 0.4002476922996062, 0.4280545189994369, 0.455871267429631, 0.4836977605773813, 0.5115338212886128, 0.5393792722689932, 0.5672339360851206, 0.5950976351657129, 0.6229701918026025, 0.6508514281520263, 0.6787411662356237, 0.7066392279416301, 0.734545435026075, 0.7624596091137812, 0.7903815716996636, 0.8183111441497324, 0.8462481477022941, 0.8741924034691553, 0.9021437324366499, 0.9301019554668444, 0.9580668932987447, 0.9860383665493072, 1.014016195714748, 1.0420002011715552, 1.0699902031777015, 1.097986021873858, 1.1259874772844303, 1.1539943893187752, 1.1820065777724174, 1.2100238623280706, 1.2380460625569556, 1.2660729979198238, 1.2941044877681789, 1.3221403513455003, 1.35018040778827, 1.3782244761272964, 1.406272375288744, 1.4343239240953618, 1.4623789412677104, 1.4904372454252164, 1.5184986550874024, 1.546562988675121, 1.5746300645115894, 1.6026997008237218, 1.630771715743171, 1.6588459273075624, 1.6869221534617338, 1.7150002120587948, 1.743079920861368, 1.7711610975428316, 1.7992435596883611, 1.8273271247962743, 1.855411610279076, 1.8834968334647044, 1.9115826115977785, 1.9396687618406456, 1.967755101274731, 1.995841446901588, 2.0239276156441504, 2.052013424347982, 2.0800986897823526, 2.108183228641491, 2.1362668575458397, 2.164349393043112, 2.192430651609649, 2.2205104496514765, 2.248588603505565, 2.2766649294410892, 2.30473924366051, 2.3328113623008337, 2.360881101434877, 2.3889482770723296, 2.417012705161119, 2.4450742015884743, 2.4731325821821954, 2.501187662711917, 2.5292392588901795, 2.557287186373793, 2.585331260764913, 2.6133712976123062, 2.641407112412625, 2.669438520611496, 2.697465337604797, 2.725487378739927, 2.753504459316884, 2.7815163945896377, 2.8095229997672067, 2.837524090014935, 2.8655194804557715, 2.8935089861713648, 2.921492422203345, 2.9494696035546024, 2.977440345190371, 3.0054044620396048, 3.0333617689960626, 3.0613120809195924, 3.08925521263741, 3.11719097894519, 3.145119194608444, 3.17303967436361, 3.2009522329193376, 3.2288566849577744, 3.2567528451356735, 3.284640528085683, 3.312519548417633, 3.340389720719626, 3.3682508595594243, 3.396102779485548, 3.423945295028558, 3.4517782207023484, 3.4796013710052667, 3.507414560421399, 3.5352176034218656, 3.563010314465916, 3.5907925080023246, 3.6185639984704827, 3.646324600301698, 3.674074127920486, 3.7018123957456726, 3.7295392181917877, 3.7572544096701637, 3.7849577845902345, 3.8126491573608323, 3.840328342391311, 3.8679951540928412, 3.8956494068797136, 3.9232909151704383, 3.9509194933891467, 3.9785349559666927, 4.0061371173419555, 4.033725791963137, 4.061300794288895, 4.088861938789637, 4.116409039948826, 4.143941912264087, 4.17146037024861, 4.1989642284322555, 4.226453301362858, 4.253927403607531, 4.281386349753779, 4.308829954410893, 4.336258032211066, 4.363670397810697, 4.391066865891697, 4.418447251162618, 4.445811368359961, 4.47315903224948, 4.500490057627299, 4.5278042593213055, 4.555101452192281, 4.5823814511351895, 4.609644071080498, 4.636889126995304, 4.664116433884644, 4.691325806792805, 4.718517060804434, 4.745690011045947, 4.772844472686644, 4.799980260940016, 4.8270971910650555, 4.854195078367372, 4.881273738200598, 4.908332985967505, 4.935372637121314, 4.962392507167005, 4.98939241166245, 5.01637216621973, 5.0433315865064365, 5.070270488246797, 5.097188687223071, 5.124085999276683, 5.150962240309515, 5.177817226285234, 5.204650773230414, 5.231462697235858, 5.258252814457902, 5.285020941119534, 5.311766893511803, 5.338490487994936, 5.36519154099965, 5.391869869028455, 5.418525288656786, 5.445157616534395, 5.471766669386482, 5.4983522640149936, 5.524914217299943, 5.551452346200544, 5.577966467756519, 5.604456399089412, 5.6309219574037055, 5.657362959988226, 5.683779224217265, 5.7101705675518835, 5.736536807541228, 5.762877761823659, 5.789193248128071, 5.815483084275192, 5.841747088178708, 5.867985077846661, 5.894196871382572, 5.920382286986752, 5.946541142957596, 5.972673257692717, 5.998778449690339, 6.02485653755042, 6.050907339975951, 6.076930675774272, 6.1029263638582005, 6.128894223247347, 6.154834073069406, 6.180745732561291, 6.206629021070517, 6.23248375805633, 6.258309763091004, 6.284106855861148, 6.309874856168842, 6.335613583932935, 6.361322859190356, 6.387002502097226, 6.412652332930247, 6.438272172087834, 6.463861840091397, 6.489421157586657, 6.5149499453447515, 6.5404480242636325, 6.56591521536918, 6.591351339816499, 6.616756218891222, 6.6421296740106355, 6.667471526724984, 6.692781598718764, 6.718059711811838, 6.743305687960818, 6.7685193492601865, 6.793700517943588, 6.818849016385115, 6.843964667100454, 6.869047292748165, 6.894096716130982, 6.919112760196923, 6.944095248040668, 6.969044002904673, 6.993958848180461, 7.018839607409906, 7.043686104286355, 7.068498162655986, 7.09327560651894, 7.118018260030589, 7.142725947502835, 7.1673984934052255, 7.192035722366248, 7.216637459174609, 7.241203528780338, 7.265733756296169, 7.290227966998631, 7.314685986329348, 7.339107639896302, 7.363492753474966, 7.387841153009579, 7.412152664614425, 7.436427114574939, 7.460664329349065, 7.4848641355683645, 7.509026360039288, 7.533150829744451, 7.557237371843731, 7.581285813675636, 7.605295982758391, 7.62926770679122, 7.653200813655612, 7.6770951314164355, 7.700950488323209, 7.724766712811366, 7.748543633503354, 7.772281079209987, 7.795978878931533, 7.819636861858985, 7.843254857375326, 7.866832695056632, 7.890370204673337, 7.913867216191493, 7.937323559773862, 7.960739065781261, 7.984113564773643, 8.007446887511362, 8.03073886495643, 8.053989328273593, 8.07719810883168, 8.10036503820469, 8.123489948173026, 8.14657267072477, 8.169613038056767, 8.192610882575876, 8.215566036900224, 8.238478333860282, 8.261347606500193, 8.284173688078857, 8.306956412071163, 8.329695612169244, 8.352391122283569, 8.375042776544172, 8.397650409301901, 8.420213855129495, 8.44273294882289, 8.465207525402304, 8.487637420113469, 8.510022468428856, 8.532362506048756, 8.55465736890259, 8.576906893149967, 8.59911091518193, 8.621269271622168, 8.643381799328102, 8.66544833539212, 8.687468717142787, 8.709442782145913, 8.731370368205859, 8.753251313366587, 8.775085455912892, 8.796872634371612, 8.818612687512697, 8.840305454350439, 8.861950774144672, 8.883548486401828, 8.905098430876233, 8.926600447571163, 8.948054376740037, 8.969460058887643, 8.99081733477117, 9.012126045401507, 9.033386032044275, 9.054597136221041, 9.075759199710513, 9.0968720645496, 9.117935573034611, 9.138949567722447, 9.159913891431652, 9.180828387243668, 9.201692898503886, 9.222507268822834, 9.243271342077364, 9.263984962411703, 9.284647974238636, 9.3052602222407, 9.325821551371202, 9.346331806855494, 9.366790834191983, 9.387198479153328, 9.4075545877876, 9.42785900641932, 9.448111581650704, 9.46831216036269, 9.488460589716096, 9.508556717152809, 9.528600390396806, 9.54859145745532, 9.568529766620014, 9.58841516646799, 9.608247505863025, 9.628026633956583, 9.64775240018898, 9.66742465429053, 9.68704324628258, 9.706608026478657, 9.726118845485619, 9.745575554204665, 9.764978003832555, 9.78432604586261, 9.803619532085854, 9.822858314592166, 9.842042245771276, 9.861171178313974, 9.8802449652131, 9.8992634597647, 9.918226515569136, 9.937133986532112, 9.955985726865798, 9.974781591089954, 9.993521434032925, 10.012205110832838, 10.03083247693858, 10.049403388110925, 10.067917700423655, 10.08637527026455, 10.104775954336517, 10.123119609658684, 10.141406093567396, 10.159635263717384, 10.177806978082748, 10.195921094958049, 10.213977472959431, 10.231975971025584, 10.249916448418906, 10.267798764726484, 10.285622779861175, 10.303388354062717, 10.321095347898698, 10.338743622265644, 10.356333038390119, 10.373863457829673, 10.391334742473997, 10.408746754545886, 10.426099356602302, 10.443392411535475, 10.460625782573851, 10.477799333283176, 10.49491292756757, 10.511966429670467, 10.528959704175755, 10.545892616008711, 10.562765030437074, 10.57957681307211, 10.596327829869537, 10.613017947130665, 10.629647031503314, 10.64621494998288, 10.662721569913385, 10.679166758988421, 10.695550385252192, 10.71187231710057, 10.728132423282018, 10.744330572898685, 10.76046663540734, 10.776540480620403, 10.792551978706976, 10.80850100019379, 10.824387415966214, 10.840211097269297, 10.855971915708684, 10.871669743251688, 10.887304452228209, 10.902875915331743, 10.918384005620409, 10.933828596517854, 10.949209561814316, 10.964526775667531, 10.979780112603736, 10.994969447518681, 11.010094655678534, 11.025155612720884, 11.040152194655738, 11.055084277866412, 11.06995173911059, 11.084754455521189, 11.099492304607375, 11.114165164255532, 11.128772912730167, 11.143315428674883, 11.157792591113369, 11.172204279450272, 11.18655037347222, 11.200830753348715, 11.21504529963307, 11.229193893263416, 11.243276415563539, 11.257292748243913, 11.271242773402555, 11.285126373525989, 11.2989434314902, 11.312693830561498, 11.326377454397484, 11.339994187047987, 11.353543912955917, 11.36702651695827, 11.380441884286954, 11.393789900569754, 11.407070451831252, 11.420283424493688, 11.433428705377887, 11.44650618170419, 11.4595157410933, 11.472457271567233, 11.485330661550174, 11.498135799869374, 11.510872575756089, 11.523540878846399, 11.53614059918213, 11.54867162721176, 11.56113385379124, 11.573527170184942, 11.585851468066478, 11.598106639519594, 11.610292577039077, 11.62240917353155, 11.63445632231642, 11.646433917126682, 11.658341852109793, 11.670180021828573, 11.681948321262006, 11.693646645806114, 11.70527489127484, 11.716832953900836, 11.728320730336382, 11.739738117654166, 11.751085013348154, 11.762361315334454, 11.773566921952103, 11.784701731963924, 11.795765644557392, 11.806758559345392, 11.817680376367118, 11.828530996088848, 11.839310319404774, 11.85001824763786, 11.860654682540593, 11.871219526295866, 11.88171268151773, 11.892134051252233, 11.902483538978238, 11.912761048608195, 11.922966484488951, 11.933099751402583, 11.943160754567133, 11.953149399637464, 11.963065592706, 11.972909240303533, 11.982680249400028, 11.99237852740537, 12.002003982170162, 12.01155652198652, 12.0210360555888, 12.030442492154428, 12.03977574130462, 12.049035713105168, 12.058222318067223, 12.067335467148016, 12.07637507175166, 12.085341043729862, 12.094233295382702, 12.1030517394594, 12.111796289159019, 12.120466858131232, 12.129063360477092, 12.137585710749711, 12.14603382395506, 12.154407615552651, 12.162707001456297, 12.170931898034844, 12.179082222112871, 12.187157890971427, 12.19515882234877, 12.203084934441037, 12.21093614590302, 12.218712375848815, 12.226413543852567, 12.234039569949186, 12.241590374635008, 12.249065878868542, 12.25646600407113, 12.263790672127655, 12.27103980538725, 12.278213326663959, 12.285311159237434, 12.29233322685363, 12.29927945372546, 12.306149764533505, 12.312944084426654, 12.319662339022793, 12.326304454409486, 12.332870357144612, 12.33935997425705, 12.345773233247334, 12.3521100620883, 12.35837038922576, 12.364554143579134, 12.370661254542101, 12.376691651983263, 12.382645266246756, 12.388522028152925, 12.394321868998931, 12.400044720559391, 12.405690515087029, 12.411259185313275, 12.416750664448907, 12.422164886184675, 12.427501784691897, 12.432761294623107, 12.437943351112647, 12.443047889777269, 12.448074846716771, 12.453024158514575, 12.457895762238332, 12.462689595440535, 12.467405596159091, 12.472043702917933, 12.476603854727593, 12.481085991085793, 12.485490051978037, 12.48981597787817, 12.494063709748978, 12.498233189042745, 12.50232435770182, 12.506337158159203, 12.510271533339097, 12.514127426657458, 12.517904782022582, 12.521603543835628, 12.525223656991196, 12.52876506687786, 12.532227719378708, 12.535611560871915, 12.538916538231243, 12.542142598826603, 12.545289690524582, 12.548357761688969, 12.551346761181286, 12.554256638361313, 12.557087343087595, 12.55983882571799, 12.562511037110141, 12.56510392862203, 12.567617452112453, 12.57005155994154, 12.572406204971259, 12.5746813405659, 12.576876920592593, 12.578992899421774, 12.581029231927694, 12.582985873488898, 12.584862779988706, 12.58665990781569, 12.588377213864161, 12.590014655534628, 12.591572190734274, 12.59304977787743, 12.594447375886027, 12.595764944190057, 12.597002442728039, 12.598159831947457, 12.599237072805236, 12.600234126768159, 12.601150955813331, 12.60198752242861, 12.602743789613054, 12.603419720877346, 12.604015280244225, 12.604530432248923, 12.60496514193958, 12.605319374877666, 12.605593097138405, 12.605786275311182, 12.60589887649996, 12.605930868323687, 12.605882218916694, 12.605752896929106, 12.605542871527236, 12.605252112393979, 12.604880589729198, 12.60442827425013, 12.603895137191751, 12.603281150307163, 12.602586285867984, 12.601810516664703, 12.60095381600707, 12.600016157724456, 12.59899751616621, 12.59789786620204, 12.596717183222351, 12.595455443138613, 12.59411262238371, 12.592688697912278, 12.59118364720107, 12.589597448249277, 12.587930079578879, 12.586181520234971, 12.584351749786107, 12.582440748324608, 12.58044849646691, 12.578374975353864, 12.57622016665107, 12.573984052549182, 12.571666615764219, 12.569267839537883, 12.566787707637847, 12.564226204358068, 12.561583314519087, 12.558859023468306, 12.556053317080297, 12.553166181757083, 12.55019760442841, 12.547147572552056, 12.544016074114069, 12.54080309762908, 12.537508632140547, 12.534132667221023, 12.530675192972437, 12.527136200026339, 12.523515679544154, 12.51981362321745, 12.516030023268168, 12.512164872448887, 12.508218164043058, 12.50418989186523, 12.50008005026132, 12.495888634108802, 12.491615638816974, 12.487261060327162, 12.482824895112943, 12.47830714018037, 12.473707793068192, 12.46902685184804, 12.46426431512467, 12.459420182036137, 12.454494452254016, 12.449487125983598, 12.444398203964063, 12.439227687468698, 12.43397557830507, 12.428641878815208, 12.423226591875792, 12.417729720898317, 12.412151269829279, 12.406491243150342, 12.400749645878488, 12.39492648356621, 12.389021762301631, 12.383035488708702, 12.37696766994733, 12.370818313713519, 12.364587428239538, 12.358275022294048, 12.351881105182237, 12.345405686745972, 12.338848777363898, 12.332210387951603, 12.325490529961726, 12.318689215384055, 12.311806456745678, 12.304842267111091, 12.297796660082277, 12.290669649798852, 12.283461250938135, 12.276171478715272, 12.268800348883325, 12.261347877733341, 12.25381408209448, 12.246198979334062, 12.238502587357678, 12.230724924609252, 12.222866010071108, 12.214925863264064, 12.206904504247488, 12.198801953619336, 12.190618232516265, 12.182353362613634, 12.1740073661256, 12.165580265805147, 12.157072084944119, 12.148482847373296, 12.139812577462408, 12.131061300120166, 12.122229040794316, 12.113315825471641, 12.104321680678007, 12.09524663347838, 12.086090711476817, 12.076853942816523, 12.067536356179815, 12.05813798078817, 12.048658846402203, 12.039098983321663, 12.029458422385447, 12.019737194971587, 12.00993533299721, 12.000052868918582, 11.990089835731013, 11.980046266968902, 11.969922196705685, 11.959717659553784, 11.949432690664608, 11.93906732572851, 11.928621600974715, 11.918095553171325, 11.90748921962522, 11.896802638182052, 11.886035847226175, 11.875188885680554, 11.864261793006769, 11.853254609204875, 11.842167374813394, 11.831000130909215, 11.819752919107504, 11.808425781561656, 11.797018760963198, 11.785531900541674, 11.77396524406461, 11.762318835837364, 11.750592720703064, 11.738786944042506, 11.726901551773999, 11.714936590353336, 11.702892106773625, 11.69076814856517, 11.678564763795398, 11.666282001068675, 11.653919909526238, 11.641478538846027, 11.628957939242543, 11.616358161466762, 11.603679256805915, 11.590921277083421, 11.578084274658702, 11.565168302427004, 11.552173413819297, 11.539099662802089, 11.525947103877234, 11.512715792081826, 11.499405782987965, 11.486017132702633, 11.472549897867504, 11.459004135658724, 11.445379903786783, 11.431677260496306, 11.417896264565824, 11.404036975307646, 11.390099452567593, 11.376083756724848, 11.361989948691726, 11.347818089913439, 11.333568242367944, 11.319240468565654, 11.30483483154928, 11.290351394893579, 11.27579022270509, 11.261151379621976, 11.246434930813747, 11.231640941980988, 11.2167694793552, 11.20182060969846, 11.18679440030325, 11.171690918992168, 11.156510234117642, 11.14125241456173, 11.125917529735833, 11.110505649580377, 11.095016844564629, 11.07945118568634, 11.063808744471531, 11.048089592974177, 11.032293803775904, 11.016421449985756, 11.000472605239828, 10.984447343701037, 10.968345740058801, 10.952167869528681, 10.935913807852165, 10.919583631296302, 10.903177416653364, 10.886695241240606, 10.870137182899851, 10.853503319997245, 10.836793731422889, 10.820008496590482, 10.803147695437044, 10.786211408422545, 10.769199716529526, 10.752112701262833, 10.734950444649174, 10.717713029236844, 10.700400538095336, 10.683013054814937, 10.66555066350646, 10.648013448800754, 10.630401495848448, 10.61271489031951, 10.59495371840285, 10.577118066806005, 10.559208022754706, 10.54122367399247, 10.523165108780272, 10.505032415896064, 10.486825684634454, 10.468545004806264, 10.450190466738086, 10.431762161271946, 10.413260179764851, 10.394684614088328, 10.3760355566281, 10.357313100283543, 10.338517338467366, 10.31964836510512, 10.30070627463474, 10.281691162006178, 10.262603122680865, 10.243442252631365, 10.224208648340861, 10.204902406802685, 10.18552362551992, 10.166072402504915, 10.146548836278766, 10.126953025870955, 10.10728507081876, 10.087545071166875, 10.0677331274669, 10.0478493407768, 10.027893812660517, 10.007866645187432, 9.987767940931835, 9.967597802972518, 9.947356334892165, 9.927043640776954, 9.906659825215998, 9.8862049933008, 9.865679250624828, 9.845082703282895, 9.82441545787073, 9.803677621484407, 9.782869301719787, 9.761990606672061, 9.741041644935173, 9.720022525601241, 9.698933358260115, 9.677774252998711, 9.656545320400575, 9.635246671545273, 9.6138784180078, 9.5924406718581, 9.570933545660472, 9.549357152472941, 9.527711605846813, 9.505997019825962, 9.484213508946368, 9.462361188235494, 9.440440173211648, 9.41845057988351, 9.396392524749414, 9.374266124796861, 9.35207149750188, 9.329808760828376, 9.307478033227618, 9.285079433637584, 9.262613081482314, 9.240079096671382, 9.21747759959917, 9.194808711144356, 9.172072552669231, 9.149269246019031, 9.126398913521395, 9.103461677985694, 9.080457662702317, 9.057386991442176, 9.034249788455904, 9.011046178473334, 8.98777628670279, 8.964440238830386, 8.941038161019481, 8.917570179909882, 8.894036422617297, 8.870437016732616, 8.846772090321183, 8.823041771922227, 8.799246190548129, 8.77538547568368, 8.751459757285536, 8.727469165781365, 8.703413832069293, 8.679293887517144, 8.6551094639617, 8.63086069370809, 8.60654770952904, 8.58217064466411, 8.557729632819093, 8.533224808165178, 8.50865630533833, 8.48402425943854, 8.459328806029013, 8.434570081135595, 8.409748221245883, 8.384863363308604, 8.359915644732839, 8.334905203387217, 8.309832177599278, 8.284696706154673, 8.259498928296347, 8.234238983723921, 8.208917012592783, 8.18353315551345, 8.15808755355075, 8.132580348222998, 8.107011681501334, 8.081381695808886, 8.05569053401995, 8.029938339459317, 8.00412525590136, 7.978251427569359, 7.952316999134657, 7.92632211571582, 7.900266922877953, 7.874151566631759, 7.847976193432859, 7.821740950180937, 7.795445984218859, 7.769091443331985, 7.74267747574728, 7.716204230132454, 7.689671855595251, 7.663080501682486, 7.636430318379338, 7.609721456108462, 7.582954065729097, 7.5561282985363345, 7.5292443062602254, 7.5023022410648705, 7.4753022555477076, 7.448244502738503, 7.421129136098635, 7.393956309520169, 7.366726177324943, 7.339438894263823, 7.312094615515763, 7.284693496686888, 7.257235693809747, 7.229721363342283, 7.202150662167093, 7.174523747590473, 7.146840777341485, 7.119101909571195, 7.091307302851628, 7.063457116175005, 7.035551508952791, 7.007590641014726, 6.979574672608038, 6.951503764396481, 6.923378077459361, 6.895197773290754, 6.866963013798439, 6.838673961303112, 6.810330778537397, 6.781933628644868, 6.753482675179233, 6.724978082103343, 6.696420013788195, 6.667808635012133, 6.6391441109597435, 6.610426607221059, 6.581656289790537, 6.552833325066058, 6.52395787984811, 6.495030121338668, 6.466050217140376, 6.437018335255524, 6.407934644085024, 6.378799312427552, 6.349612509478531, 6.320374404829081, 6.291085168465192, 6.261744970766575, 6.232353982505826, 6.202912374847372, 6.173420319346428, 6.143877987948117, 6.1142855529864235, 6.084643187183126, 6.054951063646943, 6.025209355872364, 5.995418237738786, 5.965577883509441, 5.935688467830324, 5.905750165729318, 5.875763152615012, 5.845727604275827, 5.815643696878926, 5.785511606969123, 5.7553315114679835, 5.725103587672728, 5.694828013255127, 5.664504966260617, 5.634134625107087, 5.603717168583985, 5.573252775851205, 5.542741626437972, 5.512183900241923, 5.481579777527985, 5.450929438927249, 5.420233065436064, 5.3894908384148, 5.358702939586931, 5.327869551037906, 5.296990855214004, 5.266067034921418, 5.235098273325004, 5.204084753947348, 5.173026660667619, 5.141924177720425, 5.110777489694847, 5.079586781533285, 5.0483522385303035, 5.017074046331682, 4.9857523909331425, 4.954387458679404, 4.922979436263011, 4.891528510723157, 4.860034869444712, 4.828498700157043, 4.796920190932827, 4.7652995301870975, 4.733636906675937, 4.70193250949552, 4.670186528080911, 4.638399152204878, 4.606570571976907, 4.574700977841905, 4.542790560579205, 4.510839511301374, 4.4788480214529915, 4.446816282809652, 4.414744487476744, 4.382632827888237, 4.350481496805687, 4.3182906873169005, 4.286060592834939, 4.253791407096892, 4.2214833241626435, 4.189136538413849, 4.156751244552697, 4.124327637600674, 4.091865912897552, 4.059366266100031, 4.026828893180723, 3.994253990426907, 3.9616417544392717, 3.9289923821309, 3.8963060707258923, 3.863583017758346, 3.830823421071086, 3.79802747881441, 3.7651953894450276, 3.7323273517247904, 3.6994235647194227, 3.6664842277974845, 3.6335095406289746, 3.600499703184286, 3.5674549157329287, 3.534375378842243, 3.501261293376327, 3.4681128604947484, 3.434930281651252, 3.4017137585927033, 3.3684634933576763, 3.33517968827539, 3.3018625459644095, 3.268512269331342, 3.2351290615697685, 3.20171312615882, 3.168264666862102, 3.1347838877263854, 3.10127099308029, 3.067726187533181, 3.034149675973853, 3.000541663569206, 2.96690235576316, 2.9332319582752118, 2.899530677099343, 2.8657987185026914, 2.8320362890242166, 2.7982435954735814, 2.7644208449298127, 2.730568244739965, 2.6966860025180153, 2.6627743261433987, 2.628833423759907, 2.5948635037743326, 2.5608647748551254, 2.5268374459312755, 2.492781726190839, 2.4586978250798217, 2.424585952300821, 2.390446317811661, 2.3562791318242495, 2.3220846048032096, 2.2878629474645136, 2.253614370774352, 2.2193390859476425, 2.185037304446897, 2.1507092379808443, 2.116355098503053, 2.081975098210766, 2.0475694495435235, 2.013138365181771, 1.9786820580457205, 1.9442007412938378, 1.9096946283216945, 1.8751639327605758, 1.8406088684760857, 1.806029649566993, 1.7714264903637087, 1.7367996054271313, 1.7021492095472426, 1.667475517741702, 1.6327787452546605, 1.59805910755535, 1.563316820336674, 1.5285520995140385, 1.4937651612238134, 1.4589562218221632, 1.424125497883626, 1.3892732061996935, 1.3543995637776098, 1.3195047878389459, 1.2845890958181734, 1.2496527053614825, 1.2146958343252285, 1.1797187007747456, 1.1447215229829129, 1.1097045194287192, 1.074667908796071, 1.0396119099722305, 1.0045367420466202, 0.9694426243093808, 0.9343297762499246, 0.8991984175557133, 0.8640487681108077, 0.828881047994418, 0.7936954774796997, 0.7584922770321747, 0.7232716673085249, 0.6880338691551338, 0.6527791036066274, 0.6175075918846374, 0.5822195553963383, 0.5469152157329823, 0.5115947946686834, 0.4762585141588239, 0.4409065963388348, 0.40553926352272435, 0.3701567382016051, 0.3347592430424694, 0.2993470008865879, 0.2639202347482817, 0.22847916781344318, 0.19302402343805464, 0.15755502514693084, 0.12207239663223492, 0.08657636175199222, 0.051067144528853574, 0.015544969148480806, -0.019989940041693046, -0.055537358533955875, -0.09109706166181032, -0.12666882460124304, -0.16225242237222134, -0.1978476298401918, -0.23345422171732835, -0.2690719725641596, -0.3047006567908199, -0.3403400486585539, -0.3759899222812219, -0.41165005162655566, -0.44732021051779275, -0.4830001726349348, -0.518689711516259, -0.5543886005598312, -0.590096613024793, -0.625813522032878, -0.6615391005699284, -0.6972731214871617, -0.7330153575028164, -0.7687655812034212, -0.8045235650453173, -0.8402890813561825, -0.8760619023363294, -0.9118418000602311, -0.9476285464780505, -0.9834219134169154, -1.0192216725825767, -1.0550275955606867, -1.0908394538183315, -1.1266570187055667, -1.1624800614566995, -1.1983083531919518, -1.2341416649187453, -1.2699797675332412, -1.30582243182188, -1.3416694284626969, -1.3775205280268619, -1.4133755009802274, -1.4492341176846177, -1.485096148399503, -1.5209613632832941, -1.5568295323948904, -1.5927004256952297, -1.6285738130486125, -1.6644494642242527, -1.7003271488978315, -1.7362066366527984, -1.7720876969820534, -1.807970099289249, -1.84385361289035, -1.8797380070151894, -1.9156230508087775, -1.9515085133329868, -1.9873941635678611, -2.02327977041318, -2.059165102690019, -2.0950499291420908, -2.130934018437306, -2.166817139169345, -2.202699059858968, -2.238579548955712, -2.2744583748392078, -2.31033530582075, -2.346210110144866, -2.3820825559906647, -2.417952411473407, -2.4538194446460806, -2.489683423500722, -2.5255441159701166, -2.5614012899291274, -2.5972547131962687, -2.6331041535352835, -2.6689493786564746, -2.704790156218407, -2.7406262538292374, -2.7764574390482952, -2.812283479387666, -2.8481041423135465, -2.8839191952478296, -2.9197284055696877, -2.955531540616907, -2.9913283676875992, -3.0271186540415367, -3.0629021669017393, -3.098678673456064, -3.1344479408585646, -3.1702097362310866, -3.205963826664851, -3.2417099792217976, -3.2774479609363034, -3.3131775388165203, -3.348898479845969, -3.3846105509851343, -3.4203135191728062, -3.4560071513278015, -3.491691214350306, -3.5273654751234726, -3.5630297005150187, -3.5986836573785936, -3.63432711255538, -3.669959832875691, -3.7055815851603167, -3.74119213622225, -3.7767912528680374, -3.8123787018993758, -3.847954250114717, -3.8835176643106415, -3.919068711283459, -3.9546071578308157, -3.9901327707530396, -4.0256453168548765, -4.061144562946835, -4.096630275846799, -4.1321022223816275, -4.1675601693885085, -4.203003883716694, -4.238433132228849, -4.273847681802665, -4.30924729933246, -4.344631751730566, -4.380000805928932, -4.415354228880732, -4.450691787561726, -4.48601324897199, -4.521318380137278, -4.556606948110627, -4.591878719973966, -4.627133462839509, -4.662370943851352, -4.697590930187092, -4.732793189059186, -4.767977487716684, -4.803143593446593, -4.838291273575484, -4.873420295471108, -4.908530426543755, -4.943621434247989, -4.978693086084015, -5.013745149599288, -5.0487773923901225, -5.083789582103086, -5.118781486436606, -5.153752873142589, -5.188703510027777, -5.223633164955488, -5.258541605846981, -5.293428600683068, -5.328293917505723, -5.3631373244194815, -5.397958589593041, -5.432757481260882, -5.467533767724633, -5.502287217354802, -5.537017598592148, -5.5717246799492886, -5.606408230012319, -5.641068017442171, -5.675703810976354, -5.7103153794303205, -5.744902491699076, -5.779464916758795, -5.814002423668208, -5.848514781570219, -5.883001759693513, -5.917463127353924, -5.951898653956171, -5.986308108995223, -6.02069126205791, -6.055047882824536, -6.089377741070273, -6.123680606666763, -6.157956249583736, -6.1922044398903795, -6.2264249477570575, -6.260617543456692, -6.294781997366368, -6.328918079968935, -6.3630255618543865, -6.397104213721581, -6.4311538063796085, -6.465174110749406, -6.499164897865362, -6.533125938876699, -6.567057005049095, -6.600957867766277, -6.634828298531398, -6.668668068968756, -6.7024769508251625, -6.736254715971546, -6.770001136404561, -6.8037159842479715, -6.837399031754259, -6.871050051306229, -6.904668815418365, -6.938255096738563, -6.971808668049486, -7.005329302270173, -7.038816772457635, -7.072270851808223, -7.105691313659339, -7.13907793149081, -7.172430478926479, -7.205748729735808, -7.239032457835257, -7.272281437289891, -7.305495442314973, -7.338674247277321, -7.371817626697028, -7.404925355248816, -7.437997207763635, -7.471032959230257, -7.50403238479666, -7.53699525977161, -7.569921359626268, -7.6028104599955375, -7.63566233667978, -7.668476765646162, -7.701253523030253, -7.7339923851376104, -7.766693128445136, -7.799355529602776, -7.8319793654348855, -7.8645644129417995, -7.8971104493014295, -7.929617251870636, -7.962084598186811, -7.994512265969462, -8.026900033121564, -8.059247677731252, -8.091554978073173, -8.123821712610074, -8.15604765999436, -8.188232599069492, -8.220376308871538, -8.252478568630771, -8.284539157772997, -8.31655785592126, -8.348534442897174, -8.3804686987225, -8.412360403620722, -8.444209338018387, -8.476015282546781, -8.507778018043284, -8.539497325552931, -8.571172986329973, -8.602804781839252, -8.634392493757755, -8.665935903976182, -8.697434794600282, -8.728888947952532, -8.760298146573467, -8.79166217322324, -8.822980810883188, -8.854253842757172, -8.885481052273155, -8.916662223084737, -8.947797139072502, -8.97888558434567, -9.009927343243435, -9.040922200336508, -9.07186994042868, -9.10277034855815, -9.133623209999099, -9.16442831026321, -9.195185435101006, -9.225894370503509, -9.256554902703545, -9.287166818177303, -9.317729903645862, -9.348243946076526, -9.378708732684446, -9.409124050933967, -9.439489688540139, -9.469805433470267, -9.500071073945238, -9.530286398441055, -9.56045119569037, -9.590565254683787, -9.620628364671507, -9.650640315164638, -9.680600895936708, -9.710509897025196, -9.740367108732864, -9.77017232162927, -9.79992532655229, -9.829625914609418, -9.859273877179396, -9.888869005913508, -9.918411092737099, -9.947899929851083, -9.977335309733238, -10.006717025139826, -10.036044869106894, -10.065318634951762, -10.094538116274544, -10.123703106959454, -10.152813401176305, -10.181868793382023, -10.21086907832191, -10.239814051031269, -10.268703506836676, -10.297537241357485, -10.326315050507302, -10.35503673049531, -10.383702077827744, -10.412310889309373, -10.440862962044795, -10.469358093440016, -10.497796081203717, -10.526176723348751, -10.554499818193609, -10.582765164363696, -10.610972560792915, -10.639121806724921, -10.667212701714613, -10.695245045629585, -10.723218638651428, -10.751133281277182, -10.778988774320812, -10.80678491891447, -10.83452151651004, -10.862198368880426, -10.889815278120977, -10.917372046650968, -10.944868477214866, -10.972304372883777, -10.999679537056904, -11.026993773462797, -11.054246886160888, -11.081438679542753, -11.10856895833355, -11.135637527593452, -11.1626441927189, -11.189588759444137, -11.216471033842438, -11.24329082232756, -11.270047931655158, -11.296742168924046, -11.323373341577629, -11.349941257405321, -11.37644572454378, -11.402886551478423, -11.429263547044654, -11.455576520429293, -11.481825281171965, -11.508009639166373, -11.534129404661687, -11.560184388263965, -11.586174400937361, -11.612099254005638, -11.637958759153374, -11.663752728427362, -11.68948097423801, -11.715143309360563, -11.740739546936569, -11.766269500475103, -11.79173298385415, -11.817129811321992, -11.842459797498439, -11.867722757376198, -11.89291850632226, -11.918046860079105, -11.943107634766156, -11.96810064688098, -11.993025713300668, -12.017882651283193, -12.042671278468614, -12.067391412880465, -12.092042872927083, -12.116625477402826, -12.141139045489497, -12.165583396757537, -12.189958351167368, -12.214263729070757, -12.238499351211981, -12.262665038729269, -12.286760613155963, -12.310785896421871, -12.334740710854602, -12.358624879180748, -12.38243822452722, -12.406180570422588, -12.429851740798222, -12.45345155998973, -12.476979852738094, -12.500436444191005, -12.523821159904173, -12.547133825842511, -12.570374268381434, -12.593542314308179, -12.616637790822953, -12.639660525540318, -12.662610346490336, -12.685487082119874, -12.708290561293893, -12.731020613296602, -12.75367706783282, -12.776259755029113, -12.798768505435081, -12.821203150024655, -12.843563520197224, -12.86584944777893, -12.88806076502394, -12.91019730461558, -12.93225889966766, -12.95424538372562, -12.976156590767781, -12.997992355206623, -13.019752511889896, -13.041436896101894, -13.063045343564708, -13.084577690439334, -13.106033773326995, -13.127413429270245, -13.148716495754217, -13.169942810707868, -13.191092212505069, -13.212164539965922, -13.233159632357852, -13.254077329396827, -13.274917471248612, -13.295679898529842, -13.31636445230927, -13.336970974108965, -13.357499305905419, -13.377949290130804, -13.398320769674068, -13.418613587882131, -13.438827588561107, -13.458962615977368, -13.479018514858762, -13.4989951303958, -13.518892308242723, -13.538709894518767, -13.558447735809208, -13.578105679166557, -13.597683572111741, -13.61718126263516, -13.636598599197923, -13.655935430732894, -13.67519160664587, -13.694366976816744, -13.713461391600566, -13.732474701828693, -13.751406758809964, -13.770257414331718, -13.78902652066103, -13.807713930545711, -13.826319497215485, -13.844843074383116, -13.863284516245443, -13.881643677484526, -13.899920413268783, -13.91811457925399, -13.936226031584486, -13.954254626894173, -13.972200222307643, -13.990062675441298, -14.007841844404348, -14.025537587799993, -14.04314976472641, -14.060678234777864, -14.078122858045813, -14.095483495119913, -14.11276000708911, -14.12995225554274, -14.14706010257151, -14.164083410768644, -14.181022043230854, -14.197875863559426, -14.21464473586131, -14.231328524750078, -14.247927095347018, -14.264440313282195, -14.280868044695412, -14.29721015623733, -14.313466515070422, -14.329636988870027, -14.34572144582541, -14.36171975464071, -14.377631784536032, -14.393457405248395, -14.409196487032776, -14.424848900663143, -14.440414517433402, -14.455893209158416, -14.471284848175063, -14.486589307343127, -14.5018064600464, -14.516936180193573, -14.53197834221928, -14.546932821085083, -14.561799492280418, -14.576578231823579, -14.591268916262734, -14.605871422676824, -14.620385628676605, -14.634811412405544, -14.649148652540813, -14.663397228294267, -14.677557019413339, -14.691627906182063, -14.705609769421956, -14.719502490492985, -14.73330595129455, -14.747020034266352, -14.76064462238936, -14.774179599186773, -14.787624848724876, -14.80098025561405, -14.81424570500962, -14.827421082612794, -14.84050627467163, -14.853501167981861, -14.866405649887858, -14.87921960828354, -14.891942931613228, -14.90457550887261, -14.917117229609568, -14.929567983925102, -14.941927662474246, -14.954196156466887, -14.966373357668715, -14.978459158402044, -14.990453451546708, -15.002356130540967, -15.014167089382314, -15.025886222628365, -15.037513425397755, -15.049048593370923, -15.060491622791044, -15.071842410464816, -15.083100853763336, -15.094266850622962, -15.105340299546105, -15.116321099602105, -15.127209150428062, -15.138004352229634, -15.148706605781916, -15.159315812430206, -15.169831874090852, -15.18025469325209, -15.190584172974804, -15.20082021689339, -15.21096272921652, -15.221011614727953, -15.230966778787364, -15.240828127331094, -15.250595566872958, -15.260269004505059, -15.26984834789852, -15.279333505304322, -15.288724385554035, -15.298020898060605, -15.307222952819147, -15.316330460407677, -15.325343331987888, -15.334261479305923, -15.343084814693103, -15.351813251066714, -15.360446701930716, -15.368985081376504, -15.377428304083676, -15.385776285320715, -15.394028940945782, -15.402186187407397, -15.410247941745187, -15.41821412159062, -15.426084645167702, -15.433859431293694, -15.441538399379855, -15.449121469432095, -15.456608562051741, -15.463999598436187, -15.47129450037961, -15.478493190273682, -15.48559559110822, -15.492601626471904, -15.499511220552952, -15.506324298139786, -15.513040784621722, -15.519660605989634, -15.526183688836603, -15.532609960358627, -15.53893934835523, -15.545171781230154, -15.551307187991986, -15.557345498254815, -15.563286642238896, -15.569130550771254, -15.574877155286341, -15.580526387826689, -15.586078181043488, -15.59153246819727, -15.596889183158485, -15.602148260408136, -15.607309635038407, -15.612373242753247, -15.617339019868995, -15.622206903314977, -15.626976830634097, -15.631648739983454, -15.636222570134905, -15.640698260475666, -15.645075751008909, -15.649354982354309, -15.653535895748652, -15.657618433046384, -15.661602536720185, -15.66548814986155, -15.669275216181322, -15.67296368001026, -15.6765534862996, -15.680044580621587, -15.683436909170034, -15.68673041876085, -15.689925056832593, -15.693020771446978, -15.696017511289432, -15.6989152256696, -15.701713864521878, -15.704413378405922, -15.707013718507165, -15.709514836637325, -15.711916685234907, -15.714219217365711, -15.716422386723325, -15.718526147629614, -15.720530455035222, -15.722435264520039, -15.724240532293702, -15.725946215196055, -15.727552270697634, -15.729058656900133, -15.730465332536863, -15.731772256973224, -15.732979390207158, -15.734086692869596, -15.735094126224917, -15.736001652171387, -15.736809233241601, -15.737516832602926, -15.738124414057925, -15.73863194204479, -15.739039381637774, -15.739346698547598, -15.73955385912188, -15.739660830345544, -15.739667579841225, -15.739574075869683, -15.739380287330198, -15.739086183760955, -15.738691735339469, -15.738196912882932, -15.737601687848636, -15.736906032334325, -15.736109919078586, -15.73521332146122, -15.734216213503604, -15.73311856986906, -15.731920365863214, -15.730621577434352, -15.72922218117377, -15.727722154316123, -15.726121474739768, -15.724420120967107, -15.72261807216492, -15.720715308144685, -15.71871180936293, -15.716607556921527, -15.714402532568036, -15.712096718696005, -15.709690098345275, -15.707182655202311, -15.704574373600483, -15.70186523852036, -15.699055235590029, -15.696144351085353, -15.693132571930287, -15.690019885697138, -15.68680628060685, -15.683491745529277, -15.680076269983456, -15.676559844137854, -15.67294245881066, -15.669224105470006, -15.665404776234247, -15.661484463872199, -15.65746316180337, -15.653340864098231, -15.649117565478408, -15.64479326131696, -15.640367947638573, -15.635841621119791, -15.63121427908924, -15.626485919527848, -15.621656541069026, -15.616726142998914, -15.611694725256552, -15.606562288434093, -15.601328833776998, -15.595994363184207, -15.590558879208341, -15.585022385055888, -15.579384884587352, -15.57364638231746, -15.567806883415292, -15.561866393704486, -15.555824919663369, -15.549682468425113, -15.543439047777904, -15.537094666165068, -15.53064933268523, -15.524103057092447, -15.517455849796333, -15.5107077218622, -15.503858685011187, -15.49690875162036, -15.489857934722858, -15.482706248007974, -15.475453705821295, -15.46810032316479, -15.4606461156969, -15.453091099732658, -15.445435292243761, -15.437678710858663, -15.429821373862666, -15.421863300197973, -15.413804509463802, -15.405645021916422, -15.39738485846923, -15.389024040692822, -15.38056259081503, -15.372000531720996, -15.36333788695321, -15.354574680711544, -15.345710937853315, -15.336746683893313, -15.32768194500381, -15.31851674801462, -15.30925112041311, -15.299885090344205, -15.2904186866104, -15.280851938671827, -15.271184876646178, -15.261417531308737, -15.251549934092436, -15.241582117087749, -15.231514113042726, -15.221345955363025, -15.211077678111803, -15.200709316009744, -15.190240904435012, -15.17967247942326, -15.16900407766753, -15.158235736518222, -15.147367493983124, -15.136399388727249, -15.125331460072843, -15.114163747999354, -15.10289629314329, -15.091529136798197, -15.080062320914623, -15.068495888099958, -15.056829881618418, -15.045064345390909, -15.033199323995033, -15.02123486266487, -15.009171007290941, -14.997007804420155, -14.984745301255602, -14.972383545656488, -14.959922586138077, -14.947362471871466, -14.934703252683509, -14.921944979056748, -14.909087702129174, -14.896131473694151, -14.883076346200255, -14.869922372751185, -14.856669607105518, -14.843318103676596, -14.829867917532436, -14.816319104395445, -14.802671720642314, -14.788925823303904, -14.775081470064956, -14.76113871926396, -14.74709762989304, -14.73295826159764, -14.7187206746764, -14.704384930081003, -14.689951089415866, -14.675419214938005, -14.660789369556792, -14.646061616833817, -14.631236020982547, -14.616312646868165, -14.6012915600074, -14.586172826568179, -14.570956513369442, -14.55564268788097, -14.540231418223021, -14.524722773166129, -14.509116822130919, -14.49341363518773, -14.477613283056426, -14.461715837106093, -14.44572136935485, -14.429629952469453, -14.413441659765061, -14.397156565205046, -14.380774743400544, -14.364296269610243, -14.34772121974016, -14.331049670343186, -14.314281698618863, -14.297417382413135, -14.280456800217902, -14.263400031170788, -14.246247155054771, -14.228998252297957, -14.211653403973102, -14.19421269179734, -14.176676198131933, -14.15904400598176, -14.141316198995062, -14.123492861463141, -14.105574078319876, -14.087559935141417, -14.069450518145908, -14.05124591419296, -14.032946210783344, -14.014551496058703, -13.996061858801012, -13.977477388432282, -13.958798175014131, -13.94002430924748, -13.921155882472005, -13.902192986665803, -13.883135714445068, -13.863984159063518, -13.844738414412053, -13.825398575018417, -13.805964736046608, -13.786436993296535, -13.766815443203656, -13.747100182838379, -13.727291309905729, -13.707388922744844, -13.687393120328633, -13.66730400226316, -13.647121668787253, -13.626846220772142, -13.606477759720802, -13.586016387767577, -13.565462207677788, -13.544815322847072, -13.524075837300986, -13.503243855694604, -13.482319483311855, -13.461302826065122, -13.4401939904947, -13.418993083768395, -13.397700213680842, -13.376315488653072, -13.354839017732083, -13.333270910590139, -13.311611277524332, -13.289860229456135, -13.268017877930687, -13.246084335116336, -13.224059713804202, -13.201944127407423, -13.179737689960707, -13.157440516119859, -13.135052721161038, -13.112574420980316, -13.090005732093033, -13.067346771633362, -13.044597657353533, -13.021758507623346, -12.998829441429676, -12.975810578375697, -12.952702038680377, -12.929503943177968, -12.906216413317223, -12.882839571160869, -12.859373539385107, -12.835818441278784, -12.812174400742911, -12.788441542289972, -12.764619991043423, -12.740709872736868, -12.716711313713505, -12.692624440925602, -12.668449381933636, -12.644186264905752, -12.619835218617204, -12.595396372449498, -12.570869856389827, -12.54625580103051, -12.52155433756811, -12.496765597802902, -12.471889714138124, -12.44692681957943, -12.42187704773399, -12.396740532809906, -12.371517409615633, -12.346207813559042, -12.320811880646847, -12.295329747483988, -12.269761551272715, -12.244107429811965, -12.218367521496765, -12.192541965317277, -12.166630900858191, -12.140634468298089, -12.114552808408497, -12.088386062553289, -12.06213437268786, -12.035797881358542, -12.00937673170161, -11.982871067442646, -11.956281032895888, -11.929606772963242, -11.902848433133617, -11.876006159482273, -11.849080098669813, -11.822070397941514, -11.79497720512666, -11.767800668637515, -11.740540937468692, -11.713198161196267, -11.685772489977147, -11.658264074548013, -11.630673066224643, -11.602999616901203, -11.575243879049204, -11.547406005716788, -11.519486150528031, -11.491484467681866, -11.463401111951375, -11.435236238683064, -11.406990003795789, -11.378662563780063, -11.350254075697132, -11.321764697178278, -11.293194586423718, -11.264543902201869, -11.235812803848601, -11.207001451266118, -11.17811000492222, -11.149138625849528, -11.120087475644384, -11.090956716466057, -11.061746511036, -11.032457022636708, -11.003088415110929, -10.973640852860903, -10.9441145008472, -10.914509524587977, -10.884826090157988, -10.855064364187832, -10.825224513862771, -10.79530670692195, -10.765311111657576, -10.735237896913748, -10.705087232085635, -10.674859287118675, -10.644554232507364, -10.614172239294447, -10.583713479070088, -10.553178123970659, -10.522566346677952, -10.491878320418131, -10.46111421896094, -10.430274216618463, -10.399358488244294, -10.36836720923268, -10.337300555517272, -10.306158703570283, -10.274941830401621, -10.243650113557637, -10.212283731120252, -10.180842861706097, -10.149327684465234, -10.117738379080338, -10.086075125765577, -10.05433810526579, -10.022527498855194, -9.990643488336485, -9.958686256039963, -9.926655984822219, -9.894552858065234, -9.862377059675486, -9.830128774082624, -9.79780818623857, -9.76541548161659, -9.732950846209986, -9.70041446653116, -9.667806529610703, -9.63512722299604, -9.602376734750562, -9.569555253452451, -9.536662968193793, -9.503700068579224, -9.470666744724976, -9.437563187257943, -9.404389587314302, -9.371146136538565, -9.337833027082619, -9.304450451604339, -9.270998603266635, -9.237477675736477, -9.203887863183505, -9.170229360279096, -9.136502362195152, -9.10270706460318, -9.068843663672858, -9.034912356071066, -9.000913338960888, -8.966846810000192, -8.932712967340628, -8.89851200962663, -8.864244135993989, -8.829909546068828, -8.795508439966612, -8.761041018290685, -8.726507482131307, -8.691908033064395, -8.657242873150548, -8.622512204933575, -8.587716231439476, -8.5528551561754, -8.517929183128187, -8.4829385167633, -8.447883362023806, -8.41276392432888, -8.377580409572758, -8.342333024123684, -8.307021974822408, -8.271647468981135, -8.236209714382452, -8.200708919277833, -8.165145292386605, -8.129519042894634, -8.093830380453303, -8.058079515177988, -8.022266657646966, -7.9863920189003474, -7.950455810438521, -7.914458244221074, -7.8783995326657035, -7.842279888646657, -7.806099525493634, -7.769858656990695, -7.733557497374686, -7.69719626133419, -7.660775164008158, -7.6242944209848496, -7.587754248300252, -7.5511548624369595, -7.514496480323056, -7.477779319330521, -7.4410035972741015, -7.404169532410183, -7.367277343435188, -7.330327249484435, -7.293319470131005, -7.25625422538412, -7.219131735688007, -7.181952221920741, -7.144715905392626, -7.1074230078450915, -7.070073751449268, -7.0326683588048855, -6.99520705293863, -6.9576900573029805, -6.920117595775035, -6.882489892654866, -6.844807172664344, -6.807069660945956, -6.769277583061149, -6.7314311649891465, -6.693530633125758, -6.655576214281713, -6.617568135681517, -6.579506624961992, -6.541391910171129, -6.503224219766408, -6.465003782613588, -6.426730827985506, -6.388405585560374, -6.350028285420577, -6.311599158051448, -6.273118434339571, -6.234586345571552, -6.196003123432801, -6.157369000005818, -6.118684207769008, -6.0799489795951915, -6.0411635487504105, -6.002328148892207, -5.963443014068383, -5.9245083787157515, -5.885524477658408, -5.846491546106468, -5.80740981965483, -5.768279534281415, -5.729100926345918, -5.689874232588545, -5.650599690128255, -5.611277536461493, -5.571908009460929, -5.532491347373682, -5.4930277888201084, -5.453517572792246, -5.413960938652594, -5.3743581261323286, -5.334709375330021, -5.295014926710358, -5.25527502110234, -5.215489899697993, -5.175659804051088, -5.135784976075321, -5.095865658043027, -5.0559020925838745, -5.01589452268306, -4.97584319168005, -4.935748343266996, -4.895610221487484, -4.855429070734701, -4.815205135750126, -4.774938661622215, -4.734629893784558, -4.6942790780145645, -4.653886460432136, -4.6134522874978225, -4.572976806011494, -4.5324602631110045, -4.491902906270346, -4.451304983298364, -4.410666742337132, -4.369988431860665, -4.329270300673059, -4.2885125979071415, -4.247715573023125, -4.206879475806732, -4.166004556367838, -4.125091065139126, -4.084139252874192, -4.043149370646193, -4.002121669846481, -3.9610564021827113, -3.9199538196774775, -3.8788141746669402, -3.8376377197989275, -3.79642470803162, -3.7551753926318807, -3.7138900271739335, -3.6725688655374547, -3.6312121619061886, -3.5898201707665605, -3.548393146905761, -3.506931345410354, -3.4654350216648817, -3.4239044313499454, -3.3823398304408, -3.34074147520596, -3.299109622205263, -3.257444528288528, -3.215746450593849, -3.1740156465462506, -3.1322523738557386, -3.0904568905158927, -3.0486294548024473, -3.0067703252713436, -2.964879760757308, -2.9229580203724295, -2.8810053635042063, -2.8390220498141128, -2.797008339236177, -2.7549644919750134, -2.7128907685044483, -2.670787429565791, -2.628654736166453, -2.586492949577978, -2.5443023313345936, -2.502083143231777, -2.459835647324267, -2.41756010592462, -2.375256781601759, -2.332925937178987, -2.2905678357325323, -2.248182740590093, -2.205770915328844, -2.1633326237739747, -2.12086812999723, -2.0783776983149074, -2.0358615932864517, -1.9933200797126893, -1.9507534226344172, -1.9081618873303938, -1.8655457393158652, -1.8229052443410916, -1.7802406683893277, -1.7375522776753465, -1.6948403386439572, -1.6521051179679824, -1.6093468825467734, -1.5665658995047245, -1.5237624361892428, -1.4809367601693189, -1.438089139233733, -1.3952198413896237, -1.3523291348604485, -1.3094172880844857, -1.266484569713339, -1.22353124860989, -1.180557593846797, -1.1375638747049923, -1.09455036067163, -1.0515173214385791, -1.0084650269009152, -0.9653937471548635, -0.9223037524963469, -0.8791953134191682, -0.8360687006135565, -0.7929241849641013, -0.7497620375482341, -0.7065825296347082, -0.6633859326815282, -0.6201725183344255, -0.5769425584253347, -0.5336963249703163, -0.4904340901680279, -0.447156126398196, -0.40386270621953263, -0.3605541023682033, -0.3172305877562917, -0.2738924354697134, -0.23053991876673907, -0.1871733110761488, -0.14379288599575293, -0.10039891729029822, -0.05699167888992395, -0.013571444888616764, 0.02986151045788812, 0.07330691273365528, 0.1167644873640985, 0.16023395961808465, 0.20371505460948622, 0.2472074972987352, 0.2907110124949317, 0.33422532485733913, 0.3777501588972499, 0.4212852389794837, 0.46483028932450193, 0.50838503400997, 0.5519491969723213, 0.5955225020088759, 0.6391046727794079, 0.6826954328077117, 0.7262945054837271, 0.7699016140651084, 0.8135164816787969, 0.8571388313231479, 0.9007683858694441, 0.9444048680637791, 0.9880480005285723, 1.0316975057647024, 1.0753531061530868, 1.119014523956261, 1.162681481320518, 1.2063537002774891, 1.250030902745729, 1.2937128105328566, 1.3373991453371419, 1.3810896287490932, 1.4247839822536021, 1.4684819272315333, 1.512183184961316, 1.5558874766210924, 1.5995945232902484, 1.643304045951318, 1.6870157654915172, 1.730729402704896, 1.7744446782939367, 1.8181613128711533, 1.8618790269612466, 1.9055975410027062, 1.949316575349412, 1.993035850272793, 2.0367550859634327, 2.080474002532674, 2.1241923200147794, 2.1679097583684794, 2.211626037478888, 2.2553408771590493, 2.2990539971521056, 2.3427651171329065, 2.386473956709622, 2.43018023542591, 2.4738836727625326, 2.5175839881389694, 2.561280900915587, 2.60497413039526, 2.6486633958249817, 2.6923484163980467, 2.7360289112556013, 2.779704599488574, 2.8233752001392367, 2.8670404322033787, 2.9107000146319324, 2.9543536663325916, 2.9980011061719964, 3.041642052977356, 3.085276225538071, 3.12890334260792, 3.172523122906683, 3.2161352851217715, 3.2597395479104097, 3.303335629901265, 3.346923249696079, 3.39050212587185, 3.434071976982405, 3.4776325215603405, 3.5211834781185893, 3.5647245651526136, 3.6082555011420325, 3.651776004552265, 3.6952857938367107, 3.738784587438391, 3.7822721037915827, 3.8257480613240102, 3.8692121784584836, 3.912664173614534, 3.9561037652106084, 3.9995306716656445, 4.042944611401021, 4.086345302842135, 4.129732464420593, 4.173105814575858, 4.216465071756884, 4.259809954424317, 4.303140181052133, 4.3464554701292855, 4.389755540161895, 4.4330401096749, 4.476308897213697, 4.519561621346337, 4.56279800066511, 4.606017753788499, 4.649220599362761, 4.692406256064126, 4.7355744426004485, 4.778724877712842, 4.821857280177891, 4.864971368809289, 4.90806686245949, 4.9511434800219085, 4.994200940432565, 5.037238962671734, 5.0802572657661464, 5.123255568790637, 5.166233590869793, 5.209191051180155, 5.252127668951802, 5.29504316347031, 5.3379372540783425, 5.380809660177846, 5.423660101231699, 5.466488296765371, 5.509293966369114, 5.552076829699614, 5.594836606481648, 5.637573016510274, 5.6802857796524915, 5.722974615848885, 5.765639245115828, 5.808279387547075, 5.850894763315706, 5.893485092675732, 5.9360500959642835, 5.978589493603265, 6.021103006101009, 6.063590354054466, 6.106051258150865, 6.148485439169361, 6.190892617983232, 6.233272515561528, 6.275624852970728, 6.317949351376933, 6.3602457320474555, 6.402513716352775, 6.444753025768126, 6.4869633818757, 6.529144506366283, 6.571296121040923, 6.613417947813109, 6.655509708710429, 6.697571125876219, 6.739601921571753, 6.781601818177897, 6.823570538196755, 6.865507804253862, 6.907413339099829, 6.949286865612004, 6.991128106796643, 7.032936785790514, 7.074712625862837, 7.116455350416878, 7.15816468299213, 7.199840347265962, 7.241482067055271, 7.28308956631866, 7.324662569158088, 7.366200799820521, 7.407703982700104, 7.449171842339815, 7.49060410343311, 7.5320004908261, 7.573360729519136, 7.614684544668751, 7.655971661589254, 7.6972218057548885, 7.738434702801491, 7.779610078528128, 7.820747658899272, 7.861847170046437, 7.9029083382698335, 7.9439308900405265, 7.984914552002081, 8.025859050972207, 8.066764113944922, 8.107629468092128, 8.148454840765558, 8.189239959498341, 8.229984552007169, 8.270688346193944, 8.311351070147401, 8.35197245214528, 8.392552220655952, 8.433090104340067, 8.473585832052697, 8.514039132844976, 8.55444973596574, 8.59481737086367, 8.635141767188928, 8.675422654794794, 8.715659763739806, 8.75585282428934, 8.796001566917528, 8.836105722308824, 8.87616502136015, 8.916179195182528, 8.956147975102702, 8.996071092665282, 9.03594827963437, 9.075779267995177, 9.115563789956171, 9.155301577950693, 9.194992364638582, 9.234635882908304, 9.27423186587852, 9.313780046899986, 9.353280159557125, 9.392731937670133, 9.43213511529662, 9.471489426733216, 9.510794606517686, 9.550050389430556, 9.589256510496723, 9.628412704987579, 9.667518708422602, 9.706574256570995, 9.745579085453784, 9.784532931345368, 9.823435530775416, 9.862286620530412, 9.901085937655768, 9.939833219457418, 9.978528203503434, 10.017170627626118, 10.055760229923619, 10.094296748761513, 10.132779922774919, 10.171209490870087, 10.209585192225996, 10.247906766296456, 10.286173952811687, 10.324386491779933, 10.362544123489528, 10.40064658851045, 10.438693627696178, 10.476684982185223, 10.51462039340322, 10.552499603064508, 10.590322353173708, 10.628088386027814, 10.665797444217763, 10.703449270630022, 10.741043608448665, 10.778580201156934, 10.816058792538835, 10.853479126681194, 10.890840947975176, 10.928144001118138, 10.965388031115141, 11.002572783281002, 11.039698003241874, 11.076763436936819, 11.113768830619833, 11.150713930861437, 11.187598484550243, 11.224422238894975, 11.261184941426048, 11.29788633999713, 11.33452618278717, 11.371104218301912, 11.407620195375705, 11.44407386317302, 11.480464971190464, 11.516793269258343, 11.553058507542206, 11.58926043654487, 11.625398807107965, 11.661473370413487, 11.697483877985807, 11.73343008169321, 11.769311733749452, 11.80512858671575, 11.840880393502328, 11.876566907369964, 11.912187881931978, 11.947743071155713, 11.983232229364337, 12.018655111238315, 12.054011471817399, 12.089301066502157, 12.124523651055503, 12.159678981604674, 12.194766814642758, 12.229786907030217, 12.264739015996849, 12.299622899143325, 12.334438314442695, 12.36918502024236, 12.403862775265527, 12.438471338612974, 12.473010469764523, 12.507479928580976, 12.541879475305638, 12.576208870565813, 12.610467875374754, 12.644656251133165, 12.678773759630703, 12.712820163047917, 12.746795223957735, 12.78069870532698, 12.814530370518275, 12.84828998329156, 12.881977307805554, 12.915592108619704, 12.949134150695604, 12.982603199398724, 13.015999020499855, 13.049321380177002, 13.08257004501687, 13.11574478201635, 13.1488453585844, 13.181871542543542, 13.214823102131309, 13.247699806002165, 13.28050142322894, 13.313227723304319, 13.34587847614272, 13.37845345208171, 13.410952421883682, 13.443375156737284, 13.47572142825929, 13.507991008496036, 13.540183669924893, 13.572299185456108, 13.604337328434273, 13.636297872639748, 13.66818059229053, 13.69998526204369, 13.731711656996808, 13.763359552689822, 13.79492872510641, 13.82641895067565, 13.857830006273417, 13.889161669224196, 13.920413717302518, 13.95158592873438, 13.982678082199072, 14.013689956830591, 14.044621332219057, 14.07547198841253, 14.106241705918423, 14.136930265704903, 14.167537449202703, 14.198063038306524, 14.22850681537644, 14.258868563239684, 14.28914806519202, 14.31934510499933, 14.349459466898994, 14.379490935601643, 14.409439296292566, 14.439304334633093, 14.469085836762359, 14.498783589298693, 14.528397379340992, 14.557926994470487, 14.587372222752112, 14.616732852735879, 14.64600867345863, 14.675199474445357, 14.704305045710775, 14.73332517776066, 14.762259661593564, 14.791108288702178, 14.8198708510747, 14.848547141196537, 14.877136952051682, 14.905640077124039, 14.934056310399152, 14.962385446365536, 14.990627280016032, 15.018781606849497, 15.046848222872104, 15.074826924598876, 15.10271750905498, 15.130519773777406, 15.158233516816304, 15.185858536736298, 15.213394632618163, 15.240841604060149, 15.268199251179292, 15.295467374613079, 15.322645775520753, 15.34973425558464, 15.37673261701177, 15.403640662535214, 15.430458195415353, 15.45718501944155, 15.483820938933377, 15.510365758742113, 15.536819284251994, 15.563181321381839, 15.589451676586327, 15.615630156857288, 15.641716569725304, 15.667710723261001, 15.693612426076308, 15.719421487326066, 15.745137716709293, 15.77076092447045, 15.796290921401026, 15.821727518840774, 15.84707052867913, 15.872319763356446, 15.897475035865549, 15.92253615975301, 15.947502949120363, 15.972375218625688, 15.997152783484841, 16.021835459472687, 16.04642306292466, 16.070915410737985, 16.0953123203729, 16.119613609854223, 16.14381909777249, 16.167928603285393, 16.19194194611894, 16.215858946568968, 16.239679425502377, 16.26340320435831, 16.28703010514968, 16.310559950464366, 16.333992563466413, 16.35732776789752, 16.380565388078235, 16.40370524890916, 16.4267471758724, 16.449690995032775, 16.472536533039, 16.495283617125136, 16.51793207511174, 16.5404817354072, 16.562932427008878, 16.58528397950454, 16.607536223073538, 16.629688988487963, 16.651742107114085, 16.673695410913496, 16.695548732444276, 16.717301904862406, 16.738954761922912, 16.760507137981012, 16.781958867993527, 16.803309787519975, 16.824559732723863, 16.84570854037379, 16.86675604784481, 16.887702093119604, 16.90854651478955, 16.929289152056135, 16.94992984473205, 16.970468433242303, 16.990904758625582, 17.011238662535384, 17.031469987241056, 17.051598575629217, 17.071624271204772, 17.091546918092153, 17.111366361036396, 17.13108244540446, 17.150695017186298, 17.170203922995956, 17.189609010072875, 17.208910126282966, 17.228107120119677, 17.2471998407053, 17.266188137792028, 17.28507186176301, 17.303850863633656, 17.32252499505266, 17.34109410830307, 17.359558056303566, 17.377916692609453, 17.396169871413843, 17.414317447548655, 17.432359276485883, 17.45029521433861, 17.468125117862034, 17.485848844454715, 17.50346625215959, 17.520977199664983, 17.538381546305843, 17.55567915206473, 17.57286987757284, 17.589953584111196, 17.606930133611645, 17.623799388657954, 17.640561212486766, 17.657215468988817, 17.673762022709894, 17.690200738851832, 17.706531483273682, 17.722754122492685, 17.738868523685237, 17.754874554688065, 17.770772083999173, 17.786560980778802, 17.802241114850585, 17.817812356702472, 17.83327457748779, 17.84862764902614, 17.863871443804566, 17.879005834978457, 17.89403069637249, 17.908945902481747, 17.923751328472637, 17.938446850183823, 17.953032344127305, 17.967507687489352, 17.981872758131402, 17.99612743459115, 18.010271596083435, 18.02430512250118, 18.038227894416405, 18.052039793081143, 18.065740700428407, 18.079330499073052, 18.092809072312825, 18.10617630412925, 18.11943207918849, 18.132576282842383, 18.145608801129313, 18.15852952077507, 18.171338329193855, 18.184035114489156, 18.196619765454578, 18.209092171574856, 18.221452223026677, 18.233699810679617, 18.245834826096925, 18.257857161536545, 18.26976670995192, 18.281563364992813, 18.293247021006295, 18.304817573037536, 18.316274916830626, 18.32761894882953, 18.338849566178897, 18.34996666672484, 18.360970149015888, 18.371859912303762, 18.382635856544223, 18.393297882397864, 18.403845891231015, 18.414279785116513, 18.42459946683448, 18.43480483987323, 18.44489580843001, 18.4548722774118, 18.46473415243614, 18.474481339831947, 18.484113746640208, 18.493631280614878, 18.503033850223623, 18.512321364648532, 18.521493733786993, 18.53055086825239, 18.539492679374916, 18.548319079202255, 18.557029980500424, 18.565625296754483, 18.57410494216925, 18.58246883167011, 18.590716880903717, 18.598849006238677, 18.606865124766376, 18.614765154301633, 18.622549013383416, 18.6302166212756, 18.637767897967645, 18.645202764175316, 18.652521141341342, 18.659722951636187, 18.666808117958684, 18.673776563936716, 18.68062821392795, 18.687362993020486, 18.693980827033485, 18.70048164251793, 18.70686536675722, 18.713131927767837, 18.71928125430004, 18.725313275838474, 18.731227922602837, 18.737025125548495, 18.742704816367162, 18.748266927487506, 18.753711392075754, 18.75903814403636, 18.7642471180126, 18.76933824938717, 18.77431147428283, 18.77916672956298, 18.783903952832254, 18.788523082437152, 18.793024057466603, 18.79740681775253, 18.80167130387048, 18.805817457140165, 18.809845219626048, 18.813754534137885, 18.817545344231327, 18.821217594208452, 18.824771229118312, 18.82820619475749, 18.831522437670667, 18.834719905151104, 18.837798545241224, 18.840758306733136, 18.84359913916912, 18.846320992842198, 18.848923818796624, 18.85140756882839, 18.85377219548572, 18.85601765206962, 18.858143892634327, 18.860150871987795, 18.862038545692226, 18.86380687006451, 18.865455802176726, 18.866985299856594, 18.868395321687967, 18.86968582701126, 18.87085677592394, 18.871908129280968, 18.872839848695236, 18.873651896538014, 18.874344235939404, 18.874916830788752, 18.875369645735095, 18.875702646187566, 18.875915798315837, 18.876009069050504, 18.875982426083525, 18.875835837868596, 18.87556927362159, 18.8751827033209, 18.87467609770788, 18.874049428287186, 18.873302667327202, 18.872435787860365, 18.871448763683574, 18.87034156935855, 18.869114180212176, 18.867766572336865, 18.866298722590933, 18.8647106085989, 18.86300220875188, 18.86117350220787, 18.85922446889212, 18.857155089497443, 18.854965345484537, 18.8526552190823, 18.85022469328816, 18.84767375186834, 18.845002379358213, 18.84221056106257, 18.839298283055896, 18.836265532182704, 18.833112296057777, 18.82983856306646, 18.826444322364935, 18.822929563880486, 18.819294278311755, 18.81553845712902, 18.811662092574423, 18.80766517766223, 18.80354770617907, 18.7993096726842, 18.79495107250968, 18.790471901760647, 18.785872157315556, 18.78115183682632, 18.776310938718602, 18.771349462191996, 18.766267407220216, 18.761064774551304, 18.755741565707837, 18.7502977829871, 18.744733429461263, 18.739048508977593, 18.733243026158583, 18.727316986402144, 18.72127039588177, 18.715103261546712, 18.70881559112208, 18.702407393109034, 18.69587867678494, 18.689229452203463, 18.682459730194715, 18.675569522365425, 18.668558841099006, 18.661427699555695, 18.65417611167269, 18.64680409216422, 18.63931165652167, 18.63169882101366, 18.623965602686194, 18.616112019362678, 18.608138089644022, 18.600043832908774, 18.591829269313113, 18.583494419790952, 18.57503930605404, 18.566463950591952, 18.557768376672172, 18.548952608340173, 18.5400166704194, 18.53096058851136, 18.521784388995602, 18.51248809902983, 18.503071746549832, 18.493535360269536, 18.48387896968107, 18.474102605054686, 18.464206297438796, 18.454190078660027, 18.444053981323126, 18.433798038810973, 18.42342228528463, 18.412926755683216, 18.402311485723935, 18.391576511902077, 18.3807218714909, 18.36974760254164, 18.35865374388344, 18.34744033512336, 18.33610741664621, 18.32465502961456, 18.3130832159687, 18.301392018426473, 18.289581480483257, 18.27765164641193, 18.265602561262657, 18.253434270862883, 18.24114682181727, 18.228740261507483, 18.216214638092165, 18.203570000506776, 18.190806398463558, 18.177923882451296, 18.164922503735248, 18.15180231435706, 18.13856336713452, 18.12520571566148, 18.111729414307742, 18.098134518218814, 18.084421083315792, 18.070589166295257, 18.056638824628997, 18.04257011656391, 18.028383101121765, 18.01407783809913, 17.99965438806704, 17.98511281237087, 17.970453173130185, 17.95567553323845, 17.940779956362825, 17.92576650694407, 17.910635250196155, 17.895386252106125, 17.88001957943392, 17.864535299712028, 17.84893348124529, 17.833214193110727, 17.817377505157175, 17.801423488005085, 17.78535221304625, 17.76916375244361, 17.752858179130865, 17.736435566812236, 17.71989598996229, 17.703239523825488, 17.68646624441598, 17.669576228517375, 17.652569553682294, 17.63544629823215, 17.618206541256885, 17.600850362614533, 17.583377842930986, 17.565789063599613, 17.54808410678104, 17.53026305540266, 17.512325993158356, 17.49427300450826, 17.47610417467821, 17.457819589659493, 17.439419336208577, 17.420903501846546, 17.402272174858844, 17.38352544429496, 17.364663399967895, 17.345686132453853, 17.326593733091926, 17.30738629398354, 17.28806390799216, 17.268626668742833, 17.249074670621873, 17.229408008776304, 17.209626779113485, 17.189731078300802, 17.16972100376505, 17.149596653692083, 17.129358127026457, 17.10900552347081, 17.088538943485503, 17.06795848828824, 17.047264259853453, 17.02645636091191, 17.005534894950234, 16.984499966210507, 16.963351679689623, 16.942090141138898, 16.920715457063654, 16.899227734722547, 16.877627082127162, 16.855913608041583, 16.834087421981714, 16.812148634214836, 16.790097355759197, 16.767933698383285, 16.745657774605423, 16.72326969769317, 16.700769581662907, 16.678157541279102, 16.655433692053847, 16.6325981502464, 16.60965103286243, 16.586592457653552, 16.563422543116836, 16.54014140849406, 16.5167491737712, 16.49324595967796, 16.469631887686983, 16.44590708001334, 16.42207165961403, 16.398125750187184, 16.374069476171584, 16.349902962745976, 16.325626335828577, 16.301239722076257, 16.27674324888401, 16.25213704438441, 16.22742123744677, 16.202595957676593, 16.17766133541504, 16.15261750173805, 16.127464588455787, 16.10220272811209, 16.076832053983573, 16.051352700079107, 16.025764801139054, 16.000068492634735, 15.974263910767528, 15.948351192468266, 15.922330475396652, 15.896201897940344, 15.869965599214343, 15.843621719060394, 15.817170398046041, 15.790611777464019, 15.763945999331636, 15.737173206389809, 15.71029354210247, 15.68330715065577, 15.656214176957452, 15.629014766635889, 15.60170906603943, 15.574297222235757, 15.546779383010884, 15.519155696868497, 15.491426313029299, 15.463591381429982, 15.435651052722568, 15.40760547827373, 15.379454810163756, 15.35119920118587, 15.322838804845535, 15.294373775359418, 15.265804267654719, 15.23713043736827, 15.208352440845882, 15.179470435141258, 15.15048457801529, 15.121395027935325, 15.092201944074095, 15.062905486308972, 15.03350581522125, 15.00400309209503, 14.974397478916474, 14.944689138373077, 14.914878233852528, 14.884964929442006, 14.854949389927215, 14.82483178079165, 14.79461226821547, 14.764291019074717, 14.733868200940536, 14.703343982078026, 14.672718531445442, 14.641992018693422, 14.611164614163792, 14.580236488888781, 14.549207814590217, 14.518078763678327, 14.48684950925098, 14.455520225092647, 14.424091085673627, 14.392562266148836, 14.360933942356972, 14.329206290819695, 14.297379488740383, 14.265453714003293, 14.233429145172728, 14.201305961491773, 14.169084342881455, 14.136764469939875, 14.104346523940954, 14.071830686833557, 14.039217141240634, 14.006506070457926, 13.973697658453144, 13.940792089864852, 13.907789550001631, 13.87469022484077, 13.841494301027378, 13.808201965873481, 13.774813407356703, 13.741328814119358, 13.707748375467546, 13.6740722813698, 13.64030072245619, 13.606433890017385, 13.572471976003294, 13.538415173022205, 13.504263674339587, 13.47001767387721, 13.43567736621178, 13.401242946573966, 13.366714610847476, 13.332092555567646, 13.297376977920491, 13.262568075741742, 13.227666047515426, 13.19267109237291, 13.157583410091922, 13.12240320109512, 13.087130666449163, 13.051766007863476, 13.016309427689306, 12.98076112891828, 12.945121315181405, 12.909390190748061, 12.873567960524547, 12.837654830053058, 12.801651005510687, 12.765556693707927, 12.729372102087675, 12.69309743872417, 12.656732912321537, 12.620278732212723, 12.583735108358479, 12.547102251345834, 12.510380372387118, 12.473569683318633, 12.436670396599668, 12.399682725310956, 12.362606883153624, 12.325443084448112, 12.288191544132646, 12.250852477762148, 12.213426101507167, 12.17591263215232, 12.138312287095205, 12.100625284345304, 12.062851842522418, 12.024992180855623, 11.987046519181892, 11.949015077945052, 11.910898078194183, 11.872695741582511, 11.83440829036629, 11.796035947403187, 11.757578936151166, 11.719037480667348, 11.680411805606402, 11.641702136219406, 11.602908698352685, 11.56403171844621, 11.525071423532474, 11.486028041235075, 11.446901799767627, 11.407692927932088, 11.368401655117594, 11.329028211299319, 11.289572827036764, 11.250035733472618, 11.21041716233156, 11.170717345918575, 11.130936517117782, 11.09107490939122, 11.051132756777177, 11.011110293888965, 10.971007755913742, 10.930825378610786, 10.890563398310348, 10.850222051912151, 10.809801576884237, 10.769302211261232, 10.728724193643124, 10.688067763194038, 10.647333159640478, 10.606520623270114, 10.565630394930528, 10.524662716027457, 10.483617828523549, 10.44249597493712, 10.401297398340375, 10.360022342358201, 10.318671051166643, 10.277243769491665, 10.235740742607387, 10.1941622163348, 10.152508437040497, 10.110779651634862, 10.068976107570798, 10.027098052842433, 9.985145735983313, 9.943119406065094, 9.901019312696263, 9.858845706020299, 9.816598836714425, 9.774278955988013, 9.731886315581335, 9.689421167763701, 9.646883765332163, 9.604274361610173, 9.561593210445741, 9.518840566210088, 9.476016683796335, 9.433121818617614, 9.39015622660574, 9.34712016420986, 9.304013888394579, 9.260837656638593, 9.217591726933362, 9.174276357781189, 9.130891808193931, 9.087438337691337, 9.043916206299734, 9.000325674550124, 8.956667003476799, 8.91294045461597, 8.869146290003847, 8.825284772175241, 8.781356164162192, 8.737360729492023, 8.693298732185943, 8.649170436757661, 8.60497610821143, 8.560716012040698, 8.516390414226406, 8.471999581235634, 8.427543780019636, 8.383023278012416, 8.338438343129324, 8.29378924376506, 8.24907624879226, 8.20429962756006, 8.159459649892106, 8.114556586085124, 8.069590706907475, 8.02456228359715, 7.979471587860396, 7.934318891869944, 7.889104468263633, 7.84382859014238, 7.798491531068725, 7.753093565065377, 7.707634966613176, 7.662116010649622, 7.61653697256742, 7.5708981282124235, 7.525199753882164, 7.479442126324373, 7.433625522734923, 7.387750220756347, 7.341816498476352, 7.2958246344257445, 7.249774907577008, 7.2036675973424815, 7.157502983572931, 7.111281346555457, 7.0650029670119965, 7.018668126097814, 6.972277105399402, 6.925830186932977, 6.87932765314295, 6.832769786899837, 6.786156871498718, 6.739489190657726, 6.692767028515926, 6.645990669631846, 6.5991603989816205, 6.552276501957515, 6.5053392643657935, 6.458348972425187, 6.411305912765331, 6.364210372424639, 6.317062638848739, 6.269862999888934, 6.222611743800033, 6.175309159238802, 6.1279555352624016, 6.08055116132622, 6.033096327282372, 5.9855913233778, 5.938036440252764, 5.890431968938662, 5.842778200856458, 5.795075427815093, 5.747323942009308, 5.699524036018044, 5.6516760028028665, 5.603780135705756, 5.555836728447524, 5.507846075126205, 5.459808470214855, 5.411724208559954, 5.363593585379787, 5.315416896262242, 5.267194437163256, 5.218926504404867, 5.170613394673667, 5.1222554050185725, 5.073852832849196, 5.0254059759342375, 4.9769151323992284, 4.928380600724914, 4.8798026797456195, 4.831181668646999, 4.782517866964402, 4.733811574581234, 4.685063091726697, 4.636272718974217, 4.587440757239451, 4.53856750777871, 4.489653272186691, 4.440698352394815, 4.391703050669582, 4.342667669610283, 4.2935925121473435, 4.244477881540661, 4.1953240813773105, 4.146131415569887, 4.096900188354828, 4.047630704290118, 3.998323268253682, 3.948978185441363, 3.8995957613653123, 3.8501763018516786, 3.800720113038924, 3.751227501376141, 3.701698773620732, 3.6521342368367176, 3.6025341983930486, 3.552898965961275, 3.5032288475138498, 3.4535241513224313, 3.403785185955548, 3.354012260276894, 3.304205683443621, 3.2543657649040005, 3.20449281439578, 3.1545871419441185, 3.1046490578599433, 3.054678872737595, 3.00467689745311, 2.954643443162499, 2.9045788212993857, 2.8544833435732815, 2.804357321967858, 2.7542010687385794, 2.7040148964109685, 2.6537991177788767, 2.603554045902103, 2.5532799941047335, 2.5029772759730395, 2.4526462053538105, 2.402287096351967, 2.351900263328816, 2.3014860209003025, 2.2510446839346145, 2.2005765675504354, 2.1500819871151853, 2.0995612582426264, 2.0490146967911014, 1.9984426188617743, 1.9478453407962262, 1.8972231791747605, 1.8465764508142817, 1.795905472766597, 1.7452105623160035, 1.6944920369775147, 1.6437502144950897, 1.5929854128392105, 1.5421979502051046, 1.491388145010968, 1.440556315895536, 1.389702781716301, 1.3388278615477296, 1.2879318746788277, 1.237015140611353, 1.186077979058025, 1.1351207099400864, 1.0841436533855813, 1.0331471297272004, 0.9821314595005555, 0.9310969634417335, 0.880043962485496, 0.828972777763477, 0.7778837306017302, 0.7267771425189243, 0.6756533352245361, 0.6245126306163915, 0.573355350778856, 0.522181817981023, 0.4709923546742501, 0.41978728349041566, 0.36856692723974155, 0.31733160890904744, 0.26608165165927955, 0.2148173788236895, 0.16353911390601208, 0.11224718057798884, 0.06094190267754235, 0.009623604206949334, -0.041707390669640604, -0.09305075762803516, -0.14440617218583077, -0.19577330970489856, -0.24715184539314652, -0.298541454306718, -0.3499418113517566, -0.4013525912868984, -0.4527734687251118, -0.5042041181355396, -0.5556442138459952, -0.607093430044807, -0.6585514407826641, -0.7100179199751174, -0.7614925414044278, -0.8129749787214156, -0.864464905447966, -0.9159619949788814, -0.9674659205837348, -1.018976355409379, -1.0704929724817296, -1.122015444707987, -1.173543444878421, -1.2250766456688862, -1.276614719642682, -1.3281573392524155, -1.3797041768425202, -1.4312549046511192, -1.4828091948118909, -1.5343667193565929, -1.5859271502169274, -1.637490159226412, -1.6890554181229038, -1.7406225985503991, -1.792191372061269, -1.84376141011806, -1.8953323840960237, -1.9469039652849935, -1.9984758248912595, -2.0500476340401024, -2.101619063777672, -2.153189785072867, -2.20475946881987, -2.2563277858400306, -2.3078944068837464, -2.359459002633003, -2.411021243703184, -2.4625808006453243, -2.5141373439479175, -2.5656905440394646, -2.617240071290356, -2.6687855960147675, -2.720326788473197, -2.771863318874363, -2.823394857377091, -2.8749210740928626, -2.9264416390877086, -2.9779562223841034, -3.0294644939635136, -3.080966123768294, -3.1324607817035837, -3.1839481376398595, -3.2354278614147574, -3.286899622835339, -3.338363091679914, -3.3898179377005975, -3.4412638306252092, -3.4927004401591764, -3.5441274359880865, -3.595544487779593, -3.6469512651853186, -3.6983474378434114, -3.749732675380449, -3.801106647413347, -3.8524690235519135, -3.9038194734006866, -3.955157666561204, -4.006483272633834, -4.057795961220341, -4.109095401925794, -4.16038126436047, -4.2116532181424216, -4.262910932899388, -4.314154078270698, -4.365382323909843, -4.416595339486382, -4.4677927946878535, -4.518974359222343, -4.5701397028203905, -4.621288495236913, -4.6724204062537575, -4.7235351056815515, -4.7746322633619735, -4.8257115491696, -4.876772633014465, -4.927815184843982, -4.978838874644854, -5.029843372445645, -5.080828348318687, -5.13179347238201, -5.182738414801895, -5.233662845794796, -5.284566435629263, -5.3354488546285, -5.386309773172212, -5.437148861698889, -5.487965790707642, -5.538760230760779, -5.589531852485721, -5.640280326576915, -5.691005323798404, -5.741706514985748, -5.7923835710479405, -5.843036162969972, -5.893663961814755, -5.944266638725034, -5.9948438649259606, -6.045395311726935, -6.095920650523883, -6.146419552801113, -6.196891690133865, -6.2473367341902435, -6.297754356733127, -6.348144229622743, -6.398506024818571, -6.448839414381276, -6.499144070475268, -6.549419665370613, -6.5996658714449605, -6.649882361186101, -6.700068807193887, -6.750224882182149, -6.800350258981256, -6.850444610539965, -6.900507609927692, -6.95053893033636, -7.000538245082956, -7.050505227611456, -7.100439551494725, -7.1503408904370955, -7.200208918276265, -7.2500433089852265, -7.299843736674813, -7.34960987559562, -7.399341400139919, -7.449037984844212, -7.498699304391071, -7.54832503361141, -7.597914847486333, -7.647468421149675, -7.696985429889918, -7.746465549152113, -7.795908454540416, -7.845313821820006, -7.894681326918996, -7.944010645930982, -7.993301455116948, -8.042553430907182, -8.091766249903813, -8.140939588882658, -8.190073124795473, -8.239166534771805, -8.288219496121512, -8.33723168633669, -8.386202783093571, -8.435132464255053, -8.484020407872622, -8.532866292188244, -8.5816697956369, -8.630430596848496, -8.679148374649763, -8.727822808066787, -8.776453576326908, -8.825040358860631, -8.873582835304143, -8.922080685501149, -8.970533589505116, -9.018941227581104, -9.06730328020829, -9.115619428081857, -9.163889352114905, -9.212112733440952, -9.260289253415843, -9.308418593619642, -9.356500435859138, -9.404534462169744, -9.452520354817393, -9.50045779630104, -9.548346469354486, -9.596186056948616, -9.643976242293212, -9.69171670883946, -9.73940714028184, -9.787047220560005, -9.834636633861292, -9.882175064622594, -9.92966219753225, -9.97709771753254, -10.024481309821565, -10.071812659855128, -10.119091453349226, -10.166317376281857, -10.213490114895237, -10.260609355697614, -10.307674785465748, -10.354686091246782, -10.401642960360121, -10.44854508039991, -10.495392139236902, -10.54218382502033, -10.588919826180383, -10.635599831430065, -10.682223529767082, -10.72879061047628, -10.775300763131533, -10.821753677597604, -10.868149044032599, -10.91448655288976, -10.960765894919676, -11.006986761172048, -11.053148842998162, -11.099251832052747, -11.14529542029582, -11.191279299995136, -11.237203163728042, -11.283066704383339, -11.328869615163708, -11.374611589587566, -11.420292321490914, -11.465911505029773, -11.51146883468196, -11.556964005249263, -11.602396711859218, -11.647766649967531, -11.693073515359922, -11.73831700415396, -11.783496812801486, -11.82861263809045, -11.87366417714674, -11.918651127436599, -11.963573186768453, -12.00843005329475, -12.053221425514351, -12.097947002274307, -12.142606482771992, -12.187199566556876, -12.231725953532914, -12.276185343960362, -12.320577438457612, -12.364901938003568, -12.409158543939457, -12.453346957970666, -12.4974668821691, -12.541518018975012, -12.585500071198801, -12.629412742023385, -12.673255735006022, -12.717028754080095, -12.760731503557498, -12.80436368813036, -12.847925012873164, -12.891415183244488, -12.93483390508934, -12.978180884640981, -13.0214558285227, -13.064658443750165, -13.107788437733213, -13.150845518277642, -13.193829393587544, -13.236739772267093, -13.279576363322331, -13.322338876163485, -13.365027020606705, -13.407640506876131, -13.45017904560561, -13.49264234784102, -13.53503012504204, -13.577342089083912, -13.619577952259764, -13.661737427282372, -13.703820227285913, -13.745826065828284, -13.787754656892849, -13.829605714890205, -13.87137895466047, -13.913074091474977, -13.954690841038332, -13.99622891949009, -14.037688043407053, -14.079067929804998, -14.120368296140438, -14.161588860312879, -14.20272934066657, -14.243789455992241, -14.28476892552935, -14.325667468967842, -14.36648480644985, -14.407220658571982, -14.44787474638701, -14.488446791405634, -14.528936515598694, -14.569343641398852, -14.60966789170258, -14.649908989871843, -14.690066659736308, -14.730140625595064, -14.770130612218335, -14.81003634484969, -14.84985754920776, -14.88959395148793, -14.929245278364554, -14.968811256992657, -15.008291615009618, -15.04768608053739, -15.086994382184116, -15.1262162490461, -15.165351410709448, -15.204399597252255, -15.243360539246266, -15.282233967758579, -15.321019614353807, -15.35971721109576, -15.398326490549106, -15.436847185781545, -15.47527903036548, -15.513621758379669, -15.551875104411385, -15.590038803558025, -15.628112591429034, -15.666096204147507, -15.703989378352329, -15.741791851199824, -15.7795033603654, -15.817123644045683, -15.854652440960148, -15.892089490352777, -15.929434531994154, -15.966687306183116, -16.00384755374838, -16.040915016050636, -16.077889434984197, -16.114770552978605, -16.151558113000725, -16.188251858556328, -16.224851533691947, -16.26135688299645, -16.297767651603113, -16.334083585191234, -16.37030442998774, -16.40642993276923, -16.442459840863613, -16.478393902151666, -16.514231865069128, -16.549973478608244, -16.585618492319405, -16.62116665631315, -16.656617721261718, -16.69197143840087, -16.727227559531432, -16.76238583702131, -16.797446023807048, -16.83240787339543, -16.867271139865466, -16.90203557786996, -16.936700942637085, -16.971266989972364, -17.005733476260243, -17.04010015846562, -17.074366794135862, -17.108533141402273, -17.142598958981907, -17.176564006179028, -17.210428042887116, -17.244190829590373, -17.277852127365268, -17.31141169788249, -17.344869303408476, -17.378224706806936, -17.41147767154078, -17.44462796167366, -17.477675341871464, -17.51061957740426, -17.543460434147782, -17.57619767858497, -17.608831077807842, -17.64136039951899, -17.67378541203327, -17.706105884279275, -17.738321585801206, -17.77043228676039, -17.80243775793673, -17.834337770730617, -17.86613209716439, -17.897820509883807, -17.92940278215994, -17.960878687890613, -17.992248001601876, -18.023510498449873, -18.054665954222237, -18.085714145339782, -18.116654848857884, -18.14748784246835, -18.178212904500842, -18.20882981392432, -18.239338350348874, -18.269738294027157, -18.300029425855804, -18.330211527377255, -18.360284380781177, -18.39024776890588, -18.42010147524012, -18.44984528392446, -18.479478979752905, -18.509002348174253, -18.538415175293878, -18.567717247875137, -18.596908353340748, -18.62598827977458, -18.65495681592302, -18.68381375119636, -18.712558875670563, -18.74119198008863, -18.76971285586198, -18.798121295072164, -18.826417090472276, -18.854600035488275, -18.882669924220732, -18.910626551446132, -18.938469712618435, -18.96619920387039, -18.993814822015217, -19.021316364547978, -19.048703629646887, -19.075976416175024, -19.103134523681643, -19.130177752403515, -19.157105903266586, -19.183918777887325, -19.210616178574003, -19.23719790832838, -19.263663770846964, -19.290013570522508, -19.316247112445268, -19.342364202404656, -19.368364646890516, -19.39424825309443, -19.420014828911327, -19.44566418294077, -19.471196124488245, -19.496610463566753, -19.521907010898087, -19.547085577914107, -19.572145976758318, -19.597088020287103, -19.62191152207116, -19.646616296396708, -19.67120215826707, -19.69566892340392, -19.720016408248505, -19.744244429963214, -19.768352806432805, -19.79234135626564, -19.81620989879523, -19.83995825408143, -19.863586242911687, -19.887093686802537, -19.91048040800084, -19.933746229484967, -19.956890974966303, -19.979914468890435, -20.002816536438484, -20.02559700352829, -20.04825569681587, -20.070792443696618, -20.093207072306484, -20.115499411523423, -20.13766929096858, -20.15971654100747, -20.181640992751394, -20.203442478058616, -20.225120829535538, -20.24667588053809, -20.268107465172882, -20.28941541829849, -20.310599575526552, -20.3316597732232, -20.352595848510173, -20.373407639265956, -20.39409498412716, -20.414657722489654, -20.435095694509673, -20.4554087411052, -20.47559670395705, -20.495659425510006, -20.51559674897416, -20.535408518325976, -20.55509457830952, -20.574654774437537, -20.594088952992763, -20.61339696102901, -20.63257864637226, -20.651633857621942, -20.670562444152036, -20.68936425611211, -20.708039144428632, -20.726586960806024, -20.745007557727693, -20.763300788457336, -20.781466507039966, -20.79950456830295, -20.817414827857277, -20.835197142098558, -20.852851368208178, -20.870377364154283, -20.887774988693035, -20.9050441013696, -20.92218456251918, -20.93919623326822, -20.9560789755354, -20.97283265203265, -20.98945712626633, -21.00595226253823, -21.02231792594655, -21.03855398238708, -21.054660298554147, -21.070636741941716, -21.086483180844297, -21.10219948435814, -21.117785522382167, -21.13324116561894, -21.148566285575786, -21.163760754565747, -21.17882444570853, -21.193757232931596, -21.208558990971138, -21.22322959537296, -21.23776892249361, -21.252176849501264, -21.26645325437674, -21.280598015914382, -21.294611013723152, -21.30849212822751, -21.32224124066832, -21.335858233103913, -21.349342988410967, -21.362695390285374, -21.375915323243316, -21.3890026726221, -21.401957324581048, -21.414779166102512, -21.427468084992736, -21.4400239698827, -21.452446710229133, -21.464736196315346, -21.47689231925214, -21.488914970978637, -21.50080404426325, -21.512559432704528, -21.52418103073195, -21.5356687336069, -21.547022437423493, -21.558242039109352, -21.569327436426576, -21.58027852797252, -21.59109521318061, -21.601777392321235, -21.612324966502552, -21.622737837671313, -21.633015908613626, -21.643159082955876, -21.65316726516546, -21.663040360551573, -21.672778275266065, -21.682380916304215, -21.691848191505457, -21.70118000955426, -21.71037627998084, -21.719436913161914, -21.728361820321535, -21.7371509135318, -21.745804105713628, -21.75432131063747, -21.762702442924102, -21.77094741804536, -21.779056152324824, -21.787028562938602, -21.794864567916036, -21.80256408614039, -21.81012703734961, -21.817553342137007, -21.824842921951937, -21.83199569910054, -21.83901159674641, -21.845890538911263, -21.85263245047565, -21.85923725717961, -21.86570488562336, -21.872035263267907, -21.87822831843578, -21.884283980311643, -21.890202178942914, -21.89598284524048, -21.901625910979266, -21.9071313087989, -21.912498972204332, -21.91772883556647, -21.922820834122753, -21.927774903977802, -21.932590982104013, -21.93726900634215, -21.94180891540192, -21.946210648862614, -21.950474147173637, -21.9545993516551, -21.958586204498406, -21.96243464876681, -21.966144628395945, -21.969716088194442, -21.973148973844427, -21.97644323190207, -21.97959880979816, -21.982615655838593, -21.98549371920492, -21.988232949954874, -21.99083329902288, -21.99329471822056, -21.995617160237238, -21.997800578640454, -21.99984492787645, -22.001750163270643, -22.003516241028137, -22.005143118234184, -22.006630752854644, -22.007979103736474, -22.009188130608184, -22.010257794080278, -22.011188055645707, -22.01197887768033, -22.012630223443345, -22.0131420570777, -22.013514343610545, -22.013747048953647, -22.013840139903806, -22.013793584143265, -22.0136073502401, -22.01328140764865, -22.012815726709885, -22.0122102786518, -22.011465035589804, -22.01057997052708, -22.009555057354984, -22.00839027085338, -22.00708558669102, -22.005640981425884, -22.004056432505543, -22.00233191826749, -22.000467417939483, -21.998462911639866, -21.99631838037791, -21.994033806054134, -21.991609171460585, -21.989044460281203, -21.98633965709207, -21.983494747361743, -21.980509717451536, -21.977384554615792, -21.974119247002182, -21.970713783651963, -21.967168154500275, -21.963482350376367, -21.959656363003873, -21.955690185001075, -21.951583809881132, -21.94733723205231, -21.942950446818255, -21.93842345037819, -21.93375623982713, -21.928948813156154, -21.924001169252538, -21.91891330790003, -21.913685229779, -21.90831693646668, -21.902808430437315, -21.897159715062347, -21.891370794610644, -21.8854416742486, -21.879372360040335, -21.87316285894788, -21.866813178831272, -21.860323328448754, -21.853693317456905, -21.846923156410757, -21.840012856763952, -21.832962430868832, -21.825771891976625, -21.818441254237488, -21.810970532700633, -21.803359743314484, -21.79560890292669, -21.78771802928426, -21.779687141033676, -21.771516257720908, -21.763205399791516, -21.754754588590767, -21.746163846363604, -21.737433196254763, -21.728562662308832, -21.71955226947025, -21.71040204358338, -21.701112011392514, -21.69168220054197, -21.682112639576005, -21.6724033579389, -21.662554385975, -21.652565754928624, -21.642437496944126, -21.63216964506591, -21.62176223323835, -21.6112152963058, -21.60052887001261, -21.589702991003026, -21.5787376968212, -21.567633025911114, -21.556389017616596, -21.545005712181176, -21.53348315074809, -21.52182137536022, -21.510020428959958, -21.498080355389185, -21.486001199389204, -21.47378300660058, -21.461425823563093, -21.448929697715663, -21.436294677396177, -21.42352081184142, -21.41060815118694, -21.397556746466975, -21.384366649614236, -21.371037913459812, -21.3575705917331, -21.343964739061523, -21.33022041097046, -21.316337663883118, -21.302316555120278, -21.28815714290016, -21.27385948633833, -21.259423645447377, -21.24484968113679, -21.23013765521285, -21.215287630378263, -21.200299670232077, -21.185173839269414, -21.169910202881333, -21.154508827354498, -21.138969779870983, -21.12329312850813, -21.10747894223818, -21.091527290928067, -21.07543824533925, -21.059211877127332, -21.04284825884184, -21.02634746392604, -21.009709566716527, -20.992934642443025, -20.97602276722806, -20.95897401808676, -20.94178847292642, -20.924466210546267, -20.90700731063722, -20.88941185378143, -20.871679921452024, -20.85381159601288, -20.835806960718102, -20.817666099711804, -20.7993890980278, -20.780976041589117, -20.76242701720775, -20.743742112584236, -20.7249214163074, -20.70596501785381, -20.686873007587494, -20.667645476759624, -20.648282517507965, -20.628784222856567, -20.60915068671542, -20.589382003879926, -20.56947827003052, -20.549439581732365, -20.52926603643474, -20.50895773247071, -20.488514769056756, -20.467937246292173, -20.447225265158735, -20.426378927520176, -20.405398336121845, -20.384283594590084, -20.363034807431816, -20.341652080034173, -20.320135518663832, -20.29848523046661, -20.276701323467073, -20.254783906567834, -20.232733089549146, -20.210548983068495, -20.188231698659877, -20.165781348733404, -20.14319804657472, -20.120481906344583, -20.097633043078133, -20.074651572684463, -20.051537611946113, -20.028291278518378, -20.004912690928798, -19.9814019685767, -19.95775923173244, -19.93398460153688, -19.91007820000096, -19.886040150004852, -19.861870575297523, -19.83756960049605, -19.81313735108516, -19.788573953416403, -19.76387953470763, -19.739054223042466, -19.714098147369487, -19.689011437501666, -19.663794224115847, -19.638446638751876, -19.61296881381206, -19.5873608825606, -19.561622979122728, -19.535755238484118, -19.509757796490337, -19.48363078984594, -19.45737435611391, -19.430988633714907, -19.404473761926717, -19.377829880883294, -19.3510571315742, -19.32415565584397, -19.297125596391172, -19.26996709676779, -19.24268030137861, -19.215265355480238, -19.187722405180477, -19.160051597437686, -19.1322530800598, -19.10432700170371, -19.076273511874415, -19.04809276092443, -19.01978490005273, -18.991350081304116, -18.962788457568525, -18.934100182580003, -18.905285410916008, -18.87634429799675, -18.847277000084105, -18.81808367428094, -18.788764478530393, -18.75931957161481, -18.729749113155066, -18.700053263609647, -18.670232184273956, -18.640286037279232, -18.610214985591796, -18.580019193012323, -18.549698824174715, -18.519254044545367, -18.488685020422388, -18.457991918934486, -18.427174908040183, -18.39623415652707, -18.365169834010615, -18.333982110933416, -18.3026711585644, -18.271237148997635, -18.23968025515161, -18.20800065076818, -18.176198510411833, -18.144274009468475, -18.11222732414461, -18.08005863146653, -18.0477681092791, -18.015355936244887, -17.982822291843387, -17.950167356369725, -17.917391310933848, -17.884494337459657, -17.851476618683748, -17.8183383381546, -17.78507968023149, -17.751700830083653, -17.718201973689006, -17.68458329783326, -17.65084499010905, -17.616987238914614, -17.583010233452903, -17.548914163730682, -17.514699220557212, -17.48036559554332, -17.445913481100515, -17.411343070439614, -17.37665455756989, -17.34184813729788, -17.30692400522653, -17.271882357753793, -17.23672339207171, -17.201447306165456, -17.166054298811936, -17.130544569578845, -17.094918318823705, -17.05917574769244, -17.023317058118426, -16.987342452821505, -16.95125213530654, -16.915046309862454, -16.878725181561244, -16.842288956256493, -16.805737840582466, -16.769072041952825, -16.732291768559683, -16.695397229372123, -16.658388634135186, -16.621266193368836, -16.58403011836649, -16.54668062119395, -16.50921791468841, -16.471642212456903, -16.433953728875284, -16.39615267908716, -16.358239279002365, -16.320213745295963, -16.2820762954069, -16.243827147536997, -16.2054665206494, -16.166994634467475, -16.128411709473767, -16.08971796690839, -16.050913628767937, -16.01199891780441, -15.972974057523594, -15.933839272183969, -15.894594786795595, -15.8552408271185, -15.815777619661615, -15.776205391681367, -15.736524371180613, -15.696734786907001, -15.65683686835183, -15.616830845748906, -15.576716950072887, -15.536495413038145, -15.496166467097575, -15.45573034544097, -15.415187281993806, -15.374537511416113, -15.33378126910076, -15.292918791172276, -15.251950314485681, -15.210876076624764, -15.169696315900957, -15.128411271351837, -15.087021182739992, -15.045526290551285, -15.00392683599364, -14.96222306099583, -14.920415208205732, -14.878503520989094, -14.836488243428306, -14.79436962032064, -14.75214789717701, -14.709823320220734, -14.667396136385728, -14.624866593315344, -14.5822349393608, -14.539501423579976, -14.496666295735622, -14.453729806294065, -14.410692206423962, -14.367553747994458, -14.324314683573917, -14.280975266428614, -14.237535750520925, -14.193996390508, -14.150357441740487, -14.106619160260667, -14.062781802801199, -14.018845626783502, -13.974810890316517, -13.930677852194798, -13.886446771897207, -13.84211790958558, -13.79769152610282, -13.753167882971574, -13.708547242392878, -13.66382986724425, -13.619016021078334, -13.574105968121554, -13.529099973272162, -13.483998302098907, -13.438801220839633, -13.393508996399358, -13.348121896348946, -13.302640188923416, -13.257064143020603, -13.21139402819922, -13.165630114677436, -13.119772673331488, -13.073821975693711, -13.027778293951103, -12.981641900943941, -12.935413070163772, -12.88909207575198, -12.84267919249839, -12.796174695839232, -12.749578861855785, -12.702891967272606, -12.656114289456164, -12.609246106412803, -12.562287696787276, -12.515239339861331, -12.468101315551623, -12.420873904408268, -12.373557387613381, -12.326152046979008, -12.278658164945654, -12.231076024580794, -12.183405909576814, -12.13564810424958, -12.087802893536603, -12.03987056299564, -11.991851398802572, -11.943745687749905, -11.895553717245274, -11.847275775309326, -11.798912150574191, -11.750463132281986, -11.701929010282672, -11.653310075032525, -11.604606617592628, -11.5558189296267, -11.506947303399572, -11.457992031775646, -11.408953408216734, -11.359831726780579, -11.31062728211895, -11.261340369476173, -11.211971284686934, -11.162520324174718, -11.112987784950258, -11.063373964609317, -11.013679161331126, -10.963903673876803, -10.914047801587147, -10.864111844381041, -10.814096102753874, -10.764000877775311, -10.713826471087769, -10.66357318490446, -10.613241322007857, -10.56283118574746, -10.51234308003817, -10.461777309358684, -10.411134178749231, -10.360413993809956, -10.309617060699289, -10.258743686131666, -10.20779417737591, -10.156768842253586, -10.105667989136712, -10.054491926946195, -10.00324096514981, -9.951915413760641, -9.900515583334753, -9.849041784969552, -9.79749433030211, -9.745873531506854, -9.694179701293903, -9.642413152907379, -9.590574200123081, -9.538663157246821, -9.486680339112716, -9.434626061080863, -9.382500639035634, -9.330304389383995, -9.27803762905314, -9.225700675488865, -9.173293846653499, -9.120817461024268, -9.06827183759092, -9.01565729585401, -8.962974155823183, -8.910222738014784, -8.857403363450143, -8.80451635365383, -8.75156203065127, -8.698540716966997, -8.64545273562293, -8.592298410135944, -8.539078064516207, -8.485792023265063, -8.432440611373346, -8.37902415431896, -8.325542978065112, -8.271997409058558, -8.218387774227159, -8.16471440097811, -8.110977617196175, -8.057177751241227, -8.00331513194648, -7.9493900886166955, -7.895402951025728, -7.841354049414733, -7.787243714490375, -7.733072277422358, -7.678840069841694, -7.624547423838535, -7.570194671960432, -7.515782147209857, -7.461310183042383, -7.406779113364879, -7.352189272532999, -7.297540995349371, -7.242834617061771, -7.1880704733606064, -7.133248900377094, -7.078370234681423, -7.023434813280236, -6.968442973614859, -6.913395053559088, -6.858291391417412, -6.8031323259224825, -6.747918196233256, -6.6926493419331505, -6.637326103027487, -6.581948819941632, -6.526517833519143, -6.471033485019202, -6.415496116114749, -6.3599060688906155, -6.304263685840946, -6.248569309867411, -6.192823284276922, -6.13702595277985, -6.081177659487425, -6.0252787489098525, -5.969329565954426, -5.913330455922928, -5.857281764509736, -5.80118383779993, -5.745037022266674, -5.688841664769324, -5.632598112551519, -5.576306713238561, -5.519967814835507, -5.4635817657252534, -5.407148914665913, -5.350669610788969, -5.294144203596959, -5.237573042961637, -5.180956479121325, -5.124294862678984, -5.067588544600288, -5.01083787621097, -4.954043209194883, -4.897204895592064, -4.840323287796073, -4.783398738552049, -4.726431600954761, -4.669422228445942, -4.612370974812413, -4.555278194183731, -4.498144241030311, -4.440969470160747, -4.383754236719843, -4.32649889618666, -4.269203804371815, -4.211869317415514, -4.15449579178559, -4.097083584274789, -4.0396330519988055, -3.9821445523942964, -3.924618443216178, -3.8670550825357215, -3.80945482873816, -3.7518180405207886, -3.694145076890238, -3.6364362971604853, -3.5786920609508597, -3.520912728183314, -3.4630986590804236, -3.405250214163388, -3.3473677542492952, -3.2894516404491094, -3.231502234165672, -3.173519897090952, -3.115504991204033, -3.057457878769104, -2.9993789223327005, -2.9412684847217734, -2.8831269290412544, -2.824954618672119, -2.7667519172686195, -2.7085191887562634, -2.6502567973297793, -2.591965107450349, -2.5336444838435757, -2.4752952914974453, -2.416917895659552, -2.3585126618350567, -2.300079955784648, -2.2416201435217564, -2.183133591310591, -2.12462066566368, -2.0660817333399057, -2.0075171613417098, -1.9489273169130379, -1.8903125675372892, -1.8316732809345124, -1.7730098250593473, -1.7143225680989662, -1.6556118784702636, -1.5968781248177943, -1.5381216760117076, -1.4793429011449304, -1.4205421695311842, -1.3617198507024957, -1.3028763144072089, -1.2440119306071604, -1.1851270694756055, -1.126222101395137, -1.0672973969548587, -1.0083533269483018, -0.9493902623713429, -0.8904085744193683, -0.8314086344851878, -0.7723908141569457, -0.7133554852152804, -0.6543030196312325, -0.5952337895641522, -0.536148167358852, -0.477046525543594, -0.41792923682757466, -0.35879667409890764, -0.2996492104217713, -0.24048721903430495, -0.1813110733465052, -0.12212114693736703, -0.06291781355277619, -0.003701447103400486, 0.055527578338173934, 0.11476888853955458, 0.17402210911065588, 0.23328686550656766, 0.2925627830295878, 0.35184948683175865, 0.41114660191690244, 0.4704537531434958, 0.5297705652267918, 0.5890966627409431, 0.6484316701218813, 0.7077752116694426, 0.7671269115494952, 0.826486393796823, 0.885853282317255, 0.9452272008897971, 1.0046077731695187, 1.063994622689604, 1.1233873728639052, 1.1827856469889952, 1.2421890682470609, 1.3015972597080416, 1.3610098443317682, 1.4204264449708608, 1.47984668437287, 1.539270185182421, 1.5986965699441134, 1.658125461104666, 1.717556481015066, 1.7769892519334687, 1.8364233960273508, 1.8958585353756565, 1.9552942919717073, 2.0147302877252677, 2.0741661444651203, 2.133601483941134, 2.193035927827176, 2.25246909772327, 2.311900615157747, 2.3713301015901673, 2.4307571784134723, 2.4901814669561495, 2.549602588485146, 2.6090201642080317, 2.6684338152751605, 2.7278431627825923, 2.7872478277741695, 2.846647431244105, 2.906041594139063, 2.9654299373610806, 3.024812081769739, 3.084187648184326, 3.143556257386765, 3.202917530123784, 3.2622710871090868, 3.3216165490262757, 3.3809535365310297, 3.4402816702532735, 3.4996005708001054, 3.55890985875789, 3.618209154694852, 3.6774980791631644, 3.7367762527018864, 3.796043295839131, 3.8552988290942496, 3.91454247298076, 3.9737738480085287, 4.032992574685946, 4.092198273522861, 4.151390565032763, 4.21056906973496, 4.269733408157515, 4.328883200839428, 4.3880180683328165, 4.447137631205852, 4.506241510044857, 4.565329325456912, 4.6244006980719545, 4.683455248545708, 4.742492597561877, 4.801512365834325, 4.860514174110018, 4.919497643171204, 4.978462393837602, 5.03740804696934, 5.096334223469142, 5.155240544284515, 5.214126630410683, 5.272992102892698, 5.33183658282804, 5.390659691368723, 5.449461049724231, 5.508240279163713, 5.566997001018164, 5.625730836683365, 5.684441407622077, 5.743128335366222, 5.801791241519829, 5.860429747761216, 5.919043475845185, 5.977632047605957, 6.036195084959278, 6.094732209905026, 6.153243044529314, 6.211727211007432, 6.270184331606031, 6.328614028685315, 6.387015924701983, 6.445389642211405, 6.503734803869824, 6.562051032437284, 6.620337950779827, 6.67859518187167, 6.736822348798151, 6.795019074757913, 6.8531849830650895, 6.911319697152246, 6.969422840572476, 7.02749403700201, 7.085532910242319, 7.143539084223042, 7.201512183004177, 7.25945183077827, 7.3173576518733405, 7.375229270755071, 7.433066312028993, 7.4908684004434125, 7.548635160891598, 7.606366218413971, 7.6640611982010185, 7.721719725595412, 7.779341426094589, 7.836925925352863, 7.894472849184347, 7.95198182356513, 8.009452474635465, 8.066884428702693, 8.124277312243413, 8.181630751905677, 8.238944374511904, 8.29621780706105, 8.353450676730805, 8.4106426108805, 8.467793237053195, 8.524902182978288, 8.58196907657359, 8.638993545948246, 8.695975219404914, 8.752913725441935, 8.809808692756244, 8.866659750245544, 8.923466527010483, 8.980228652357557, 9.036945755801277, 9.093617467066357, 9.150243416090598, 9.206823233027066, 9.26335654824627, 9.31984299233904, 9.37628219611864, 9.432673790623312, 9.489017407118391, 9.545312677099172, 9.601559232293095, 9.657756704661898, 9.713904726404508, 9.770002929959205, 9.826050948005784, 9.882048413468445, 9.937994959517935, 9.993890219573732, 10.049733827306902, 10.105525416642196, 10.161264621760589, 10.216951077101372, 10.272584417365014, 10.328164277515315, 10.383690292781571, 10.43916209866143, 10.494579330923045, 10.549941625607232, 10.605248619030325, 10.66049994778632, 10.715695248749041, 10.770834159074967, 10.825916316205328, 10.880941357868624, 10.935908922082696, 10.990818647157576, 11.045670171697623, 11.100463134603666, 11.15519717507585, 11.209871932615762, 11.264487047028583, 11.319042158425914, 11.373536907227907, 11.427970934165414, 11.482343880282796, 11.536655386940074, 11.590905095815037, 11.645092648906088, 11.699217688534274, 11.753279857345806, 11.807278798314107, 11.861214154742624, 11.915085570266951, 11.968892688856947, 12.022635154819543, 12.076312612800864, 12.12992470778834, 12.183471085113512, 12.236951390454138, 12.290365269836311, 12.343712369637252, 12.396992336587335, 12.450204817772587, 12.503349460636704, 12.556425912983846, 12.60943382298073, 12.662372839158737, 12.715242610416697, 12.768042786022958, 12.820773015617526, 12.87343294921479, 12.926022237205643, 12.978540530359567, 13.030987479827393, 13.083362737143311, 13.13566595422733, 13.187896783387298, 13.24005487732164, 13.292139889121447, 13.344151472272552, 13.396089280658273, 13.44795296856149, 13.499742190666723, 13.551456602062856, 13.603095858245224, 13.654659615117662, 13.706147528995247, 13.757559256606358, 13.808894455094734, 13.860152782022203, 13.911333895370655, 13.962437453544474, 14.013463115372518, 14.064410540110824, 14.115279387444653, 14.16606931749056, 14.216779990799063, 14.26741106835671, 14.31796221158812, 14.368433082358663, 14.418823342976502, 14.469132656194638, 14.519360685213579, 14.569507093683312, 14.619571545705675, 14.66955370583634, 14.719453239087448, 14.76926981092967, 14.819003087294192, 14.8686527345754, 14.918218419632897, 14.96769980979349, 15.017096572853879, 15.066408377082638, 15.115634891222243, 15.164775784491686, 15.213830726588446, 15.262799387690803, 15.311681438459797, 15.360476550041838, 15.409184394070703, 15.457804642669533, 15.50633696845345, 15.554781044531534, 15.603136544508825, 15.651403142488906, 15.699580513075915, 15.747668331376492, 15.795666273002391, 15.84357401407245, 15.891391231214563, 15.939117601568265, 15.98675280278662, 16.034296513038544, 16.081748411010675, 16.129108175909973, 16.176375487465634, 16.22355002593109, 16.270631472086535, 16.31761950724088, 16.364513813233714, 16.41131407243783, 16.458019967761178, 16.504631182648804, 16.55114740108538, 16.597568307597072, 16.643893587253803, 16.690122925671123, 16.73625600901271, 16.7822925239923, 16.828232157875632, 16.874074598482906, 16.919819534190744, 16.965466653934076, 17.011015647208644, 17.056466204072905, 17.101818015149945, 17.147070771629938, 17.192224165272012, 17.237277888406442, 17.282231633936487, 17.327085095340856, 17.371837966675596, 17.41648994257597, 17.46104071825893, 17.505489989524957, 17.549837452759984, 17.59408280493781, 17.63822574362196, 17.682265966967577, 17.726203173723835, 17.77003706323581, 17.81376733544633, 17.85739369089838, 17.90091583073692, 17.94433345671102, 17.98764627117566, 18.030853977094104, 18.073956278039777, 18.11695287819806, 18.159843482368707, 18.20262779596767, 18.245305525028908, 18.28787637620677, 18.33034005677783, 18.372696274642685, 18.41494473832832, 18.457085156989855, 18.499117240412673, 18.541040699014136, 18.582855243845945, 18.624560586595937, 18.666156439589873, 18.707642515793772, 18.74901852881569, 18.790284192907524, 18.8314392229673, 18.872483334540973, 18.91341624382419, 18.9542376676646, 18.994947323563604, 19.035544929678142, 19.076030204822967, 19.116402868472353, 19.156662640762114, 19.19680924249134, 19.23684239512463, 19.276761820793844, 19.316567242299854, 19.356258383114792, 19.395834967383777, 19.435296719926647, 19.474643366240215, 19.513874632499963, 19.552990245561787, 19.5919899329642, 19.63087342293002, 19.669640444368312, 19.708290726876086, 19.746824000740467, 19.785239996940415, 19.823538447148408, 19.861719083732623, 19.899781639758654, 19.93772584899116, 19.975551445896063, 20.013258165642213, 20.05084574410307, 20.088313917858848, 20.125662424198143, 20.16289100111986, 20.199999387334806, 20.236987322267844, 20.27385454605953, 20.310600799567766, 20.347225824369936, 20.38372936276452, 20.420111157772745, 20.456370953140684, 20.492508493340893, 20.528523523574034, 20.56441578977095, 20.600185038594304, 20.63583101744018, 20.671353474440153, 20.706752158462862, 20.742026819115832, 20.77717720674706, 20.812203072447048, 20.84710416805039, 20.88188024613736, 20.916531060035965, 20.95105636382349, 20.985455912328103, 21.019729461130858, 21.053876766567264, 21.087897585728847, 21.121791676465154, 21.155558797385265, 21.189198707859568, 21.22271116802128, 21.256095938768414, 21.289352781765317, 21.322481459444205, 21.355481735007135, 21.38835337242751, 21.421096136451634, 21.453709792600627, 21.486194107171944, 21.5185488472409, 21.550773780662592, 21.58286867607334, 21.614833302892436, 21.646667431323586, 21.678370832356805, 21.70994327776991, 21.741384540130007, 21.772694392795362, 21.803872609916887, 21.83491896643961, 21.86583323810453, 21.896615201450086, 21.927264633813618, 21.95778131333321, 21.988165018949143, 22.018415530405324, 22.048532628251145, 22.07851609384285, 22.108365709345193, 22.138081257732825, 22.16766252279209, 22.197109289122455, 22.226421342137915, 22.25559846806879, 22.28464045396312, 22.313547087688086, 22.342318157931746, 22.370953454204464, 22.399452766840273, 22.427815886998648, 22.456042606665807, 22.48413271865634, 22.5120860166145, 22.539902295015946, 22.567581349169092, 22.59512297521648, 22.62252697013648, 22.64979313174464, 22.676921258695025, 22.703911150481908, 22.730762607441115, 22.75747543075134, 22.784049422435817, 22.81048438536362, 22.836780123251142, 22.862936440663393, 22.888953143015634, 22.91483003657468, 22.9405669284602, 22.966163626646345, 22.991619939963023, 23.016935678097216, 23.042110651594538, 23.067144671860557, 23.09203755116204, 23.116789102628548, 23.141399140253686, 23.165867478896374, 23.190193934282412, 23.21437832300569, 23.23842046252959, 23.262320171188215, 23.286077268187913, 23.30969157360851, 23.33316290840454, 23.356491094406742, 23.379675954323318, 23.402717311741096, 23.425614991127055, 23.448368817829536, 23.470978618079407, 23.493444218991566, 23.515765448566103, 23.537942135689608, 23.55997411013634, 23.581861202569687, 23.6036032445433, 23.625200068502295, 23.646651507784668, 23.667957396622427, 23.689117570142788, 23.710131864369536, 23.731000116224205, 23.75172216352718, 23.772297844999112, 23.792727000261998, 23.81300946984045, 23.833145095162774, 23.853133718562347, 23.872975183278708, 23.89266933345867, 23.91221601415764, 23.93161507134074, 23.950866351883874, 23.969969703575043, 23.988924975115435, 24.007732016120492, 24.026390677121196, 24.044900809565153, 24.06326226581763, 24.081474899162842, 24.09953856380497, 24.117453114869324, 24.135218408403357, 24.152834301377922, 24.170300651688276, 24.187617318155127, 24.204784160525847, 24.22180103947549, 24.23866781660779, 24.25538435445637, 24.27195051648575, 24.288366167092313, 24.304631171605518, 24.320745396288842, 24.336708708340865, 24.352520975896223, 24.368182068026766, 24.38369185474251, 24.399050206992598, 24.414256996666445, 24.429312096594657, 24.444215380549995, 24.45896672324847, 24.4735660003503, 24.488013088460786, 24.50230786513146, 24.51645020886094, 24.53043999909595, 24.544277116232184, 24.557961441615404, 24.57149285754231, 24.584871247261415, 24.59809649497411, 24.61116848583554, 24.624087105955457, 24.636852242399254, 24.64946378318882, 24.661921617303403, 24.674225634680596, 24.68637572621719, 24.698371783770014, 24.71021370015691, 24.72190136915754, 24.733434685514293, 24.74481354493309, 24.75603784408433, 24.767107480603677, 24.778022353092904, 24.788782361120774, 24.799387405223865, 24.80983738690733, 24.820132208645813, 24.830271773884242, 24.840255987038546, 24.850084753496596, 24.859757979618912, 24.869275572739493, 24.87863744116655, 24.887843494183358, 24.896893642048997, 24.905787795999068, 24.914525868246542, 24.923107771982476, 24.93153342137671, 24.9398027315787, 24.9479156187182, 24.955871999905973, 24.963671793234585, 24.971314917779047, 24.978801293597595, 24.986130841732304, 24.99330348420989, 25.000319144042347, 25.00717774522762, 25.013879212750314, 25.02042347258239, 25.026810451683758, 25.033040078003015, 25.039112280478065, 25.04502698903676, 25.050784134597563, 25.0563836490702, 25.061825465356225, 25.06710951734972, 25.072235739937874, 25.0772040690016, 25.08201444141614, 25.086666795051663, 25.09116106877388, 25.095497202444584, 25.099675136922283, 25.10369481406274, 25.10755617671955, 25.111259168744706, 25.114803734989156, 25.118189821303332, 25.121417374537714, 25.12448634254337, 25.127396674172473, 25.130148319278813, 25.132741228718345], "y": [6.317803663129774e-06, 2.5271134823190815e-05, 5.6859753992954795e-05, 0.00010108326202956292, 0.00015794110013830844, 0.0002274325498779322, 0.0003095567331674313, 0.0004043126122943801, 0.0005116989899247647, 0.0006317145091143298, 0.0007643576533214381, 0.0009096267464214425, 0.0010675199527225702, 0.0012380352769833204, 0.0014211705644313717, 0.0016169235007840032, 0.0018252916122700289, 0.0020462722656532407, 0.0022798626682573628, 0.002526059867992518, 0.00278486075338321, 0.0030562620535978095, 0.0033402603384795494, 0.003636852018579038, 0.00394603334518828, 0.0042678004103762, 0.004602149147025688, 0.004949075328872135, 0.005308574570543503, 0.005680642327601881, 0.006065273896586556, 0.0064624644150586006, 0.006872208861646952, 0.0072945020560960154, 0.00772933865931476, 0.008176713173427318, 0.008636619941825114, 0.009109053149220473, 0.009594006821701738, 0.01009147482678991, 0.010601450873496773, 0.011123928512384522, 0.01165890113562691, 0.012206361977071877, 0.012766304112305704, 0.013338720458718648, 0.01392360377557208, 0.014520946664067138, 0.015130741567414866, 0.015752980770907858, 0.016387656401993397, 0.017034760430348076, 0.017694284667953985, 0.018366220769176274, 0.019050560230842315, 0.019747294392322357, 0.02045641443561157, 0.021177911385413712, 0.021911776109226226, 0.022657999317426812, 0.023416571563361535, 0.024187483243434407, 0.024970724597198433, 0.025766285707448204, 0.026574156500313913, 0.02739432674535689, 0.028226786055666676, 0.02907152388795944, 0.02992852954267807, 0.030797792164093573, 0.03167930074040807, 0.03257304410385927, 0.033479010930826336, 0.03439718974193731, 0.035327568902178065, 0.03627013662100257, 0.03722488095244478, 0.03819178979523201, 0.039170850892899636, 0.04016205183390747, 0.041165380051757405, 0.042180822825112714, 0.04320836727791873, 0.04424800037952498, 0.045299708944808864, 0.04636347963430073, 0.04743929895431043, 0.04852715325705545, 0.04962702874079031, 0.05073891144993756, 0.05186278727522031, 0.052998641953796, 0.05414646106939182, 0.05530623005244155, 0.0564779341802238, 0.0576615585770018, 0.058857088214164535, 0.060064507910369394, 0.06128380233168639, 0.06251495599174356, 0.06375795325187411, 0.06501277832126477, 0.06627941525710582, 0.0675578479647423, 0.06884806019782705, 0.0701500355584747, 0.07146375749741751, 0.07278920931416256, 0.07412637415715022, 0.07547523502391416, 0.07683577476124305, 0.07820797606534313, 0.07959182148200278, 0.0809872934067582, 0.08239437408506062, 0.08381304561244504, 0.08524328993470014, 0.08668508884803988, 0.08813842399927642, 0.08960327688599445, 0.09107962885672696, 0.09256746111113257, 0.09406675470017394, 0.09557749052629795, 0.0970996493436172, 0.09863321175809271, 0.10017815822771857, 0.10173446906270721, 0.10330212442567684, 0.1048811043318399, 0.10647138864919298, 0.10807295709870822, 0.109685789254526, 0.11130986454414928, 0.11294516224863885, 0.11459166150281064, 0.11624934129543399, 0.11791818046943126, 0.11959815772207916, 0.12128925160521133, 0.12299144052542214, 0.12470470274427217, 0.12642901637849502, 0.12816435940020512, 0.1299107096371076, 0.13166804477270896, 0.13343634234652937, 0.1352155797543165, 0.1370057342482604, 0.13880678293720983, 0.14061870278689026, 0.14244147062012294, 0.14427506311704538, 0.14611945681533345, 0.14797462811042436, 0.14984055325574153, 0.1517172083629205, 0.15360456940203623, 0.15550261220183217, 0.15741131244994983, 0.15933064569316058, 0.1612605873375983, 0.16320111264899362, 0.1651521967529094, 0.16711381463497751, 0.16908594114113704, 0.17106855097787393, 0.1730616187124617, 0.1750651187732039, 0.17707902544967744, 0.17910331289297757, 0.18113795511596417, 0.18318292599350924, 0.1852381992627458, 0.18730374852331821, 0.18937954723763362, 0.1914655687311149, 0.19356178619245462, 0.19566817267387093, 0.19778470109136426, 0.19991134422497528, 0.2020480747190445, 0.20419486508247314, 0.20635168768898499, 0.20851851477738997, 0.21069531845184886, 0.21288207068213902, 0.21507874330392202, 0.21728530801901194, 0.21950173639564544, 0.22172799986875297, 0.22396406974023103, 0.22620991717921615, 0.22846551322235972, 0.23073082877410453, 0.23300583460696228, 0.23529050136179244, 0.23758479954808245, 0.23988869954422906, 0.2422021715978214, 0.24452518582592442, 0.2468577122153645, 0.24919972062301596, 0.2515511807760886, 0.253912062272417, 0.2562823345807507, 0.2586619670410457, 0.26105092886475717, 0.26344918913513404, 0.26585671680751344, 0.26827348070961793, 0.27069944954185304, 0.27313459187760625, 0.2755788761635473, 0.2780322707199297, 0.2804947437408935, 0.2829662632947692, 0.28544679732438294, 0.2879363136473627, 0.2904347799564467, 0.2929421638197911, 0.29545843268128097, 0.29798355386084135, 0.3005174945547494, 0.30306022183594866, 0.30561170265436344, 0.30817190383721543, 0.3107407920893406, 0.31331833399350784, 0.31590449601073883, 0.3184992444806289, 0.32110254562166884, 0.32371436553156857, 0.3263346701875813, 0.3289634254468294, 0.3316005970466309, 0.3342461506048282, 0.3369000516201163, 0.33956226547237395, 0.34223275742299464, 0.3449114926152194, 0.34759843607447116, 0.35029355270868895, 0.35299680730866456, 0.3557081645483796, 0.3584275889853443, 0.3611550450609367, 0.36389049710074384, 0.3666339093149033, 0.36938524579844656, 0.37214447053164273, 0.37491154738034443, 0.37768644009633395, 0.38046911231767055, 0.38325952756903964, 0.3860576492621024, 0.3888634406958466, 0.3916768650569387, 0.39449788542007735, 0.3973264647483472, 0.4001625658935744, 0.4030061515966832, 0.4058571844880538, 0.4087156270878803, 0.4115814418065312, 0.41445459094491, 0.4173350366948169, 0.42022274113931246, 0.4231176662530811, 0.4260197739027967, 0.42892902584748893, 0.43184538373891, 0.4347688091219043, 0.4376992634347764, 0.4406367080096628, 0.4435811040729029, 0.4465324127454122, 0.44949059504305544, 0.4524556118770217, 0.4554274240542005, 0.458405992277558, 0.4613912771465157, 0.4643832391573287, 0.46738183870346633, 0.47038703607599275, 0.47339879146394914, 0.4764170649547367, 0.47944181653450085, 0.48247300608851645, 0.4855105934015737, 0.4885545381583656, 0.4916047999438758, 0.49466133824376796, 0.4977241124447757, 0.5007930818350944, 0.5038682056047724, 0.5069494428461052, 0.5100367525540285, 0.5131300936265144, 0.5162294248649669, 0.5193347049746191, 0.5224458925649313, 0.5255629461499903, 0.5286858241489087, 0.5318144848862271, 0.5349488865923145, 0.5380889874037729, 0.5412347453638396, 0.5443861184227929, 0.5475430644383579, 0.5507055411761125, 0.553873506309896, 0.5570469174222168, 0.5602257320046627, 0.5634099074583108, 0.5665994010941391, 0.5697941701334387, 0.5729941717082272, 0.5761993628616627, 0.5794097005484589, 0.5826251416353011, 0.5858456429012631, 0.5890711610382247, 0.5923016526512909, 0.595537074259211, 0.5987773822947993, 0.6020225331053566, 0.6052724829530919, 0.6085271880155463, 0.6117866043860162, 0.6150506880739784, 0.618319395005517, 0.6215926810237478, 0.6248705018892476, 0.6281528132804821, 0.6314395707942344, 0.6347307299460362, 0.6380262461705979, 0.6413260748222401, 0.6446301711753272, 0.6479384904246999, 0.6512509876861099, 0.654567617996655, 0.6578883363152148, 0.6612130975228875, 0.6645418564234274, 0.6678745677436837, 0.6712111861340392, 0.6745516661688506, 0.677895962346889, 0.6812440290917817, 0.6845958207524545, 0.687951291603575, 0.6913103958459969, 0.6946730876072039, 0.6980393209417559, 0.7014090498317355, 0.704782228187194, 0.7081588098466014, 0.7115387485772924, 0.7149219980759178, 0.7183085119688937, 0.7216982438128527, 0.7250911470950959, 0.7284871752340445, 0.7318862815796937, 0.7352884194140663, 0.7386935419516673, 0.742101602339939, 0.7455125536597186, 0.7489263489256927, 0.752342941086856, 0.7557622830269705, 0.7591843275650224, 0.7626090274556838, 0.7660363353897718, 0.7694662039947097, 0.7728985858349896, 0.7763334334126338, 0.7797706991676592, 0.7832103354785398, 0.786652294662672, 0.7900965289768397, 0.7935429906176803, 0.796991631722151, 0.8004424043679962, 0.8038952605742151, 0.8073501523015306, 0.8108070314528583, 0.8142658498737761, 0.8177265593529954, 0.8211891116228316, 0.8246534583596757, 0.8281195511844673, 0.8315873416631671, 0.8350567813072312, 0.8385278215740842, 0.8420004138675955, 0.8454745095385542, 0.8489500598851444, 0.8524270161534231, 0.8559053295377971, 0.8593849511815006, 0.862865832177074, 0.8663479235668432, 0.8698311763433989, 0.8733155414500766, 0.8768009697814381, 0.8802874121837528, 0.883774819455479, 0.8872631423477471, 0.8907523315648426, 0.8942423377646893, 0.8977331115593342, 0.9012246035154318, 0.9047167641547287, 0.9082095439545517, 0.9117028933482912, 0.9151967627258906, 0.9186911024343316, 0.9221858627781242, 0.9256809940197933, 0.9291764463803692, 0.9326721700398759, 0.9361681151378219, 0.9396642317736903, 0.9431604700074298, 0.9466567798599462, 0.9501531113135946, 0.9536494143126714, 0.9571456387639076, 0.960641734536962, 0.9641376514649154, 0.9676333393447644, 0.9711287479379166, 0.9746238269706862, 0.9781185261347884, 0.9816127950878372, 0.9851065834538414, 0.9885998408237009, 0.9920925167557053, 0.9955845607760313, 0.9990759223792409, 1.0025665510287807, 1.0060563961574809, 1.0095454071680543, 1.0130335334335976, 1.0165207242980903, 1.0200069290768972, 1.023492097057268, 1.0269761774988404, 1.0304591196341413, 1.0339408726690889, 1.0374213857834962, 1.0409006081315744, 1.0443784888424354, 1.0478549770205965, 1.0513300217464847, 1.0548035720769402, 1.0582755770457237, 1.0617459856640195, 1.0652147469209419, 1.0686818097840416, 1.072147123199812, 1.0756106360941955, 1.0790722973730908, 1.0825320559228604, 1.085989860610838, 1.0894456602858367, 1.092899403778657, 1.0963510399025957, 1.0998005174539554, 1.103247785212552, 1.106692791942226, 1.1101354863913517, 1.1135758172933465, 1.117013733367183, 1.1204491833178976, 1.1238821158371028, 1.1273124796034981, 1.1307402232833812, 1.1341652955311605, 1.1375876449898656, 1.1410072202916608, 1.1444239700583572, 1.1478378429019245, 1.1512487874250061, 1.1546567522214302, 1.1580616858767236, 1.1614635369686266, 1.1648622540676048, 1.1682577857373655, 1.1716500805353698, 1.175039087013348, 1.1784247537178152, 1.1818070291905844, 1.1851858619692828, 1.1885612005878667, 1.1919329935771368, 1.195301189465254, 1.1986657367782554, 1.2020265840405693, 1.2053836797755333, 1.208736972505908, 1.2120864107543956, 1.2154319430441556, 1.2187735178993213, 1.2221110838455171, 1.2254445894103763, 1.2287739831240558, 1.2320992135197564, 1.2354202291342387, 1.23873697850834, 1.2420494101874935, 1.2453574727222452, 1.2486611146687716, 1.2519602845893985, 1.2552549310531178, 1.2585450026361076, 1.2618304479222482, 1.265111215503642, 1.2683872539811316, 1.2716585119648183, 1.2749249380745804, 1.2781864809405923, 1.2814430892038424, 1.284694711516653, 1.2879412965431982, 1.2911827929600233, 1.2944191494565636, 1.2976503147356628, 1.3008762375140932, 1.3040968665230739, 1.307312150508789, 1.310522038232909, 1.3137264784731075, 1.3169254200235823, 1.3201188116955722, 1.3233066023178788, 1.3264887407373833, 1.3296651758195674, 1.332835856449031, 1.336000731530012, 1.339159749986905, 1.3423128607647814, 1.3454600128299072, 1.348601155170262, 1.3517362367960581, 1.3548652067402613, 1.3579880140591065, 1.3611046078326186, 1.364214937165131, 1.367318951185804, 1.370416599049143, 1.3735078299355188, 1.3765925930516838, 1.379670837631292, 1.382742512935417, 1.3858075682530695, 1.3888659529017164, 1.391917616227799, 1.3949625076072494, 1.3980005764460106, 1.4010317721805525, 1.40405604427839, 1.407073342238601, 1.4100836155923435, 1.4130868139033725, 1.4160828867685578, 1.4190717838184004, 1.4220534547175496, 1.42502784916532, 1.427994916896208, 1.4309546076804072, 1.4339068713243261, 1.436851657671104, 1.4397889166011253, 1.4427185980325377, 1.4456406519217655, 1.4485550282640267, 1.451461677093847, 1.4543605484855764, 1.4572515925539016, 1.4601347594543628, 1.463009999383867, 1.4658772625812027, 1.4687364993275536, 1.4715876599470128, 1.474430694807096, 1.4772655543192545, 1.480092188939389, 1.482910549168362, 1.485720585552511, 1.4885222486841598, 1.4913154892021323, 1.4941002577922624, 1.4968765051879072, 1.4996441821704574, 1.5024032395698494, 1.5051536282650748, 1.5078952991846921, 1.5106282033073364, 1.5133522916622293, 1.5160675153296892, 1.5187738254416399, 1.52147117318212, 1.5241595097877922, 1.5268387865484514, 1.5295089548075325, 1.5321699659626187, 1.5348217714659491, 1.5374643228249258, 1.5400975716026208, 1.542721469418282, 1.5453359679478407, 1.547941018924416, 1.5505365741388217, 1.5531225854400705, 1.555699004735879, 1.5582657839931724, 1.5608228752385884, 1.5633702305589814, 1.5659078021019246, 1.5684355420762146, 1.5709534027523728, 1.573461336463148, 1.5759592956040185, 1.5784472326336927, 1.580925100074611, 1.5833928505134458, 1.5858504366016022, 1.588297811055717, 1.5907349266581592, 1.5931617362575277, 1.5955781927691506, 1.597984249175583, 1.6003798585271047, 1.602764973942218, 1.6051395486081426, 1.6075035357813146, 1.60985688878788, 1.6121995610241913, 1.6145315059573022, 1.6168526771254619, 1.6191630281386096, 1.6214625126788669, 1.6237510845010323, 1.6260286974330729, 1.628295305376616, 1.630550862307442, 1.6327953222759743, 1.6350286394077707, 1.6372507679040127, 1.6394616620419953, 1.6416612761756166, 1.643849564735866, 1.646026482231311, 1.6481919832485874, 1.650346022452883, 1.6524885545884267, 1.6546195344789727, 1.6567389170282865, 1.6588466572206293, 1.6609427101212426, 1.6630270308768322, 1.6650995747160495, 1.6671602969499764, 1.6692091529726056, 1.6712460982613224, 1.673271088377386, 1.675284078966409, 1.6772850257588372, 1.679273884570429, 1.6812506113027335, 1.683215161943568, 1.6851674925674964, 1.6871075593363043, 1.6890353184994757, 1.6909507263946688, 1.6928537394481904, 1.6947443141754694, 1.6966224071815315, 1.6984879751614708, 1.7003409749009233, 1.702181363276537, 1.7040090972564446, 1.7058241339007323, 1.70762643036191, 1.7094159438853802, 1.7111926318099062, 1.71295645156808, 1.714707360686789, 1.7164453167876823, 1.7181702775876364, 1.71988220089922, 1.7215810446311586, 1.7232667667887966, 1.7249393254745624, 1.7265986788884287, 1.7282447853283744, 1.7298776031908458, 1.731497090971216, 1.733103207264244, 1.7346959107645346, 1.7362751602669937, 1.7378409146672884, 1.739393132962301, 1.7409317742505852, 1.7424567977328218, 1.743968162712272, 1.7454658285952311, 1.7469497548914805, 1.7484199012147401, 1.7498762272831199, 1.7513186929195688, 1.7527472580523253, 1.7541618827153667, 1.7555625270488553, 1.756949151299587, 1.7583217158214373, 1.7596801810758074, 1.7610245076320679, 1.7623546561680037, 1.763670587470257, 1.7649722624347695, 1.7662596420672243, 1.7675326874834865, 1.7687913599100427, 1.7700356206844412, 1.7712654312557294, 1.772480753184891, 1.7736815481452837, 1.7748677779230742, 1.7760394044176728, 1.7771963896421688, 1.7783386957237621, 1.7794662849041971, 1.7805791195401928, 1.781677162103874, 1.7827603751832022, 1.7838287214824022, 1.7848821638223924, 1.78592066514121, 1.7869441884944388, 1.7879526970556336, 1.7889461541167455, 1.7899245230885443, 1.7908877675010422, 1.7918358510039152, 1.7927687373669243, 1.7936863904803342, 1.7945887743553344, 1.7954758531244552, 1.7963475910419866, 1.7972039524843935, 1.7980449019507314, 1.7988704040630603, 1.7996804235668598, 1.8004749253314387, 1.8012538743503501, 1.802017235741799, 1.8027649747490537, 1.8034970567408533, 1.804213447211817, 1.804914111782849, 1.8055990162015467, 1.8062681263426028, 1.8069214082082108, 1.8075588279284678, 1.8081803517617765, 1.8087859460952445, 1.8093755774450868, 1.809949212457023, 1.8105068179066748, 1.8110483606999648, 1.8115738078735109, 1.8120831265950212, 1.812576284163689, 1.8130532480105845, 1.8135139856990472, 1.8139584649250768, 1.8143866535177227, 1.8147985194394725, 1.8151940307866408, 1.8155731557897548, 1.8159358628139397, 1.8162821203593056, 1.8166118970613279, 1.816925161691231, 1.8172218831563716, 1.817502030500616, 1.8177655729047213, 1.8180124796867134, 1.8182427203022637, 1.8184562643450657, 1.8186530815472095, 1.8188331417795558, 1.8189964150521096, 1.819142871514391, 1.8192724814558057, 1.8193852153060155, 1.8194810436353064, 1.8195599371549553, 1.8196218667175976, 1.8196668033175907, 1.8196947180913792, 1.8197055823178578, 1.8196993674187327, 1.8196760449588818, 1.8196355866467155, 1.819577964334534, 1.8195031500188854, 1.819411115840921, 1.8193018340867508, 1.8191752771877974, 1.8190314177211488, 1.8188702284099096, 1.8186916821235513, 1.8184957518782623, 1.818282410837295, 1.8180516323113134, 1.817803389758739, 1.8175376567860941, 1.8172544071483476, 1.8169536147492547, 1.8166352536416988, 1.8162992980280324, 1.8159457222604145, 1.8155745008411488, 1.8151856084230198, 1.8147790198096274, 1.8143547099557216, 1.813912653967534, 1.813452827103112, 1.8129752047726455, 1.8124797625387976, 1.8119664761170338, 1.811435321375946, 1.81088627433758, 1.8103193111777585, 1.8097344082264042, 1.809131541967863, 1.8085106890412217, 1.8078718262406295, 1.8072149305156155, 1.8065399789714047, 1.8058469488692344, 1.8051358176266683, 1.8044065628179082, 1.8036591621741085, 1.8028935935836838, 1.8021098350926201, 1.8013078649047813, 1.8004876613822174, 1.7996492030454685, 1.79879246857387, 1.7979174368058553, 1.7970240867392564, 1.7961123975316053, 1.7951823485004328, 1.794233919123566, 1.7932670890394244, 1.7922818380473162, 1.791278146107731, 1.7902559933426327, 1.7892153600357505, 1.78815622663287, 1.7870785737421198, 1.7859823821342604, 1.7848676327429698, 1.783734306665128, 1.7825823851611007, 1.78141184965502, 1.7802226817350675, 1.779014863153751, 1.7777883758281852, 1.7765432018403653, 1.775279323437446, 1.7739967230320122, 1.7726953832023538, 1.771375286692736, 1.7700364164136693, 1.7686787554421792, 1.7673022870220725, 1.7659069945642023, 1.7644928616467355, 1.7630598720154125, 1.7616080095838116, 1.7601372584336084, 1.758647602814835, 1.7571390271461371, 1.7556115160150323, 1.7540650541781628, 1.7524996265615498, 1.7509152182608463, 1.7493118145415876, 1.7476894008394397, 1.7460479627604488, 1.7443874860812874, 1.742707956749499, 1.741009360883743, 1.7392916847740358, 1.737554914881993, 1.7357990378410686, 1.7340240404567933, 1.7322299097070104, 1.7304166327421129, 1.7285841968852762, 1.7267325896326915, 1.7248617986537955, 1.7229718117915023, 1.721062617062429, 1.7191342026571255, 1.7171865569402969, 1.7152196684510308, 1.7132335259030165, 1.7112281181847688, 1.709203434359846, 1.7071594636670682, 1.7050961955207364, 1.7030136195108438, 1.700911725403294, 1.6987905031401092, 1.6966499428396458, 1.694490034796799, 1.6923107694832158, 1.690112137547497, 1.6878941298154062, 1.6856567372900704, 1.6833999511521849, 1.6811237627602111, 1.67882816365058, 1.6765131455378839, 1.6741787003150796, 1.6718248200536778, 1.6694514970039398, 1.667058723595066, 1.6646464924353914, 1.6622147963125695, 1.6597636281937616, 1.6572929812258241, 1.6548028487354904, 1.6522932242295567, 1.6497641013950595, 1.6472154740994605, 1.64464733639082, 1.6420596824979787, 1.6394525068307284, 1.63682580397999, 1.6341795687179825, 1.6315137959983974, 1.628828480956564, 1.626123618909622, 1.6233992053566828, 1.620655235978999, 1.617891706640124, 1.6151086133860764, 1.6123059524454986, 1.609483720229817, 1.606641913333397, 1.6037805285337017, 1.6008995627914435, 1.5979990132507371, 1.595078877239253, 1.5921391522683628, 1.5891798360332916, 1.5862009264132604, 1.5832024214716356, 1.5801843194560672, 1.5771466187986352, 1.5740893181159865, 1.5710124162094765, 1.5679159120653028, 1.5647998048546454, 1.5616640939337956, 1.558508778844293, 1.555333859313054, 1.5521393352525017, 1.548925206760693, 1.5456914741214476, 1.542438137804469, 1.5391651984654706, 1.5358726569462955, 1.532560514275036, 1.5292287716661561, 1.525877430520602, 1.5225064924259233, 1.519115959156382, 1.5157058326730697, 1.512276115124012, 1.5088268088442833, 1.5053579163561095, 1.5018694403689785, 1.4983613837797385, 1.494833749672707, 1.4912865413197673, 1.4877197621804703, 1.48413341590213, 1.480527506319924, 1.4769020374569823, 1.473257013524487, 1.4695924389217572, 1.465908318236345, 1.462204656244119, 1.4584814579093532, 1.4547387283848134, 1.4509764730118364, 1.447194697320418, 1.443393407029286, 1.4395726080459872, 1.4357323064669558, 1.4318725085775972, 1.4279932208523543, 1.424094449954786, 1.4201762027376335, 1.416238486242892, 1.4122813077018759, 1.4083046745352874, 1.4043085943532774, 1.4002930749555114, 1.3962581243312266, 1.3922037506592966, 1.388129962308282, 1.3840367678364942, 1.379924175992044, 1.3757921957128953, 1.371640836126922, 1.3674701065519472, 1.3632800164958025, 1.359070575656365, 1.3548417939216093, 1.3505936813696433, 1.3463262482687572, 1.3420395050774576, 1.3377334624445085, 1.3334081312089665, 1.3290635224002176, 1.3246996472380075, 1.3203165171324764, 1.3159141436841866, 1.3114925386841527, 1.307051714113866, 1.3025916821453236, 1.298112455141046, 1.2936140456541054, 1.289096466428141, 1.2845597303973784, 1.2800038506866498, 1.275428840611404, 1.2708347136777256, 1.2662214835823415, 1.2615891642126358, 1.2569377696466544, 1.2522673141531167, 1.2475778121914154, 1.2428692784116264, 1.2381417276545041, 1.2333951749514889, 1.2286296355246993, 1.2238451247869346, 1.2190416583416657, 1.2142192519830335, 1.2093779216958358, 1.204517683655524, 1.1996385542281855, 1.1947405499705368, 1.189823687629904, 1.184887984144209, 1.1799334566419546, 1.1749601224421984, 1.1699679990545384, 1.1649571041790852, 1.1599274557064418, 1.1548790717176733, 1.1498119704842842, 1.144726170468183, 1.1396216903216576, 1.134498548887336, 1.1293567651981595, 1.1241963584773382, 1.1190173481383219, 1.1138197537847527, 1.1086035952104316, 1.1033688923992684, 1.0981156655252453, 1.0928439349523622, 1.0875537212345985, 1.082245045115855, 1.0769179275299081, 1.0715723896003575, 1.066208452640568, 1.0608261381536184, 1.055425467832239, 1.0500064635587576, 1.0445691474050323, 1.0391135416323962, 1.0336396686915859, 1.0281475512226816, 1.0226372120550347, 1.017108674207203, 1.0115619608868756, 1.005997095490804, 1.0004141016047237, 0.9948130030032843, 0.9891938236499646, 0.9835565876970004, 0.9779013194852973, 0.9722280435443548, 0.9665367845921744, 0.960827567535182, 0.9551004174681328, 0.9493553596740261, 0.9435924196240163, 0.9378116229773139, 0.9320129955810995, 0.9261965634704195, 0.9203623528680969, 0.9145103901846241, 0.9086407020180697, 0.9027533151539683, 0.8968482565652247, 0.8909255534119993, 0.8849852330416093, 0.8790273229884106, 0.8730518509736964, 0.8670588449055756, 0.8610483328788671, 0.8550203431749757, 0.8489749042617832, 0.8429120447935212, 0.8368317936106578, 0.8307341797397686, 0.8246192323934155, 0.818486980970024, 0.8123374550537491, 0.8061706844143536, 0.79998669900707, 0.7937855289724758, 0.7875672046363518, 0.7813317565095539, 0.7750792152878684, 0.7688096118518806, 0.7625229772668263, 0.7562193427824577, 0.749898739832891, 0.7435612000364696, 0.7372067551956076, 0.7308354372966507, 0.7244472785097158, 0.7180423111885482, 0.711620567870359, 0.7051820812756782, 0.6987268843081901, 0.6922550100545772, 0.6857664917843644, 0.6792613629497477, 0.6727396571854406, 0.6662014083084986, 0.6596466503181628, 0.6530754173956806, 0.6464877439041458, 0.6398836643883166, 0.6332632135744515, 0.6266264263701258, 0.6199733378640624, 0.6133039833259454, 0.6066183982062486, 0.5999166181360448, 0.5931986789268318, 0.5864646165703373, 0.5797144672383427, 0.5729482672824852, 0.5661660532340761, 0.5593678618039031, 0.5525537298820389, 0.5457236945376509, 0.5388777930187962, 0.5320160627522333, 0.5251385413432124, 0.5182452665752842, 0.5113362764100875, 0.5044116089871534, 0.4974713026236906, 0.49051539581438663, 0.4835439272311891, 0.47655693572310415, 0.4695544603159742, 0.46253654021227375, 0.4555032147908832, 0.4484545236068818, 0.44139050639131816, 0.4343112030509999, 0.42721665366826145, 0.42010689850074945, 0.41298197798118946, 0.405841932717162, 0.39868680349087765, 0.3915166312589382, 0.38433145715211436, 0.37713132247510267, 0.36991626870630034, 0.3626863374975579, 0.3554415706739519, 0.3481820102335341, 0.34090769834710066, 0.33361867735793843, 0.3263149897815909, 0.31899667830560124, 0.3116637857892752, 0.30431635526342105, 0.2969544299301088, 0.2895780531624076, 0.28218726850414144, 0.27478211966962346, 0.26736265054340874, 0.2599289051800248, 0.25248092780372206, 0.24501876280820184, 0.23754245475635732, 0.2300520483800119, 0.2225475885796433, 0.21502912042412559, 0.20749668915044894, 0.1999503401634585, 0.19239011903557085, 0.18481607150650986, 0.17722824348302002, 0.16962668103859926, 0.16201143041320903, 0.1543825380130041, 0.1467400504100394, 0.13908401434199688, 0.13141447671188916, 0.12373148458778337, 0.11603508520250153, 0.10832532595334149, 0.1006022544017741, 0.09286591827316115, 0.08511636545645081, 0.07735364400388552, 0.06957780213070823, 0.06178888821485346, 0.05398695079665731, 0.04617203857854404, 0.03834420042473311, 0.030503485360922664, 0.022649942573993536, 0.014783621411689646, 0.006904571382319006, -0.0009871578455689538, -0.008891516443485376, -0.01680845442332773, -0.02473792163768479, -0.03267986778016545, -0.04063424238570665, -0.04860099483090531, -0.05658007433432922, -0.06457142995685192, -0.07257501060196665, -0.08059076501612292, -0.08861864178905031, -0.09665858935408399, -0.10471055598850575, -0.11277448981386526, -0.12085033879632563, -0.1289380507469875, -0.13703757332223776, -0.14514885402407643, -0.15327184020046836, -0.1614064790456733, -0.16955271760060017, -0.17771050275314032, -0.18587978123852483, -0.19406049963966043, -0.20225260438748993, -0.21045604176133106, -0.2186707578892397, -0.22689669874835172, -0.23513381016524934, -0.2433820378163054, -0.2516413272280516, -0.2599116237775328, -0.26819287269266345, -0.27648501905259965, -0.28478800778809094, -0.2931017836818568, -0.3014262913689413, -0.3097614753370924, -0.31810727992711973, -0.3264636493332764, -0.33483052760361964, -0.34320785864039616, -0.35159558620040454, -0.35999365389538424, -0.36840200519238075, -0.3768205834141369, -0.38524933173946135, -0.3936881932036228, -0.40213711069872093, -0.4105960269740834, -0.41906488463663993, -0.4275436261513205, -0.43603219384143965, -0.4445305298890823, -0.45303857633550637, -0.4615562750815233, -0.47008356788790506, -0.4786203963757679, -0.4871667020269817, -0.49572242618455636, -0.5042875100530544, -0.5128618946989796, -0.5214455210511929, -0.5300383299013031, -0.5386402619040856, -0.5472512575778768, -0.5558712573049946, -0.5645002013321355, -0.5731380297707978, -0.5817846825976821, -0.5904400996551169, -0.5991042206514614, -0.6077769851615324, -0.6164583326270178, -0.6251482023568904, -0.6338465335278398, -0.6425532651846809, -0.6512683362407902, -0.6599916854785167, -0.6687232515496209, -0.6774629729756888, -0.6862107881485732, -0.6949666353308099, -0.7037304526560622, -0.7125021781295398, -0.7212817496284452, -0.7300691049023962, -0.7388641815738743, -0.7476669171386496, -0.7564772489662318, -0.7652951143002987, -0.7741204502591487, -0.7829531938361318, -0.7917932819001039, -0.8006406511958679, -0.8094952383446145, -0.8183569798443815, -0.8272258120704903, -0.8361016712760081, -0.8449844935921873, -0.8538742150289308, -0.8627707714752332, -0.8716740986996484, -0.8805841323507345, -0.889500807957523, -0.8984240609299657, -0.9073538265594077, -0.916290040019036, -0.9252326363643549, -0.934181550533637, -0.9431367173484017, -0.952098071513868, -0.9610655476194359, -0.9700390801391415, -0.9790186034321396, -0.9880040517431641, -0.9969953592030086, -1.0059924598289982, -1.0149952875254575, -1.0240037760841987, -1.0330178591849863, -1.0420374703960276, -1.0510625431744396, -1.0600930108667435, -1.0691288067093325, -1.0781698638289692, -1.0872161152432556, -1.0962674938611328, -1.1053239324833544, -1.114385363802986, -1.1234517204058836, -1.132522934771194, -1.1415989392718358, -1.1506796661750023, -1.1597650476426447, -1.1688550157319766, -1.17794950239596, -1.1870484394838121, -1.1961517587414985, -1.205259391812228, -1.2143712702369642, -1.2234873254549141, -1.2326074888040428, -1.2417316915215668, -1.2508598647444682, -1.2599919395099906, -1.2691278467561573, -1.2782675173222682, -1.2874108819494199, -1.2965578712810049, -1.3057084158632346, -1.3148624461456404, -1.324019892481598, -1.3331806851288313, -1.3423447542499398, -1.351512029912903, -1.3606824420916106, -1.3698559206663692, -1.3790323954244332, -1.3882117960605207, -1.3973940521773316, -1.4065790932860809, -1.415766848807011, -1.4249572480699284, -1.4341502203147196, -1.4433456946918883, -1.4525436002630723, -1.4617438660015858, -1.4709464207929366, -1.4801511934353702, -1.4893581126403894, -1.4985671070333004, -1.5077781051537347, -1.5169910354561966, -1.5262058263105878, -1.5354224060027568, -1.5446407027350242, -1.5538606446267358, -1.5630821597147888, -1.5723051759541862, -1.5815296212185719, -1.5907554233007708, -1.5999825099133445, -1.609210808689121, -1.6184402471817576, -1.6276707528662717, -1.636902253139603, -1.6461346753211503, -1.655367946653333, -1.6646019943021293, -1.673836745357642, -1.6830721268346365, -1.6923080656731087, -1.701544488738826, -1.7107813228238962, -1.7200184946473098, -1.7292559308555115, -1.7384935580229448, -1.7477313026526238, -1.7569690911766807, -1.766206849956938, -1.7754445052854646, -1.7846819833851348, -1.793919210410202, -1.8031561124468507, -1.8123926155137744, -1.821628645562729, -1.8308641284791136, -1.8400989900825229, -1.8493331561273314, -1.8585665523032484, -1.8677991042359028, -1.8770307374873993, -1.8862613775569053, -1.8954909498812096, -1.9047193798353106, -1.913946592732975, -1.9231725138273303, -1.9323970683114235, -1.9416201813188148, -1.9508417779241396, -1.9600617831437024, -1.9692801219360416, -1.978496719202521, -1.9877114997879073, -1.9969243884809464, -2.006135310014956, -2.015344189068397, -2.0245509502654717, -2.0337555181766933, -2.0429578173194862, -2.05215777215876, -2.061355307107505, -2.0705503465273756, -2.079742814729282, -2.088932635973974, -2.0981197344726423, -2.107304034387494, -2.1164854598323593, -2.125663934873269, -2.134839383529064, -2.144011729771973, -2.1531808975282187, -2.1623468106786046, -2.171509393059118, -2.180668568461523, -2.1898242606339537, -2.198976393281523, -2.208124890066906, -2.217269674610957, -2.226410670493291, -2.235547801252902, -2.244680990388748, -2.253810161360368, -2.2629352375884695, -2.272056142455547, -2.281172799306472, -2.2902851314491093, -2.2993930621549112, -2.3084965146595358, -2.317595412163438, -2.3266896778324937, -2.335779234798591, -2.3448640061602526, -2.3539439149832337, -2.3630188843011384, -2.3720888371160296, -2.381153696399032, -2.390213385090955, -2.3992678261028932, -2.40831694231685, -2.4173606565863386, -2.426398891737008, -2.435431570567245, -2.4444586158488018, -2.4534799503273965, -2.4624954967233457, -2.4715051777321633, -2.4805089160251943, -2.489506634250217, -2.4984982550320742, -2.5074837009732813, -2.5164628946546537, -2.5254357586359184, -2.5344022154563426, -2.5433621876353447, -2.552315597673126, -2.5612623680512856, -2.57020242123344, -2.579135679665855, -2.5880620657780584, -2.5969815019834748, -2.605893910680036, -2.6147992142508203, -2.6236973350646635, -2.632588195476797, -2.6414717178294627, -2.6503478244525485, -2.6592164376642082, -2.668077479771495, -2.6769308730709804, -2.6857765398493942, -2.6946144023842407, -2.70344438294444, -2.712266403790944, -2.721080387177381, -2.72988625535067, -2.738683930551667, -2.747473335015785, -2.7562543909736292, -2.765027020651631, -2.7737911462726728, -2.7825466900567335, -2.791293574221506, -2.800031720983045, -2.808761052556388, -2.817481491156202, -2.8261929589974035, -2.8348953782958097, -2.8435886712687575, -2.8522727601357523, -2.860947567119093, -2.869613014444519, -2.878269024341835, -2.886915519045559, -2.8955524207955494, -2.9041796518376515, -2.9127971344243266, -2.921404790815297, -2.9300025432781838, -2.938590314089136, -2.9471680255334856, -2.95573559990637, -2.964292959513388, -2.9728400266712205, -2.9813767237082915, -2.9899029729653894, -2.998418696796323, -3.006923817568549, -3.0154182576638244, -3.0239019394788387, -3.0323747854258616, -3.040836717933386, -3.049287659446757, -3.0577275324288316, -3.066156259360611, -3.0745737627418883, -3.0829799650918797, -3.0913747889498846, -3.099758156875918, -3.1081299914513556, -3.116490215279582, -3.124838750986621, -3.1331755212217995, -3.1415004486583764, -3.1498134559941966, -3.1581144659523215, -3.1664034012816913, -3.1746801847577593, -3.1829447391831405, -3.191196987388248, -3.1994368522319525, -3.2076642566022193, -3.215879123416756, -3.224081375623649, -3.2322709362020263, -3.2404477281626916, -3.248611674548774, -3.256762698436366, -3.2649007229351845, -3.273025671189206, -3.281137466377317, -3.2892360317139597, -3.297321290449772, -3.3053931658722466, -3.3134515813063703, -3.3214964601152723, -3.3295277257008618, -3.337545301504493, -3.345549111007598, -3.353539077732339, -3.3615151252422475, -3.3694771771428838, -3.3774251570824765, -3.385358988752572, -3.3932785958886718, -3.4011839022708967, -3.4090748317246207, -3.416951308121125, -3.4248132553782344, -3.4326605974609796, -3.4404932583822325, -3.448311162203359, -3.456114233034865, -3.4639023950370342, -3.4716755724205908, -3.479433689447336, -3.4871766704307996, -3.4949044397368763, -3.502616921784488, -3.5103140410462186, -3.5179957220489686, -3.5256618893745895, -3.533312467660545, -3.5409473816005472, -3.548566555945209, -3.55616991550268, -3.5637573851393056, -3.5713288897802653, -3.5788843544102216, -3.586423704073956, -3.593946863877032, -3.601453758986427, -3.6089443146311813, -3.616418456103046, -3.623876108757119, -3.6313171980125025, -3.6387416493529408, -3.6461493883274656, -3.6535403405510354, -3.66091443170519, -3.668271587538689, -3.6756117338681564, -3.682934796578717, -3.6902407016246555, -3.697529375030047, -3.704800742889406, -3.712054731368323, -3.719291266704115, -3.7265102752064667, -3.7337116832580697, -3.7408954173152598, -3.7480614039086713, -3.7552095696438705, -3.7623398412020004, -3.7694521453404124, -3.7765464088933216, -3.7836225587724397, -3.7906805219676136, -3.7977202255474727, -3.804741596660056, -3.8117445625334665, -3.8187290504765015, -3.825694987879296, -3.832642302213953, -3.8395709210351927, -3.846480771980986, -3.853371782773194, -3.860243881218195, -3.867096995207539, -3.873931052718573, -3.8807459818150827, -3.8875417106479198, -3.8943181674556495, -3.9010752805651805, -3.9078129783924025, -3.914531189442812, -3.921229842312159, -3.9279088656870766, -3.9345681883457115, -3.9412077391583633, -3.947827447088107, -3.954427241191439, -3.9610070506189, -3.9675668046157138, -3.9741064325224054, -3.9806258637754497, -3.987125027907891, -3.993603854549976, -4.00006227342978, -4.006500214373843, -4.012917607307795, -4.019314382256984, -4.025690469347102, -4.032045798804818, -4.038380300958401, -4.044693906238353, -4.050986545178019, -4.057258148414235, -4.063508646687935, -4.069737970844788, -4.075946051835815, -4.082132820718011, -4.088298208654982, -4.094442146917549, -4.100564566884388, -4.106665400042633, -4.112744577988519, -4.1188020324279835, -4.124837695177302, -4.1308514981636915, -4.136843373425946, -4.142813253115048, -4.148761069494785, -4.154686754942366, -4.1605902419490475, -4.166471463120738, -4.172330351178626, -4.178166838959783, -4.183980859417786, -4.189772345623335, -4.1955412307648565, -4.2012874481491265, -4.207010931201871, -4.212711613468391, -4.218389428614169, -4.224044310425477, -4.229676192809981, -4.235285009797369, -4.240870695539941, -4.24643318431323, -4.251972410516595, -4.257488308673845, -4.262980813433833, -4.268449859571071, -4.273895381986319, -4.2793173157072095, -4.284715595888838, -4.290090157814371, -4.295440936895642, -4.300767868673763, -4.3060708888197174, -4.311349933134965, -4.316604937552039, -4.32183583813514, -4.327042571080746, -4.332225072718202, -4.33738327951032, -4.342517128053963, -4.347626555080661, -4.35271149745719, -4.3577718921861734, -4.362807676406666, -4.367818787394758, -4.372805162564159, -4.377766739466792, -4.382703455793379, -4.387615249374036, -4.392502058178859, -4.397363820318514, -4.402200474044814, -4.407011957751319, -4.411798209973916, -4.416559169391398, -4.421294774826059, -4.426004965244263, -4.430689679757039, -4.435348857620656, -4.439982438237205, -4.444590361155176, -4.449172566070041, -4.453728992824833, -4.458259581410717, -4.462764271967568, -4.467243004784554, -4.471695720300701, -4.476122359105475, -4.480522861939346, -4.484897169694368, -4.489245223414746, -4.49356696429741, -4.49786233369258, -4.502131273104334, -4.506373724191183, -4.510589628766633, -4.51477892879975, -4.51894156641572, -4.5230774838964285, -4.5271866236810085, -4.531268928366412, -4.535324340707962, -4.539352803619926, -4.543354260176061, -4.547328653610185, -4.551275927316723, -4.555196024851275, -4.559088889931162, -4.562954466435986, -4.56679269840818, -4.570603530053566, -4.574386905741903, -4.578142770007441, -4.581871067549462, -4.58557174323284, -4.589244742088585, -4.592890009314386, -4.596507490275165, -4.60009713050361, -4.603658875700729, -4.60719267173639, -4.610698464649863, -4.6141762006503555, -4.617625826117561, -4.621047287602193, -4.624440531826523, -4.627805505684914, -4.631142156244364, -4.634450430745032, -4.63773027660078, -4.640981641399695, -4.644204472904631, -4.647398719053731, -4.650564327960963, -4.65370124791664, -4.656809427387955, -4.659888815019505, -4.66293935963381, -4.665961010231845, -4.668953715993557, -4.671917426278389, -4.6748520906258, -4.677757658755786, -4.68063408056939, -4.683481306149233, -4.6862992857600165, -4.689087969849049, -4.691847309046747, -4.694577254167159, -4.697277756208471, -4.6999487663535175, -4.702590235970289, -4.705202116612446, -4.707784360019817, -4.710336918118912, -4.712859743023421, -4.71535278703472, -4.717816002642375, -4.720249342524637, -4.7226527595489465, -4.725026206772429, -4.727369637442397, -4.72968300499684, -4.731966263064922, -4.734219365467475, -4.736442266217493, -4.73863491952062, -4.740797279775643, -4.742929301574977, -4.745030939705154, -4.747102149147316, -4.749142885077686, -4.751153102868062, -4.7531327580863, -4.755081806496787, -4.757000204060932, -4.758887906937633, -4.7607448714837615, -4.76257105425464, -4.764366412004511, -4.766130901687015, -4.767864480455662, -4.769567105664298, -4.771238734867583, -4.772879325821452, -4.774488836483586, -4.776067225013876, -4.777614449774889, -4.779130469332331, -4.780615242455502, -4.782068728117769, -4.7834908854970175, -4.784881673976108, -4.7862410531433355, -4.787568982792886, -4.7888654229252845, -4.790130333747854, -4.791363675675162, -4.792565409329473, -4.7937354955411955, -4.79487389534933, -4.795980570001909, -4.797055480956451, -4.798098589880398, -4.799109858651555, -4.800089249358534, -4.801036724301189, -4.801952245991056, -4.80283577715179, -4.803687280719596, -4.804506719843663, -4.805294057886597, -4.80604925842485, -4.806772285249151, -4.80746310236493, -4.808121673992746, -4.808747964568711, -4.809341938744913, -4.809903561389839, -4.810432797588794, -4.810929612644319, -4.811393972076609, -4.8118258416239295, -4.8122251872430315, -4.8125919751095605, -4.812926171618474, -4.813227743384445, -4.8134966572422755, -4.813732880247303, -4.813936379675802, -4.814107123025392, -4.81424507801544, -4.81435021258746, -4.814422494905511, -4.8144618933566, -4.814468376551074, -4.814441913323017, -4.814382472730643, -4.8142900240566915, -4.81416453680881, -4.81400598071995, -4.813814325748751, -4.8135895420799315, -4.813331600124665, -4.813040470520971, -4.812716124134089, -4.812358532056865, -4.811967665610125, -4.811543496343054, -4.8110859960335715, -4.810595136688702, -4.8100708905449485, -4.809513230068666, -4.808922127956427, -4.808297557135385, -4.807639490763652, -4.8069479022306485, -4.806222765157477, -4.805464053397277, -4.804671741035585, -4.803845802390693, -4.80298621201401, -4.802092944690403, -4.801165975438565, -4.800205279511355, -4.799210832396155, -4.798182609815215, -4.797120587725998, -4.796024742321529, -4.794895050030733, -4.793731487518783, -4.792534031687433, -4.79130265967536, -4.790037348858503, -4.788738076850393, -4.787404821502488, -4.786037560904507, -4.78463627338476, -4.78320093751047, -4.781731532088109, -4.780228036163716, -4.778690429023226, -4.777118690192785, -4.7755127994390785, -4.773872736769641, -4.77219848243318, -4.7704900169198865, -4.76874732096175, -4.766970375532871, -4.76515916184977, -4.763313661371695, -4.76143385580093, -4.759519727083096, -4.75757125740746, -4.755588429207234, -4.75357122515987, -4.751519628187365, -4.7494336214565545, -4.747313188379406, -4.745158312613314, -4.742968978061389, -4.740745168872746, -4.7384868694427995, -4.73619406441354, -4.733866738673822, -4.731504877359647, -4.7291084658544476, -4.726677489789359, -4.724211935043498, -4.721711787744246, -4.719177034267513, -4.716607661238014, -4.7140036555295435, -4.7113650042652315, -4.708691694817823, -4.705983714809937, -4.703241052114332, -4.70046369485416, -4.697651631403237, -4.694804850386295, -4.691923340679237, -4.689007091409393, -4.686056091955772, -4.683070331949313, -4.6800498012731335, -4.676994490062777, -4.673904388706454, -4.670779487845296, -4.667619778373584, -4.664425251438998, -4.661195898442849, -4.657931711040319, -4.654632681140695, -4.651298800907598, -4.647930062759217, -4.644526459368539, -4.641087983663571, -4.6376146288275715, -4.6341063882992675, -4.63056325577308, -4.626985225199346, -4.623372290784529, -4.619724446991442, -4.616041688539457, -4.612324010404722, -4.608571407820366, -4.604783876276714, -4.600961411521484, -4.597104009560005, -4.593211666655409, -4.589284379328837, -4.5853221443596395, -4.581324958785567, -4.577292819902978, -4.57322572526702, -4.569123672691829, -4.564986660250713, -4.560814686276353, -4.556607749360972, -4.552365848356533, -4.548088982374908, -4.543777150788081, -4.5394303532283, -4.53504858958827, -4.530631860021323, -4.5261801649415965, -4.521693505024195, -4.517171881205365, -4.51261529468266, -4.508023746915113, -4.503397239623391, -4.498735774789957, -4.494039354659233, -4.489307981737761, -4.484541658794352, -4.479740388860242, -4.4749041752292475, -4.470033021457907, -4.465126931365644, -4.460185909034894, -4.455209958811264, -4.450199085303668, -4.445153293384472, -4.440072588189625, -4.4349569751188005, -4.42980645983553, -4.424621048267341, -4.419400746605878, -4.414145561307034, -4.408855499091082, -4.403530566942802, -4.398170772111588, -4.39277612211159, -4.3873466247218165, -4.381882287986258, -4.376383120214007, -4.370849129979364, -4.365280326121947, -4.359676717746806, -4.3540383142245345, -4.348365125191362, -4.342657160549267, -4.336914430466072, -4.331136945375554, -4.325324715977528, -4.319477753237949, -4.313596068389007, -4.3076796729292175, -4.301728578623509, -4.295742797503309, -4.289722341866635, -4.283667224278177, -4.277577457569371, -4.27145305483849, -4.265294029450715, -4.259100395038207, -4.252872165500195, -4.24660935500303, -4.240311977980267, -4.233980049132722, -4.227613583428554, -4.221212596103311, -4.214777102659999, -4.208307118869142, -4.201802660768845, -4.195263744664836, -4.188690387130532, -4.182082605007082, -4.175440415403429, -4.168763835696339, -4.162052883530462, -4.155307576818367, -4.148527933740595, -4.14171397274568, -4.1348657125502015, -4.127983172138815, -4.121066370764284, -4.114115327947518, -4.107130063477594, -4.100110597411783, -4.093056950075583, -4.085969142062744, -4.078847194235276, -4.071691127723479, -4.064500963925956, -4.057276724509635, -4.050018431409773, -4.0427261068299725, -4.035399773242185, -4.028039453386732, -4.020645170272293, -4.013216947175919, -4.005754807643027, -3.9982587754874097, -3.9907288747912215, -3.983165129904976, -3.9755675654475424, -3.9679362063061303, -3.960271077636291, -3.952572204861887, -3.94483961367509, -3.9370733300363527, -3.9292733801744073, -3.921439790586221, -3.9135725880369896, -3.9056717995601007, -3.8977374524571227, -3.8897695742977536, -3.881768192919804, -3.8737333364291553, -3.865665033199738, -3.857563311873475, -3.849428201360251, -3.841259730837873, -3.833057929752024, -3.8248228278162153, -3.8165544550117376, -3.8082528415876133, -3.799918018060549, -3.791550015214871, -3.7831488641024755, -3.7747145960427675, -3.766247242622601, -3.7577468356962247, -3.749213407385203, -3.740646990078357, -3.7320476164316942, -3.7234153193683475, -3.7147501320784846, -3.706052088019245, -3.6973212209146578, -3.688557564755576, -3.679761153799575, -3.6709320225708812, -3.6620702058602843, -3.65317573872506, -3.6442486564888594, -3.6352889947416385, -3.626296789339549, -3.617272076404861, -3.6082148923258455, -3.599125273756687, -3.5900032576173797, -3.580848881093618, -3.5716621816367082, -3.5624431969634354, -3.5531919650559725, -3.5439085241617567, -3.534592912793392, -3.5252451697285125, -3.515865334009676, -3.50645344494424, -3.4970095421042493, -3.4875336653262945, -3.478025854711397, -3.468486150624875, -3.4589145936962273, -3.4493112248189775, -3.439676085150556, -3.430009216112153, -3.420310659388598, -3.4105804569281943, -3.400818650942592, -3.391025283906638, -3.3812003985582275, -3.371344037898167, -3.361456245190002, -3.3515370639598814, -3.3415865379963896, -3.3316047113504066, -3.321591628334928, -3.311547333524915, -3.301471871757125, -3.291365288129962, -3.2812276280032844, -3.271058936998251, -3.260859260997144, -3.2506286461432055, -3.240367138840442, -3.230074785753462, -3.2197516338072867, -3.209397730187184, -3.199013122338462, -3.188597857966295, -3.178151985035536, -3.1676755517705204, -3.1571686066548867, -3.1466311984313617, -3.13606337610158, -3.1254651889258764, -3.1148366864230987, -3.1041779183703855, -3.0934889348029757, -3.082769786013993, -3.0720205225542525, -3.061241195232028, -3.0504318551128544, -3.0395925535193036, -3.0287233420307835, -3.0178242724832964, -3.0068953969692327, -2.99593676783714, -2.984948437691513, -2.973930459392545, -2.962882886055911, -2.951805771052535, -2.9406991680083503, -2.9295631308040817, -2.918397713574985, -2.9072029707106206, -2.895978956854606, -2.8847257269043873, -2.873443336010969, -2.8621318395786846, -2.8507912932649373, -2.839421752979963, -2.8280232748865544, -2.816595915399821, -2.8051397311869226, -2.7936547791668245, -2.7821411165100147, -2.7705988006382527, -2.759027889224296, -2.7474284401916496, -2.7358005117142707, -2.724144162216314, -2.7124594503718518, -2.7007464351045942, -2.6890051755876287, -2.677235731243114, -2.665438161742015, -2.653612527003809, -2.6417588871962185, -2.6298773027348967, -2.617967834283152, -2.6060305427516517, -2.5940654892981403, -2.5820727353271202, -2.57005234248957, -2.5580043726826354, -2.545928888049343, -2.5338259509782737, -2.5216956241032684, -2.509537970303116, -2.4973530527012566, -2.4851409346654454, -2.472901679807456, -2.4606353519827566, -2.4483420152901916, -2.4360217340716757, -2.4236745729118465, -2.4113005966377568, -2.398899870318542, -2.386472459265105, -2.374018429029765, -2.361537845405938, -2.3490307744277965, -2.33649728236995, -2.3239374357470814, -2.3113513013136218, -2.298738946063403, -2.2861004372293277, -2.273435842283, -2.2607452289343932, -2.2480286651314896, -2.23528621905995, -2.2225179591427304, -2.209723954039742, -2.1969042726474948, -2.184058984098727, -2.1711881577620638, -2.1582918632416273, -2.145370170376688, -2.132423149241288, -2.1194508701438886, -2.106453403626973, -2.0934308204666907, -2.080383191672471, -2.0673105884866674, -2.054213082384146, -2.041090745071928, -2.0279436484887907, -2.0147718648049078, -2.0015754664214294, -1.9883545259701134, -1.9751091163129244, -1.9618393105416603, -1.9485451819775297, -1.9352268041707714, -1.9218842509002545, -1.9085175961730703, -1.8951269142241494, -1.8817122795158299, -1.8682737667374676, -1.8548114508050213, -1.8413254068606593, -1.8278157102723191, -1.8142824366333132, -1.8007256617619027, -1.7871454617008993, -1.7735419127172165, -1.7599150913014674, -1.7462650741675312, -1.7325919382521475, -1.7188957607144593, -1.705176618935604, -1.6914345905182724, -1.6776697532862945, -1.6638821852841763, -1.6500719647766826, -1.6362391702483923, -1.6223838804032547, -1.608506174164166, -1.5946061306724948, -1.580683829287657, -1.5667393495866584, -1.552772771363662, -1.5387841746295097, -1.524773639611287, -1.5107412467518582, -1.496687076709428, -1.4826112103570552, -1.4685137287822085, -1.4543947132862955, -1.4402542453842189, -1.4260924068038772, -1.4119092794857198, -1.3977049455822648, -1.3834794874576475, -1.3692329876871165, -1.3549655290565796, -1.3406771945621185, -1.3263680674095075, -1.3120382310137506, -1.297687768998569, -1.2833167651959376, -1.2689253036455868, -1.254513468594535, -1.2400813444965688, -1.2256290160117713, -1.211156568006017, -1.1966640855504982, -1.1821516539211963, -1.1676193585984034, -1.1530672852662112, -1.138495519812029, -1.1239041483260488, -1.1092932571007583, -1.094662932630425, -1.0800132616106044, -1.0653443309375998, -1.0506562277079687, -1.0359490392179973, -1.021222852963205, -1.0064777566377943, -0.9917138381341514, -0.9769311855423191, -0.962129887149468, -0.9473100314393911, -0.9324717070919464, -0.9176150029825474, -0.9027400081816229, -0.8878468119541056, -0.8729355037588655, -0.8580061732481958, -0.8430589102672645, -0.8280938048535963, -0.8131109472364996, -0.7981104278365448, -0.7830923372650096, -0.7680567663233538, -0.7530038060026397, -0.7379335474830034, -0.7228460821330932, -0.7077415015095382, -0.6926198973563608, -0.6774813616044424, -0.6623259863709602, -0.6471538639588214, -0.6319650868561234, -0.6167597477355594, -0.6015379394538741, -0.5862997550512874, -0.5710452877509471, -0.5557746309583274, -0.5404878782606791, -0.5251851234264455, -0.5098664604047097, -0.49453198332458564, -0.4791817864946618, -0.4638159644024108, -0.44843461171362997, -0.43303782327182605, -0.41762569409765204, -0.4021983193883108, -0.38675579451698855, -0.37129821503223337, -0.35582567665738557, -0.34033827528998023, -0.32483610700114723, -0.30931926803503745, -0.29378785480819275, -0.27824196390896866, -0.26268169209692316, -0.2471071363022363, -0.23151839362507395, -0.21591556133500395, -0.20029873687037872, -0.18466801783774864, -0.16902350201121918, -0.15336528733186125, -0.13769347190708717, -0.12200815401005806, -0.1063094320790345, -0.09059740471678086, -0.07487217068993499, -0.059133828928409495, -0.04338247852473615, -0.027618218733464112, -0.011841148970528991, 0.003948631187379691, 0.019751022003424674, 0.03556592358128441, 0.05139323586576226, 0.06723285864343069, 0.0830846915432434, 0.09894863403720486, 0.11482458544098557, 0.1307124449145721, 0.1466121114628853, 0.16252348393645583, 0.1784464610320452, 0.19438094129330202, 0.2103268231113857, 0.22628400472564836, 0.24225238422426132, 0.25823185954487754, 0.2742223284752609, 0.29022368865397413, 0.30623583757101114, 0.32225867256845925, 0.33829209084116313, 0.3543359894373612, 0.37039026525938096, 0.3864548150642782, 0.4025295354645124, 0.4186143229285891, 0.43470907378176044, 0.45081368420667045, 0.466928050244036, 0.48305206779329446, 0.49918563261331034, 0.5153286403230258, 0.5314809864021474, 0.5476425661917992, 0.5638132748952348, 0.5799930075784938, 0.5961816591710938, 0.6123791244666886, 0.6285852981237866, 0.644800074666412, 0.6610233484847963, 0.6772550138360716, 0.693494964844936, 0.7097430955043782, 0.7259992996763454, 0.7422634710924476, 0.7585355033546287, 0.7748152899358959, 0.7911027241809933, 0.8073976993071112, 0.823700108404563, 0.8400098444375187, 0.8563268002446849, 0.8726508685400188, 0.8889819419134102, 0.9053199128314203, 0.921664673637967, 0.9380161165550438, 0.9543741336834062, 0.9707386170033173, 0.987109458375237, 1.0034865495405398, 1.0198697821222367, 1.0362590476256663, 1.052654237439247, 1.069055242835173, 1.0854619549701434, 1.101874264886062, 1.1182920635107914, 1.134715241658855, 1.1511436900321723, 1.1675772992207605, 1.184015959703497, 1.2004595618488232, 1.2169079959154867, 1.2333611520532461, 1.2498189203036403, 1.2662811906006948, 1.2827478527716691, 1.2992187965377686, 1.3156939115149147, 1.3321730872144586, 1.3486562130439277, 1.365143178307768, 1.3816338722080646, 1.3981281838453166, 1.4146260022191577, 1.4311272162291109, 1.4476317146753128, 1.4641393862592929, 1.4806501195846984, 1.497163803158055, 1.5136803253894933, 1.5301995745935333, 1.5467214389898158, 1.5632458067038637, 1.5797725657678157, 1.596301604121215, 1.6128328096117426, 1.629366069995986, 1.6459012729401759, 1.6624383060209775, 1.6789770567262317, 1.6955174124557186, 1.7120592605219287, 1.728602488150803, 1.7451469824825312, 1.7616926305722946, 1.7782393193910462, 1.7947869358262525, 1.8113353666827, 1.8278844986832388, 1.8444342184695675, 1.8609844126029809, 1.8775349675651767, 1.894085769759008, 1.910636705509268, 1.9271876610634426, 1.9437385225925232, 1.9602891761917602, 1.9768395078814531, 1.9933894036077073, 2.00993874924325, 2.0264874305881864, 2.0430353333707902, 2.059582343248293, 2.0761283458076423, 2.0926732265663244, 2.109216870973126, 2.1257591644089353, 2.1422999921875014, 2.158839239556264, 2.175376791697116, 2.1919125337272067, 2.2084463506997114, 2.2249781276046567, 2.2415077493696924, 2.2580351008608948, 2.2745600668835415, 2.29108253218294, 2.307602381445202, 2.324119499298051, 2.340633770311602, 2.35714507899919, 2.3736533098181494, 2.3901583471706216, 2.4066600754043614, 2.4231583788135165, 2.4396531416394653, 2.4561442480715985, 2.472631582248135, 2.4891150282569057, 2.5055944701361934, 2.5220697918755173, 2.5385408774164535, 2.555007610653419, 2.5714698754345195, 2.587927555562331, 2.6043805347947284, 2.6208286968456695, 2.637271925386047, 2.653710104044474, 2.670143116408113, 2.686570846023466, 2.7029931763972255, 2.7194099909970673, 2.7358211732524724, 2.7522266065555527, 2.7686261742618443, 2.785019759691161, 2.801407246128393, 2.817788516824337, 2.834163454996494, 2.8505319438299286, 2.8668938664780645, 2.883249106063521, 2.8995975456789136, 2.915939068387714, 2.93227355722505, 2.948600895198543, 2.9649209652891138, 2.9812336504518404, 2.997538833616765, 3.013836397689733, 3.0301262255531984, 3.0464082000670873, 3.0626822040696076, 3.0789481203780795, 3.0952058317897793, 3.1114552210827435, 3.1276961710166358, 3.143928564333559, 3.1601522837588987, 3.1763672120021336, 3.192573231757706, 3.2087702257058326, 3.224958076513351, 3.241136666834536, 3.2573058793119656, 3.2734655965773403, 3.2896157012523277, 3.305756075949382, 3.321886603272613, 3.3380071658186057, 3.354117646177268, 3.3702179269326527, 3.3863078906638258, 3.4023874199456907, 3.4184563973498383, 3.4345147054453675, 3.450562226799758, 3.466598843979697, 3.4826244395519224, 3.498638896084074, 3.514642096145517, 3.530633922308218, 3.546614257147569, 3.562582983243242, 3.5785399831800144, 3.594485139548649, 3.610418334946716, 3.6263394519794545, 3.642248373260595, 3.6581449814132396, 3.674029159070692, 3.6899007888773143, 3.7057597534893523, 3.7216059355758224, 3.737439217819334, 3.753259482916952, 3.7690666135810296, 3.7848604925400844, 3.8006410025396327, 3.816408026343042, 3.832161446732394, 3.8479011465093067, 3.863627008495826, 3.879338915535253, 3.8950367504930083, 3.910720396257461, 3.92638973574082, 3.942044651879959, 3.957685027637287, 3.973310746001575, 3.9889216899888473, 4.004517742643214, 4.020098787037734, 4.035664706275247, 4.051215383489268, 4.066750701844813, 4.082270544539271, 4.097774794803238, 4.113263335901396, 4.128736051133366, 4.144192823834551, 4.159633537377009, 4.175058075170282, 4.190466320662294, 4.205858157340175, 4.221233468731137, 4.236592138403308, 4.2519340499666205, 4.267259087073648, 4.282567133420476, 4.297858072747532, 4.313131788840486, 4.3283881655310745, 4.343627086697981, 4.3588484362676665, 4.3740520982152615, 4.389237956565402, 4.4044058953931, 4.419555798824582, 4.434687551038179, 4.44980103626516, 4.464896138790602, 4.47997274295425, 4.495030733151358, 4.510069993833578, 4.5250904095097955, 4.540091864747004, 4.5550742441711405, 4.570037432467974, 4.584981314383946, 4.599905774727044, 4.614810698367626, 4.6296959702393305, 4.644561475339896, 4.659407098732045, 4.674232725544311, 4.689038240971935, 4.703823530277702, 4.718588478792811, 4.733332971917713, 4.748056895122996, 4.7627601339502315, 4.77744257401283, 4.79210410099691, 4.806744600662134, 4.821363958842597, 4.835962061447668, 4.850538794462848, 4.865094043950622, 4.879627696051337, 4.8941396369840415, 4.908629753047356, 4.923097930620309, 4.937544056163222, 4.951968016218548, 4.966369697411742, 4.980748986452093, 4.99510577013361, 5.009439935335868, 5.02375136902486, 5.038039958253846, 5.052305590164228, 5.066548151986395, 5.080767531040578, 5.094963614737714, 5.109136290580274, 5.123285446163158, 5.137410969174522, 5.151512747396643, 5.165590668706759, 5.179644621077945, 5.1936744925799525, 5.20768017138007, 5.221661545743957, 5.235618504036525, 5.249550934722774, 5.263458726368651, 5.277341767641883, 5.291199947312861, 5.305033154255464, 5.318841277447931, 5.332624205973684, 5.346381829022208, 5.360114035889886, 5.373820715980849, 5.387501758807834, 5.4011570539930105, 5.414786491268857, 5.428389960478998, 5.441967351579049, 5.455518554637458, 5.469043459836371, 5.482541957472463, 5.496013937957798, 5.509459291820649, 5.522877909706375, 5.5362696823782525, 5.549634500718318, 5.5629722557282015, 5.576282838530002, 5.589566140367101, 5.602822052605022, 5.616050466732259, 5.62925127436113, 5.642424367228621, 5.655569637197214, 5.668686976255743, 5.681776276520211, 5.69483743023466, 5.707870329771986, 5.720874867634795, 5.733850936456216, 5.746798429000771, 5.759717238165189, 5.772607256979255, 5.785468378606626, 5.798300496345695, 5.811103503630411, 5.823877294031113, 5.836621761255351, 5.8493367991487535, 5.862022301695828, 5.874678163020814, 5.887304277388489, 5.89990053920503, 5.912466843018826, 5.925003083521309, 5.937509155547792, 5.949984954078275, 5.962430374238303, 5.974845311299774, 5.987229660681774, 5.9995833179513856, 6.0119061788245425, 6.02419813916683, 6.036459094994326, 6.048688942474397, 6.0608875779265565, 6.073054897823264, 6.085190798790756, 6.097295177609851, 6.109367931216791, 6.121408956704046, 6.133418151321144, 6.145395412475467, 6.157340637733095, 6.169253724819606, 6.181134571620895, 6.192983076183992, 6.204799136717864, 6.216582651594244, 6.228333519348438, 6.2400516386801375, 6.251736908454216, 6.2633892277015635, 6.275008495619882, 6.286594611574497, 6.298147475099154, 6.3096669858968495, 6.321153043840617, 6.332605548974345, 6.344024401513561, 6.355409501846266, 6.366760750533712, 6.37807804831122, 6.389361296088963, 6.400610394952789, 6.411825246165003, 6.423005751165175, 6.434151811570937, 6.445263329178764, 6.456340205964798, 6.467382344085623, 6.478389645879068, 6.4893620138649855, 6.500299350746069, 6.511201559408623, 6.522068542923368, 6.53290020454621, 6.543696447719055, 6.5544571760705805, 6.56518229341703, 6.5758717037629815, 6.586525311302159, 6.597143020418198, 6.60772473568544, 6.618270361869693, 6.628779803929041, 6.639252967014605, 6.649689756471336, 6.660090077838766, 6.670453836851819, 6.680780939441568, 6.6910712917360105, 6.701324800060852, 6.71154137094026, 6.721720911097659, 6.731863327456486, 6.741968527140967, 6.752036417476878, 6.762066905992323, 6.772059900418494, 6.782015308690442, 6.7919330389478265, 6.8018129995357, 6.811655099005259, 6.821459246114606, 6.8312253498295, 6.840953319324139, 6.850643063981899, 6.860294493396096, 6.869907517370736, 6.879482045921281, 6.889017989275397, 6.8985152578737, 6.907973762370521, 6.917393413634631, 6.9267741227500235, 6.936115801016636, 6.945418359951107, 6.954681711287513, 6.963905766978125, 6.973090439194144, 6.9822356403264445, 6.991341282986305, 7.000407280006164, 7.009433544440349, 7.0184199895658175, 7.027366528882875, 7.036273076115938, 7.045139545214246, 7.053965850352606, 7.062751905932103, 7.0714976265808565, 7.08020292715473, 7.088867722738063, 7.0974919286444, 7.106075460417202, 7.114618233830586, 7.123120164890039, 7.1315811698331375, 7.140001165130262, 7.148380067485328, 7.156717793836492, 7.165014261356871, 7.173269387455247, 7.181483089776796, 7.189655286203785, 7.197785894856293, 7.2058748340929, 7.213922022511422, 7.2219273789495935, 7.229890822485786, 7.2378122724396965, 7.245691648373066, 7.25352887009037, 7.261323857639516, 7.269076531312549, 7.276786811646333, 7.284454619423265, 7.292079875671953, 7.2996625016679175, 7.307202418934268, 7.314699549242411, 7.322153814612722, 7.329565137315244, 7.3369334398703545, 7.344258645049469, 7.351540675875712, 7.358779455624597, 7.365974907824704, 7.373126956258364, 7.380235524962332, 7.387300538228458, 7.394321920604358, 7.401299596894095, 7.408233492158842, 7.415123531717549, 7.4219696411476175, 7.428771746285553, 7.435529773227643, 7.442243648330612, 7.448913298212284, 7.455538649752235, 7.462119630092464, 7.468656166638039, 7.475148187057756, 7.481595619284785, 7.487998391517333, 7.494356432219287, 7.500669670120864, 7.50693803421925, 7.513161453779261, 7.5193398583339714, 7.525473177685371, 7.531561341904984, 7.537604281334532, 7.543601926586552, 7.549554208545045, 7.555461058366103, 7.56132240747854, 7.567138187584527, 7.572908330660224, 7.578632768956397, 7.5843114349990515, 7.589944261590055, 7.595531181807761, 7.601072129007627, 7.606567036822831, 7.612015839164897, 7.6174184702243055, 7.622774864471109, 7.628084956655538, 7.633348681808624, 7.638565975242798, 7.643736772552506, 7.648861009614804, 7.653938622589971, 7.6589695479221085, 7.663953722339741, 7.6688910828564145, 7.673781566771288, 7.678625111669739, 7.683421655423951, 7.688171136193506, 7.692873492425971, 7.697528662857493, 7.702136586513381, 7.706697202708694, 7.7112104510488155, 7.715676271430046, 7.720094604040174, 7.724465389359059, 7.7287885681592, 7.733064081506319, 7.7372918707599245, 7.74147187757389, 7.745604043897011, 7.749688311973582, 7.7537246243439615, 7.7577129238451255, 7.76165315361124, 7.765545257074209, 7.769389177964244, 7.7731848603104075, 7.776932248441179, 7.780631286984996, 7.784281920870812, 7.787884095328639, 7.791437755890102, 7.794942848388969, 7.7983993189617085, 7.801807114048025, 7.805166180391395, 7.808476465039604, 7.811737915345286, 7.814950478966454, 7.818114103867032, 7.821228738317379, 7.824294330894826, 7.827310830484194, 7.830278186278321, 7.833196347778581, 7.836065264795404, 7.838884887448796, 7.841655166168858, 7.844376051696286, 7.8470474950829, 7.849669447692141, 7.852241861199587, 7.854764687593456, 7.857237879175107, 7.859661388559547, 7.86203516867593, 7.864359172768051, 7.866633354394845, 7.868857667430886, 7.871032066066868, 7.873156504810105, 7.875230938485012, 7.877255322233596, 7.879229611515941, 7.881153762110681, 7.883027730115491, 7.884851471947559, 7.88662494434406, 7.888348104362637, 7.890020909381869, 7.891643317101734, 7.893215285544091, 7.894736773053132, 7.896207738295855, 7.897628140262519, 7.89899793826711, 7.90031709194779, 7.901585561267362, 7.902803306513715, 7.903970288300282, 7.90508646756648, 7.906151805578166, 7.90716626392808, 7.9081298045362844, 7.9090423896506055, 7.909903981847075, 7.910714544030363, 7.911474039434213, 7.912182431621879, 7.9128396844865465, 7.9134457622517695, 7.914000629471889, 7.914504251032462, 7.914956592150682, 7.915357618375795, 7.91570729558952, 7.916005590006463, 7.916252468174532, 7.916447896975344, 7.916591843624635, 7.916684275672671, 7.916725161004645, 7.91671446784108, 7.916652164738239, 7.916538220588508, 7.916372604620803, 7.916155286400957, 7.915886235832111, 7.91556542315511, 7.915192818948883, 7.914768394130827, 7.914292119957197, 7.913763968023474, 7.913183910264756, 7.912551918956124, 7.911867966713021, 7.911132026491622, 7.910344071589198, 7.909504075644491, 7.908612012638075, 7.907667856892715, 7.906671583073732, 7.905623166189359, 7.9045225815910936, 7.9033698049740595, 7.902164812377344, 7.900907580184363, 7.899598085123195, 7.89823630426693, 7.896822215034013, 7.8953557951885776, 7.893837022840795, 7.892265876447193, 7.890642334811004, 7.888966377082487, 7.887237982759259, 7.885457131686617, 7.883623804057868, 7.881737980414645, 7.879799641647229, 7.877808768994865, 7.875765344046075, 7.87366934873897, 7.871520765361567, 7.8693195765520825, 7.8670657652992535, 7.864759314942624, 7.86240020917286, 7.859988432032044, 7.857523967913959, 7.855006801564401, 7.852436918081452, 7.849814302915784, 7.847138941870938, 7.844410821103604, 7.841629927123909, 7.838796246795701, 7.835909767336809, 7.832970476319341, 7.829978361669928, 7.826933411670025, 7.823835614956153, 7.820684960520177, 7.817481437709567, 7.8142250362276595, 7.810915746133904, 7.8075535578441375, 7.804138462130822, 7.800670450123302, 7.79714951330806, 7.793575643528941, 7.789948832987422, 7.786269074242831, 7.782536360212602, 7.7787506841725085, 7.774912039756882, 7.771020420958864, 7.76707582213063, 7.763078237983603, 7.759027663588697, 7.754924094376521, 7.750767526137613, 7.746557955022653, 7.742295377542665, 7.7379797905692485, 7.733611191334781, 7.729189577432612, 7.724714946817293, 7.720187297804753, 7.715606629072523, 7.710972939659919, 7.70628622896823, 7.701546496760935, 7.696753743163866, 7.691907968665415, 7.687009174116716, 7.68205736073181, 7.677052530087852, 7.671994684125273, 7.66688382514795, 7.661719955823401, 7.656503079182923, 7.651233198621794, 7.6459103178994186, 7.640534441139483, 7.63510557283014, 7.629623717824154, 7.624088881339042, 7.618501068957259, 7.61286028662631, 7.607166540658934, 7.60141983773323, 7.595620184892795, 7.589767589546883, 7.583862059470521, 7.577903602804663, 7.571892228056322, 7.565827944098674, 7.5597107601712255, 7.553540685879912, 7.547317731197221, 7.541041906462332, 7.534713222381205, 7.528331690026726, 7.521897320838806, 7.5154101266244755, 7.508870119558023, 7.502277312181084, 7.495631717402729, 7.4889333484996, 7.4821822191159635, 7.4753783432638485, 7.468521735323115, 7.461612410041535, 7.454650382534911, 7.447635668287124, 7.4405682831502515, 7.433448243344624, 7.426275565458899, 7.419050266450156, 7.411772363643959, 7.40444187473441, 7.397058817784248, 7.389623211224875, 7.382135073856457, 7.3745944248479605, 7.367001283737202, 7.359355670430925, 7.351657605204842, 7.3439071087036645, 7.336104201941188, 7.328248906300293, 7.320341243533024, 7.312381235760609, 7.304368905473485, 7.296304275531363, 7.288187369163224, 7.280018209967375, 7.271796821911468, 7.2635232293325, 7.255197456936869, 7.246819529800378, 7.238389473368231, 7.229907313455083, 7.221373076245012, 7.212786788291558, 7.2041484765177195, 7.19545816821593, 7.186715891048102, 7.1779216730455975, 7.169075542609213, 7.160177528509206, 7.1512276598852464, 7.142225966246434, 7.133172477471274, 7.124067223807636, 7.1149102358727685, 7.105701544653264, 7.096441181505005, 7.087129178153189, 7.077765566692235, 7.068350379585806, 7.058883649666749, 7.049365410137028, 7.0397956945677445, 7.030174536899027, 7.020501971440036, 7.010778032868895, 7.001002756232617, 6.991176176947086, 6.981298330796989, 6.971369253935728, 6.961388982885407, 6.951357554536715, 6.941275006148902, 6.931141375349689, 6.920956700135176, 6.9107210188698085, 6.900434370286274, 6.890096793485406, 6.879708327936145, 6.869269013475397, 6.858778890307998, 6.848237999006596, 6.837646380511539, 6.8270040761308275, 6.816311127539959, 6.805567576781874, 6.794773466266832, 6.783928838772283, 6.7730337374428, 6.762088205789946, 6.751092287692136, 6.740046027394571, 6.728949469509059, 6.717802659013948, 6.706605641253971, 6.6953584619401, 6.684061167149459, 6.672713803325173, 6.661316417276198, 6.649869056177246, 6.6383717675685805, 6.626824599355927, 6.615227599810296, 6.603580817567821, 6.5918843016296575, 6.580138101361762, 6.568342266494797, 6.5564968471239435, 6.544601893708715, 6.532657457072842, 6.520663588404082, 6.508620339254017, 6.496527761537956, 6.484385907534669, 6.4721948298862895, 6.459954581598096, 6.447665216038306, 6.435326786937946, 6.422939348390631, 6.410502954852354, 6.398017661141345, 6.38548352243781, 6.372900594283798, 6.360268932582963, 6.3475885936003404, 6.334859633962202, 6.322082110655768, 6.309256081029068, 6.296381602790697, 6.283458734009564, 6.270487533114731, 6.25746805889517, 6.244400370499497, 6.23128452743582, 6.218120589571428, 6.204908617132628, 6.191648670704476, 6.178340811230515, 6.164985100012592, 6.15158159871058, 6.138130369342108, 6.124631474282379, 6.11108497626384, 6.097490938375999, 6.083849424065135, 6.070160497134013, 6.056424221741691, 6.0426406624031745, 6.02880988398922, 6.014931951726037, 6.001006931194985, 5.987034888332357, 5.973015889429075, 5.958950001130376, 5.944837290435609, 5.930677824697856, 5.916471671623723, 5.902218899273022, 5.887919576058439, 5.873573770745308, 5.859181552451274, 5.844742990645969, 5.830258155150778, 5.815727116138446, 5.8011499441328525, 5.786526710008657, 5.771857484990962, 5.757142340655068, 5.742381348926068, 5.727574582078607, 5.712722112736516, 5.697824013872464, 5.682880358807682, 5.667891221211608, 5.652856675101518, 5.63777679484226, 5.622651655145836, 5.607481331071127, 5.5922658980235225, 5.577005431754537, 5.561700008361527, 5.546349704287307, 5.530954596319756, 5.515514761591544, 5.500030277579682, 5.48450122210523, 5.46892767333291, 5.453309709770695, 5.437647410269521, 5.421940854022822, 5.40619012056624, 5.390395289777202, 5.374556441874517, 5.358673657418049, 5.342747017308311, 5.3267766027860315, 5.310762495431844, 5.294704777165812, 5.2786035302471, 5.262458837273553, 5.246270781181253, 5.230039445244183, 5.213764913073798, 5.197447268618568, 5.181086596163655, 5.164682980330405, 5.1482365060760165, 5.1317472586930775, 5.115215323809124, 5.09864078738628, 5.082023735720755, 5.065364255442485, 5.0486624335146715, 5.031918357233311, 5.0151321142268275, 4.998303792455603, 4.981433480211496, 4.964521266117483, 4.947567239127114, 4.930571488524152, 4.913534103922081, 4.896455175263617, 4.879334792820328, 4.862173047192132, 4.844970029306807, 4.827725830419602, 4.8104405421126835, 4.793114256294746, 4.775747065200507, 4.758339061390192, 4.740890337749149, 4.723400987487269, 4.70587110413859, 4.68830078156078, 4.670690113934608, 4.653039195763533, 4.635348121873178, 4.617616987410794, 4.599845887844853, 4.582034918964449, 4.564184176878891, 4.546293758017148, 4.528363759127322, 4.5103942772762, 4.492385409848717, 4.474337254547398, 4.456249909391932, 4.438123472718556, 4.419958043179618, 4.401753719743022, 4.383510601691656, 4.365228788622961, 4.346908380448297, 4.328549477392494, 4.31015217999329, 4.291716589100741, 4.273242805876769, 4.254730931794574, 4.236181068638059, 4.217593318501361, 4.198967783788209, 4.180304567211457, 4.161603771792492, 4.142865500860639, 4.124089858052677, 4.105276947312243, 4.086426872889224, 4.067539739339288, 4.0486156515232015, 4.02965471460636, 4.01065703405817, 3.991622715651432, 3.9725518654618606, 3.9534445898673924, 3.9343009955476984, 3.915121189483559, 3.895905278956234, 3.876653371546958, 3.857365575136302, 3.83804199790354, 3.818682748326149, 3.799287935179099, 3.7798576675343467, 3.7603920547601914, 3.7408912065206255, 3.7213552327748105, 3.701784243776424, 3.682178350073003, 3.6625376625054296, 3.6428622922071954, 3.6231523506038865, 3.6034079494125115, 3.58362920064084, 3.5638162165868716, 3.5439691098380925, 3.524087993270945, 3.50417298005015, 3.484224183628028, 3.4642417177439446, 3.4442256964236297, 3.4241762339784882, 3.4040934450050577, 3.383977444384243, 3.3638283472807706, 3.3436462691424875, 3.3234313256996706, 3.3031836329644504, 3.2829033072301117, 3.262590465070389, 3.242245223338903, 3.2218676991683797, 3.201458009970085, 3.181016273433107, 3.1605426075236456, 3.1400371304844357, 3.1194999608339558, 3.0989312173658488, 3.0783310191481994, 3.0576994855228055, 3.03703673610458, 3.0163428907808196, 2.995618069710471, 2.97486239332354, 2.9540759823202802, 2.9332589576706005, 2.912411440613321, 2.8915335526554253, 2.8706254155714523, 2.8496871514027386, 2.828718882456674, 2.8077207313060883, 2.7866928207884274, 2.76563527400514, 2.7445482143209157, 2.7234317653629248, 2.7022860510202014, 2.6811111954427993, 2.659907323041175, 2.638674558485415, 2.6174130267044613, 2.596122852885469, 2.5748041624730327, 2.5534570811684, 2.5320817349288447, 2.5106782499668037, 2.4892467527492426, 2.4677873699968655, 2.446300228683325, 2.4247854560345647, 2.403243179528023, 2.3816735268918365, 2.360076626104193, 2.3384526053924524, 2.316801593232495, 2.295123718347917, 2.273419109709219, 2.251687896533155, 2.2299302082818353, 2.2081461746620734, 2.186335925624563, 2.1644995913630636, 2.142637302313716, 2.1207491891542207, 2.098835382803013, 2.0768960144185904, 2.0549312153986046, 2.0329411173791883, 2.0109258522341205, 1.988885552073991, 1.9668203492455036, 1.9447303763306376, 1.9226157661458048, 1.9004766517411638, 1.8783131663996955, 1.856125443636513, 1.8339136171980117, 1.8116778210610178, 1.7894181894320924, 1.7671348567465968, 1.7448279576679935, 1.7224976270869854, 1.7001440001206558, 1.6777672121117466, 1.6553673986277933, 1.632944695460256, 1.610499238623811, 1.5880311643553995, 1.5655406091135124, 1.5430277095773155, 1.5204926026457732, 1.4979354254369122, 1.4753563152869404, 1.452755409749365, 1.4301328465942658, 1.4074887638073306, 1.3848232995891254, 1.3621365923542041, 1.3394287807302165, 1.3167000035571739, 1.2939503998864736, 1.2711801089801604, 1.248389270310028, 1.225578023556716, 1.2027465086089526, 1.179894865562648, 1.157023234719988, 1.134131756588686, 1.1112205718809907, 1.0882898215129357, 1.0653396466034253, 1.0423701884733167, 1.0193815886446487, 0.9963739888397213, 0.9733475309801739, 0.9503023571862239, 0.9272386097756603, 0.9041564312630787, 0.881055964358953, 0.8579373519687037, 0.8348007371919289, 0.8116462633213887, 0.7884740738422312, 0.7652843124310567, 0.7420771229549756, 0.7188526494708165, 0.6956110362241819, 0.6723524276485039, 0.6490769683642613, 0.62578480317795, 0.6024760770812966, 0.5791509352503068, 0.5558095230443122, 0.5324519860051636, 0.5090784698562738, 0.4856891205016594, 0.46228408402514565, 0.4388635066893218, 0.41542753493474327, 0.3919763153789664, 0.36850999481558117, 0.34502872021340913, 0.32153263871544974, 0.29802189763807474, 0.27449664447005506, 0.2509570268715852, 0.22740319267345663, 0.20383528987607943, 0.1802534666485023, 0.15665787132759787, 0.13304865241699607, 0.10942595858626639, 0.08578993866993163, 0.06214074166648003, 0.03847851673752628, 0.014803413206820578, -0.00888441944074387, -0.03258483155995759, -0.056297673346374116, -0.08002279483713966, -0.10376004591199167, -0.12750927629425912, -0.1512703355516964, -0.17504307309757045, -0.19882733819149762, -0.22262297994044974, -0.246429847299762, -0.27024778907399066, -0.29407665391792387, -0.3179162903375936, -0.34176654669112116, -0.36562727118981614, -0.38949831189902495, -0.413379516739148, -0.43727073348665996, -0.4611718097749782, -0.4850825930954852, -0.5090029307985522, -0.5329326700943957, -0.556871658054188, -0.5808197416109163, -0.6047767675604121, -0.6287425825623819, -0.6527170331412694, -0.6766999656873748, -0.7006912264577193, -0.7246906615770818, -0.748698117039036, -0.7727134387068372, -0.7967364723144621, -0.8207670634676507, -0.8448050576447796, -0.8688503001979908, -0.8929026363540671, -0.9169619112154798, -0.9410279697614367, -0.9651006568487777, -0.9891798172130266, -1.0132652954694428, -1.037356936113904, -1.0614545835240465, -1.0855580819601505, -1.1096672755661976, -1.1337820083709282, -1.1579021242887317, -1.1820274671207924, -1.2061578805559805, -1.2302932081719162, -1.254433293436033, -1.2785779797064913, -1.3027271102332447, -1.3268805281591076, -1.3510380765206549, -1.375199598249376, -1.3993649361725784, -1.4235339330144579, -1.447706431397174, -1.471882273841771, -1.496061302769254, -1.5202433605016668, -1.5444282892629986, -1.5686159311803503, -1.5928061282848438, -1.616998722512703, -1.6411935557063386, -1.66539046961526, -1.6895893058972453, -1.7137899061192587, -1.7379921117585357, -1.7621957642036723, -1.7864007047555608, -1.8106067746284797, -1.834813814951186, -1.8590216667678356, -1.8832301710391632, -1.907439168643407, -1.9316485003774007, -1.955858006957675, -1.980067529021397, -2.0042769071274718, -2.028485981757641, -2.0526945933174114, -2.076902582137244, -2.1011097884734844, -2.125316052509466, -2.1495212143566143, -2.173725114055401, -2.1979275915764465, -2.22212848682163, -2.246327639625025, -2.2705248897540957, -2.2947200769106346, -2.3189130407318728, -2.343103620791594, -2.367291656601075, -2.391476987610285, -2.415659453208829, -2.4398388927270616, -2.4640151454372075, -2.48818805055432, -2.512357447237402, -2.536523174590522, -2.560685071663767, -2.5848429774544432, -2.6089967309080313, -2.633146170919304, -2.657291136333452, -2.681431465947053, -2.705566998509195, -2.729697572722604, -2.7538230272445956, -2.777943200688292, -2.8020579316235716, -2.8261670585782057, -2.850270420038982, -2.874367854452663, -2.898459200227206, -2.922544295732721, -2.9466229793026004, -2.9706950892346584, -2.9947604637921033, -3.018818941204676, -3.042870359669781, -3.066914557353457, -3.090951372391593, -3.1149806428908953, -3.139002206930027, -3.163015902560744, -3.1870215678088822, -3.2110190406754935, -3.23500815913799, -3.2589887611511097, -3.2829606846481463, -3.306923767541919, -3.3308778477259153, -3.354822763075433, -3.378758351448555, -3.4026844506873775, -3.4266008986189838, -3.4505075330565913, -3.4744041918006956, -3.498290712640066, -3.5221669333528873, -3.5460326917079144, -3.5698878254654427, -3.5937321723785494, -3.617565570194064, -3.641387856653724, -3.665198869495322, -3.6889984464537053, -3.712786425261923, -3.7365626436523818, -3.7603269393578245, -3.7840791501125692, -3.807819113653491, -3.8315466677211774, -3.8552616500610775, -3.878963898424492, -3.9026532505698057, -3.9263295442634814, -3.9499926172812065, -3.973642307409054, -3.9972784524444838, -4.0209008901975, -4.044509458491807, -4.0681039951657985, -4.091684338073797, -4.115250325087046, -4.138801794094865, -4.162338583005811, -4.18586052974868, -4.209367472273672, -4.232859248553549, -4.25633569658462, -4.2797966543879955, -4.3032419600105705, -4.32667145152619, -4.350084967036804, -4.37348234467347, -4.396863422597589, -4.420228039001901, -4.443576032111651, -4.466907240185746, -4.490221501517769, -4.5135186544371395, -4.536798537310276, -4.560060988541596, -4.583305846574754, -4.6065329498936425, -4.629742137023557, -4.652933246532354, -4.676106117031469, -4.699260587177078, -4.72239649567126, -4.745513681262998, -4.768611982749422, -4.791691238976809, -4.814751288841749, -4.837791971292303, -4.86081312532901, -4.883814590006127, -4.906796204432632, -4.9297578077733855, -4.9526992392502995, -4.975620338143348, -4.9985209437917355, -5.021400895595061, -5.044260033014314, -5.06709819557313, -5.089915222858781, -5.112710954523346, -5.135485230284873, -5.158237889928399, -5.1809687733071135, -5.203677720343519, -5.226364571030436, -5.2490291654322485, -5.271671343685906, -5.294290946002084, -5.316887812666353, -5.339461784040175, -5.362012700562152, -5.384540402749029, -5.4070447311968515, -5.429525526582134, -5.451982629662879, -5.474415881279736, -5.4968251223571665, -5.5192101939044464, -5.541570937016909, -5.563907192876944, -5.586218802755169, -5.608505608011578, -5.6307674500965685, -5.653004170552105, -5.675215611012873, -5.697401613207284, -5.719562018958721, -5.7416966701865295, -5.763805408907194, -5.785888077235479, -5.807944517385448, -5.829974571671691, -5.851978082510333, -5.873954892420186, -5.8959048440239155, -5.917827780049052, -5.939723543329154, -5.961591976804959, -5.983432923525392, -6.005246226648795, -6.027031729443933, -6.048789275291146, -6.0705187076835045, -6.092219870227833, -6.113892606645856, -6.135536760775357, -6.157152176571181, -6.178738698106459, -6.200296169573617, -6.221824435285521, -6.243323339676632, -6.264792727304008, -6.286232442848528, -6.307642331115895, -6.329022237037785, -6.3503720056729955, -6.371691482208464, -6.392980511960409, -6.414238940375489, -6.4354666130317915, -6.456663375640064, -6.477829074044703, -6.498963554224904, -6.520066662295812, -6.541138244509527, -6.562178147256252, -6.583186217065433, -6.604162300606764, -6.625106244691394, -6.6460178962729275, -6.666897102448566, -6.687743710460251, -6.708557567695652, -6.729338521689386, -6.750086420124011, -6.770801110831159, -6.79148244179268, -6.812130261141647, -6.832744417163494, -6.853324758297147, -6.873871133136024, -6.894383390429236, -6.914861379082578, -6.935304948159661, -6.955713946883052, -6.9760882246352685, -6.996427630959915, -7.01673201556281, -7.03700122831298, -7.057235119243851, -7.077433538554245, -7.097596336609496, -7.117723363942589, -7.137814471255137, -7.157869509418577, -7.177888329475159, -7.197870782639068, -7.217816720297543, -7.237725994011876, -7.257598455518534, -7.277433956730282, -7.297232349737157, -7.316993486807663, -7.336717220389742, -7.356403403111903, -7.37605188778433, -7.395662527399873, -7.415235175135164, -7.434769684351736, -7.454265908596992, -7.473723701605383, -7.4931429172993935, -7.51252340979064, -7.5318650333809885, -7.551167642563518, -7.570431092023705, -7.589655236640389, -7.6088399314868775, -7.627985031832054, -7.647090393141358, -7.666155871077885, -7.685181321503492, -7.704166600479762, -7.723111564269173, -7.742016069336057, -7.760879972347704, -7.779703130175453, -7.798485399895676, -7.81722663879086, -7.835926704350712, -7.854585454273112, -7.873202746465274, -7.891778439044701, -7.91031239034028, -7.928804458893365, -7.94725450345873, -7.965662383005729, -7.984027956719246, -8.002351084000773, -8.020631624469505, -8.038869437963294, -8.057064384539729, -8.075216324477221, -8.093325118275954, -8.111390626659016, -8.129412710573355, -8.147391231190849, -8.165326049909378, -8.183217028353788, -8.201064028376955, -8.218866912060857, -8.236625541717517, -8.25433977989013, -8.272009489354001, -8.289634533117624, -8.307214774423723, -8.324750076750208, -8.342240303811284, -8.359685319558402, -8.377084988181297, -8.394439174109065, -8.411747742011089, -8.429010556798113, -8.446227483623275, -8.463398387883048, -8.480523135218352, -8.497601591515473, -8.51463362290712, -8.531619095773461, -8.54855787674307, -8.56544983269396, -8.582294830754634, -8.599092738304998, -8.615843422977466, -8.632546752657877, -8.649202595486527, -8.665810819859212, -8.682371294428135, -8.698883888103007, -8.715348470051945, -8.731764909702518, -8.748133076742768, -8.76445284112212, -8.780724073052433, -8.796946643008994, -8.813120421731444, -8.829245280224852, -8.845321089760608, -8.861347721877461, -8.877325048382515, -8.89325294135215, -8.909131273133035, -8.924959916343134, -8.940738743872611, -8.956467628884889, -8.97214644481754, -8.987775065383303, -9.00335336457107, -9.018881216646795, -9.034358496154534, -9.049785077917342, -9.065160837038269, -9.08048564890135, -9.095759389172507, -9.110981933800538, -9.126153159018108, -9.141272941342624, -9.156341157577291, -9.17135768481197, -9.186322400424176, -9.20123518208006, -9.216095907735278, -9.230904455635995, -9.245660704319837, -9.260364532616778, -9.275015819650159, -9.289614444837554, -9.304160287891744, -9.318653228821685, -9.333093147933367, -9.347479925830838, -9.361813443417052, -9.376093581894848, -9.390320222767889, -9.404493247841545, -9.418612539223846, -9.432677979326424, -9.44668945086538, -9.460646836862278, -9.474550020644992, -9.488398885848659, -9.50219331641662, -9.515933196601269, -9.52961841096501, -9.54324884438118, -9.5568243820349, -9.570344909424056, -9.58381031236013, -9.597220476969147, -9.610575289692587, -9.623874637288234, -9.637118406831139, -9.650306485714454, -9.663438761650356, -9.676515122670965, -9.689535457129177, -9.702499653699585, -9.715407601379392, -9.72825918948923, -9.741054307674117, -9.75379284590428, -9.766474694476052, -9.779099744012784, -9.79166788546567, -9.804179010114629, -9.816633009569236, -9.829029775769497, -9.841369200986811, -9.853651177824764, -9.865875599220022, -9.878042358443219, -9.890151349099762, -9.90220246513075, -9.91419560081378, -9.926130650763817, -9.938007509934087, -9.949826073616858, -9.961586237444337, -9.973287897389518, -9.984930949766987, -9.996515291233825, -10.008040818790391, -10.019507429781186, -10.03091502189571, -10.04226349316926, -10.053552741983777, -10.064782667068707, -10.075953167501767, -10.08706414270984, -10.09811549246975, -10.1091071169091, -10.120038916507118, -10.130910792095426, -10.141722644858909, -10.152474376336492, -10.163165888421958, -10.173797083364791, -10.18436786377094, -10.194878132603636, -10.205327793184239, -10.21571674919297, -10.226044904669774, -10.236312164015077, -10.246518431990587, -10.256663613720125, -10.266747614690363, -10.276770340751638, -10.286731698118757, -10.296631593371744, -10.306469933456663, -10.316246625686365, -10.325961577741271, -10.335614697670186, -10.345205893891013, -10.354735075191583, -10.364202150730382, -10.373607030037327, -10.382949623014568, -10.392229839937194, -10.401447591454025, -10.410602788588388, -10.419695342738823, -10.428725165679895, -10.437692169562899, -10.446596266916623, -10.455437370648127, -10.464215394043439, -10.472930250768316, -10.481581854869015, -10.490170120772977, -10.498694963289614, -10.507156297611001, -10.515554039312631, -10.523888104354151, -10.532158409080056, -10.54036487022046, -10.548507404891765, -10.556585930597421, -10.564600365228637, -10.57255062706508, -10.58043663477559, -10.588258307418917, -10.596015564444388, -10.603708325692654, -10.611336511396361, -10.618900042180858, -10.626398839064917, -10.633832823461402, -10.641201917177966, -10.648506042417768, -10.655745121780125, -10.662919078261234, -10.670027835254825, -10.677071316552858, -10.684049446346213, -10.690962149225335, -10.69780935018095, -10.704590974604699, -10.711306948289819, -10.717957197431833, -10.724541648629181, -10.731060228883896, -10.737512865602277, -10.743899486595511, -10.75022002008038, -10.756474394679856, -10.762662539423784, -10.768784383749537, -10.77483985750263, -10.78082889093738, -10.786751414717555, -10.792607359916985, -10.798396658020227, -10.804119240923168, -10.80977504093367, -10.815363990772209, -10.820886023572463, -10.826341072881975, -10.831729072662746, -10.837049957291851, -10.842303661562077, -10.847490120682506, -10.852609270279139, -10.85766104639551, -10.862645385493261, -10.867562224452783, -10.87241150057378, -10.877193151575876, -10.881907115599226, -10.88655333120508, -10.89113173737638, -10.895642273518362, -10.900084879459115, -10.904459495450174, -10.908766062167098, -10.913004520710032, -10.91717481260431, -10.921276879800981, -10.925310664677417, -10.929276110037852, -10.933173159113949, -10.937001755565369, -10.940761843480312, -10.944453367376083, -10.94807627219964, -10.951630503328133, -10.955116006569469, -10.958532728162831, -10.961880614779238, -10.965159613522076, -10.968369671927624, -10.971510737965597, -10.974582760039679, -10.977585686988029, -10.98051946808383, -10.983384053035795, -10.986179391988683, -10.988905435523831, -10.991562134659647, -10.994149440852132, -10.99666730599539, -10.999115682422117, -11.001494522904123, -11.003803780652817, -11.006043409319703, -11.00821336299689, -11.010313596217555, -11.01234406395646, -11.014304721630415, -11.01619552509877, -11.018016430663897, -11.019767395071659, -11.021448375511891, -11.023059329618867, -11.024600215471766, -11.026070991595144, -11.027471616959392, -11.028802050981197, -11.030062253524, -11.031252184898444, -11.03237180586283, -11.033421077623576, -11.034399961835637, -11.035308420602975, -11.036146416478978, -11.036913912466904, -11.037610872020323, -11.03823725904354, -11.038793037892015, -11.039278173372812, -11.039692630744996, -11.040036375720073, -11.040309374462387, -11.040511593589555, -11.040643000172864, -11.040703561737676, -11.04069324626385, -11.040612022186126, -11.040459858394538, -11.040236724234797, -11.039942589508696, -11.039577424474498, -11.03914119984732, -11.038633886799515, -11.038055456961064, -11.037405882419948, -11.036685135722522, -11.03589318987389, -11.035030018338277, -11.034095595039398, -11.033089894360806, -11.032012891146278, -11.030864560700152, -11.029644878787694, -11.028353821635447, -11.026991365931572, -11.025557488826212, -11.024052167931812, -11.022475381323483, -11.020827107539322, -11.019107325580752, -11.017316014912852, -11.015453155464689, -11.013518727629636, -11.011512712265704, -11.009435090695849, -11.007285844708296, -11.005064956556856, -11.00277240896122, -11.000408185107286, -10.99797226864745, -10.995464643700906, -10.992885294853956, -10.990234207160288, -10.987511366141288, -10.984716757786307, -10.98185036855296, -10.978912185367415, -10.975902195624647, -10.972820387188746, -10.96966674839317, -10.966441268041015, -10.9631439354053, -10.959774740229214, -10.95633367272638, -10.952820723581121, -10.949235883948704, -10.945579145455607, -10.941850500199754, -10.938049940750759, -10.93417746015019, -10.930233051911777, -10.926216710021684, -10.922128428938713, -10.917968203594544, -10.913736029393966, -10.909431902215106, -10.905055818409627, -10.900607774802982, -10.896087768694587, -10.891495797858067, -10.886831860541456, -10.882095955467381, -10.877288081833296, -10.872408239311666, -10.867456428050149, -10.862432648671826, -10.857336902275344, -10.852169190435147, -10.846929515201632, -10.84161787910133, -10.836234285137103, -10.830778736788291, -10.825251238010907, -10.819651793237796, -10.813980407378786, -10.808237085820876, -10.802421834428374, -10.796534659543054, -10.790575567984323, -10.784544567049343, -10.778441664513208, -10.77226686862907, -10.766020188128264, -10.759701632220475, -10.753311210593859, -10.74684893341515, -10.740314811329826, -10.733708855462195, -10.727031077415546, -10.720281489272255, -10.713460103593878, -10.706566933421302, -10.699601992274811, -10.692565294154226, -10.685456853538989, -10.678276685388246, -10.671024805140974, -10.663701228716057, -10.656305972512358, -10.648839053408842, -10.641300488764609, -10.63369029641902, -10.626008494691751, -10.61825510238285, -10.610430138772841, -10.602533623622765, -10.594565577174235, -10.586526020149533, -10.57841497375162, -10.570232459664224, -10.56197850005188, -10.553653117559959, -10.545256335314745, -10.536788176923432, -10.528248666474203, -10.519637828536252, -10.510955688159784, -10.502202270876081, -10.493377602697517, -10.484481710117553, -10.475514620110797, -10.466476360132972, -10.45736695812097, -10.448186442492835, -10.438934842147763, -10.429612186466123, -10.420218505309453, -10.410753829020416, -10.401218188422865, -10.391611614821745, -10.381934140003152, -10.372185796234284, -10.362366616263394, -10.352476633319828, -10.342515881113924, -10.33248439383704, -10.322382206161503, -10.312209353240535, -10.301965870708267, -10.291651794679677, -10.2812671617505, -10.270812008997254, -10.260286373977106, -10.249690294727886, -10.239023809767984, -10.228286958096279, -10.217479779192109, -10.206602313015187, -10.195654600005492, -10.184636681083253, -10.17354859764881, -10.16239039158258, -10.151162105244945, -10.139863781476146, -10.128495463596241, -10.117057195404945, -10.105549021181583, -10.09397098568497, -10.082323134153281, -10.070605512303977, -10.058818166333682, -10.046961142918038, -10.03503448921164, -10.023038252847854, -10.010972481938742, -9.998837225074912, -9.986632531325359, -9.974358450237384, -9.962015031836424, -9.949602326625884, -9.937120385587056, -9.924569260178904, -9.91194900233796, -9.899259664478157, -9.886501299490634, -9.873673960743641, -9.860777702082302, -9.847812577828508, -9.83477864278072, -9.821675952213766, -9.808504561878717, -9.795264528002676, -9.781955907288573, -9.768578756915037, -9.755133134536127, -9.741619098281205, -9.728036706754718, -9.714386019035956, -9.70066709467891, -9.68687999371204, -9.673024776638028, -9.659101504433636, -9.645110238549414, -9.631051040909533, -9.616923973911554, -9.60272910042615, -9.588466483796955, -9.574136187840255, -9.55973827684481, -9.54527281557159, -9.530739869253502, -9.516139503595198, -9.501471784772804, -9.486736779433622, -9.471934554695963, -9.457065178148786, -9.442128717851524, -9.427125242333771, -9.412054820594996, -9.396917522104319, -9.381713416800213, -9.366442575090188, -9.351105067850586, -9.335700966426204, -9.320230342630087, -9.304693268743199, -9.289089817514089, -9.273420062158683, -9.25768407635988, -9.24188193426733, -9.226013710497092, -9.210079480131286, -9.194079318717844, -9.178013302270164, -9.16188150726675, -9.145684010650962, -9.129420889830605, -9.113092222677672, -9.096698087527972, -9.080238563180773, -9.063713728898506, -9.047123664406405, -9.030468449892116, -9.01374816600543, -8.99696289385783, -8.980112715022228, -8.963197711532553, -8.946217965883365, -8.929173561029561, -8.912064580385916, -8.894891107826792, -8.87765322768572, -8.860351024754989, -8.842984584285334, -8.825553991985512, -8.808059334021877, -8.790500697018071, -8.772878168054532, -8.755191834668176, -8.737441784851962, -8.719628107054449, -8.701750890179456, -8.68381022358562, -8.665806197085935, -8.64773890094743, -8.629608425890636, -8.611414863089259, -8.593158304169703, -8.574838841210617, -8.55645656674253, -8.53801157374732, -8.51950395565787, -8.500933806357569, -8.482301220179838, -8.463606291907757, -8.444849116773556, -8.426029790458145, -8.407148409090725, -8.388205069248224, -8.369199867954928, -8.350132902681962, -8.33100427134679, -8.311814072312812, -8.292562404388836, -8.273249366828567, -8.25387505933022, -8.234439582035904, -8.21494303553124, -8.195385520844823, -8.175767139447675, -8.156087993252855, -8.136348184614821, -8.116547816329042, -8.096686991631433, -8.0767658141978, -8.05678438814341, -8.036742818022423, -8.016641208827336, -7.996479665988543, -7.976258295373703, -7.955977203287301, -7.935636496470064, -7.915236282098388, -7.894776667783882, -7.8742577615727685, -7.853679671945306, -7.833042507815324, -7.812346378529562, -7.791591393867216, -7.77077766403932, -7.749905299688152, -7.728974411886761, -7.707985112138283, -7.68693751237547, -7.66583172496007, -7.644667862682195, -7.623446038759841, -7.602166366838249, -7.580828960989271, -7.559433935710885, -7.537981405926479, -7.516471486984358, -7.494904294657102, -7.4732799451409075, -7.451598555055079, -7.429860241441367, -7.408065121763316, -7.386213313905747, -7.364304936174022, -7.342340107293523, -7.320318946408982, -7.298241573083812, -7.276108107299577, -7.253918669455229, -7.2316733803665905, -7.20937236126566, -7.18701573379992, -7.164603620031786, -7.142136142437913, -7.119613423908487, -7.097035587746689, -7.074402757667898, -7.0517150577991545, -7.028972612678436, -7.006175547253944, -6.983323986883531, -6.960418057333978, -6.937457884780267, -6.914443595805019, -6.891375317397672, -6.8682531769539175, -6.845077302274962, -6.821847821566782, -6.798564863439545, -6.77522855690678, -6.751839031384796, -6.728396416691921, -6.7049008430477555, -6.681352441072553, -6.657751341786461, -6.634097676608759, -6.61039157735725, -6.586633176247411, -6.562822605891784, -6.5389599992991965, -6.515045489873984, -6.4910792114153555, -6.467061298116605, -6.4429918845643295, -6.418871105737796, -6.394699097008067, -6.3704759941373705, -6.346201933278297, -6.321877050972996, -6.297501484152539, -6.273075370136025, -6.248598846629933, -6.22407205172731, -6.199495123906955, -6.174868202032738, -6.150191425352794, -6.125464933498677, -6.100688866484712, -6.07586336470707, -6.050988568943106, -6.026064620350519, -6.0010916604665105, -5.976069831207088, -5.950999274866228, -5.925880134115015, -5.900712552000965, -5.875496671947082, -5.85023263775117, -5.8249205935849755, -5.799560683993311, -5.774153053893374, -5.74869784857378, -5.723195213693865, -5.697645295282811, -5.672048239738762, -5.646404193828104, -5.620713304684577, -5.594975719808383, -5.56919158706548, -5.54336105468659, -5.517484271266487, -5.491561385763091, -5.465592547496571, -5.439577906148593, -5.413517611761421, -5.3874118147369945, -5.361260665836205, -5.33506431617788, -5.308822917238049, -5.2825366208490205, -5.256205579198454, -5.229829944828614, -5.20340987063535, -5.176945509867346, -5.150437016125177, -5.123884543360376, -5.097288245874656, -5.070648278318962, -5.043964795692529, -5.017237953342107, -4.990467906960925, -4.9636548125879125, -4.936798826606745, -4.909900105744882, -4.882958807072768, -4.855975088002869, -4.8289491062886984, -4.801881020024037, -4.774770987641861, -4.74761916791355, -4.720425719947911, -4.693190803190193, -4.6659145774212885, -4.638597202756653, -4.611238839645503, -4.583839648869818, -4.556399791543347, -4.528919429110786, -4.501398723346765, -4.47383783635485, -4.4462369305667275, -4.418596168741096, -4.3909157139628485, -4.363195729642056, -4.335436379512949, -4.307637827633069, -4.279800238382254, -4.251923776461601, -4.224008606892643, -4.196054895016211, -4.168062806491603, -4.140032507295546, -4.111964163721154, -4.083857942377069, -4.055714010186412, -4.027532534385738, -3.9993136825241877, -3.971057622462332, -3.94276452237132, -3.9144345507318192, -3.8860678763329592, -3.857664668271468, -3.8292250959505063, -3.8007493290788026, -3.772237537669585, -3.743689892039505, -3.71510656280775, -3.686487720894962, -3.6578335375221576, -3.6291441842098546, -3.6004198327768786, -3.571660655339484, -3.542866824310265, -3.5140385123970588, -3.485175892602042, -3.4562791382206295, -3.427348422840375, -3.3983839203400796, -3.369385804888577, -3.3403542509438418, -3.3112894332518734, -3.2821915268455903, -3.253060707043919, -3.2238971494505773, -3.1947010299531624, -3.16547252472203, -3.136211810209174, -3.1069190631472803, -3.0775944605486103, -3.0482381797038633, -3.018850398181255, -2.9894312938252785, -2.9599810447557764, -2.9304998293668016, -2.9009878263254767, -2.8714452145710365, -2.841872173313685, -2.812268882033446, -2.782635520479221, -2.752972268667534, -2.723279306881587, -2.693556815670099, -2.663804975846152, -2.634023968486236, -2.6042139749289817, -2.5743751767742054, -2.5445077558817415, -2.51461189437027, -2.4846877746163374, -2.4547355792531795, -2.424755491169546, -2.3947476935087324, -2.364712369667295, -2.334649703294076, -2.304559878289023, -2.2744430788019976, -2.244299489231779, -2.214129294224871, -2.1839326786743105, -2.1537098277186826, -2.123460926740816, -2.0931861613667975, -2.062885717464769, -2.0325597811437226, -2.00220853875251, -1.9718321768785254, -1.94143088234671, -1.9110048422183397, -1.8805542437898093, -1.8500792745916113, -1.819580122387115, -1.7890569751713477, -1.7585100211699862, -1.7279394488380249, -1.697345446858765, -1.6667282041425844, -1.6360879098257095, -1.6054247532691752, -1.574738924057591, -1.5440306119979037, -1.513300007118377, -1.4825472996672415, -1.4517726801116695, -1.4209763391365309, -1.3901584676431469, -1.359319256748259, -1.3284588977826701, -1.2975775822902116, -1.266675502026487, -1.2357528489576186, -1.2048098152591846, -1.173846593314961, -1.1428633757156592, -1.1118603552578814, -1.0808377249427468, -1.0497956779748432, -1.0187344077609588, -0.9876541079088109, -0.9565549722259714, -0.9254371947185926, -0.8943009695901312, -0.8631464912402904, -0.8319739542636303, -0.8007835534485065, -0.7695754837757873, -0.7383499404175689, -0.7071071187361087, -0.6758472142824273, -0.6445704227952389, -0.6132769401996595, -0.5819669626059134, -0.5506406863082367, -0.5192983077835808, -0.4879400236903136, -0.45656603086714037, -0.4251765263316915, -0.39377170727944, -0.36235177108239647, -0.33091691528780215, -0.2994673376170198, -0.268003235964224, -0.23652480839508863, -0.20503225314569615, -0.17352576862111116, -0.14200555339428603, -0.11047180620474294, -0.0789247259572537, -0.04736451172074114, -0.015791362726844765, 0.015794521631181013, 0.04739294179979289, 0.07900369806648648, 0.11062659056092455, 0.14226141925626773, 0.17390798397050689, 0.2055660843675733, 0.23723551995878578, 0.2689160901039639, 0.30060759401276593, 0.332309830746029, 0.3640225992169083, 0.3957456981922204, 0.42747892629378653, 0.4592220819995547, 0.4909749636450586, 0.5227373694245417, 0.5545090973923069, 0.5862899454640681, 0.6180797114180783, 0.6498781928965955, 0.6816851874070144, 0.7135004923232221, 0.7453239048869571, 0.777155222208966, 0.8089942412703649, 0.8408407589240008, 0.8726945718955911, 0.9045554767852001, 0.9364232700683808, 0.9682977480975418, 1.0001787071033166, 1.0320659431957309, 1.063959252365573, 1.0958584304857677, 1.1277632733125242, 1.1596735764868245, 1.191589135535572, 1.2235097458729736, 1.2554352028019131, 1.2873653015151105, 1.3192998370966127, 1.3512386045229523, 1.3831813986645296, 1.4151280142869995, 1.4470782460524523, 1.4790318885208023, 1.510988736151175, 1.5429485833030714, 1.5749112242378718, 1.6068764531200008, 1.6388440640183213, 1.670813850907527, 1.702785607669335, 1.734759128093882, 1.766734205881122, 1.7987106346419965, 1.8306882078999502, 1.8626667190921022, 1.8946459615706497, 1.9266257286042692, 1.9586058133792943, 1.9905860090012348, 2.022566108495953, 2.054545904811074, 2.0865251908173903, 2.118503759310069, 2.1504814030100596, 2.182457914565505, 2.2144330865529294, 2.246406711478759, 2.2783785817805136, 2.310348489828218, 2.3423162279258185, 2.374281588312397, 2.4062443631635837, 2.4382043445929793, 2.4701613246533474, 2.5021150953381435, 2.534065448582713, 2.566012176265713, 2.597955070210531, 2.6298939221864854, 2.6618285239103607, 2.6937586670476077, 2.725684143213767, 2.757604743975896, 2.789520260853796, 2.821430485321434, 2.853335208808377, 2.8852342227009933, 2.9171273183439936, 2.9490142870416416, 2.98089492005918, 3.012769008624266, 3.0446363439282025, 3.076496717127368, 3.108349919344654, 3.140195741670675, 3.172033975165316, 3.203864410858943, 3.235686839753843, 3.267501052825659, 3.299306841024604, 3.331103995277015, 3.362892306486564, 3.394671565535702, 3.426441563287097, 3.4582020905848743, 3.4899529382560606, 3.5216938971120224, 3.5534247579496907, 3.5851453115531093, 3.6168553486946635, 3.6485546601365177, 3.6802430366320644, 3.711920268927168, 3.7435861477616115, 3.7752404638705412, 3.8068830079856943, 3.8385135708369535, 3.8701319431535763, 3.9017379156656435, 3.933331279105503, 3.9649118242090036, 3.996479341717052, 4.02803362237684, 4.0595744569433, 4.091101636180551, 4.122614950863152, 4.1541141917775555, 4.185599149723557, 4.217069615515528, 4.248525379983978, 4.279966233976791, 4.311391968360669, 4.3428023740225985, 4.374197241871095, 4.405576362837667, 4.436939527878263, 4.468286527974506, 4.49961715413527, 4.5309311973979, 4.5622284488296785, 4.59350869952928, 4.6247717406280024, 4.656017363291339, 4.687245358720212, 4.7184555181524335, 4.749647632864158, 4.780821494171146, 4.81197689343022, 4.843113622040721, 4.874231471445751, 4.905330233133739, 4.936409698639677, 4.967469659546585, 4.998509907486962, 5.029530234144056, 5.060530431253317, 5.091510290603854, 5.122469604039686, 5.153408163461299, 5.184325760826893, 5.21522218815384, 5.24609723752014, 5.2769507010656715, 5.307782370993747, 5.338592039572368, 5.369379499135672, 5.400144542085404, 5.430886960892171, 5.4616065480969045, 5.492303096312322, 5.522976398224167, 5.553626246592778, 5.584252434254328, 5.61485475412229, 5.64543299918889, 5.675986962526375, 5.70651643728847, 5.73702121671184, 5.767501094117326, 5.797955862911522, 5.828385316588006, 5.858789248728812, 5.8891674530058715, 5.919519723182273, 5.949845853113817, 5.980145636750263, 6.0104188681367825, 6.0406653414154245, 6.070884850826372, 6.101077190709403, 6.131242155505344, 6.161379539757316, 6.191489138112297, 6.221570745322361, 6.251624156246138, 6.281649165850264, 6.311645569210652, 6.34161316151394, 6.371551738058947, 6.401461094257916, 6.431341025638077, 6.461191327842879, 6.491011796633453, 6.520802227890059, 6.550562417613328, 6.58029216192582, 6.609991257073267, 6.63965949942602, 6.669296685480498, 6.69890261186046, 6.72847707531844, 6.75801987273721, 6.787530801131005, 6.817009657647093, 6.846456239566999, 6.875870344307961, 6.905251769424374, 6.9346003126090485, 6.963915771694659, 6.993197944655187, 7.0224466296071615, 7.0516616248111985, 7.08084272867325, 7.10998973974604, 7.139102456730504, 7.168180678477033, 7.197224203987014, 7.226232832414063, 7.255206363065466, 7.284144595403625, 7.313047329047299, 7.341914363773059, 7.37074549951671, 7.399540536374537, 7.428299274604831, 7.4570215146291305, 7.485707057033655, 7.514355702570732, 7.542967252160059, 7.5715415068901235, 7.600078268019648, 7.628577336978813, 7.657038515370781, 7.685461604972944, 7.71384640773833, 7.74219272579705, 7.770500361457515, 7.798769117207962, 7.826998795717684, 7.855189199838454, 7.88334013260595, 7.911451397240994, 7.939522797150982, 7.967554135931298, 7.995545217366545, 8.023495845432056, 8.051405824295115, 8.079274958316384, 8.107103052051311, 8.134889910251376, 8.162635337865497, 8.19033914004146, 8.218001122127111, 8.2456210896719, 8.273198848428063, 8.300734204352059, 8.328226963605967, 8.355676932558701, 8.383083917787513, 8.410447726079212, 8.437768164431567, 8.46504504005471, 8.492278160372358, 8.519467333023236, 8.546612365862458, 8.573713066962746, 8.60076924461592, 8.627780707334106, 8.65474726385114, 8.681668723123948, 8.708544894333787, 8.735375586887626, 8.762160610419544, 8.788899774791929, 8.815592890096967, 8.842239766657839, 8.868840215030104, 8.895394046003103, 8.921901070601132, 8.948361100084936, 8.974773945952908, 9.00113941994245, 9.027457334031384, 9.053727500439134, 9.079949731628124, 9.106123840305145, 9.132249639422547, 9.158326942179713, 9.184355562024232, 9.210335312653289, 9.236266008015017, 9.26214746230972, 9.28797948999122, 9.313761905768239, 9.339494524605579, 9.365177161725565, 9.390809632609246, 9.416391752997733, 9.441923338893575, 9.467404206561932, 9.49283417253202, 9.51821305359828, 9.54354066682175, 9.568816829531396, 9.594041359325317, 9.61921407407209, 9.644334791912113, 9.669403331258783, 9.694419510799918, 9.719383149498936, 9.74429406659619, 9.769152081610306, 9.793957014339371, 9.818708684862267, 9.84340691354, 9.868051521016877, 9.892642328221903, 9.917179156369961, 9.941661826963122, 9.966090161791985, 9.990463982936832, 10.014783112769027, 10.039047373952181, 10.063256589443458, 10.087410582494918, 10.111509176654653, 10.135552195768128, 10.159539463979481, 10.183470805732675, 10.20734604577289, 10.231165009147663, 10.254927521208199, 10.27863340761068, 10.302282494317412, 10.325874607598129, 10.349409574031306, 10.372887220505271, 10.396307374219608, 10.419669862686273, 10.442974513730894, 10.466221155494056, 10.489409616432441, 10.512539725320188, 10.535611311250019, 10.558624203634523, 10.581578232207445, 10.604473227024815, 10.627309018466233, 10.65008543723614, 10.67280231436494, 10.695459481210353, 10.718056769458522, 10.740594011125287, 10.763071038557458, 10.785487684433928, 10.807843781766946, 10.83013916390338, 10.852373664525812, 10.874547117653883, 10.89665935764539, 10.918710219197541, 10.94069953734821, 10.962627147477031, 10.984492885306722, 11.00629658690418, 11.02803808868172, 11.049717227398336, 11.071333840160781, 11.092887764424816, 11.114378837996453, 11.135806899033025, 11.1571717860445, 11.178473337894568, 11.199711393801856, 11.220885793341166, 11.241996376444554, 11.263042983402562, 11.284025454865434, 11.304943631844178, 11.325797355711877, 11.346586468204727, 11.36731081142327, 11.387970227833597, 11.408564560268417, 11.429093651928271, 11.449557346382736, 11.469955487571466, 11.490287919805484, 11.510554487768216, 11.530755036516693, 11.550889411482746, 11.570957458474044, 11.590959023675362, 11.610893953649615, 11.630762095339051, 11.65056329606642, 11.670297403536035, 11.689964265834945, 11.709563731434107, 11.729095649189427, 11.748559868342978, 11.767956238524054, 11.787284609750316, 11.80654483242896, 11.82573675735776, 11.844860235726214, 11.863915119116706, 11.882901259505521, 11.901818509264064, 11.920666721159874, 11.939445748357768, 11.958155444420983, 11.976795663312187, 11.995366259394679, 12.013867087433397, 12.032298002596054, 12.050658860454256, 12.068949516984526, 12.087169828569431, 12.105319651998688, 12.12339884447018, 12.14140726359112, 12.159344767379046, 12.177211214262938, 12.19500646308432, 12.212730373098266, 12.230382803974493, 12.247963615798477, 12.265472669072421, 12.282909824716416, 12.300274944069415, 12.317567888890325, 12.334788521359098, 12.351936704077698, 12.36901230007124, 12.386015172788966, 12.402945186105306, 12.419802204320973, 12.43658609216392, 12.45329671479041, 12.469933937786099, 12.486497627166967, 12.502987649380456, 12.519403871306409, 12.53574616025812, 12.552014383983405, 12.568208410665545, 12.584328108924336, 12.60037334781713, 12.616343996839785, 12.632239925927745, 12.64806100545698, 12.663807106245018, 12.679478099551975, 12.695073857081486, 12.710594250981774, 12.726039153846585, 12.741408438716197, 12.756701979078443, 12.771919648869634, 12.787061322475573, 12.802126874732568, 12.817116180928327, 12.83202911680303, 12.846865558550215, 12.861625382817788, 12.876308466709016, 12.890914687783424, 12.9054439240578, 12.919896054007166, 12.934270956565683, 12.94856851112767, 12.962788597548485, 12.976931096145508, 12.990995887699114, 13.004982853453544, 13.018891875117923, 13.032722834867126, 13.046475615342748, 13.060150099654058, 13.073746171378865, 13.087263714564486, 13.100702613728679, 13.114062753860514, 13.127344020421353, 13.1405462993457, 13.153669477042149, 13.166713440394307, 13.179678076761654, 13.19256327398047, 13.20536892036476, 13.218094904707094, 13.23074111627956, 13.243307444834612, 13.255793780605964, 13.268200014309521, 13.280526037144183, 13.292771740792807, 13.304937017423017, 13.317021759688103, 13.329025860727926, 13.340949214169719, 13.352791714128994, 13.364553255210417, 13.376233732508618, 13.387833041609104, 13.399351078589062, 13.410787740018229, 13.42214292295977, 13.433416524971063, 13.444608444104574, 13.455718578908717, 13.466746828428631, 13.477693092207073, 13.488557270285197, 13.49933926320341, 13.5100389720022, 13.52065629822292, 13.531191143908657, 13.54164341160499, 13.552013004360836, 13.56229982572927, 13.572503779768283, 13.582624771041619, 13.59266270461958, 13.602617486079781, 13.612489021507995, 13.6222772174989, 13.631981981156871, 13.641603220096803, 13.651140842444835, 13.660594756839156, 13.66996487243079, 13.67925109888433, 13.688453346378754, 13.697571525608142, 13.706605547782456, 13.715555324628323, 13.724420768389734, 13.733201791828865, 13.74189830822676, 13.750510231384107, 13.759037475622, 13.767479955782633, 13.775837587230065, 13.784110285850952, 13.792297968055262, 13.80040055077702, 13.808417951475008, 13.816350088133497, 13.824196879262978, 13.831958243900845, 13.839634101612116, 13.847224372490164, 13.854728977157377, 13.8621478367659, 13.869480872998295, 13.876728008068259, 13.883889164721314, 13.890964266235471, 13.897953236421952, 13.904855999625825, 13.91167248072671, 13.91840260513946, 13.925046298814802, 13.93160348824002, 13.938074100439636, 13.944458062976025, 13.950755303950134, 13.956965752002068, 13.963089336311791, 13.96912598659976, 13.975075633127554, 13.980938206698523, 13.986713638658443, 13.992401860896114, 13.998002805844024, 14.00351640647895, 14.008942596322592, 14.014281309442207, 14.019532480451192, 14.024696044509737, 14.029771937325398, 14.034760095153722, 14.039660454798858, 14.044472953614138, 14.049197529502674, 14.053834120917978, 14.058382666864508, 14.062843106898292, 14.067215381127488, 14.071499430212965, 14.075695195368892, 14.079802618363294, 14.083821641518623, 14.08775220771234, 14.091594260377445, 14.095347743503067, 14.099012601634998, 14.102588779876248, 14.106076223887598, 14.109474879888136, 14.112784694655808, 14.116005615527941, 14.119137590401786, 14.12218056773505, 14.125134496546414, 14.127999326416054, 14.130775007486173, 14.133461490461508, 14.136058726609845, 14.138566667762516, 14.140985266314926, 14.143314475227035, 14.145554248023865, 14.147704538795994, 14.14976530220004, 14.151736493459156, 14.153618068363516, 14.155409983270777, 14.157112195106581, 14.158724661365008, 14.160247340109052, 14.161680189971086, 14.163023170153327, 14.16427624042829, 14.165439361139244, 14.166512493200662, 14.167495598098672, 14.168388637891498, 14.169191575209902, 14.16990437325762, 14.170526995811786, 14.17105940722338, 14.171501572417636, 14.171853456894478, 14.172115026728925, 14.172286248571512, 14.172367089648704, 14.1723575177633, 14.172257501294833, 14.17206700919998, 14.171786011012944, 14.171414476845863, 14.170952377389181, 14.17039968391205, 14.169756368262703, 14.169022402868826, 14.16819776073795, 14.1672824154578, 14.166276341196678, 14.165179512703816, 14.163991905309741, 14.16271349492663, 14.161344258048656, 14.159884171752342, 14.158333213696908, 14.156691362124603, 14.15495859586104, 14.15313489431555, 14.151220237481478, 14.149214605936548, 14.147117980843145, 14.144930343948662, 14.142651677585805, 14.14028196467289, 14.137821188714183, 14.135269333800165, 14.132626384607859, 14.129892326401107, 14.127067145030882, 14.124150826935551, 14.121143359141183, 14.118044729261806, 14.114854925499708, 14.111573936645694, 14.108201752079356, 14.10473836176934, 14.101183756273613, 14.09753792673971, 14.093800864905003, 14.089972563096929, 14.086053014233253, 14.082042211822314, 14.07794014996324, 14.073746823346214, 14.069462227252675, 14.065086357555565, 14.060619210719551, 14.056060783801225, 14.05141107444935, 14.046670080905045, 14.041837802002004, 14.036914237166705, 14.031899386418594, 14.026793250370302, 14.021595830227824, 14.016307127790705, 14.010927145452237, 14.005455886199636, 13.9998933536142, 13.994239551871518, 13.988494485741603, 13.982658160589086, 13.976730582373362, 13.970711757648747, 13.964601693564642, 13.958400397865667, 13.952107878891828, 13.945724145578648, 13.93924920745729, 13.932683074654722, 13.926025757893834, 13.919277268493543, 13.912437618368958, 13.90550682003146, 13.898484886588841, 13.89137183174541, 13.884167669802084, 13.876872415656516, 13.869486084803187, 13.862008693333479, 13.854440257935805, 13.846780795895658, 13.839030325095726, 13.831188864015957, 13.823256431733624, 13.815233047923433, 13.80711873285754, 13.798913507405661, 13.79061739303512, 13.782230411810868, 13.7737525863956, 13.765183940049758, 13.75652449663157, 13.747774280597143, 13.738933317000427, 13.73000163149331, 13.72097925032562, 13.711866200345133, 13.702662508997633, 13.693368204326907, 13.683983314974741, 13.674507870180975, 13.664941899783447, 13.655285434218058, 13.645538504518735, 13.635701142317407, 13.625773379844043, 13.615755249926583, 13.60564678599097, 13.595448022061102, 13.585158992758785, 13.574779733303751, 13.564310279513595, 13.553750667803717, 13.543100935187338, 13.532361119275379, 13.521531258276479, 13.510611390996912, 13.499601556840505, 13.48850179580862, 13.477312148500074, 13.466032656111036, 13.45466336043501, 13.4432043038627, 13.431655529381974, 13.420017080577763, 13.408289001631944, 13.3964713373233, 13.384564133027363, 13.372567434716364, 13.360481288959106, 13.348305742920825, 13.33604084436314, 13.32368664164389, 13.311243183717004, 13.298710520132422, 13.286088701035915, 13.273377777168989, 13.26057779986874, 13.247688821067678, 13.234710893293638, 13.221644069669598, 13.208488403913512, 13.195243950338195, 13.181910763851114, 13.168488899954264, 13.154978414743992, 13.141379364910774, 13.127691807739128, 13.113915801107334, 13.100051403487328, 13.086098673944486, 13.0720576721374, 13.057928458317733, 13.043711093329996, 13.029405638611314, 13.015012156191277, 13.000530708691663, 12.985961359326277, 12.971304171900709, 12.95655921081207, 12.941726541048842, 12.926806228190589, 12.911798338407715, 12.896702938461278, 12.881520095702667, 12.866249878073436, 12.850892354105005, 12.83544759291838, 12.819915664223972, 12.804296638321233, 12.78859058609848, 12.77279757903257, 12.756917689188615, 12.740950989219746, 12.724897552366809, 12.70875745245804, 12.692530763908845, 12.676217561721428, 12.659817921484553, 12.643331919373223, 12.626759632148321, 12.61010113715638, 12.593356512329228, 12.576525836183633, 12.559609187821057, 12.542606646927245, 12.525518293771967, 12.508344209208648, 12.491084474673995, 12.473739172187738, 12.45630838435218, 12.43879219435194, 12.421190685953555, 12.403503943505081, 12.385732051935817, 12.367875096755878, 12.34993316405581, 12.331906340506292, 12.31379471335765, 12.29559837043958, 12.277317400160701, 12.258951891508147, 12.240501934047233, 12.221967617921026, 12.203349033849905, 12.18464627313124, 12.165859427638875, 12.146988589822818, 12.128033852708775, 12.108995309897676, 12.089873055565368, 12.070667184462058, 12.05137779191198, 12.032004973812915, 12.01254882663571, 11.993009447423914, 11.973386933793286, 11.9536813839313, 11.933892896596788, 11.914021571119365, 11.894067507399052, 11.874030805905788, 11.853911567678892, 11.833709894326681, 11.813425888025947, 11.793059651521425, 11.77261128812541, 11.752080901717145, 11.73146859674243, 11.71077447821307, 11.68999865170634, 11.669141223364555, 11.648202299894514, 11.627181988566944, 11.606080397216086, 11.584897634239045, 11.56363380859537, 11.542289029806485, 11.520863407955096, 11.499357053684768, 11.477770078199258, 11.456102593262074, 11.434354711195875, 11.412526544881878, 11.390618207759386, 11.368629813825187, 11.346561477632928, 11.324413314292672, 11.30218543947018, 11.279877969386462, 11.257491020817136, 11.2350247110918, 11.212479158093533, 11.18985448025827, 11.167150796574132, 11.144368226580964, 11.121506890369583, 11.098566908581294, 11.075548402407223, 11.052451493587657, 11.029276304411537, 11.006022957715704, 10.982691576884383, 10.95928228584851, 10.935795209085041, 10.91223047161642, 10.888588199009881, 10.86486851737675, 10.841071553371924, 10.817197434193067, 10.79324628758008, 10.769218241814396, 10.745113425718245, 10.720931968654106, 10.696674000523974, 10.672339651768631, 10.647929053367092, 10.623442336835783, 10.59887963422797, 10.574241078133019, 10.549526801675647, 10.52473693851535, 10.499871622845552, 10.474930989393032, 10.449915173417153, 10.424824310709102, 10.399658537591273, 10.374417990916497, 10.349102808067258, 10.3237131269551, 10.298249086019743, 10.27271082422847, 10.247098481075351, 10.221412196580422, 10.19565211128906, 10.169818366271178, 10.143911103120416, 10.117930463953506, 10.091876591409365, 10.065749628648462, 10.039549719351992, 10.013277007721047, 9.986931638475971, 9.960513756855427, 9.93402350861575, 9.907461040030102, 9.88082649788762, 9.854120029492742, 9.827341782664345, 9.80049190573489, 9.773570547549753, 9.746577857466253, 9.719513985352984, 9.692379081588939, 9.665173297062626, 9.637896783171366, 9.610549691820408, 9.583132175422039, 9.555644386894881, 9.528086479662909, 9.50045860765473, 9.472760925302698, 9.444993587541992, 9.417156749809903, 9.389250568044831, 9.36127519868555, 9.3332307986703, 9.305117525435847, 9.276935536916744, 9.248684991544389, 9.220366048246095, 9.191978866444346, 9.163523606055753, 9.135000427490306, 9.106409491650426, 9.077750959930004, 9.049024994213632, 9.02023175687563, 8.991371410779093, 8.962444119275117, 8.933450046201724, 8.904389355883087, 8.875262213128554, 8.84606878323167, 8.81680923196938, 8.787483725600945, 8.75809243086715, 8.728635514989307, 8.699113145668257, 8.669525491083538, 8.639872719892397, 8.610155001228753, 8.58037250470241, 8.550525400397925, 8.520613858873787, 8.490638051161406, 8.460598148764069, 8.430494323656099, 8.400326748281822, 8.370095595554528, 8.339801038855626, 8.309443252033507, 8.279022409402687, 8.248538685742773, 8.217992256297384, 8.18738329677332, 8.156711983339376, 8.125978492625501, 8.095183001721717, 8.064325688177046, 8.033406729998621, 8.002426305650616, 7.971384594053145, 7.9402817745814005, 7.909118027064446, 7.877893531784339, 7.846608469475035, 7.8152630213212815, 7.7838573689577055, 7.752391694467716, 7.720866180382369, 7.689281009679495, 7.657636365782456, 7.625932432559244, 7.594169394321355, 7.562347435822661, 7.530466742258499, 7.49852749926442, 7.466529892915275, 7.43447410972407, 7.402360336640818, 7.370188761051596, 7.337959570777386, 7.30567295407292, 7.273329099625749, 7.240928196554959, 7.208470434410241, 7.175956003170715, 7.143385093243753, 7.110757895464017, 7.0780746010922755, 7.045335401814214, 7.0125404897394885, 6.979690057400414, 6.946784297751005, 6.913823404165778, 6.8808075704385505, 6.847736990781475, 6.814611859823713, 6.781432372610458, 6.748198724601729, 6.7149111116711495, 6.681569730104938, 6.648174776600692, 6.61472644826616, 6.581224942618251, 6.547670457581675, 6.514063191487961, 6.480403343074206, 6.446691111481841, 6.412926696255599, 6.379110297342265, 6.345242115089431, 6.3113223502444775, 6.2773512039532, 6.243328877758783, 6.209255573600548, 6.17513149381268, 6.140956841123198, 6.106731818652569, 6.07245662991267, 6.0381314788055125, 6.003756569621959, 5.969332107040657, 5.934858296126757, 5.900335342330619, 5.8657634514867585, 5.831142829812437, 5.796473683906603, 5.7617562207485875, 5.726990647696805, 5.6921771724876615, 5.657316003234244, 5.622407348425008, 5.58745141692271, 5.552448417962958, 5.517398561153138, 5.482302056471094, 5.447159114263791, 5.411969945246237, 5.376734760500022, 5.341453771472232, 5.306127189974108, 5.270755228179699, 5.23533809862475, 5.1998760142053415, 5.1643691881765506, 5.128817834151336, 5.093222166099063, 5.057582398344393, 5.021898745565915, 4.986171422794793, 4.950400645413605, 4.9145866291549964, 4.878729590100282, 4.8428297446783395, 4.806887309664093, 4.770902502177391, 4.734875539681617, 4.698806639982307, 4.6626960212260045, 4.626543901898751, 4.590350500824935, 4.554116037165904, 4.51784073041855, 4.4815248004141495, 4.445168467316948, 4.408771951622752, 4.372335474157778, 4.335859256077104, 4.2993435188635125, 4.262788484326071, 4.226194374598708, 4.189561412139021, 4.152889819726846, 4.116179820462833, 4.079431637767265, 4.042645495378501, 4.0058216173517875, 3.968960228057826, 3.932061552181326, 3.895125814719821, 3.8581532409820887, 3.82114405658696, 3.784098487461869, 3.7470167598413933, 3.709899100266034, 3.672745735580753, 3.63555689293351, 3.5983327997740595, 3.56107368385235, 3.523779773217316, 3.486451296215408, 3.4490884814891114, 3.4116915579757094, 3.3742607549058024, 3.3367963018018227, 3.2992984284768143, 3.2617673650328145, 3.224203341859626, 3.1866065896333264, 3.1489773393147718, 3.111315822148366, 3.0736222696604267, 3.0358969136579494, 2.9981399862271068, 2.9603517197317366, 2.9225323468120754, 2.884682100383248, 2.846801213633752, 2.808889920024211, 2.7709484532857194, 2.7329770474185953, 2.6949759366908523, 2.656945355636677, 2.618885539055144, 2.5807967220086847, 2.542679139821557, 2.50453302807858, 2.466358622623463, 2.4281561595575365, 2.3899258752382138, 2.3516680062774444, 2.3133827895404444, 2.2750704621440088, 2.2367312614552377, 2.1983654250899822, 2.159973190911292, 2.1215547970281032, 2.083110481793682, 2.0446404838040637, 2.0061450418967626, 1.9676243951490728, 1.9290787828767748, 1.8905084446325655, 1.8519136202044904, 1.8132945496146147, 1.774651473117451, 1.7359846311983822, 1.697294264572356, 1.6585806141821688, 1.6198439211971571, 1.581084427011613, 1.5423023732431973, 1.5034980017316268, 1.4646715545369469, 1.4258232739382117, 1.3869534024318941, 1.348062182730286, 1.3091498577601508, 1.2702166706611209, 1.2312628647840993, 1.1922886836899285, 1.1532943711476495, 1.114280171133169, 1.0752463278276505, 1.0361930856159043, 0.9971206890850222, 0.9580293830227629, 0.9189194124159362, 0.8797910224490615, 0.8406444585026083, 0.8014799661516526, 0.7622977911642523, 0.7230981794998225, 0.6838813773077855, 0.6446476309258033, 0.6053971868784243, 0.5661302918754512, 0.5268471928103075, 0.4875481367586508, 0.4482333709767367, 0.40890314289977875, 0.36955770014058636, 0.3301972904877833, 0.2908221619044418, 0.25143256252643725, 0.2120287406608008, 0.172610944784321, 0.13317942354189377, 0.09373442574486998, 0.05427620036968082, 0.014804996556043072, -0.024678936394418656, -0.06417534901983023, -0.10368399169972779, -0.14320461465644016, -0.182736967956891, -0.22228080151398433, -0.26183586508827, -0.3014019082896114, -0.3409786805786025, -0.38056593126823846, -0.4201634095255872, -0.4597708643731828, -0.49938804469084047, -0.5390146992170526, -0.5786505765506659, -0.618295425152561, -0.6579489933470801, -0.6976110293237092, -0.7372812811387607, -0.7769594967167777, -0.8166454238523602, -0.8563388102115719, -0.8960394033336282, -0.9357469506325864, -0.9754611993987563, -1.0151818968005326, -1.0549087898858076, -1.0946416255836677, -1.134380150706088, -1.1741241119493775, -1.213873255895879, -1.2536273290156668, -1.2933860776679689, -1.3331492481030103, -1.372916586463433, -1.4126878387860033, -1.4524627510033175, -1.4922410689452543, -1.5320225383406858, -1.5718069048191845, -1.611593913912454, -1.6513833110561813, -1.6911748415914682, -1.7309682507665463, -1.770763283738489, -1.8105596855746506, -1.8503572012545206, -1.8901555756711628, -1.9299545536329337, -1.969753879865203, -2.009553299011822, -2.0493525556368453, -2.0891513942262567, -2.128949559189407, -2.168746794860887, -2.2085428455019662, -2.2483374553023245, -2.2881303683817773, -2.3279213287917546, -2.3677100805170292, -2.407496367477447, -2.4472799335293804, -2.4870605224675986, -2.5268378780267233, -2.56661174388296, -2.606381863655837, -2.646147980909657, -2.685909839155378, -2.7256671818520672, -2.765419752408643, -2.805167294185611, -2.8449095504965545, -2.8846462646098745, -2.924377179750531, -2.9641020391015074, -3.0038205858056894, -3.043532562967334, -3.0832377136538107, -3.122935780897348, -3.1626265076965296, -3.2023096370180357, -3.2419849117983963, -3.2816520749454576, -3.321310869340269, -3.360961037838555, -3.4006023232724645, -3.4402344684523207, -3.4798572161680954, -3.5194703091912976, -3.559073490276448, -3.5986665021628332, -3.638249087576258, -3.677820989230548, -3.7173819498293064, -3.756931712067666, -3.7964700186337703, -3.835996612210666, -3.8755112354777808, -3.915013631112685, -3.9545035417928434, -3.993980710197128, -4.033444879007571, -4.072895790911134, -4.112333188601176, -4.151756814779362, -4.191166412157144, -4.230561723457518, -4.2699424914167885, -4.309308458786052, -4.348659368333098, -4.387994962843891, -4.427314985124334, -4.466619178002036, -4.50590728432782, -4.545179046977489, -4.5844342088535885, -4.623672512886926, -4.662893702038328, -4.7020975193003824, -4.741283707699092, -4.780452010295363, -4.819602170187017, -4.85873393051031, -4.897847034441449, -4.936941225198607, -4.976016246043443, -5.015071840282614, -5.054107751269794, -5.093123722407139, -5.132119497147077, -5.171094818993776, -5.210049431505156, -5.248983078294408, -5.28789550303152, -5.326786449445283, -5.365655661324815, -5.404502882521085, -5.443327856948919, -5.48213032858853, -5.520910041487032, -5.559666739760457, -5.598400167595223, -5.63711006924992, -5.675796189056792, -5.7144582714237355, -5.75309606083583, -5.791709301856856, -5.830297739131308, -5.868861117385918, -5.907399181431177, -5.945911676163342, -5.984398346565968, -6.022858937711418, -6.061293194762885, -6.099700862975851, -6.138081687699887, -6.176435414380114, -6.21476178855922, -6.253060555878977, -6.291331462081762, -6.329574253012571, -6.3677886746205346, -6.405974472960443, -6.444131394194753, -6.482259184595108, -6.520357590543862, -6.558426358536082, -6.596465235181072, -6.63447396720389, -6.672452301447359, -6.710399984873529, -6.748316764565465, -6.786202387728715, -6.824056601693317, -6.861879153915308, -6.899669791978255, -6.9374282635952484, -6.975154316610424, -7.01284769900048, -7.0505081588766805, -7.0881354444863645, -7.125729304214474, -7.163289486585544, -7.200815740265173, -7.238307814061797, -7.275765456928161, -7.3131884179633095, -7.350576446414104, -7.387929291676739, -7.42524670329873, -7.462528430980435, -7.499774224576563, -7.5369838340981685, -7.574157009714159, -7.611293501752816, -7.648393060703777, -7.685455437219496, -7.7224803821170225, -7.759467646379454, -7.796416981157923, -7.833328137773109, -7.870200867716748, -7.907034922653612, -7.943830054423015, -7.980586015040334, -8.017302556698972, -8.053979431771873, -8.090616392813033, -8.127213192559461, -8.163769583932703, -8.200285320040338, -8.236760154177944, -8.273193839830563, -8.309586130674454, -8.345936780578553, -8.382245543606428, -8.418512174017792, -8.45473642627, -8.490918055020014, -8.5270568151259, -8.563152461648327, -8.59920474985254, -8.635213435209835, -8.671178273399073, -8.707099020308636, -8.742975432037866, -8.778807264898814, -8.81459427541769, -8.85033622033681, -8.88603285661609, -8.921683941434539, -8.9572892321922, -8.992848486511654, -9.028361462239497, -9.063827917448284, -9.099247610438033, -9.134620299737689, -9.169945744107082, -9.205223702538348, -9.240453934257678, -9.275636198726742, -9.310770255644632, -9.345855864949327, -9.380892786819192, -9.415880781674904, -9.450819610180918, -9.48570903324696, -9.520548812029949, -9.55533870793547, -9.59007848261924, -9.624767897989058, -9.659406716206242, -9.693994699687126, -9.728531611104966, -9.763017213391365, -9.79745126973798, -9.83183354359796, -9.866163798687825, -9.900441798988968, -9.934667308749086, -9.968840092484111, -10.002959914979657, -10.037026541292484, -10.071039736752402, -10.104999266963732, -10.138904897806754, -10.172756395439608, -10.206553526299706, -10.240296057105414, -10.27398375485748, -10.307616386840895, -10.341193720626366, -10.37471552407175, -10.408181565323952, -10.44159161282035, -10.474945435290268, -10.508242801756827, -10.54148348153841, -10.574667244250087, -10.607793859805499, -10.640863098418237, -10.673874730603531, -10.706828527179638, -10.739724259269694, -10.772561698303159, -10.805340616017242, -10.838060784458776, -10.870721975985619, -10.903323963268113, -10.935866519290913, -10.968349417354426, -11.000772431076234, -11.033135334392925, -11.065437901561541, -11.097679907160975, -11.129861126093823, -11.16198133358775, -11.194040305197136, -11.226037816804453, -11.257973644622089, -11.28984756519376, -11.321659355395918, -11.353408792439586, -11.385095653871746, -11.416719717576768, -11.448280761778205, -11.479778565040208, -11.511212906268927, -11.54258356471432, -11.573890319971497, -11.605132951982355, -11.636311241036926, -11.667424967775176, -11.698473913188383, -11.729457858620561, -11.760376585770215, -11.791229876691752, -11.82201751379686, -11.852739279856298, -11.883394958001263, -11.913984331724793, -11.944507184883529, -11.974963301699052, -12.005352466759483, -12.03567446502081, -12.065929081808656, -12.09611610281965, -12.126235314122797, -12.15628650216124, -12.186269453753614, -12.21618395609543, -12.246029796760808, -12.275806763703851, -12.305514645259994, -12.335153230147753, -12.364722307470078, -12.394221666715715, -12.423651097760924, -12.453010390870805, -12.482299336700846, -12.511517726298232, -12.54066535110357, -12.569742002952228, -12.598747474075681, -12.627681557103223, -12.656544045063304, -12.685334731384872, -12.714053409899067, -12.742699874840566, -12.771273920848913, -12.7997753429702, -12.828203936658372, -12.856559497776747, -12.884841822599295, -12.913050707812333, -12.941185950515836, -12.969247348224751, -12.99723469887069, -13.025147800803222, -13.052986452791194, -13.080750454024408, -13.108439604114906, -13.136053703098295, -13.1635925514354, -13.191055950013514, -13.21844370014791, -13.24575560358309, -13.27299146249443, -13.300151079489481, -13.327234257609247, -13.35424080032983, -13.38117051156372, -13.408023195661071, -13.43479865741133, -13.46149670204452, -13.488117135232523, -13.51465976309068, -13.541124392179084, -13.567510829503842, -13.593818882518688, -13.620048359126203, -13.64619906767928, -13.67227081698234, -13.698263416292928, -13.72417667532298, -13.750010404240065, -13.77576441366898, -13.801438514693007, -13.827032518855143, -13.852546238159695, -13.877979485073512, -13.903332072527238, -13.92860381391687, -13.953794523104959, -13.978904014422028, -14.00393210266777, -14.028878603112604, -14.05374333149889, -14.078526104042165, -14.103226737432692, -14.127845048836663, -14.152380855897432, -14.176833976737043, -14.201204229957444, -14.225491434641691, -14.249695410355486, -14.273815977148335, -14.297852955554928, -14.321806166596314, -14.345675431781391, -14.36946057310813, -14.393161413064735, -14.416777774631177, -14.440309481280352, -14.463756356979282, -14.48711822619061, -14.510394913873759, -14.533586245486134, -14.556692046984582, -14.579712144826576, -14.602646365971383, -14.62549453788152, -14.648256488523911, -14.670932046371187, -14.693521040402832, -14.716023300106626, -14.738438655479808, -14.760766937030217, -14.783007975777748, -14.805161603255486, -14.827227651510857, -14.849205953107052, -14.871096341124183, -14.892898649160392, -14.9146127113333, -14.93623836228108, -14.957775437163761, -14.979223771664316, -15.00058320199006, -15.021853564873783, -15.043034697574855, -15.06412643788063, -15.085128624107545, -15.106041095102242, -15.126863690242939, -15.147596249440536, -15.168238613139726, -15.18879062232035, -15.2092521184985, -15.229622943727609, -15.24990294059981, -15.270091952246995, -15.290189822342038, -15.310196395099865, -15.330111515278777, -15.34993502818153, -15.369666779656416, -15.389306616098587, -15.40885438445112, -15.428309932206087, -15.447673107405867, -15.466943758644208, -15.486121735067282, -15.505206886374989, -15.524199062821978, -15.54309811521884, -15.561903894933113, -15.580616253890584, -15.599235044576313, -15.617760120035683, -15.63619133387566, -15.65452854026584, -15.672771593939464, -15.690920350194677, -15.708974664895573, -15.726934394473176, -15.744799395926727, -15.762569526824644, -15.780244645305674, -15.797824610079866, -15.815309280429814, -15.832698516211641, -15.849992177856011, -15.867190126369348, -15.884292223334812, -15.90129833091331, -15.91820831184468, -15.935022029448694, -15.95173934762602, -15.968360130859423, -15.984884244214744, -16.001311553341857, -16.01764192447586, -16.033875224438013, -16.050011320636802, -16.0660500810689, -16.081991374320317, -16.09783506956733, -16.113581036577475, -16.12922914571065, -16.14477926792009, -16.1602312747533, -16.175585038353177, -16.19084043145895, -16.20599732740712, -16.22105560013256, -16.23601512416944, -16.250875774652247, -16.26563742731666, -16.28029995850068, -16.294863245145535, -16.30932716479658, -16.32369159560439, -16.337956416325664, -16.35212150632411, -16.366186745571543, -16.380152014648754, -16.394017194746418, -16.407782167666138, -16.421446815821316, -16.435011022238125, -16.44847467055638, -16.46183764503055, -16.475099830530652, -16.48826111254311, -16.50132137717178, -16.514280511138814, -16.527138401785507, -16.539894937073328, -16.552550005584738, -16.565103496524074, -16.57755529971853, -16.58990530561898, -16.602153405300847, -16.61429949046506, -16.626343453438892, -16.638285187176837, -16.65012458526144, -16.661861541904265, -16.673495951946695, -16.685027710860744, -16.696456714750035, -16.70778286035057, -16.719006045031552, -16.730126166796325, -16.741143124283152, -16.75205681676603, -16.762867144155585, -16.773574006999866, -16.784177306485194, -16.794676944436908, -16.805072823320295, -16.81536484624134, -16.8255529169475, -16.835636939828603, -16.845616819917584, -16.85549246289127, -16.86526377507123, -16.874930663424543, -16.88449303556453, -16.89395079975163, -16.903303864894095, -16.912552140548833, -16.92169553692209, -16.93073396487031, -16.93966733590085, -16.948495562172706, -16.957218556497338, -16.965836232339377, -16.97434850381735, -16.982755285704474, -16.991056493429365, -16.999252043076744, -17.007341851388226, -17.015325835763008, -17.02320391425857, -17.030976005591445, -17.038642029137886, -17.046201904934613, -17.05365555367946, -17.061002896732134, -17.068243856114908, -17.07537835451324, -17.082406315276565, -17.089327662418917, -17.096142320619585, -17.102850215223867, -17.109451272243685, -17.115945418358248, -17.122332580914744, -17.128612687928985, -17.13478566808608, -17.140851450741035, -17.14680996591945, -17.15266114431816, -17.158404917305816, -17.1640412169236, -17.1695699758858, -17.174991127580427, -17.180304606069893, -17.185510346091576, -17.19060828305844, -17.19559835305967, -17.200480492861246, -17.205254639906574, -17.20992073231703, -17.214478708892614, -17.2189285091125, -17.223270073135616, -17.227503341801242, -17.23162825662958, -17.2356447598223, -17.239552794263147, -17.243352303518463, -17.247043231837768, -17.25062552415431, -17.2540991260856, -17.257463983933967, -17.260720044687105, -17.26386725601859, -17.266905566288433, -17.269834924543577, -17.272655280518453, -17.27536658463548, -17.277968788005573, -17.280461842428668, -17.282845700394226, -17.28512031508171, -17.28728564036112, -17.289341630793455, -17.291288241631204, -17.29312542881885, -17.294853148993322, -17.296471359484496, -17.29798001831563, -17.299379084203878, -17.300668516560705, -17.301848275492365, -17.302918321800366, -17.30387861698189, -17.304729123230256, -17.305469803435358, -17.306100621184097, -17.306621540760805, -17.30703252714768, -17.30733354602521, -17.307524563772574, -17.307605547468082, -17.30757646488955, -17.307437284514737, -17.30718797552172, -17.306828507789298, -17.306358851897382, -17.305778979127385, -17.305088861462604, -17.304288471588574, -17.303377782893488, -17.302356769468517, -17.30122540610819, -17.299983668310784, -17.298631532278623, -17.29716897491847, -17.295595973841856, -17.29391250736543, -17.292118554511294, -17.290214095007315, -17.288199109287486, -17.286073578492232, -17.28383748446872, -17.281490809771196, -17.27903353766127, -17.27646565210824, -17.27378713778938, -17.270997980090254, -17.26809816510498, -17.265087679636533, -17.261966511197045, -17.25873464800805, -17.255392079000764, -17.251938793816386, -17.24837478280632, -17.24470003703245, -17.240914548267423, -17.237018308994845, -17.23301131240957, -17.228893552417937, -17.224665023637986, -17.22032572139971, -17.21587564174526, -17.211314781429213, -17.20664313791874, -17.201860709393834, -17.196967494747554, -17.191963493586186, -17.186848706229448, -17.181623133710733, -17.176286777777232, -17.170839640890158, -17.16528172622495, -17.159613037671388, -17.153833579833815, -17.14794335803131, -17.141942378297806, -17.13583064738229, -17.129608172748924, -17.12327496257725, -17.116831025762266, -17.110276371914605, -17.103611011360687, -17.096834955142803, -17.08994821501926, -17.08295080346455, -17.075842733669383, -17.068624019540856, -17.06129467570257, -17.053854717494684, -17.046304160974053, -17.0386430229143, -17.03087132080594, -17.022989072856422, -17.014996297990212, -17.00689301584893, -16.99867924679134, -16.990355011893442, -16.981920332948587, -16.973375232467447, -16.964719733678116, -16.95595386052619, -16.94707763767472, -16.938091090504336, -16.928994245113216, -16.919787128317186, -16.910469767649676, -16.901042191361753, -16.8915044284222, -16.881856508517426, -16.87209846205153, -16.862230320146335, -16.852252114641296, -16.842163878093547, -16.831965643777906, -16.821657445686807, -16.811239318530287, -16.800711297736026, -16.79007341944921, -16.779325720532572, -16.7684682385663, -16.757501011848063, -16.74642407939288, -16.735237480933083, -16.723941256918334, -16.712535448515442, -16.701020097608357, -16.689395246798135, -16.677660939402767, -16.665817219457146, -16.65386413171302, -16.641801721638814, -16.62963003541958, -16.61734911995688, -16.604959022868737, -16.592459792489425, -16.579851477869394, -16.56713412877522, -16.554307795689358, -16.54137252981008, -16.52832838305137, -16.5151754080427, -16.501913658128935, -16.48854318737022, -16.475064050541743, -16.46147630313364, -16.44778000135078, -16.43397520211269, -16.42006196305328, -16.406040342520676, -16.391910399577156, -16.377672193998798, -16.363325786275382, -16.348871237610226, -16.334308609919884, -16.31963796583399, -16.304859368695123, -16.28997288255846, -16.2749785721916, -16.25987650307444, -16.244666741398802, -16.229349354068265, -16.213924408697928, -16.198391973614196, -16.182752117854463, -16.167004911166874, -16.15115042401017, -16.135188727553274, -16.11911989367509, -16.102943994964317, -16.086661104719017, -16.070271296946416, -16.053774646362687, -16.037171228392506, -16.02046111916888, -16.003644395532767, -15.986721135032893, -15.969691415925288, -15.952555317173044, -15.935312918446076, -15.917964300120651, -15.900509543279131, -15.882948729709716, -15.865281941905957, -15.8475092630665, -15.8296307770948, -15.81164656859863, -15.793556722889816, -15.77536132598384, -15.757060464599567, -15.738654226158724, -15.720142698785606, -15.701525971306772, -15.682804133250507, -15.663977274846504, -15.64504548702557, -15.626008861419047, -15.606867490358503, -15.587621466875403, -15.568270884700539, -15.548815838263682, -15.529256422693262, -15.509592733815763, -15.489824868155408, -15.469952922933675, -15.449976996068957, -15.42989718617596, -15.409713592565334, -15.389426315243306, -15.369035454911048, -15.348541112964309, -15.327943391493024, -15.307242393280669, -15.286438221803884, -15.265530981232063, -15.2445207764267, -15.223407712941025, -15.202191897019427, -15.180873435597098, -15.159452436299333, -15.137929007441118, -15.116303258026706, -15.094575297748912, -15.072745236988691, -15.050813186814691, -15.028779258982555, -15.006643565934448, -14.984406220798633, -14.962067337388733, -14.939627030203297, -14.917085414425197, -14.894442605921176, -14.871698721241104, -14.848853877617515, -14.8259081929651, -14.802861785879967, -14.779714775639146, -14.756467282200079, -14.733119426199869, -14.709671328954743, -14.686123112459585, -14.662474899387105, -14.638726813087343, -14.614878977587153, -14.590931517589377, -14.56688455847236, -14.542738226289254, -14.51849264776752, -14.494147950308086, -14.469704261984804, -14.445161711543918, -14.420520428403192, -14.395780542651366, -14.3709421850476, -14.346005487020593, -14.320970580668032, -14.295837598756009, -14.270606674718142, -14.245277942655028, -14.219851537333486, -14.194327594186007, -14.168706249309844, -14.142987639466426, -14.11717190208074, -14.091259175240427, -14.065249597695164, -14.03914330885606, -14.012940448794705, -13.986641158242563, -13.960245578590342, -13.933753851887042, -13.907166120839355, -13.880482528810846, -13.853703219821364, -13.82682833854604, -13.799858030314663, -13.772792441111017, -13.745631717571886, -13.718376006986405, -13.691025457295384, -13.663580217090304, -13.636040435612653, -13.608406262753235, -13.580677849051158, -13.552855345693143, -13.524938904512844, -13.4969286779898, -13.468824819248777, -13.44062748205888, -13.412336820832888, -13.383952990626188, -13.355476147136061, -13.326906446700976, -13.298244046299505, -13.269489103549603, -13.24064177670788, -13.211702224668505, -13.182670606962473, -13.153547083756868, -13.124331815853752, -13.095024964689458, -13.065626692333634, -13.036137161488533, -13.00655653548788, -12.976884978296107, -12.947122654507595, -12.917269729345518, -12.887326368661078, -12.857292738932719, -12.82716900726497, -12.796955341387662, -12.766651909655131, -12.736258881045051, -12.705776425157623, -12.675204712214786, -12.644543913059021, -12.613794199152581, -12.58295574257647, -12.552028716029662, -12.52101329282789, -12.489909646902824, -12.458717952801244, -12.427438385683807, -12.396071121324216, -12.364616336108371, -12.333074207033148, -12.30144491170552, -12.269728628341735, -12.237925535766035, -12.20603581340986, -12.174059641310755, -12.141997200111534, -12.109848671059023, -12.07761423600318, -12.045294077396203, -12.012888378291258, -11.980397322341583, -11.94782109379959, -11.91515987751558, -11.882413858936824, -11.849583224106674, -11.816668159663237, -11.783668852838515, -11.750585491457262, -11.717418263936105, -11.684167359282215, -11.650832967092377, -11.61741527755206, -11.583914481434073, -11.550330770097613, -11.516664335487343, -11.48291537013201, -11.449084067143506, -11.415170620215918, -11.381175223624137, -11.347098072222904, -11.312939361445862, -11.278699287304132, -11.24437804638542, -11.209975835852775, -11.175492853443693, -11.14092929746867, -11.106285366810242, -11.071561260921982, -11.036757179827077, -11.001873324117334, -10.96690989495218, -10.93186709405721, -10.896745123723205, -10.861544186805087, -10.826264486720495, -10.790906227448799, -10.755469613529833, -10.719954850062928, -10.68436214270543, -10.64869169767167, -10.612943721731929, -10.577118422210951, -10.541216006986899, -10.505236684490303, -10.46918066370257, -10.433048154154923, -10.39683936592734, -10.360554509647049, -10.324193796487505, -10.287757438167072, -10.251245646948005, -10.214658635634917, -10.177996617573688, -10.141259806650405, -10.104448417289795, -10.067562664454144, -10.030602763642214, -9.993568930887665, -9.956461382757965, -9.919280336353289, -9.88202600930494, -9.844698619774247, -9.807298386451444, -9.769825528554081, -9.732280265825972, -9.69466281853579, -9.656973407476002, -9.619212253961269, -9.581379579827303, -9.543475607429732, -9.505500559642488, -9.467454659856658, -9.429338131979343, -9.391151200432013, -9.35289409014937, -9.31456702657818, -9.276170235675634, -9.237703943908237, -9.199168378250368, -9.160563766183174, -9.12189033569289, -9.083148315269684, -9.044337933906455, -9.005459421097179, -8.966513006835706, -8.927498921614584, -8.888417396423359, -8.849268662747383, -8.810052952566624, -8.770770498353947, -8.731421533073982, -8.692006290181626, -8.652525003620886, -8.612977907823172, -8.573365237706067, -8.533687228672111, -8.493944116607066, -8.454136137878699, -8.414263529335535, -8.374326528305128, -8.334325372592817, -8.294260300480483, -8.254131550724802, -8.213939362555992, -8.173683975676564, -8.133365630259553, -8.092984566947324, -8.052541026850024, -8.012035251544372, -7.971467483071881, -7.9308379639375906, -7.890146937108792, -7.849394646013229, -7.808581334537829, -7.767707247027415, -7.726772628282903, -7.685777723560011, -7.644722778567971, -7.60360803946771, -7.562433752870614, -7.521200165836931, -7.4799075258745304, -7.438556080937071, -7.397146079422691, -7.355677770172693, -7.314151402469703, -7.2725672260363545, -7.23092549103396, -7.189226448060664, -7.147470348150112, -7.105657442770119, -7.063787983820806, -7.021862223633324, -6.979880414968213, -6.937842811014127, -6.895749665385945, -6.853601232123432, -6.811397765689879, -6.76913952097022, -6.72682675326967, -6.684459718312365, -6.642038672239466, -6.599563871607787, -6.557035573388428, -6.514454034964868, -6.471819514131584, -6.429132269092675, -6.386392558459946, -6.343600641251576, -6.300756776890435, -6.25786122520276, -6.214914246416211, -6.171916101158481, -6.1288670504559, -6.085767355731486, -6.042617278803541, -5.999417081884255, -5.956167027577736, -5.91286737887861, -5.869518399170601, -5.826120352224568, -5.782673502197147, -5.739178113629019, -5.695634451443551, -5.652042780944816, -5.608403367816163, -5.56471647811878, -5.520982378289712, -5.477201335140414, -5.433373615855323, -5.389499487989843, -5.345579219468915, -5.3016130785855555, -5.257601333998858, -5.213544254732594, -5.169442110173449, -5.1252951700696245, -5.081103704528822, -5.03686798401677, -4.992588279355766, -4.948264861722637, -4.90389800264728, -4.859487974011172, -4.815035048045347, -4.770539497328901, -4.7260015947875225, -4.681421613691436, -4.636799827653916, -4.592136510629803, -4.54743193691344, -4.5026863811372415, -4.457900118269886, -4.4130734236148745, -4.368206572808465, -4.323299841818168, -4.278353506941233, -4.233367844802583, -4.18834313235329, -4.143279646869074, -4.098177665948201, -4.05303746750998, -4.007859329793231, -3.9626435313541957, -3.917390351065072, -3.8721000681121684, -3.82677296199444, -3.7814093125213804, -3.736009399811483, -3.6905735042907124, -3.645101906690381, -3.599594888045611, -3.5540527296937925, -3.5084757132724564, -3.462864120717729, -3.417218234262779, -3.371538336435689, -3.3258247100579625, -3.2800776382426453, -3.2342974043928314, -3.1884842921995222, -3.1426385856400576, -3.0967605689765567, -3.0508505267537656, -3.004908743797484, -2.958935505212998, -2.9129310963829202, -2.8668958029656126, -2.8208299108936097, -2.774733706371452, -2.7286074758741043, -2.682451506145371, -2.636266084195722, -2.5900514973007716, -2.543808032999358, -2.4975359790920204, -2.4512356236388113, -2.404907254957705, -2.358551161622994, -2.3121676324631015, -2.2657569565589797, -2.219319423242503, -2.172855322094272, -2.1263649429420037, -2.079848575858924, -2.0333065111615602, -1.9867390394081947, -1.9401464513969198, -1.8935290381640832, -1.8468870909820774, -1.8002209013577162, -1.7535307610306123, -1.7068169619709566, -1.6600797963778906, -1.6133195566778777, -1.5665365355224778, -1.5197310257867118, -1.4729033205674296, -1.426053713181075, -1.3791824971621174, -1.332289966261075, -1.2853764144429434, -1.2384421358849536, -1.191487424974925, -1.144512576309621, -1.0975178846925004, -1.050503645132066, -1.0034701528402141, -0.9564177032299814, -0.909346591913888, -0.8622571147022807, -0.8151495676010752, -0.7680242468100941, -0.7208814487214052, -0.6737214699170573, -0.6265446071674808, -0.5793511574294875, -0.5321414178446671, -0.48491568573711713, -0.43767425861177023, -0.39041743415272007, -0.3431455102209454, -0.29585878485263234, -0.2485575562574964, -0.20124212281650053, -0.15391278308017362, -0.10656983576692712, -0.0592135797607687, -0.011844314109682586, 0.03553766197639255, 0.08293204912718574, 0.13033854781438706, 0.17775685835333968, 0.22518668090473332, 0.2726277154769023, 0.3200796619275219, 0.36754221996530634, 0.4150150891523107, 0.4624979689056328, 0.5099905584991135, 0.5574925570656454, 0.6050036635988092, 0.6525235769549164, 0.7000519958546484, 0.7475886188853702, 0.7951331445028406, 0.8426852710329223, 0.8902446966739005, 0.937811119498196, 0.98538423745408, 1.0329637483679965, 1.080549349946279, 1.1281407397768695, 1.1757376153316434, 1.2233396739681321, 1.2709466129312443, 1.3185581293555948, 1.3661739202671634, 1.413793682585356, 1.4614171131246654, 1.5090439085970053, 1.5566737656134384, 1.6043063806859088, 1.6519414502295782, 1.69957867056456, 1.7472177379176508, 1.7948583484246745, 1.8425001981322155, 1.8901429829993575, 1.9377863989000268, 1.9854301416246645, 2.0330739068823034, 2.0807173903022416, 2.128360287436391, 2.17600229376102, 2.223643104678499, 2.2712824155196496, 2.3189199215454925, 2.3665553179489938, 2.4141882998574187, 2.4618185623340803, 2.509445800380091, 2.5570697089367167, 2.6046899828870633, 2.6523063170581653, 2.69991840622267, 2.7475259451012, 2.7951286283641066, 2.842726150633226, 2.890318206484243, 2.937904490448447, 2.98548469701449, 3.033058520630753, 3.080625655707104, 3.1281857966166595, 3.175738637698152, 3.2232838732576905, 3.270821197570524, 3.3183503048834107, 3.365870889416315, 3.413382645364507, 3.4608852669002634, 3.5083784481752356, 3.5558618833222204, 3.603335266456924, 3.650798291680338, 3.6982506530805037, 3.7456920447342883, 3.793122160709751, 3.8405406950679226, 3.887947341864568, 3.935341795152569, 3.982723748983625, 4.030092897410364, 4.077448934488046, 4.124791554276944, 4.172120450844117, 4.219435318265181, 4.266735850626697, 4.314021742027934, 4.361292686582656, 4.408548378421499, 4.4557885116937435, 4.503012780569097, 4.550220879240074, 4.597412501923702, 4.644587342863645, 4.691745096331904, 4.738885456631208, 4.786008118096788, 4.83311277509816, 4.880199122041506, 4.927266853371451, 4.974315663572853, 5.021345247173179, 5.068355298744283, 5.1153455129042, 5.162315584319514, 5.209265207707151, 5.256194077836162, 5.303101889530094, 5.349988337668718, 5.396853117190142, 5.443695923092531, 5.490516450436478, 5.537314394346802, 5.584089450014324, 5.6308413126982515, 5.677569677727961, 5.724274240504786, 5.770954696504396, 5.817610741278582, 5.864242070457039, 5.910848379749753, 5.957429364948713, 6.003984721930031, 6.050514146655662, 6.097017335175777, 6.1434939836305595, 6.18994378825198, 6.236366445366181, 6.282761651395259, 6.329129102859056, 6.37546849637753, 6.421779528672542, 6.468061896569645, 6.514315297000457, 6.560539427004379, 6.606733983730717, 6.652898664440388, 6.699033166508304, 6.745137187425158, 6.791210424799199, 6.837252576358615, 6.883263339953314, 6.929242413556702, 6.975189495268067, 7.021104283314351, 7.066986476051939, 7.1128357719690305, 7.158651869687418, 7.20443446796427, 7.250183265694505, 7.295897961912502, 7.341578255794208, 7.38722384665886, 7.432834433971345, 7.4784097173439825, 7.523949396538305, 7.569453171467424, 7.6149207421978025, 7.660351808951045, 7.705746072106249, 7.75110323220179, 7.7964229899370965, 7.841705046175007, 7.886949101943489, 7.932154858437732, 7.977322017021865, 8.022450279231306, 8.06753934677454, 8.112588921534897, 8.157598705572902, 8.202568401128042, 8.247497710620557, 8.29238633665377, 8.337233982015874, 8.382040349681697, 8.426805142815043, 8.47152806477048, 8.516208819095091, 8.56084710953083, 8.605442640016221, 8.64999511468845, 8.694504237885058, 8.738969714146293, 8.783391248216867, 8.827768545047734, 8.872101309798403, 8.916389247838726, 8.960632064750644, 9.00482946633053, 9.048981158590948, 9.09308684776241, 9.137146240295708, 9.181159042863609, 9.225124962362932, 9.26904370591624, 9.31291498087416, 9.356738494817145, 9.400513955557232, 9.444241071140349, 9.487919549848082, 9.531549100199417, 9.575129430953067, 9.618660251109207, 9.662141269911244, 9.705572196848106, 9.748952741655946, 9.792282614320191, 9.835561525077232, 9.87878918441672, 9.92196530308332, 9.965089592078447, 10.008161762662574, 10.051181526356963, 10.094148594945416, 10.137062680476562, 10.179923495265603, 10.222730751896043, 10.26548416322198, 10.308183442369856, 10.350828302740162, 10.39341845800975, 10.435953622133491, 10.478433509346315, 10.520857834164874, 10.56322631138983, 10.605538656107573, 10.647794583691958, 10.689993809806563, 10.732136050406421, 10.774221021739745, 10.816248440350197, 10.858218023078596, 10.900129487064644, 10.941982549749193, 10.983776928875892, 11.02551234249321, 11.067188508956082, 11.108805146928178, 11.150361975383586, 11.19185871360856, 11.233295081203735, 11.274670798085847, 11.31598558448944, 11.357239160969112, 11.3984312484012, 11.439561567985505, 11.48062984124751, 11.521635790040026, 11.562579136545185, 11.603459603276086, 11.644276913078997, 11.685030789135077, 11.725720954962052, 11.766347134416437, 11.806909051695222, 11.84740643133757, 11.887838998227021, 11.928206477593175, 11.96850859501338, 12.008745076414941, 12.048915648076788, 12.089020036631165, 12.12905796906583, 12.169029172725658, 12.208933375314617, 12.248770304897388, 12.288539689901528, 12.328241259119169, 12.367874741708667, 12.407439867196784, 12.446936365480363, 12.486363966827984, 12.52572240188213, 12.565011401660854, 12.604230697559451, 12.643380021352588, 12.682459105195935, 12.721467681628079, 12.760405483572137, 12.799272244337889, 12.83806769762344, 12.876791577516865, 12.915443618498351, 12.95402355544184, 12.992531123616669, 13.030966058689714, 13.069328096727014, 13.107616974195425, 13.145832427964729, 13.18397419530923, 13.222042013909636, 13.260035621854653, 13.297954757643094, 13.335799160185502, 13.37356856880577, 13.41126272324326, 13.44888136365441, 13.486424230614363, 13.523891065119049, 13.561281608586816, 13.598595602860032, 13.635832790207177, 13.672992913324446, 13.71007571533737, 13.747080939802869, 13.784008330710833, 13.820857632485954, 13.857628589989298, 13.894320948520354, 13.930934453818642, 13.967468852065286, 14.003923889885094, 14.040299314348125, 14.076594872971294, 14.112810313720404, 14.148945385011734, 14.184999835713622, 14.220973415148498, 14.256865873094405, 14.292676959786835, 14.328406425920246, 14.364054022650082, 14.39961950159435, 14.43510261483517, 14.470503114920803, 14.505820754867205, 14.541055288159582, 14.576206468754402, 14.61127405108094, 14.646257790042835, 14.681157441020082, 14.715972759870533, 14.750703502931673, 14.785349427022137, 14.819910289443666, 14.854385847982659, 14.888775860911707, 14.923080086991558, 14.95729828547264, 14.991430216096612, 15.025475639098302, 15.05943431520723, 15.09330600564915, 15.127090472147973, 15.160787476927297, 15.194396782711918, 15.22791815272976, 15.261351350713355, 15.294696140901564, 15.32795228804104, 15.361119557388156, 15.394197714710502, 15.427186526288379, 15.460085758916707, 15.49289517990652, 15.525614557086463, 15.558243658804672, 15.590782253930273, 15.623230111854866, 15.655587002494395, 15.687852696290598, 15.720026964212696, 15.75210957775882, 15.784100308957887, 15.815998930371064, 15.847805215093224, 15.879518936754826, 15.911139869523348, 15.942667788104758, 15.974102467745363, 16.00544368423325, 16.03669121389974, 16.067844833621223, 16.098904320820555, 16.129869453468718, 16.1607400100862, 16.191515769744836, 16.222196512069228, 16.25278201723816, 16.283272065986434, 16.313666439606276, 16.34396491994875, 16.374167289425564, 16.40427333101049, 16.434282828240754, 16.46419556521884, 16.494011326613894, 16.523729897663106, 16.55335106417351, 16.582874612523316, 16.612300329663523, 16.641628003119262, 16.670857420991563, 16.699988371958714, 16.72902064527767, 16.75795403078579, 16.786788318902193, 16.815523300629152, 16.84415876755383, 16.872694511849613, 16.901130326277507, 16.929466004187844, 16.9577013395216, 16.985836126811943, 17.013870161185544, 17.041803238364295, 17.069635154666628, 17.097365707008876, 17.12499469290696, 17.152521910477706, 17.1799471584402, 17.207270236117452, 17.234490943437727, 17.261609080935862, 17.288624449754938, 17.315536851647536, 17.342346088977276, 17.36905196472005, 17.395654282465696, 17.422152846419287, 17.448547461402434, 17.474837932854925, 17.501024066836006, 17.527105670025676, 17.553082549726316, 17.57895451386396, 17.604721370989566, 17.630382930280657, 17.655939001542553, 17.681389395209674, 17.706733922347112, 17.731972394651862, 17.757104624454268, 17.78213042471924, 17.807049609047827, 17.831861991678466, 17.85656738748823, 17.881165611994394, 17.905656481355667, 17.930039812373426, 17.954315422493266, 17.978483129806243, 18.00254275305007, 18.02649411161067, 18.05033702552337, 18.074071315474256, 18.097696802801384, 18.121213309496266, 18.144620658205092, 18.16791867222993, 18.191107175530224, 18.214185992723976, 18.23715494908896, 18.260013870564187, 18.282762583751094, 18.30540091591474, 18.32792869498524, 18.35034574955895, 18.372651908899773, 18.39484700294028, 18.416930862283206, 18.43890331820255, 18.46076420264478, 18.482513348230245, 18.504150588254323, 18.52567575668858, 18.547088688182175, 18.568389218062997, 18.589577182338815, 18.610652417698674, 18.631614761514008, 18.652464051839793, 18.67320012741591, 18.693822827668246, 18.71433199270994, 18.734727463342484, 18.75500908105707, 18.775176688035714, 18.79523012715232, 18.815169241974072, 18.834993876762496, 18.854703876474566, 18.874299086764022, 18.893779353982463, 18.913144525180424, 18.932394448108692, 18.951528971219336, 18.97054794366693, 18.98945121530957, 19.008238636710185, 19.026910059137585, 19.045465334567506, 19.063904315683903, 19.082226855879984, 19.100432809259253, 19.11852203063678, 19.136494375540217, 19.15434970021085, 19.17208786160483, 19.18970871739417, 19.20721212596788, 19.224597946432993, 19.241866038615736, 19.259016263062563, 19.276048481041165, 19.292962554541667, 19.309758346277626, 19.32643571968701, 19.34299453893341, 19.359434668907017, 19.37575597522559, 19.391958324235635, 19.408041583013393, 19.42400561936578, 19.439850301831566, 19.455575499682304, 19.471181082923398, 19.486666922295022, 19.502032889273277, 19.51727885607111, 19.532404695639265, 19.547410281667407, 19.562295488585047, 19.577060191562474, 19.591704266511844, 19.606227590088125, 19.620630039689992, 19.63491149346091, 19.64907183029004, 19.66311092981323, 19.67702867241388, 19.69082493922403, 19.704499612125232, 19.718052573749446, 19.731483707480088, 19.744792897452903, 19.757980028556833, 19.77104498643506, 19.783987657485877, 19.79680792886351, 19.8095056884792, 19.822080825001958, 19.834533227859573, 19.846862787239388, 19.859069394089314, 19.871152940118662, 19.883113317798976, 19.894950420365003, 19.906664141815522, 19.918254376914152, 19.929721021190325, 19.941063970940085, 19.952283123226902, 19.963378375882595, 19.974349627508158, 19.98519677747452, 19.995919725923507, 20.006518373768564, 20.01699262269566, 20.027342375164004, 20.03756753440697, 20.047668004432868, 20.05764369002569, 20.067494496745994, 20.07722033093168, 20.086821099698714, 20.09629671094201, 20.105647073336158, 20.11487209633618, 20.123971690178347, 20.13294576588093, 20.141794235244966, 20.150517010854966, 20.159114006079733, 20.1675851350731, 20.1759303127746, 20.184149454910294, 20.192242477993474, 20.200209299325333, 20.208049836995773, 20.215764009884076, 20.223351737659605, 20.230812940782545, 20.23814754050459, 20.24535545886964, 20.25243661871447, 20.259390943669462, 20.26621835815927, 20.272918787403466, 20.279492157417263, 20.285938395012156, 20.292257427796564, 20.298449184176537, 20.304513593356376, 20.310450585339268, 20.316260090927965, 20.321942041725407, 20.32749637013532, 20.332923009362908, 20.338221893415415, 20.343392957102793, 20.34843613603826, 20.353351366638954, 20.358138586126525, 20.362797732527696, 20.36732874467491, 20.37173156220689, 20.376006125569194, 20.380152376014845, 20.384170255604875, 20.388059707208882, 20.391820674505606, 20.39545310198348, 20.398956934941207, 20.402332119488243, 20.4055786025454, 20.408696331845366, 20.411685255933214, 20.414545324166955, 20.417276486718038, 20.419878694571878, 20.422351899528365, 20.424696054202368, 20.426911112024225, 20.42899702724025, 20.43095375491323, 20.432781250922883, 20.434479471966366, 20.43604837555873, 20.437487920033394, 20.438798064542617, 20.43997876905794, 20.44102999437067, 20.44195170209228, 20.4427438546549, 20.443406415311728, 20.44393934813747, 20.444342618028767, 20.44461619070462, 20.444760032706803, 20.444774111400275, 20.444658394973587, 20.44441285243929, 20.444037453634312, 20.443532169220386, 20.442896970684387, 20.442131830338756, 20.44123672132184, 20.440211617598294, 20.439056493959427, 20.437771326023558, 20.43635609023638, 20.43481076387131, 20.43313532502983, 20.431329752641815, 20.429394026465875, 20.427328127089694, 20.425132035930336, 20.422805735234565, 20.420349208079163, 20.41776243837123, 20.415045410848492, 20.412198111079594, 20.40922052546439, 20.406112641234223, 20.402874446452227, 20.399505930013575, 20.396007081645752, 20.39237789190884, 20.388618352195767, 20.384728454732546, 20.38070819257854, 20.3765575596267, 20.372276550603807, 20.367865161070682, 20.36332338742246, 20.35865122688876, 20.353848677533925, 20.348915738257247, 20.343852408793143, 20.338658689711362, 20.33333458241722, 20.327880089151726, 20.322295212991804, 20.316579957850465, 20.310734328476993, 20.30475833045709, 20.29865197021304, 20.292415255003903, 20.28604819292561, 20.279550792911152, 20.27292306473072, 20.266165018991806, 20.25927666713937, 20.252258021455965, 20.245109095061824, 20.237829901915, 20.230420456811455, 20.222880775385217, 20.215210874108404, 20.20741077029135, 20.199480482082734, 20.19142002846958, 20.18322942927738, 20.174908705170196, 20.166457877650657, 20.15787696906005, 20.149166002578415, 20.140325002224525, 20.13135399285596, 20.122253000169188, 20.113022050699517, 20.103661171821187, 20.094170391747348, 20.08454973953015, 20.074799245060653, 20.064918939068896, 20.05490885312392, 20.044769019633694, 20.034499471845137, 20.02410024384416, 20.013571370555532, 20.002912887742927, 19.992124832008926, 19.981207240794873, 19.970160152380927, 19.958983605885955, 19.94767764126755, 19.936242299321876, 19.92467762168366, 19.912983650826167, 19.901160430061015, 19.889208003538158, 19.877126416245847, 19.86491571401044, 19.852575943496344, 19.840107152205977, 19.82750938847955, 19.814782701495037, 19.801927141267992, 19.788942758651526, 19.775829605336053, 19.762587733849216, 19.749217197555808, 19.7357180506575, 19.722090348192744, 19.7083341460367, 19.69444950090094, 19.680436470333323, 19.666295112717915, 19.652025487274667, 19.6376276540593, 19.623101673963184, 19.608447608712996, 19.59366552087063, 19.57875547383294, 19.563717531831596, 19.548551759932778, 19.53325822403697, 19.517836990878852, 19.50228812802688, 19.486611703883163, 19.470807787683253, 19.45487644949577, 19.438817760222232, 19.422631791596835, 19.406318616186073, 19.389878307388546, 19.373310939434646, 19.35661658738636, 19.33979532713685, 19.322847235410233, 19.305772389761337, 19.288570868575277, 19.2712427510672, 19.253788117282056, 19.236207048094126, 19.218499625206768, 19.200665931152162, 19.18270604929084, 19.164620063811416, 19.14640805973021, 19.12807012289099, 19.10960633996446, 19.091016798447978, 19.072301586665265, 19.053460793765876, 19.034494509724876, 19.01540282534258, 18.996185832243956, 18.97684362287835, 18.957376290519132, 18.937783929263148, 18.91806663403038, 18.898224500563614, 18.878257625427864, 18.858166106010025, 18.837950040518407, 18.81760952798241, 18.797144668251896, 18.776555561996837, 18.75584231070693, 18.735005016690984, 18.714043783076526, 18.69295871380942, 18.671749913653226, 18.65041748818878, 18.628961543813823, 18.60738218774232, 18.58567952800407, 18.563853673444157, 18.54190473372256, 18.519832819313446, 18.49763804150475, 18.475320512397744, 18.45288034490632, 18.43031765275653, 18.407632550486174, 18.38482515344403, 18.361895577789415, 18.338843940491714, 18.31567035932964, 18.292374952890782, 18.268957840570963, 18.245419142573805, 18.221758979909932, 18.1979774743965, 18.174074748656686, 18.15005092611889, 18.125906131016233, 18.10164048838605, 18.07725412406906, 18.052747164708858, 18.02811973775139, 18.0033719714441, 17.978503994835414, 17.953515937774203, 17.928407930908897, 17.903180105687007, 17.877832594354377, 17.852365529954664, 17.826779046328454, 17.8010732781127, 17.77524836074015, 17.749304430438432, 17.72324162422949, 17.69706007992899, 17.67075993614539, 17.64434133227937, 17.617804408523195, 17.59114930585981, 17.564376166062235, 17.537485131692794, 17.51047634610251, 17.483349953430153, 17.456106098601605, 17.428744927329216, 17.40126658611085, 17.373671222229202, 17.345958983751192, 17.31813001952692, 17.290184479189037, 17.262122513152082, 17.233944272611446, 17.20564990954275, 17.177239576700966, 17.148713427619775, 17.120071616610524, 17.09131429876154, 17.062441629937418, 17.033453766777978, 17.004350866697543, 16.97513308788423, 16.945800589298894, 16.91635353067436, 16.88679207251475, 16.857116376094346, 16.82732660345687, 16.797422917414757, 16.767405481548014, 16.737274460203523, 16.70703001849409, 16.676672322297716, 16.646201538256456, 16.615617833775662, 16.5849213770232, 16.55411233692829, 16.523190883180746, 16.49215718623016, 16.46101141728474, 16.429753748310517, 16.39838435203054, 16.36690340192369, 16.335311072223885, 16.303607537919095, 16.271792974750525, 16.239867559211415, 16.207831468546214, 16.175684880749735, 16.143427974565935, 16.111060929487063, 16.078583925752806, 16.04599714434905, 16.013300767007024, 15.980494976202424, 15.947579955154149, 15.91455588782349, 15.881422958913, 15.848181353865694, 15.81483125886373, 15.781372860827522, 15.747806347414867, 15.714131907019604, 15.680349728770741, 15.646460002531525, 15.612462918898125, 15.578358669198712, 15.544147445492545, 15.509829440568613, 15.475404847944713, 15.440873861866518, 15.406236677306202, 15.371493489961562, 15.336644496254815, 15.301689893331705, 15.266629879060112, 15.231464652029088, 15.196194411547898, 15.16081935764461, 15.125339691065125, 15.089755613272194, 15.054067326443999, 15.018275033473163, 14.982378937965764, 14.946379244239884, 14.910276157324672, 14.874069882959075, 14.837760627590898, 14.801348598375323, 14.764834003173899, 14.72821705055352, 14.691497949784946, 14.654676910841763, 14.617754144399363, 14.580729861833431, 14.54360427521891, 14.506377597328948, 14.469050041633393, 14.43162182229777, 14.394093154181975, 14.356464252839267, 14.318735334514706, 14.280906616144106, 14.242978315352943, 14.2049506504548, 14.166823840450277, 14.12859810502592, 14.090273664552624, 14.05185074008455, 14.01332955335801, 13.974710326789893, 13.935993283476531, 13.897178647192609, 13.858266642389541, 13.819257494194401, 13.780151428408534, 13.740948671506466, 13.701649450634278, 13.662253993608477, 13.622762528914825, 13.583175285706726, 13.543492493804044, 13.503714383691962, 13.463841186519318, 13.423873134097438, 13.383810458898957, 13.343653394056156, 13.303402173359832, 13.263057031257834, 13.222618202853933, 13.182085923906124, 13.14146043082543, 13.100741960674707, 13.05993075116692, 13.019027040663945, 12.978031068175348, 12.936943073356668, 12.895763296508179, 12.854491978573682, 12.813129361138753, 12.771675686429564, 12.730131197311366, 12.688496137287297, 12.646770750496627, 12.604955281713496, 12.563049976345676, 12.521055080432774, 12.478970840644983, 12.43679750428181, 12.394535319270284, 12.352184534163678, 12.309745398140235, 12.26721816100136, 12.22460307317032, 12.181900385690977, 12.139110350225938, 12.096233219055337, 12.053269245075223, 12.010218681796317, 11.967081783342174, 11.923858804447853, 11.88055000045862, 11.837155627328071, 11.793675941616812, 11.75011120049113, 11.706461661721125, 11.662727583679352, 11.618909225339507, 11.575006846274512, 11.531020706655246, 11.486951067248876, 11.442798189417568, 11.398562335116575, 11.354243766892871, 11.30984274788379, 11.26535954181509, 11.22079441299959, 11.176147626335785, 11.131419447305902, 11.08661014197452, 11.041719976987183, 10.996749219568434, 10.951698137520491, 10.906566999221523, 10.861356073624325, 10.81606563025432, 10.770695939208164, 10.72524727115233, 10.67971989732111, 10.634114089515199, 10.588430120100263, 10.542668262004945, 10.496828788719421, 10.450911974293971, 10.404918093336954, 10.35884742101337, 10.312700233043408, 10.266476805700417, 10.22017741580951, 10.173802340745787, 10.12735185843294, 10.080826247341195, 10.034225786485843, 9.98755075542578, 9.940801434261425, 9.89397810363325, 9.847081044720298, 9.800110539238096, 9.753066869437177, 9.705950318101577, 9.658761168546741, 9.611499704618103, 9.564166210689235, 9.51676097166041, 9.469284272956498, 9.421736400525447, 9.37411764083676, 9.326428280879387, 9.278668608160183, 9.230838910702392, 9.182939477043506, 9.134970596233726, 9.086932557834439, 9.038825651916047, 8.990650169056508, 8.942406400339442, 8.894094637352643, 8.845715172185919, 8.797268297429536, 8.748754306172646, 8.700173492001117, 8.651526148995963, 8.602812571731766, 8.554033055274498, 8.505187895179928, 8.456277387492051, 8.407301828740877, 8.358261515940853, 8.309156746589256, 8.259987818663996, 8.210755030622071, 8.161458681397628, 8.112099070400431, 8.062676497513621, 8.013191263092109, 7.963643667960965, 7.91403401341317, 7.864362601207999, 7.814629733569394, 7.764835713183713, 7.714980843198097, 7.665065427218838, 7.615089769309114, 7.565054173987417, 7.514958946225559, 7.464804391447104, 7.4145908155250755, 7.364318524780312, 7.313987825979811, 7.263599026334436, 7.213152433497251, 7.162648355561867, 7.1120871010601245, 7.061468978960434, 7.010794298666098, 6.960063370012999, 6.909276503267987, 6.858434009126843, 6.807536198712674, 6.756583383573565, 6.705575875680909, 6.654513987427694, 6.603398031626179, 6.552228321506182, 6.501005170713387, 6.449728893306982, 6.398399803757963, 6.347018216947412, 6.295584448164144, 6.244098813102983, 6.192561627863047, 6.140973208945373, 6.089333873251266, 6.037643938080209, 5.985903721128202, 5.934113540485381, 5.882273714634275, 5.830384562448072, 5.778446403188222, 5.7264595565026895, 5.674424342424211, 5.6223410813678845, 5.570210094129417, 5.5180317018833716, 5.465806226180752, 5.41353398894731, 5.361215312481419, 5.308850519452384, 5.256439932898008, 5.203983876222819, 5.151482673196305, 5.098936647950467, 5.046346124978041, 4.9937114291307205, 4.941032885616705, 4.888310819998912, 4.835545558193191, 4.782737426465865, 4.7298867514320095, 4.676993860053282, 4.624059079636206, 4.571082737829689, 4.518065162623229, 4.4650066823451, 4.411907625659879, 4.358768321566629, 4.305589099397087, 4.252370288813183, 4.199112219805205, 4.145815222689994, 4.09247962810844, 4.039105767023655, 3.9856939707191485, 3.9322445707963185, 3.8787578991726965, 3.8252342880797334, 3.7716740700610423, 3.718077577969875, 3.664445144967287, 3.6107771045202854, 3.5570737903993113, 3.5033355366763845, 3.449562677723258, 3.3957555482088804, 3.3419144830975407, 3.2880398176470136, 3.2341318874060145, 3.1801910282124153, 3.1262175761909994, 3.072211867751673, 3.0181742395869118, 2.96410502866989, 2.9100045722526082, 2.8558732078633353, 2.8017112733047247, 2.7475191066519447, 2.6932970462501054, 2.6390454307123745, 2.584764598918096, 2.530454890010213, 2.476116643393453, 2.4217501987320595, 2.36735589594797, 2.3129340752182324, 2.2584850769731104, 2.2040092418941817, 2.1495069109117457, 2.094978425202923, 2.0404241261897487, 1.9858443555365735, 1.931239455148154, 1.8766097671677444, 1.8219556339744893, 1.7672773981815086, 1.7125754026339828, 1.6578499904065387, 1.6031015048014086, 1.5483302893461197, 1.4935366877916514, 1.4387210441098102, 1.383883702491306, 1.3290250073438206, 1.2741453032893812, 1.2192449351624284, 1.1643242480078804, 1.1093835870785016, 1.0544232978329628, 0.9994437259339031, 0.9444452172452901, 0.8894281178305541, 0.8343927739502558, 0.779339532060218, 0.7242687388088783, 0.6691807410353389, 0.6140758857674162, 0.5589545202189883, 0.5038169917880397, 0.44866364805470627, 0.39349483677861635, 0.33831090589693186, 0.28311220352238803, 0.22789907794062944, 0.17267187760824626, 0.11743095115080952, 0.062176647360201905, 0.006909315192727766, -0.04837069623324691, -0.10366303763918731, -0.1589673595890654, -0.21428331249133406, -0.2696105466009023, -0.3249487120218154, -0.38029745870923376, -0.4356564364714119, -0.4910252949723836, -0.5464036837339447, -0.6017912521376358, -0.6571876494274332, -0.7125925247116556, -0.768005526965344, -0.8234263050321724, -0.8788545076271431, -0.9342897833385775, -0.9897317806301106, -1.0451801478433882, -1.100634533200064, -1.1560945848037956, -1.2115599506429475, -1.2670302785925909, -1.322505216416503, -1.3779844117698743, -1.4334675122012337, -1.4889541651548432, -1.5444440179726253, -1.5999367178968733, -1.655431912072261, -1.7109292475478481, -1.7664283712797983, -1.8219289301333872, -1.877430570885016, -1.9329329402249285, -1.988435684759225, -2.043938451011878, -2.0994408854274527, -2.154942634373124, -2.2104433441406948, -2.265942660949319, -2.3214402309474456, -2.3769357002152276, -2.4324287147664694, -2.4879189205513503, -2.543405963458453, -2.5988894893167833, -2.6543691438985046, -2.7098445729209617, -2.765315422048708, -2.8207813368962404, -2.876241963030026, -2.931696945970532, -2.9871459311949624, -3.0425885641392094, -3.098024490200278, -3.1534533547382386, -3.2088748030789684, -3.264288480516183, -3.3196940323134716, -3.3750911037070366, -3.430479339907734, -3.4858583861031045, -3.5412278874601206, -3.5965874891272205, -3.651936836236351, -3.707275573905709, -3.7626033472417046, -3.8179198013413918, -3.873224581294432, -3.928517332185842, -3.983797699098033, -4.039065327112854, -4.094319861314344, -4.1495609467907695, -4.204788228636673, -4.260001351955619, -4.315199961862245, -4.370383703484296, -4.425552221965389, -4.480705162467047, -4.535842170170756, -4.590962890280707, -4.646066968025772, -4.701154048661938, -4.756223777474286, -4.811275799779732, -4.866309760929084, -4.921325306309087, -4.976322081345179, -5.031299731503539, -5.0862579022931405, -5.141196239268497, -5.196114388031724, -5.25101199423458, -5.305888703581225, -5.360744161830194, -5.4155780147968375, -5.470389908355295, -5.525179488441251, -5.5799464010539825, -5.634690292258417, -5.689410808187886, -5.744107595046167, -5.798780299109551, -5.8534285667295896, -5.9080520443351405, -5.962650378434436, -6.017223215617823, -6.0717702025597395, -6.126290986021165, -6.180785212851588, -6.235252529991759, -6.289692584475746, -6.344105023432987, -6.39848949409104, -6.452845643777637, -6.5071731199227365, -6.561471570061274, -6.615740641835214, -6.669979982995604, -6.724189241405324, -6.7783680650411355, -6.832516101995738, -6.886633000480515, -6.940718408827508, -6.994771975491855, -7.048793349053766, -7.102782178221269, -7.156738111832254, -7.210660798856539, -7.264549888398597, -7.318405029699622, -7.372225872139565, -7.426012065239888, -7.479763258665605, -7.5334791022273375, -7.587159245884054, -7.640803339745033, -7.694411034072308, -7.74798197928263, -7.801515825950213, -7.855012224808765, -7.908470826753556, -7.961891282844137, -8.015273244306389, -8.068616362534577, -8.121920289094074, -8.175184675723404, -8.228409174336292, -8.281593437024389, -8.33473711605925, -8.387839863894735, -8.440901333168998, -8.4939211767072, -8.546899047523551, -8.599834598823357, -8.65272748400573, -8.705577356665644, -8.758383870595958, -8.811146679790145, -8.863865438444323, -8.916539800959299, -8.96916942194328, -9.021753956213903, -9.074293058800283, -9.126786384945712, -9.179233590109627, -9.231634329970012, -9.283988260425359, -9.336295037597369, -9.38855431783299, -9.44076575770644, -9.492929014021918, -9.54504374381562, -9.597109604357776, -9.649126253155348, -9.701093347954048, -9.753010546740372, -9.804877507744285, -9.856693889441184, -9.908459350554269, -9.960173550056515, -10.011836147173343, -10.063446801384643, -10.115005172426802, -10.166510920295368, -10.217963705247088, -10.269363187801908, -10.320709028745657, -10.372000889132064, -10.423238430284764, -10.474421313799976, -10.525549201548433, -10.576621755677769, -10.627638638614448, -10.678599513066427, -10.72950404202517, -10.780351888767647, -10.831142716858999, -10.881876190154529, -10.932551972801727, -10.983169729242901, -11.03372912421719, -11.08422982276256, -11.134671490218452, -11.185053792227768, -11.23537639473889, -11.285638964008296, -11.335841166602505, -11.3859826694004, -11.436063139595175, -11.486082244696945, -11.536039652534749, -11.585935031258535, -11.635768049341776, -11.685538375583459, -11.735245679110085, -11.784889629378256, -11.834469896176683, -11.883986149628152, -11.933438060192136, -11.982825298666713, -12.032147536190875, -12.08140444424644, -12.13059569466066, -12.179720959608183, -12.228779911613024, -12.277772223551167, -12.32669756865252, -12.37555562050289, -12.424346053046568, -12.473068540588288, -12.52172275779519, -12.570308379699405, -12.618825081699928, -12.667272539564934, -12.71565042943366, -12.763958427818972, -12.81219621160931, -12.860363458070653, -12.908459844849066, -12.956485049972656, -13.004438751853513, -13.05232062929026, -13.100130361470004, -13.147867627970264, -13.195532108761522, -13.243123484209164, -13.290641435075406, -13.338085642521836, -13.385455788111276, -13.432751553810048, -13.479972621989829, -13.527118675430188, -13.574189397320499, -13.62118447126186, -13.668103581269627, -13.714946411775314, -13.761712647628523, -13.808401974099443, -13.855014076880767, -13.901548642089601, -13.948005356269961, -13.994383906394624, -14.04068397986735, -14.086905264524718, -14.133047448638626, -14.179110220918176, -14.225093270511575, -14.27099628700862, -14.316818960442582, -14.362560981292102, -14.408222040483658, -14.453801829393443, -14.499300039849269, -14.544716364133011, -14.590050494982428, -14.635302125593356, -14.680470949621524, -14.725556661185003, -14.770558954866079, -14.815477525713105, -14.860312069242966, -14.905062281442918, -14.949727858772466, -14.994308498165786, -15.038803897033581, -15.083213753264943, -15.127537765229762, -15.171775631780584, -15.215927052254457, -15.25999172647534, -15.30396935475588, -15.347859637899568, -15.391662277202515, -15.435376974455849, -15.479003431947543, -15.522541352464254, -15.5659904392937, -15.609350396226487, -15.652620927557948, -15.695801738090491, -15.738892533135441, -15.781893018514845, -15.824802900563835, -15.867621886132389, -15.910349682587428, -15.952985997814576, -15.995530540220502, -16.03798301873472, -16.080343142811394, -16.122610622431676, -16.16478516810548, -16.206866490873313, -16.248854302308555, -16.29074831451928, -16.33254824015002, -16.374253792384096, -16.415864684945316, -16.45738063210006, -16.498801348658997, -16.540126549979373, -16.581355951966778, -16.622489271076926, -16.663526224317934, -16.704466529252063, -16.74530990399751, -16.786056067230653, -16.826704738187818, -16.86725563666702, -16.907708483030234, -16.948062998205124, -16.988318903686807, -17.028475921540068, -17.06853377440107, -17.108492185479363, -17.148350878559537, -17.188109578003466, -17.227768008752058, -17.267325896326923, -17.306782966832643, -17.34613894695845, -17.38539356397997, -17.424546545761405, -17.46359762075724, -17.50254651801398, -17.541392967172285, -17.580136698468674, -17.618777442737453, -17.657314931412365, -17.695748896528762, -17.734079070725304, -17.77230518724562, -17.810426979940488, -17.8484441832695, -17.886356532302752, -17.924163762722973, -17.96186561082721, -17.999461813528473, -18.036952108357895, -18.07433623346632, -18.111613927626216, -18.148784930233294, -18.185848981308617, -18.222805821500234, -18.259655192084836, -18.296396834969855, -18.333030492695105, -18.369555908434396, -18.40597282599766, -18.442280989832536, -18.478480145026023, -18.514570037306537, -18.550550413045542, -18.586421019259156, -18.62218160361021, -18.657831914409805, -18.69337170061918, -18.728800711851235, -18.764118698372595, -18.799325411105198, -18.834420601627883, -18.86940402217841, -18.90427542565506, -18.939034565618208, -18.973681196292326, -19.00821507256757, -19.04263595000134, -19.07694358482029, -19.111137733921836, -19.145218154875938, -19.17918460592664, -19.213036845994022, -19.246774634675766, -19.28039773224869, -19.313905899670715, -19.347298898582412, -19.380576491308513, -19.4137384408599, -19.44678451093508, -19.479714465921756, -19.51252807089874, -19.545225091637413, -19.5778052946035, -19.61026844695849, -19.64261431656158, -19.674842671971184, -19.70695328244639, -19.738945917948904, -19.770820349144515, -19.80257634740459, -19.834213684807953, -19.865732134142373, -19.897131468906025, -19.928411463309377, -19.95957189227664, -19.990612531447244, -20.021533157177693, -20.052333546542958, -20.083013477338177, -20.11357272808003, -20.14401107800859, -20.17432830708876, -20.204524196011715, -20.234598526196702, -20.264551079792486, -20.294381639678775, -20.324089989468, -20.35367591350677, -20.383139196877238, -20.412479625398927, -20.441696985630085, -20.470791064869267, -20.499761651156728, -20.528608533276163, -20.557331500756103, -20.585930343871308, -20.6144048536445, -20.64275482184776, -20.67098004100387, -20.69908030438808, -20.727055406029454, -20.754905140712232, -20.782629303977547, -20.810227692124748, -20.837700102212924, -20.865046332062235, -20.892266180255582, -20.91935944613996, -20.946325929827783, -20.973165432198563, -20.999877754900233, -21.026462700350468, -21.05292007173834, -21.079249673025636, -21.105451308948158, -21.13152478501738, -21.15746990752173, -21.18328648352789, -21.20897432088243, -21.234533228213046, -21.25996301493003, -21.285263491227518, -21.310434468085084, -21.335475757269013, -21.360387171333564, -21.38516852362256, -21.409819628270643, -21.434340300204514, -21.458730355144528, -21.4829896096059, -21.50711788089999, -21.531114987135812, -21.554980747221247, -21.578714980864447, -21.602317508575023, -21.625788151665557, -21.649126732252824, -21.672333073259008, -21.695406998413205, -21.71834833225261, -21.741156900123745, -21.76383252818391, -21.78637504340241, -21.80878427356169, -21.83106004725887, -21.853202193906853, -21.87521054373554, -21.89708492779327, -21.91882517794794, -21.94043112688834, -21.96190260812524, -21.983239455992862, -22.004441505649993, -22.025508593081128, -22.046440555097888, -22.067237229340144, -22.087898454277145, -22.10842406920891, -22.12881391426733, -22.14906783041731, -22.169185659458112, -22.18916724402445, -22.209012427587705, -22.228721054457033, -22.248292969780664, -22.26772801954703, -22.287026050585805, -22.306186910569277, -22.325210448013376, -22.344096512278764, -22.362844953572147, -22.381455622947307, -22.3999283723062, -22.41826305440019, -22.4364595228311, -22.45451763205239, -22.472437237370137, -22.490218194944312, -22.507860361789817, -22.52536359577748, -22.542727755635326, -22.559952700949555, -22.577038292165593, -22.59398439058927, -22.610790858387844, -22.627457558590994, -22.64398435509201, -22.66037111264879, -22.6766176968848, -22.692723974290285, -22.70868981222319, -22.724515078910258, -22.74019964344794, -22.75574337580359, -22.77114614681639, -22.78640782819829, -22.801528292535167, -22.816507413287752, -22.83134506479255, -22.846041122262974, -22.860595461790254, -22.875007960344355, -22.88927849577509, -22.903406946812986, -22.917393193070296, -22.931237115041874, -22.944938594106247, -22.958497512526513, -22.9719137534512, -22.985187200915334, -22.99831773984131, -23.011305256039755, -23.024149636210566, -23.036850767943754, -23.049408539720307, -23.061822840913212, -23.074093561788253, -23.086220593504954, -23.098203828117402, -23.110043158575206, -23.121738478724343, -23.133289683307975, -23.14469666796739, -23.15595932924284, -23.167077564574324, -23.178051272302532, -23.188880351669646, -23.19956470282013, -23.21010422680164, -23.22049882556581, -23.230748401969027, -23.24085285977333, -23.25081210364715, -23.260626039166162, -23.270294572814, -23.279817611983145, -23.289195064975658, -23.29842684100393, -23.307512850191532, -23.31645300357393, -23.32524721309922, -23.333895391628964, -23.342397452938883, -23.350753311719583, -23.35896288357737, -23.367026085034905, -23.374942833531996, -23.38271304742624, -23.390336645993816, -23.39781354943018, -23.4051436788507, -23.41232695629145, -23.419363304709872, -23.426252647985393, -23.432994910920215, -23.439590019239933, -23.44603789959418, -23.452338479557348, -23.45849168762921, -23.464497453235595, -23.470355706728984, -23.476066379389227, -23.481629403424115, -23.487044711970025, -23.492312239092563, -23.497431919787164, -23.502403689979687, -23.507227486527068, -23.511903247217866, -23.51643091077289, -23.52081041684577, -23.525041706023565, -23.529124719827287, -23.533059400712535, -23.536845692070013, -23.540483538226113, -23.54397288444344, -23.547313676921387, -23.55050586279667, -23.553549390143843, -23.55644420797585, -23.55919026624455, -23.561787515841186, -23.56423590859697, -23.566535397283538, -23.568685935613452, -23.570687478240714, -23.57253998076123, -23.57424339971332, -23.575797692578156, -23.577202817780268, -23.57845873468798, -23.57956540361388, -23.580522785815273, -23.581330843494612, -23.581989539799967, -23.58249883882542, -23.582858705611518, -23.583069106145697, -23.583130007362676, -23.58304137714488, -23.58280318432286, -23.58241539867564, -23.581877990931172, -23.581190932766674, -23.580354196809036, -23.57936775663517, -23.578231586772397, -23.576945662698805, -23.575509960843597, -23.573924458587438, -23.57218913426282, -23.570303967154373, -23.568268937499198, -23.566084026487214, -23.563749216261456, -23.561264489918397, -23.558629831508245, -23.55584522603527, -23.55291065945806, -23.549826118689836, -23.546591591598734, -23.543207067008073, -23.539672534696614, -23.53598798539886, -23.53215341080528, -23.528168803562565, -23.524034157273906, -23.51974946649919, -23.515314726755253, -23.51072993451612, -23.505995087213215, -23.501110183235568, -23.496075221930028, -23.49089020360149, -23.485555129513067, -23.48007000188626, -23.47443482390122, -23.46864959969684, -23.462714334370958, -23.45662903398057, -23.450393705541913, -23.44400835703068, -23.43747299738211, -23.430787636491218, -23.423952285212838, -23.416966955361787, -23.409831659713035, -23.402546412001744, -23.39511122692342, -23.387526120134037, -23.379791108250092, -23.371906208848714, -23.363871440467786, -23.35568682260597, -23.347352375722803, -23.3388681212388, -23.33023408153545, -23.32145027995532, -23.31251674080209, -23.30343348934061, -23.294200551796916, -23.284817955358243, -23.275285728173138, -23.26560389935137, -23.25577249896399, -23.245791558043376, -23.235661108583166, -23.225381183538268, -23.214951816824918, -23.204373043320548, -23.19364489886384, -23.182767420254667, -23.171740645254097, -23.160564612584274, -23.149239361928416, -23.1377649339308, -23.126141370196606, -23.114368713291903, -23.102447006743617, -23.090376295039352, -23.07815662362737, -23.065788038916516, -23.053270588276053, -23.04060432003561, -23.02778928348502, -23.01482552887431, -23.001713107413444, -22.988452071272242, -22.975042473580327, -22.96148436842684, -22.94777781086038, -22.933922856888874, -22.919919563479333, -22.905767988557713, -22.891468191008826, -22.877020230676028, -22.862424168361095, -22.8476800658241, -22.83278798578308, -22.81774799191393, -22.80256014885013, -22.78722452218264, -22.771741178459525, -22.756110185185804, -22.74033161082328, -22.72440552479016, -22.70833199746088, -22.692111100165924, -22.67574290519141, -22.65922748577891, -22.64256491612524, -22.62575527138205, -22.60879862765562, -22.59169506200653, -22.574444652449454, -22.55704747795273, -22.539503618438093, -22.521813154780453, -22.503976168807426, -22.485992743299082, -22.46786296198767, -22.449586909557137, -22.431164671642865, -22.412596334831385, -22.393881986659867, -22.37502171561586, -22.35601561113686, -22.336863763610054, -22.317566264371766, -22.298123205707146, -22.27853468084987, -22.25880078398155, -22.238921610231426, -22.21889725567604, -22.19872781733863, -22.178413393188798, -22.157954082142165, -22.137349984059753, -22.116601199747624, -22.095707830956535, -22.074669980381277, -22.053487751660356, -22.032161249375438, -22.01069057905102, -21.98907584715374, -21.967317161092, -21.94541462921556, -21.923368360814845, -21.901178466120527, -21.878845056303124, -21.856368243472286, -21.833748140676345, -21.810984861901908, -21.788078522073114, -21.765029237051216, -21.741837123633974, -21.718502299555226, -21.695024883484123, -21.671404995024673, -21.647642754715264, -21.623738284027862, -21.59969170536756, -21.57550314207207, -21.5511727184109, -21.526700559584892, -21.502086791725688, -21.477331541894905, -21.452434938083666, -21.42739710921189, -21.402218185127794, -21.376898296607052, -21.351437575352247, -21.325836153992324, -21.300094166081717, -21.274211746099784, -21.248189029450263, -21.22202615246036, -21.195723252380166, -21.169280467382105, -21.142697936559998, -21.11597579992847, -21.089114198422358, -21.062113273895783, -21.034973169121564, -21.007694027790414, -20.98027599451039, -20.952719214805878, -20.925023835117006, -20.897190002798993, -20.869217866121147, -20.841107574266243, -20.81285927732986, -20.78447312631937, -20.75594927315327, -20.727287870660533, -20.69848907257956, -20.669553033557545, -20.64047990914959, -20.61126985581807, -20.581923030931545, -20.552439592764085, -20.52281970049455, -20.493063514205517, -20.46317119488256, -20.433142904413522, -20.402978805587427, -20.37267906209373, -20.342243838521597, -20.311673300358763, -20.28096761399084, -20.25012694670034, -20.219151466665966, -20.188041342961455, -20.156796745554804, -20.125417845307506, -20.093904813973364, -20.06225782419771, -20.03047704951662, -19.998562664355703, -19.96651484402932, -19.934333764739748, -19.902019603576004, -19.869572538512983, -19.836992748410665, -19.80428041301287, -19.77143571294646, -19.738458829720287, -19.70534994572437, -19.672109244228672, -19.638736909382196, -19.605233126212156, -19.571598080622675, -19.537831959393937, -19.50393495018127, -19.469907241513887, -19.435749022793956, -19.401460484295743, -19.367041817164267, -19.332493213414438, -19.29781486592992, -19.263006968462264, -19.22806971562956, -19.193003302915496, -19.157807926668447, -19.12248378410009, -19.08703107328445, -19.051449993156996, -19.015740743513206, -18.97990352500762, -18.943938539152906, -18.907845988318407, -18.871626075729242, -18.83527900546507, -18.798804982459163, -18.76220421249697, -18.725476902215107, -18.688623259100375, -18.65164349148829, -18.614537808562083, -18.57730642035168, -18.539949537732216, -18.50246737242303, -18.464860136986612, -18.42712804482712, -18.389271310189336, -18.351290148157613, -18.313184774654367, -18.274955406439073, -18.23660226110692, -18.198125557087838, -18.15952551364492, -18.120802350873344, -18.081956289699328, -18.042987551878525, -18.00389635999495, -17.96468293745988, -17.925347508510278, -17.885890298207666, -17.846311532437035, -17.80661143790523, -17.766790242139876, -17.726848173488, -17.68678546111493, -17.646602335002683, -17.606299025948804, -17.56587576556524, -17.525332786276678, -17.484670321319392, -17.443888604740078, -17.402987871394185, -17.361968356944743, -17.3208302978612, -17.279573931417705, -17.238199495692008, -17.196707229563962, -17.155097372714398, -17.1133701656234, -17.071525849569117, -17.02956466662652, -16.987486859665704, -16.945292672350647, -16.902982349137975, -16.860556135275242, -16.818014276799655, -16.77535702053687, -16.732584614099196, -16.689697305884344, -16.6466953450742, -16.603578981632992, -16.560348466306124, -16.517004050618585, -16.473545986873745, -16.42997452815154, -16.38628992830718, -16.34249244196986, -16.298582324540952, -16.254559832192655, -16.21042522186675, -16.166178751272707, -16.121820678886387, -16.077351263948717, -16.032770766463845, -15.988079447197824, -15.94327756767703, -15.898365390186852, -15.8533431777698, -15.808211194224167, -15.762969704102687, -15.717618972710595, -15.672159266104293, -15.626590851089972, -15.580913995221685, -15.535128966799967, -15.489236034870466, -15.443235469221985, -15.397127540385096, -15.350912519630754, -15.304590678968323, -15.258162291144235, -15.211627629640269, -15.164986968672208, -15.118240583187845, -15.071388748865557, -15.024431742112887, -14.977369840064533, -14.93020332058091, -14.882932462246727, -14.835557544368937, -14.788078846975308, -14.740496650812965, -14.692811237346344, -14.645022888755795, -14.5971318879358, -14.549138518493557, -14.501043064746913, -14.452845811722893, -14.404547045156214, -14.356147051487191, -14.30764611786026, -14.259044532122473, -14.210342582821403, -14.161540559203614, -14.11263875121319, -14.063637449489592, -14.014536945366206, -13.965337530868487, -13.916039498712514, -13.866643142302822, -13.817148755730875, -13.767556633773548, -13.717867071890938, -13.668080366224824, -13.61819681359713, -13.568216711507729, -13.518140358132891, -13.467968052323721, -13.417700093603953, -13.367336782168389, -13.316878418881322, -13.266325305274313, -13.215677743544685, -13.164936036553579, -13.11410048782444, -13.063171401540759, -13.012149082544493, -12.96103383633446, -12.90982596906407, -12.858525787539723, -12.807133599219199, -12.755649712209372, -12.70407443526459, -12.652408077785058, -12.600650949814533, -12.548803362038777, -12.49686562578354, -12.444838053012985, -12.392720956327397, -12.340514648961511, -12.288219444782866, -12.23583565828948, -12.183363604608173, -12.130803599492923, -12.078155959322498, -12.025421001098795, -11.97259904244516, -11.91969040160402, -11.866695397435286, -11.813614349414273, -11.76044757763008, -11.707195402783217, -11.653858146183905, -11.600436129750358, -11.546929676006393, -11.493339108079722, -11.439664749700226, -11.385906925197546, -11.33206595949936, -11.278142178129647, -11.224135907206275, -11.170047473439247, -11.11587720412897, -11.061625427163813, -11.007292471018435, -10.952878664751644, -10.89838433800472, -10.843809820998954, -10.789155444533888, -10.734421539985536, -10.679608439303927, -10.624716475011315, -10.56974598020041, -10.514697288531883, -10.459570734232582, -10.404366652093744, -10.349085377468489, -10.293727246270105, -10.238292594969852, -10.18278176059523, -10.127195080727468, -10.071532893499706, -10.015795537595176, -9.959983352244675, -9.904096677224741, -9.848135852855822, -9.792101219999727, -9.735993120057804, -9.679811894969083, -9.623557887207731, -9.567231439781288, -9.510832896228402, -9.454362600617074, -9.39782089754207, -9.34120813212307, -9.284524650002798, -9.227770797344428, -9.170946920829731, -9.114053367657183, -9.057090485539373, -9.000058622701118, -8.942958127877583, -8.885789350311658, -8.828552639752075, -8.771248346451513, -8.713876821163964, -8.65643841514292, -8.598933480139056, -8.541362368398412, -8.483725432659737, -8.426023026152583, -8.36825550259539, -8.310423216192818, -8.252526521633836, -8.194565774089778, -8.13654132921169, -8.07845354312839, -8.020302772444529, -7.96208937423791, -7.903813706057628, -7.845476125921711, -7.787076992315254, -7.728616664187717, -7.670095500950974, -7.611513862477347, -7.552872109096908, -7.494170601595504, -7.435409701212788, -7.376589769639502, -7.317711169015508, -7.258774261927792, -7.199779411407755, -7.140726980929292, -7.081617334406402, -7.022450836191267, -6.963227851071524, -6.903948744268248, -6.844613881433967, -6.785223628649903, -6.725778352423955, -6.666278419688708, -6.60672419779865, -6.547116054528164, -6.487454358069513, -6.427739477030056, -6.36797178043023, -6.308151637701518, -6.248279418683662, -6.188355493622722, -6.128380233168607, -6.068354008373132, -6.008277190687208, -5.948150151958805, -5.8879732644309, -5.82774690073867, -5.767471433907433, -5.7071472373506005, -5.646774684866853, -5.586354150638075, -5.5258860092273006, -5.465370635575873, -5.404808405001466, -5.344199693195587, -5.283544876221586, -5.222844330511811, -5.162098432865531, -5.101307560446854, -5.040472090781868, -4.97959240175656, -4.918668871614724, -4.857701878955098, -4.796691802729264, -4.735639022239562, -4.674543917136207, -4.613406867415273, -4.552228253416166, -4.491008455819596, -4.429747855644693, -4.368446834246895, -4.307105773315836, -4.24572505487245, -4.184305061266846, -4.122846175176199, -4.061348779601834, -3.999813257867108, -3.938239993615276, -3.876629370806583, -3.8149817737161262, -3.753297586931725, -3.6915771953509955, -3.629820984179299, -3.5680293389271642, -3.50620264540823, -3.444341289736313, -3.382445658323258, -3.320516137876788, -3.258553115397561, -3.1965569781770196, -3.134528113795228, -3.0724669101179263, -3.0103737552943675, -2.9482490377551533, -2.886093146209279, -2.8239064696420524, -2.761689397312482, -2.6994423187511947, -2.637165623757469, -2.574859702397058, -2.512524945000009, -2.4501617421576927, -2.387770484720618, -2.3253515637962487, -2.262905370746022, -2.2004322971831582, -2.137932734970472, -2.075407076217385, -2.012855713277816, -1.9502790387475455, -1.887677445462104, -1.8250513264937755, -1.762401075149396, -1.6997270849681467, -1.637029749718553, -1.574309463396275, -1.511566620221899, -1.448801614637926, -1.386014841306559, -1.3232066951074883, -1.2603775711348744, -1.1975278646951288, -1.1346579713046958, -1.0717682866870266, -1.0088592067704476, -0.945931127685488, -0.8829844457627415, -0.8200195575298367, -0.7570368597092064, -0.6940367492158543, -0.63101962315432, -0.5679858788164434, -0.504935913679126, -0.44187012540129167, -0.37878891182164426, -0.3156926709564266, -0.2525818009963737, -0.18945670030455636, -0.12631776741368864, -0.06316540102396846, -2.462298487963891e-14]}, "id": "ccba5595-af37-4870-acad-c01ab8da20c2", "discrete_ranges": {}, "column_names": ["x", "y"], "cont_ranges": {}, "doc": "b0e5ddd7-c6b3-4637-9b38-c8f81794246d"}, "id": "ccba5595-af37-4870-acad-c01ab8da20c2"}];
                Bokeh.load_models(all_models);
                var model = Bokeh.Collections(modeltype).get(modelid);
                var view = new model.default_view({model: model, el: '#66076f04-c804-4634-a5cc-5abfa74afa57'});
            });
        </script>
    </head>
    <body>
        <div class="plotdiv" id="66076f04-c804-4634-a5cc-5abfa74afa57"></div>
    </body>
</html>